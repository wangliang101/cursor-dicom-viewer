function lL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function No(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aQ(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var cL={exports:{}},k3={},uL={exports:{}},nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=Symbol.for("react.element"),iQ=Symbol.for("react.portal"),oQ=Symbol.for("react.fragment"),sQ=Symbol.for("react.strict_mode"),lQ=Symbol.for("react.profiler"),cQ=Symbol.for("react.provider"),uQ=Symbol.for("react.context"),fQ=Symbol.for("react.forward_ref"),dQ=Symbol.for("react.suspense"),gQ=Symbol.for("react.memo"),mQ=Symbol.for("react.lazy"),oE=Symbol.iterator;function vQ(t){return t===null||typeof t!="object"?null:(t=oE&&t[oE]||t["@@iterator"],typeof t=="function"?t:null)}var fL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dL=Object.assign,gL={};function j1(t,e,n){this.props=t,this.context=e,this.refs=gL,this.updater=n||fL}j1.prototype.isReactComponent={};j1.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};j1.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mL(){}mL.prototype=j1.prototype;function Ex(t,e,n){this.props=t,this.context=e,this.refs=gL,this.updater=n||fL}var Dx=Ex.prototype=new mL;Dx.constructor=Ex;dL(Dx,j1.prototype);Dx.isPureReactComponent=!0;var sE=Array.isArray,vL=Object.prototype.hasOwnProperty,Ox={current:null},pL={key:!0,ref:!0,__self:!0,__source:!0};function hL(t,e,n){var r,a={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)vL.call(e,r)&&!pL.hasOwnProperty(r)&&(a[r]=e[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:tp,type:t,key:i,ref:o,props:a,_owner:Ox.current}}function pQ(t,e){return{$$typeof:tp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rx(t){return typeof t=="object"&&t!==null&&t.$$typeof===tp}function hQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lE=/\/+/g;function ky(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hQ(""+t.key):e.toString(36)}function e2(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case tp:case iQ:o=!0}}if(o)return o=t,a=a(o),t=r===""?"."+ky(o,0):r,sE(a)?(n="",t!=null&&(n=t.replace(lE,"$&/")+"/"),e2(a,e,n,"",function(c){return c})):a!=null&&(Rx(a)&&(a=pQ(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(lE,"$&/")+"/")+t)),e.push(a)),1;if(o=0,r=r===""?".":r+":",sE(t))for(var s=0;s<t.length;s++){i=t[s];var l=r+ky(i,s);o+=e2(i,e,n,l,a)}else if(l=vQ(t),typeof l=="function")for(t=l.call(t),s=0;!(i=t.next()).done;)i=i.value,l=r+ky(i,s++),o+=e2(i,e,n,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Up(t,e,n){if(t==null)return t;var r=[],a=0;return e2(t,r,"","",function(i){return e.call(n,i,a++)}),r}function SQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ki={current:null},t2={transition:null},yQ={ReactCurrentDispatcher:Ki,ReactCurrentBatchConfig:t2,ReactCurrentOwner:Ox};function SL(){throw Error("act(...) is not supported in production builds of React.")}nr.Children={map:Up,forEach:function(t,e,n){Up(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Up(t,function(){e++}),e},toArray:function(t){return Up(t,function(e){return e})||[]},only:function(t){if(!Rx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nr.Component=j1;nr.Fragment=oQ;nr.Profiler=lQ;nr.PureComponent=Ex;nr.StrictMode=sQ;nr.Suspense=dQ;nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yQ;nr.act=SL;nr.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dL({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ox.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)vL.call(e,l)&&!pL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:tp,type:t.type,key:a,ref:i,props:r,_owner:o}};nr.createContext=function(t){return t={$$typeof:uQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cQ,_context:t},t.Consumer=t};nr.createElement=hL;nr.createFactory=function(t){var e=hL.bind(null,t);return e.type=t,e};nr.createRef=function(){return{current:null}};nr.forwardRef=function(t){return{$$typeof:fQ,render:t}};nr.isValidElement=Rx;nr.lazy=function(t){return{$$typeof:mQ,_payload:{_status:-1,_result:t},_init:SQ}};nr.memo=function(t,e){return{$$typeof:gQ,type:t,compare:e===void 0?null:e}};nr.startTransition=function(t){var e=t2.transition;t2.transition={};try{t()}finally{t2.transition=e}};nr.unstable_act=SL;nr.useCallback=function(t,e){return Ki.current.useCallback(t,e)};nr.useContext=function(t){return Ki.current.useContext(t)};nr.useDebugValue=function(){};nr.useDeferredValue=function(t){return Ki.current.useDeferredValue(t)};nr.useEffect=function(t,e){return Ki.current.useEffect(t,e)};nr.useId=function(){return Ki.current.useId()};nr.useImperativeHandle=function(t,e,n){return Ki.current.useImperativeHandle(t,e,n)};nr.useInsertionEffect=function(t,e){return Ki.current.useInsertionEffect(t,e)};nr.useLayoutEffect=function(t,e){return Ki.current.useLayoutEffect(t,e)};nr.useMemo=function(t,e){return Ki.current.useMemo(t,e)};nr.useReducer=function(t,e,n){return Ki.current.useReducer(t,e,n)};nr.useRef=function(t){return Ki.current.useRef(t)};nr.useState=function(t){return Ki.current.useState(t)};nr.useSyncExternalStore=function(t,e,n){return Ki.current.useSyncExternalStore(t,e,n)};nr.useTransition=function(){return Ki.current.useTransition()};nr.version="18.3.1";uL.exports=nr;var S=uL.exports;const Oe=No(S),np=lL({__proto__:null,default:Oe},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CQ=S,xQ=Symbol.for("react.element"),TQ=Symbol.for("react.fragment"),wQ=Object.prototype.hasOwnProperty,bQ=CQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EQ={key:!0,ref:!0,__self:!0,__source:!0};function yL(t,e,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wQ.call(e,r)&&!EQ.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:xQ,type:t,key:i,ref:o,props:a,_owner:bQ.current}}k3.Fragment=TQ;k3.jsx=yL;k3.jsxs=yL;cL.exports=k3;var kn=cL.exports,CL={exports:{}},Fo={},xL={exports:{}},TL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,P){var N=_.length;_.push(P);e:for(;0<N;){var k=N-1>>>1,H=_[k];if(0<a(H,P))_[k]=P,_[N]=H,N=k;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var P=_[0],N=_.pop();if(N!==P){_[0]=N;e:for(var k=0,H=_.length,K=H>>>1;k<K;){var te=2*(k+1)-1,se=_[te],pe=te+1,ve=_[pe];if(0>a(se,N))pe<H&&0>a(ve,se)?(_[k]=ve,_[pe]=N,k=pe):(_[k]=se,_[te]=N,k=te);else if(pe<H&&0>a(ve,N))_[k]=ve,_[pe]=N,k=pe;else break e}}return P}function a(_,P){var N=_.sortIndex-P.sortIndex;return N!==0?N:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],f=1,u=null,d=3,g=!1,v=!1,m=!1,p=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(_){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=_)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function x(_){if(m=!1,C(_),!v)if(n(l)!==null)v=!0,L(T);else{var P=n(c);P!==null&&F(x,P.startTime-_)}}function T(_,P){v=!1,m&&(m=!1,h(E),E=-1),g=!0;var N=d;try{for(C(P),u=n(l);u!==null&&(!(u.expirationTime>P)||_&&!R());){var k=u.callback;if(typeof k=="function"){u.callback=null,d=u.priorityLevel;var H=k(u.expirationTime<=P);P=t.unstable_now(),typeof H=="function"?u.callback=H:u===n(l)&&r(l),C(P)}else r(l);u=n(l)}if(u!==null)var K=!0;else{var te=n(c);te!==null&&F(x,te.startTime-P),K=!1}return K}finally{u=null,d=N,g=!1}}var w=!1,b=null,E=-1,O=5,D=-1;function R(){return!(t.unstable_now()-D<O)}function I(){if(b!==null){var _=t.unstable_now();D=_;var P=!0;try{P=b(!0,_)}finally{P?M():(w=!1,b=null)}}else w=!1}var M;if(typeof y=="function")M=function(){y(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,B=A.port2;A.port1.onmessage=I,M=function(){B.postMessage(null)}}else M=function(){p(I,0)};function L(_){b=_,w||(w=!0,M())}function F(_,P){E=p(function(){_(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,L(T))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(_){switch(d){case 1:case 2:case 3:var P=3;break;default:P=d}var N=d;d=P;try{return _()}finally{d=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var N=d;d=_;try{return P()}finally{d=N}},t.unstable_scheduleCallback=function(_,P,N){var k=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?k+N:k):N=k,_){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=N+H,_={id:f++,callback:P,priorityLevel:_,startTime:N,expirationTime:H,sortIndex:-1},N>k?(_.sortIndex=N,e(c,_),n(l)===null&&_===n(c)&&(m?(h(E),E=-1):m=!0,F(x,N-k))):(_.sortIndex=H,e(l,_),v||g||(v=!0,L(T))),_},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(_){var P=d;return function(){var N=d;d=P;try{return _.apply(this,arguments)}finally{d=N}}}})(TL);xL.exports=TL;var DQ=xL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OQ=S,Lo=DQ;function kt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wL=new Set,ev={};function Sf(t,e){r1(t,e),r1(t+"Capture",e)}function r1(t,e){for(ev[t]=e,t=0;t<e.length;t++)wL.add(e[t])}var tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iC=Object.prototype.hasOwnProperty,RQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cE={},uE={};function IQ(t){return iC.call(uE,t)?!0:iC.call(cE,t)?!1:RQ.test(t)?uE[t]=!0:(cE[t]=!0,!1)}function AQ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MQ(t,e,n,r){if(e===null||typeof e>"u"||AQ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qi(t,e,n,r,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ci[t]=new Qi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ci[e]=new Qi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ci[t]=new Qi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ci[t]=new Qi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ci[t]=new Qi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ci[t]=new Qi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ci[t]=new Qi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ci[t]=new Qi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ci[t]=new Qi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ix=/[\-:]([a-z])/g;function Ax(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ix,Ax);Ci[e]=new Qi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ix,Ax);Ci[e]=new Qi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ix,Ax);Ci[e]=new Qi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ci[t]=new Qi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new Qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ci[t]=new Qi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mx(t,e,n,r){var a=Ci.hasOwnProperty(e)?Ci[e]:null;(a!==null?a.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MQ(e,n,a,r)&&(n=null),r||a===null?IQ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cl=OQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bp=Symbol.for("react.element"),ld=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),oC=Symbol.for("react.profiler"),bL=Symbol.for("react.provider"),EL=Symbol.for("react.context"),Lx=Symbol.for("react.forward_ref"),sC=Symbol.for("react.suspense"),lC=Symbol.for("react.suspense_list"),_x=Symbol.for("react.memo"),jl=Symbol.for("react.lazy"),DL=Symbol.for("react.offscreen"),fE=Symbol.iterator;function yg(t){return t===null||typeof t!="object"?null:(t=fE&&t[fE]||t["@@iterator"],typeof t=="function"?t:null)}var Ta=Object.assign,Uy;function Yg(t){if(Uy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uy=e&&e[1]||""}return`
`+Uy+t}var By=!1;function Gy(t,e){if(!t||By)return"";By=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{By=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yg(t):""}function PQ(t){switch(t.tag){case 5:return Yg(t.type);case 16:return Yg("Lazy");case 13:return Yg("Suspense");case 19:return Yg("SuspenseList");case 0:case 2:case 15:return t=Gy(t.type,!1),t;case 11:return t=Gy(t.type.render,!1),t;case 1:return t=Gy(t.type,!0),t;default:return""}}function cC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cd:return"Fragment";case ld:return"Portal";case oC:return"Profiler";case Px:return"StrictMode";case sC:return"Suspense";case lC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EL:return(t.displayName||"Context")+".Consumer";case bL:return(t._context.displayName||"Context")+".Provider";case Lx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _x:return e=t.displayName||null,e!==null?e:cC(t.type)||"Memo";case jl:e=t._payload,t=t._init;try{return cC(t(e))}catch{}}return null}function LQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cC(e);case 8:return e===Px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _Q(t){var e=OL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gp(t){t._valueTracker||(t._valueTracker=_Q(t))}function RL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function J2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uC(t,e){var n=e.checked;return Ta({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IL(t,e){e=e.checked,e!=null&&Mx(t,"checked",e,!1)}function fC(t,e){IL(t,e);var n=bc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dC(t,e.type,n):e.hasOwnProperty("defaultValue")&&dC(t,e.type,bc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dC(t,e,n){(e!=="number"||J2(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zg=Array.isArray;function Pd(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bc(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function gC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(kt(91));return Ta({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(kt(92));if(Zg(n)){if(1<n.length)throw Error(kt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bc(n)}}function AL(t,e){var n=bc(e.value),r=bc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ML(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ML(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zp,PL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zp=zp||document.createElement("div"),zp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ym={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NQ=["Webkit","ms","Moz","O"];Object.keys(ym).forEach(function(t){NQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ym[e]=ym[t]})});function LL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ym.hasOwnProperty(t)&&ym[t]?(""+e).trim():e+"px"}function _L(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=LL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var FQ=Ta({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vC(t,e){if(e){if(FQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(kt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(kt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(kt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(kt(62))}}function pC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hC=null;function Nx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var SC=null,Ld=null,_d=null;function pE(t){if(t=ip(t)){if(typeof SC!="function")throw Error(kt(280));var e=t.stateNode;e&&(e=W3(e),SC(t.stateNode,t.type,e))}}function NL(t){Ld?_d?_d.push(t):_d=[t]:Ld=t}function FL(){if(Ld){var t=Ld,e=_d;if(_d=Ld=null,pE(t),e)for(t=0;t<e.length;t++)pE(e[t])}}function $L(t,e){return t(e)}function VL(){}var zy=!1;function kL(t,e,n){if(zy)return t(e,n);zy=!0;try{return $L(t,e,n)}finally{zy=!1,(Ld!==null||_d!==null)&&(VL(),FL())}}function nv(t,e){var n=t.stateNode;if(n===null)return null;var r=W3(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(kt(231,e,typeof n));return n}var yC=!1;if(tl)try{var Cg={};Object.defineProperty(Cg,"passive",{get:function(){yC=!0}}),window.addEventListener("test",Cg,Cg),window.removeEventListener("test",Cg,Cg)}catch{yC=!1}function $Q(t,e,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Cm=!1,eS=null,tS=!1,CC=null,VQ={onError:function(t){Cm=!0,eS=t}};function kQ(t,e,n,r,a,i,o,s,l){Cm=!1,eS=null,$Q.apply(VQ,arguments)}function UQ(t,e,n,r,a,i,o,s,l){if(kQ.apply(this,arguments),Cm){if(Cm){var c=eS;Cm=!1,eS=null}else throw Error(kt(198));tS||(tS=!0,CC=c)}}function yf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hE(t){if(yf(t)!==t)throw Error(kt(188))}function BQ(t){var e=t.alternate;if(!e){if(e=yf(t),e===null)throw Error(kt(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return hE(a),t;if(i===r)return hE(a),e;i=i.sibling}throw Error(kt(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(kt(189))}}if(n.alternate!==r)throw Error(kt(190))}if(n.tag!==3)throw Error(kt(188));return n.stateNode.current===n?t:e}function BL(t){return t=BQ(t),t!==null?GL(t):null}function GL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GL(t);if(e!==null)return e;t=t.sibling}return null}var zL=Lo.unstable_scheduleCallback,SE=Lo.unstable_cancelCallback,GQ=Lo.unstable_shouldYield,zQ=Lo.unstable_requestPaint,_a=Lo.unstable_now,WQ=Lo.unstable_getCurrentPriorityLevel,Fx=Lo.unstable_ImmediatePriority,WL=Lo.unstable_UserBlockingPriority,nS=Lo.unstable_NormalPriority,jQ=Lo.unstable_LowPriority,jL=Lo.unstable_IdlePriority,U3=null,t0=null;function HQ(t){if(t0&&typeof t0.onCommitFiberRoot=="function")try{t0.onCommitFiberRoot(U3,t,void 0,(t.current.flags&128)===128)}catch{}}var Is=Math.clz32?Math.clz32:QQ,qQ=Math.log,KQ=Math.LN2;function QQ(t){return t>>>=0,t===0?32:31-(qQ(t)/KQ|0)|0}var Wp=64,jp=4194304;function Jg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rS(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=Jg(s):(i&=o,i!==0&&(r=Jg(i)))}else o=n&~a,o!==0?r=Jg(o):i!==0&&(r=Jg(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&a)&&(a=r&-r,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Is(e),a=1<<n,r|=t[n],e&=~a;return r}function XQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YQ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Is(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=XQ(s,e)):l<=e&&(t.expiredLanes|=s),i&=~s}}function xC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HL(){var t=Wp;return Wp<<=1,!(Wp&4194240)&&(Wp=64),t}function Wy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Is(e),t[e]=n}function ZQ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-Is(n),i=1<<a;e[a]=0,r[a]=-1,t[a]=-1,n&=~i}}function $x(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Is(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}var Lr=0;function qL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KL,Vx,QL,XL,YL,TC=!1,Hp=[],gc=null,mc=null,vc=null,rv=new Map,av=new Map,Yl=[],JQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yE(t,e){switch(t){case"focusin":case"focusout":gc=null;break;case"dragenter":case"dragleave":mc=null;break;case"mouseover":case"mouseout":vc=null;break;case"pointerover":case"pointerout":rv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":av.delete(e.pointerId)}}function xg(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=ip(e),e!==null&&Vx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function eX(t,e,n,r,a){switch(e){case"focusin":return gc=xg(gc,t,e,n,r,a),!0;case"dragenter":return mc=xg(mc,t,e,n,r,a),!0;case"mouseover":return vc=xg(vc,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return rv.set(i,xg(rv.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,av.set(i,xg(av.get(i)||null,t,e,n,r,a)),!0}return!1}function ZL(t){var e=Iu(t.target);if(e!==null){var n=yf(e);if(n!==null){if(e=n.tag,e===13){if(e=UL(n),e!==null){t.blockedOn=e,YL(t.priority,function(){QL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hC=r,n.target.dispatchEvent(r),hC=null}else return e=ip(n),e!==null&&Vx(e),t.blockedOn=n,!1;e.shift()}return!0}function CE(t,e,n){n2(t)&&n.delete(e)}function tX(){TC=!1,gc!==null&&n2(gc)&&(gc=null),mc!==null&&n2(mc)&&(mc=null),vc!==null&&n2(vc)&&(vc=null),rv.forEach(CE),av.forEach(CE)}function Tg(t,e){t.blockedOn===e&&(t.blockedOn=null,TC||(TC=!0,Lo.unstable_scheduleCallback(Lo.unstable_NormalPriority,tX)))}function iv(t){function e(a){return Tg(a,t)}if(0<Hp.length){Tg(Hp[0],t);for(var n=1;n<Hp.length;n++){var r=Hp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gc!==null&&Tg(gc,t),mc!==null&&Tg(mc,t),vc!==null&&Tg(vc,t),rv.forEach(e),av.forEach(e),n=0;n<Yl.length;n++)r=Yl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yl.length&&(n=Yl[0],n.blockedOn===null);)ZL(n),n.blockedOn===null&&Yl.shift()}var Nd=cl.ReactCurrentBatchConfig,aS=!0;function nX(t,e,n,r){var a=Lr,i=Nd.transition;Nd.transition=null;try{Lr=1,kx(t,e,n,r)}finally{Lr=a,Nd.transition=i}}function rX(t,e,n,r){var a=Lr,i=Nd.transition;Nd.transition=null;try{Lr=4,kx(t,e,n,r)}finally{Lr=a,Nd.transition=i}}function kx(t,e,n,r){if(aS){var a=wC(t,e,n,r);if(a===null)e4(t,e,r,iS,n),yE(t,r);else if(eX(a,t,e,n,r))r.stopPropagation();else if(yE(t,r),e&4&&-1<JQ.indexOf(t)){for(;a!==null;){var i=ip(a);if(i!==null&&KL(i),i=wC(t,e,n,r),i===null&&e4(t,e,r,iS,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else e4(t,e,r,null,n)}}var iS=null;function wC(t,e,n,r){if(iS=null,t=Nx(r),t=Iu(t),t!==null)if(e=yf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iS=t,null}function JL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WQ()){case Fx:return 1;case WL:return 4;case nS:case jQ:return 16;case jL:return 536870912;default:return 16}default:return 16}}var rc=null,Ux=null,r2=null;function e_(){if(r2)return r2;var t,e=Ux,n=e.length,r,a="value"in rc?rc.value:rc.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===a[i-r];r++);return r2=a.slice(t,1<r?1-r:void 0)}function a2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qp(){return!0}function xE(){return!1}function $o(t){function e(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qp:xE,this.isPropagationStopped=xE,this}return Ta(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qp)},persist:function(){},isPersistent:qp}),e}var H1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bx=$o(H1),ap=Ta({},H1,{view:0,detail:0}),aX=$o(ap),jy,Hy,wg,B3=Ta({},ap,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wg&&(wg&&t.type==="mousemove"?(jy=t.screenX-wg.screenX,Hy=t.screenY-wg.screenY):Hy=jy=0,wg=t),jy)},movementY:function(t){return"movementY"in t?t.movementY:Hy}}),TE=$o(B3),iX=Ta({},B3,{dataTransfer:0}),oX=$o(iX),sX=Ta({},ap,{relatedTarget:0}),qy=$o(sX),lX=Ta({},H1,{animationName:0,elapsedTime:0,pseudoElement:0}),cX=$o(lX),uX=Ta({},H1,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fX=$o(uX),dX=Ta({},H1,{data:0}),wE=$o(dX),gX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vX[t])?!!e[t]:!1}function Gx(){return pX}var hX=Ta({},ap,{key:function(t){if(t.key){var e=gX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=a2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gx,charCode:function(t){return t.type==="keypress"?a2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?a2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SX=$o(hX),yX=Ta({},B3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bE=$o(yX),CX=Ta({},ap,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gx}),xX=$o(CX),TX=Ta({},H1,{propertyName:0,elapsedTime:0,pseudoElement:0}),wX=$o(TX),bX=Ta({},B3,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EX=$o(bX),DX=[9,13,27,32],zx=tl&&"CompositionEvent"in window,xm=null;tl&&"documentMode"in document&&(xm=document.documentMode);var OX=tl&&"TextEvent"in window&&!xm,t_=tl&&(!zx||xm&&8<xm&&11>=xm),EE=" ",DE=!1;function n_(t,e){switch(t){case"keyup":return DX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ud=!1;function RX(t,e){switch(t){case"compositionend":return r_(e);case"keypress":return e.which!==32?null:(DE=!0,EE);case"textInput":return t=e.data,t===EE&&DE?null:t;default:return null}}function IX(t,e){if(ud)return t==="compositionend"||!zx&&n_(t,e)?(t=e_(),r2=Ux=rc=null,ud=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t_&&e.locale!=="ko"?null:e.data;default:return null}}var AX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AX[t.type]:e==="textarea"}function a_(t,e,n,r){NL(r),e=oS(e,"onChange"),0<e.length&&(n=new Bx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tm=null,ov=null;function MX(t){v_(t,0)}function G3(t){var e=gd(t);if(RL(e))return t}function PX(t,e){if(t==="change")return e}var i_=!1;if(tl){var Ky;if(tl){var Qy="oninput"in document;if(!Qy){var RE=document.createElement("div");RE.setAttribute("oninput","return;"),Qy=typeof RE.oninput=="function"}Ky=Qy}else Ky=!1;i_=Ky&&(!document.documentMode||9<document.documentMode)}function IE(){Tm&&(Tm.detachEvent("onpropertychange",o_),ov=Tm=null)}function o_(t){if(t.propertyName==="value"&&G3(ov)){var e=[];a_(e,ov,t,Nx(t)),kL(MX,e)}}function LX(t,e,n){t==="focusin"?(IE(),Tm=e,ov=n,Tm.attachEvent("onpropertychange",o_)):t==="focusout"&&IE()}function _X(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return G3(ov)}function NX(t,e){if(t==="click")return G3(e)}function FX(t,e){if(t==="input"||t==="change")return G3(e)}function $X(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:$X;function sv(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!iC.call(e,a)||!Ls(t[a],e[a]))return!1}return!0}function AE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ME(t,e){var n=AE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AE(n)}}function s_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l_(){for(var t=window,e=J2();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=J2(t.document)}return e}function Wx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VX(t){var e=l_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s_(n.ownerDocument.documentElement,n)){if(r!==null&&Wx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=ME(n,i);var o=ME(n,r);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kX=tl&&"documentMode"in document&&11>=document.documentMode,fd=null,bC=null,wm=null,EC=!1;function PE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;EC||fd==null||fd!==J2(r)||(r=fd,"selectionStart"in r&&Wx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wm&&sv(wm,r)||(wm=r,r=oS(bC,"onSelect"),0<r.length&&(e=new Bx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fd)))}function Kp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dd={animationend:Kp("Animation","AnimationEnd"),animationiteration:Kp("Animation","AnimationIteration"),animationstart:Kp("Animation","AnimationStart"),transitionend:Kp("Transition","TransitionEnd")},Xy={},c_={};tl&&(c_=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function z3(t){if(Xy[t])return Xy[t];if(!dd[t])return t;var e=dd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in c_)return Xy[t]=e[n];return t}var u_=z3("animationend"),f_=z3("animationiteration"),d_=z3("animationstart"),g_=z3("transitionend"),m_=new Map,LE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nc(t,e){m_.set(t,e),Sf(e,[t])}for(var Yy=0;Yy<LE.length;Yy++){var Zy=LE[Yy],UX=Zy.toLowerCase(),BX=Zy[0].toUpperCase()+Zy.slice(1);Nc(UX,"on"+BX)}Nc(u_,"onAnimationEnd");Nc(f_,"onAnimationIteration");Nc(d_,"onAnimationStart");Nc("dblclick","onDoubleClick");Nc("focusin","onFocus");Nc("focusout","onBlur");Nc(g_,"onTransitionEnd");r1("onMouseEnter",["mouseout","mouseover"]);r1("onMouseLeave",["mouseout","mouseover"]);r1("onPointerEnter",["pointerout","pointerover"]);r1("onPointerLeave",["pointerout","pointerover"]);Sf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var em="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GX=new Set("cancel close invalid load scroll toggle".split(" ").concat(em));function _E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UQ(r,e,void 0,t),t.currentTarget=null}function v_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;_E(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;_E(a,s,c),i=l}}}if(tS)throw t=CC,tS=!1,CC=null,t}function na(t,e){var n=e[AC];n===void 0&&(n=e[AC]=new Set);var r=t+"__bubble";n.has(r)||(p_(e,t,2,!1),n.add(r))}function Jy(t,e,n){var r=0;e&&(r|=4),p_(n,t,r,e)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function lv(t){if(!t[Qp]){t[Qp]=!0,wL.forEach(function(n){n!=="selectionchange"&&(GX.has(n)||Jy(n,!1,t),Jy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qp]||(e[Qp]=!0,Jy("selectionchange",!1,e))}}function p_(t,e,n,r){switch(JL(e)){case 1:var a=nX;break;case 4:a=rX;break;default:a=kx}n=a.bind(null,e,n,t),a=void 0,!yC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function e4(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Iu(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}kL(function(){var c=i,f=Nx(n),u=[];e:{var d=m_.get(t);if(d!==void 0){var g=Bx,v=t;switch(t){case"keypress":if(a2(n)===0)break e;case"keydown":case"keyup":g=SX;break;case"focusin":v="focus",g=qy;break;case"focusout":v="blur",g=qy;break;case"beforeblur":case"afterblur":g=qy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=TE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=oX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=xX;break;case u_:case f_:case d_:g=cX;break;case g_:g=wX;break;case"scroll":g=aX;break;case"wheel":g=EX;break;case"copy":case"cut":case"paste":g=fX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bE}var m=(e&4)!==0,p=!m&&t==="scroll",h=m?d!==null?d+"Capture":null:d;m=[];for(var y=c,C;y!==null;){C=y;var x=C.stateNode;if(C.tag===5&&x!==null&&(C=x,h!==null&&(x=nv(y,h),x!=null&&m.push(cv(y,x,C)))),p)break;y=y.return}0<m.length&&(d=new g(d,v,null,n,f),u.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==hC&&(v=n.relatedTarget||n.fromElement)&&(Iu(v)||v[nl]))break e;if((g||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Iu(v):null,v!==null&&(p=yf(v),v!==p||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(m=TE,x="onMouseLeave",h="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=bE,x="onPointerLeave",h="onPointerEnter",y="pointer"),p=g==null?d:gd(g),C=v==null?d:gd(v),d=new m(x,y+"leave",g,n,f),d.target=p,d.relatedTarget=C,x=null,Iu(f)===c&&(m=new m(h,y+"enter",v,n,f),m.target=C,m.relatedTarget=p,x=m),p=x,g&&v)t:{for(m=g,h=v,y=0,C=m;C;C=Mf(C))y++;for(C=0,x=h;x;x=Mf(x))C++;for(;0<y-C;)m=Mf(m),y--;for(;0<C-y;)h=Mf(h),C--;for(;y--;){if(m===h||h!==null&&m===h.alternate)break t;m=Mf(m),h=Mf(h)}m=null}else m=null;g!==null&&NE(u,d,g,m,!1),v!==null&&p!==null&&NE(u,p,v,m,!0)}}e:{if(d=c?gd(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var T=PX;else if(OE(d))if(i_)T=FX;else{T=_X;var w=LX}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=NX);if(T&&(T=T(t,c))){a_(u,T,n,f);break e}w&&w(t,d,c),t==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&dC(d,"number",d.value)}switch(w=c?gd(c):window,t){case"focusin":(OE(w)||w.contentEditable==="true")&&(fd=w,bC=c,wm=null);break;case"focusout":wm=bC=fd=null;break;case"mousedown":EC=!0;break;case"contextmenu":case"mouseup":case"dragend":EC=!1,PE(u,n,f);break;case"selectionchange":if(kX)break;case"keydown":case"keyup":PE(u,n,f)}var b;if(zx)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ud?n_(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(t_&&n.locale!=="ko"&&(ud||E!=="onCompositionStart"?E==="onCompositionEnd"&&ud&&(b=e_()):(rc=f,Ux="value"in rc?rc.value:rc.textContent,ud=!0)),w=oS(c,E),0<w.length&&(E=new wE(E,t,null,n,f),u.push({event:E,listeners:w}),b?E.data=b:(b=r_(n),b!==null&&(E.data=b)))),(b=OX?RX(t,n):IX(t,n))&&(c=oS(c,"onBeforeInput"),0<c.length&&(f=new wE("onBeforeInput","beforeinput",null,n,f),u.push({event:f,listeners:c}),f.data=b))}v_(u,e)})}function cv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oS(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=nv(t,n),i!=null&&r.unshift(cv(t,i,a)),i=nv(t,e),i!=null&&r.push(cv(t,i,a))),t=t.return}return r}function Mf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function NE(t,e,n,r,a){for(var i=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=nv(n,i),l!=null&&o.unshift(cv(n,l,s))):a||(l=nv(n,i),l!=null&&o.push(cv(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zX=/\r\n?/g,WX=/\u0000|\uFFFD/g;function FE(t){return(typeof t=="string"?t:""+t).replace(zX,`
`).replace(WX,"")}function Xp(t,e,n){if(e=FE(e),FE(t)!==e&&n)throw Error(kt(425))}function sS(){}var DC=null,OC=null;function RC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var IC=typeof setTimeout=="function"?setTimeout:void 0,jX=typeof clearTimeout=="function"?clearTimeout:void 0,$E=typeof Promise=="function"?Promise:void 0,HX=typeof queueMicrotask=="function"?queueMicrotask:typeof $E<"u"?function(t){return $E.resolve(null).then(t).catch(qX)}:IC;function qX(t){setTimeout(function(){throw t})}function t4(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),iv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);iv(e)}function pc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var q1=Math.random().toString(36).slice(2),Zs="__reactFiber$"+q1,uv="__reactProps$"+q1,nl="__reactContainer$"+q1,AC="__reactEvents$"+q1,KX="__reactListeners$"+q1,QX="__reactHandles$"+q1;function Iu(t){var e=t[Zs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nl]||n[Zs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VE(t);t!==null;){if(n=t[Zs])return n;t=VE(t)}return e}t=n,n=t.parentNode}return null}function ip(t){return t=t[Zs]||t[nl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(kt(33))}function W3(t){return t[uv]||null}var MC=[],md=-1;function Fc(t){return{current:t}}function ra(t){0>md||(t.current=MC[md],MC[md]=null,md--)}function Xr(t,e){md++,MC[md]=t.current,t.current=e}var Ec={},Mi=Fc(Ec),so=Fc(!1),Yu=Ec;function a1(t,e){var n=t.type.contextTypes;if(!n)return Ec;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function lo(t){return t=t.childContextTypes,t!=null}function lS(){ra(so),ra(Mi)}function kE(t,e,n){if(Mi.current!==Ec)throw Error(kt(168));Xr(Mi,e),Xr(so,n)}function h_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in e))throw Error(kt(108,LQ(t)||"Unknown",a));return Ta({},n,r)}function cS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ec,Yu=Mi.current,Xr(Mi,t),Xr(so,so.current),!0}function UE(t,e,n){var r=t.stateNode;if(!r)throw Error(kt(169));n?(t=h_(t,e,Yu),r.__reactInternalMemoizedMergedChildContext=t,ra(so),ra(Mi),Xr(Mi,t)):ra(so),Xr(so,n)}var L0=null,j3=!1,n4=!1;function S_(t){L0===null?L0=[t]:L0.push(t)}function XX(t){j3=!0,S_(t)}function $c(){if(!n4&&L0!==null){n4=!0;var t=0,e=Lr;try{var n=L0;for(Lr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}L0=null,j3=!1}catch(a){throw L0!==null&&(L0=L0.slice(t+1)),zL(Fx,$c),a}finally{Lr=e,n4=!1}}return null}var vd=[],pd=0,uS=null,fS=0,Yo=[],Zo=0,Zu=null,k0=1,U0="";function pu(t,e){vd[pd++]=fS,vd[pd++]=uS,uS=t,fS=e}function y_(t,e,n){Yo[Zo++]=k0,Yo[Zo++]=U0,Yo[Zo++]=Zu,Zu=t;var r=k0;t=U0;var a=32-Is(r)-1;r&=~(1<<a),n+=1;var i=32-Is(e)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,k0=1<<32-Is(e)+a|n<<a|r,U0=i+t}else k0=1<<i|n<<a|r,U0=t}function jx(t){t.return!==null&&(pu(t,1),y_(t,1,0))}function Hx(t){for(;t===uS;)uS=vd[--pd],vd[pd]=null,fS=vd[--pd],vd[pd]=null;for(;t===Zu;)Zu=Yo[--Zo],Yo[Zo]=null,U0=Yo[--Zo],Yo[Zo]=null,k0=Yo[--Zo],Yo[Zo]=null}var Po=null,Oo=null,ca=!1,ws=null;function C_(t,e){var n=es(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Po=t,Oo=pc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Po=t,Oo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zu!==null?{id:k0,overflow:U0}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=es(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Po=t,Oo=null,!0):!1;default:return!1}}function PC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function LC(t){if(ca){var e=Oo;if(e){var n=e;if(!BE(t,e)){if(PC(t))throw Error(kt(418));e=pc(n.nextSibling);var r=Po;e&&BE(t,e)?C_(r,n):(t.flags=t.flags&-4097|2,ca=!1,Po=t)}}else{if(PC(t))throw Error(kt(418));t.flags=t.flags&-4097|2,ca=!1,Po=t}}}function GE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Po=t}function Yp(t){if(t!==Po)return!1;if(!ca)return GE(t),ca=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!RC(t.type,t.memoizedProps)),e&&(e=Oo)){if(PC(t))throw x_(),Error(kt(418));for(;e;)C_(t,e),e=pc(e.nextSibling)}if(GE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(kt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oo=pc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oo=null}}else Oo=Po?pc(t.stateNode.nextSibling):null;return!0}function x_(){for(var t=Oo;t;)t=pc(t.nextSibling)}function i1(){Oo=Po=null,ca=!1}function qx(t){ws===null?ws=[t]:ws.push(t)}var YX=cl.ReactCurrentBatchConfig;function bg(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(kt(309));var r=n.stateNode}if(!r)throw Error(kt(147,t));var a=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(kt(284));if(!n._owner)throw Error(kt(290,t))}return t}function Zp(t,e){throw t=Object.prototype.toString.call(e),Error(kt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zE(t){var e=t._init;return e(t._payload)}function T_(t){function e(h,y){if(t){var C=h.deletions;C===null?(h.deletions=[y],h.flags|=16):C.push(y)}}function n(h,y){if(!t)return null;for(;y!==null;)e(h,y),y=y.sibling;return null}function r(h,y){for(h=new Map;y!==null;)y.key!==null?h.set(y.key,y):h.set(y.index,y),y=y.sibling;return h}function a(h,y){return h=Cc(h,y),h.index=0,h.sibling=null,h}function i(h,y,C){return h.index=C,t?(C=h.alternate,C!==null?(C=C.index,C<y?(h.flags|=2,y):C):(h.flags|=2,y)):(h.flags|=1048576,y)}function o(h){return t&&h.alternate===null&&(h.flags|=2),h}function s(h,y,C,x){return y===null||y.tag!==6?(y=c4(C,h.mode,x),y.return=h,y):(y=a(y,C),y.return=h,y)}function l(h,y,C,x){var T=C.type;return T===cd?f(h,y,C.props.children,x,C.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jl&&zE(T)===y.type)?(x=a(y,C.props),x.ref=bg(h,y,C),x.return=h,x):(x=f2(C.type,C.key,C.props,null,h.mode,x),x.ref=bg(h,y,C),x.return=h,x)}function c(h,y,C,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=u4(C,h.mode,x),y.return=h,y):(y=a(y,C.children||[]),y.return=h,y)}function f(h,y,C,x,T){return y===null||y.tag!==7?(y=zu(C,h.mode,x,T),y.return=h,y):(y=a(y,C),y.return=h,y)}function u(h,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=c4(""+y,h.mode,C),y.return=h,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bp:return C=f2(y.type,y.key,y.props,null,h.mode,C),C.ref=bg(h,null,y),C.return=h,C;case ld:return y=u4(y,h.mode,C),y.return=h,y;case jl:var x=y._init;return u(h,x(y._payload),C)}if(Zg(y)||yg(y))return y=zu(y,h.mode,C,null),y.return=h,y;Zp(h,y)}return null}function d(h,y,C,x){var T=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return T!==null?null:s(h,y,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bp:return C.key===T?l(h,y,C,x):null;case ld:return C.key===T?c(h,y,C,x):null;case jl:return T=C._init,d(h,y,T(C._payload),x)}if(Zg(C)||yg(C))return T!==null?null:f(h,y,C,x,null);Zp(h,C)}return null}function g(h,y,C,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(C)||null,s(y,h,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bp:return h=h.get(x.key===null?C:x.key)||null,l(y,h,x,T);case ld:return h=h.get(x.key===null?C:x.key)||null,c(y,h,x,T);case jl:var w=x._init;return g(h,y,C,w(x._payload),T)}if(Zg(x)||yg(x))return h=h.get(C)||null,f(y,h,x,T,null);Zp(y,x)}return null}function v(h,y,C,x){for(var T=null,w=null,b=y,E=y=0,O=null;b!==null&&E<C.length;E++){b.index>E?(O=b,b=null):O=b.sibling;var D=d(h,b,C[E],x);if(D===null){b===null&&(b=O);break}t&&b&&D.alternate===null&&e(h,b),y=i(D,y,E),w===null?T=D:w.sibling=D,w=D,b=O}if(E===C.length)return n(h,b),ca&&pu(h,E),T;if(b===null){for(;E<C.length;E++)b=u(h,C[E],x),b!==null&&(y=i(b,y,E),w===null?T=b:w.sibling=b,w=b);return ca&&pu(h,E),T}for(b=r(h,b);E<C.length;E++)O=g(b,h,E,C[E],x),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?E:O.key),y=i(O,y,E),w===null?T=O:w.sibling=O,w=O);return t&&b.forEach(function(R){return e(h,R)}),ca&&pu(h,E),T}function m(h,y,C,x){var T=yg(C);if(typeof T!="function")throw Error(kt(150));if(C=T.call(C),C==null)throw Error(kt(151));for(var w=T=null,b=y,E=y=0,O=null,D=C.next();b!==null&&!D.done;E++,D=C.next()){b.index>E?(O=b,b=null):O=b.sibling;var R=d(h,b,D.value,x);if(R===null){b===null&&(b=O);break}t&&b&&R.alternate===null&&e(h,b),y=i(R,y,E),w===null?T=R:w.sibling=R,w=R,b=O}if(D.done)return n(h,b),ca&&pu(h,E),T;if(b===null){for(;!D.done;E++,D=C.next())D=u(h,D.value,x),D!==null&&(y=i(D,y,E),w===null?T=D:w.sibling=D,w=D);return ca&&pu(h,E),T}for(b=r(h,b);!D.done;E++,D=C.next())D=g(b,h,E,D.value,x),D!==null&&(t&&D.alternate!==null&&b.delete(D.key===null?E:D.key),y=i(D,y,E),w===null?T=D:w.sibling=D,w=D);return t&&b.forEach(function(I){return e(h,I)}),ca&&pu(h,E),T}function p(h,y,C,x){if(typeof C=="object"&&C!==null&&C.type===cd&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Bp:e:{for(var T=C.key,w=y;w!==null;){if(w.key===T){if(T=C.type,T===cd){if(w.tag===7){n(h,w.sibling),y=a(w,C.props.children),y.return=h,h=y;break e}}else if(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===jl&&zE(T)===w.type){n(h,w.sibling),y=a(w,C.props),y.ref=bg(h,w,C),y.return=h,h=y;break e}n(h,w);break}else e(h,w);w=w.sibling}C.type===cd?(y=zu(C.props.children,h.mode,x,C.key),y.return=h,h=y):(x=f2(C.type,C.key,C.props,null,h.mode,x),x.ref=bg(h,y,C),x.return=h,h=x)}return o(h);case ld:e:{for(w=C.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){n(h,y.sibling),y=a(y,C.children||[]),y.return=h,h=y;break e}else{n(h,y);break}else e(h,y);y=y.sibling}y=u4(C,h.mode,x),y.return=h,h=y}return o(h);case jl:return w=C._init,p(h,y,w(C._payload),x)}if(Zg(C))return v(h,y,C,x);if(yg(C))return m(h,y,C,x);Zp(h,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(n(h,y.sibling),y=a(y,C),y.return=h,h=y):(n(h,y),y=c4(C,h.mode,x),y.return=h,h=y),o(h)):n(h,y)}return p}var o1=T_(!0),w_=T_(!1),dS=Fc(null),gS=null,hd=null,Kx=null;function Qx(){Kx=hd=gS=null}function Xx(t){var e=dS.current;ra(dS),t._currentValue=e}function _C(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fd(t,e){gS=t,Kx=hd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oo=!0),t.firstContext=null)}function as(t){var e=t._currentValue;if(Kx!==t)if(t={context:t,memoizedValue:e,next:null},hd===null){if(gS===null)throw Error(kt(308));hd=t,gS.dependencies={lanes:0,firstContext:t}}else hd=hd.next=t;return e}var Au=null;function Yx(t){Au===null?Au=[t]:Au.push(t)}function b_(t,e,n,r){var a=e.interleaved;return a===null?(n.next=n,Yx(e)):(n.next=a.next,a.next=n),e.interleaved=n,rl(t,r)}function rl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hl=!1;function Zx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function W0(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Er&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,rl(t,n)}return a=r.interleaved,a===null?(e.next=e,Yx(r)):(e.next=a.next,a.next=e),r.interleaved=e,rl(t,n)}function i2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$x(t,n)}}function WE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mS(t,e,n,r){var a=t.updateQueue;Hl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(i!==null){var u=a.baseState;o=0,f=c=l=null,s=i;do{var d=s.lane,g=s.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,m=s;switch(d=e,g=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){u=v.call(g,u,d);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,d=typeof v=="function"?v.call(g,u,d):v,d==null)break e;u=Ta({},u,d);break e;case 2:Hl=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=a.effects,d===null?a.effects=[s]:d.push(s))}else g={eventTime:g,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(c=f=g,l=u):f=f.next=g,o|=d;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;d=s,s=d.next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}while(!0);if(f===null&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);ef|=o,t.lanes=o,t.memoizedState=u}}function jE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(kt(191,a));a.call(r)}}}var op={},n0=Fc(op),fv=Fc(op),dv=Fc(op);function Mu(t){if(t===op)throw Error(kt(174));return t}function Jx(t,e){switch(Xr(dv,e),Xr(fv,t),Xr(n0,op),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mC(e,t)}ra(n0),Xr(n0,e)}function s1(){ra(n0),ra(fv),ra(dv)}function D_(t){Mu(dv.current);var e=Mu(n0.current),n=mC(e,t.type);e!==n&&(Xr(fv,t),Xr(n0,n))}function e7(t){fv.current===t&&(ra(n0),ra(fv))}var ha=Fc(0);function vS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r4=[];function t7(){for(var t=0;t<r4.length;t++)r4[t]._workInProgressVersionPrimary=null;r4.length=0}var o2=cl.ReactCurrentDispatcher,a4=cl.ReactCurrentBatchConfig,Ju=0,xa=null,Ja=null,si=null,pS=!1,bm=!1,gv=0,ZX=0;function bi(){throw Error(kt(321))}function n7(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ls(t[n],e[n]))return!1;return!0}function r7(t,e,n,r,a,i){if(Ju=i,xa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,o2.current=t===null||t.memoizedState===null?nY:rY,t=n(r,a),bm){i=0;do{if(bm=!1,gv=0,25<=i)throw Error(kt(301));i+=1,si=Ja=null,e.updateQueue=null,o2.current=aY,t=n(r,a)}while(bm)}if(o2.current=hS,e=Ja!==null&&Ja.next!==null,Ju=0,si=Ja=xa=null,pS=!1,e)throw Error(kt(300));return t}function a7(){var t=gv!==0;return gv=0,t}function Qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?xa.memoizedState=si=t:si=si.next=t,si}function is(){if(Ja===null){var t=xa.alternate;t=t!==null?t.memoizedState:null}else t=Ja.next;var e=si===null?xa.memoizedState:si.next;if(e!==null)si=e,Ja=t;else{if(t===null)throw Error(kt(310));Ja=t,t={memoizedState:Ja.memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},si===null?xa.memoizedState=si=t:si=si.next=t}return si}function mv(t,e){return typeof e=="function"?e(t):e}function i4(t){var e=is(),n=e.queue;if(n===null)throw Error(kt(311));n.lastRenderedReducer=t;var r=Ja,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var f=c.lane;if((Ju&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=u,o=r):l=l.next=u,xa.lanes|=f,ef|=f}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,Ls(r,e.memoizedState)||(oo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do i=a.lane,xa.lanes|=i,ef|=i,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function o4(t){var e=is(),n=e.queue;if(n===null)throw Error(kt(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);Ls(i,e.memoizedState)||(oo=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function O_(){}function R_(t,e){var n=xa,r=is(),a=e(),i=!Ls(r.memoizedState,a);if(i&&(r.memoizedState=a,oo=!0),r=r.queue,i7(M_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||si!==null&&si.memoizedState.tag&1){if(n.flags|=2048,vv(9,A_.bind(null,n,r,a,e),void 0,null),ui===null)throw Error(kt(349));Ju&30||I_(n,e,a)}return a}function I_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xa.updateQueue,e===null?(e={lastEffect:null,stores:null},xa.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function A_(t,e,n,r){e.value=n,e.getSnapshot=r,P_(e)&&L_(t)}function M_(t,e,n){return n(function(){P_(e)&&L_(t)})}function P_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ls(t,n)}catch{return!0}}function L_(t){var e=rl(t,1);e!==null&&As(e,t,1,-1)}function HE(t){var e=Qs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:t},e.queue=t,t=t.dispatch=tY.bind(null,xa,t),[e.memoizedState,t]}function vv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xa.updateQueue,e===null?(e={lastEffect:null,stores:null},xa.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function __(){return is().memoizedState}function s2(t,e,n,r){var a=Qs();xa.flags|=t,a.memoizedState=vv(1|e,n,void 0,r===void 0?null:r)}function H3(t,e,n,r){var a=is();r=r===void 0?null:r;var i=void 0;if(Ja!==null){var o=Ja.memoizedState;if(i=o.destroy,r!==null&&n7(r,o.deps)){a.memoizedState=vv(e,n,i,r);return}}xa.flags|=t,a.memoizedState=vv(1|e,n,i,r)}function qE(t,e){return s2(8390656,8,t,e)}function i7(t,e){return H3(2048,8,t,e)}function N_(t,e){return H3(4,2,t,e)}function F_(t,e){return H3(4,4,t,e)}function $_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V_(t,e,n){return n=n!=null?n.concat([t]):null,H3(4,4,$_.bind(null,e,t),n)}function o7(){}function k_(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n7(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function U_(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n7(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function B_(t,e,n){return Ju&21?(Ls(n,e)||(n=HL(),xa.lanes|=n,ef|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oo=!0),t.memoizedState=n)}function JX(t,e){var n=Lr;Lr=n!==0&&4>n?n:4,t(!0);var r=a4.transition;a4.transition={};try{t(!1),e()}finally{Lr=n,a4.transition=r}}function G_(){return is().memoizedState}function eY(t,e,n){var r=yc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},z_(t))W_(e,n);else if(n=b_(t,e,n,r),n!==null){var a=Wi();As(n,t,r,a),j_(n,e,r)}}function tY(t,e,n){var r=yc(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(z_(t))W_(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Ls(s,o)){var l=e.interleaved;l===null?(a.next=a,Yx(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}n=b_(t,e,a,r),n!==null&&(a=Wi(),As(n,t,r,a),j_(n,e,r))}}function z_(t){var e=t.alternate;return t===xa||e!==null&&e===xa}function W_(t,e){bm=pS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$x(t,n)}}var hS={readContext:as,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},nY={readContext:as,useCallback:function(t,e){return Qs().memoizedState=[t,e===void 0?null:e],t},useContext:as,useEffect:qE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,s2(4194308,4,$_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return s2(4194308,4,t,e)},useInsertionEffect:function(t,e){return s2(4,2,t,e)},useMemo:function(t,e){var n=Qs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eY.bind(null,xa,t),[r.memoizedState,t]},useRef:function(t){var e=Qs();return t={current:t},e.memoizedState=t},useState:HE,useDebugValue:o7,useDeferredValue:function(t){return Qs().memoizedState=t},useTransition:function(){var t=HE(!1),e=t[0];return t=JX.bind(null,t[1]),Qs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xa,a=Qs();if(ca){if(n===void 0)throw Error(kt(407));n=n()}else{if(n=e(),ui===null)throw Error(kt(349));Ju&30||I_(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,qE(M_.bind(null,r,i,t),[t]),r.flags|=2048,vv(9,A_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qs(),e=ui.identifierPrefix;if(ca){var n=U0,r=k0;n=(r&~(1<<32-Is(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rY={readContext:as,useCallback:k_,useContext:as,useEffect:i7,useImperativeHandle:V_,useInsertionEffect:N_,useLayoutEffect:F_,useMemo:U_,useReducer:i4,useRef:__,useState:function(){return i4(mv)},useDebugValue:o7,useDeferredValue:function(t){var e=is();return B_(e,Ja.memoizedState,t)},useTransition:function(){var t=i4(mv)[0],e=is().memoizedState;return[t,e]},useMutableSource:O_,useSyncExternalStore:R_,useId:G_,unstable_isNewReconciler:!1},aY={readContext:as,useCallback:k_,useContext:as,useEffect:i7,useImperativeHandle:V_,useInsertionEffect:N_,useLayoutEffect:F_,useMemo:U_,useReducer:o4,useRef:__,useState:function(){return o4(mv)},useDebugValue:o7,useDeferredValue:function(t){var e=is();return Ja===null?e.memoizedState=t:B_(e,Ja.memoizedState,t)},useTransition:function(){var t=o4(mv)[0],e=is().memoizedState;return[t,e]},useMutableSource:O_,useSyncExternalStore:R_,useId:G_,unstable_isNewReconciler:!1};function Ss(t,e){if(t&&t.defaultProps){e=Ta({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function NC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ta({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var q3={isMounted:function(t){return(t=t._reactInternals)?yf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wi(),a=yc(t),i=W0(r,a);i.payload=e,n!=null&&(i.callback=n),e=hc(t,i,a),e!==null&&(As(e,t,a,r),i2(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wi(),a=yc(t),i=W0(r,a);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hc(t,i,a),e!==null&&(As(e,t,a,r),i2(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wi(),r=yc(t),a=W0(n,r);a.tag=2,e!=null&&(a.callback=e),e=hc(t,a,r),e!==null&&(As(e,t,r,n),i2(e,t,r))}};function KE(t,e,n,r,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!sv(n,r)||!sv(a,i):!0}function H_(t,e,n){var r=!1,a=Ec,i=e.contextType;return typeof i=="object"&&i!==null?i=as(i):(a=lo(e)?Yu:Mi.current,r=e.contextTypes,i=(r=r!=null)?a1(t,a):Ec),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=q3,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function QE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&q3.enqueueReplaceState(e,e.state,null)}function FC(t,e,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},Zx(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=as(i):(i=lo(e)?Yu:Mi.current,a.context=a1(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(NC(t,e,i,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&q3.enqueueReplaceState(a,a.state,null),mS(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function l1(t,e){try{var n="",r=e;do n+=PQ(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function s4(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $C(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iY=typeof WeakMap=="function"?WeakMap:Map;function q_(t,e,n){n=W0(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yS||(yS=!0,qC=r),$C(t,e)},n}function K_(t,e,n){n=W0(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=e.value;n.payload=function(){return r(a)},n.callback=function(){$C(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$C(t,e),typeof r!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iY;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(a.add(n),t=yY.bind(null,t,e,n),e.then(t,t))}function YE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZE(t,e,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=W0(-1,1),e.tag=2,hc(n,e,1))),n.lanes|=1),t)}var oY=cl.ReactCurrentOwner,oo=!1;function Ui(t,e,n,r){e.child=t===null?w_(e,null,n,r):o1(e,t.child,n,r)}function JE(t,e,n,r,a){n=n.render;var i=e.ref;return Fd(e,a),r=r7(t,e,n,r,i,a),n=a7(),t!==null&&!oo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,al(t,e,a)):(ca&&n&&jx(e),e.flags|=1,Ui(t,e,r,a),e.child)}function eD(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!m7(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Q_(t,e,i,r,a)):(t=f2(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:sv,n(o,r)&&t.ref===e.ref)return al(t,e,a)}return e.flags|=1,t=Cc(i,r),t.ref=e.ref,t.return=e,e.child=t}function Q_(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(sv(i,r)&&t.ref===e.ref)if(oo=!1,e.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(oo=!0);else return e.lanes=t.lanes,al(t,e,a)}return VC(t,e,n,r,a)}function X_(t,e,n){var r=e.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xr(yd,wo),wo|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xr(yd,wo),wo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Xr(yd,wo),wo|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Xr(yd,wo),wo|=r;return Ui(t,e,a,n),e.child}function Y_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function VC(t,e,n,r,a){var i=lo(n)?Yu:Mi.current;return i=a1(e,i),Fd(e,a),n=r7(t,e,n,r,i,a),r=a7(),t!==null&&!oo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,al(t,e,a)):(ca&&r&&jx(e),e.flags|=1,Ui(t,e,n,a),e.child)}function tD(t,e,n,r,a){if(lo(n)){var i=!0;cS(e)}else i=!1;if(Fd(e,a),e.stateNode===null)l2(t,e),H_(e,n,r),FC(e,n,r,a),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=as(c):(c=lo(n)?Yu:Mi.current,c=a1(e,c));var f=n.getDerivedStateFromProps,u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&QE(e,o,r,c),Hl=!1;var d=e.memoizedState;o.state=d,mS(e,r,o,a),l=e.memoizedState,s!==r||d!==l||so.current||Hl?(typeof f=="function"&&(NC(e,n,f,r),l=e.memoizedState),(s=Hl||KE(e,n,s,r,d,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,E_(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Ss(e.type,s),o.props=c,u=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=as(l):(l=lo(n)?Yu:Mi.current,l=a1(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==u||d!==l)&&QE(e,o,r,l),Hl=!1,d=e.memoizedState,o.state=d,mS(e,r,o,a);var v=e.memoizedState;s!==u||d!==v||so.current||Hl?(typeof g=="function"&&(NC(e,n,g,r),v=e.memoizedState),(c=Hl||KE(e,n,c,r,d,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return kC(t,e,n,r,i,a)}function kC(t,e,n,r,a,i){Y_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return a&&UE(e,n,!1),al(t,e,i);r=e.stateNode,oY.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=o1(e,t.child,null,i),e.child=o1(e,null,s,i)):Ui(t,e,s,i),e.memoizedState=r.state,a&&UE(e,n,!0),e.child}function Z_(t){var e=t.stateNode;e.pendingContext?kE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kE(t,e.context,!1),Jx(t,e.containerInfo)}function nD(t,e,n,r,a){return i1(),qx(a),e.flags|=256,Ui(t,e,n,r),e.child}var UC={dehydrated:null,treeContext:null,retryLane:0};function BC(t){return{baseLanes:t,cachePool:null,transitions:null}}function J_(t,e,n){var r=e.pendingProps,a=ha.current,i=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(a&2)!==0),s?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Xr(ha,a&1),t===null)return LC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=X3(o,r,0,null),t=zu(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=BC(n),e.memoizedState=UC,t):s7(e,o));if(a=t.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return sY(t,e,o,r,s,a,n);if(i){i=r.fallback,o=e.mode,a=t.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Cc(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=Cc(s,i):(i=zu(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?BC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=UC,r}return i=t.child,t=i.sibling,r=Cc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function s7(t,e){return e=X3({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jp(t,e,n,r){return r!==null&&qx(r),o1(e,t.child,null,n),t=s7(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sY(t,e,n,r,a,i,o){if(n)return e.flags&256?(e.flags&=-257,r=s4(Error(kt(422))),Jp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,a=e.mode,r=X3({mode:"visible",children:r.children},a,0,null),i=zu(i,a,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&o1(e,t.child,null,o),e.child.memoizedState=BC(o),e.memoizedState=UC,i);if(!(e.mode&1))return Jp(t,e,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(kt(419)),r=s4(i,r,void 0),Jp(t,e,o,r)}if(s=(o&t.childLanes)!==0,oo||s){if(r=ui,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,rl(t,a),As(r,t,a,-1))}return g7(),r=s4(Error(kt(421))),Jp(t,e,o,r)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=CY.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Oo=pc(a.nextSibling),Po=e,ca=!0,ws=null,t!==null&&(Yo[Zo++]=k0,Yo[Zo++]=U0,Yo[Zo++]=Zu,k0=t.id,U0=t.overflow,Zu=e),e=s7(e,r.children),e.flags|=4096,e)}function rD(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_C(t.return,e,n)}function l4(t,e,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function eN(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;if(Ui(t,e,r.children,n),r=ha.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rD(t,n,e);else if(t.tag===19)rD(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xr(ha,r),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&vS(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),l4(e,!1,a,n,i);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&vS(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}l4(e,!0,n,null,i);break;case"together":l4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function l2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function al(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ef|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(kt(153));if(e.child!==null){for(t=e.child,n=Cc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lY(t,e,n){switch(e.tag){case 3:Z_(e),i1();break;case 5:D_(e);break;case 1:lo(e.type)&&cS(e);break;case 4:Jx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,a=e.memoizedProps.value;Xr(dS,r._currentValue),r._currentValue=a;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xr(ha,ha.current&1),e.flags|=128,null):n&e.child.childLanes?J_(t,e,n):(Xr(ha,ha.current&1),t=al(t,e,n),t!==null?t.sibling:null);Xr(ha,ha.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eN(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xr(ha,ha.current),r)break;return null;case 22:case 23:return e.lanes=0,X_(t,e,n)}return al(t,e,n)}var tN,GC,nN,rN;tN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};GC=function(){};nN=function(t,e,n,r){var a=t.memoizedProps;if(a!==r){t=e.stateNode,Mu(n0.current);var i=null;switch(n){case"input":a=uC(t,a),r=uC(t,r),i=[];break;case"select":a=Ta({},a,{value:void 0}),r=Ta({},r,{value:void 0}),i=[];break;case"textarea":a=gC(t,a),r=gC(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sS)}vC(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ev.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ev.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&na("scroll",t),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};rN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Eg(t,e){if(!ca)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ei(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cY(t,e,n){var r=e.pendingProps;switch(Hx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(e),null;case 1:return lo(e.type)&&lS(),Ei(e),null;case 3:return r=e.stateNode,s1(),ra(so),ra(Mi),t7(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ws!==null&&(XC(ws),ws=null))),GC(t,e),Ei(e),null;case 5:e7(e);var a=Mu(dv.current);if(n=e.type,t!==null&&e.stateNode!=null)nN(t,e,n,r,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(kt(166));return Ei(e),null}if(t=Mu(n0.current),Yp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Zs]=e,r[uv]=i,t=(e.mode&1)!==0,n){case"dialog":na("cancel",r),na("close",r);break;case"iframe":case"object":case"embed":na("load",r);break;case"video":case"audio":for(a=0;a<em.length;a++)na(em[a],r);break;case"source":na("error",r);break;case"img":case"image":case"link":na("error",r),na("load",r);break;case"details":na("toggle",r);break;case"input":dE(r,i),na("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},na("invalid",r);break;case"textarea":mE(r,i),na("invalid",r)}vC(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Xp(r.textContent,s,t),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Xp(r.textContent,s,t),a=["children",""+s]):ev.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&na("scroll",r)}switch(n){case"input":Gp(r),gE(r,i,!0);break;case"textarea":Gp(r),vE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sS)}r=a,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ML(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Zs]=e,t[uv]=r,tN(t,e,!1,!1),e.stateNode=t;e:{switch(o=pC(n,r),n){case"dialog":na("cancel",t),na("close",t),a=r;break;case"iframe":case"object":case"embed":na("load",t),a=r;break;case"video":case"audio":for(a=0;a<em.length;a++)na(em[a],t);a=r;break;case"source":na("error",t),a=r;break;case"img":case"image":case"link":na("error",t),na("load",t),a=r;break;case"details":na("toggle",t),a=r;break;case"input":dE(t,r),a=uC(t,r),na("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Ta({},r,{value:void 0}),na("invalid",t);break;case"textarea":mE(t,r),a=gC(t,r),na("invalid",t);break;default:a=r}vC(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?_L(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PL(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&tv(t,l):typeof l=="number"&&tv(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ev.hasOwnProperty(i)?l!=null&&i==="onScroll"&&na("scroll",t):l!=null&&Mx(t,i,l,o))}switch(n){case"input":Gp(t),gE(t,r,!1);break;case"textarea":Gp(t),vE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pd(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=sS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ei(e),null;case 6:if(t&&e.stateNode!=null)rN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(kt(166));if(n=Mu(dv.current),Mu(n0.current),Yp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zs]=e,(i=r.nodeValue!==n)&&(t=Po,t!==null))switch(t.tag){case 3:Xp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zs]=e,e.stateNode=r}return Ei(e),null;case 13:if(ra(ha),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ca&&Oo!==null&&e.mode&1&&!(e.flags&128))x_(),i1(),e.flags|=98560,i=!1;else if(i=Yp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(kt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(kt(317));i[Zs]=e}else i1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ei(e),i=!1}else ws!==null&&(XC(ws),ws=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ha.current&1?ti===0&&(ti=3):g7())),e.updateQueue!==null&&(e.flags|=4),Ei(e),null);case 4:return s1(),GC(t,e),t===null&&lv(e.stateNode.containerInfo),Ei(e),null;case 10:return Xx(e.type._context),Ei(e),null;case 17:return lo(e.type)&&lS(),Ei(e),null;case 19:if(ra(ha),i=e.memoizedState,i===null)return Ei(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Eg(i,!1);else{if(ti!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vS(t),o!==null){for(e.flags|=128,Eg(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xr(ha,ha.current&1|2),e.child}t=t.sibling}i.tail!==null&&_a()>c1&&(e.flags|=128,r=!0,Eg(i,!1),e.lanes=4194304)}else{if(!r)if(t=vS(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Eg(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ca)return Ei(e),null}else 2*_a()-i.renderingStartTime>c1&&n!==1073741824&&(e.flags|=128,r=!0,Eg(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_a(),e.sibling=null,n=ha.current,Xr(ha,r?n&1|2:n&1),e):(Ei(e),null);case 22:case 23:return d7(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wo&1073741824&&(Ei(e),e.subtreeFlags&6&&(e.flags|=8192)):Ei(e),null;case 24:return null;case 25:return null}throw Error(kt(156,e.tag))}function uY(t,e){switch(Hx(e),e.tag){case 1:return lo(e.type)&&lS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return s1(),ra(so),ra(Mi),t7(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e7(e),null;case 13:if(ra(ha),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(kt(340));i1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ra(ha),null;case 4:return s1(),null;case 10:return Xx(e.type._context),null;case 22:case 23:return d7(),null;case 24:return null;default:return null}}var eh=!1,Ri=!1,fY=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Sd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ba(t,e,r)}else n.current=null}function zC(t,e,n){try{n()}catch(r){ba(t,e,r)}}var aD=!1;function dY(t,e){if(DC=aS,t=l_(),Wx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,f=0,u=t,d=null;t:for(;;){for(var g;u!==n||a!==0&&u.nodeType!==3||(s=o+a),u!==i||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(g=u.firstChild)!==null;)d=u,u=g;for(;;){if(u===t)break t;if(d===n&&++c===a&&(s=o),d===i&&++f===r&&(l=o),(g=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(OC={focusedElem:t,selectionRange:n},aS=!1,ln=e;ln!==null;)if(e=ln,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ln=t;else for(;ln!==null;){e=ln;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,p=v.memoizedState,h=e.stateNode,y=h.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ss(e.type,m),p);h.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(kt(163))}}catch(x){ba(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ln=t;break}ln=e.return}return v=aD,aD=!1,v}function Em(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&zC(e,n,i)}a=a.next}while(a!==r)}}function K3(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function WC(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aN(t){var e=t.alternate;e!==null&&(t.alternate=null,aN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zs],delete e[uv],delete e[AC],delete e[KX],delete e[QX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iN(t){return t.tag===5||t.tag===3||t.tag===4}function iD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sS));else if(r!==4&&(t=t.child,t!==null))for(jC(t,e,n),t=t.sibling;t!==null;)jC(t,e,n),t=t.sibling}function HC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(HC(t,e,n),t=t.sibling;t!==null;)HC(t,e,n),t=t.sibling}var vi=null,ys=!1;function Al(t,e,n){for(n=n.child;n!==null;)oN(t,e,n),n=n.sibling}function oN(t,e,n){if(t0&&typeof t0.onCommitFiberUnmount=="function")try{t0.onCommitFiberUnmount(U3,n)}catch{}switch(n.tag){case 5:Ri||Sd(n,e);case 6:var r=vi,a=ys;vi=null,Al(t,e,n),vi=r,ys=a,vi!==null&&(ys?(t=vi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vi.removeChild(n.stateNode));break;case 18:vi!==null&&(ys?(t=vi,n=n.stateNode,t.nodeType===8?t4(t.parentNode,n):t.nodeType===1&&t4(t,n),iv(t)):t4(vi,n.stateNode));break;case 4:r=vi,a=ys,vi=n.stateNode.containerInfo,ys=!0,Al(t,e,n),vi=r,ys=a;break;case 0:case 11:case 14:case 15:if(!Ri&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zC(n,e,o),a=a.next}while(a!==r)}Al(t,e,n);break;case 1:if(!Ri&&(Sd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ba(n,e,s)}Al(t,e,n);break;case 21:Al(t,e,n);break;case 22:n.mode&1?(Ri=(r=Ri)||n.memoizedState!==null,Al(t,e,n),Ri=r):Al(t,e,n);break;default:Al(t,e,n)}}function oD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fY),e.forEach(function(r){var a=xY.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function gs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:vi=s.stateNode,ys=!1;break e;case 3:vi=s.stateNode.containerInfo,ys=!0;break e;case 4:vi=s.stateNode.containerInfo,ys=!0;break e}s=s.return}if(vi===null)throw Error(kt(160));oN(i,o,a),vi=null,ys=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){ba(a,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sN(e,t),e=e.sibling}function sN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gs(e,t),Ws(t),r&4){try{Em(3,t,t.return),K3(3,t)}catch(m){ba(t,t.return,m)}try{Em(5,t,t.return)}catch(m){ba(t,t.return,m)}}break;case 1:gs(e,t),Ws(t),r&512&&n!==null&&Sd(n,n.return);break;case 5:if(gs(e,t),Ws(t),r&512&&n!==null&&Sd(n,n.return),t.flags&32){var a=t.stateNode;try{tv(a,"")}catch(m){ba(t,t.return,m)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&IL(a,i),pC(s,o);var c=pC(s,i);for(o=0;o<l.length;o+=2){var f=l[o],u=l[o+1];f==="style"?_L(a,u):f==="dangerouslySetInnerHTML"?PL(a,u):f==="children"?tv(a,u):Mx(a,f,u,c)}switch(s){case"input":fC(a,i);break;case"textarea":AL(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Pd(a,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?Pd(a,!!i.multiple,i.defaultValue,!0):Pd(a,!!i.multiple,i.multiple?[]:"",!1))}a[uv]=i}catch(m){ba(t,t.return,m)}}break;case 6:if(gs(e,t),Ws(t),r&4){if(t.stateNode===null)throw Error(kt(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(m){ba(t,t.return,m)}}break;case 3:if(gs(e,t),Ws(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{iv(e.containerInfo)}catch(m){ba(t,t.return,m)}break;case 4:gs(e,t),Ws(t);break;case 13:gs(e,t),Ws(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(u7=_a())),r&4&&oD(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ri=(c=Ri)||f,gs(e,t),Ri=c):gs(e,t),Ws(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ln=t,f=t.child;f!==null;){for(u=ln=f;ln!==null;){switch(d=ln,g=d.child,d.tag){case 0:case 11:case 14:case 15:Em(4,d,d.return);break;case 1:Sd(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){ba(r,n,m)}}break;case 5:Sd(d,d.return);break;case 22:if(d.memoizedState!==null){lD(u);continue}}g!==null?(g.return=d,ln=g):lD(u)}f=f.sibling}e:for(f=null,u=t;;){if(u.tag===5){if(f===null){f=u;try{a=u.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=LL("display",o))}catch(m){ba(t,t.return,m)}}}else if(u.tag===6){if(f===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ba(t,t.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;f===u&&(f=null),u=u.return}f===u&&(f=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:gs(e,t),Ws(t),r&4&&oD(t);break;case 21:break;default:gs(e,t),Ws(t)}}function Ws(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iN(n)){var r=n;break e}n=n.return}throw Error(kt(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(tv(a,""),r.flags&=-33);var i=iD(t);HC(t,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=iD(t);jC(t,s,o);break;default:throw Error(kt(161))}}catch(l){ba(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gY(t,e,n){ln=t,lN(t)}function lN(t,e,n){for(var r=(t.mode&1)!==0;ln!==null;){var a=ln,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||eh;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Ri;s=eh;var c=Ri;if(eh=o,(Ri=l)&&!c)for(ln=a;ln!==null;)o=ln,l=o.child,o.tag===22&&o.memoizedState!==null?cD(a):l!==null?(l.return=o,ln=l):cD(a);for(;i!==null;)ln=i,lN(i),i=i.sibling;ln=a,eh=s,Ri=c}sD(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ln=i):sD(t)}}function sD(t){for(;ln!==null;){var e=ln;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ri||K3(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ri)if(n===null)r.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:Ss(e.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&jE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jE(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var u=f.dehydrated;u!==null&&iv(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(kt(163))}Ri||e.flags&512&&WC(e)}catch(d){ba(e,e.return,d)}}if(e===t){ln=null;break}if(n=e.sibling,n!==null){n.return=e.return,ln=n;break}ln=e.return}}function lD(t){for(;ln!==null;){var e=ln;if(e===t){ln=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ln=n;break}ln=e.return}}function cD(t){for(;ln!==null;){var e=ln;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{K3(4,e)}catch(l){ba(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var a=e.return;try{r.componentDidMount()}catch(l){ba(e,a,l)}}var i=e.return;try{WC(e)}catch(l){ba(e,i,l)}break;case 5:var o=e.return;try{WC(e)}catch(l){ba(e,o,l)}}}catch(l){ba(e,e.return,l)}if(e===t){ln=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ln=s;break}ln=e.return}}var mY=Math.ceil,SS=cl.ReactCurrentDispatcher,l7=cl.ReactCurrentOwner,ts=cl.ReactCurrentBatchConfig,Er=0,ui=null,ja=null,Si=0,wo=0,yd=Fc(0),ti=0,pv=null,ef=0,Q3=0,c7=0,Dm=null,ro=null,u7=0,c1=1/0,M0=null,yS=!1,qC=null,Sc=null,th=!1,ac=null,CS=0,Om=0,KC=null,c2=-1,u2=0;function Wi(){return Er&6?_a():c2!==-1?c2:c2=_a()}function yc(t){return t.mode&1?Er&2&&Si!==0?Si&-Si:YX.transition!==null?(u2===0&&(u2=HL()),u2):(t=Lr,t!==0||(t=window.event,t=t===void 0?16:JL(t.type)),t):1}function As(t,e,n,r){if(50<Om)throw Om=0,KC=null,Error(kt(185));rp(t,n,r),(!(Er&2)||t!==ui)&&(t===ui&&(!(Er&2)&&(Q3|=n),ti===4&&Zl(t,Si)),co(t,r),n===1&&Er===0&&!(e.mode&1)&&(c1=_a()+500,j3&&$c()))}function co(t,e){var n=t.callbackNode;YQ(t,e);var r=rS(t,t===ui?Si:0);if(r===0)n!==null&&SE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&SE(n),e===1)t.tag===0?XX(uD.bind(null,t)):S_(uD.bind(null,t)),HX(function(){!(Er&6)&&$c()}),n=null;else{switch(qL(r)){case 1:n=Fx;break;case 4:n=WL;break;case 16:n=nS;break;case 536870912:n=jL;break;default:n=nS}n=pN(n,cN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cN(t,e){if(c2=-1,u2=0,Er&6)throw Error(kt(327));var n=t.callbackNode;if($d()&&t.callbackNode!==n)return null;var r=rS(t,t===ui?Si:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xS(t,r);else{e=r;var a=Er;Er|=2;var i=fN();(ui!==t||Si!==e)&&(M0=null,c1=_a()+500,Gu(t,e));do try{hY();break}catch(s){uN(t,s)}while(!0);Qx(),SS.current=i,Er=a,ja!==null?e=0:(ui=null,Si=0,e=ti)}if(e!==0){if(e===2&&(a=xC(t),a!==0&&(r=a,e=QC(t,a))),e===1)throw n=pv,Gu(t,0),Zl(t,r),co(t,_a()),n;if(e===6)Zl(t,r);else{if(a=t.current.alternate,!(r&30)&&!vY(a)&&(e=xS(t,r),e===2&&(i=xC(t),i!==0&&(r=i,e=QC(t,i))),e===1))throw n=pv,Gu(t,0),Zl(t,r),co(t,_a()),n;switch(t.finishedWork=a,t.finishedLanes=r,e){case 0:case 1:throw Error(kt(345));case 2:hu(t,ro,M0);break;case 3:if(Zl(t,r),(r&130023424)===r&&(e=u7+500-_a(),10<e)){if(rS(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){Wi(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=IC(hu.bind(null,t,ro,M0),e);break}hu(t,ro,M0);break;case 4:if(Zl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,a=-1;0<r;){var o=31-Is(r);i=1<<o,o=e[o],o>a&&(a=o),r&=~i}if(r=a,r=_a()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mY(r/1960))-r,10<r){t.timeoutHandle=IC(hu.bind(null,t,ro,M0),r);break}hu(t,ro,M0);break;case 5:hu(t,ro,M0);break;default:throw Error(kt(329))}}}return co(t,_a()),t.callbackNode===n?cN.bind(null,t):null}function QC(t,e){var n=Dm;return t.current.memoizedState.isDehydrated&&(Gu(t,e).flags|=256),t=xS(t,e),t!==2&&(e=ro,ro=n,e!==null&&XC(e)),t}function XC(t){ro===null?ro=t:ro.push.apply(ro,t)}function vY(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Ls(i(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zl(t,e){for(e&=~c7,e&=~Q3,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Is(e),r=1<<n;t[n]=-1,e&=~r}}function uD(t){if(Er&6)throw Error(kt(327));$d();var e=rS(t,0);if(!(e&1))return co(t,_a()),null;var n=xS(t,e);if(t.tag!==0&&n===2){var r=xC(t);r!==0&&(e=r,n=QC(t,r))}if(n===1)throw n=pv,Gu(t,0),Zl(t,e),co(t,_a()),n;if(n===6)throw Error(kt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hu(t,ro,M0),co(t,_a()),null}function f7(t,e){var n=Er;Er|=1;try{return t(e)}finally{Er=n,Er===0&&(c1=_a()+500,j3&&$c())}}function tf(t){ac!==null&&ac.tag===0&&!(Er&6)&&$d();var e=Er;Er|=1;var n=ts.transition,r=Lr;try{if(ts.transition=null,Lr=1,t)return t()}finally{Lr=r,ts.transition=n,Er=e,!(Er&6)&&$c()}}function d7(){wo=yd.current,ra(yd)}function Gu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jX(n)),ja!==null)for(n=ja.return;n!==null;){var r=n;switch(Hx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lS();break;case 3:s1(),ra(so),ra(Mi),t7();break;case 5:e7(r);break;case 4:s1();break;case 13:ra(ha);break;case 19:ra(ha);break;case 10:Xx(r.type._context);break;case 22:case 23:d7()}n=n.return}if(ui=t,ja=t=Cc(t.current,null),Si=wo=e,ti=0,pv=null,c7=Q3=ef=0,ro=Dm=null,Au!==null){for(e=0;e<Au.length;e++)if(n=Au[e],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Au=null}return t}function uN(t,e){do{var n=ja;try{if(Qx(),o2.current=hS,pS){for(var r=xa.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}pS=!1}if(Ju=0,si=Ja=xa=null,bm=!1,gv=0,l7.current=null,n===null||n.return===null){ti=1,pv=e,ja=null;break}e:{var i=t,o=n.return,s=n,l=e;if(e=Si,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=s,u=f.tag;if(!(f.mode&1)&&(u===0||u===11||u===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=YE(o);if(g!==null){g.flags&=-257,ZE(g,o,s,i,e),g.mode&1&&XE(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){XE(i,c,e),g7();break e}l=Error(kt(426))}}else if(ca&&s.mode&1){var p=YE(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),ZE(p,o,s,i,e),qx(l1(l,s));break e}}i=l=l1(l,s),ti!==4&&(ti=2),Dm===null?Dm=[i]:Dm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var h=q_(i,l,e);WE(i,h);break e;case 1:s=l;var y=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Sc===null||!Sc.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=K_(i,s,e);WE(i,x);break e}}i=i.return}while(i!==null)}gN(n)}catch(T){e=T,ja===n&&n!==null&&(ja=n=n.return);continue}break}while(!0)}function fN(){var t=SS.current;return SS.current=hS,t===null?hS:t}function g7(){(ti===0||ti===3||ti===2)&&(ti=4),ui===null||!(ef&268435455)&&!(Q3&268435455)||Zl(ui,Si)}function xS(t,e){var n=Er;Er|=2;var r=fN();(ui!==t||Si!==e)&&(M0=null,Gu(t,e));do try{pY();break}catch(a){uN(t,a)}while(!0);if(Qx(),Er=n,SS.current=r,ja!==null)throw Error(kt(261));return ui=null,Si=0,ti}function pY(){for(;ja!==null;)dN(ja)}function hY(){for(;ja!==null&&!GQ();)dN(ja)}function dN(t){var e=vN(t.alternate,t,wo);t.memoizedProps=t.pendingProps,e===null?gN(t):ja=e,l7.current=null}function gN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uY(n,e),n!==null){n.flags&=32767,ja=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ti=6,ja=null;return}}else if(n=cY(n,e,wo),n!==null){ja=n;return}if(e=e.sibling,e!==null){ja=e;return}ja=e=t}while(e!==null);ti===0&&(ti=5)}function hu(t,e,n){var r=Lr,a=ts.transition;try{ts.transition=null,Lr=1,SY(t,e,n,r)}finally{ts.transition=a,Lr=r}return null}function SY(t,e,n,r){do $d();while(ac!==null);if(Er&6)throw Error(kt(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(kt(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ZQ(t,i),t===ui&&(ja=ui=null,Si=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||th||(th=!0,pN(nS,function(){return $d(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ts.transition,ts.transition=null;var o=Lr;Lr=1;var s=Er;Er|=4,l7.current=null,dY(t,n),sN(n,t),VX(OC),aS=!!DC,OC=DC=null,t.current=n,gY(n),zQ(),Er=s,Lr=o,ts.transition=i}else t.current=n;if(th&&(th=!1,ac=t,CS=a),i=t.pendingLanes,i===0&&(Sc=null),HQ(n.stateNode),co(t,_a()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(yS)throw yS=!1,t=qC,qC=null,t;return CS&1&&t.tag!==0&&$d(),i=t.pendingLanes,i&1?t===KC?Om++:(Om=0,KC=t):Om=0,$c(),null}function $d(){if(ac!==null){var t=qL(CS),e=ts.transition,n=Lr;try{if(ts.transition=null,Lr=16>t?16:t,ac===null)var r=!1;else{if(t=ac,ac=null,CS=0,Er&6)throw Error(kt(331));var a=Er;for(Er|=4,ln=t.current;ln!==null;){var i=ln,o=i.child;if(ln.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ln=c;ln!==null;){var f=ln;switch(f.tag){case 0:case 11:case 15:Em(8,f,i)}var u=f.child;if(u!==null)u.return=f,ln=u;else for(;ln!==null;){f=ln;var d=f.sibling,g=f.return;if(aN(f),f===c){ln=null;break}if(d!==null){d.return=g,ln=d;break}ln=g}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var p=m.sibling;m.sibling=null,m=p}while(m!==null)}}ln=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ln=o;else e:for(;ln!==null;){if(i=ln,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Em(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,ln=h;break e}ln=i.return}}var y=t.current;for(ln=y;ln!==null;){o=ln;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ln=C;else e:for(o=y;ln!==null;){if(s=ln,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:K3(9,s)}}catch(T){ba(s,s.return,T)}if(s===o){ln=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,ln=x;break e}ln=s.return}}if(Er=a,$c(),t0&&typeof t0.onPostCommitFiberRoot=="function")try{t0.onPostCommitFiberRoot(U3,t)}catch{}r=!0}return r}finally{Lr=n,ts.transition=e}}return!1}function fD(t,e,n){e=l1(n,e),e=q_(t,e,1),t=hc(t,e,1),e=Wi(),t!==null&&(rp(t,1,e),co(t,e))}function ba(t,e,n){if(t.tag===3)fD(t,t,n);else for(;e!==null;){if(e.tag===3){fD(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sc===null||!Sc.has(r))){t=l1(n,t),t=K_(e,t,1),e=hc(e,t,1),t=Wi(),e!==null&&(rp(e,1,t),co(e,t));break}}e=e.return}}function yY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wi(),t.pingedLanes|=t.suspendedLanes&n,ui===t&&(Si&n)===n&&(ti===4||ti===3&&(Si&130023424)===Si&&500>_a()-u7?Gu(t,0):c7|=n),co(t,e)}function mN(t,e){e===0&&(t.mode&1?(e=jp,jp<<=1,!(jp&130023424)&&(jp=4194304)):e=1);var n=Wi();t=rl(t,e),t!==null&&(rp(t,e,n),co(t,n))}function CY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mN(t,n)}function xY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(kt(314))}r!==null&&r.delete(e),mN(t,n)}var vN;vN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||so.current)oo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return oo=!1,lY(t,e,n);oo=!!(t.flags&131072)}else oo=!1,ca&&e.flags&1048576&&y_(e,fS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;l2(t,e),t=e.pendingProps;var a=a1(e,Mi.current);Fd(e,n),a=r7(null,e,r,t,a,n);var i=a7();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lo(r)?(i=!0,cS(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zx(e),a.updater=q3,e.stateNode=a,a._reactInternals=e,FC(e,r,t,n),e=kC(null,e,r,!0,i,n)):(e.tag=0,ca&&i&&jx(e),Ui(null,e,a,n),e=e.child),e;case 16:r=e.elementType;e:{switch(l2(t,e),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=wY(r),t=Ss(r,t),a){case 0:e=VC(null,e,r,t,n);break e;case 1:e=tD(null,e,r,t,n);break e;case 11:e=JE(null,e,r,t,n);break e;case 14:e=eD(null,e,r,Ss(r.type,t),n);break e}throw Error(kt(306,r,""))}return e;case 0:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Ss(r,a),VC(t,e,r,a,n);case 1:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Ss(r,a),tD(t,e,r,a,n);case 3:e:{if(Z_(e),t===null)throw Error(kt(387));r=e.pendingProps,i=e.memoizedState,a=i.element,E_(t,e),mS(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=l1(Error(kt(423)),e),e=nD(t,e,r,n,a);break e}else if(r!==a){a=l1(Error(kt(424)),e),e=nD(t,e,r,n,a);break e}else for(Oo=pc(e.stateNode.containerInfo.firstChild),Po=e,ca=!0,ws=null,n=w_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(i1(),r===a){e=al(t,e,n);break e}Ui(t,e,r,n)}e=e.child}return e;case 5:return D_(e),t===null&&LC(e),r=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,RC(r,a)?o=null:i!==null&&RC(r,i)&&(e.flags|=32),Y_(t,e),Ui(t,e,o,n),e.child;case 6:return t===null&&LC(e),null;case 13:return J_(t,e,n);case 4:return Jx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=o1(e,null,r,n):Ui(t,e,r,n),e.child;case 11:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Ss(r,a),JE(t,e,r,a,n);case 7:return Ui(t,e,e.pendingProps,n),e.child;case 8:return Ui(t,e,e.pendingProps.children,n),e.child;case 12:return Ui(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Xr(dS,r._currentValue),r._currentValue=o,i!==null)if(Ls(i.value,o)){if(i.children===a.children&&!so.current){e=al(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=W0(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),_C(i.return,n,e),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(kt(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),_C(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ui(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,r=e.pendingProps.children,Fd(e,n),a=as(a),r=r(a),e.flags|=1,Ui(t,e,r,n),e.child;case 14:return r=e.type,a=Ss(r,e.pendingProps),a=Ss(r.type,a),eD(t,e,r,a,n);case 15:return Q_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Ss(r,a),l2(t,e),e.tag=1,lo(r)?(t=!0,cS(e)):t=!1,Fd(e,n),H_(e,r,a),FC(e,r,a,n),kC(null,e,r,!0,t,n);case 19:return eN(t,e,n);case 22:return X_(t,e,n)}throw Error(kt(156,e.tag))};function pN(t,e){return zL(t,e)}function TY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(t,e,n,r){return new TY(t,e,n,r)}function m7(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wY(t){if(typeof t=="function")return m7(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lx)return 11;if(t===_x)return 14}return 2}function Cc(t,e){var n=t.alternate;return n===null?(n=es(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function f2(t,e,n,r,a,i){var o=2;if(r=t,typeof t=="function")m7(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cd:return zu(n.children,a,i,e);case Px:o=8,a|=8;break;case oC:return t=es(12,n,e,a|2),t.elementType=oC,t.lanes=i,t;case sC:return t=es(13,n,e,a),t.elementType=sC,t.lanes=i,t;case lC:return t=es(19,n,e,a),t.elementType=lC,t.lanes=i,t;case DL:return X3(n,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bL:o=10;break e;case EL:o=9;break e;case Lx:o=11;break e;case _x:o=14;break e;case jl:o=16,r=null;break e}throw Error(kt(130,t==null?t:typeof t,""))}return e=es(o,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function zu(t,e,n,r){return t=es(7,t,r,e),t.lanes=n,t}function X3(t,e,n,r){return t=es(22,t,r,e),t.elementType=DL,t.lanes=n,t.stateNode={isHidden:!1},t}function c4(t,e,n){return t=es(6,t,null,e),t.lanes=n,t}function u4(t,e,n){return e=es(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bY(t,e,n,r,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wy(0),this.expirationTimes=Wy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wy(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function v7(t,e,n,r,a,i,o,s,l){return t=new bY(t,e,n,s,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=es(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zx(i),t}function EY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hN(t){if(!t)return Ec;t=t._reactInternals;e:{if(yf(t)!==t||t.tag!==1)throw Error(kt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(kt(171))}if(t.tag===1){var n=t.type;if(lo(n))return h_(t,n,e)}return e}function SN(t,e,n,r,a,i,o,s,l){return t=v7(n,r,!0,t,a,i,o,s,l),t.context=hN(null),n=t.current,r=Wi(),a=yc(n),i=W0(r,a),i.callback=e??null,hc(n,i,a),t.current.lanes=a,rp(t,a,r),co(t,r),t}function Y3(t,e,n,r){var a=e.current,i=Wi(),o=yc(a);return n=hN(n),e.context===null?e.context=n:e.pendingContext=n,e=W0(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hc(a,e,o),t!==null&&(As(t,a,o,i),i2(t,a,o)),o}function TS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function p7(t,e){dD(t,e),(t=t.alternate)&&dD(t,e)}function DY(){return null}var yN=typeof reportError=="function"?reportError:function(t){console.error(t)};function h7(t){this._internalRoot=t}Z3.prototype.render=h7.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(kt(409));Y3(t,e,null,null)};Z3.prototype.unmount=h7.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tf(function(){Y3(null,t,null,null)}),e[nl]=null}};function Z3(t){this._internalRoot=t}Z3.prototype.unstable_scheduleHydration=function(t){if(t){var e=XL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yl.length&&e!==0&&e<Yl[n].priority;n++);Yl.splice(n,0,t),n===0&&ZL(t)}};function S7(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function J3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gD(){}function OY(t,e,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=TS(o);i.call(c)}}var o=SN(e,r,t,0,null,!1,!1,"",gD);return t._reactRootContainer=o,t[nl]=o.current,lv(t.nodeType===8?t.parentNode:t),tf(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=TS(l);s.call(c)}}var l=v7(t,0,!1,null,null,!1,!1,"",gD);return t._reactRootContainer=l,t[nl]=l.current,lv(t.nodeType===8?t.parentNode:t),tf(function(){Y3(e,l,n,r)}),l}function e5(t,e,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=TS(o);s.call(l)}}Y3(e,o,t,a)}else o=OY(n,e,t,a,r);return TS(o)}KL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jg(e.pendingLanes);n!==0&&($x(e,n|1),co(e,_a()),!(Er&6)&&(c1=_a()+500,$c()))}break;case 13:tf(function(){var r=rl(t,1);if(r!==null){var a=Wi();As(r,t,1,a)}}),p7(t,1)}};Vx=function(t){if(t.tag===13){var e=rl(t,134217728);if(e!==null){var n=Wi();As(e,t,134217728,n)}p7(t,134217728)}};QL=function(t){if(t.tag===13){var e=yc(t),n=rl(t,e);if(n!==null){var r=Wi();As(n,t,e,r)}p7(t,e)}};XL=function(){return Lr};YL=function(t,e){var n=Lr;try{return Lr=t,e()}finally{Lr=n}};SC=function(t,e,n){switch(e){case"input":if(fC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=W3(r);if(!a)throw Error(kt(90));RL(r),fC(r,a)}}}break;case"textarea":AL(t,n);break;case"select":e=n.value,e!=null&&Pd(t,!!n.multiple,e,!1)}};$L=f7;VL=tf;var RY={usingClientEntryPoint:!1,Events:[ip,gd,W3,NL,FL,f7]},Dg={findFiberByHostInstance:Iu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IY={bundleType:Dg.bundleType,version:Dg.version,rendererPackageName:Dg.rendererPackageName,rendererConfig:Dg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BL(t),t===null?null:t.stateNode},findFiberByHostInstance:Dg.findFiberByHostInstance||DY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{U3=nh.inject(IY),t0=nh}catch{}}Fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RY;Fo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S7(e))throw Error(kt(200));return EY(t,e,null,n)};Fo.createRoot=function(t,e){if(!S7(t))throw Error(kt(299));var n=!1,r="",a=yN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=v7(t,1,!1,null,null,n,!1,r,a),t[nl]=e.current,lv(t.nodeType===8?t.parentNode:t),new h7(e)};Fo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(kt(188)):(t=Object.keys(t).join(","),Error(kt(268,t)));return t=BL(e),t=t===null?null:t.stateNode,t};Fo.flushSync=function(t){return tf(t)};Fo.hydrate=function(t,e,n){if(!J3(e))throw Error(kt(200));return e5(null,t,e,!0,n)};Fo.hydrateRoot=function(t,e,n){if(!S7(t))throw Error(kt(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=yN;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=SN(e,null,t,1,n??null,a,!1,i,o),t[nl]=e.current,lv(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new Z3(e)};Fo.render=function(t,e,n){if(!J3(e))throw Error(kt(200));return e5(null,t,e,!1,n)};Fo.unmountComponentAtNode=function(t){if(!J3(t))throw Error(kt(40));return t._reactRootContainer?(tf(function(){e5(null,null,t,!1,function(){t._reactRootContainer=null,t[nl]=null})}),!0):!1};Fo.unstable_batchedUpdates=f7;Fo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!J3(n))throw Error(kt(200));if(t==null||t._reactInternals===void 0)throw Error(kt(38));return e5(t,e,n,!1,r)};Fo.version="18.3.1-next-f1338f8080-20240426";function CN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CN)}catch(t){console.error(t)}}CN(),CL.exports=Fo;var _o=CL.exports;const hv=No(_o),xN=lL({__proto__:null,default:hv},[_o]);var TN,mD=_o;TN=mD.createRoot,mD.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}var Ua;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ua||(Ua={}));const vD="popstate";function AY(t){t===void 0&&(t={});function e(r,a){let{pathname:i,search:o,hash:s}=r.location;return Sv("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:sp(a)}return PY(e,n,null,t)}function Tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MY(){return Math.random().toString(36).substr(2,8)}function pD(t,e){return{usr:t.state,key:t.key,idx:e}}function Sv(t,e,n,r){return n===void 0&&(n=null),la({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vc(e):e,{state:n,key:e&&e.key||r||MY()})}function sp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function PY(t,e,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,s=Ua.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(la({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function u(){s=Ua.Pop;let p=f(),h=p==null?null:p-c;c=p,l&&l({action:s,location:m.location,delta:h})}function d(p,h){s=Ua.Push;let y=Sv(m.location,p,h);c=f()+1;let C=pD(y,c),x=m.createHref(y);try{o.pushState(C,"",x)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(x)}i&&l&&l({action:s,location:m.location,delta:1})}function g(p,h){s=Ua.Replace;let y=Sv(m.location,p,h);c=f();let C=pD(y,c),x=m.createHref(y);o.replaceState(C,"",x),i&&l&&l({action:s,location:m.location,delta:0})}function v(p){let h=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof p=="string"?p:sp(p);return y=y.replace(/ $/,"%20"),Tr(h,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,h)}let m={get action(){return s},get location(){return t(a,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(vD,u),l=p,()=>{a.removeEventListener(vD,u),l=null}},createHref(p){return e(a,p)},createURL:v,encodeLocation(p){let h=v(p);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:d,replace:g,go(p){return o.go(p)}};return m}var $r;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($r||($r={}));const LY=new Set(["lazy","caseSensitive","path","id","index","children"]);function _Y(t){return t.index===!0}function wS(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((a,i)=>{let o=[...n,String(i)],s=typeof a.id=="string"?a.id:o.join("-");if(Tr(a.index!==!0||!a.children,"Cannot specify children on an index route"),Tr(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),_Y(a)){let l=la({},a,e(a),{id:s});return r[s]=l,l}else{let l=la({},a,e(a),{id:s,children:void 0});return r[s]=l,a.children&&(l.children=wS(a.children,e,o,r)),l}})}function Tu(t,e,n){return n===void 0&&(n="/"),d2(t,e,n,!1)}function d2(t,e,n,r){let a=typeof e=="string"?Vc(e):e,i=lp(a.pathname||"/",n);if(i==null)return null;let o=wN(t);FY(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=qY(i);s=jY(o[l],c,r)}return s}function NY(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function wN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Tr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wu([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(Tr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wN(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:zY(c,i.index),routesMeta:f})};return t.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let l of bN(i.path))a(i,o,l)}),e}function bN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=bN(r.join("/")),s=[];return s.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function FY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $Y=/^:[\w-]+$/,VY=3,kY=2,UY=1,BY=10,GY=-2,hD=t=>t==="*";function zY(t,e){let n=t.split("/"),r=n.length;return n.some(hD)&&(r+=GY),e&&(r+=kY),n.filter(a=>!hD(a)).reduce((a,i)=>a+($Y.test(i)?VY:i===""?UY:BY),r)}function WY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function jY(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,a={},i="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",u=SD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),d=l.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=SD({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:Wu([i,u.pathname]),pathnameBase:ZY(Wu([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Wu([i,u.pathnameBase]))}return o}function SD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HY(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:r.reduce((c,f,u)=>{let{paramName:d,isOptional:g}=f;if(d==="*"){let m=s[u]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const v=s[u];return g&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function HY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function qY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return u1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Vc(t):t;return{pathname:n?n.startsWith("/")?n:QY(n,e):e,search:JY(r),hash:eZ(a)}}function QY(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function f4(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XY(t,e){let n=EN(t);return e?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function YY(t,e,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=Vc(t):(a=la({},t),Tr(!a.pathname||!a.pathname.includes("?"),f4("?","pathname","search",a)),Tr(!a.pathname||!a.pathname.includes("#"),f4("#","pathname","hash",a)),Tr(!a.search||!a.search.includes("#"),f4("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=n;else{let u=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),u-=1;a.pathname=d.join("/")}s=u>=0?e[u]:"/"}let l=KY(a,s),c=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Wu=t=>t.join("/").replace(/\/\/+/g,"/"),ZY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class bS{constructor(e,n,r,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function t5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DN=["post","put","patch","delete"],tZ=new Set(DN),nZ=["get",...DN],rZ=new Set(nZ),aZ=new Set([301,302,303,307,308]),iZ=new Set([307,308]),d4={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oZ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Og={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},y7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sZ=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ON="remix-router-transitions";function lZ(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Tr(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let de=t.detectErrorBoundary;a=ue=>({hasErrorBoundary:de(ue)})}else a=sZ;let i={},o=wS(t.routes,a,void 0,i),s,l=t.basename||"/",c=t.dataStrategy||dZ,f=t.patchRoutesOnNavigation,u=la({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,g=new Set,v=null,m=null,p=null,h=t.hydrationData!=null,y=Tu(o,t.history.location,l),C=null;if(y==null&&!f){let de=no(404,{pathname:t.history.location.pathname}),{matches:ue,route:ge}=ID(o);y=ue,C={[ge.id]:de}}y&&!t.hydrationData&&zt(y,o,t.history.location.pathname).active&&(y=null);let x;if(y)if(y.some(de=>de.route.lazy))x=!1;else if(!y.some(de=>de.route.loader))x=!0;else if(u.v7_partialHydration){let de=t.hydrationData?t.hydrationData.loaderData:null,ue=t.hydrationData?t.hydrationData.errors:null;if(ue){let ge=y.findIndex(Ce=>ue[Ce.route.id]!==void 0);x=y.slice(0,ge+1).every(Ce=>!ZC(Ce.route,de,ue))}else x=y.every(ge=>!ZC(ge.route,de,ue))}else x=t.hydrationData!=null;else if(x=!1,y=[],u.v7_partialHydration){let de=zt(null,o,t.history.location.pathname);de.active&&de.matches&&(y=de.matches)}let T,w={historyAction:t.history.action,location:t.history.location,matches:y,initialized:x,navigation:d4,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},b=Ua.Pop,E=!1,O,D=!1,R=new Map,I=null,M=!1,A=!1,B=[],L=new Set,F=new Map,_=0,P=-1,N=new Map,k=new Set,H=new Map,K=new Map,te=new Set,se=new Map,pe=new Map,ve;function Te(){if(d=t.history.listen(de=>{let{action:ue,location:ge,delta:Ce}=de;if(ve){ve(),ve=void 0;return}u1(pe.size===0||Ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ge=jt({currentLocation:w.location,nextLocation:ge,historyAction:ue});if(Ge&&Ce!=null){let He=new Promise(pt=>{ve=pt});t.history.go(Ce*-1),Rt(Ge,{state:"blocked",location:ge,proceed(){Rt(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),He.then(()=>t.history.go(Ce))},reset(){let pt=new Map(w.blockers);pt.set(Ge,Og),ce({blockers:pt})}});return}return Re(ue,ge)}),n){DZ(e,R);let de=()=>OZ(e,R);e.addEventListener("pagehide",de),I=()=>e.removeEventListener("pagehide",de)}return w.initialized||Re(Ua.Pop,w.location,{initialHydration:!0}),T}function _e(){d&&d(),I&&I(),g.clear(),O&&O.abort(),w.fetchers.forEach((de,ue)=>gt(ue)),w.blockers.forEach((de,ue)=>bt(ue))}function fe(de){return g.add(de),()=>g.delete(de)}function ce(de,ue){ue===void 0&&(ue={}),w=la({},w,de);let ge=[],Ce=[];u.v7_fetcherPersist&&w.fetchers.forEach((Ge,He)=>{Ge.state==="idle"&&(te.has(He)?Ce.push(He):ge.push(He))}),[...g].forEach(Ge=>Ge(w,{deletedFetchers:Ce,viewTransitionOpts:ue.viewTransitionOpts,flushSync:ue.flushSync===!0})),u.v7_fetcherPersist&&(ge.forEach(Ge=>w.fetchers.delete(Ge)),Ce.forEach(Ge=>gt(Ge)))}function Ee(de,ue,ge){var Ce,Ge;let{flushSync:He}=ge===void 0?{}:ge,pt=w.actionData!=null&&w.navigation.formMethod!=null&&Cs(w.navigation.formMethod)&&w.navigation.state==="loading"&&((Ce=de.state)==null?void 0:Ce._isRedirect)!==!0,Qe;ue.actionData?Object.keys(ue.actionData).length>0?Qe=ue.actionData:Qe=null:pt?Qe=w.actionData:Qe=null;let Ke=ue.loaderData?OD(w.loaderData,ue.loaderData,ue.matches||[],ue.errors):w.loaderData,Ye=w.blockers;Ye.size>0&&(Ye=new Map(Ye),Ye.forEach((Nt,Pt)=>Ye.set(Pt,Og)));let ft=E===!0||w.navigation.formMethod!=null&&Cs(w.navigation.formMethod)&&((Ge=de.state)==null?void 0:Ge._isRedirect)!==!0;s&&(o=s,s=void 0),M||b===Ua.Pop||(b===Ua.Push?t.history.push(de,de.state):b===Ua.Replace&&t.history.replace(de,de.state));let xt;if(b===Ua.Pop){let Nt=R.get(w.location.pathname);Nt&&Nt.has(de.pathname)?xt={currentLocation:w.location,nextLocation:de}:R.has(de.pathname)&&(xt={currentLocation:de,nextLocation:w.location})}else if(D){let Nt=R.get(w.location.pathname);Nt?Nt.add(de.pathname):(Nt=new Set([de.pathname]),R.set(w.location.pathname,Nt)),xt={currentLocation:w.location,nextLocation:de}}ce(la({},ue,{actionData:Qe,loaderData:Ke,historyAction:b,location:de,initialized:!0,navigation:d4,revalidation:"idle",restoreScrollPosition:sn(de,ue.matches||w.matches),preventScrollReset:ft,blockers:Ye}),{viewTransitionOpts:xt,flushSync:He===!0}),b=Ua.Pop,E=!1,D=!1,M=!1,A=!1,B=[]}async function we(de,ue){if(typeof de=="number"){t.history.go(de);return}let ge=YC(w.location,w.matches,l,u.v7_prependBasename,de,u.v7_relativeSplatPath,ue==null?void 0:ue.fromRouteId,ue==null?void 0:ue.relative),{path:Ce,submission:Ge,error:He}=yD(u.v7_normalizeFormMethod,!1,ge,ue),pt=w.location,Qe=Sv(w.location,Ce,ue&&ue.state);Qe=la({},Qe,t.history.encodeLocation(Qe));let Ke=ue&&ue.replace!=null?ue.replace:void 0,Ye=Ua.Push;Ke===!0?Ye=Ua.Replace:Ke===!1||Ge!=null&&Cs(Ge.formMethod)&&Ge.formAction===w.location.pathname+w.location.search&&(Ye=Ua.Replace);let ft=ue&&"preventScrollReset"in ue?ue.preventScrollReset===!0:void 0,xt=(ue&&ue.flushSync)===!0,Nt=jt({currentLocation:pt,nextLocation:Qe,historyAction:Ye});if(Nt){Rt(Nt,{state:"blocked",location:Qe,proceed(){Rt(Nt,{state:"proceeding",proceed:void 0,reset:void 0,location:Qe}),we(de,ue)},reset(){let Pt=new Map(w.blockers);Pt.set(Nt,Og),ce({blockers:Pt})}});return}return await Re(Ye,Qe,{submission:Ge,pendingError:He,preventScrollReset:ft,replace:ue&&ue.replace,enableViewTransition:ue&&ue.viewTransition,flushSync:xt})}function he(){if(be(),ce({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Re(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Re(b||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:D===!0})}}async function Re(de,ue,ge){O&&O.abort(),O=null,b=de,M=(ge&&ge.startUninterruptedRevalidation)===!0,en(w.location,w.matches),E=(ge&&ge.preventScrollReset)===!0,D=(ge&&ge.enableViewTransition)===!0;let Ce=s||o,Ge=ge&&ge.overrideNavigation,He=Tu(Ce,ue,l),pt=(ge&&ge.flushSync)===!0,Qe=zt(He,Ce,ue.pathname);if(Qe.active&&Qe.matches&&(He=Qe.matches),!He){let{error:Ut,notFoundMatches:Ht,route:Dt}=un(ue.pathname);Ee(ue,{matches:Ht,loaderData:{},errors:{[Dt.id]:Ut}},{flushSync:pt});return}if(w.initialized&&!A&&SZ(w.location,ue)&&!(ge&&ge.submission&&Cs(ge.submission.formMethod))){Ee(ue,{matches:He},{flushSync:pt});return}O=new AbortController;let Ke=Pf(t.history,ue,O.signal,ge&&ge.submission),Ye;if(ge&&ge.pendingError)Ye=[wu(He).route.id,{type:$r.error,error:ge.pendingError}];else if(ge&&ge.submission&&Cs(ge.submission.formMethod)){let Ut=await Pe(Ke,ue,ge.submission,He,Qe.active,{replace:ge.replace,flushSync:pt});if(Ut.shortCircuited)return;if(Ut.pendingActionResult){let[Ht,Dt]=Ut.pendingActionResult;if(bo(Dt)&&t5(Dt.error)&&Dt.error.status===404){O=null,Ee(ue,{matches:Ut.matches,loaderData:{},errors:{[Ht]:Dt.error}});return}}He=Ut.matches||He,Ye=Ut.pendingActionResult,Ge=g4(ue,ge.submission),pt=!1,Qe.active=!1,Ke=Pf(t.history,Ke.url,Ke.signal)}let{shortCircuited:ft,matches:xt,loaderData:Nt,errors:Pt}=await We(Ke,ue,He,Qe.active,Ge,ge&&ge.submission,ge&&ge.fetcherSubmission,ge&&ge.replace,ge&&ge.initialHydration===!0,pt,Ye);ft||(O=null,Ee(ue,la({matches:xt||He},RD(Ye),{loaderData:Nt,errors:Pt})))}async function Pe(de,ue,ge,Ce,Ge,He){He===void 0&&(He={}),be();let pt=bZ(ue,ge);if(ce({navigation:pt},{flushSync:He.flushSync===!0}),Ge){let Ye=await Lt(Ce,ue.pathname,de.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let ft=wu(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,pendingActionResult:[ft,{type:$r.error,error:Ye.error}]}}else if(Ye.matches)Ce=Ye.matches;else{let{notFoundMatches:ft,error:xt,route:Nt}=un(ue.pathname);return{matches:ft,pendingActionResult:[Nt.id,{type:$r.error,error:xt}]}}}let Qe,Ke=tm(Ce,ue);if(!Ke.route.action&&!Ke.route.lazy)Qe={type:$r.error,error:no(405,{method:de.method,pathname:ue.pathname,routeId:Ke.route.id})};else if(Qe=(await j("action",w,de,[Ke],Ce,null))[Ke.route.id],de.signal.aborted)return{shortCircuited:!0};if(Pu(Qe)){let Ye;return He&&He.replace!=null?Ye=He.replace:Ye=bD(Qe.response.headers.get("Location"),new URL(de.url),l)===w.location.pathname+w.location.search,await ee(de,Qe,!0,{submission:ge,replace:Ye}),{shortCircuited:!0}}if(ic(Qe))throw no(400,{type:"defer-action"});if(bo(Qe)){let Ye=wu(Ce,Ke.route.id);return(He&&He.replace)!==!0&&(b=Ua.Push),{matches:Ce,pendingActionResult:[Ye.route.id,Qe]}}return{matches:Ce,pendingActionResult:[Ke.route.id,Qe]}}async function We(de,ue,ge,Ce,Ge,He,pt,Qe,Ke,Ye,ft){let xt=Ge||g4(ue,He),Nt=He||pt||MD(xt),Pt=!M&&(!u.v7_partialHydration||!Ke);if(Ce){if(Pt){let $t=Me(ft);ce(la({navigation:xt},$t!==void 0?{actionData:$t}:{}),{flushSync:Ye})}let Ct=await Lt(ge,ue.pathname,de.signal);if(Ct.type==="aborted")return{shortCircuited:!0};if(Ct.type==="error"){let $t=wu(Ct.partialMatches).route.id;return{matches:Ct.partialMatches,loaderData:{},errors:{[$t]:Ct.error}}}else if(Ct.matches)ge=Ct.matches;else{let{error:$t,notFoundMatches:mn,route:An}=un(ue.pathname);return{matches:mn,loaderData:{},errors:{[An.id]:$t}}}}let Ut=s||o,[Ht,Dt]=xD(t.history,w,ge,Nt,ue,u.v7_partialHydration&&Ke===!0,u.v7_skipActionErrorRevalidation,A,B,L,te,H,k,Ut,l,ft);if(Zt(Ct=>!(ge&&ge.some($t=>$t.route.id===Ct))||Ht&&Ht.some($t=>$t.route.id===Ct)),P=++_,Ht.length===0&&Dt.length===0){let Ct=Ne();return Ee(ue,la({matches:ge,loaderData:{},errors:ft&&bo(ft[1])?{[ft[0]]:ft[1].error}:null},RD(ft),Ct?{fetchers:new Map(w.fetchers)}:{}),{flushSync:Ye}),{shortCircuited:!0}}if(Pt){let Ct={};if(!Ce){Ct.navigation=xt;let $t=Me(ft);$t!==void 0&&(Ct.actionData=$t)}Dt.length>0&&(Ct.fetchers=Je(Dt)),ce(Ct,{flushSync:Ye})}Dt.forEach(Ct=>{ct(Ct.key),Ct.controller&&F.set(Ct.key,Ct.controller)});let Mt=()=>Dt.forEach(Ct=>ct(Ct.key));O&&O.signal.addEventListener("abort",Mt);let{loaderResults:Bt,fetcherResults:Ft}=await oe(w,ge,Ht,Dt,de);if(de.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Mt),Dt.forEach(Ct=>F.delete(Ct.key));let Ot=rh(Bt);if(Ot)return await ee(de,Ot.result,!0,{replace:Qe}),{shortCircuited:!0};if(Ot=rh(Ft),Ot)return k.add(Ot.key),await ee(de,Ot.result,!0,{replace:Qe}),{shortCircuited:!0};let{loaderData:dn,errors:rn}=DD(w,ge,Bt,ft,Dt,Ft,se);se.forEach((Ct,$t)=>{Ct.subscribe(mn=>{(mn||Ct.done)&&se.delete($t)})}),u.v7_partialHydration&&Ke&&w.errors&&(rn=la({},w.errors,rn));let pn=Ne(),Xn=ut(P),Fn=pn||Xn||Dt.length>0;return la({matches:ge,loaderData:dn,errors:rn},Fn?{fetchers:new Map(w.fetchers)}:{})}function Me(de){if(de&&!bo(de[1]))return{[de[0]]:de[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function Je(de){return de.forEach(ue=>{let ge=w.fetchers.get(ue.key),Ce=Rg(void 0,ge?ge.data:void 0);w.fetchers.set(ue.key,Ce)}),new Map(w.fetchers)}function Be(de,ue,ge,Ce){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ct(de);let Ge=(Ce&&Ce.flushSync)===!0,He=s||o,pt=YC(w.location,w.matches,l,u.v7_prependBasename,ge,u.v7_relativeSplatPath,ue,Ce==null?void 0:Ce.relative),Qe=Tu(He,pt,l),Ke=zt(Qe,He,pt);if(Ke.active&&Ke.matches&&(Qe=Ke.matches),!Qe){ze(de,ue,no(404,{pathname:pt}),{flushSync:Ge});return}let{path:Ye,submission:ft,error:xt}=yD(u.v7_normalizeFormMethod,!0,pt,Ce);if(xt){ze(de,ue,xt,{flushSync:Ge});return}let Nt=tm(Qe,Ye),Pt=(Ce&&Ce.preventScrollReset)===!0;if(ft&&Cs(ft.formMethod)){z(de,ue,Ye,Nt,Qe,Ke.active,Ge,Pt,ft);return}H.set(de,{routeId:ue,path:Ye}),Y(de,ue,Ye,Nt,Qe,Ke.active,Ge,Pt,ft)}async function z(de,ue,ge,Ce,Ge,He,pt,Qe,Ke){be(),H.delete(de);function Ye(On){if(!On.route.action&&!On.route.lazy){let jn=no(405,{method:Ke.formMethod,pathname:ge,routeId:ue});return ze(de,ue,jn,{flushSync:pt}),!0}return!1}if(!He&&Ye(Ce))return;let ft=w.fetchers.get(de);Ue(de,EZ(Ke,ft),{flushSync:pt});let xt=new AbortController,Nt=Pf(t.history,ge,xt.signal,Ke);if(He){let On=await Lt(Ge,ge,Nt.signal);if(On.type==="aborted")return;if(On.type==="error"){ze(de,ue,On.error,{flushSync:pt});return}else if(On.matches){if(Ge=On.matches,Ce=tm(Ge,ge),Ye(Ce))return}else{ze(de,ue,no(404,{pathname:ge}),{flushSync:pt});return}}F.set(de,xt);let Pt=_,Ht=(await j("action",w,Nt,[Ce],Ge,de))[Ce.route.id];if(Nt.signal.aborted){F.get(de)===xt&&F.delete(de);return}if(u.v7_fetcherPersist&&te.has(de)){if(Pu(Ht)||bo(Ht)){Ue(de,Vl(void 0));return}}else{if(Pu(Ht))if(F.delete(de),P>Pt){Ue(de,Vl(void 0));return}else return k.add(de),Ue(de,Rg(Ke)),ee(Nt,Ht,!1,{fetcherSubmission:Ke,preventScrollReset:Qe});if(bo(Ht)){ze(de,ue,Ht.error);return}}if(ic(Ht))throw no(400,{type:"defer-action"});let Dt=w.navigation.location||w.location,Mt=Pf(t.history,Dt,xt.signal),Bt=s||o,Ft=w.navigation.state!=="idle"?Tu(Bt,w.navigation.location,l):w.matches;Tr(Ft,"Didn't find any matches after fetcher action");let Ot=++_;N.set(de,Ot);let dn=Rg(Ke,Ht.data);w.fetchers.set(de,dn);let[rn,pn]=xD(t.history,w,Ft,Ke,Dt,!1,u.v7_skipActionErrorRevalidation,A,B,L,te,H,k,Bt,l,[Ce.route.id,Ht]);pn.filter(On=>On.key!==de).forEach(On=>{let jn=On.key,rr=w.fetchers.get(jn),gr=Rg(void 0,rr?rr.data:void 0);w.fetchers.set(jn,gr),ct(jn),On.controller&&F.set(jn,On.controller)}),ce({fetchers:new Map(w.fetchers)});let Xn=()=>pn.forEach(On=>ct(On.key));xt.signal.addEventListener("abort",Xn);let{loaderResults:Fn,fetcherResults:Ct}=await oe(w,Ft,rn,pn,Mt);if(xt.signal.aborted)return;xt.signal.removeEventListener("abort",Xn),N.delete(de),F.delete(de),pn.forEach(On=>F.delete(On.key));let $t=rh(Fn);if($t)return ee(Mt,$t.result,!1,{preventScrollReset:Qe});if($t=rh(Ct),$t)return k.add($t.key),ee(Mt,$t.result,!1,{preventScrollReset:Qe});let{loaderData:mn,errors:An}=DD(w,Ft,Fn,void 0,pn,Ct,se);if(w.fetchers.has(de)){let On=Vl(Ht.data);w.fetchers.set(de,On)}ut(Ot),w.navigation.state==="loading"&&Ot>P?(Tr(b,"Expected pending action"),O&&O.abort(),Ee(w.navigation.location,{matches:Ft,loaderData:mn,errors:An,fetchers:new Map(w.fetchers)})):(ce({errors:An,loaderData:OD(w.loaderData,mn,Ft,An),fetchers:new Map(w.fetchers)}),A=!1)}async function Y(de,ue,ge,Ce,Ge,He,pt,Qe,Ke){let Ye=w.fetchers.get(de);Ue(de,Rg(Ke,Ye?Ye.data:void 0),{flushSync:pt});let ft=new AbortController,xt=Pf(t.history,ge,ft.signal);if(He){let Ht=await Lt(Ge,ge,xt.signal);if(Ht.type==="aborted")return;if(Ht.type==="error"){ze(de,ue,Ht.error,{flushSync:pt});return}else if(Ht.matches)Ge=Ht.matches,Ce=tm(Ge,ge);else{ze(de,ue,no(404,{pathname:ge}),{flushSync:pt});return}}F.set(de,ft);let Nt=_,Ut=(await j("loader",w,xt,[Ce],Ge,de))[Ce.route.id];if(ic(Ut)&&(Ut=await C7(Ut,xt.signal,!0)||Ut),F.get(de)===ft&&F.delete(de),!xt.signal.aborted){if(te.has(de)){Ue(de,Vl(void 0));return}if(Pu(Ut))if(P>Nt){Ue(de,Vl(void 0));return}else{k.add(de),await ee(xt,Ut,!1,{preventScrollReset:Qe});return}if(bo(Ut)){ze(de,ue,Ut.error);return}Tr(!ic(Ut),"Unhandled fetcher deferred data"),Ue(de,Vl(Ut.data))}}async function ee(de,ue,ge,Ce){let{submission:Ge,fetcherSubmission:He,preventScrollReset:pt,replace:Qe}=Ce===void 0?{}:Ce;ue.response.headers.has("X-Remix-Revalidate")&&(A=!0);let Ke=ue.response.headers.get("Location");Tr(Ke,"Expected a Location header on the redirect Response"),Ke=bD(Ke,new URL(de.url),l);let Ye=Sv(w.location,Ke,{_isRedirect:!0});if(n){let Ht=!1;if(ue.response.headers.has("X-Remix-Reload-Document"))Ht=!0;else if(y7.test(Ke)){const Dt=t.history.createURL(Ke);Ht=Dt.origin!==e.location.origin||lp(Dt.pathname,l)==null}if(Ht){Qe?e.location.replace(Ke):e.location.assign(Ke);return}}O=null;let ft=Qe===!0||ue.response.headers.has("X-Remix-Replace")?Ua.Replace:Ua.Push,{formMethod:xt,formAction:Nt,formEncType:Pt}=w.navigation;!Ge&&!He&&xt&&Nt&&Pt&&(Ge=MD(w.navigation));let Ut=Ge||He;if(iZ.has(ue.response.status)&&Ut&&Cs(Ut.formMethod))await Re(ft,Ye,{submission:la({},Ut,{formAction:Ke}),preventScrollReset:pt||E,enableViewTransition:ge?D:void 0});else{let Ht=g4(Ye,Ge);await Re(ft,Ye,{overrideNavigation:Ht,fetcherSubmission:He,preventScrollReset:pt||E,enableViewTransition:ge?D:void 0})}}async function j(de,ue,ge,Ce,Ge,He){let pt,Qe={};try{pt=await gZ(c,de,ue,ge,Ce,Ge,He,i,a)}catch(Ke){return Ce.forEach(Ye=>{Qe[Ye.route.id]={type:$r.error,error:Ke}}),Qe}for(let[Ke,Ye]of Object.entries(pt))if(yZ(Ye)){let ft=Ye.result;Qe[Ke]={type:$r.redirect,response:pZ(ft,ge,Ke,Ge,l,u.v7_relativeSplatPath)}}else Qe[Ke]=await vZ(Ye);return Qe}async function oe(de,ue,ge,Ce,Ge){let He=de.matches,pt=j("loader",de,Ge,ge,ue,null),Qe=Promise.all(Ce.map(async ft=>{if(ft.matches&&ft.match&&ft.controller){let Nt=(await j("loader",de,Pf(t.history,ft.path,ft.controller.signal),[ft.match],ft.matches,ft.key))[ft.match.route.id];return{[ft.key]:Nt}}else return Promise.resolve({[ft.key]:{type:$r.error,error:no(404,{pathname:ft.path})}})})),Ke=await pt,Ye=(await Qe).reduce((ft,xt)=>Object.assign(ft,xt),{});return await Promise.all([TZ(ue,Ke,Ge.signal,He,de.loaderData),wZ(ue,Ye,Ce)]),{loaderResults:Ke,fetcherResults:Ye}}function be(){A=!0,B.push(...Zt()),H.forEach((de,ue)=>{F.has(ue)&&L.add(ue),ct(ue)})}function Ue(de,ue,ge){ge===void 0&&(ge={}),w.fetchers.set(de,ue),ce({fetchers:new Map(w.fetchers)},{flushSync:(ge&&ge.flushSync)===!0})}function ze(de,ue,ge,Ce){Ce===void 0&&(Ce={});let Ge=wu(w.matches,ue);gt(de),ce({errors:{[Ge.route.id]:ge},fetchers:new Map(w.fetchers)},{flushSync:(Ce&&Ce.flushSync)===!0})}function at(de){return u.v7_fetcherPersist&&(K.set(de,(K.get(de)||0)+1),te.has(de)&&te.delete(de)),w.fetchers.get(de)||oZ}function gt(de){let ue=w.fetchers.get(de);F.has(de)&&!(ue&&ue.state==="loading"&&N.has(de))&&ct(de),H.delete(de),N.delete(de),k.delete(de),te.delete(de),L.delete(de),w.fetchers.delete(de)}function St(de){if(u.v7_fetcherPersist){let ue=(K.get(de)||0)-1;ue<=0?(K.delete(de),te.add(de)):K.set(de,ue)}else gt(de);ce({fetchers:new Map(w.fetchers)})}function ct(de){let ue=F.get(de);ue&&(ue.abort(),F.delete(de))}function et(de){for(let ue of de){let ge=at(ue),Ce=Vl(ge.data);w.fetchers.set(ue,Ce)}}function Ne(){let de=[],ue=!1;for(let ge of k){let Ce=w.fetchers.get(ge);Tr(Ce,"Expected fetcher: "+ge),Ce.state==="loading"&&(k.delete(ge),de.push(ge),ue=!0)}return et(de),ue}function ut(de){let ue=[];for(let[ge,Ce]of N)if(Ce<de){let Ge=w.fetchers.get(ge);Tr(Ge,"Expected fetcher: "+ge),Ge.state==="loading"&&(ct(ge),N.delete(ge),ue.push(ge))}return et(ue),ue.length>0}function At(de,ue){let ge=w.blockers.get(de)||Og;return pe.get(de)!==ue&&pe.set(de,ue),ge}function bt(de){w.blockers.delete(de),pe.delete(de)}function Rt(de,ue){let ge=w.blockers.get(de)||Og;Tr(ge.state==="unblocked"&&ue.state==="blocked"||ge.state==="blocked"&&ue.state==="blocked"||ge.state==="blocked"&&ue.state==="proceeding"||ge.state==="blocked"&&ue.state==="unblocked"||ge.state==="proceeding"&&ue.state==="unblocked","Invalid blocker state transition: "+ge.state+" -> "+ue.state);let Ce=new Map(w.blockers);Ce.set(de,ue),ce({blockers:Ce})}function jt(de){let{currentLocation:ue,nextLocation:ge,historyAction:Ce}=de;if(pe.size===0)return;pe.size>1&&u1(!1,"A router only supports one blocker at a time");let Ge=Array.from(pe.entries()),[He,pt]=Ge[Ge.length-1],Qe=w.blockers.get(He);if(!(Qe&&Qe.state==="proceeding")&&pt({currentLocation:ue,nextLocation:ge,historyAction:Ce}))return He}function un(de){let ue=no(404,{pathname:de}),ge=s||o,{matches:Ce,route:Ge}=ID(ge);return Zt(),{notFoundMatches:Ce,route:Ge,error:ue}}function Zt(de){let ue=[];return se.forEach((ge,Ce)=>{(!de||de(Ce))&&(ge.cancel(),ue.push(Ce),se.delete(Ce))}),ue}function Kt(de,ue,ge){if(v=de,p=ue,m=ge||null,!h&&w.navigation===d4){h=!0;let Ce=sn(w.location,w.matches);Ce!=null&&ce({restoreScrollPosition:Ce})}return()=>{v=null,p=null,m=null}}function fn(de,ue){return m&&m(de,ue.map(Ce=>NY(Ce,w.loaderData)))||de.key}function en(de,ue){if(v&&p){let ge=fn(de,ue);v[ge]=p()}}function sn(de,ue){if(v){let ge=fn(de,ue),Ce=v[ge];if(typeof Ce=="number")return Ce}return null}function zt(de,ue,ge){if(f)if(de){if(Object.keys(de[0].params).length>0)return{active:!0,matches:d2(ue,ge,l,!0)}}else return{active:!0,matches:d2(ue,ge,l,!0)||[]};return{active:!1,matches:null}}async function Lt(de,ue,ge){if(!f)return{type:"success",matches:de};let Ce=de;for(;;){let Ge=s==null,He=s||o,pt=i;try{await f({path:ue,matches:Ce,patch:(Ye,ft)=>{ge.aborted||wD(Ye,ft,He,pt,a)}})}catch(Ye){return{type:"error",error:Ye,partialMatches:Ce}}finally{Ge&&!ge.aborted&&(o=[...o])}if(ge.aborted)return{type:"aborted"};let Qe=Tu(He,ue,l);if(Qe)return{type:"success",matches:Qe};let Ke=d2(He,ue,l,!0);if(!Ke||Ce.length===Ke.length&&Ce.every((Ye,ft)=>Ye.route.id===Ke[ft].route.id))return{type:"success",matches:null};Ce=Ke}}function yt(de){i={},s=wS(de,a,void 0,i)}function lt(de,ue){let ge=s==null;wD(de,ue,s||o,i,a),ge&&(o=[...o],ce({}))}return T={get basename(){return l},get future(){return u},get state(){return w},get routes(){return o},get window(){return e},initialize:Te,subscribe:fe,enableScrollRestoration:Kt,navigate:we,fetch:Be,revalidate:he,createHref:de=>t.history.createHref(de),encodeLocation:de=>t.history.encodeLocation(de),getFetcher:at,deleteFetcher:St,dispose:_e,getBlocker:At,deleteBlocker:bt,patchRoutes:lt,_internalFetchControllers:F,_internalActiveDeferreds:se,_internalSetRoutes:yt},T}function cZ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function YC(t,e,n,r,a,i,o,s){let l,c;if(o){l=[];for(let u of e)if(l.push(u),u.route.id===o){c=u;break}}else l=e,c=e[e.length-1];let f=YY(a||".",XY(l,i),lp(t.pathname,n)||t.pathname,s==="path");if(a==null&&(f.search=t.search,f.hash=t.hash),(a==null||a===""||a===".")&&c){let u=x7(f.search);if(c.route.index&&!u)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&u){let d=new URLSearchParams(f.search),g=d.getAll("index");d.delete("index"),g.filter(m=>m).forEach(m=>d.append("index",m));let v=d.toString();f.search=v?"?"+v:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Wu([n,f.pathname])),sp(f)}function yD(t,e,n,r){if(!r||!cZ(r))return{path:n};if(r.formMethod&&!xZ(r.formMethod))return{path:n,error:no(405,{method:r.formMethod})};let a=()=>({path:n,error:no(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),s=AN(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Cs(o))return a();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,v)=>{let[m,p]=v;return""+g+m+"="+p+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Cs(o))return a();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return a()}}}Tr(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=JC(r.formData),c=r.formData;else if(r.body instanceof FormData)l=JC(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=ED(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=ED(l)}catch{return a()}let f={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Cs(f.formMethod))return{path:n,submission:f};let u=Vc(n);return e&&u.search&&x7(u.search)&&l.append("index",""),u.search="?"+l,{path:sp(u),submission:f}}function CD(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(a=>a.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function xD(t,e,n,r,a,i,o,s,l,c,f,u,d,g,v,m){let p=m?bo(m[1])?m[1].error:m[1].data:void 0,h=t.createURL(e.location),y=t.createURL(a),C=n;i&&e.errors?C=CD(n,Object.keys(e.errors)[0],!0):m&&bo(m[1])&&(C=CD(n,m[0]));let x=m?m[1].statusCode:void 0,T=o&&x&&x>=400,w=C.filter((E,O)=>{let{route:D}=E;if(D.lazy)return!0;if(D.loader==null)return!1;if(i)return ZC(D,e.loaderData,e.errors);if(uZ(e.loaderData,e.matches[O],E)||l.some(M=>M===E.route.id))return!0;let R=e.matches[O],I=E;return TD(E,la({currentUrl:h,currentParams:R.params,nextUrl:y,nextParams:I.params},r,{actionResult:p,actionStatus:x,defaultShouldRevalidate:T?!1:s||h.pathname+h.search===y.pathname+y.search||h.search!==y.search||RN(R,I)}))}),b=[];return u.forEach((E,O)=>{if(i||!n.some(A=>A.route.id===E.routeId)||f.has(O))return;let D=Tu(g,E.path,v);if(!D){b.push({key:O,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(O),I=tm(D,E.path),M=!1;d.has(O)?M=!1:c.has(O)?(c.delete(O),M=!0):R&&R.state!=="idle"&&R.data===void 0?M=s:M=TD(I,la({currentUrl:h,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,actionStatus:x,defaultShouldRevalidate:T?!1:s})),M&&b.push({key:O,routeId:E.routeId,path:E.path,matches:D,match:I,controller:new AbortController})}),[w,b]}function ZC(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function uZ(t,e,n){let r=!e||n.route.id!==e.route.id,a=t[n.route.id]===void 0;return r||a}function RN(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function TD(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function wD(t,e,n,r,a){var i;let o;if(t){let c=r[t];Tr(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let s=e.filter(c=>!o.some(f=>IN(c,f))),l=wS(s,a,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function IN(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(i=>IN(n,i))}):!1}async function fZ(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let a=n[t.id];Tr(a,"No route found in manifest");let i={};for(let o in r){let l=a[o]!==void 0&&o!=="hasErrorBoundary";u1(!l,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!LY.has(o)&&(i[o]=r[o])}Object.assign(a,i),Object.assign(a,la({},e(a),{lazy:void 0}))}async function dZ(t){let{matches:e}=t,n=e.filter(a=>a.shouldLoad);return(await Promise.all(n.map(a=>a.resolve()))).reduce((a,i,o)=>Object.assign(a,{[n[o].route.id]:i}),{})}async function gZ(t,e,n,r,a,i,o,s,l,c){let f=i.map(g=>g.route.lazy?fZ(g.route,l,s):void 0),u=i.map((g,v)=>{let m=f[v],p=a.some(y=>y.route.id===g.route.id);return la({},g,{shouldLoad:p,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(p=!0),p?mZ(e,r,g,m,y,c):Promise.resolve({type:$r.data,result:void 0}))})}),d=await t({matches:u,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(f)}catch{}return d}async function mZ(t,e,n,r,a,i){let o,s,l=c=>{let f,u=new Promise((v,m)=>f=m);s=()=>f(),e.signal.addEventListener("abort",s);let d=v=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...v!==void 0?[v]:[]),g=(async()=>{try{return{type:"data",result:await(a?a(m=>d(m)):d())}}catch(v){return{type:"error",result:v}}})();return Promise.race([g,u])};try{let c=n.route[t];if(r)if(c){let f,[u]=await Promise.all([l(c).catch(d=>{f=d}),r]);if(f!==void 0)throw f;o=u}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let f=new URL(e.url),u=f.pathname+f.search;throw no(405,{method:e.method,pathname:u,routeId:n.route.id})}else return{type:$r.data,result:void 0};else if(c)o=await l(c);else{let f=new URL(e.url),u=f.pathname+f.search;throw no(404,{pathname:u})}Tr(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:$r.error,result:c}}finally{s&&e.signal.removeEventListener("abort",s)}return o}async function vZ(t){let{result:e,type:n}=t;if(MN(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:$r.error,error:f}}return n===$r.error?{type:$r.error,error:new bS(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:$r.data,data:c,statusCode:e.status,headers:e.headers}}if(n===$r.error){if(AD(e)){var r;if(e.data instanceof Error){var a;return{type:$r.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status}}e=new bS(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:$r.error,error:e,statusCode:t5(e)?e.status:void 0}}if(CZ(e)){var i,o;return{type:$r.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(AD(e)){var s,l;return{type:$r.data,data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:$r.data,data:e}}function pZ(t,e,n,r,a,i){let o=t.headers.get("Location");if(Tr(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!y7.test(o)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=YC(new URL(e.url),s,a,!0,o,i),t.headers.set("Location",o)}return t}function bD(t,e,n){if(y7.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=lp(a.pathname,n)!=null;if(a.origin===e.origin&&i)return a.pathname+a.search+a.hash}return t}function Pf(t,e,n,r){let a=t.createURL(AN(e)).toString(),i={signal:n};if(r&&Cs(r.formMethod)){let{formMethod:o,formEncType:s}=r;i.method=o.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(r.json)):s==="text/plain"?i.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?i.body=JC(r.formData):i.body=r.formData}return new Request(a,i)}function JC(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ED(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function hZ(t,e,n,r,a){let i={},o=null,s,l=!1,c={},f=n&&bo(n[1])?n[1].error:void 0;return t.forEach(u=>{if(!(u.route.id in e))return;let d=u.route.id,g=e[d];if(Tr(!Pu(g),"Cannot handle redirect results in processLoaderData"),bo(g)){let v=g.error;f!==void 0&&(v=f,f=void 0),o=o||{};{let m=wu(t,d);o[m.route.id]==null&&(o[m.route.id]=v)}i[d]=void 0,l||(l=!0,s=t5(g.error)?g.error.status:500),g.headers&&(c[d]=g.headers)}else ic(g)?(r.set(d,g.deferredData),i[d]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(s=g.statusCode),g.headers&&(c[d]=g.headers)):(i[d]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(s=g.statusCode),g.headers&&(c[d]=g.headers))}),f!==void 0&&n&&(o={[n[0]]:f},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:s||200,loaderHeaders:c}}function DD(t,e,n,r,a,i,o){let{loaderData:s,errors:l}=hZ(e,n,r,o);return a.forEach(c=>{let{key:f,match:u,controller:d}=c,g=i[f];if(Tr(g,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(bo(g)){let v=wu(t.matches,u==null?void 0:u.route.id);l&&l[v.route.id]||(l=la({},l,{[v.route.id]:g.error})),t.fetchers.delete(f)}else if(Pu(g))Tr(!1,"Unhandled fetcher revalidation redirect");else if(ic(g))Tr(!1,"Unhandled fetcher deferred data");else{let v=Vl(g.data);t.fetchers.set(f,v)}}),{loaderData:s,errors:l}}function OD(t,e,n,r){let a=la({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(a[o]=e[o]):t[o]!==void 0&&i.route.loader&&(a[o]=t[o]),r&&r.hasOwnProperty(o))break}return a}function RD(t){return t?bo(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function wu(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function ID(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function no(t,e){let{pathname:n,routeId:r,method:a,type:i,message:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",a&&n&&r?l="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",l='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",a&&n&&r?l="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new bS(t||500,s,new Error(l),!0)}function rh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(Pu(a))return{key:r,result:a}}}function AN(t){let e=typeof t=="string"?Vc(t):t;return sp(la({},e,{hash:""}))}function SZ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function yZ(t){return MN(t.result)&&aZ.has(t.result.status)}function ic(t){return t.type===$r.deferred}function bo(t){return t.type===$r.error}function Pu(t){return(t&&t.type)===$r.redirect}function AD(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function CZ(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function MN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function xZ(t){return rZ.has(t.toLowerCase())}function Cs(t){return tZ.has(t.toLowerCase())}async function TZ(t,e,n,r,a){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[s,l]=i[o],c=t.find(d=>(d==null?void 0:d.route.id)===s);if(!c)continue;let f=r.find(d=>d.route.id===c.route.id),u=f!=null&&!RN(f,c)&&(a&&a[c.route.id])!==void 0;ic(l)&&u&&await C7(l,n,!1).then(d=>{d&&(e[s]=d)})}}async function wZ(t,e,n){for(let r=0;r<n.length;r++){let{key:a,routeId:i,controller:o}=n[r],s=e[a];t.find(c=>(c==null?void 0:c.route.id)===i)&&ic(s)&&(Tr(o,"Expected an AbortController for revalidating fetcher deferred result"),await C7(s,o.signal,!0).then(c=>{c&&(e[a]=c)}))}}async function C7(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:$r.data,data:t.deferredData.unwrappedData}}catch(a){return{type:$r.error,error:a}}return{type:$r.data,data:t.deferredData.data}}}function x7(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function tm(t,e){let n=typeof e=="string"?Vc(e).search:e.search;if(t[t.length-1].route.index&&x7(n||""))return t[t.length-1];let r=EN(t);return r[r.length-1]}function MD(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:i,json:o}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function g4(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bZ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Rg(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function EZ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Vl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function DZ(t,e){try{let n=t.sessionStorage.getItem(ON);if(n){let r=JSON.parse(n);for(let[a,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(a,new Set(i||[]))}}catch{}}function OZ(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(ON,JSON.stringify(n))}catch(r){u1(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e6(){return e6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e6.apply(this,arguments)}const PN=S.createContext(null),LN=S.createContext(null),_N=S.createContext(null),T7=S.createContext(null),cp=S.createContext({outlet:null,matches:[],isDataRoute:!1}),NN=S.createContext(null);function w7(){return S.useContext(T7)!=null}function RZ(){return w7()||Tr(!1),S.useContext(T7).location}const IZ=S.createContext(null);function AZ(t){let e=S.useContext(cp).outlet;return e&&S.createElement(IZ.Provider,{value:t},e)}function MZ(t,e,n,r){w7()||Tr(!1);let{navigator:a}=S.useContext(_N),{matches:i}=S.useContext(cp),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=RZ(),f;f=c;let u=f.pathname||"/",d=u;if(l!=="/"){let m=l.replace(/^\//,"").split("/");d="/"+u.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=Tu(t,{pathname:d});return FZ(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},s,m.params),pathname:Wu([l,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:Wu([l,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n,r)}function PZ(){let t=FN(),e=t5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,null)}const LZ=S.createElement(PZ,null);class _Z extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(cp.Provider,{value:this.props.routeContext},S.createElement(NN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NZ(t){let{routeContext:e,match:n,children:r}=t,a=S.useContext(PN);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(cp.Provider,{value:e},r)}function FZ(t,e,n,r){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(a=n)==null?void 0:a.errors;if(s!=null){let f=o.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);f>=0||Tr(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let u=o[f];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=f),u.route.id){let{loaderData:d,errors:g}=n,v=u.route.loader&&d[u.route.id]===void 0&&(!g||g[u.route.id]===void 0);if(u.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,u,d)=>{let g,v=!1,m=null,p=null;n&&(g=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||LZ,l&&(c<0&&d===0?(v=!0,p=null):c===d&&(v=!0,p=u.route.hydrateFallbackElement||null)));let h=e.concat(o.slice(0,d+1)),y=()=>{let C;return g?C=m:v?C=p:u.route.Component?C=S.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=f,S.createElement(NZ,{match:u,routeContext:{outlet:f,matches:h,isDataRoute:n!=null},children:C})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?S.createElement(_Z,{location:n.location,revalidation:n.revalidation,component:m,error:g,children:y(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):y()},null)}var t6=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(t6||{});function $Z(t){let e=S.useContext(LN);return e||Tr(!1),e}function VZ(t){let e=S.useContext(cp);return e||Tr(!1),e}function kZ(t){let e=VZ(),n=e.matches[e.matches.length-1];return n.route.id||Tr(!1),n.route.id}function FN(){var t;let e=S.useContext(NN),n=$Z(t6.UseRouteError),r=kZ(t6.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function UZ(t){return AZ(t.context)}function BZ(t){let{basename:e="/",children:n=null,location:r,navigationType:a=Ua.Pop,navigator:i,static:o=!1,future:s}=t;w7()&&Tr(!1);let l=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:l,navigator:i,static:o,future:e6({v7_relativeSplatPath:!1},s)}),[l,s,i,o]);typeof r=="string"&&(r=Vc(r));let{pathname:f="/",search:u="",hash:d="",state:g=null,key:v="default"}=r,m=S.useMemo(()=>{let p=lp(f,l);return p==null?null:{location:{pathname:p,search:u,hash:d,state:g,key:v},navigationType:a}},[l,f,u,d,g,v,a]);return m==null?null:S.createElement(_N.Provider,{value:c},S.createElement(T7.Provider,{children:n,value:m}))}new Promise(()=>{});function GZ(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:S.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ES.apply(this,arguments)}const zZ="6";try{window.__reactRouterVersion=zZ}catch{}function WZ(t,e){return lZ({basename:e==null?void 0:e.basename,future:ES({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:AY({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||jZ(),routes:t,mapRouteProperties:GZ,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function jZ(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ES({},e,{errors:HZ(e.errors)})),e}function HZ(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new bS(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(a.message);i.stack="",n[r]=i}}else n[r]=a;return n}const qZ=S.createContext({isTransitioning:!1}),KZ=S.createContext(new Map),QZ="startTransition",PD=np[QZ],XZ="flushSync",LD=xN[XZ];function YZ(t){PD?PD(t):t()}function Ig(t){LD?LD(t):t()}class ZZ{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function JZ(t){let{fallbackElement:e,router:n,future:r}=t,[a,i]=S.useState(n.state),[o,s]=S.useState(),[l,c]=S.useState({isTransitioning:!1}),[f,u]=S.useState(),[d,g]=S.useState(),[v,m]=S.useState(),p=S.useRef(new Map),{v7_startTransition:h}=r||{},y=S.useCallback(E=>{h?YZ(E):E()},[h]),C=S.useCallback((E,O)=>{let{deletedFetchers:D,flushSync:R,viewTransitionOpts:I}=O;D.forEach(A=>p.current.delete(A)),E.fetchers.forEach((A,B)=>{A.data!==void 0&&p.current.set(B,A.data)});let M=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!I||M){R?Ig(()=>i(E)):y(()=>i(E));return}if(R){Ig(()=>{d&&(f&&f.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let A=n.window.document.startViewTransition(()=>{Ig(()=>i(E))});A.finished.finally(()=>{Ig(()=>{u(void 0),g(void 0),s(void 0),c({isTransitioning:!1})})}),Ig(()=>g(A));return}d?(f&&f.resolve(),d.skipTransition(),m({state:E,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(s(E),c({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[n.window,d,f,p,y]);S.useLayoutEffect(()=>n.subscribe(C),[n,C]),S.useEffect(()=>{l.isTransitioning&&!l.flushSync&&u(new ZZ)},[l]),S.useEffect(()=>{if(f&&o&&n.window){let E=o,O=f.promise,D=n.window.document.startViewTransition(async()=>{y(()=>i(E)),await O});D.finished.finally(()=>{u(void 0),g(void 0),s(void 0),c({isTransitioning:!1})}),g(D)}},[y,o,f,n.window]),S.useEffect(()=>{f&&o&&a.location.key===o.location.key&&f.resolve()},[f,d,a.location,o]),S.useEffect(()=>{!l.isTransitioning&&v&&(s(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),m(void 0))},[l.isTransitioning,v]),S.useEffect(()=>{},[]);let x=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,O,D)=>n.navigate(E,{state:O,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(E,O,D)=>n.navigate(E,{replace:!0,state:O,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),T=n.basename||"/",w=S.useMemo(()=>({router:n,navigator:x,static:!1,basename:T}),[n,x,T]),b=S.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return S.createElement(S.Fragment,null,S.createElement(PN.Provider,{value:w},S.createElement(LN.Provider,{value:a},S.createElement(KZ.Provider,{value:p.current},S.createElement(qZ.Provider,{value:l},S.createElement(BZ,{basename:T,location:a.location,navigationType:a.historyAction,navigator:x,future:b},a.initialized||n.future.v7_partialHydration?S.createElement(eJ,{routes:n.routes,future:n.future,state:a}):e))))),null)}const eJ=S.memo(tJ);function tJ(t){let{routes:e,future:n,state:r}=t;return MZ(e,void 0,r,n)}var _D;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_D||(_D={}));var ND;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ND||(ND={}));var $N={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(i=a(i,r(s)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var s in i)e.call(i,s)&&i[s]&&(o=a(o,s));return o}function a(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})($N);var nJ=$N.exports;const Se=No(nJ);function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(null,arguments)}var VN={exports:{}},_r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b7=Symbol.for("react.element"),E7=Symbol.for("react.portal"),n5=Symbol.for("react.fragment"),r5=Symbol.for("react.strict_mode"),a5=Symbol.for("react.profiler"),i5=Symbol.for("react.provider"),o5=Symbol.for("react.context"),rJ=Symbol.for("react.server_context"),s5=Symbol.for("react.forward_ref"),l5=Symbol.for("react.suspense"),c5=Symbol.for("react.suspense_list"),u5=Symbol.for("react.memo"),f5=Symbol.for("react.lazy"),aJ=Symbol.for("react.offscreen"),kN;kN=Symbol.for("react.module.reference");function cs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case b7:switch(t=t.type,t){case n5:case a5:case r5:case l5:case c5:return t;default:switch(t=t&&t.$$typeof,t){case rJ:case o5:case s5:case f5:case u5:case i5:return t;default:return e}}case E7:return e}}}_r.ContextConsumer=o5;_r.ContextProvider=i5;_r.Element=b7;_r.ForwardRef=s5;_r.Fragment=n5;_r.Lazy=f5;_r.Memo=u5;_r.Portal=E7;_r.Profiler=a5;_r.StrictMode=r5;_r.Suspense=l5;_r.SuspenseList=c5;_r.isAsyncMode=function(){return!1};_r.isConcurrentMode=function(){return!1};_r.isContextConsumer=function(t){return cs(t)===o5};_r.isContextProvider=function(t){return cs(t)===i5};_r.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===b7};_r.isForwardRef=function(t){return cs(t)===s5};_r.isFragment=function(t){return cs(t)===n5};_r.isLazy=function(t){return cs(t)===f5};_r.isMemo=function(t){return cs(t)===u5};_r.isPortal=function(t){return cs(t)===E7};_r.isProfiler=function(t){return cs(t)===a5};_r.isStrictMode=function(t){return cs(t)===r5};_r.isSuspense=function(t){return cs(t)===l5};_r.isSuspenseList=function(t){return cs(t)===c5};_r.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===n5||t===a5||t===r5||t===l5||t===c5||t===aJ||typeof t=="object"&&t!==null&&(t.$$typeof===f5||t.$$typeof===u5||t.$$typeof===i5||t.$$typeof===o5||t.$$typeof===s5||t.$$typeof===kN||t.getModuleId!==void 0)};_r.typeOf=cs;VN.exports=_r;var Rm=VN.exports;function os(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return Oe.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(os(r)):Rm.isFragment(r)&&r.props?n=n.concat(os(r.props.children,e)):n.push(r))}),n}var n6={},iJ=function(e){};function oJ(t,e){}function sJ(t,e){}function lJ(){n6={}}function UN(t,e,n){!e&&!n6[n]&&(t(!1,n),n6[n]=!0)}function jr(t,e){UN(oJ,t,e)}function cJ(t,e){UN(sJ,t,e)}jr.preMessage=iJ;jr.resetWarned=lJ;jr.noteOnce=cJ;function qt(t){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(t)}function uJ(t,e){if(qt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BN(t){var e=uJ(t,"string");return qt(e)=="symbol"?e:e+""}function J(t,e,n){return(e=BN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yv(t){return t instanceof HTMLElement||t instanceof SVGElement}function GN(t){return t&&qt(t)==="object"&&yv(t.nativeElement)?t.nativeElement:yv(t)?t:null}function Im(t){var e=GN(t);if(e)return e;if(t instanceof Oe.Component){var n;return(n=hv.findDOMNode)===null||n===void 0?void 0:n.call(hv,t)}return null}function Cf(t,e,n){var r=S.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var Cv=function(e,n){typeof e=="function"?e(n):qt(e)==="object"&&e&&"current"in e&&(e.current=n)},Vo=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);return a.length<=1?a[0]:function(i){n.forEach(function(o){Cv(o,i)})}},xf=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Cf(function(){return Vo.apply(void 0,n)},n,function(a,i){return a.length!==i.length||a.every(function(o,s){return o!==i[s]})})},s0=function(e){var n,r,a=Rm.isMemo(e)?e.type.type:e.type;return!(typeof a=="function"&&!((n=a.prototype)!==null&&n!==void 0&&n.render)&&a.$$typeof!==Rm.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==Rm.ForwardRef)};function r6(t){return S.isValidElement(t)&&!Rm.isFragment(t)}var fJ=function(e){return r6(e)&&s0(e)};Number(S.version.split(".")[0])>=19;var a6=S.createContext(null);function dJ(t){var e=t.children,n=t.onBatchResize,r=S.useRef(0),a=S.useRef([]),i=S.useContext(a6),o=S.useCallback(function(s,l,c){r.current+=1;var f=r.current;a.current.push({size:s,element:l,data:c}),Promise.resolve().then(function(){f===r.current&&(n==null||n(a.current),a.current=[])}),i==null||i(s,l,c)},[n,i]);return S.createElement(a6.Provider,{value:o},e)}var zN=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(a,i){return a[0]===n?(r=i,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),a=this.__entries__[r];return a&&a[1]},e.prototype.set=function(n,r){var a=t(this.__entries__,n);~a?this.__entries__[a][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,a=t(r,n);~a&&r.splice(a,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var a=0,i=this.__entries__;a<i.length;a++){var o=i[a];n.call(r,o[1],o[0])}},e}()}(),i6=typeof window<"u"&&typeof document<"u"&&window.document===document,DS=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),gJ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(DS):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),mJ=2;function vJ(t,e){var n=!1,r=!1,a=0;function i(){n&&(n=!1,t()),r&&s()}function o(){gJ(i)}function s(){var l=Date.now();if(n){if(l-a<mJ)return;r=!0}else n=!0,r=!1,setTimeout(o,e);a=l}return s}var pJ=20,hJ=["top","right","bottom","left","width","height","size","weight"],SJ=typeof MutationObserver<"u",yJ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=vJ(this.refresh.bind(this),pJ)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!i6||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),SJ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!i6||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,a=hJ.some(function(i){return!!~r.indexOf(i)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),WN=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];Object.defineProperty(t,a,{value:e[a],enumerable:!1,writable:!1,configurable:!0})}return t},f1=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||DS},jN=d5(0,0,0,0);function OS(t){return parseFloat(t)||0}function $D(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,a){var i=t["border-"+a+"-width"];return r+OS(i)},0)}function CJ(t){for(var e=["top","right","bottom","left"],n={},r=0,a=e;r<a.length;r++){var i=a[r],o=t["padding-"+i];n[i]=OS(o)}return n}function xJ(t){var e=t.getBBox();return d5(0,0,e.width,e.height)}function TJ(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return jN;var r=f1(t).getComputedStyle(t),a=CJ(r),i=a.left+a.right,o=a.top+a.bottom,s=OS(r.width),l=OS(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+i)!==e&&(s-=$D(r,"left","right")+i),Math.round(l+o)!==n&&(l-=$D(r,"top","bottom")+o)),!bJ(t)){var c=Math.round(s+i)-e,f=Math.round(l+o)-n;Math.abs(c)!==1&&(s-=c),Math.abs(f)!==1&&(l-=f)}return d5(a.left,a.top,s,l)}var wJ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof f1(t).SVGGraphicsElement}:function(t){return t instanceof f1(t).SVGElement&&typeof t.getBBox=="function"}}();function bJ(t){return t===f1(t).document.documentElement}function EJ(t){return i6?wJ(t)?xJ(t):TJ(t):jN}function DJ(t){var e=t.x,n=t.y,r=t.width,a=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return WN(o,{x:e,y:n,width:r,height:a,top:n,right:e+r,bottom:a+n,left:e}),o}function d5(t,e,n,r){return{x:t,y:e,width:n,height:r}}var OJ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=d5(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=EJ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),RJ=function(){function t(e,n){var r=DJ(n);WN(this,{target:e,contentRect:r})}return t}(),IJ=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new zN,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof f1(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new OJ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof f1(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new RJ(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),HN=typeof WeakMap<"u"?new WeakMap:new zN,qN=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=yJ.getInstance(),r=new IJ(e,n,this);HN.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){qN.prototype[t]=function(){var e;return(e=HN.get(this))[t].apply(e,arguments)}});var AJ=function(){return typeof DS.ResizeObserver<"u"?DS.ResizeObserver:qN}(),oc=new Map;function MJ(t){t.forEach(function(e){var n,r=e.target;(n=oc.get(r))===null||n===void 0||n.forEach(function(a){return a(r)})})}var KN=new AJ(MJ);function PJ(t,e){oc.has(t)||(oc.set(t,new Set),KN.observe(t)),oc.get(t).add(e)}function LJ(t,e){oc.has(t)&&(oc.get(t).delete(e),oc.get(t).size||(KN.unobserve(t),oc.delete(t)))}function ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BN(r.key),r)}}function fa(t,e,n){return e&&VD(t.prototype,e),n&&VD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xv(t,e){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xv(t,e)}function ko(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xv(t,e)}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tv(t)}function D7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D7=function(){return!!t})()}function dt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _J(t,e){if(e&&(qt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}function Uo(t){var e=D7();return function(){var n,r=Tv(t);if(e){var a=Tv(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _J(this,n)}}var NJ=function(t){ko(n,t);var e=Uo(n);function n(){return ua(this,n),e.apply(this,arguments)}return fa(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function FJ(t,e){var n=t.children,r=t.disabled,a=S.useRef(null),i=S.useRef(null),o=S.useContext(a6),s=typeof n=="function",l=s?n(a):n,c=S.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!s&&S.isValidElement(l)&&s0(l),u=f?l.ref:null,d=xf(u,a),g=function(){var h;return Im(a.current)||(a.current&&qt(a.current)==="object"?Im((h=a.current)===null||h===void 0?void 0:h.nativeElement):null)||Im(i.current)};S.useImperativeHandle(e,function(){return g()});var v=S.useRef(t);v.current=t;var m=S.useCallback(function(p){var h=v.current,y=h.onResize,C=h.data,x=p.getBoundingClientRect(),T=x.width,w=x.height,b=p.offsetWidth,E=p.offsetHeight,O=Math.floor(T),D=Math.floor(w);if(c.current.width!==O||c.current.height!==D||c.current.offsetWidth!==b||c.current.offsetHeight!==E){var R={width:O,height:D,offsetWidth:b,offsetHeight:E};c.current=R;var I=b===Math.round(T)?T:b,M=E===Math.round(w)?w:E,A=ie(ie({},R),{},{offsetWidth:I,offsetHeight:M});o==null||o(A,p,C),y&&Promise.resolve().then(function(){y(A,p)})}},[]);return S.useEffect(function(){var p=g();return p&&!r&&PJ(p,m),function(){return LJ(p,m)}},[a.current,r]),S.createElement(NJ,{ref:i},f?S.cloneElement(l,{ref:d}):l)}var $J=S.forwardRef(FJ),VJ="rc-observer-key";function kJ(t,e){var n=t.children,r=typeof n=="function"?[n]:os(n);return r.map(function(a,i){var o=(a==null?void 0:a.key)||"".concat(VJ,"-").concat(i);return S.createElement($J,tt({},t,{key:o,ref:i===0?e:void 0}),a)})}var Vs=S.forwardRef(kJ);Vs.Collection=dJ;function $a(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}function o6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function UJ(t){if(Array.isArray(t))return o6(t)}function QN(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O7(t,e){if(t){if(typeof t=="string")return o6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o6(t,e):void 0}}function BJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ze(t){return UJ(t)||QN(t)||O7(t)||BJ()}var XN=function(e){return+setTimeout(e,16)},YN=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(XN=function(e){return window.requestAnimationFrame(e)},YN=function(e){return window.cancelAnimationFrame(e)});var kD=0,R7=new Map;function ZN(t){R7.delete(t)}var ur=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;kD+=1;var r=kD;function a(i){if(i===0)ZN(r),e();else{var o=XN(function(){a(i-1)});R7.set(r,o)}}return a(n),r};ur.cancel=function(t){var e=R7.get(t);return ZN(t),YN(e)};function JN(t){if(Array.isArray(t))return t}function GJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,s=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){c=!0,a=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}function eF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ae(t,e){return JN(t)||GJ(t,e)||O7(t,e)||eF()}function wv(t){for(var e=0,n,r=0,a=t.length;a>=4;++r,a-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function fi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function s6(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var UD="data-rc-order",BD="data-rc-priority",zJ="rc-util-key",l6=new Map;function tF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):zJ}function g5(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function WJ(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function I7(t){return Array.from((l6.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function nF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!fi())return null;var n=e.csp,r=e.prepend,a=e.priority,i=a===void 0?0:a,o=WJ(r),s=o==="prependQueue",l=document.createElement("style");l.setAttribute(UD,o),s&&i&&l.setAttribute(BD,"".concat(i)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=t;var c=g5(e),f=c.firstChild;if(r){if(s){var u=(e.styles||I7(c)).filter(function(d){if(!["prepend","prependQueue"].includes(d.getAttribute(UD)))return!1;var g=Number(d.getAttribute(BD)||0);return i>=g});if(u.length)return c.insertBefore(l,u[u.length-1].nextSibling),l}c.insertBefore(l,f)}else c.appendChild(l);return l}function rF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=g5(e);return(e.styles||I7(n)).find(function(r){return r.getAttribute(tF(e))===t})}function bv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=rF(t,e);if(n){var r=g5(e);r.removeChild(n)}}function jJ(t,e){var n=l6.get(t);if(!n||!s6(document,n)){var r=nF("",e),a=r.parentNode;l6.set(t,a),t.removeChild(r)}}function j0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=g5(n),a=I7(r),i=ie(ie({},n),{},{styles:a});jJ(r,i);var o=rF(e,i);if(o){var s,l;if((s=i.csp)!==null&&s!==void 0&&s.nonce&&o.nonce!==((l=i.csp)===null||l===void 0?void 0:l.nonce)){var c;o.nonce=(c=i.csp)===null||c===void 0?void 0:c.nonce}return o.innerHTML!==t&&(o.innerHTML=t),o}var f=nF(t,i);return f.setAttribute(tF(i),e),f}function HJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Tn(t,e){if(t==null)return{};var n,r,a=HJ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _s(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function a(i,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(i);if(jr(!l,"Warning: There may be circular references"),l)return!1;if(i===o)return!0;if(n&&s>1)return!1;r.add(i);var c=s+1;if(Array.isArray(i)){if(!Array.isArray(o)||i.length!==o.length)return!1;for(var f=0;f<i.length;f++)if(!a(i[f],o[f],c))return!1;return!0}if(i&&o&&qt(i)==="object"&&qt(o)==="object"){var u=Object.keys(i);return u.length!==Object.keys(o).length?!1:u.every(function(d){return a(i[d],o[d],c)})}return!1}return a(t,e)}var qJ="%";function c6(t){return t.join(qJ)}var KJ=function(){function t(e){ua(this,t),J(this,"instanceId",void 0),J(this,"cache",new Map),this.instanceId=e}return fa(t,[{key:"get",value:function(n){return this.opGet(c6(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(c6(n),r)}},{key:"opUpdate",value:function(n,r){var a=this.cache.get(n),i=r(a);i===null?this.cache.delete(n):this.cache.set(n,i)}}]),t}(),d1="data-token-hash",Ms="data-css-hash",sc="__cssinjs_instance__";function QJ(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Ms,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(a){a[sc]=a[sc]||t,a[sc]===t&&document.head.insertBefore(a,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Ms,"]"))).forEach(function(a){var i=a.getAttribute(Ms);if(r[i]){if(a[sc]===t){var o;(o=a.parentNode)===null||o===void 0||o.removeChild(a)}}else r[i]=!0})}return new KJ(t)}var m5=S.createContext({hashPriority:"low",cache:QJ(),defaultCache:!0});function XJ(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var A7=function(){function t(){ua(this,t),J(this,"cache",void 0),J(this,"keys",void 0),J(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return fa(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o={map:this.cache};return n.forEach(function(s){if(!o)o=void 0;else{var l;o=(l=o)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(s)}}),(r=o)!==null&&r!==void 0&&r.value&&i&&(o.value[1]=this.cacheCallTimes++),(a=o)===null||a===void 0?void 0:a.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var a=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var i=this.keys.reduce(function(c,f){var u=Ae(c,2),d=u[1];return a.internalGet(f)[1]<d?[f,a.internalGet(f)[1]]:c},[this.keys[0],this.cacheCallTimes]),o=Ae(i,1),s=o[0];this.delete(s)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,f){if(f===n.length-1)l.set(c,{value:[r,a.cacheCallTimes++]});else{var u=l.get(c);u?u.map||(u.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var a=n.get(r[0]);if(r.length===1){var i;return a.map?n.set(r[0],{map:a.map}):n.delete(r[0]),(i=a.value)===null||i===void 0?void 0:i[0]}var o=this.deleteByPath(a.map,r.slice(1));return(!a.map||a.map.size===0)&&!a.value&&n.delete(r[0]),o}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!XJ(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();J(A7,"MAX_CACHE_SIZE",20);J(A7,"MAX_CACHE_OFFSET",5);var GD=0,aF=function(){function t(e){ua(this,t),J(this,"derivatives",void 0),J(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=GD,e.length===0&&(e.length>0,void 0),GD+=1}return fa(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,a){return a(n,r)},void 0)}}]),t}(),m4=new A7;function u6(t){var e=Array.isArray(t)?t:[t];return m4.has(e)||m4.set(e,new aF(e)),m4.get(e)}var YJ=new WeakMap,v4={};function ZJ(t,e){for(var n=YJ,r=0;r<e.length;r+=1){var a=e[r];n.has(a)||n.set(a,new WeakMap),n=n.get(a)}return n.has(v4)||n.set(v4,t()),n.get(v4)}var zD=new WeakMap;function Am(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=zD.get(t)||"";return n||(Object.keys(t).forEach(function(r){var a=t[r];n+=r,a instanceof aF?n+=a.id:a&&qt(a)==="object"?n+=Am(a,e):n+=a}),e&&(n=wv(n)),zD.set(t,n)),n}function WD(t,e){return wv("".concat(e,"_").concat(Am(t,!0)))}var f6=fi();function xe(t){return typeof t=="number"?"".concat(t,"px"):t}function RS(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(a)return t;var i=ie(ie({},r),{},J(J({},d1,e),Ms,n)),o=Object.keys(i).map(function(s){var l=i[s];return l?"".concat(s,'="').concat(l,'"'):null}).filter(function(s){return s}).join(" ");return"<style ".concat(o,">").concat(t,"</style>")}var g2=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},JJ=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(a){var i=Ae(a,2),o=i[0],s=i[1];return"".concat(o,":").concat(s,";")}).join(""),"}"):""},iF=function(e,n,r){var a={},i={};return Object.entries(e).forEach(function(o){var s,l,c=Ae(o,2),f=c[0],u=c[1];if(r!=null&&(s=r.preserve)!==null&&s!==void 0&&s[f])i[f]=u;else if((typeof u=="string"||typeof u=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[f])){var d,g=g2(f,r==null?void 0:r.prefix);a[g]=typeof u=="number"&&!(r!=null&&(d=r.unitless)!==null&&d!==void 0&&d[f])?"".concat(u,"px"):String(u),i[f]="var(".concat(g,")")}}),[i,JJ(a,n,{scope:r==null?void 0:r.scope})]},jD=fi()?S.useLayoutEffect:S.useEffect,wr=function(e,n){var r=S.useRef(!0);jD(function(){return e(r.current)},n),jD(function(){return r.current=!1,function(){r.current=!0}},[])},HD=function(e,n){wr(function(r){if(!r)return e()},n)},eee=ie({},np),qD=eee.useInsertionEffect,tee=function(e,n,r){S.useMemo(e,r),wr(function(){return n(!0)},r)},nee=qD?function(t,e,n){return qD(function(){return t(),e()},n)}:tee,ree=ie({},np),aee=ree.useInsertionEffect,iee=function(e){var n=[],r=!1;function a(i){r||n.push(i)}return S.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(i){return i()})}},e),a},oee=function(){return function(e){e()}},see=typeof aee<"u"?iee:oee;function M7(t,e,n,r,a){var i=S.useContext(m5),o=i.cache,s=[t].concat(Ze(e)),l=c6(s),c=see([l]),f=function(v){o.opUpdate(l,function(m){var p=m||[void 0,void 0],h=Ae(p,2),y=h[0],C=y===void 0?0:y,x=h[1],T=x,w=T||n(),b=[C,w];return v?v(b):b})};S.useMemo(function(){f()},[l]);var u=o.opGet(l),d=u[1];return nee(function(){a==null||a(d)},function(g){return f(function(v){var m=Ae(v,2),p=m[0],h=m[1];return g&&p===0&&(a==null||a(d)),[p+1,h]}),function(){o.opUpdate(l,function(v){var m=v||[],p=Ae(m,2),h=p[0],y=h===void 0?0:h,C=p[1],x=y-1;return x===0?(c(function(){(g||!o.opGet(l))&&(r==null||r(C,!1))}),null):[y-1,C]})}},[l]),d}var lee={},cee="css",bu=new Map;function uee(t){bu.set(t,(bu.get(t)||0)+1)}function fee(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(d1,'="').concat(t,'"]'));n.forEach(function(r){if(r[sc]===e){var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)}})}}var dee=0;function gee(t,e){bu.set(t,(bu.get(t)||0)-1);var n=Array.from(bu.keys()),r=n.filter(function(a){var i=bu.get(a)||0;return i<=0});n.length-r.length>dee&&r.forEach(function(a){fee(a,e),bu.delete(a)})}var mee=function(e,n,r,a){var i=r.getDerivativeToken(e),o=ie(ie({},i),n);return a&&(o=a(o)),o},oF="token";function vee(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=S.useContext(m5),a=r.cache.instanceId,i=r.container,o=n.salt,s=o===void 0?"":o,l=n.override,c=l===void 0?lee:l,f=n.formatToken,u=n.getComputedToken,d=n.cssVar,g=ZJ(function(){return Object.assign.apply(Object,[{}].concat(Ze(e)))},e),v=Am(g),m=Am(c),p=d?Am(d):"",h=M7(oF,[s,t.id,v,m,p],function(){var y,C=u?u(g,c,t):mee(g,c,t,f),x=ie({},C),T="";if(d){var w=iF(C,d.key,{prefix:d.prefix,ignore:d.ignore,unitless:d.unitless,preserve:d.preserve}),b=Ae(w,2);C=b[0],T=b[1]}var E=WD(C,s);C._tokenKey=E,x._tokenKey=WD(x,s);var O=(y=d==null?void 0:d.key)!==null&&y!==void 0?y:E;C._themeKey=O,uee(O);var D="".concat(cee,"-").concat(wv(E));return C._hashId=D,[C,D,x,T,(d==null?void 0:d.key)||""]},function(y){gee(y[0]._themeKey,a)},function(y){var C=Ae(y,4),x=C[0],T=C[3];if(d&&T){var w=j0(T,wv("css-variables-".concat(x._themeKey)),{mark:Ms,prepend:"queue",attachTo:i,priority:-999});w[sc]=a,w.setAttribute(d1,x._themeKey)}});return h}var pee=function(e,n,r){var a=Ae(e,5),i=a[2],o=a[3],s=a[4],l=r||{},c=l.plain;if(!o)return null;var f=i._tokenKey,u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},g=RS(o,s,f,d,c);return[u,f,g]},hee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sF="comm",lF="rule",cF="decl",See="@import",yee="@keyframes",Cee="@layer",uF=Math.abs,P7=String.fromCharCode;function fF(t){return t.trim()}function m2(t,e,n){return t.replace(e,n)}function xee(t,e,n){return t.indexOf(e,n)}function Ev(t,e){return t.charCodeAt(e)|0}function g1(t,e,n){return t.slice(e,n)}function Xs(t){return t.length}function Tee(t){return t.length}function ah(t,e){return e.push(t),t}var v5=1,m1=1,dF=0,ss=0,za=0,K1="";function L7(t,e,n,r,a,i,o,s){return{value:t,root:e,parent:n,type:r,props:a,children:i,line:v5,column:m1,length:o,return:"",siblings:s}}function wee(){return za}function bee(){return za=ss>0?Ev(K1,--ss):0,m1--,za===10&&(m1=1,v5--),za}function Ps(){return za=ss<dF?Ev(K1,ss++):0,m1++,za===10&&(m1=1,v5++),za}function lc(){return Ev(K1,ss)}function v2(){return ss}function p5(t,e){return g1(K1,t,e)}function Dv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Eee(t){return v5=m1=1,dF=Xs(K1=t),ss=0,[]}function Dee(t){return K1="",t}function p4(t){return fF(p5(ss-1,d6(t===91?t+2:t===40?t+1:t)))}function Oee(t){for(;(za=lc())&&za<33;)Ps();return Dv(t)>2||Dv(za)>3?"":" "}function Ree(t,e){for(;--e&&Ps()&&!(za<48||za>102||za>57&&za<65||za>70&&za<97););return p5(t,v2()+(e<6&&lc()==32&&Ps()==32))}function d6(t){for(;Ps();)switch(za){case t:return ss;case 34:case 39:t!==34&&t!==39&&d6(za);break;case 40:t===41&&d6(t);break;case 92:Ps();break}return ss}function Iee(t,e){for(;Ps()&&t+za!==57;)if(t+za===84&&lc()===47)break;return"/*"+p5(e,ss-1)+"*"+P7(t===47?t:Ps())}function Aee(t){for(;!Dv(lc());)Ps();return p5(t,ss)}function Mee(t){return Dee(p2("",null,null,null,[""],t=Eee(t),0,[0],t))}function p2(t,e,n,r,a,i,o,s,l){for(var c=0,f=0,u=o,d=0,g=0,v=0,m=1,p=1,h=1,y=0,C="",x=a,T=i,w=r,b=C;p;)switch(v=y,y=Ps()){case 40:if(v!=108&&Ev(b,u-1)==58){xee(b+=m2(p4(y),"&","&\f"),"&\f",uF(c?s[c-1]:0))!=-1&&(h=-1);break}case 34:case 39:case 91:b+=p4(y);break;case 9:case 10:case 13:case 32:b+=Oee(v);break;case 92:b+=Ree(v2()-1,7);continue;case 47:switch(lc()){case 42:case 47:ah(Pee(Iee(Ps(),v2()),e,n,l),l),(Dv(v||1)==5||Dv(lc()||1)==5)&&Xs(b)&&g1(b,-1,void 0)!==" "&&(b+=" ");break;default:b+="/"}break;case 123*m:s[c++]=Xs(b)*h;case 125*m:case 59:case 0:switch(y){case 0:case 125:p=0;case 59+f:h==-1&&(b=m2(b,/\f/g,"")),g>0&&(Xs(b)-u||m===0&&v===47)&&ah(g>32?QD(b+";",r,n,u-1,l):QD(m2(b," ","")+";",r,n,u-2,l),l);break;case 59:b+=";";default:if(ah(w=KD(b,e,n,c,f,a,s,C,x=[],T=[],u,i),i),y===123)if(f===0)p2(b,e,w,w,x,i,u,s,T);else switch(d===99&&Ev(b,3)===110?100:d){case 100:case 108:case 109:case 115:p2(t,w,w,r&&ah(KD(t,w,w,0,0,a,s,C,a,x=[],u,T),T),a,T,u,s,r?x:T);break;default:p2(b,w,w,w,[""],T,0,s,T)}}c=f=g=0,m=h=1,C=b="",u=o;break;case 58:u=1+Xs(b),g=v;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&bee()==125)continue}switch(b+=P7(y),y*m){case 38:h=f>0?1:(b+="\f",-1);break;case 44:s[c++]=(Xs(b)-1)*h,h=1;break;case 64:lc()===45&&(b+=p4(Ps())),d=lc(),f=u=Xs(C=b+=Aee(v2())),y++;break;case 45:v===45&&Xs(b)==2&&(m=0)}}return i}function KD(t,e,n,r,a,i,o,s,l,c,f,u){for(var d=a-1,g=a===0?i:[""],v=Tee(g),m=0,p=0,h=0;m<r;++m)for(var y=0,C=g1(t,d+1,d=uF(p=o[m])),x=t;y<v;++y)(x=fF(p>0?g[y]+" "+C:m2(C,/&\f/g,g[y])))&&(l[h++]=x);return L7(t,e,n,a===0?lF:s,l,c,f,u)}function Pee(t,e,n,r){return L7(t,e,n,sF,P7(wee()),g1(t,2,-2),0,r)}function QD(t,e,n,r,a){return L7(t,e,n,cF,g1(t,0,r),g1(t,r+1,-1),r,a)}function g6(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Lee(t,e,n,r){switch(t.type){case Cee:if(t.children.length)break;case See:case cF:return t.return=t.return||t.value;case sF:return"";case yee:return t.return=t.value+"{"+g6(t.children,r)+"}";case lF:if(!Xs(t.value=t.props.join(",")))return""}return Xs(n=g6(t.children,r))?t.return=t.value+"{"+n+"}":""}var XD="data-ant-cssinjs-cache-path",gF="_FILE_STYLE__",ju,mF=!0;function _ee(){if(!ju&&(ju={},fi())){var t=document.createElement("div");t.className=XD,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(a){var i=a.split(":"),o=Ae(i,2),s=o[0],l=o[1];ju[s]=l});var n=document.querySelector("style[".concat(XD,"]"));if(n){var r;mF=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function Nee(t){return _ee(),!!ju[t]}function Fee(t){var e=ju[t],n=null;if(e&&fi())if(mF)n=gF;else{var r=document.querySelector("style[".concat(Ms,'="').concat(ju[t],'"]'));r?n=r.innerHTML:delete ju[t]}return[n,e]}var $ee="_skip_check_",vF="_multi_value_";function h2(t){var e=g6(Mee(t),Lee);return e.replace(/\{%%%\:[^;];}/g,";")}function Vee(t){return qt(t)==="object"&&t&&($ee in t||vF in t)}function YD(t,e,n){if(!e)return t;var r=".".concat(e),a=n==="low"?":where(".concat(r,")"):r,i=t.split(",").map(function(o){var s,l=o.trim().split(/\s+/),c=l[0]||"",f=((s=c.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return c="".concat(f).concat(a).concat(c.slice(f.length)),[c].concat(Ze(l.slice(1))).join(" ")});return i.join(",")}var kee=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,i=r.injectHash,o=r.parentSelectors,s=n.hashId,l=n.layer;n.path;var c=n.hashPriority,f=n.transformers,u=f===void 0?[]:f;n.linters;var d="",g={};function v(h){var y=h.getName(s);if(!g[y]){var C=t(h.style,n,{root:!1,parentSelectors:o}),x=Ae(C,1),T=x[0];g[y]="@keyframes ".concat(h.getName(s)).concat(T)}}function m(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return h.forEach(function(C){Array.isArray(C)?m(C,y):C&&y.push(C)}),y}var p=m(Array.isArray(e)?e:[e]);return p.forEach(function(h){var y=typeof h=="string"&&!a?{}:h;if(typeof y=="string")d+="".concat(y,`
`);else if(y._keyframe)v(y);else{var C=u.reduce(function(x,T){var w;return(T==null||(w=T.visit)===null||w===void 0?void 0:w.call(T,x))||x},y);Object.keys(C).forEach(function(x){var T=C[x];if(qt(T)==="object"&&T&&(x!=="animationName"||!T._keyframe)&&!Vee(T)){var w=!1,b=x.trim(),E=!1;(a||i)&&s?b.startsWith("@")?w=!0:b==="&"?b=YD("",s,c):b=YD(x,s,c):a&&!s&&(b==="&"||b==="")&&(b="",E=!0);var O=t(T,n,{root:E,injectHash:w,parentSelectors:[].concat(Ze(o),[b])}),D=Ae(O,2),R=D[0],I=D[1];g=ie(ie({},g),I),d+="".concat(b).concat(R)}else{let B=function(L,F){var _=L.replace(/[A-Z]/g,function(N){return"-".concat(N.toLowerCase())}),P=F;!hee[L]&&typeof P=="number"&&P!==0&&(P="".concat(P,"px")),L==="animationName"&&F!==null&&F!==void 0&&F._keyframe&&(v(F),P=F.getName(s)),d+="".concat(_,":").concat(P,";")};var M,A=(M=T==null?void 0:T.value)!==null&&M!==void 0?M:T;qt(T)==="object"&&T!==null&&T!==void 0&&T[vF]&&Array.isArray(A)?A.forEach(function(L){B(x,L)}):B(x,A)}})}}),a?l&&(d="@layer ".concat(l.name," {").concat(d,"}"),l.dependencies&&(g["@layer ".concat(l.name)]=l.dependencies.map(function(h){return"@layer ".concat(h,", ").concat(l.name,";")}).join(`
`))):d="{".concat(d,"}"),[d,g]};function pF(t,e){return wv("".concat(t.join("%")).concat(e))}function Uee(){return null}var hF="style";function m6(t,e){var n=t.token,r=t.path,a=t.hashId,i=t.layer,o=t.nonce,s=t.clientOnly,l=t.order,c=l===void 0?0:l,f=S.useContext(m5),u=f.autoClear;f.mock;var d=f.defaultCache,g=f.hashPriority,v=f.container,m=f.ssrInline,p=f.transformers,h=f.linters,y=f.cache,C=f.layer,x=n._tokenKey,T=[x];C&&T.push("layer"),T.push.apply(T,Ze(r));var w=f6,b=M7(hF,T,function(){var I=T.join("|");if(Nee(I)){var M=Fee(I),A=Ae(M,2),B=A[0],L=A[1];if(B)return[B,x,L,{},s,c]}var F=e(),_=kee(F,{hashId:a,hashPriority:g,layer:C?i:void 0,path:r.join("-"),transformers:p,linters:h}),P=Ae(_,2),N=P[0],k=P[1],H=h2(N),K=pF(T,H);return[H,x,K,k,s,c]},function(I,M){var A=Ae(I,3),B=A[2];(M||u)&&f6&&bv(B,{mark:Ms})},function(I){var M=Ae(I,4),A=M[0];M[1];var B=M[2],L=M[3];if(w&&A!==gF){var F={mark:Ms,prepend:C?!1:"queue",attachTo:v,priority:c},_=typeof o=="function"?o():o;_&&(F.csp={nonce:_});var P=[],N=[];Object.keys(L).forEach(function(H){H.startsWith("@layer")?P.push(H):N.push(H)}),P.forEach(function(H){j0(h2(L[H]),"_layer-".concat(H),ie(ie({},F),{},{prepend:!0}))});var k=j0(A,B,F);k[sc]=y.instanceId,k.setAttribute(d1,x),N.forEach(function(H){j0(h2(L[H]),"_effect-".concat(H),F)})}}),E=Ae(b,3),O=E[0],D=E[1],R=E[2];return function(I){var M;return!m||w||!d?M=S.createElement(Uee,null):M=S.createElement("style",tt({},J(J({},d1,D),Ms,R),{dangerouslySetInnerHTML:{__html:O}})),S.createElement(S.Fragment,null,M,I)}}var Bee=function(e,n,r){var a=Ae(e,6),i=a[0],o=a[1],s=a[2],l=a[3],c=a[4],f=a[5],u=r||{},d=u.plain;if(c)return null;var g=i,v={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)};return g=RS(i,o,s,v,d),l&&Object.keys(l).forEach(function(m){if(!n[m]){n[m]=!0;var p=h2(l[m]),h=RS(p,o,"_effect-".concat(m),v,d);m.startsWith("@layer")?g=h+g:g+=h}}),[f,s,g]},SF="cssVar",Gee=function(e,n){var r=e.key,a=e.prefix,i=e.unitless,o=e.ignore,s=e.token,l=e.scope,c=l===void 0?"":l,f=S.useContext(m5),u=f.cache.instanceId,d=f.container,g=s._tokenKey,v=[].concat(Ze(e.path),[r,c,g]),m=M7(SF,v,function(){var p=n(),h=iF(p,r,{prefix:a,unitless:i,ignore:o,scope:c}),y=Ae(h,2),C=y[0],x=y[1],T=pF(v,x);return[C,x,T,r]},function(p){var h=Ae(p,3),y=h[2];f6&&bv(y,{mark:Ms})},function(p){var h=Ae(p,3),y=h[1],C=h[2];if(y){var x=j0(y,C,{mark:Ms,prepend:"queue",attachTo:d,priority:-999});x[sc]=u,x.setAttribute(d1,r)}});return m},zee=function(e,n,r){var a=Ae(e,4),i=a[1],o=a[2],s=a[3],l=r||{},c=l.plain;if(!i)return null;var f=-999,u={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},d=RS(i,s,o,u,c);return[f,o,d]};J(J(J({},hF,Bee),oF,pee),SF,zee);var er=function(){function t(e,n){ua(this,t),J(this,"name",void 0),J(this,"style",void 0),J(this,"_keyframe",!0),this.name=e,this.style=n}return fa(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function Lf(t){return t.notSplit=!0,t}Lf(["borderTop","borderBottom"]),Lf(["borderTop"]),Lf(["borderBottom"]),Lf(["borderLeft","borderRight"]),Lf(["borderLeft"]),Lf(["borderRight"]);var _7=S.createContext({});function yF(t){return JN(t)||QN(t)||O7(t)||eF()}function Ro(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function CF(t,e,n,r){if(!e.length)return n;var a=yF(e),i=a[0],o=a.slice(1),s;return!t&&typeof i=="number"?s=[]:Array.isArray(t)?s=Ze(t):s=ie({},t),r&&n===void 0&&o.length===1?delete s[i][o[0]]:s[i]=CF(s[i],o,n,r),s}function xs(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Ro(t,e.slice(0,-1))?t:CF(t,e,n,r)}function Wee(t){return qt(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function ZD(t){return Array.isArray(t)?[]:{}}var jee=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Cd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=ZD(e[0]);return e.forEach(function(a){function i(o,s){var l=new Set(s),c=Ro(a,o),f=Array.isArray(c);if(f||Wee(c)){if(!l.has(c)){l.add(c);var u=Ro(r,o);f?r=xs(r,o,[]):(!u||qt(u)!=="object")&&(r=xs(r,o,ZD(c))),jee(c).forEach(function(d){i([].concat(Ze(o),[d]),l)})}}else r=xs(r,o,c)}i([])}),r}function Hee(){}const qee=S.createContext({}),Tf=()=>{const t=()=>{};return t.deprecated=Hee,t},Kee=S.createContext(void 0);var xF={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Qee={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Xee=ie(ie({},Qee),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const TF={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},JD={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Xee),timePickerLocale:Object.assign({},TF)},po="${label} is not a valid ${type}",il={locale:"en",Pagination:xF,DatePicker:JD,TimePicker:TF,Calendar:JD,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:po,method:po,array:po,object:po,number:po,date:po,boolean:po,integer:po,float:po,regexp:po,email:po,url:po,hex:po},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let S2=Object.assign({},il.Modal),y2=[];const eO=()=>y2.reduce((t,e)=>Object.assign(Object.assign({},t),e),il.Modal);function Yee(t){if(t){const e=Object.assign({},t);return y2.push(e),S2=eO(),()=>{y2=y2.filter(n=>n!==e),S2=eO()}}S2=Object.assign({},il.Modal)}function wF(){return S2}const N7=S.createContext(void 0),Q1=(t,e)=>{const n=S.useContext(N7),r=S.useMemo(()=>{var i;const o=e||il[t],s=(i=n==null?void 0:n[t])!==null&&i!==void 0?i:{};return Object.assign(Object.assign({},typeof o=="function"?o():o),s||{})},[t,e,n]),a=S.useMemo(()=>{const i=n==null?void 0:n.locale;return n!=null&&n.exist&&!i?il.locale:i},[n]);return[r,a]},Zee="internalMark",Jee=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;S.useEffect(()=>Yee(e==null?void 0:e.Modal),[e]);const a=S.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return S.createElement(N7.Provider,{value:a},n)};function yi(t,e){ete(t)&&(t="100%");var n=tte(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function ih(t){return Math.min(1,Math.max(0,t))}function ete(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function tte(t){return typeof t=="string"&&t.indexOf("%")!==-1}function bF(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function oh(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Lu(t){return t.length===1?"0"+t:String(t)}function nte(t,e,n){return{r:yi(t,255)*255,g:yi(e,255)*255,b:yi(n,255)*255}}function tO(t,e,n){t=yi(t,255),e=yi(e,255),n=yi(n,255);var r=Math.max(t,e,n),a=Math.min(t,e,n),i=0,o=0,s=(r+a)/2;if(r===a)o=0,i=0;else{var l=r-a;switch(o=s>.5?l/(2-r-a):l/(r+a),r){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4;break}i/=6}return{h:i,s:o,l:s}}function h4(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rte(t,e,n){var r,a,i;if(t=yi(t,360),e=yi(e,100),n=yi(n,100),e===0)a=n,i=n,r=n;else{var o=n<.5?n*(1+e):n+e-n*e,s=2*n-o;r=h4(s,o,t+1/3),a=h4(s,o,t),i=h4(s,o,t-1/3)}return{r:r*255,g:a*255,b:i*255}}function v6(t,e,n){t=yi(t,255),e=yi(e,255),n=yi(n,255);var r=Math.max(t,e,n),a=Math.min(t,e,n),i=0,o=r,s=r-a,l=r===0?0:s/r;if(r===a)i=0;else{switch(r){case t:i=(e-n)/s+(e<n?6:0);break;case e:i=(n-t)/s+2;break;case n:i=(t-e)/s+4;break}i/=6}return{h:i,s:l,v:o}}function ate(t,e,n){t=yi(t,360)*6,e=yi(e,100),n=yi(n,100);var r=Math.floor(t),a=t-r,i=n*(1-e),o=n*(1-a*e),s=n*(1-(1-a)*e),l=r%6,c=[n,o,i,i,s,n][l],f=[s,n,n,o,i,i][l],u=[i,i,s,n,n,o][l];return{r:c*255,g:f*255,b:u*255}}function p6(t,e,n,r){var a=[Lu(Math.round(t).toString(16)),Lu(Math.round(e).toString(16)),Lu(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function ite(t,e,n,r,a){var i=[Lu(Math.round(t).toString(16)),Lu(Math.round(e).toString(16)),Lu(Math.round(n).toString(16)),Lu(ote(r))];return a&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function ote(t){return Math.round(parseFloat(t)*255).toString(16)}function nO(t){return xo(t)/255}function xo(t){return parseInt(t,16)}function ste(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var h6={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function nd(t){var e={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return typeof t=="string"&&(t=ute(t)),typeof t=="object"&&(E0(t.r)&&E0(t.g)&&E0(t.b)?(e=nte(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):E0(t.h)&&E0(t.s)&&E0(t.v)?(r=oh(t.s),a=oh(t.v),e=ate(t.h,r,a),o=!0,s="hsv"):E0(t.h)&&E0(t.s)&&E0(t.l)&&(r=oh(t.s),i=oh(t.l),e=rte(t.h,r,i),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=bF(n),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var lte="[-\\+]?\\d+%?",cte="[-\\+]?\\d*\\.\\d+%?",cc="(?:".concat(cte,")|(?:").concat(lte,")"),S4="[\\s|\\(]+(".concat(cc,")[,|\\s]+(").concat(cc,")[,|\\s]+(").concat(cc,")\\s*\\)?"),y4="[\\s|\\(]+(".concat(cc,")[,|\\s]+(").concat(cc,")[,|\\s]+(").concat(cc,")[,|\\s]+(").concat(cc,")\\s*\\)?"),ms={CSS_UNIT:new RegExp(cc),rgb:new RegExp("rgb"+S4),rgba:new RegExp("rgba"+y4),hsl:new RegExp("hsl"+S4),hsla:new RegExp("hsla"+y4),hsv:new RegExp("hsv"+S4),hsva:new RegExp("hsva"+y4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ute(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(h6[t])t=h6[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=ms.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=ms.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ms.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=ms.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ms.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=ms.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ms.hex8.exec(t),n?{r:xo(n[1]),g:xo(n[2]),b:xo(n[3]),a:nO(n[4]),format:e?"name":"hex8"}:(n=ms.hex6.exec(t),n?{r:xo(n[1]),g:xo(n[2]),b:xo(n[3]),format:e?"name":"hex"}:(n=ms.hex4.exec(t),n?{r:xo(n[1]+n[1]),g:xo(n[2]+n[2]),b:xo(n[3]+n[3]),a:nO(n[4]+n[4]),format:e?"name":"hex8"}:(n=ms.hex3.exec(t),n?{r:xo(n[1]+n[1]),g:xo(n[2]+n[2]),b:xo(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function E0(t){return!!ms.CSS_UNIT.exec(String(t))}var Pr=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=ste(e)),this.originalInput=e;var a=nd(e);this.originalInput=e,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,a,i=e.r/255,o=e.g/255,s=e.b/255;return i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*a},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=bF(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=v6(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=v6(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),a=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=tO(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=tO(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),a=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),p6(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),ite(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(yi(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(yi(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+p6(this.r,this.g,this.b,!1),n=0,r=Object.entries(h6);n<r.length;n++){var a=r[n],i=a[0],o=a[1];if(e===o)return i}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,a=this.a<1&&this.a>=0,i=!n&&a&&(e.startsWith("hex")||e==="name");return i?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=ih(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=ih(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=ih(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=ih(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),a=new t(e).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return new t(o)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),a=360/n,i=[this];for(r.h=(r.h-(a*e>>1)+720)%360;--e;)r.h=(r.h+a)%360,i.push(new t(r));return i},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/e;e--;)o.push(new t({h:r,s:a,v:i})),i=(i+s)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),a=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/a,g:(n.g*n.a+r.g*r.a*(1-n.a))/a,b:(n.b*n.a+r.b*r.a*(1-n.a))/a,a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,a=[this],i=360/e,o=1;o<e;o++)a.push(new t({h:(r+o*i)%360,s:n.s,l:n.l}));return a},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),sh=2,rO=.16,fte=.05,dte=.05,gte=.15,EF=5,DF=4,mte=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function aO(t){var e=t.r,n=t.g,r=t.b,a=v6(e,n,r);return{h:a.h*360,s:a.s,v:a.v}}function lh(t){var e=t.r,n=t.g,r=t.b;return"#".concat(p6(e,n,r,!1))}function vte(t,e,n){var r=n/100,a={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return a}function iO(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-sh*e:Math.round(t.h)+sh*e:r=n?Math.round(t.h)+sh*e:Math.round(t.h)-sh*e,r<0?r+=360:r>=360&&(r-=360),r}function oO(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-rO*e:e===DF?r=t.s+rO:r=t.s+fte*e,r>1&&(r=1),n&&e===EF&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function sO(t,e,n){var r;return n?r=t.v+dte*e:r=t.v-gte*e,r>1&&(r=1),Number(r.toFixed(2))}function Ov(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=nd(t),a=EF;a>0;a-=1){var i=aO(r),o=lh(nd({h:iO(i,a,!0),s:oO(i,a,!0),v:sO(i,a,!0)}));n.push(o)}n.push(lh(r));for(var s=1;s<=DF;s+=1){var l=aO(r),c=lh(nd({h:iO(l,s),s:oO(l,s),v:sO(l,s)}));n.push(c)}return e.theme==="dark"?mte.map(function(f){var u=f.index,d=f.opacity,g=lh(vte(nd(e.backgroundColor||"#141414"),nd(n[u]),d*100));return g}):n}var Vd={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},S6=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];S6.primary=S6[5];var y6=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];y6.primary=y6[5];var C6=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];C6.primary=C6[5];var x6=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];x6.primary=x6[5];var T6=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];T6.primary=T6[5];var w6=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];w6.primary=w6[5];var b6=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];b6.primary=b6[5];var E6=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];E6.primary=E6[5];var v1=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];v1.primary=v1[5];var D6=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];D6.primary=D6[5];var O6=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];O6.primary=O6[5];var R6=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];R6.primary=R6[5];var I6=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];I6.primary=I6[5];var C4={red:S6,volcano:y6,orange:C6,gold:x6,yellow:T6,lime:w6,green:b6,cyan:E6,blue:v1,geekblue:D6,purple:O6,magenta:R6,grey:I6};const OF={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Rv=Object.assign(Object.assign({},OF),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function pte(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:a,colorWarning:i,colorError:o,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:f}=t,u=n(l),d=n(a),g=n(i),v=n(o),m=n(s),p=r(c,f),h=t.colorLink||t.colorInfo,y=n(h),C=new Pr(v[1]).mix(new Pr(v[3]),50).toHexString();return Object.assign(Object.assign({},p),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:v[1],colorErrorBgHover:v[2],colorErrorBgFilledHover:C,colorErrorBgActive:v[3],colorErrorBorder:v[3],colorErrorBorderHover:v[4],colorErrorHover:v[5],colorError:v[6],colorErrorActive:v[7],colorErrorTextHover:v[8],colorErrorText:v[9],colorErrorTextActive:v[10],colorWarningBg:g[1],colorWarningBgHover:g[2],colorWarningBorder:g[3],colorWarningBorderHover:g[4],colorWarningHover:g[4],colorWarning:g[6],colorWarningActive:g[7],colorWarningTextHover:g[8],colorWarningText:g[9],colorWarningTextActive:g[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new Pr("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const hte=t=>{let e=t,n=t,r=t,a=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?a=4:t>=8&&(a=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:a}};function Ste(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:a}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:a+1},hte(r))}const yte=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function C2(t){return(t+8)/t}function Cte(t){const e=new Array(10).fill(null).map((n,r)=>{const a=r-1,i=t*Math.pow(Math.E,a/5),o=r>1?Math.floor(i):Math.ceil(i);return Math.floor(o/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:C2(n)}))}const xte=t=>{const e=Cte(t),n=e.map(f=>f.size),r=e.map(f=>f.lineHeight),a=n[1],i=n[0],o=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:i,fontSize:a,fontSizeLG:o,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*a),fontHeightLG:Math.round(c*o),fontHeightSM:Math.round(l*i),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function Tte(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const zo=(t,e)=>new Pr(t).setAlpha(e).toRgbString(),Ag=(t,e)=>new Pr(t).darken(e).toHexString(),wte=t=>{const e=Ov(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},bte=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:zo(r,.88),colorTextSecondary:zo(r,.65),colorTextTertiary:zo(r,.45),colorTextQuaternary:zo(r,.25),colorFill:zo(r,.15),colorFillSecondary:zo(r,.06),colorFillTertiary:zo(r,.04),colorFillQuaternary:zo(r,.02),colorBgSolid:zo(r,1),colorBgSolidHover:zo(r,.75),colorBgSolidActive:zo(r,.95),colorBgLayout:Ag(n,4),colorBgContainer:Ag(n,0),colorBgElevated:Ag(n,0),colorBgSpotlight:zo(r,.85),colorBgBlur:"transparent",colorBorder:Ag(n,15),colorBorderSecondary:Ag(n,6)}};function Ete(t){Vd.pink=Vd.magenta,C4.pink=C4.magenta;const e=Object.keys(OF).map(n=>{const r=t[n]===Vd[n]?C4[n]:Ov(t[n]);return new Array(10).fill(1).reduce((a,i,o)=>(a[`${n}-${o+1}`]=r[o],a[`${n}${o+1}`]=r[o],a),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),pte(t,{generateColorPalettes:wte,generateNeutralColorPalettes:bte})),xte(t.fontSize)),Tte(t)),yte(t)),Ste(t))}const RF=u6(Ete),A6={token:Rv,override:{override:Rv},hashed:!0},IF=Oe.createContext(A6),Iv="ant",F7="anticon",Dte=["outlined","borderless","filled"],Ote=(t,e)=>e||(t?`${Iv}-${t}`:Iv),cn=S.createContext({getPrefixCls:Ote,iconPrefixCls:F7}),Rte=`-ant-${Date.now()}-${Math.random()}`;function Ite(t,e){const n={},r=(o,s)=>{let l=o.clone();return l=(s==null?void 0:s(l))||l,l.toRgbString()},a=(o,s)=>{const l=new Pr(o),c=Ov(l.toRgbString());n[`${s}-color`]=r(l),n[`${s}-color-disabled`]=c[1],n[`${s}-color-hover`]=c[4],n[`${s}-color-active`]=c[6],n[`${s}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),n[`${s}-color-deprecated-bg`]=c[0],n[`${s}-color-deprecated-border`]=c[2]};if(e.primaryColor){a(e.primaryColor,"primary");const o=new Pr(e.primaryColor),s=Ov(o.toRgbString());s.forEach((c,f)=>{n[`primary-${f+1}`]=c}),n["primary-color-deprecated-l-35"]=r(o,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(o,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(o,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(o,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(o,c=>c.setAlpha(c.getAlpha()*.12));const l=new Pr(s[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setAlpha(c.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&a(e.successColor,"success"),e.warningColor&&a(e.warningColor,"warning"),e.errorColor&&a(e.errorColor,"error"),e.infoColor&&a(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(o=>`--${t}-${o}: ${n[o]};`).join(`
`)}
  }
  `.trim()}function Ate(t,e){const n=Ite(t,e);fi()&&j0(n,`${Rte}-dynamic-theme`)}const ls=S.createContext(!1),AF=t=>{let{children:e,disabled:n}=t;const r=S.useContext(ls);return S.createElement(ls.Provider,{value:n??r},e)},p1=S.createContext(void 0),Mte=t=>{let{children:e,size:n}=t;const r=S.useContext(p1);return S.createElement(p1.Provider,{value:n||r},e)};function Pte(){const t=S.useContext(ls),e=S.useContext(p1);return{componentDisabled:t,componentSize:e}}var MF=fa(function t(){ua(this,t)}),PF="CALC_UNIT",Lte=new RegExp(PF,"g");function x4(t){return typeof t=="number"?"".concat(t).concat(PF):t}var _te=function(t){ko(n,t);var e=Uo(n);function n(r,a){var i;ua(this,n),i=e.call(this),J(dt(i),"result",""),J(dt(i),"unitlessCssVar",void 0),J(dt(i),"lowPriority",void 0);var o=qt(r);return i.unitlessCssVar=a,r instanceof n?i.result="(".concat(r.result,")"):o==="number"?i.result=x4(r):o==="string"&&(i.result=r),i}return fa(n,[{key:"add",value:function(a){return a instanceof n?this.result="".concat(this.result," + ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," + ").concat(x4(a))),this.lowPriority=!0,this}},{key:"sub",value:function(a){return a instanceof n?this.result="".concat(this.result," - ").concat(a.getResult()):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," - ").concat(x4(a))),this.lowPriority=!0,this}},{key:"mul",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof n?this.result="".concat(this.result," * ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," * ").concat(a)),this.lowPriority=!1,this}},{key:"div",value:function(a){return this.lowPriority&&(this.result="(".concat(this.result,")")),a instanceof n?this.result="".concat(this.result," / ").concat(a.getResult(!0)):(typeof a=="number"||typeof a=="string")&&(this.result="".concat(this.result," / ").concat(a)),this.lowPriority=!1,this}},{key:"getResult",value:function(a){return this.lowPriority||a?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(a){var i=this,o=a||{},s=o.unit,l=!0;return typeof s=="boolean"?l=s:Array.from(this.unitlessCssVar).some(function(c){return i.result.includes(c)})&&(l=!1),this.result=this.result.replace(Lte,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(MF),Nte=function(t){ko(n,t);var e=Uo(n);function n(r){var a;return ua(this,n),a=e.call(this),J(dt(a),"result",0),r instanceof n?a.result=r.result:typeof r=="number"&&(a.result=r),a}return fa(n,[{key:"add",value:function(a){return a instanceof n?this.result+=a.result:typeof a=="number"&&(this.result+=a),this}},{key:"sub",value:function(a){return a instanceof n?this.result-=a.result:typeof a=="number"&&(this.result-=a),this}},{key:"mul",value:function(a){return a instanceof n?this.result*=a.result:typeof a=="number"&&(this.result*=a),this}},{key:"div",value:function(a){return a instanceof n?this.result/=a.result:typeof a=="number"&&(this.result/=a),this}},{key:"equal",value:function(){return this.result}}]),n}(MF),Fte=function(e,n){var r=e==="css"?_te:Nte;return function(a){return new r(a,n)}},lO=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function br(t){var e=S.useRef();e.current=t;var n=S.useCallback(function(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(i))},[]);return n}function h1(t){var e=S.useRef(!1),n=S.useState(t),r=Ae(n,2),a=r[0],i=r[1];S.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(s,l){l&&e.current||i(s)}return[a,o]}function T4(t){return t!==void 0}function Ha(t,e){var n=e||{},r=n.defaultValue,a=n.value,i=n.onChange,o=n.postState,s=h1(function(){return T4(a)?a:T4(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Ae(s,2),c=l[0],f=l[1],u=a!==void 0?a:c,d=o?o(u):u,g=br(i),v=h1([u]),m=Ae(v,2),p=m[0],h=m[1];HD(function(){var C=p[0];c!==C&&g(c,C)},[p]),HD(function(){T4(a)||f(a)},[a]);var y=br(function(C,x){f(C,x),h([u],x)});return[d,y]}function cO(t,e,n,r){var a=ie({},e[t]);if(r!=null&&r.deprecatedTokens){var i=r.deprecatedTokens;i.forEach(function(s){var l=Ae(s,2),c=l[0],f=l[1];if(a!=null&&a[c]||a!=null&&a[f]){var u;(u=a[f])!==null&&u!==void 0||(a[f]=a==null?void 0:a[c])}})}var o=ie(ie({},n),a);return Object.keys(o).forEach(function(s){o[s]===e[s]&&delete o[s]}),o}var LF=typeof CSSINJS_STATISTIC<"u",M6=!0;function fr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!LF)return Object.assign.apply(Object,[{}].concat(e));M6=!1;var r={};return e.forEach(function(a){if(qt(a)==="object"){var i=Object.keys(a);i.forEach(function(o){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return a[o]}})})}}),M6=!0,r}var uO={};function $te(){}var Vte=function(e){var n,r=e,a=$te;return LF&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(o,s){if(M6){var l;(l=n)===null||l===void 0||l.add(s)}return o[s]}}),a=function(o,s){var l;uO[o]={global:Array.from(n),component:ie(ie({},(l=uO[o])===null||l===void 0?void 0:l.component),s)}}),{token:r,keys:n,flush:a}};function fO(t,e,n){if(typeof n=="function"){var r;return n(fr(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function kte(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return"max(".concat(r.map(function(i){return xe(i)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return"min(".concat(r.map(function(i){return xe(i)}).join(","),")")}}}var Ute=1e3*60*10,Bte=function(){function t(){ua(this,t),J(this,"map",new Map),J(this,"objectIDMap",new WeakMap),J(this,"nextID",0),J(this,"lastAccessBeat",new Map),J(this,"accessBeat",0)}return fa(t,[{key:"set",value:function(n,r){this.clear();var a=this.getCompositeKey(n);this.map.set(a,r),this.lastAccessBeat.set(a,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),a=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,a}},{key:"getCompositeKey",value:function(n){var r=this,a=n.map(function(i){return i&&qt(i)==="object"?"obj_".concat(r.getObjectID(i)):"".concat(qt(i),"_").concat(i)});return a.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(a,i){r-a>Ute&&(n.map.delete(i),n.lastAccessBeat.delete(i))}),this.accessBeat=0}}}]),t}(),dO=new Bte;function Gte(t,e){return Oe.useMemo(function(){var n=dO.get(e);if(n)return n;var r=t();return dO.set(e,r),r},e)}var zte=function(){return{}};function Wte(t){var e=t.useCSP,n=e===void 0?zte:e,r=t.useToken,a=t.usePrefix,i=t.getResetStyles,o=t.getCommonStyle,s=t.getCompUnitless;function l(d,g,v,m){var p=Array.isArray(d)?d[0]:d;function h(E){return"".concat(String(p)).concat(E.slice(0,1).toUpperCase()).concat(E.slice(1))}var y=(m==null?void 0:m.unitless)||{},C=typeof s=="function"?s(d):{},x=ie(ie({},C),{},J({},h("zIndexPopup"),!0));Object.keys(y).forEach(function(E){x[h(E)]=y[E]});var T=ie(ie({},m),{},{unitless:x,prefixToken:h}),w=f(d,g,v,T),b=c(p,v,T);return function(E){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E,D=w(E,O),R=Ae(D,2),I=R[1],M=b(O),A=Ae(M,2),B=A[0],L=A[1];return[B,I,L]}}function c(d,g,v){var m=v.unitless,p=v.injectStyle,h=p===void 0?!0:p,y=v.prefixToken,C=v.ignore,x=function(b){var E=b.rootCls,O=b.cssVar,D=O===void 0?{}:O,R=r(),I=R.realToken;return Gee({path:[d],prefix:D.prefix,key:D.key,unitless:m,ignore:C,token:I,scope:E},function(){var M=fO(d,I,g),A=cO(d,I,M,{deprecatedTokens:v==null?void 0:v.deprecatedTokens});return Object.keys(M).forEach(function(B){A[y(B)]=A[B],delete A[B]}),A}),null},T=function(b){var E=r(),O=E.cssVar;return[function(D){return h&&O?Oe.createElement(Oe.Fragment,null,Oe.createElement(x,{rootCls:b,cssVar:O,component:d}),D):D},O==null?void 0:O.key]};return T}function f(d,g,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=Array.isArray(d)?d:[d,d],h=Ae(p,1),y=h[0],C=p.join("-"),x=t.layer||{name:"antd"};return function(T){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,b=r(),E=b.theme,O=b.realToken,D=b.hashId,R=b.token,I=b.cssVar,M=a(),A=M.rootPrefixCls,B=M.iconPrefixCls,L=n(),F=I?"css":"js",_=Gte(function(){var te=new Set;return I&&Object.keys(m.unitless||{}).forEach(function(se){te.add(g2(se,I.prefix)),te.add(g2(se,lO(y,I.prefix)))}),Fte(F,te)},[F,y,I==null?void 0:I.prefix]),P=kte(F),N=P.max,k=P.min,H={theme:E,token:R,hashId:D,nonce:function(){return L.nonce},clientOnly:m.clientOnly,layer:x,order:m.order||-999};m6(ie(ie({},H),{},{clientOnly:!1,path:["Shared",A]}),function(){return typeof i=="function"?i(R):[]});var K=m6(ie(ie({},H),{},{path:[C,T,B]}),function(){if(m.injectStyle===!1)return[];var te=Vte(R),se=te.token,pe=te.flush,ve=fO(y,O,v),Te=".".concat(T),_e=cO(y,O,ve,{deprecatedTokens:m.deprecatedTokens});I&&ve&&qt(ve)==="object"&&Object.keys(ve).forEach(function(we){ve[we]="var(".concat(g2(we,lO(y,I.prefix)),")")});var fe=fr(se,{componentCls:Te,prefixCls:T,iconCls:".".concat(B),antCls:".".concat(A),calc:_,max:N,min:k},I?ve:_e),ce=g(fe,{hashId:D,prefixCls:T,rootPrefixCls:A,iconPrefixCls:B});pe(y,_e);var Ee=typeof o=="function"?o(fe,T,w,m.resetFont):null;return[m.resetStyle===!1?null:Ee,ce]});return[K,D]}}function u(d,g,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=f(d,g,v,ie({resetStyle:!1,order:-998},m)),h=function(C){var x=C.prefixCls,T=C.rootCls,w=T===void 0?x:T;return p(x,w),null};return h}return{genStyleHooks:l,genSubStyleComponent:u,genComponentStyleHook:f}}const IS=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],jte="5.21.5";function w4(t){return t>=0&&t<=255}function ch(t,e){const{r:n,g:r,b:a,a:i}=new Pr(t).toRgb();if(i<1)return t;const{r:o,g:s,b:l}=new Pr(e).toRgb();for(let c=.01;c<=1;c+=.01){const f=Math.round((n-o*(1-c))/c),u=Math.round((r-s*(1-c))/c),d=Math.round((a-l*(1-c))/c);if(w4(f)&&w4(u)&&w4(d))return new Pr({r:f,g:u,b:d,a:Math.round(c*100)/100}).toRgbString()}return new Pr({r:n,g:r,b:a,a:1}).toRgbString()}var Hte=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function _F(t){const{override:e}=t,n=Hte(t,["override"]),r=Object.assign({},e);Object.keys(Rv).forEach(d=>{delete r[d]});const a=Object.assign(Object.assign({},n),r),i=480,o=576,s=768,l=992,c=1200,f=1600;if(a.motion===!1){const d="0s";a.motionDurationFast=d,a.motionDurationMid=d,a.motionDurationSlow=d}return Object.assign(Object.assign(Object.assign({},a),{colorFillContent:a.colorFillSecondary,colorFillContentHover:a.colorFill,colorFillAlter:a.colorFillQuaternary,colorBgContainerDisabled:a.colorFillTertiary,colorBorderBg:a.colorBgContainer,colorSplit:ch(a.colorBorderSecondary,a.colorBgContainer),colorTextPlaceholder:a.colorTextQuaternary,colorTextDisabled:a.colorTextQuaternary,colorTextHeading:a.colorText,colorTextLabel:a.colorTextSecondary,colorTextDescription:a.colorTextTertiary,colorTextLightSolid:a.colorWhite,colorHighlight:a.colorError,colorBgTextHover:a.colorFillSecondary,colorBgTextActive:a.colorFill,colorIcon:a.colorTextTertiary,colorIconHover:a.colorText,colorErrorOutline:ch(a.colorErrorBg,a.colorBgContainer),colorWarningOutline:ch(a.colorWarningBg,a.colorBgContainer),fontSizeIcon:a.fontSizeSM,lineWidthFocus:a.lineWidth*3,lineWidth:a.lineWidth,controlOutlineWidth:a.lineWidth*2,controlInteractiveSize:a.controlHeight/2,controlItemBgHover:a.colorFillTertiary,controlItemBgActive:a.colorPrimaryBg,controlItemBgActiveHover:a.colorPrimaryBgHover,controlItemBgActiveDisabled:a.colorFill,controlTmpOutline:a.colorFillQuaternary,controlOutline:ch(a.colorPrimaryBg,a.colorBgContainer),lineType:a.lineType,borderRadius:a.borderRadius,borderRadiusXS:a.borderRadiusXS,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:a.sizeXXS,paddingXS:a.sizeXS,paddingSM:a.sizeSM,padding:a.size,paddingMD:a.sizeMD,paddingLG:a.sizeLG,paddingXL:a.sizeXL,paddingContentHorizontalLG:a.sizeLG,paddingContentVerticalLG:a.sizeMS,paddingContentHorizontal:a.sizeMS,paddingContentVertical:a.sizeSM,paddingContentHorizontalSM:a.size,paddingContentVerticalSM:a.sizeXS,marginXXS:a.sizeXXS,marginXS:a.sizeXS,marginSM:a.sizeSM,margin:a.size,marginMD:a.sizeMD,marginLG:a.sizeLG,marginXL:a.sizeXL,marginXXL:a.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:i,screenXSMin:i,screenXSMax:o-1,screenSM:o,screenSMMin:o,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:f-1,screenXXL:f,screenXXLMin:f,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Pr("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Pr("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Pr("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var gO=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const NF={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},qte={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Kte={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},FF=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:a}=e,i=gO(e,["override"]);let o=Object.assign(Object.assign({},r),{override:a});return o=_F(o),i&&Object.entries(i).forEach(s=>{let[l,c]=s;const{theme:f}=c,u=gO(c,["theme"]);let d=u;f&&(d=FF(Object.assign(Object.assign({},o),u),{override:u},f)),o[l]=d}),o};function Ti(){const{token:t,hashed:e,theme:n,override:r,cssVar:a}=Oe.useContext(IF),i=`${jte}-${e||""}`,o=n||RF,[s,l,c]=vee(o,[Rv,t],{salt:i,override:r,getComputedToken:FF,formatToken:_F,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:NF,ignore:qte,preserve:Kte}});return[o,c,e?l:"",s,a]}const nf={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},aa=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},h5=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),rf=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Qte=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),Xte=(t,e,n,r)=>{const a=`[class^="${e}"], [class*=" ${e}"]`,i=n?`.${n}`:a,o={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return r!==!1&&(s={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},s),o),{[a]:o})}},Dc=t=>({outline:`${xe(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),S1=t=>({"&:focus-visible":Object.assign({},Dc(t))}),Yte=t=>Object.assign(Object.assign({color:t.colorLink,textDecoration:t.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},S1(t)),{"&:focus, &:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive}}),$F=(t,e)=>{const[n,r]=Ti();return m6({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${t}`]:Object.assign(Object.assign({},h5()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},{genStyleHooks:ta,genComponentStyleHook:Zte,genSubStyleComponent:$7}=Wte({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=S.useContext(cn);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,a]=Ti();return{theme:t,realToken:e,hashId:n,token:r,cssVar:a}},useCSP:()=>{const{csp:t,iconPrefixCls:e}=S.useContext(cn);return $F(e,t),t??{}},getResetStyles:t=>[{"&":Qte(t)}],getCommonStyle:Xte,getCompUnitless:()=>NF});function Jte(t,e){return IS.reduce((n,r)=>{const a=t[`${r}1`],i=t[`${r}3`],o=t[`${r}6`],s=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:a,lightBorderColor:i,darkColor:o,textColor:s}))},{})}const ene=Object.assign({},np),{useId:mO}=ene,tne=()=>"",nne=typeof mO>"u"?tne:mO;function rne(t,e,n){var r;Tf();const a=t||{},i=a.inherit===!1||!e?Object.assign(Object.assign({},A6),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:A6.hashed,cssVar:e==null?void 0:e.cssVar}):e,o=nne();return Cf(()=>{var s,l;if(!t)return e;const c=Object.assign({},i.components);Object.keys(t.components||{}).forEach(d=>{c[d]=Object.assign(Object.assign({},c[d]),t.components[d])});const f=`css-var-${o.replace(/:/g,"")}`,u=((s=a.cssVar)!==null&&s!==void 0?s:i.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof i.cssVar=="object"?i.cssVar:{}),typeof a.cssVar=="object"?a.cssVar:{}),{key:typeof a.cssVar=="object"&&((l=a.cssVar)===null||l===void 0?void 0:l.key)||f});return Object.assign(Object.assign(Object.assign({},i),a),{token:Object.assign(Object.assign({},i.token),a.token),components:c,cssVar:u})},[a,i],(s,l)=>s.some((c,f)=>{const u=l[f];return!_s(c,u,!0)}))}var ane=["children"],VF=S.createContext({});function ine(t){var e=t.children,n=Tn(t,ane);return S.createElement(VF.Provider,{value:n},e)}var one=function(t){ko(n,t);var e=Uo(n);function n(){return ua(this,n),e.apply(this,arguments)}return fa(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function sne(t){var e=S.useReducer(function(s){return s+1},0),n=Ae(e,2),r=n[1],a=S.useRef(t),i=br(function(){return a.current}),o=br(function(s){a.current=typeof s=="function"?s(a.current):s,r()});return[i,o]}var kl="none",uh="appear",fh="enter",dh="leave",vO="none",Ts="prepare",xd="start",Td="active",V7="end",kF="prepared";function pO(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function lne(t,e){var n={animationend:pO("Animation","AnimationEnd"),transitionend:pO("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var cne=lne(fi(),typeof window<"u"?window:{}),UF={};if(fi()){var une=document.createElement("div");UF=une.style}var gh={};function BF(t){if(gh[t])return gh[t];var e=cne[t];if(e)for(var n=Object.keys(e),r=n.length,a=0;a<r;a+=1){var i=n[a];if(Object.prototype.hasOwnProperty.call(e,i)&&i in UF)return gh[t]=e[i],gh[t]}return""}var GF=BF("animationend"),zF=BF("transitionend"),WF=!!(GF&&zF),hO=GF||"animationend",SO=zF||"transitionend";function yO(t,e){if(!t)return null;if(qt(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const fne=function(t){var e=S.useRef();function n(a){a&&(a.removeEventListener(SO,t),a.removeEventListener(hO,t))}function r(a){e.current&&e.current!==a&&n(e.current),a&&a!==e.current&&(a.addEventListener(SO,t),a.addEventListener(hO,t),e.current=a)}return S.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var jF=fi()?S.useLayoutEffect:S.useEffect;const dne=function(){var t=S.useRef(null);function e(){ur.cancel(t.current)}function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var i=ur(function(){a<=1?r({isCanceled:function(){return i!==t.current}}):n(r,a-1)});t.current=i}return S.useEffect(function(){return function(){e()}},[]),[n,e]};var gne=[Ts,xd,Td,V7],mne=[Ts,kF],HF=!1,vne=!0;function qF(t){return t===Td||t===V7}const pne=function(t,e,n){var r=h1(vO),a=Ae(r,2),i=a[0],o=a[1],s=dne(),l=Ae(s,2),c=l[0],f=l[1];function u(){o(Ts,!0)}var d=e?mne:gne;return jF(function(){if(i!==vO&&i!==V7){var g=d.indexOf(i),v=d[g+1],m=n(i);m===HF?o(v,!0):v&&c(function(p){function h(){p.isCanceled()||o(v,!0)}m===!0?h():Promise.resolve(m).then(h)})}},[t,i]),S.useEffect(function(){return function(){f()}},[]),[u,i]};function hne(t,e,n,r){var a=r.motionEnter,i=a===void 0?!0:a,o=r.motionAppear,s=o===void 0?!0:o,l=r.motionLeave,c=l===void 0?!0:l,f=r.motionDeadline,u=r.motionLeaveImmediately,d=r.onAppearPrepare,g=r.onEnterPrepare,v=r.onLeavePrepare,m=r.onAppearStart,p=r.onEnterStart,h=r.onLeaveStart,y=r.onAppearActive,C=r.onEnterActive,x=r.onLeaveActive,T=r.onAppearEnd,w=r.onEnterEnd,b=r.onLeaveEnd,E=r.onVisibleChanged,O=h1(),D=Ae(O,2),R=D[0],I=D[1],M=sne(kl),A=Ae(M,2),B=A[0],L=A[1],F=h1(null),_=Ae(F,2),P=_[0],N=_[1],k=B(),H=S.useRef(!1),K=S.useRef(null);function te(){return n()}var se=S.useRef(!1);function pe(){L(kl),N(null,!0)}var ve=br(function(Be){var z=B();if(z!==kl){var Y=te();if(!(Be&&!Be.deadline&&Be.target!==Y)){var ee=se.current,j;z===uh&&ee?j=T==null?void 0:T(Y,Be):z===fh&&ee?j=w==null?void 0:w(Y,Be):z===dh&&ee&&(j=b==null?void 0:b(Y,Be)),ee&&j!==!1&&pe()}}}),Te=fne(ve),_e=Ae(Te,1),fe=_e[0],ce=function(z){switch(z){case uh:return J(J(J({},Ts,d),xd,m),Td,y);case fh:return J(J(J({},Ts,g),xd,p),Td,C);case dh:return J(J(J({},Ts,v),xd,h),Td,x);default:return{}}},Ee=S.useMemo(function(){return ce(k)},[k]),we=pne(k,!t,function(Be){if(Be===Ts){var z=Ee[Ts];return z?z(te()):HF}if(Pe in Ee){var Y;N(((Y=Ee[Pe])===null||Y===void 0?void 0:Y.call(Ee,te(),null))||null)}return Pe===Td&&k!==kl&&(fe(te()),f>0&&(clearTimeout(K.current),K.current=setTimeout(function(){ve({deadline:!0})},f))),Pe===kF&&pe(),vne}),he=Ae(we,2),Re=he[0],Pe=he[1],We=qF(Pe);se.current=We,jF(function(){I(e);var Be=H.current;H.current=!0;var z;!Be&&e&&s&&(z=uh),Be&&e&&i&&(z=fh),(Be&&!e&&c||!Be&&u&&!e&&c)&&(z=dh);var Y=ce(z);z&&(t||Y[Ts])?(L(z),Re()):L(kl)},[e]),S.useEffect(function(){(k===uh&&!s||k===fh&&!i||k===dh&&!c)&&L(kl)},[s,i,c]),S.useEffect(function(){return function(){H.current=!1,clearTimeout(K.current)}},[]);var Me=S.useRef(!1);S.useEffect(function(){R&&(Me.current=!0),R!==void 0&&k===kl&&((Me.current||R)&&(E==null||E(R)),Me.current=!0)},[R,k]);var Je=P;return Ee[Ts]&&Pe===xd&&(Je=ie({transition:"none"},Je)),[k,Pe,Je,R??e]}function Sne(t){var e=t;qt(t)==="object"&&(e=t.transitionSupport);function n(a,i){return!!(a.motionName&&e&&i!==!1)}var r=S.forwardRef(function(a,i){var o=a.visible,s=o===void 0?!0:o,l=a.removeOnLeave,c=l===void 0?!0:l,f=a.forceRender,u=a.children,d=a.motionName,g=a.leavedClassName,v=a.eventProps,m=S.useContext(VF),p=m.motion,h=n(a,p),y=S.useRef(),C=S.useRef();function x(){try{return y.current instanceof HTMLElement?y.current:Im(C.current)}catch{return null}}var T=hne(h,s,x,a),w=Ae(T,4),b=w[0],E=w[1],O=w[2],D=w[3],R=S.useRef(D);D&&(R.current=!0);var I=S.useCallback(function(P){y.current=P,Cv(i,P)},[i]),M,A=ie(ie({},v),{},{visible:s});if(!u)M=null;else if(b===kl)D?M=u(ie({},A),I):!c&&R.current&&g?M=u(ie(ie({},A),{},{className:g}),I):f||!c&&!g?M=u(ie(ie({},A),{},{style:{display:"none"}}),I):M=null;else{var B;E===Ts?B="prepare":qF(E)?B="active":E===xd&&(B="start");var L=yO(d,"".concat(b,"-").concat(B));M=u(ie(ie({},A),{},{className:Se(yO(d,b),J(J({},L,L&&B),d,typeof d=="string")),style:O}),I)}if(S.isValidElement(M)&&s0(M)){var F=M,_=F.ref;_||(M=S.cloneElement(M,{ref:I}))}return S.createElement(one,{ref:C},M)});return r.displayName="CSSMotion",r}const ks=Sne(WF);var P6="add",L6="keep",_6="remove",b4="removed";function yne(t){var e;return t&&qt(t)==="object"&&"key"in t?e=t:e={key:t},ie(ie({},e),{},{key:String(e.key)})}function N6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(yne)}function Cne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,a=e.length,i=N6(t),o=N6(e);i.forEach(function(c){for(var f=!1,u=r;u<a;u+=1){var d=o[u];if(d.key===c.key){r<u&&(n=n.concat(o.slice(r,u).map(function(g){return ie(ie({},g),{},{status:P6})})),r=u),n.push(ie(ie({},d),{},{status:L6})),r+=1,f=!0;break}}f||n.push(ie(ie({},c),{},{status:_6}))}),r<a&&(n=n.concat(o.slice(r).map(function(c){return ie(ie({},c),{},{status:P6})})));var s={};n.forEach(function(c){var f=c.key;s[f]=(s[f]||0)+1});var l=Object.keys(s).filter(function(c){return s[c]>1});return l.forEach(function(c){n=n.filter(function(f){var u=f.key,d=f.status;return u!==c||d!==_6}),n.forEach(function(f){f.key===c&&(f.status=L6)})}),n}var xne=["component","children","onVisibleChanged","onAllRemoved"],Tne=["status"],wne=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function bne(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ks,n=function(r){ko(i,r);var a=Uo(i);function i(){var o;ua(this,i);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return o=a.call.apply(a,[this].concat(l)),J(dt(o),"state",{keyEntities:[]}),J(dt(o),"removeKey",function(f){o.setState(function(u){var d=u.keyEntities.map(function(g){return g.key!==f?g:ie(ie({},g),{},{status:b4})});return{keyEntities:d}},function(){var u=o.state.keyEntities,d=u.filter(function(g){var v=g.status;return v!==b4}).length;d===0&&o.props.onAllRemoved&&o.props.onAllRemoved()})}),o}return fa(i,[{key:"render",value:function(){var s=this,l=this.state.keyEntities,c=this.props,f=c.component,u=c.children,d=c.onVisibleChanged;c.onAllRemoved;var g=Tn(c,xne),v=f||S.Fragment,m={};return wne.forEach(function(p){m[p]=g[p],delete g[p]}),delete g.keys,S.createElement(v,g,l.map(function(p,h){var y=p.status,C=Tn(p,Tne),x=y===P6||y===L6;return S.createElement(e,tt({},m,{key:C.key,visible:x,eventProps:C,onVisibleChanged:function(w){d==null||d(w,{key:C.key}),w||s.removeKey(C.key)}}),function(T,w){return u(ie(ie({},T),{},{index:h}),w)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=s.keys,f=l.keyEntities,u=N6(c),d=Cne(f,u);return{keyEntities:d.filter(function(g){var v=f.find(function(m){var p=m.key;return g.key===p});return!(v&&v.status===b4&&g.status===_6)})}}}]),i}(S.Component);return J(n,"defaultProps",{component:"div"}),n}const KF=bne(WF);function Ene(t){const{children:e}=t,[,n]=Ti(),{motion:r}=n,a=S.useRef(!1);return a.current=a.current||r===!1,a.current?S.createElement(ine,{motion:r},e):e}const Dne=()=>null;var One=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Rne=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let AS,QF,XF,YF;function x2(){return AS||Iv}function Ine(){return QF||F7}function Ane(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const Mne=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:a}=t;e!==void 0&&(AS=e),n!==void 0&&(QF=n),"holderRender"in t&&(YF=a),r&&(Ane(r)?Ate(x2(),r):XF=r)},ZF=()=>({getPrefixCls:(t,e)=>e||(t?`${x2()}-${t}`:x2()),getIconPrefixCls:Ine,getRootPrefixCls:()=>AS||x2(),getTheme:()=>XF,holderRender:YF}),Pne=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:a,anchor:i,form:o,locale:s,componentSize:l,direction:c,space:f,splitter:u,virtual:d,dropdownMatchSelectWidth:g,popupMatchSelectWidth:v,popupOverflow:m,legacyLocale:p,parentContext:h,iconPrefixCls:y,theme:C,componentDisabled:x,segmented:T,statistic:w,spin:b,calendar:E,carousel:O,cascader:D,collapse:R,typography:I,checkbox:M,descriptions:A,divider:B,drawer:L,skeleton:F,steps:_,image:P,layout:N,list:k,mentions:H,modal:K,progress:te,result:se,slider:pe,breadcrumb:ve,menu:Te,pagination:_e,input:fe,textArea:ce,empty:Ee,badge:we,radio:he,rate:Re,switch:Pe,transfer:We,avatar:Me,message:Je,tag:Be,table:z,card:Y,tabs:ee,timeline:j,timePicker:oe,upload:be,notification:Ue,tree:ze,colorPicker:at,datePicker:gt,rangePicker:St,flex:ct,wave:et,dropdown:Ne,warning:ut,tour:At,floatButtonGroup:bt,variant:Rt,inputNumber:jt,treeSelect:un}=t,Zt=S.useCallback((ge,Ce)=>{const{prefixCls:Ge}=t;if(Ce)return Ce;const He=Ge||h.getPrefixCls("");return ge?`${He}-${ge}`:He},[h.getPrefixCls,t.prefixCls]),Kt=y||h.iconPrefixCls||F7,fn=n||h.csp;$F(Kt,fn);const en=rne(C,h.theme,{prefixCls:Zt("")}),sn={csp:fn,autoInsertSpaceInButton:r,alert:a,anchor:i,locale:s||p,direction:c,space:f,splitter:u,virtual:d,popupMatchSelectWidth:v??g,popupOverflow:m,getPrefixCls:Zt,iconPrefixCls:Kt,theme:en,segmented:T,statistic:w,spin:b,calendar:E,carousel:O,cascader:D,collapse:R,typography:I,checkbox:M,descriptions:A,divider:B,drawer:L,skeleton:F,steps:_,image:P,input:fe,textArea:ce,layout:N,list:k,mentions:H,modal:K,progress:te,result:se,slider:pe,breadcrumb:ve,menu:Te,pagination:_e,empty:Ee,badge:we,radio:he,rate:Re,switch:Pe,transfer:We,avatar:Me,message:Je,tag:Be,table:z,card:Y,tabs:ee,timeline:j,timePicker:oe,upload:be,notification:Ue,tree:ze,colorPicker:at,datePicker:gt,rangePicker:St,flex:ct,wave:et,dropdown:Ne,warning:ut,tour:At,floatButtonGroup:bt,variant:Rt,inputNumber:jt,treeSelect:un},zt=Object.assign({},h);Object.keys(sn).forEach(ge=>{sn[ge]!==void 0&&(zt[ge]=sn[ge])}),Rne.forEach(ge=>{const Ce=t[ge];Ce&&(zt[ge]=Ce)}),typeof r<"u"&&(zt.button=Object.assign({autoInsertSpace:r},zt.button));const Lt=Cf(()=>zt,zt,(ge,Ce)=>{const Ge=Object.keys(ge),He=Object.keys(Ce);return Ge.length!==He.length||Ge.some(pt=>ge[pt]!==Ce[pt])}),yt=S.useMemo(()=>({prefixCls:Kt,csp:fn}),[Kt,fn]);let lt=S.createElement(S.Fragment,null,S.createElement(Dne,{dropdownMatchSelectWidth:g}),e);const de=S.useMemo(()=>{var ge,Ce,Ge,He;return Cd(((ge=il.Form)===null||ge===void 0?void 0:ge.defaultValidateMessages)||{},((Ge=(Ce=Lt.locale)===null||Ce===void 0?void 0:Ce.Form)===null||Ge===void 0?void 0:Ge.defaultValidateMessages)||{},((He=Lt.form)===null||He===void 0?void 0:He.validateMessages)||{},(o==null?void 0:o.validateMessages)||{})},[Lt,o==null?void 0:o.validateMessages]);Object.keys(de).length>0&&(lt=S.createElement(Kee.Provider,{value:de},lt)),s&&(lt=S.createElement(Jee,{locale:s,_ANT_MARK__:Zee},lt)),(Kt||fn)&&(lt=S.createElement(_7.Provider,{value:yt},lt)),l&&(lt=S.createElement(Mte,{size:l},lt)),lt=S.createElement(Ene,null,lt);const ue=S.useMemo(()=>{const ge=en||{},{algorithm:Ce,token:Ge,components:He,cssVar:pt}=ge,Qe=One(ge,["algorithm","token","components","cssVar"]),Ke=Ce&&(!Array.isArray(Ce)||Ce.length>0)?u6(Ce):RF,Ye={};Object.entries(He||{}).forEach(xt=>{let[Nt,Pt]=xt;const Ut=Object.assign({},Pt);"algorithm"in Ut&&(Ut.algorithm===!0?Ut.theme=Ke:(Array.isArray(Ut.algorithm)||typeof Ut.algorithm=="function")&&(Ut.theme=u6(Ut.algorithm)),delete Ut.algorithm),Ye[Nt]=Ut});const ft=Object.assign(Object.assign({},Rv),Ge);return Object.assign(Object.assign({},Qe),{theme:Ke,token:ft,components:Ye,override:Object.assign({override:ft},Ye),cssVar:pt})},[en]);return C&&(lt=S.createElement(IF.Provider,{value:ue},lt)),Lt.warning&&(lt=S.createElement(qee.Provider,{value:Lt.warning},lt)),x!==void 0&&(lt=S.createElement(AF,{disabled:x},lt)),S.createElement(cn.Provider,{value:Lt},lt)},ul=t=>{const e=S.useContext(cn),n=S.useContext(N7);return S.createElement(Pne,Object.assign({parentContext:e,legacyLocale:n},t))};ul.ConfigContext=cn;ul.SizeContext=p1;ul.config=Mne;ul.useConfig=Pte;Object.defineProperty(ul,"SizeContext",{get:()=>p1});var Lne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function JF(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function _ne(t){return JF(t)instanceof ShadowRoot}function MS(t){return _ne(t)?JF(t):null}function Nne(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function Fne(t,e){jr(t,"[@ant-design/icons] ".concat(e))}function CO(t){return qt(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(qt(t.icon)==="object"||typeof t.icon=="function")}function xO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[Nne(n)]=r}return e},{})}function F6(t,e,n){return n?Oe.createElement(t.tag,ie(ie({key:e},xO(t.attrs)),n),(t.children||[]).map(function(r,a){return F6(r,"".concat(e,"-").concat(t.tag,"-").concat(a))})):Oe.createElement(t.tag,ie({key:e},xO(t.attrs)),(t.children||[]).map(function(r,a){return F6(r,"".concat(e,"-").concat(t.tag,"-").concat(a))}))}function e$(t){return Ov(t)[0]}function t$(t){return t?Array.isArray(t)?t:[t]:[]}var $ne=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Vne=function(e){var n=S.useContext(_7),r=n.csp,a=n.prefixCls,i=$ne;a&&(i=i.replace(/anticon/g,a)),S.useEffect(function(){var o=e.current,s=MS(o);j0(i,"@ant-design-icons",{prepend:!0,csp:r,attachTo:s})},[])},kne=["icon","className","onClick","style","primaryColor","secondaryColor"],Mm={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Une(t){var e=t.primaryColor,n=t.secondaryColor;Mm.primaryColor=e,Mm.secondaryColor=n||e$(e),Mm.calculated=!!n}function Bne(){return ie({},Mm)}var X1=function(e){var n=e.icon,r=e.className,a=e.onClick,i=e.style,o=e.primaryColor,s=e.secondaryColor,l=Tn(e,kne),c=S.useRef(),f=Mm;if(o&&(f={primaryColor:o,secondaryColor:s||e$(o)}),Vne(c),Fne(CO(n),"icon should be icon definiton, but got ".concat(n)),!CO(n))return null;var u=n;return u&&typeof u.icon=="function"&&(u=ie(ie({},u),{},{icon:u.icon(f.primaryColor,f.secondaryColor)})),F6(u.icon,"svg-".concat(u.name),ie(ie({className:r,onClick:a,style:i,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};X1.displayName="IconReact";X1.getTwoToneColors=Bne;X1.setTwoToneColors=Une;function n$(t){var e=t$(t),n=Ae(e,2),r=n[0],a=n[1];return X1.setTwoToneColors({primaryColor:r,secondaryColor:a})}function Gne(){var t=X1.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var zne=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];n$(v1.primary);var dr=S.forwardRef(function(t,e){var n=t.className,r=t.icon,a=t.spin,i=t.rotate,o=t.tabIndex,s=t.onClick,l=t.twoToneColor,c=Tn(t,zne),f=S.useContext(_7),u=f.prefixCls,d=u===void 0?"anticon":u,g=f.rootClassName,v=Se(g,d,J(J({},"".concat(d,"-").concat(r.name),!!r.name),"".concat(d,"-spin"),!!a||r.name==="loading"),n),m=o;m===void 0&&s&&(m=-1);var p=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,h=t$(l),y=Ae(h,2),C=y[0],x=y[1];return S.createElement("span",tt({role:"img","aria-label":r.name},c,{ref:e,tabIndex:m,onClick:s,className:v}),S.createElement(X1,{icon:r,primaryColor:C,secondaryColor:x,style:p}))});dr.displayName="AntdIcon";dr.getTwoToneColor=Gne;dr.setTwoToneColor=n$;var Wne=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Lne}))},k7=S.forwardRef(Wne),jne={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Hne=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:jne}))},up=S.forwardRef(Hne),qne={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},Kne=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:qne}))},Y1=S.forwardRef(Kne),Qne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Xne=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Qne}))},r$=S.forwardRef(Xne),Yne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},Zne=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Yne}))},a$=S.forwardRef(Zne),Jne=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,ere=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,tre="".concat(Jne," ").concat(ere).split(/[\s\n]+/),nre="aria-",rre="data-";function TO(t,e){return t.indexOf(e)===0}function Pi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=ie({},e);var r={};return Object.keys(t).forEach(function(a){(n.aria&&(a==="role"||TO(a,nre))||n.data&&TO(a,rre)||n.attr&&tre.includes(a))&&(r[a]=t[a])}),r}function i$(t){return t&&Oe.isValidElement(t)&&t.type===Oe.Fragment}const are=(t,e,n)=>Oe.isValidElement(t)?Oe.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function Hi(t,e){return are(t,t,e)}function $6(t){return t!=null&&t===t.window}const ire=t=>{var e,n;if(typeof window>"u")return 0;let r=0;return $6(t)?r=t.pageYOffset:t instanceof Document?r=t.documentElement.scrollTop:(t instanceof HTMLElement||t)&&(r=t.scrollTop),t&&!$6(t)&&typeof r!="number"&&(r=(n=((e=t.ownerDocument)!==null&&e!==void 0?e:t).documentElement)===null||n===void 0?void 0:n.scrollTop),r};function ore(t,e,n,r){const a=n-e;return t/=r/2,t<1?a/2*t*t*t+e:a/2*((t-=2)*t*t+2)+e}function sre(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:n=()=>window,callback:r,duration:a=450}=e,i=n(),o=ire(i),s=Date.now(),l=()=>{const f=Date.now()-s,u=ore(f>a?a:f,o,t,a);$6(i)?i.scrollTo(window.pageXOffset,u):i instanceof Document||i.constructor.name==="HTMLDocument"?i.documentElement.scrollTop=u:i.scrollTop=u,f<a?ur(l):typeof r=="function"&&r()};ur(l)}const Xi=t=>{const[,,,,e]=Ti();return e?`${t}-css-var`:""};var rt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=rt.F1&&n<=rt.F12)return!1;switch(n){case rt.ALT:case rt.CAPS_LOCK:case rt.CONTEXT_MENU:case rt.CTRL:case rt.DOWN:case rt.END:case rt.ESC:case rt.HOME:case rt.INSERT:case rt.LEFT:case rt.MAC_FF_META:case rt.META:case rt.NUMLOCK:case rt.NUM_CENTER:case rt.PAGE_DOWN:case rt.PAGE_UP:case rt.PAUSE:case rt.PRINT_SCREEN:case rt.RIGHT:case rt.SHIFT:case rt.UP:case rt.WIN_KEY:case rt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=rt.ZERO&&e<=rt.NINE||e>=rt.NUM_ZERO&&e<=rt.NUM_MULTIPLY||e>=rt.A&&e<=rt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case rt.SPACE:case rt.QUESTION_MARK:case rt.NUM_PLUS:case rt.NUM_MINUS:case rt.NUM_PERIOD:case rt.NUM_DIVISION:case rt.SEMICOLON:case rt.DASH:case rt.EQUALS:case rt.COMMA:case rt.PERIOD:case rt.SLASH:case rt.APOSTROPHE:case rt.SINGLE_QUOTE:case rt.OPEN_SQUARE_BRACKET:case rt.BACKSLASH:case rt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},o$=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,a=t.className,i=t.duration,o=i===void 0?4.5:i,s=t.showProgress,l=t.pauseOnHover,c=l===void 0?!0:l,f=t.eventKey,u=t.content,d=t.closable,g=t.closeIcon,v=g===void 0?"x":g,m=t.props,p=t.onClick,h=t.onNoticeClose,y=t.times,C=t.hovering,x=S.useState(!1),T=Ae(x,2),w=T[0],b=T[1],E=S.useState(0),O=Ae(E,2),D=O[0],R=O[1],I=S.useState(0),M=Ae(I,2),A=M[0],B=M[1],L=C||w,F=o>0&&s,_=function(){h(f)},P=function(se){(se.key==="Enter"||se.code==="Enter"||se.keyCode===rt.ENTER)&&_()};S.useEffect(function(){if(!L&&o>0){var te=Date.now()-A,se=setTimeout(function(){_()},o*1e3-A);return function(){c&&clearTimeout(se),B(Date.now()-te)}}},[o,L,y]),S.useEffect(function(){if(!L&&F&&(c||A===0)){var te=performance.now(),se,pe=function ve(){cancelAnimationFrame(se),se=requestAnimationFrame(function(Te){var _e=Te+A-te,fe=Math.min(_e/(o*1e3),1);R(fe*100),fe<1&&ve()})};return pe(),function(){c&&cancelAnimationFrame(se)}}},[o,A,L,F,y]);var N=S.useMemo(function(){return qt(d)==="object"&&d!==null?d:d?{closeIcon:v}:{}},[d,v]),k=Pi(N,!0),H=100-(!D||D<0?0:D>100?100:D),K="".concat(n,"-notice");return S.createElement("div",tt({},m,{ref:e,className:Se(K,a,J({},"".concat(K,"-closable"),d)),style:r,onMouseEnter:function(se){var pe;b(!0),m==null||(pe=m.onMouseEnter)===null||pe===void 0||pe.call(m,se)},onMouseLeave:function(se){var pe;b(!1),m==null||(pe=m.onMouseLeave)===null||pe===void 0||pe.call(m,se)},onClick:p}),S.createElement("div",{className:"".concat(K,"-content")},u),d&&S.createElement("a",tt({tabIndex:0,className:"".concat(K,"-close"),onKeyDown:P,"aria-label":"Close"},k,{onClick:function(se){se.preventDefault(),se.stopPropagation(),_()}}),N.closeIcon),F&&S.createElement("progress",{className:"".concat(K,"-progress"),max:"100",value:H},H+"%"))}),s$=Oe.createContext({}),lre=function(e){var n=e.children,r=e.classNames;return Oe.createElement(s$.Provider,{value:{classNames:r}},n)},wO=8,bO=3,EO=16,cre=function(e){var n={offset:wO,threshold:bO,gap:EO};if(e&&qt(e)==="object"){var r,a,i;n.offset=(r=e.offset)!==null&&r!==void 0?r:wO,n.threshold=(a=e.threshold)!==null&&a!==void 0?a:bO,n.gap=(i=e.gap)!==null&&i!==void 0?i:EO}return[!!e,n]},ure=["className","style","classNames","styles"],fre=function(e){var n=e.configList,r=e.placement,a=e.prefixCls,i=e.className,o=e.style,s=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,f=e.stack,u=S.useContext(s$),d=u.classNames,g=S.useRef({}),v=S.useState(null),m=Ae(v,2),p=m[0],h=m[1],y=S.useState([]),C=Ae(y,2),x=C[0],T=C[1],w=n.map(function(L){return{config:L,key:String(L.key)}}),b=cre(f),E=Ae(b,2),O=E[0],D=E[1],R=D.offset,I=D.threshold,M=D.gap,A=O&&(x.length>0||w.length<=I),B=typeof s=="function"?s(r):s;return S.useEffect(function(){O&&x.length>1&&T(function(L){return L.filter(function(F){return w.some(function(_){var P=_.key;return F===P})})})},[x,w,O]),S.useEffect(function(){var L;if(O&&g.current[(L=w[w.length-1])===null||L===void 0?void 0:L.key]){var F;h(g.current[(F=w[w.length-1])===null||F===void 0?void 0:F.key])}},[w,O]),Oe.createElement(KF,tt({key:r,className:Se(a,"".concat(a,"-").concat(r),d==null?void 0:d.list,i,J(J({},"".concat(a,"-stack"),!!O),"".concat(a,"-stack-expanded"),A)),style:o,keys:w,motionAppear:!0},B,{onAllRemoved:function(){l(r)}}),function(L,F){var _=L.config,P=L.className,N=L.style,k=L.index,H=_,K=H.key,te=H.times,se=String(K),pe=_,ve=pe.className,Te=pe.style,_e=pe.classNames,fe=pe.styles,ce=Tn(pe,ure),Ee=w.findIndex(function(j){return j.key===se}),we={};if(O){var he=w.length-1-(Ee>-1?Ee:k-1),Re=r==="top"||r==="bottom"?"-50%":"0";if(he>0){var Pe,We,Me;we.height=A?(Pe=g.current[se])===null||Pe===void 0?void 0:Pe.offsetHeight:p==null?void 0:p.offsetHeight;for(var Je=0,Be=0;Be<he;Be++){var z;Je+=((z=g.current[w[w.length-1-Be].key])===null||z===void 0?void 0:z.offsetHeight)+M}var Y=(A?Je:he*R)*(r.startsWith("top")?1:-1),ee=!A&&p!==null&&p!==void 0&&p.offsetWidth&&(We=g.current[se])!==null&&We!==void 0&&We.offsetWidth?((p==null?void 0:p.offsetWidth)-R*2*(he<3?he:3))/((Me=g.current[se])===null||Me===void 0?void 0:Me.offsetWidth):1;we.transform="translate3d(".concat(Re,", ").concat(Y,"px, 0) scaleX(").concat(ee,")")}else we.transform="translate3d(".concat(Re,", 0, 0)")}return Oe.createElement("div",{ref:F,className:Se("".concat(a,"-notice-wrapper"),P,_e==null?void 0:_e.wrapper),style:ie(ie(ie({},N),we),fe==null?void 0:fe.wrapper),onMouseEnter:function(){return T(function(oe){return oe.includes(se)?oe:[].concat(Ze(oe),[se])})},onMouseLeave:function(){return T(function(oe){return oe.filter(function(be){return be!==se})})}},Oe.createElement(o$,tt({},ce,{ref:function(oe){Ee>-1?g.current[se]=oe:delete g.current[se]},prefixCls:a,classNames:_e,styles:fe,className:Se(ve,d==null?void 0:d.notice),style:Te,times:te,key:K,eventKey:K,onNoticeClose:c,hovering:O&&x.length>0})))})},dre=S.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,a=t.container,i=t.motion,o=t.maxCount,s=t.className,l=t.style,c=t.onAllRemoved,f=t.stack,u=t.renderNotifications,d=S.useState([]),g=Ae(d,2),v=g[0],m=g[1],p=function(O){var D,R=v.find(function(I){return I.key===O});R==null||(D=R.onClose)===null||D===void 0||D.call(R),m(function(I){return I.filter(function(M){return M.key!==O})})};S.useImperativeHandle(e,function(){return{open:function(O){m(function(D){var R=Ze(D),I=R.findIndex(function(B){return B.key===O.key}),M=ie({},O);if(I>=0){var A;M.times=(((A=D[I])===null||A===void 0?void 0:A.times)||0)+1,R[I]=M}else M.times=0,R.push(M);return o>0&&R.length>o&&(R=R.slice(-o)),R})},close:function(O){p(O)},destroy:function(){m([])}}});var h=S.useState({}),y=Ae(h,2),C=y[0],x=y[1];S.useEffect(function(){var E={};v.forEach(function(O){var D=O.placement,R=D===void 0?"topRight":D;R&&(E[R]=E[R]||[],E[R].push(O))}),Object.keys(C).forEach(function(O){E[O]=E[O]||[]}),x(E)},[v]);var T=function(O){x(function(D){var R=ie({},D),I=R[O]||[];return I.length||delete R[O],R})},w=S.useRef(!1);if(S.useEffect(function(){Object.keys(C).length>0?w.current=!0:w.current&&(c==null||c(),w.current=!1)},[C]),!a)return null;var b=Object.keys(C);return _o.createPortal(S.createElement(S.Fragment,null,b.map(function(E){var O=C[E],D=S.createElement(fre,{key:E,configList:O,placement:E,prefixCls:r,className:s==null?void 0:s(E),style:l==null?void 0:l(E),motion:i,onNoticeClose:p,onAllNoticeRemoved:T,stack:f});return u?u(D,{prefixCls:r,key:E}):D})),a)}),gre=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],mre=function(){return document.body},DO=0;function vre(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(a){a&&Object.keys(a).forEach(function(i){var o=a[i];o!==void 0&&(t[i]=o)})}),t}function pre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?mre:e,r=t.motion,a=t.prefixCls,i=t.maxCount,o=t.className,s=t.style,l=t.onAllRemoved,c=t.stack,f=t.renderNotifications,u=Tn(t,gre),d=S.useState(),g=Ae(d,2),v=g[0],m=g[1],p=S.useRef(),h=S.createElement(dre,{container:v,ref:p,prefixCls:a,motion:r,maxCount:i,className:o,style:s,onAllRemoved:l,stack:c,renderNotifications:f}),y=S.useState([]),C=Ae(y,2),x=C[0],T=C[1],w=S.useMemo(function(){return{open:function(E){var O=vre(u,E);(O.key===null||O.key===void 0)&&(O.key="rc-notification-".concat(DO),DO+=1),T(function(D){return[].concat(Ze(D),[{type:"open",config:O}])})},close:function(E){T(function(O){return[].concat(Ze(O),[{type:"close",key:E}])})},destroy:function(){T(function(E){return[].concat(Ze(E),[{type:"destroy"}])})}}},[]);return S.useEffect(function(){m(n())}),S.useEffect(function(){p.current&&x.length&&(x.forEach(function(b){switch(b.type){case"open":p.current.open(b.config);break;case"close":p.current.close(b.key);break;case"destroy":p.current.destroy();break}}),T(function(b){return b.filter(function(E){return!x.includes(E)})}))},[x]),[w,h]}var hre={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},Sre=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:hre}))},y1=S.forwardRef(Sre);const S5=Oe.createContext(void 0),Ul=100,yre=10,l$=Ul*yre,c$={Modal:Ul,Drawer:Ul,Popover:Ul,Popconfirm:Ul,Tooltip:Ul,Tour:Ul,FloatButton:Ul},Cre={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function xre(t){return t in c$}const fp=(t,e)=>{const[,n]=Ti(),r=Oe.useContext(S5),a=xre(t);let i;if(e!==void 0)i=[e,e];else{let o=r??0;a?o+=(r?0:n.zIndexPopupBase)+c$[t]:o+=Cre[t],i=[r===void 0?e:o,o]}return i},Tre=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:a,colorSuccess:i,colorError:o,colorWarning:s,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:f,motionDurationSlow:u,marginXS:d,paddingXS:g,borderRadiusLG:v,zIndexPopup:m,contentPadding:p,contentBg:h}=t,y=`${e}-notice`,C=new er("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:g,transform:"translateY(0)",opacity:1}}),x=new er("MessageMoveOut",{"0%":{maxHeight:t.height,padding:g,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),T={padding:g,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:d,fontSize:c},[`${y}-content`]:{display:"inline-block",padding:p,background:h,borderRadius:v,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:i},[`${e}-error > ${n}`]:{color:o},[`${e}-warning > ${n}`]:{color:s},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},aa(t)),{color:a,position:"fixed",top:d,width:"100%",pointerEvents:"none",zIndex:m,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:C,animationDuration:u,animationPlayState:"paused",animationTimingFunction:f},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:x,animationDuration:u,animationPlayState:"paused",animationTimingFunction:f},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${y}-wrapper`]:Object.assign({},T)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},T),{padding:0,textAlign:"start"})}]},wre=t=>({zIndexPopup:t.zIndexPopupBase+l$+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),u$=ta("Message",t=>{const e=fr(t,{height:150});return[Tre(e)]},wre);var bre=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Ere={info:S.createElement(a$,null),success:S.createElement(k7,null),error:S.createElement(up,null),warning:S.createElement(r$,null),loading:S.createElement(y1,null)},f$=t=>{let{prefixCls:e,type:n,icon:r,children:a}=t;return S.createElement("div",{className:Se(`${e}-custom-content`,`${e}-${n}`)},r||Ere[n],S.createElement("span",null,a))},Dre=t=>{const{prefixCls:e,className:n,type:r,icon:a,content:i}=t,o=bre(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:s}=S.useContext(cn),l=e||s("message"),c=Xi(l),[f,u,d]=u$(l,c);return f(S.createElement(o$,Object.assign({},o,{prefixCls:l,className:Se(n,u,`${l}-notice-pure-panel`,d,c),eventKey:"pure",duration:null,content:S.createElement(f$,{prefixCls:l,type:r,icon:a},i)})))};function Ore(t,e){return{motionName:e??`${t}-move-up`}}function U7(t){let e;const n=new Promise(a=>{e=t(()=>{a(!0)})}),r=()=>{e==null||e()};return r.then=(a,i)=>n.then(a,i),r.promise=n,r}var Rre=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Ire=8,Are=3,Mre=t=>{let{children:e,prefixCls:n}=t;const r=Xi(n),[a,i,o]=u$(n,r);return a(S.createElement(lre,{classNames:{list:Se(i,o,r)}},e))},Pre=(t,e)=>{let{prefixCls:n,key:r}=e;return S.createElement(Mre,{prefixCls:n,key:r},t)},Lre=S.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:a,maxCount:i,duration:o=Are,rtl:s,transitionName:l,onAllRemoved:c}=t,{getPrefixCls:f,getPopupContainer:u,message:d,direction:g}=S.useContext(cn),v=r||f("message"),m=()=>({left:"50%",transform:"translateX(-50%)",top:n??Ire}),p=()=>Se({[`${v}-rtl`]:s??g==="rtl"}),h=()=>Ore(v,l),y=S.createElement("span",{className:`${v}-close-x`},S.createElement(Y1,{className:`${v}-close-icon`})),[C,x]=pre({prefixCls:v,style:m,className:p,motion:h,closable:!1,closeIcon:y,duration:o,getContainer:()=>(a==null?void 0:a())||(u==null?void 0:u())||document.body,maxCount:i,onAllRemoved:c,renderNotifications:Pre});return S.useImperativeHandle(e,()=>Object.assign(Object.assign({},C),{prefixCls:v,message:d})),x});let OO=0;function d$(t){const e=S.useRef(null);return Tf(),[S.useMemo(()=>{const r=l=>{var c;(c=e.current)===null||c===void 0||c.close(l)},a=l=>{if(!e.current){const w=()=>{};return w.then=()=>{},w}const{open:c,prefixCls:f,message:u}=e.current,d=`${f}-notice`,{content:g,icon:v,type:m,key:p,className:h,style:y,onClose:C}=l,x=Rre(l,["content","icon","type","key","className","style","onClose"]);let T=p;return T==null&&(OO+=1,T=`antd-message-${OO}`),U7(w=>(c(Object.assign(Object.assign({},x),{key:T,content:S.createElement(f$,{prefixCls:f,type:m,icon:v},g),placement:"top",className:Se(m&&`${d}-${m}`,h,u==null?void 0:u.className),style:Object.assign(Object.assign({},u==null?void 0:u.style),y),onClose:()=>{C==null||C(),w()}})),()=>{r(T)}))},o={open:a,destroy:l=>{var c;l!==void 0?r(l):(c=e.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(f,u,d)=>{let g;f&&typeof f=="object"&&"content"in f?g=f:g={content:f};let v,m;typeof u=="function"?m=u:(v=u,m=d);const p=Object.assign(Object.assign({onClose:m,duration:v},g),{type:l});return a(p)};o[l]=c}),o},[]),S.createElement(Lre,Object.assign({key:"message-holder"},t,{ref:e}))]}function _re(t){return d$(t)}function Nre(){const[t,e]=S.useState([]),n=S.useCallback(r=>(e(a=>[].concat(Ze(a),[r])),()=>{e(a=>a.filter(i=>i!==r))}),[]);return[t,n]}function zr(){zr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(L,F,_){L[F]=_.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(L,F,_){return Object.defineProperty(L,F,{value:_,enumerable:!0,configurable:!0,writable:!0}),L[F]}try{c({},"")}catch{c=function(_,P,N){return _[P]=N}}function f(L,F,_,P){var N=F&&F.prototype instanceof h?F:h,k=Object.create(N.prototype),H=new A(P||[]);return a(k,"_invoke",{value:D(L,_,H)}),k}function u(L,F,_){try{return{type:"normal",arg:L.call(F,_)}}catch(P){return{type:"throw",arg:P}}}e.wrap=f;var d="suspendedStart",g="suspendedYield",v="executing",m="completed",p={};function h(){}function y(){}function C(){}var x={};c(x,o,function(){return this});var T=Object.getPrototypeOf,w=T&&T(T(B([])));w&&w!==n&&r.call(w,o)&&(x=w);var b=C.prototype=h.prototype=Object.create(x);function E(L){["next","throw","return"].forEach(function(F){c(L,F,function(_){return this._invoke(F,_)})})}function O(L,F){function _(N,k,H,K){var te=u(L[N],L,k);if(te.type!=="throw"){var se=te.arg,pe=se.value;return pe&&qt(pe)=="object"&&r.call(pe,"__await")?F.resolve(pe.__await).then(function(ve){_("next",ve,H,K)},function(ve){_("throw",ve,H,K)}):F.resolve(pe).then(function(ve){se.value=ve,H(se)},function(ve){return _("throw",ve,H,K)})}K(te.arg)}var P;a(this,"_invoke",{value:function(k,H){function K(){return new F(function(te,se){_(k,H,te,se)})}return P=P?P.then(K,K):K()}})}function D(L,F,_){var P=d;return function(N,k){if(P===v)throw Error("Generator is already running");if(P===m){if(N==="throw")throw k;return{value:t,done:!0}}for(_.method=N,_.arg=k;;){var H=_.delegate;if(H){var K=R(H,_);if(K){if(K===p)continue;return K}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(P===d)throw P=m,_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);P=v;var te=u(L,F,_);if(te.type==="normal"){if(P=_.done?m:g,te.arg===p)continue;return{value:te.arg,done:_.done}}te.type==="throw"&&(P=m,_.method="throw",_.arg=te.arg)}}}function R(L,F){var _=F.method,P=L.iterator[_];if(P===t)return F.delegate=null,_==="throw"&&L.iterator.return&&(F.method="return",F.arg=t,R(L,F),F.method==="throw")||_!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+_+"' method")),p;var N=u(P,L.iterator,F.arg);if(N.type==="throw")return F.method="throw",F.arg=N.arg,F.delegate=null,p;var k=N.arg;return k?k.done?(F[L.resultName]=k.value,F.next=L.nextLoc,F.method!=="return"&&(F.method="next",F.arg=t),F.delegate=null,p):k:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,p)}function I(L){var F={tryLoc:L[0]};1 in L&&(F.catchLoc=L[1]),2 in L&&(F.finallyLoc=L[2],F.afterLoc=L[3]),this.tryEntries.push(F)}function M(L){var F=L.completion||{};F.type="normal",delete F.arg,L.completion=F}function A(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(I,this),this.reset(!0)}function B(L){if(L||L===""){var F=L[o];if(F)return F.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var _=-1,P=function N(){for(;++_<L.length;)if(r.call(L,_))return N.value=L[_],N.done=!1,N;return N.value=t,N.done=!0,N};return P.next=P}}throw new TypeError(qt(L)+" is not iterable")}return y.prototype=C,a(b,"constructor",{value:C,configurable:!0}),a(C,"constructor",{value:y,configurable:!0}),y.displayName=c(C,l,"GeneratorFunction"),e.isGeneratorFunction=function(L){var F=typeof L=="function"&&L.constructor;return!!F&&(F===y||(F.displayName||F.name)==="GeneratorFunction")},e.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,C):(L.__proto__=C,c(L,l,"GeneratorFunction")),L.prototype=Object.create(b),L},e.awrap=function(L){return{__await:L}},E(O.prototype),c(O.prototype,s,function(){return this}),e.AsyncIterator=O,e.async=function(L,F,_,P,N){N===void 0&&(N=Promise);var k=new O(f(L,F,_,P),N);return e.isGeneratorFunction(F)?k:k.next().then(function(H){return H.done?H.value:k.next()})},E(b),c(b,l,"Generator"),c(b,o,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),e.keys=function(L){var F=Object(L),_=[];for(var P in F)_.push(P);return _.reverse(),function N(){for(;_.length;){var k=_.pop();if(k in F)return N.value=k,N.done=!1,N}return N.done=!0,N}},e.values=B,A.prototype={constructor:A,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!F)for(var _ in this)_.charAt(0)==="t"&&r.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=t)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var _=this;function P(se,pe){return H.type="throw",H.arg=F,_.next=se,pe&&(_.method="next",_.arg=t),!!pe}for(var N=this.tryEntries.length-1;N>=0;--N){var k=this.tryEntries[N],H=k.completion;if(k.tryLoc==="root")return P("end");if(k.tryLoc<=this.prev){var K=r.call(k,"catchLoc"),te=r.call(k,"finallyLoc");if(K&&te){if(this.prev<k.catchLoc)return P(k.catchLoc,!0);if(this.prev<k.finallyLoc)return P(k.finallyLoc)}else if(K){if(this.prev<k.catchLoc)return P(k.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<k.finallyLoc)return P(k.finallyLoc)}}}},abrupt:function(F,_){for(var P=this.tryEntries.length-1;P>=0;--P){var N=this.tryEntries[P];if(N.tryLoc<=this.prev&&r.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var k=N;break}}k&&(F==="break"||F==="continue")&&k.tryLoc<=_&&_<=k.finallyLoc&&(k=null);var H=k?k.completion:{};return H.type=F,H.arg=_,k?(this.method="next",this.next=k.finallyLoc,p):this.complete(H)},complete:function(F,_){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&_&&(this.next=_),p},finish:function(F){for(var _=this.tryEntries.length-1;_>=0;--_){var P=this.tryEntries[_];if(P.finallyLoc===F)return this.complete(P.completion,P.afterLoc),M(P),p}},catch:function(F){for(var _=this.tryEntries.length-1;_>=0;--_){var P=this.tryEntries[_];if(P.tryLoc===F){var N=P.completion;if(N.type==="throw"){var k=N.arg;M(P)}return k}}throw Error("illegal catch attempt")},delegateYield:function(F,_,P){return this.delegate={iterator:B(F),resultName:_,nextLoc:P},this.method==="next"&&(this.arg=t),p}},e}function RO(t,e,n,r,a,i,o){try{var s=t[i](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,a)}function Io(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function o(l){RO(i,r,a,o,s,"next",l)}function s(l){RO(i,r,a,o,s,"throw",l)}o(void 0)})}}var dp=ie({},xN),Fre=dp.version,$re=dp.render,Vre=dp.unmountComponentAtNode,y5;try{var kre=Number((Fre||"").split(".")[0]);kre>=18&&(y5=dp.createRoot)}catch{}function IO(t){var e=dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&qt(e)==="object"&&(e.usingClientEntryPoint=t)}var PS="__rc_react_root__";function Ure(t,e){IO(!0);var n=e[PS]||y5(e);IO(!1),n.render(t),e[PS]=n}function Bre(t,e){$re(t,e)}function B7(t,e){if(y5){Ure(t,e);return}Bre(t,e)}function Gre(t){return V6.apply(this,arguments)}function V6(){return V6=Io(zr().mark(function t(e){return zr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var a;(a=e[PS])===null||a===void 0||a.unmount(),delete e[PS]}));case 1:case"end":return r.stop()}},t)})),V6.apply(this,arguments)}function zre(t){Vre(t)}function g$(t){return k6.apply(this,arguments)}function k6(){return k6=Io(zr().mark(function t(e){return zr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(y5===void 0){r.next=2;break}return r.abrupt("return",Gre(e));case 2:zre(e);case 3:case"end":return r.stop()}},t)})),k6.apply(this,arguments)}const E4=()=>({height:0,opacity:0}),AO=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},Wre=t=>({height:t?t.offsetHeight:0}),D4=(t,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",G7=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Iv}-motion-collapse`,onAppearStart:E4,onEnterStart:E4,onAppearActive:AO,onEnterActive:AO,onLeaveStart:Wre,onLeaveActive:E4,onAppearEnd:D4,onEnterEnd:D4,onLeaveEnd:D4,motionDeadline:500}},C1=(t,e,n)=>n!==void 0?n:`${t}-${e}`,C5=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var a=t.getBoundingClientRect(),i=a.width,o=a.height;if(i||o)return!0}}return!1},jre=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},Hre=Zte("Wave",t=>[jre(t)]),x5=`${Iv}-wave-target`;function O4(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function qre(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return O4(e)?e:O4(n)?n:O4(r)?r:null}function R4(t){return Number.isNaN(t)?0:t}const Kre=t=>{const{className:e,target:n,component:r}=t,a=S.useRef(null),[i,o]=S.useState(null),[s,l]=S.useState([]),[c,f]=S.useState(0),[u,d]=S.useState(0),[g,v]=S.useState(0),[m,p]=S.useState(0),[h,y]=S.useState(!1),C={left:c,top:u,width:g,height:m,borderRadius:s.map(w=>`${w}px`).join(" ")};i&&(C["--wave-color"]=i);function x(){const w=getComputedStyle(n);o(qre(n));const b=w.position==="static",{borderLeftWidth:E,borderTopWidth:O}=w;f(b?n.offsetLeft:R4(-parseFloat(E))),d(b?n.offsetTop:R4(-parseFloat(O))),v(n.offsetWidth),p(n.offsetHeight);const{borderTopLeftRadius:D,borderTopRightRadius:R,borderBottomLeftRadius:I,borderBottomRightRadius:M}=w;l([D,R,M,I].map(A=>R4(parseFloat(A))))}if(S.useEffect(()=>{if(n){const w=ur(()=>{x(),y(!0)});let b;return typeof ResizeObserver<"u"&&(b=new ResizeObserver(x),b.observe(n)),()=>{ur.cancel(w),b==null||b.disconnect()}}},[]),!h)return null;const T=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(x5));return S.createElement(ks,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(w,b)=>{var E;if(b.deadline||b.propertyName==="opacity"){const O=(E=a.current)===null||E===void 0?void 0:E.parentElement;g$(O).then(()=>{O==null||O.remove()})}return!1}},(w,b)=>{let{className:E}=w;return S.createElement("div",{ref:Vo(a,b),className:Se(e,E,{"wave-quick":T}),style:C})})},Qre=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.top="0px",t==null||t.insertBefore(a,t==null?void 0:t.firstChild),B7(S.createElement(Kre,Object.assign({},e,{target:t})),a)},Xre=(t,e,n)=>{const{wave:r}=S.useContext(cn),[,a,i]=Ti(),o=br(c=>{const f=t.current;if(r!=null&&r.disabled||!f)return;const u=f.querySelector(`.${x5}`)||f,{showEffect:d}=r||{};(d||Qre)(u,{className:e,token:a,component:n,event:c,hashId:i})}),s=S.useRef();return c=>{ur.cancel(s.current),s.current=ur(()=>{o(c)})}},z7=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:a}=S.useContext(cn),i=S.useRef(null),o=a("wave"),[,s]=Hre(o),l=Xre(i,Se(o,s),r);if(Oe.useEffect(()=>{const f=i.current;if(!f||f.nodeType!==1||n)return;const u=d=>{!C5(d.target)||!f.getAttribute||f.getAttribute("disabled")||f.disabled||f.className.includes("disabled")||f.className.includes("-leave")||l(d)};return f.addEventListener("click",u,!0),()=>{f.removeEventListener("click",u,!0)}},[n]),!Oe.isValidElement(e))return e??null;const c=s0(e)?Vo(e.ref,i):i;return Hi(e,{ref:c})},Us=t=>{const e=Oe.useContext(p1);return Oe.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])},Yre=t=>{const{componentCls:e}=t;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},Zre=t=>{const{componentCls:e,antCls:n}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},Jre=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-row-small":{rowGap:t.spaceGapSmallSize},"&-gap-row-middle":{rowGap:t.spaceGapMiddleSize},"&-gap-row-large":{rowGap:t.spaceGapLargeSize},"&-gap-col-small":{columnGap:t.spaceGapSmallSize},"&-gap-col-middle":{columnGap:t.spaceGapMiddleSize},"&-gap-col-large":{columnGap:t.spaceGapLargeSize}}}},m$=ta("Space",t=>{const e=fr(t,{spaceGapSmallSize:t.paddingXS,spaceGapMiddleSize:t.padding,spaceGapLargeSize:t.paddingLG});return[Zre(e),Jre(e),Yre(e)]},()=>({}),{resetStyle:!1});var v$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const T5=S.createContext(null),gp=(t,e)=>{const n=S.useContext(T5),r=S.useMemo(()=>{if(!n)return"";const{compactDirection:a,isFirstItem:i,isLastItem:o}=n,s=a==="vertical"?"-vertical-":"-";return Se(`${t}-compact${s}item`,{[`${t}-compact${s}first-item`]:i,[`${t}-compact${s}last-item`]:o,[`${t}-compact${s}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},eae=t=>{let{children:e}=t;return S.createElement(T5.Provider,{value:null},e)},tae=t=>{var{children:e}=t,n=v$(t,["children"]);return S.createElement(T5.Provider,{value:n},e)},nae=t=>{const{getPrefixCls:e,direction:n}=S.useContext(cn),{size:r,direction:a,block:i,prefixCls:o,className:s,rootClassName:l,children:c}=t,f=v$(t,["size","direction","block","prefixCls","className","rootClassName","children"]),u=Us(C=>r??C),d=e("space-compact",o),[g,v]=m$(d),m=Se(d,v,{[`${d}-rtl`]:n==="rtl",[`${d}-block`]:i,[`${d}-vertical`]:a==="vertical"},s,l),p=S.useContext(T5),h=os(c),y=S.useMemo(()=>h.map((C,x)=>{const T=(C==null?void 0:C.key)||`${d}-item-${x}`;return S.createElement(tae,{key:T,compactSize:u,compactDirection:a,isFirstItem:x===0&&(!p||(p==null?void 0:p.isFirstItem)),isLastItem:x===h.length-1&&(!p||(p==null?void 0:p.isLastItem))},C)}),[r,h,p]);return h.length===0?null:g(S.createElement("div",Object.assign({className:m},f),y))};var rae=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const p$=S.createContext(void 0),aae=t=>{const{getPrefixCls:e,direction:n}=S.useContext(cn),{prefixCls:r,size:a,className:i}=t,o=rae(t,["prefixCls","size","className"]),s=e("btn-group",r),[,,l]=Ti();let c="";switch(a){case"large":c="lg";break;case"small":c="sm";break}const f=Se(s,{[`${s}-${c}`]:c,[`${s}-rtl`]:n==="rtl"},i,l);return S.createElement(p$.Provider,{value:a},S.createElement("div",Object.assign({},o,{className:f})))},MO=/^[\u4E00-\u9FA5]{2}$/,U6=MO.test.bind(MO);function h$(t){return t==="danger"?{danger:!0}:{type:t}}function PO(t){return typeof t=="string"}function I4(t){return t==="text"||t==="link"}function iae(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&PO(t.type)&&U6(t.props.children)?Hi(t,{children:t.props.children.split("").join(n)}):PO(t)?U6(t)?Oe.createElement("span",null,t.split("").join(n)):Oe.createElement("span",null,t):i$(t)?Oe.createElement("span",null,t):t}function oae(t,e){let n=!1;const r=[];return Oe.Children.forEach(t,a=>{const i=typeof a,o=i==="string"||i==="number";if(n&&o){const s=r.length-1,l=r[s];r[s]=`${l}${a}`}else r.push(a);n=o}),Oe.Children.map(r,a=>iae(a,e))}const S$=S.forwardRef((t,e)=>{const{className:n,style:r,children:a,prefixCls:i}=t,o=Se(`${i}-icon`,n);return Oe.createElement("span",{ref:e,className:o,style:r},a)}),LO=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:a,iconClassName:i}=t,o=Se(`${n}-loading-icon`,r);return Oe.createElement(S$,{prefixCls:n,className:o,style:a,ref:e},Oe.createElement(y1,{className:i}))}),A4=()=>({width:0,opacity:0,transform:"scale(0)"}),M4=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),sae=t=>{const{prefixCls:e,loading:n,existIcon:r,className:a,style:i}=t,o=!!n;return r?Oe.createElement(LO,{prefixCls:e,className:a,style:i}):Oe.createElement(ks,{visible:o,motionName:`${e}-loading-icon-motion`,motionLeave:o,removeOnLeave:!0,onAppearStart:A4,onAppearActive:M4,onEnterStart:A4,onEnterActive:M4,onLeaveStart:M4,onLeaveActive:A4},(s,l)=>{let{className:c,style:f}=s;return Oe.createElement(LO,{prefixCls:e,className:a,style:Object.assign(Object.assign({},i),f),ref:l,iconClassName:c})})},_O=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),lae=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:a,colorErrorHover:i}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},_O(`${e}-primary`,a),_O(`${e}-danger`,i)]}},ai=Math.round;function P4(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(a=>parseFloat(a));for(let a=0;a<3;a+=1)r[a]=e(r[a]||0,n[a]||"",a);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const NO=(t,e,n)=>n===0?t:t/100;function Mg(t,e){const n=e||255;return t>n?n:t<0?0:t}class w5{constructor(e){J(this,"isValid",!0),J(this,"r",0),J(this,"g",0),J(this,"b",0),J(this,"a",1),J(this,"_h",void 0),J(this,"_s",void 0),J(this,"_l",void 0),J(this,"_v",void 0),J(this,"_max",void 0),J(this,"_min",void 0),J(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let a=function(i){return r.startsWith(i)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):a("rgb")?this.fromRgbString(r):a("hsl")?this.fromHslString(r):(a("hsv")||a("hsb"))&&this.fromHsvString(r)}else if(e instanceof w5)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=Mg(e.r),this.g=Mg(e.g),this.b=Mg(e.b),this.a=typeof e.a=="number"?Mg(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(i){const o=i/255;return o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),a=e(this.b);return .2126*n+.7152*r+.0722*a}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=ai(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let a=this.getLightness()-e/100;return a<0&&(a=0),this._c({h:n,s:r,l:a,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let a=this.getLightness()+e/100;return a>1&&(a=1),this._c({h:n,s:r,l:a,a:this.a})}mix(e,n=50){const r=this._c(e),a=n/100,i=s=>(r[s]-this[s])*a+this[s],o={r:ai(i("r")),g:ai(i("g")),b:ai(i("b")),a:ai(i("a")*100)/100};return this._c(o)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),a=i=>ai((this[i]*this.a+n[i]*n.a*(1-this.a))/r);return this._c({r:a("r"),g:a("g"),b:a("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const a=(this.b||0).toString(16);if(e+=a.length===2?a:"0"+a,typeof this.a=="number"&&this.a>=0&&this.a<1){const i=ai(this.a*255).toString(16);e+=i.length===2?i:"0"+i}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=ai(this.getSaturation()*100),r=ai(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const a=this.clone();return a[e]=Mg(n,r),a}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(a,i){return parseInt(n[a]+n[i||a],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof a=="number"?a:1,n<=0){const d=ai(r*255);this.r=d,this.g=d,this.b=d}let i=0,o=0,s=0;const l=e/60,c=(1-Math.abs(2*r-1))*n,f=c*(1-Math.abs(l%2-1));l>=0&&l<1?(i=c,o=f):l>=1&&l<2?(i=f,o=c):l>=2&&l<3?(o=c,s=f):l>=3&&l<4?(o=f,s=c):l>=4&&l<5?(i=f,s=c):l>=5&&l<6&&(i=c,s=f);const u=r-c/2;this.r=ai((i+u)*255),this.g=ai((o+u)*255),this.b=ai((s+u)*255)}fromHsv({h:e,s:n,v:r,a}){this._h=e%360,this._s=n,this._v=r,this.a=typeof a=="number"?a:1;const i=ai(r*255);if(this.r=i,this.g=i,this.b=i,n<=0)return;const o=e/60,s=Math.floor(o),l=o-s,c=ai(r*(1-n)*255),f=ai(r*(1-n*l)*255),u=ai(r*(1-n*(1-l))*255);switch(s){case 0:this.g=u,this.b=c;break;case 1:this.r=f,this.b=c;break;case 2:this.r=c,this.b=u;break;case 3:this.r=c,this.g=f;break;case 4:this.r=u,this.g=c;break;case 5:default:this.g=c,this.b=f;break}}fromHsvString(e){const n=P4(e,NO);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=P4(e,NO);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=P4(e,(r,a)=>a.includes("%")?ai(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var cae=["b"],uae=["v"],L4=function(e){return Math.round(Number(e||0))},fae=function(e){if(e instanceof w5)return e;if(e&&qt(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,a=Tn(n,cae);return ie(ie({},a),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Av=function(t){ko(n,t);var e=Uo(n);function n(r){return ua(this,n),e.call(this,fae(r))}return fa(n,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=L4(a.s*100),o=L4(a.b*100),s=L4(a.h),l=a.a,c="hsb(".concat(s,", ").concat(i,"%, ").concat(o,"%)"),f="hsba(".concat(s,", ").concat(i,"%, ").concat(o,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:f}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,o=Tn(a,uae);return ie(ie({},o),{},{b:i,a:this.a})}}]),n}(w5),dae=function(e){return e instanceof Av?e:new Av(e)};dae("#1677ff");const gae=(t,e)=>(t==null?void 0:t.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",mae=(t,e)=>t?gae(t,e):"";let vae=function(){function t(e){ua(this,t);var n;if(this.cleared=!1,e instanceof t){this.metaColor=e.metaColor.clone(),this.colors=(n=e.colors)===null||n===void 0?void 0:n.map(a=>({color:new t(a.color),percent:a.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(a=>{let{color:i,percent:o}=a;return{color:new t(i),percent:o}}),this.metaColor=new Av(this.colors[0].color.metaColor)):this.metaColor=new Av(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return fa(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return mae(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(a=>`${a.color.toRgbString()} ${a.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,a)=>{const i=n.colors[a];return r.percent===i.percent&&r.color.equals(i.color)}):this.toHexString()===n.toHexString()}}])}();var pae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},hae=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:pae}))},Mv=S.forwardRef(hae);const W7=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),Sae=t=>({animationDuration:t,animationFillMode:"both"}),yae=t=>({animationDuration:t,animationFillMode:"both"}),b5=function(t,e,n,r){const i=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${i}${t}-enter,
      ${i}${t}-appear
    `]:Object.assign(Object.assign({},Sae(r)),{animationPlayState:"paused"}),[`${i}${t}-leave`]:Object.assign(Object.assign({},yae(r)),{animationPlayState:"paused"}),[`
      ${i}${t}-enter${t}-enter-active,
      ${i}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${i}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},Cae=new er("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),xae=new er("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),y$=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,r=`${n}-fade`,a=e?"&":"";return[b5(r,Cae,xae,t.motionDurationMid,e),{[`
        ${a}${r}-enter,
        ${a}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${r}-leave`]:{animationTimingFunction:"linear"}}]},Tae=new er("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),wae=new er("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),bae=new er("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Eae=new er("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Dae=new er("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Oae=new er("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Rae=new er("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Iae=new er("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Aae={"move-up":{inKeyframes:Rae,outKeyframes:Iae},"move-down":{inKeyframes:Tae,outKeyframes:wae},"move-left":{inKeyframes:bae,outKeyframes:Eae},"move-right":{inKeyframes:Dae,outKeyframes:Oae}},LS=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:a,outKeyframes:i}=Aae[e];return[b5(r,a,i,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},j7=new er("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),H7=new er("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),q7=new er("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),K7=new er("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Mae=new er("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Pae=new er("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Lae=new er("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),_ae=new er("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Nae={"slide-up":{inKeyframes:j7,outKeyframes:H7},"slide-down":{inKeyframes:q7,outKeyframes:K7},"slide-left":{inKeyframes:Mae,outKeyframes:Pae},"slide-right":{inKeyframes:Lae,outKeyframes:_ae}},x1=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:a,outKeyframes:i}=Nae[e];return[b5(r,a,i,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},Fae=new er("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),$ae=new er("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),FO=new er("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),$O=new er("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Vae=new er("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),kae=new er("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Uae=new er("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Bae=new er("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Gae=new er("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),zae=new er("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Wae=new er("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),jae=new er("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Hae={zoom:{inKeyframes:Fae,outKeyframes:$ae},"zoom-big":{inKeyframes:FO,outKeyframes:$O},"zoom-big-fast":{inKeyframes:FO,outKeyframes:$O},"zoom-left":{inKeyframes:Uae,outKeyframes:Bae},"zoom-right":{inKeyframes:Gae,outKeyframes:zae},"zoom-up":{inKeyframes:Vae,outKeyframes:kae},"zoom-down":{inKeyframes:Wae,outKeyframes:jae}},E5=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:a,outKeyframes:i}=Hae[e];return[b5(r,a,i,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},qae=(t,e)=>{const{r:n,g:r,b:a,a:i}=t.toRgb(),o=new Av(t.toRgbString()).onBackground(e).toHsv();return i<=.5?o.v>.5:n*.299+r*.587+a*.114>192},C$=t=>{const{paddingInline:e,onlyIconSize:n,paddingBlock:r}=t;return fr(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},x$=t=>{var e,n,r,a,i,o;const s=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,l=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,c=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,f=(a=t.contentLineHeight)!==null&&a!==void 0?a:C2(s),u=(i=t.contentLineHeightSM)!==null&&i!==void 0?i:C2(l),d=(o=t.contentLineHeightLG)!==null&&o!==void 0?o:C2(c),g=qae(new vae(t.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:t.colorText,textTextHoverColor:t.colorText,textTextActiveColor:t.colorText,textHoverBg:t.colorFillTertiary,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,solidTextColor:g,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:f,contentLineHeightSM:u,contentLineHeightLG:d,paddingBlock:Math.max((t.controlHeight-s*f)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-l*u)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*d)/2-t.lineWidth,0)}},Kae=t=>{const{componentCls:e,iconCls:n,fontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${xe(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},S1(t)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},T$=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),Qae=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Xae=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),Yae=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),Q7=(t,e,n,r,a,i,o,s)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},T$(t,Object.assign({background:e},o),Object.assign({background:e},s))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:i||void 0}})}),Zae=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},Yae(t))}),Jae=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),D5=(t,e,n,r)=>{const i=r&&["link","text"].includes(r)?Jae:Zae;return Object.assign(Object.assign({},i(t)),T$(t.componentCls,e,n))},X7=(t,e,n,r,a)=>({[`&${t.componentCls}-variant-solid`]:Object.assign({color:e,background:n},D5(t,r,a))}),Y7=(t,e,n,r,a)=>({[`&${t.componentCls}-variant-outlined, &${t.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:n},D5(t,r,a))}),Z7=t=>({[`&${t.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),J7=(t,e,n,r)=>({[`&${t.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},D5(t,n,r))}),T1=(t,e,n,r,a)=>({[`&${t.componentCls}-variant-${n}`]:Object.assign({color:e,boxShadow:"none"},D5(t,r,a,n))}),eie=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.defaultColor,boxShadow:t.defaultShadow},X7(t,t.solidTextColor,t.colorBgSolid,{background:t.colorBgSolidHover},{background:t.colorBgSolidActive})),Z7(t)),J7(t,t.colorFillTertiary,{background:t.colorFillSecondary},{background:t.colorFill})),T1(t,t.textTextColor,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),Q7(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),tie=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorPrimary,boxShadow:t.primaryShadow},Y7(t,t.colorPrimary,t.colorBgContainer,{color:t.colorPrimaryTextHover,borderColor:t.colorPrimaryHover,background:t.colorBgContainer},{color:t.colorPrimaryTextActive,borderColor:t.colorPrimaryActive,background:t.colorBgContainer})),Z7(t)),J7(t,t.colorPrimaryBg,{background:t.colorPrimaryBgHover},{background:t.colorPrimaryBorder})),T1(t,t.colorLink,"text",{color:t.colorPrimaryTextHover,background:t.colorPrimaryBg},{color:t.colorPrimaryTextActive,background:t.colorPrimaryBorder})),Q7(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),nie=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorError,boxShadow:t.dangerShadow},X7(t,t.dangerColor,t.colorError,{background:t.colorErrorHover},{background:t.colorErrorActive})),Y7(t,t.colorError,t.colorBgContainer,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Z7(t)),J7(t,t.colorErrorBg,{background:t.colorErrorBgFilledHover},{background:t.colorErrorBgActive})),T1(t,t.colorError,"text",{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive})),T1(t,t.colorError,"link",{color:t.colorErrorHover},{color:t.colorErrorActive})),Q7(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),rie=t=>{const{componentCls:e}=t;return{[`${e}-color-default`]:eie(t),[`${e}-color-primary`]:tie(t),[`${e}-color-dangerous`]:nie(t)}},aie=t=>Object.assign(Object.assign(Object.assign(Object.assign({},Y7(t,t.defaultBorderColor,t.defaultBg,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),T1(t,t.textTextColor,"text",{color:t.textTextHoverColor,background:t.textHoverBg},{color:t.textTextActiveColor,background:t.colorBgTextActive})),X7(t,t.primaryColor,t.colorPrimary,{background:t.colorPrimaryHover,color:t.primaryColor},{background:t.colorPrimaryActive,color:t.primaryColor})),T1(t,t.colorLink,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),eT=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:a,lineHeight:i,borderRadius:o,buttonPaddingHorizontal:s,iconCls:l,buttonPaddingVertical:c}=t,f=`${n}-icon-only`;return[{[e]:{fontSize:a,lineHeight:i,height:r,padding:`${xe(c)} ${xe(s)}`,borderRadius:o,[`&${f}`]:{width:r,paddingInline:0,[`&${n}-compact-item`]:{flex:"none"},[`&${n}-round`]:{width:"auto"},[l]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${e}`]:Qae(t)},{[`${n}${n}-round${e}`]:Xae(t)}]},iie=t=>{const e=fr(t,{fontSize:t.contentFontSize,lineHeight:t.contentLineHeight});return eT(e,t.componentCls)},oie=t=>{const e=fr(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,lineHeight:t.contentLineHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:t.paddingBlockSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return eT(e,`${t.componentCls}-sm`)},sie=t=>{const e=fr(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,lineHeight:t.contentLineHeightLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:t.paddingBlockLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return eT(e,`${t.componentCls}-lg`)},lie=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},cie=ta("Button",t=>{const e=C$(t);return[Kae(e),iie(e),oie(e),sie(e),lie(e),rie(e),aie(e),lae(e)]},x$,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function uie(t,e,n){const{focusElCls:r,focus:a,borderElCls:i}=n,o=i?"> *":"",s=["hover",a?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${o}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${o}`]:{zIndex:0}})}}function fie(t,e,n){const{borderElCls:r}=n,a=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${a}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${a}, &${t}-sm ${a}, &${t}-lg ${a}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${a}, &${t}-sm ${a}, &${t}-lg ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function tT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},uie(t,r,e)),fie(n,r,e))}}function die(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function gie(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function mie(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},die(t,e)),gie(t.componentCls,e))}}const vie=t=>{const{componentCls:e,calc:n}=t;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:t.lineWidth,height:`calc(100% + ${xe(t.lineWidth)} * 2)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${xe(t.lineWidth)} * 2)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},pie=$7(["Button","compact"],t=>{const e=C$(t);return[tT(e),mie(e),vie(e)]},x$);var hie=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function Sie(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const yie={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},Cie=Oe.forwardRef((t,e)=>{var n,r,a,i;const{loading:o=!1,prefixCls:s,color:l,variant:c,type:f,danger:u=!1,shape:d="default",size:g,styles:v,disabled:m,className:p,rootClassName:h,children:y,icon:C,iconPosition:x="start",ghost:T=!1,block:w=!1,htmlType:b="button",classNames:E,style:O={},autoInsertSpace:D}=t,R=hie(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),I=f||"default",[M,A]=S.useMemo(()=>{if(l&&c)return[l,c];const St=yie[I]||[];return u?["danger",St[1]]:St},[f,l,c,u]),L=M==="danger"?"dangerous":M,{getPrefixCls:F,direction:_,button:P}=S.useContext(cn),N=(n=D??(P==null?void 0:P.autoInsertSpace))!==null&&n!==void 0?n:!0,k=F("btn",s),[H,K,te]=cie(k),se=S.useContext(ls),pe=m??se,ve=S.useContext(p$),Te=S.useMemo(()=>Sie(o),[o]),[_e,fe]=S.useState(Te.loading),[ce,Ee]=S.useState(!1),he=Vo(e,S.createRef()),Re=S.Children.count(y)===1&&!C&&!I4(A);S.useEffect(()=>{let St=null;Te.delay>0?St=setTimeout(()=>{St=null,fe(!0)},Te.delay):fe(Te.loading);function ct(){St&&(clearTimeout(St),St=null)}return ct},[Te]),S.useEffect(()=>{if(!he||!he.current||!N)return;const St=he.current.textContent;Re&&U6(St)?ce||Ee(!0):ce&&Ee(!1)},[he]);const Pe=Oe.useCallback(St=>{var ct;if(_e||pe){St.preventDefault();return}(ct=t.onClick)===null||ct===void 0||ct.call(t,St)},[t.onClick,_e,pe]),{compactSize:We,compactItemClassnames:Me}=gp(k,_),Je={large:"lg",small:"sm",middle:void 0},Be=Us(St=>{var ct,et;return(et=(ct=g??We)!==null&&ct!==void 0?ct:ve)!==null&&et!==void 0?et:St}),z=Be&&(r=Je[Be])!==null&&r!==void 0?r:"",Y=_e?"loading":C,ee=$a(R,["navigate"]),j=Se(k,K,te,{[`${k}-${d}`]:d!=="default"&&d,[`${k}-${I}`]:I,[`${k}-dangerous`]:u,[`${k}-color-${L}`]:L,[`${k}-variant-${A}`]:A,[`${k}-${z}`]:z,[`${k}-icon-only`]:!y&&y!==0&&!!Y,[`${k}-background-ghost`]:T&&!I4(A),[`${k}-loading`]:_e,[`${k}-two-chinese-chars`]:ce&&N&&!_e,[`${k}-block`]:w,[`${k}-rtl`]:_==="rtl",[`${k}-icon-end`]:x==="end"},Me,p,h,P==null?void 0:P.className),oe=Object.assign(Object.assign({},P==null?void 0:P.style),O),be=Se(E==null?void 0:E.icon,(a=P==null?void 0:P.classNames)===null||a===void 0?void 0:a.icon),Ue=Object.assign(Object.assign({},(v==null?void 0:v.icon)||{}),((i=P==null?void 0:P.styles)===null||i===void 0?void 0:i.icon)||{}),ze=C&&!_e?Oe.createElement(S$,{prefixCls:k,className:be,style:Ue},C):Oe.createElement(sae,{existIcon:!!C,prefixCls:k,loading:_e}),at=y||y===0?oae(y,Re&&N):null;if(ee.href!==void 0)return H(Oe.createElement("a",Object.assign({},ee,{className:Se(j,{[`${k}-disabled`]:pe}),href:pe?void 0:ee.href,style:oe,onClick:Pe,ref:he,tabIndex:pe?-1:0}),ze,at));let gt=Oe.createElement("button",Object.assign({},R,{type:b,className:j,style:oe,onClick:Pe,disabled:pe,ref:he}),ze,at,!!Me&&Oe.createElement(pie,{key:"compact",prefixCls:k}));return I4(A)||(gt=Oe.createElement(z7,{component:"Button",disabled:_e},gt)),H(gt)}),ji=Cie;ji.Group=aae;ji.__ANT_BUTTON=!0;function _4(t){return!!(t!=null&&t.then)}const w$=t=>{const{type:e,children:n,prefixCls:r,buttonProps:a,close:i,autoFocus:o,emitEvent:s,isSilent:l,quitOnNullishReturnValue:c,actionFn:f}=t,u=S.useRef(!1),d=S.useRef(null),[g,v]=h1(!1),m=function(){i==null||i.apply(void 0,arguments)};S.useEffect(()=>{let y=null;return o&&(y=setTimeout(()=>{var C;(C=d.current)===null||C===void 0||C.focus()})),()=>{y&&clearTimeout(y)}},[]);const p=y=>{_4(y)&&(v(!0),y.then(function(){v(!1,!0),m.apply(void 0,arguments),u.current=!1},C=>{if(v(!1,!0),u.current=!1,!(l!=null&&l()))return Promise.reject(C)}))},h=y=>{if(u.current)return;if(u.current=!0,!f){m();return}let C;if(s){if(C=f(y),c&&!_4(C)){u.current=!1,m(y);return}}else if(f.length)C=f(i),u.current=!1;else if(C=f(),!_4(C)){m();return}p(C)};return S.createElement(ji,Object.assign({},h$(e),{onClick:h,loading:g,prefixCls:r},a,{ref:d}),n)},mp=Oe.createContext({}),{Provider:b$}=mp,VO=()=>{const{autoFocusButton:t,cancelButtonProps:e,cancelTextLocale:n,isSilent:r,mergedOkCancel:a,rootPrefixCls:i,close:o,onCancel:s,onConfirm:l}=S.useContext(mp);return a?Oe.createElement(w$,{isSilent:r,actionFn:s,close:function(){o==null||o.apply(void 0,arguments),l==null||l(!1)},autoFocus:t==="cancel",buttonProps:e,prefixCls:`${i}-btn`},n):null},kO=()=>{const{autoFocusButton:t,close:e,isSilent:n,okButtonProps:r,rootPrefixCls:a,okTextLocale:i,okType:o,onConfirm:s,onOk:l}=S.useContext(mp);return Oe.createElement(w$,{isSilent:n,type:o||"primary",actionFn:l,close:function(){e==null||e.apply(void 0,arguments),s==null||s(!0)},autoFocus:t==="ok",buttonProps:r,prefixCls:`${a}-btn`},i)};var E$=S.createContext(null),UO=[];function xie(t,e){var n=S.useState(function(){if(!fi())return null;var v=document.createElement("div");return v}),r=Ae(n,1),a=r[0],i=S.useRef(!1),o=S.useContext(E$),s=S.useState(UO),l=Ae(s,2),c=l[0],f=l[1],u=o||(i.current?void 0:function(v){f(function(m){var p=[v].concat(Ze(m));return p})});function d(){a.parentElement||document.body.appendChild(a),i.current=!0}function g(){var v;(v=a.parentElement)===null||v===void 0||v.removeChild(a),i.current=!1}return wr(function(){return t?o?o(d):d():g(),g},[t]),wr(function(){c.length&&(c.forEach(function(v){return v()}),f(UO))},[c]),[a,u]}var N4;function D$(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var a,i;if(t){var o=getComputedStyle(t);r.scrollbarColor=o.scrollbarColor,r.scrollbarWidth=o.scrollbarWidth;var s=getComputedStyle(t,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var f=l?"width: ".concat(s.width,";"):"",u=c?"height: ".concat(s.height,";"):"";j0(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(f,`
`).concat(u,`
}`),e)}catch(v){console.error(v),a=l,i=c}}document.body.appendChild(n);var d=t&&a&&!isNaN(a)?a:n.offsetWidth-n.clientWidth,g=t&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),bv(e),{width:d,height:g}}function BO(t){return typeof document>"u"?0:(N4===void 0&&(N4=D$()),N4.width)}function B6(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:D$(t)}function Tie(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var wie="rc-util-locker-".concat(Date.now()),GO=0;function bie(t){var e=!!t,n=S.useState(function(){return GO+=1,"".concat(wie,"_").concat(GO)}),r=Ae(n,1),a=r[0];wr(function(){if(e){var i=B6(document.body).width,o=Tie();j0(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else bv(a);return function(){bv(a)}},[e,a])}var Eie=!1;function Die(t){return Eie}var zO=function(e){return e===!1?!1:!fi()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},nT=S.forwardRef(function(t,e){var n=t.open,r=t.autoLock,a=t.getContainer;t.debug;var i=t.autoDestroy,o=i===void 0?!0:i,s=t.children,l=S.useState(n),c=Ae(l,2),f=c[0],u=c[1],d=f||n;S.useEffect(function(){(o||n)&&u(n)},[n,o]);var g=S.useState(function(){return zO(a)}),v=Ae(g,2),m=v[0],p=v[1];S.useEffect(function(){var R=zO(a);p(R??null)});var h=xie(d&&!m),y=Ae(h,2),C=y[0],x=y[1],T=m??C;bie(r&&n&&fi()&&(T===C||T===document.body));var w=null;if(s&&s0(s)&&e){var b=s;w=b.ref}var E=xf(w,e);if(!d||!fi()||m===void 0)return null;var O=T===!1||Die(),D=s;return e&&(D=S.cloneElement(s,{ref:E})),S.createElement(E$.Provider,{value:x},O?D:_o.createPortal(D,T))}),O$=S.createContext({});function Oie(){var t=ie({},np);return t.useId}var WO=0,jO=Oie();const R$=jO?function(e){var n=jO();return e||n}:function(e){var n=S.useState("ssr-id"),r=Ae(n,2),a=r[0],i=r[1];return S.useEffect(function(){var o=WO;WO+=1,i("rc_unique_".concat(o))},[]),e||a};function HO(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function qO(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var a=t.document;n=a.documentElement[r],typeof n!="number"&&(n=a.body[r])}return n}function Rie(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,a=r.defaultView||r.parentWindow;return n.left+=qO(a),n.top+=qO(a,!0),n}const Iie=S.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var Aie={width:0,height:0,overflow:"hidden",outline:"none"},Mie={outline:"none"},I$=Oe.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,a=t.style,i=t.title,o=t.ariaId,s=t.footer,l=t.closable,c=t.closeIcon,f=t.onClose,u=t.children,d=t.bodyStyle,g=t.bodyProps,v=t.modalRender,m=t.onMouseDown,p=t.onMouseUp,h=t.holderRef,y=t.visible,C=t.forceRender,x=t.width,T=t.height,w=t.classNames,b=t.styles,E=Oe.useContext(O$),O=E.panel,D=xf(h,O),R=S.useRef(),I=S.useRef();Oe.useImperativeHandle(e,function(){return{focus:function(){var H;(H=R.current)===null||H===void 0||H.focus({preventScroll:!0})},changeActive:function(H){var K=document,te=K.activeElement;H&&te===I.current?R.current.focus({preventScroll:!0}):!H&&te===R.current&&I.current.focus({preventScroll:!0})}}});var M={};x!==void 0&&(M.width=x),T!==void 0&&(M.height=T);var A=s?Oe.createElement("div",{className:Se("".concat(n,"-footer"),w==null?void 0:w.footer),style:ie({},b==null?void 0:b.footer)},s):null,B=i?Oe.createElement("div",{className:Se("".concat(n,"-header"),w==null?void 0:w.header),style:ie({},b==null?void 0:b.header)},Oe.createElement("div",{className:"".concat(n,"-title"),id:o},i)):null,L=S.useMemo(function(){return qt(l)==="object"&&l!==null?l:l?{closeIcon:c??Oe.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,c,n]),F=Pi(L,!0),_=qt(l)==="object"&&l.disabled,P=l?Oe.createElement("button",tt({type:"button",onClick:f,"aria-label":"Close"},F,{className:"".concat(n,"-close"),disabled:_}),L.closeIcon):null,N=Oe.createElement("div",{className:Se("".concat(n,"-content"),w==null?void 0:w.content),style:b==null?void 0:b.content},P,B,Oe.createElement("div",tt({className:Se("".concat(n,"-body"),w==null?void 0:w.body),style:ie(ie({},d),b==null?void 0:b.body)},g),u),A);return Oe.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?o:null,"aria-modal":"true",ref:D,style:ie(ie({},a),M),className:Se(n,r),onMouseDown:m,onMouseUp:p},Oe.createElement("div",{ref:R,tabIndex:0,style:Mie},Oe.createElement(Iie,{shouldUpdate:y||C},v?v(N):N)),Oe.createElement("div",{tabIndex:0,ref:I,style:Aie}))}),A$=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,a=t.style,i=t.className,o=t.visible,s=t.forceRender,l=t.destroyOnClose,c=t.motionName,f=t.ariaId,u=t.onVisibleChanged,d=t.mousePosition,g=S.useRef(),v=S.useState(),m=Ae(v,2),p=m[0],h=m[1],y={};p&&(y.transformOrigin=p);function C(){var x=Rie(g.current);h(d&&(d.x||d.y)?"".concat(d.x-x.left,"px ").concat(d.y-x.top,"px"):"")}return S.createElement(ks,{visible:o,onVisibleChanged:u,onAppearPrepare:C,onEnterPrepare:C,forceRender:s,motionName:c,removeOnLeave:l,ref:g},function(x,T){var w=x.className,b=x.style;return S.createElement(I$,tt({},t,{ref:e,title:r,ariaId:f,prefixCls:n,holderRef:T,style:ie(ie(ie({},b),a),y),className:Se(i,w)}))})});A$.displayName="Content";var Pie=function(e){var n=e.prefixCls,r=e.style,a=e.visible,i=e.maskProps,o=e.motionName,s=e.className;return S.createElement(ks,{key:"mask",visible:a,motionName:o,leavedClassName:"".concat(n,"-mask-hidden")},function(l,c){var f=l.className,u=l.style;return S.createElement("div",tt({ref:c,style:ie(ie({},u),r),className:Se("".concat(n,"-mask"),f,s)},i))})},Lie=function(e){var n=e.prefixCls,r=n===void 0?"rc-dialog":n,a=e.zIndex,i=e.visible,o=i===void 0?!1:i,s=e.keyboard,l=s===void 0?!0:s,c=e.focusTriggerAfterClose,f=c===void 0?!0:c,u=e.wrapStyle,d=e.wrapClassName,g=e.wrapProps,v=e.onClose,m=e.afterOpenChange,p=e.afterClose,h=e.transitionName,y=e.animation,C=e.closable,x=C===void 0?!0:C,T=e.mask,w=T===void 0?!0:T,b=e.maskTransitionName,E=e.maskAnimation,O=e.maskClosable,D=O===void 0?!0:O,R=e.maskStyle,I=e.maskProps,M=e.rootClassName,A=e.classNames,B=e.styles,L=S.useRef(),F=S.useRef(),_=S.useRef(),P=S.useState(o),N=Ae(P,2),k=N[0],H=N[1],K=R$();function te(){s6(F.current,document.activeElement)||(L.current=document.activeElement)}function se(){if(!s6(F.current,document.activeElement)){var Re;(Re=_.current)===null||Re===void 0||Re.focus()}}function pe(Re){if(Re)se();else{if(H(!1),w&&L.current&&f){try{L.current.focus({preventScroll:!0})}catch{}L.current=null}k&&(p==null||p())}m==null||m(Re)}function ve(Re){v==null||v(Re)}var Te=S.useRef(!1),_e=S.useRef(),fe=function(){clearTimeout(_e.current),Te.current=!0},ce=function(){_e.current=setTimeout(function(){Te.current=!1})},Ee=null;D&&(Ee=function(Pe){Te.current?Te.current=!1:F.current===Pe.target&&ve(Pe)});function we(Re){if(l&&Re.keyCode===rt.ESC){Re.stopPropagation(),ve(Re);return}o&&Re.keyCode===rt.TAB&&_.current.changeActive(!Re.shiftKey)}S.useEffect(function(){o&&(H(!0),te())},[o]),S.useEffect(function(){return function(){clearTimeout(_e.current)}},[]);var he=ie(ie(ie({zIndex:a},u),B==null?void 0:B.wrapper),{},{display:k?null:"none"});return S.createElement("div",tt({className:Se("".concat(r,"-root"),M)},Pi(e,{data:!0})),S.createElement(Pie,{prefixCls:r,visible:w&&o,motionName:HO(r,b,E),style:ie(ie({zIndex:a},R),B==null?void 0:B.mask),maskProps:I,className:A==null?void 0:A.mask}),S.createElement("div",tt({tabIndex:-1,onKeyDown:we,className:Se("".concat(r,"-wrap"),d,A==null?void 0:A.wrapper),ref:F,onClick:Ee,style:he},g),S.createElement(A$,tt({},e,{onMouseDown:fe,onMouseUp:ce,ref:_,closable:x,ariaId:K,prefixCls:r,visible:o&&k,onClose:ve,onVisibleChanged:pe,motionName:HO(r,h,y)}))))},M$=function(e){var n=e.visible,r=e.getContainer,a=e.forceRender,i=e.destroyOnClose,o=i===void 0?!1:i,s=e.afterClose,l=e.panelRef,c=S.useState(n),f=Ae(c,2),u=f[0],d=f[1],g=S.useMemo(function(){return{panel:l}},[l]);return S.useEffect(function(){n&&d(!0)},[n]),!a&&o&&!u?null:S.createElement(O$.Provider,{value:g},S.createElement(nT,{open:n||a||u,autoDestroy:!1,getContainer:r,autoLock:n||u},S.createElement(Lie,tt({},e,{destroyOnClose:o,afterClose:function(){s==null||s(),d(!1)}}))))};M$.displayName="Dialog";var _u="RC_FORM_INTERNAL_HOOKS",Fr=function(){jr(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},w1=S.createContext({getFieldValue:Fr,getFieldsValue:Fr,getFieldError:Fr,getFieldWarning:Fr,getFieldsError:Fr,isFieldsTouched:Fr,isFieldTouched:Fr,isFieldValidating:Fr,isFieldsValidating:Fr,resetFields:Fr,setFields:Fr,setFieldValue:Fr,setFieldsValue:Fr,validateFields:Fr,submit:Fr,getInternalHooks:function(){return Fr(),{dispatch:Fr,initEntityValue:Fr,registerField:Fr,useSubscribe:Fr,setInitialValues:Fr,destroyForm:Fr,setCallbacks:Fr,registerWatch:Fr,getFields:Fr,setValidateMessages:Fr,setPreserve:Fr,getInitialValue:Fr}}}),_S=S.createContext(null);function G6(t){return t==null?[]:Array.isArray(t)?t:[t]}function _ie(t){return t&&!!t._init}function z6(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var W6=z6();function Nie(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Fie(t,e,n){if(D7())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var a=new(t.bind.apply(t,r));return n&&xv(a,n.prototype),a}function j6(t){var e=typeof Map=="function"?new Map:void 0;return j6=function(r){if(r===null||!Nie(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,a)}function a(){return Fie(r,arguments,Tv(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),xv(a,r)},j6(t)}var $ie=/%[sdj%]/g,Vie=function(){};function H6(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Ao(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=0,i=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var o=t.replace($ie,function(s){if(s==="%%")return"%";if(a>=i)return s;switch(s){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch{return"[Circular]"}break;default:return s}});return o}return t}function kie(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function ni(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||kie(e)&&typeof t=="string"&&!t)}function Uie(t,e,n){var r=[],a=0,i=t.length;function o(s){r.push.apply(r,Ze(s||[])),a++,a===i&&n(r)}t.forEach(function(s){e(s,o)})}function KO(t,e,n){var r=0,a=t.length;function i(o){if(o&&o.length){n(o);return}var s=r;r=r+1,s<a?e(t[s],i):n([])}i([])}function Bie(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,Ze(t[n]||[]))}),e}var QO=function(t){ko(n,t);var e=Uo(n);function n(r,a){var i;return ua(this,n),i=e.call(this,"Async Validation Error"),J(dt(i),"errors",void 0),J(dt(i),"fields",void 0),i.errors=r,i.fields=a,i}return fa(n)}(j6(Error));function Gie(t,e,n,r,a){if(e.first){var i=new Promise(function(d,g){var v=function(h){return r(h),h.length?g(new QO(h,H6(h))):d(a)},m=Bie(t);KO(m,n,v)});return i.catch(function(d){return d}),i}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,c=0,f=[],u=new Promise(function(d,g){var v=function(p){if(f.push.apply(f,p),c++,c===l)return r(f),f.length?g(new QO(f,H6(f))):d(a)};s.length||(r(f),d(a)),s.forEach(function(m){var p=t[m];o.indexOf(m)!==-1?KO(p,n,v):Uie(p,n,v)})});return u.catch(function(d){return d}),u}function zie(t){return!!(t&&t.message!==void 0)}function Wie(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function XO(t,e){return function(n){var r;return t.fullFields?r=Wie(e,t.fullFields):r=e[n.field||t.fullField],zie(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function YO(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];qt(r)==="object"&&qt(t[n])==="object"?t[n]=ie(ie({},t[n]),r):t[n]=r}}return t}var _f="enum",jie=function(e,n,r,a,i){e[_f]=Array.isArray(e[_f])?e[_f]:[],e[_f].indexOf(n)===-1&&a.push(Ao(i.messages[_f],e.fullField,e[_f].join(", ")))},Hie=function(e,n,r,a,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||a.push(Ao(i.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(n)||a.push(Ao(i.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},qie=function(e,n,r,a,i){var o=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=n,u=null,d=typeof n=="number",g=typeof n=="string",v=Array.isArray(n);if(d?u="number":g?u="string":v&&(u="array"),!u)return!1;v&&(f=n.length),g&&(f=n.replace(c,"_").length),o?f!==e.len&&a.push(Ao(i.messages[u].len,e.fullField,e.len)):s&&!l&&f<e.min?a.push(Ao(i.messages[u].min,e.fullField,e.min)):l&&!s&&f>e.max?a.push(Ao(i.messages[u].max,e.fullField,e.max)):s&&l&&(f<e.min||f>e.max)&&a.push(Ao(i.messages[u].range,e.fullField,e.min,e.max))},P$=function(e,n,r,a,i,o){e.required&&(!r.hasOwnProperty(e.field)||ni(n,o||e.type))&&a.push(Ao(i.messages.required,e.fullField))},mh;const Kie=function(){if(mh)return mh;var t="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),s=new RegExp("(?:^".concat(n,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(o,"$")),f=function(w){return w&&w.exact?s:new RegExp("(?:".concat(e(w)).concat(n).concat(e(w),")|(?:").concat(e(w)).concat(o).concat(e(w),")"),"g")};f.v4=function(T){return T&&T.exact?l:new RegExp("".concat(e(T)).concat(n).concat(e(T)),"g")},f.v6=function(T){return T&&T.exact?c:new RegExp("".concat(e(T)).concat(o).concat(e(T)),"g")};var u="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",g=f.v4().source,v=f.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",h="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',x="(?:".concat(u,"|www\\.)").concat(d,"(?:localhost|").concat(g,"|").concat(v,"|").concat(m).concat(p).concat(h,")").concat(y).concat(C);return mh=new RegExp("(?:^".concat(x,"$)"),"i"),mh};var ZO={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},nm={integer:function(e){return nm.number(e)&&parseInt(e,10)===e},float:function(e){return nm.number(e)&&!nm.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return qt(e)==="object"&&!nm.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(ZO.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Kie())},hex:function(e){return typeof e=="string"&&!!e.match(ZO.hex)}},Qie=function(e,n,r,a,i){if(e.required&&n===void 0){P$(e,n,r,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;o.indexOf(s)>-1?nm[s](n)||a.push(Ao(i.messages.types[s],e.fullField,e.type)):s&&qt(n)!==e.type&&a.push(Ao(i.messages.types[s],e.fullField,e.type))},Xie=function(e,n,r,a,i){(/^\s+$/.test(n)||n==="")&&a.push(Ao(i.messages.whitespace,e.fullField))};const cr={required:P$,whitespace:Xie,type:Qie,range:qie,enum:jie,pattern:Hie};var Yie=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n)&&!e.required)return r();cr.required(e,n,a,o,i)}r(o)},Zie=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return r();cr.required(e,n,a,o,i,"array"),n!=null&&(cr.type(e,n,a,o,i),cr.range(e,n,a,o,i))}r(o)},Jie=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n)&&!e.required)return r();cr.required(e,n,a,o,i),n!==void 0&&cr.type(e,n,a,o,i)}r(o)},eoe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n,"date")&&!e.required)return r();if(cr.required(e,n,a,o,i),!ni(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),cr.type(e,l,a,o,i),l&&cr.range(e,l.getTime(),a,o,i)}}r(o)},toe="enum",noe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n)&&!e.required)return r();cr.required(e,n,a,o,i),n!==void 0&&cr[toe](e,n,a,o,i)}r(o)},roe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n)&&!e.required)return r();cr.required(e,n,a,o,i),n!==void 0&&(cr.type(e,n,a,o,i),cr.range(e,n,a,o,i))}r(o)},aoe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n)&&!e.required)return r();cr.required(e,n,a,o,i),n!==void 0&&(cr.type(e,n,a,o,i),cr.range(e,n,a,o,i))}r(o)},ioe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n)&&!e.required)return r();cr.required(e,n,a,o,i),n!==void 0&&cr.type(e,n,a,o,i)}r(o)},ooe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),ni(n)&&!e.required)return r();cr.required(e,n,a,o,i),n!==void 0&&(cr.type(e,n,a,o,i),cr.range(e,n,a,o,i))}r(o)},soe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n)&&!e.required)return r();cr.required(e,n,a,o,i),n!==void 0&&cr.type(e,n,a,o,i)}r(o)},loe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n,"string")&&!e.required)return r();cr.required(e,n,a,o,i),ni(n,"string")||cr.pattern(e,n,a,o,i)}r(o)},coe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n)&&!e.required)return r();cr.required(e,n,a,o,i),ni(n)||cr.type(e,n,a,o,i)}r(o)},uoe=function(e,n,r,a,i){var o=[],s=Array.isArray(n)?"array":qt(n);cr.required(e,n,a,o,i,s),r(o)},foe=function(e,n,r,a,i){var o=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(ni(n,"string")&&!e.required)return r();cr.required(e,n,a,o,i,"string"),ni(n,"string")||(cr.type(e,n,a,o,i),cr.range(e,n,a,o,i),cr.pattern(e,n,a,o,i),e.whitespace===!0&&cr.whitespace(e,n,a,o,i))}r(o)},F4=function(e,n,r,a,i){var o=e.type,s=[],l=e.required||!e.required&&a.hasOwnProperty(e.field);if(l){if(ni(n,o)&&!e.required)return r();cr.required(e,n,a,s,i,o),ni(n,o)||cr.type(e,n,a,s,i)}r(s)};const Pm={string:foe,method:ioe,number:ooe,boolean:Jie,regexp:coe,integer:aoe,float:roe,array:Zie,object:soe,enum:noe,pattern:loe,date:eoe,url:F4,hex:F4,email:F4,required:uoe,any:Yie};var vp=function(){function t(e){ua(this,t),J(this,"rules",null),J(this,"_messages",W6),this.define(e)}return fa(t,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(qt(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(a){var i=n[a];r.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(n){return n&&(this._messages=YO(z6(),n)),this._messages}},{key:"validate",value:function(n){var r=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=n,s=a,l=i;if(typeof s=="function"&&(l=s,s={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function c(v){var m=[],p={};function h(C){if(Array.isArray(C)){var x;m=(x=m).concat.apply(x,Ze(C))}else m.push(C)}for(var y=0;y<v.length;y++)h(v[y]);m.length?(p=H6(m),l(m,p)):l(null,o)}if(s.messages){var f=this.messages();f===W6&&(f=z6()),YO(f,s.messages),s.messages=f}else s.messages=this.messages();var u={},d=s.keys||Object.keys(this.rules);d.forEach(function(v){var m=r.rules[v],p=o[v];m.forEach(function(h){var y=h;typeof y.transform=="function"&&(o===n&&(o=ie({},o)),p=o[v]=y.transform(p),p!=null&&(y.type=y.type||(Array.isArray(p)?"array":qt(p)))),typeof y=="function"?y={validator:y}:y=ie({},y),y.validator=r.getValidationMethod(y),y.validator&&(y.field=v,y.fullField=y.fullField||v,y.type=r.getType(y),u[v]=u[v]||[],u[v].push({rule:y,value:p,source:o,field:v}))})});var g={};return Gie(u,s,function(v,m){var p=v.rule,h=(p.type==="object"||p.type==="array")&&(qt(p.fields)==="object"||qt(p.defaultField)==="object");h=h&&(p.required||!p.required&&v.value),p.field=v.field;function y(b,E){return ie(ie({},E),{},{fullField:"".concat(p.fullField,".").concat(b),fullFields:p.fullFields?[].concat(Ze(p.fullFields),[b]):[b]})}function C(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=Array.isArray(b)?b:[b];!s.suppressWarning&&E.length&&t.warning("async-validator:",E),E.length&&p.message!==void 0&&(E=[].concat(p.message));var O=E.map(XO(p,o));if(s.first&&O.length)return g[p.field]=1,m(O);if(!h)m(O);else{if(p.required&&!v.value)return p.message!==void 0?O=[].concat(p.message).map(XO(p,o)):s.error&&(O=[s.error(p,Ao(s.messages.required,p.field))]),m(O);var D={};p.defaultField&&Object.keys(v.value).map(function(M){D[M]=p.defaultField}),D=ie(ie({},D),v.rule.fields);var R={};Object.keys(D).forEach(function(M){var A=D[M],B=Array.isArray(A)?A:[A];R[M]=B.map(y.bind(null,M))});var I=new t(R);I.messages(s.messages),v.rule.options&&(v.rule.options.messages=s.messages,v.rule.options.error=s.error),I.validate(v.value,v.rule.options||s,function(M){var A=[];O&&O.length&&A.push.apply(A,Ze(O)),M&&M.length&&A.push.apply(A,Ze(M)),m(A.length?A:null)})}}var x;if(p.asyncValidator)x=p.asyncValidator(p,v.value,C,v.source,s);else if(p.validator){try{x=p.validator(p,v.value,C,v.source,s)}catch(b){var T,w;(T=(w=console).error)===null||T===void 0||T.call(w,b),s.suppressValidatorError||setTimeout(function(){throw b},0),C(b.message)}x===!0?C():x===!1?C(typeof p.message=="function"?p.message(p.fullField||p.field):p.message||"".concat(p.fullField||p.field," fails")):x instanceof Array?C(x):x instanceof Error&&C(x.message)}x&&x.then&&x.then(function(){return C()},function(b){return C(b)})},function(v){c(v)},o)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Pm.hasOwnProperty(n.type))throw new Error(Ao("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?Pm.required:Pm[this.getType(n)]||void 0}}]),t}();J(vp,"register",function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Pm[e]=n});J(vp,"warning",Vie);J(vp,"messages",W6);J(vp,"validators",Pm);var ho="'${name}' is not a valid ${type}",L$={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ho,method:ho,array:ho,object:ho,number:ho,date:ho,boolean:ho,integer:ho,float:ho,regexp:ho,email:ho,url:ho,hex:ho},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},JO=vp;function doe(t,e){return t.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return e[r]})}var eR="CODE_LOGIC_ERROR";function q6(t,e,n,r,a){return K6.apply(this,arguments)}function K6(){return K6=Io(zr().mark(function t(e,n,r,a,i){var o,s,l,c,f,u,d,g,v;return zr().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o=ie({},r),delete o.ruleIndex,JO.warning=function(){},o.validator&&(s=o.validator,o.validator=function(){try{return s.apply(void 0,arguments)}catch(h){return console.error(h),Promise.reject(eR)}}),l=null,o&&o.type==="array"&&o.defaultField&&(l=o.defaultField,delete o.defaultField),c=new JO(J({},e,[o])),f=Cd(L$,a.validateMessages),c.messages(f),u=[],p.prev=10,p.next=13,Promise.resolve(c.validate(J({},e,n),ie({},a)));case 13:p.next=18;break;case 15:p.prev=15,p.t0=p.catch(10),p.t0.errors&&(u=p.t0.errors.map(function(h,y){var C=h.message,x=C===eR?f.default:C;return S.isValidElement(x)?S.cloneElement(x,{key:"error_".concat(y)}):x}));case 18:if(!(!u.length&&l)){p.next=23;break}return p.next=21,Promise.all(n.map(function(h,y){return q6("".concat(e,".").concat(y),h,l,a,i)}));case 21:return d=p.sent,p.abrupt("return",d.reduce(function(h,y){return[].concat(Ze(h),Ze(y))},[]));case 23:return g=ie(ie({},r),{},{name:e,enum:(r.enum||[]).join(", ")},i),v=u.map(function(h){return typeof h=="string"?doe(h,g):h}),p.abrupt("return",v);case 26:case"end":return p.stop()}},t,null,[[10,15]])})),K6.apply(this,arguments)}function goe(t,e,n,r,a,i){var o=t.join("."),s=n.map(function(f,u){var d=f.validator,g=ie(ie({},f),{},{ruleIndex:u});return d&&(g.validator=function(v,m,p){var h=!1,y=function(){for(var T=arguments.length,w=new Array(T),b=0;b<T;b++)w[b]=arguments[b];Promise.resolve().then(function(){jr(!h,"Your validator function has already return a promise. `callback` will be ignored."),h||p.apply(void 0,w)})},C=d(v,m,y);h=C&&typeof C.then=="function"&&typeof C.catch=="function",jr(h,"`callback` is deprecated. Please return a promise instead."),h&&C.then(function(){p()}).catch(function(x){p(x||" ")})}),g}).sort(function(f,u){var d=f.warningOnly,g=f.ruleIndex,v=u.warningOnly,m=u.ruleIndex;return!!d==!!v?g-m:d?1:-1}),l;if(a===!0)l=new Promise(function(){var f=Io(zr().mark(function u(d,g){var v,m,p;return zr().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:v=0;case 1:if(!(v<s.length)){y.next=12;break}return m=s[v],y.next=5,q6(o,e,m,r,i);case 5:if(p=y.sent,!p.length){y.next=9;break}return g([{errors:p,rule:m}]),y.abrupt("return");case 9:v+=1,y.next=1;break;case 12:d([]);case 13:case"end":return y.stop()}},u)}));return function(u,d){return f.apply(this,arguments)}}());else{var c=s.map(function(f){return q6(o,e,f,r,i).then(function(u){return{errors:u,rule:f}})});l=(a?voe(c):moe(c)).then(function(f){return Promise.reject(f)})}return l.catch(function(f){return f}),l}function moe(t){return Q6.apply(this,arguments)}function Q6(){return Q6=Io(zr().mark(function t(e){return zr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(a){var i,o=(i=[]).concat.apply(i,Ze(a));return o}));case 1:case"end":return r.stop()}},t)})),Q6.apply(this,arguments)}function voe(t){return X6.apply(this,arguments)}function X6(){return X6=Io(zr().mark(function t(e){var n;return zr().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=0,a.abrupt("return",new Promise(function(i){e.forEach(function(o){o.then(function(s){s.errors.length&&i([s]),n+=1,n===e.length&&i([])})})}));case 2:case"end":return a.stop()}},t)})),X6.apply(this,arguments)}function Aa(t){return G6(t)}function tR(t,e){var n={};return e.forEach(function(r){var a=Ro(t,r);n=xs(n,r,a)}),n}function kd(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return _$(e,r,n)})}function _$(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,a){return t[a]===r})}function poe(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||qt(t)!=="object"||qt(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),a=new Set([].concat(n,r));return Ze(a).every(function(i){var o=t[i],s=e[i];return typeof o=="function"&&typeof s=="function"?!0:o===s})}function hoe(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&qt(e.target)==="object"&&t in e.target?e.target[t]:e}function nR(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var a=t[e],i=e-n;return i>0?[].concat(Ze(t.slice(0,n)),[a],Ze(t.slice(n,e)),Ze(t.slice(e+1,r))):i<0?[].concat(Ze(t.slice(0,e)),Ze(t.slice(e+1,n+1)),[a],Ze(t.slice(n+1,r))):t}var Soe=["name"],Wo=[];function $4(t,e,n,r,a,i){return typeof t=="function"?t(e,n,"source"in i?{source:i.source}:{}):r!==a}var rT=function(t){ko(n,t);var e=Uo(n);function n(r){var a;if(ua(this,n),a=e.call(this,r),J(dt(a),"state",{resetCount:0}),J(dt(a),"cancelRegisterFunc",null),J(dt(a),"mounted",!1),J(dt(a),"touched",!1),J(dt(a),"dirty",!1),J(dt(a),"validatePromise",void 0),J(dt(a),"prevValidating",void 0),J(dt(a),"errors",Wo),J(dt(a),"warnings",Wo),J(dt(a),"cancelRegister",function(){var l=a.props,c=l.preserve,f=l.isListField,u=l.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(f,c,Aa(u)),a.cancelRegisterFunc=null}),J(dt(a),"getNamePath",function(){var l=a.props,c=l.name,f=l.fieldContext,u=f.prefixName,d=u===void 0?[]:u;return c!==void 0?[].concat(Ze(d),Ze(c)):[]}),J(dt(a),"getRules",function(){var l=a.props,c=l.rules,f=c===void 0?[]:c,u=l.fieldContext;return f.map(function(d){return typeof d=="function"?d(u):d})}),J(dt(a),"refresh",function(){a.mounted&&a.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),J(dt(a),"metaCache",null),J(dt(a),"triggerMetaEvent",function(l){var c=a.props.onMetaChange;if(c){var f=ie(ie({},a.getMeta()),{},{destroy:l});_s(a.metaCache,f)||c(f),a.metaCache=f}else a.metaCache=null}),J(dt(a),"onStoreChange",function(l,c,f){var u=a.props,d=u.shouldUpdate,g=u.dependencies,v=g===void 0?[]:g,m=u.onReset,p=f.store,h=a.getNamePath(),y=a.getValue(l),C=a.getValue(p),x=c&&kd(c,h);switch(f.type==="valueUpdate"&&f.source==="external"&&!_s(y,C)&&(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=Wo,a.warnings=Wo,a.triggerMetaEvent()),f.type){case"reset":if(!c||x){a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=Wo,a.warnings=Wo,a.triggerMetaEvent(),m==null||m(),a.refresh();return}break;case"remove":{if(d&&$4(d,l,p,y,C,f)){a.reRender();return}break}case"setField":{var T=f.data;if(x){"touched"in T&&(a.touched=T.touched),"validating"in T&&!("originRCField"in T)&&(a.validatePromise=T.validating?Promise.resolve([]):null),"errors"in T&&(a.errors=T.errors||Wo),"warnings"in T&&(a.warnings=T.warnings||Wo),a.dirty=!0,a.triggerMetaEvent(),a.reRender();return}else if("value"in T&&kd(c,h,!0)){a.reRender();return}if(d&&!h.length&&$4(d,l,p,y,C,f)){a.reRender();return}break}case"dependenciesUpdate":{var w=v.map(Aa);if(w.some(function(b){return kd(f.relatedFields,b)})){a.reRender();return}break}default:if(x||(!v.length||h.length||d)&&$4(d,l,p,y,C,f)){a.reRender();return}break}d===!0&&a.reRender()}),J(dt(a),"validateRules",function(l){var c=a.getNamePath(),f=a.getValue(),u=l||{},d=u.triggerName,g=u.validateOnly,v=g===void 0?!1:g,m=Promise.resolve().then(Io(zr().mark(function p(){var h,y,C,x,T,w,b;return zr().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(a.mounted){O.next=2;break}return O.abrupt("return",[]);case 2:if(h=a.props,y=h.validateFirst,C=y===void 0?!1:y,x=h.messageVariables,T=h.validateDebounce,w=a.getRules(),d&&(w=w.filter(function(D){return D}).filter(function(D){var R=D.validateTrigger;if(!R)return!0;var I=G6(R);return I.includes(d)})),!(T&&d)){O.next=10;break}return O.next=8,new Promise(function(D){setTimeout(D,T)});case 8:if(a.validatePromise===m){O.next=10;break}return O.abrupt("return",[]);case 10:return b=goe(c,f,w,l,C,x),b.catch(function(D){return D}).then(function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wo;if(a.validatePromise===m){var R;a.validatePromise=null;var I=[],M=[];(R=D.forEach)===null||R===void 0||R.call(D,function(A){var B=A.rule.warningOnly,L=A.errors,F=L===void 0?Wo:L;B?M.push.apply(M,Ze(F)):I.push.apply(I,Ze(F))}),a.errors=I,a.warnings=M,a.triggerMetaEvent(),a.reRender()}}),O.abrupt("return",b);case 13:case"end":return O.stop()}},p)})));return v||(a.validatePromise=m,a.dirty=!0,a.errors=Wo,a.warnings=Wo,a.triggerMetaEvent(),a.reRender()),m}),J(dt(a),"isFieldValidating",function(){return!!a.validatePromise}),J(dt(a),"isFieldTouched",function(){return a.touched}),J(dt(a),"isFieldDirty",function(){if(a.dirty||a.props.initialValue!==void 0)return!0;var l=a.props.fieldContext,c=l.getInternalHooks(_u),f=c.getInitialValue;return f(a.getNamePath())!==void 0}),J(dt(a),"getErrors",function(){return a.errors}),J(dt(a),"getWarnings",function(){return a.warnings}),J(dt(a),"isListField",function(){return a.props.isListField}),J(dt(a),"isList",function(){return a.props.isList}),J(dt(a),"isPreserve",function(){return a.props.preserve}),J(dt(a),"getMeta",function(){a.prevValidating=a.isFieldValidating();var l={touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:a.validatePromise===null};return l}),J(dt(a),"getOnlyChild",function(l){if(typeof l=="function"){var c=a.getMeta();return ie(ie({},a.getOnlyChild(l(a.getControlled(),c,a.props.fieldContext))),{},{isFunction:!0})}var f=os(l);return f.length!==1||!S.isValidElement(f[0])?{child:f,isFunction:!1}:{child:f[0],isFunction:!1}}),J(dt(a),"getValue",function(l){var c=a.props.fieldContext.getFieldsValue,f=a.getNamePath();return Ro(l||c(!0),f)}),J(dt(a),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=a.props,f=c.name,u=c.trigger,d=c.validateTrigger,g=c.getValueFromEvent,v=c.normalize,m=c.valuePropName,p=c.getValueProps,h=c.fieldContext,y=d!==void 0?d:h.validateTrigger,C=a.getNamePath(),x=h.getInternalHooks,T=h.getFieldsValue,w=x(_u),b=w.dispatch,E=a.getValue(),O=p||function(A){return J({},m,A)},D=l[u],R=f!==void 0?O(E):{},I=ie(ie({},l),R);I[u]=function(){a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var A,B=arguments.length,L=new Array(B),F=0;F<B;F++)L[F]=arguments[F];g?A=g.apply(void 0,L):A=hoe.apply(void 0,[m].concat(L)),v&&(A=v(A,E,T(!0))),b({type:"updateValue",namePath:C,value:A}),D&&D.apply(void 0,L)};var M=G6(y||[]);return M.forEach(function(A){var B=I[A];I[A]=function(){B&&B.apply(void 0,arguments);var L=a.props.rules;L&&L.length&&b({type:"validateField",namePath:C,triggerName:A})}}),I}),r.fieldContext){var i=r.fieldContext.getInternalHooks,o=i(_u),s=o.initEntityValue;s(dt(a))}return a}return fa(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.shouldUpdate,o=a.fieldContext;if(this.mounted=!0,o){var s=o.getInternalHooks,l=s(_u),c=l.registerField;this.cancelRegisterFunc=c(this)}i===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var a=this.state.resetCount,i=this.props.children,o=this.getOnlyChild(i),s=o.child,l=o.isFunction,c;return l?c=s:S.isValidElement(s)?c=S.cloneElement(s,this.getControlled(s.props)):(jr(!s,"`children` of Field is not validate ReactElement."),c=s),S.createElement(S.Fragment,{key:a},c)}}]),n}(S.Component);J(rT,"contextType",w1);J(rT,"defaultProps",{trigger:"onChange",valuePropName:"value"});function N$(t){var e=t.name,n=Tn(t,Soe),r=S.useContext(w1),a=S.useContext(_S),i=e!==void 0?Aa(e):void 0,o="keep";return n.isListField||(o="_".concat((i||[]).join("_"))),S.createElement(rT,tt({key:o,name:i,isListField:!!a},n,{fieldContext:r}))}function yoe(t){var e=t.name,n=t.initialValue,r=t.children,a=t.rules,i=t.validateTrigger,o=t.isListField,s=S.useContext(w1),l=S.useContext(_S),c=S.useRef({keys:[],id:0}),f=c.current,u=S.useMemo(function(){var m=Aa(s.prefixName)||[];return[].concat(Ze(m),Ze(Aa(e)))},[s.prefixName,e]),d=S.useMemo(function(){return ie(ie({},s),{},{prefixName:u})},[s,u]),g=S.useMemo(function(){return{getKey:function(p){var h=u.length,y=p[h];return[f.keys[y],p.slice(h+1)]}}},[u]);if(typeof r!="function")return jr(!1,"Form.List only accepts function as children."),null;var v=function(p,h,y){var C=y.source;return C==="internal"?!1:p!==h};return S.createElement(_S.Provider,{value:g},S.createElement(w1.Provider,{value:d},S.createElement(N$,{name:[],shouldUpdate:v,rules:a,validateTrigger:i,initialValue:n,isList:!0,isListField:o??!!l},function(m,p){var h=m.value,y=h===void 0?[]:h,C=m.onChange,x=s.getFieldValue,T=function(){var O=x(u||[]);return O||[]},w={add:function(O,D){var R=T();D>=0&&D<=R.length?(f.keys=[].concat(Ze(f.keys.slice(0,D)),[f.id],Ze(f.keys.slice(D))),C([].concat(Ze(R.slice(0,D)),[O],Ze(R.slice(D))))):(f.keys=[].concat(Ze(f.keys),[f.id]),C([].concat(Ze(R),[O]))),f.id+=1},remove:function(O){var D=T(),R=new Set(Array.isArray(O)?O:[O]);R.size<=0||(f.keys=f.keys.filter(function(I,M){return!R.has(M)}),C(D.filter(function(I,M){return!R.has(M)})))},move:function(O,D){if(O!==D){var R=T();O<0||O>=R.length||D<0||D>=R.length||(f.keys=nR(f.keys,O,D),C(nR(R,O,D)))}}},b=y||[];return Array.isArray(b)||(b=[]),r(b.map(function(E,O){var D=f.keys[O];return D===void 0&&(f.keys[O]=f.id,D=f.keys[O],f.id+=1),{name:O,key:D,isListField:!0}}),w,p)})))}function Coe(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(a,i){t.forEach(function(o,s){o.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[s]=l,!(n>0)&&(e&&i(r),a(r))})})}):Promise.resolve([])}var F$="__@field_split__";function V4(t){return t.map(function(e){return"".concat(qt(e),":").concat(e)}).join(F$)}var Nf=function(){function t(){ua(this,t),J(this,"kvs",new Map)}return fa(t,[{key:"set",value:function(n,r){this.kvs.set(V4(n),r)}},{key:"get",value:function(n){return this.kvs.get(V4(n))}},{key:"update",value:function(n,r){var a=this.get(n),i=r(a);i?this.set(n,i):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(V4(n))}},{key:"map",value:function(n){return Ze(this.kvs.entries()).map(function(r){var a=Ae(r,2),i=a[0],o=a[1],s=i.split(F$);return n({key:s.map(function(l){var c=l.match(/^([^:]*):(.*)$/),f=Ae(c,3),u=f[1],d=f[2];return u==="number"?Number(d):d}),value:o})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var a=r.key,i=r.value;return n[a.join(".")]=i,null}),n}}]),t}(),xoe=["name"],Toe=fa(function t(e){var n=this;ua(this,t),J(this,"formHooked",!1),J(this,"forceRootUpdate",void 0),J(this,"subscribable",!0),J(this,"store",{}),J(this,"fieldEntities",[]),J(this,"initialValues",{}),J(this,"callbacks",{}),J(this,"validateMessages",null),J(this,"preserve",null),J(this,"lastValidatePromise",null),J(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),J(this,"getInternalHooks",function(r){return r===_u?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(jr(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),J(this,"useSubscribe",function(r){n.subscribable=r}),J(this,"prevWithoutPreserves",null),J(this,"setInitialValues",function(r,a){if(n.initialValues=r||{},a){var i,o=Cd(r,n.store);(i=n.prevWithoutPreserves)===null||i===void 0||i.map(function(s){var l=s.key;o=xs(o,l,Ro(r,l))}),n.prevWithoutPreserves=null,n.updateStore(o)}}),J(this,"destroyForm",function(r){if(r)n.updateStore({});else{var a=new Nf;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||a.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=a}}),J(this,"getInitialValue",function(r){var a=Ro(n.initialValues,r);return r.length?Cd(a):a}),J(this,"setCallbacks",function(r){n.callbacks=r}),J(this,"setValidateMessages",function(r){n.validateMessages=r}),J(this,"setPreserve",function(r){n.preserve=r}),J(this,"watchList",[]),J(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(a){return a!==r})}}),J(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var a=n.getFieldsValue(),i=n.getFieldsValue(!0);n.watchList.forEach(function(o){o(a,i,r)})}}),J(this,"timeoutId",null),J(this,"warningUnhooked",function(){}),J(this,"updateStore",function(r){n.store=r}),J(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(a){return a.getNamePath().length}):n.fieldEntities}),J(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=new Nf;return n.getFieldEntities(r).forEach(function(i){var o=i.getNamePath();a.set(o,i)}),a}),J(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var a=n.getFieldsMap(!0);return r.map(function(i){var o=Aa(i);return a.get(o)||{INVALIDATE_NAME_PATH:Aa(i)}})}),J(this,"getFieldsValue",function(r,a){n.warningUnhooked();var i,o,s;if(r===!0||Array.isArray(r)?(i=r,o=a):r&&qt(r)==="object"&&(s=r.strict,o=r.filter),i===!0&&!o)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),c=[];return l.forEach(function(f){var u,d,g="INVALIDATE_NAME_PATH"in f?f.INVALIDATE_NAME_PATH:f.getNamePath();if(s){var v,m;if((v=(m=f).isList)!==null&&v!==void 0&&v.call(m))return}else if(!i&&(u=(d=f).isListField)!==null&&u!==void 0&&u.call(d))return;if(!o)c.push(g);else{var p="getMeta"in f?f.getMeta():null;o(p)&&c.push(g)}}),tR(n.store,c.map(Aa))}),J(this,"getFieldValue",function(r){n.warningUnhooked();var a=Aa(r);return Ro(n.store,a)}),J(this,"getFieldsError",function(r){n.warningUnhooked();var a=n.getFieldEntitiesForNamePathList(r);return a.map(function(i,o){return i&&!("INVALIDATE_NAME_PATH"in i)?{name:i.getNamePath(),errors:i.getErrors(),warnings:i.getWarnings()}:{name:Aa(r[o]),errors:[],warnings:[]}})}),J(this,"getFieldError",function(r){n.warningUnhooked();var a=Aa(r),i=n.getFieldsError([a])[0];return i.errors}),J(this,"getFieldWarning",function(r){n.warningUnhooked();var a=Aa(r),i=n.getFieldsError([a])[0];return i.warnings}),J(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a[0],s=a[1],l,c=!1;a.length===0?l=null:a.length===1?Array.isArray(o)?(l=o.map(Aa),c=!1):(l=null,c=o):(l=o.map(Aa),c=s);var f=n.getFieldEntities(!0),u=function(p){return p.isFieldTouched()};if(!l)return c?f.every(function(m){return u(m)||m.isList()}):f.some(u);var d=new Nf;l.forEach(function(m){d.set(m,[])}),f.forEach(function(m){var p=m.getNamePath();l.forEach(function(h){h.every(function(y,C){return p[C]===y})&&d.update(h,function(y){return[].concat(Ze(y),[m])})})});var g=function(p){return p.some(u)},v=d.map(function(m){var p=m.value;return p});return c?v.every(g):v.some(g)}),J(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),J(this,"isFieldsValidating",function(r){n.warningUnhooked();var a=n.getFieldEntities();if(!r)return a.some(function(o){return o.isFieldValidating()});var i=r.map(Aa);return a.some(function(o){var s=o.getNamePath();return kd(i,s)&&o.isFieldValidating()})}),J(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),J(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=new Nf,i=n.getFieldEntities(!0);i.forEach(function(l){var c=l.props.initialValue,f=l.getNamePath();if(c!==void 0){var u=a.get(f)||new Set;u.add({entity:l,value:c}),a.set(f,u)}});var o=function(c){c.forEach(function(f){var u=f.props.initialValue;if(u!==void 0){var d=f.getNamePath(),g=n.getInitialValue(d);if(g!==void 0)jr(!1,"Form already set 'initialValues' with path '".concat(d.join("."),"'. Field can not overwrite it."));else{var v=a.get(d);if(v&&v.size>1)jr(!1,"Multiple Field with path '".concat(d.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(v){var m=n.getFieldValue(d),p=f.isListField();!p&&(!r.skipExist||m===void 0)&&n.updateStore(xs(n.store,d,Ze(v)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(l){var c=a.get(l);if(c){var f;(f=s).push.apply(f,Ze(Ze(c).map(function(u){return u.entity})))}})):s=i,o(s)}),J(this,"resetFields",function(r){n.warningUnhooked();var a=n.store;if(!r){n.updateStore(Cd(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(a,null,{type:"reset"}),n.notifyWatch();return}var i=r.map(Aa);i.forEach(function(o){var s=n.getInitialValue(o);n.updateStore(xs(n.store,o,s))}),n.resetWithFieldInitialValue({namePathList:i}),n.notifyObservers(a,i,{type:"reset"}),n.notifyWatch(i)}),J(this,"setFields",function(r){n.warningUnhooked();var a=n.store,i=[];r.forEach(function(o){var s=o.name,l=Tn(o,xoe),c=Aa(s);i.push(c),"value"in l&&n.updateStore(xs(n.store,c,l.value)),n.notifyObservers(a,[c],{type:"setField",data:o})}),n.notifyWatch(i)}),J(this,"getFields",function(){var r=n.getFieldEntities(!0),a=r.map(function(i){var o=i.getNamePath(),s=i.getMeta(),l=ie(ie({},s),{},{name:o,value:n.getFieldValue(o)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return a}),J(this,"initEntityValue",function(r){var a=r.props.initialValue;if(a!==void 0){var i=r.getNamePath(),o=Ro(n.store,i);o===void 0&&n.updateStore(xs(n.store,i,a))}}),J(this,"isMergedPreserve",function(r){var a=r!==void 0?r:n.preserve;return a??!0}),J(this,"registerField",function(r){n.fieldEntities.push(r);var a=r.getNamePath();if(n.notifyWatch([a]),r.props.initialValue!==void 0){var i=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(i,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(u){return u!==r}),!n.isMergedPreserve(s)&&(!o||l.length>1)){var c=o?void 0:n.getInitialValue(a);if(a.length&&n.getFieldValue(a)!==c&&n.fieldEntities.every(function(u){return!_$(u.getNamePath(),a)})){var f=n.store;n.updateStore(xs(f,a,c,!0)),n.notifyObservers(f,[a],{type:"remove"}),n.triggerDependenciesUpdate(f,a)}}n.notifyWatch([a])}}),J(this,"dispatch",function(r){switch(r.type){case"updateValue":{var a=r.namePath,i=r.value;n.updateValue(a,i);break}case"validateField":{var o=r.namePath,s=r.triggerName;n.validateFields([o],{triggerName:s});break}}}),J(this,"notifyObservers",function(r,a,i){if(n.subscribable){var o=ie(ie({},i),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(r,a,o)})}else n.forceRootUpdate()}),J(this,"triggerDependenciesUpdate",function(r,a){var i=n.getDependencyChildrenFields(a);return i.length&&n.validateFields(i),n.notifyObservers(r,i,{type:"dependenciesUpdate",relatedFields:[a].concat(Ze(i))}),i}),J(this,"updateValue",function(r,a){var i=Aa(r),o=n.store;n.updateStore(xs(n.store,i,a)),n.notifyObservers(o,[i],{type:"valueUpdate",source:"internal"}),n.notifyWatch([i]);var s=n.triggerDependenciesUpdate(o,i),l=n.callbacks.onValuesChange;if(l){var c=tR(n.store,[i]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([i].concat(Ze(s)))}),J(this,"setFieldsValue",function(r){n.warningUnhooked();var a=n.store;if(r){var i=Cd(n.store,r);n.updateStore(i)}n.notifyObservers(a,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),J(this,"setFieldValue",function(r,a){n.setFields([{name:r,value:a}])}),J(this,"getDependencyChildrenFields",function(r){var a=new Set,i=[],o=new Nf;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(f){var u=Aa(f);o.update(u,function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return d.add(l),d})})});var s=function l(c){var f=o.get(c)||new Set;f.forEach(function(u){if(!a.has(u)){a.add(u);var d=u.getNamePath();u.isFieldDirty()&&d.length&&(i.push(d),l(d))}})};return s(r),i}),J(this,"triggerOnFieldsChange",function(r,a){var i=n.callbacks.onFieldsChange;if(i){var o=n.getFields();if(a){var s=new Nf;a.forEach(function(c){var f=c.name,u=c.errors;s.set(f,u)}),o.forEach(function(c){c.errors=s.get(c.name)||c.errors})}var l=o.filter(function(c){var f=c.name;return kd(r,f)});l.length&&i(l,o)}}),J(this,"validateFields",function(r,a){n.warningUnhooked();var i,o;Array.isArray(r)||typeof r=="string"||typeof a=="string"?(i=r,o=a):o=r;var s=!!i,l=s?i.map(Aa):[],c=[],f=String(Date.now()),u=new Set,d=o||{},g=d.recursive,v=d.dirty;n.getFieldEntities(!0).forEach(function(y){if(s||l.push(y.getNamePath()),!(!y.props.rules||!y.props.rules.length)&&!(v&&!y.isFieldDirty())){var C=y.getNamePath();if(u.add(C.join(f)),!s||kd(l,C,g)){var x=y.validateRules(ie({validateMessages:ie(ie({},L$),n.validateMessages)},o));c.push(x.then(function(){return{name:C,errors:[],warnings:[]}}).catch(function(T){var w,b=[],E=[];return(w=T.forEach)===null||w===void 0||w.call(T,function(O){var D=O.rule.warningOnly,R=O.errors;D?E.push.apply(E,Ze(R)):b.push.apply(b,Ze(R))}),b.length?Promise.reject({name:C,errors:b,warnings:E}):{name:C,errors:b,warnings:E}}))}}});var m=Coe(c);n.lastValidatePromise=m,m.catch(function(y){return y}).then(function(y){var C=y.map(function(x){var T=x.name;return T});n.notifyObservers(n.store,C,{type:"validateFinish"}),n.triggerOnFieldsChange(C,y)});var p=m.then(function(){return n.lastValidatePromise===m?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(y){var C=y.filter(function(x){return x&&x.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:C,outOfDate:n.lastValidatePromise!==m})});p.catch(function(y){return y});var h=l.filter(function(y){return u.has(y.join(f))});return n.triggerOnFieldsChange(h),p}),J(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var a=n.callbacks.onFinish;if(a)try{a(r)}catch(i){console.error(i)}}).catch(function(r){var a=n.callbacks.onFinishFailed;a&&a(r)})}),this.forceRootUpdate=e});function $$(t){var e=S.useRef(),n=S.useState({}),r=Ae(n,2),a=r[1];if(!e.current)if(t)e.current=t;else{var i=function(){a({})},o=new Toe(i);e.current=o.getForm()}return[e.current]}var Y6=S.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),woe=function(e){var n=e.validateMessages,r=e.onFormChange,a=e.onFormFinish,i=e.children,o=S.useContext(Y6),s=S.useRef({});return S.createElement(Y6.Provider,{value:ie(ie({},o),{},{validateMessages:ie(ie({},o.validateMessages),n),triggerFormChange:function(c,f){r&&r(c,{changedFields:f,forms:s.current}),o.triggerFormChange(c,f)},triggerFormFinish:function(c,f){a&&a(c,{values:f,forms:s.current}),o.triggerFormFinish(c,f)},registerForm:function(c,f){c&&(s.current=ie(ie({},s.current),{},J({},c,f))),o.registerForm(c,f)},unregisterForm:function(c){var f=ie({},s.current);delete f[c],s.current=f,o.unregisterForm(c)}})},i)},boe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Eoe=function(e,n){var r=e.name,a=e.initialValues,i=e.fields,o=e.form,s=e.preserve,l=e.children,c=e.component,f=c===void 0?"form":c,u=e.validateMessages,d=e.validateTrigger,g=d===void 0?"onChange":d,v=e.onValuesChange,m=e.onFieldsChange,p=e.onFinish,h=e.onFinishFailed,y=e.clearOnDestroy,C=Tn(e,boe),x=S.useRef(null),T=S.useContext(Y6),w=$$(o),b=Ae(w,1),E=b[0],O=E.getInternalHooks(_u),D=O.useSubscribe,R=O.setInitialValues,I=O.setCallbacks,M=O.setValidateMessages,A=O.setPreserve,B=O.destroyForm;S.useImperativeHandle(n,function(){return ie(ie({},E),{},{nativeElement:x.current})}),S.useEffect(function(){return T.registerForm(r,E),function(){T.unregisterForm(r)}},[T,E,r]),M(ie(ie({},T.validateMessages),u)),I({onValuesChange:v,onFieldsChange:function(te){if(T.triggerFormChange(r,te),m){for(var se=arguments.length,pe=new Array(se>1?se-1:0),ve=1;ve<se;ve++)pe[ve-1]=arguments[ve];m.apply(void 0,[te].concat(pe))}},onFinish:function(te){T.triggerFormFinish(r,te),p&&p(te)},onFinishFailed:h}),A(s);var L=S.useRef(null);R(a,!L.current),L.current||(L.current=!0),S.useEffect(function(){return function(){return B(y)}},[]);var F,_=typeof l=="function";if(_){var P=E.getFieldsValue(!0);F=l(P,E)}else F=l;D(!_);var N=S.useRef();S.useEffect(function(){poe(N.current||[],i||[])||E.setFields(i||[]),N.current=i},[i,E]);var k=S.useMemo(function(){return ie(ie({},E),{},{validateTrigger:g})},[E,g]),H=S.createElement(_S.Provider,{value:null},S.createElement(w1.Provider,{value:k},F));return f===!1?H:S.createElement(f,tt({},C,{ref:x,onSubmit:function(te){te.preventDefault(),te.stopPropagation(),E.submit()},onReset:function(te){var se;te.preventDefault(),E.resetFields(),(se=C.onReset)===null||se===void 0||se.call(C,te)}}),H)};function rR(t){try{return JSON.stringify(t)}catch{return Math.random()}}function Doe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],i=a===void 0?{}:a,o=_ie(i)?{form:i}:i,s=o.form,l=S.useState(),c=Ae(l,2),f=c[0],u=c[1],d=S.useMemo(function(){return rR(f)},[f]),g=S.useRef(d);g.current=d;var v=S.useContext(w1),m=s||v,p=m&&m._init,h=Aa(r),y=S.useRef(h);return y.current=h,S.useEffect(function(){if(p){var C=m.getFieldsValue,x=m.getInternalHooks,T=x(_u),w=T.registerWatch,b=function(R,I){var M=o.preserve?I:R;return typeof r=="function"?r(M):Ro(M,y.current)},E=w(function(D,R){var I=b(D,R),M=rR(I);g.current!==M&&(g.current=M,u(I))}),O=b(C(),C(!0));return f!==O&&u(O),E}},[p]),f}var Ooe=S.forwardRef(Eoe),pp=Ooe;pp.FormProvider=woe;pp.Field=N$;pp.List=yoe;pp.useForm=$$;pp.useWatch=Doe;const Ns=S.createContext({}),Roe=t=>{let{children:e,status:n,override:r}=t;const a=S.useContext(Ns),i=S.useMemo(()=>{const o=Object.assign({},a);return r&&delete o.isFormItemInput,n&&(delete o.status,delete o.hasFeedback,delete o.feedbackIcon),o},[n,r,a]);return S.createElement(Ns.Provider,{value:i},e)},Ioe=S.createContext(void 0),Pv=t=>{const{space:e,form:n,children:r}=t;if(r==null)return null;let a=r;return n&&(a=Oe.createElement(Roe,{override:!0,status:!0},a)),e&&(a=Oe.createElement(eae,null,a)),a};function aR(t){if(t)return{closable:t.closable,closeIcon:t.closeIcon}}function iR(t){const{closable:e,closeIcon:n}=t||{};return Oe.useMemo(()=>{if(!e&&(e===!1||n===!1||n===null))return!1;if(e===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,n])}function oR(){const t={};for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(a=>{a&&Object.keys(a).forEach(i=>{a[i]!==void 0&&(t[i]=a[i])})}),t}const Aoe={};function Moe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Aoe;const r=iR(t),a=iR(e),i=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,o=Oe.useMemo(()=>Object.assign({closeIcon:Oe.createElement(Y1,null)},n),[n]),s=Oe.useMemo(()=>r===!1?!1:r?oR(o,a,r):a===!1?!1:a?oR(o,a):o.closable?o:!1,[r,a,o]);return Oe.useMemo(()=>{if(s===!1)return[!1,null,i];const{closeIconRender:l}=o,{closeIcon:c}=s;let f=c;if(f!=null){l&&(f=l(c));const u=Pi(s,!0);Object.keys(u).length&&(f=Oe.isValidElement(f)?Oe.cloneElement(f,u):Oe.createElement("span",Object.assign({},u),f))}return[!0,f,i]},[s,o])}var V$=function(e){if(fi()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(a){return a in r.style})}return!1},Poe=function(e,n){if(!V$(e))return!1;var r=document.createElement("div"),a=r.style[e];return r.style[e]=n,r.style[e]!==a};function Loe(t,e){return!Array.isArray(t)&&e!==void 0?Poe(t,e):V$(t)}const _oe=()=>fi()&&window.document.documentElement,O5=t=>{const{prefixCls:e,className:n,style:r,size:a,shape:i}=t,o=Se({[`${e}-lg`]:a==="large",[`${e}-sm`]:a==="small"}),s=Se({[`${e}-circle`]:i==="circle",[`${e}-square`]:i==="square",[`${e}-round`]:i==="round"}),l=S.useMemo(()=>typeof a=="number"?{width:a,height:a,lineHeight:`${a}px`}:{},[a]);return S.createElement("span",{className:Se(e,o,s,n),style:Object.assign(Object.assign({},l),r)})},Noe=new er("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),R5=t=>({height:t,lineHeight:xe(t)}),Ud=t=>Object.assign({width:t},R5(t)),Foe=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Noe,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),k4=(t,e)=>Object.assign({width:e(t).mul(5).equal(),minWidth:e(t).mul(5).equal()},R5(t)),$oe=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:r,controlHeightLG:a,controlHeightSM:i}=t;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},Ud(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},Ud(a)),[`${e}${e}-sm`]:Object.assign({},Ud(i))}},Voe=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:a,controlHeightSM:i,gradientFromColor:o,calc:s}=t;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:o,borderRadius:n},k4(e,s)),[`${r}-lg`]:Object.assign({},k4(a,s)),[`${r}-sm`]:Object.assign({},k4(i,s))}},sR=t=>Object.assign({width:t},R5(t)),koe=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:a,calc:i}=t;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:a},sR(i(n).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},sR(n)),{maxWidth:i(n).mul(4).equal(),maxHeight:i(n).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},U4=(t,e,n)=>{const{skeletonButtonCls:r}=t;return{[`${n}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:e}}},B4=(t,e)=>Object.assign({width:e(t).mul(2).equal(),minWidth:e(t).mul(2).equal()},R5(t)),Uoe=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:r,controlHeightLG:a,controlHeightSM:i,gradientFromColor:o,calc:s}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:o,borderRadius:e,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},B4(r,s))},U4(t,r,n)),{[`${n}-lg`]:Object.assign({},B4(a,s))}),U4(t,a,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},B4(i,s))}),U4(t,i,`${n}-sm`))},Boe=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:a,skeletonButtonCls:i,skeletonInputCls:o,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:f,gradientFromColor:u,padding:d,marginSM:g,borderRadius:v,titleHeight:m,blockRadius:p,paragraphLiHeight:h,controlHeightXS:y,paragraphMarginTop:C}=t;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:d,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:u},Ud(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},Ud(c)),[`${n}-sm`]:Object.assign({},Ud(f))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:m,background:u,borderRadius:p,[`+ ${a}`]:{marginBlockStart:f}},[a]:{padding:0,"> li":{width:"100%",height:h,listStyle:"none",background:u,borderRadius:p,"+ li":{marginBlockStart:y}}},[`${a}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${a} > li`]:{borderRadius:v}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:g,[`+ ${a}`]:{marginBlockStart:C}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Uoe(t)),$oe(t)),Voe(t)),koe(t)),[`${e}${e}-block`]:{width:"100%",[i]:{width:"100%"},[o]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${a} > li,
        ${n},
        ${i},
        ${o},
        ${s}
      `]:Object.assign({},Foe(t))}}},Goe=t=>{const{colorFillContent:e,colorFill:n}=t,r=e,a=n;return{color:r,colorGradientEnd:a,gradientFromColor:r,gradientToColor:a,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},Z1=ta("Skeleton",t=>{const{componentCls:e,calc:n}=t,r=fr(t,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n(t.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${t.gradientFromColor} 25%, ${t.gradientToColor} 37%, ${t.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Boe(r)]},Goe,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),zoe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:a,shape:i="circle",size:o="default"}=t,{getPrefixCls:s}=S.useContext(cn),l=s("skeleton",e),[c,f,u]=Z1(l),d=$a(t,["prefixCls","className"]),g=Se(l,`${l}-element`,{[`${l}-active`]:a},n,r,f,u);return c(S.createElement("div",{className:g},S.createElement(O5,Object.assign({prefixCls:`${l}-avatar`,shape:i,size:o},d))))},Woe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:a,block:i=!1,size:o="default"}=t,{getPrefixCls:s}=S.useContext(cn),l=s("skeleton",e),[c,f,u]=Z1(l),d=$a(t,["prefixCls"]),g=Se(l,`${l}-element`,{[`${l}-active`]:a,[`${l}-block`]:i},n,r,f,u);return c(S.createElement("div",{className:g},S.createElement(O5,Object.assign({prefixCls:`${l}-button`,size:o},d))))},joe="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Hoe=t=>{const{prefixCls:e,className:n,rootClassName:r,style:a,active:i}=t,{getPrefixCls:o}=S.useContext(cn),s=o("skeleton",e),[l,c,f]=Z1(s),u=Se(s,`${s}-element`,{[`${s}-active`]:i},n,r,c,f);return l(S.createElement("div",{className:u},S.createElement("div",{className:Se(`${s}-image`,n),style:a},S.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},S.createElement("title",null,"Image placeholder"),S.createElement("path",{d:joe,className:`${s}-image-path`})))))},qoe=t=>{const{prefixCls:e,className:n,rootClassName:r,active:a,block:i,size:o="default"}=t,{getPrefixCls:s}=S.useContext(cn),l=s("skeleton",e),[c,f,u]=Z1(l),d=$a(t,["prefixCls"]),g=Se(l,`${l}-element`,{[`${l}-active`]:a,[`${l}-block`]:i},n,r,f,u);return c(S.createElement("div",{className:g},S.createElement(O5,Object.assign({prefixCls:`${l}-input`,size:o},d))))},Koe=t=>{const{prefixCls:e,className:n,rootClassName:r,style:a,active:i,children:o}=t,{getPrefixCls:s}=S.useContext(cn),l=s("skeleton",e),[c,f,u]=Z1(l),d=Se(l,`${l}-element`,{[`${l}-active`]:i},f,n,r,u);return c(S.createElement("div",{className:d},S.createElement("div",{className:Se(`${l}-image`,n),style:a},o)))},Qoe=(t,e)=>{const{width:n,rows:r=2}=e;if(Array.isArray(n))return n[t];if(r-1===t)return n},Xoe=t=>{const{prefixCls:e,className:n,style:r,rows:a}=t,i=Ze(new Array(a)).map((o,s)=>S.createElement("li",{key:s,style:{width:Qoe(s,t)}}));return S.createElement("ul",{className:Se(e,n),style:r},i)},Yoe=t=>{let{prefixCls:e,className:n,width:r,style:a}=t;return S.createElement("h3",{className:Se(e,n),style:Object.assign({width:r},a)})};function G4(t){return t&&typeof t=="object"?t:{}}function Zoe(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Joe(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function ese(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const J1=t=>{const{prefixCls:e,loading:n,className:r,rootClassName:a,style:i,children:o,avatar:s=!1,title:l=!0,paragraph:c=!0,active:f,round:u}=t,{getPrefixCls:d,direction:g,skeleton:v}=S.useContext(cn),m=d("skeleton",e),[p,h,y]=Z1(m);if(n||!("loading"in t)){const C=!!s,x=!!l,T=!!c;let w;if(C){const O=Object.assign(Object.assign({prefixCls:`${m}-avatar`},Zoe(x,T)),G4(s));w=S.createElement("div",{className:`${m}-header`},S.createElement(O5,Object.assign({},O)))}let b;if(x||T){let O;if(x){const R=Object.assign(Object.assign({prefixCls:`${m}-title`},Joe(C,T)),G4(l));O=S.createElement(Yoe,Object.assign({},R))}let D;if(T){const R=Object.assign(Object.assign({prefixCls:`${m}-paragraph`},ese(C,x)),G4(c));D=S.createElement(Xoe,Object.assign({},R))}b=S.createElement("div",{className:`${m}-content`},O,D)}const E=Se(m,{[`${m}-with-avatar`]:C,[`${m}-active`]:f,[`${m}-rtl`]:g==="rtl",[`${m}-round`]:u},v==null?void 0:v.className,r,a,h,y);return p(S.createElement("div",{className:E,style:Object.assign(Object.assign({},v==null?void 0:v.style),i)},w,b))}return o??null};J1.Button=Woe;J1.Avatar=zoe;J1.Input=qoe;J1.Image=Hoe;J1.Node=Koe;function lR(){}const tse=S.createContext({add:lR,remove:lR});function nse(t){const e=S.useContext(tse),n=S.useRef();return br(a=>{if(a){const i=t?a.querySelector(t):a;e.add(i),n.current=i}else e.remove(n.current)})}const cR=()=>{const{cancelButtonProps:t,cancelTextLocale:e,onCancel:n}=S.useContext(mp);return Oe.createElement(ji,Object.assign({onClick:n},t),e)},uR=()=>{const{confirmLoading:t,okButtonProps:e,okType:n,okTextLocale:r,onOk:a}=S.useContext(mp);return Oe.createElement(ji,Object.assign({},h$(n),{loading:t,onClick:a},e),r)};function k$(t,e){return Oe.createElement("span",{className:`${t}-close-x`},e||Oe.createElement(Y1,{className:`${t}-close-icon`}))}const U$=t=>{const{okText:e,okType:n="primary",cancelText:r,confirmLoading:a,onOk:i,onCancel:o,okButtonProps:s,cancelButtonProps:l,footer:c}=t,[f]=Q1("Modal",wF()),u=e||(f==null?void 0:f.okText),d=r||(f==null?void 0:f.cancelText),g={confirmLoading:a,okButtonProps:s,cancelButtonProps:l,okTextLocale:u,cancelTextLocale:d,okType:n,onOk:i,onCancel:o},v=Oe.useMemo(()=>g,Ze(Object.values(g)));let m;return typeof c=="function"||typeof c>"u"?(m=Oe.createElement(Oe.Fragment,null,Oe.createElement(cR,null),Oe.createElement(uR,null)),typeof c=="function"&&(m=c(m,{OkBtn:uR,CancelBtn:cR})),m=Oe.createElement(b$,{value:v},m)):m=c,Oe.createElement(AF,{disabled:!1},m)};function fR(t){return{position:t,inset:0}}const rse=t=>{const{componentCls:e,antCls:n}=t;return[{[`${e}-root`]:{[`${e}${n}-zoom-enter, ${e}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${e}${n}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},fR("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},fR("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:y$(t)}]},ase=t=>{const{componentCls:e}=t;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${xe(t.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},aa(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${xe(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${e}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:xe(t.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},S1(t)),[`${e}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${xe(t.borderRadiusLG)} ${xe(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${e}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${xe(t.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},ise=t=>{const{componentCls:e}=t;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},B$=t=>{const e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5;return fr(t,{modalHeaderHeight:t.calc(t.calc(r).mul(n).equal()).add(t.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},G$=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:`${xe(t.paddingMD)} ${xe(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${xe(t.padding)} ${xe(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${xe(t.paddingXS)} ${xe(t.padding)}`:0,footerBorderTop:t.wireframe?`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${xe(t.borderRadiusLG)} ${xe(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${xe(t.padding*2)} ${xe(t.padding*2)} ${xe(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),z$=ta("Modal",t=>{const e=B$(t);return[ase(e),ise(e),rse(e),E5(e,"zoom")]},G$,{unitless:{titleLineHeight:!0}});var ose=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};let Z6;const sse=t=>{Z6={x:t.pageX,y:t.pageY},setTimeout(()=>{Z6=null},100)};_oe()&&document.documentElement.addEventListener("click",sse,!0);const W$=t=>{var e;const{getPopupContainer:n,getPrefixCls:r,direction:a,modal:i}=S.useContext(cn),o=K=>{const{onCancel:te}=t;te==null||te(K)},s=K=>{const{onOk:te}=t;te==null||te(K)},{prefixCls:l,className:c,rootClassName:f,open:u,wrapClassName:d,centered:g,getContainer:v,focusTriggerAfterClose:m=!0,style:p,visible:h,width:y=520,footer:C,classNames:x,styles:T,children:w,loading:b}=t,E=ose(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),O=r("modal",l),D=r(),R=Xi(O),[I,M,A]=z$(O,R),B=Se(d,{[`${O}-centered`]:!!g,[`${O}-wrap-rtl`]:a==="rtl"}),L=C!==null&&!b?S.createElement(U$,Object.assign({},t,{onOk:s,onCancel:o})):null,[F,_,P]=Moe(aR(t),aR(i),{closable:!0,closeIcon:S.createElement(Y1,{className:`${O}-close-icon`}),closeIconRender:K=>k$(O,K)}),N=nse(`.${O}-content`),[k,H]=fp("Modal",E.zIndex);return I(S.createElement(Pv,{form:!0,space:!0},S.createElement(S5.Provider,{value:H},S.createElement(M$,Object.assign({width:y},E,{zIndex:k,getContainer:v===void 0?n:v,prefixCls:O,rootClassName:Se(M,f,A,R),footer:L,visible:u??h,mousePosition:(e=E.mousePosition)!==null&&e!==void 0?e:Z6,onClose:o,closable:F&&{disabled:P,closeIcon:_},closeIcon:_,focusTriggerAfterClose:m,transitionName:C1(D,"zoom",t.transitionName),maskTransitionName:C1(D,"fade",t.maskTransitionName),className:Se(M,c,i==null?void 0:i.className),style:Object.assign(Object.assign({},i==null?void 0:i.style),p),classNames:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.classNames),x),{wrapper:Se(B,x==null?void 0:x.wrapper)}),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),T),panelRef:N}),b?S.createElement(J1,{active:!0,title:!1,paragraph:{rows:4},className:`${O}-body-skeleton`}):w))))},lse=t=>{const{componentCls:e,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:a,fontSize:i,lineHeight:o,modalTitleHeight:s,fontHeight:l,confirmBodyPadding:c}=t,f=`${e}-confirm`;return{[f]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${f}-body-wrapper`]:Object.assign({},rf()),[`&${e} ${e}-body`]:{padding:c},[`${f}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(l).sub(a).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(s).sub(a).equal()).div(2).equal()}},[`${f}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS},[`${t.iconCls} + ${f}-paragraph`]:{maxWidth:`calc(100% - ${xe(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${f}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:n,lineHeight:r},[`${f}-content`]:{color:t.colorText,fontSize:i,lineHeight:o},[`${f}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${f}-error ${f}-body > ${t.iconCls}`]:{color:t.colorError},[`${f}-warning ${f}-body > ${t.iconCls},
        ${f}-confirm ${f}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${f}-info ${f}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${f}-success ${f}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},cse=$7(["Modal","confirm"],t=>{const e=B$(t);return[lse(e)]},G$,{order:-1e3});var use=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function j$(t){const{prefixCls:e,icon:n,okText:r,cancelText:a,confirmPrefixCls:i,type:o,okCancel:s,footer:l,locale:c}=t,f=use(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let u=n;if(!n&&n!==null)switch(o){case"info":u=S.createElement(a$,null);break;case"success":u=S.createElement(k7,null);break;case"error":u=S.createElement(up,null);break;default:u=S.createElement(r$,null)}const d=s??o==="confirm",g=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[v]=Q1("Modal"),m=c||v,p=r||(d?m==null?void 0:m.okText:m==null?void 0:m.justOkText),h=a||(m==null?void 0:m.cancelText),y=Object.assign({autoFocusButton:g,cancelTextLocale:h,okTextLocale:p,mergedOkCancel:d},f),C=S.useMemo(()=>y,Ze(Object.values(y))),x=S.createElement(S.Fragment,null,S.createElement(VO,null),S.createElement(kO,null)),T=t.title!==void 0&&t.title!==null,w=`${i}-body`;return S.createElement("div",{className:`${i}-body-wrapper`},S.createElement("div",{className:Se(w,{[`${w}-has-title`]:T})},u,S.createElement("div",{className:`${i}-paragraph`},T&&S.createElement("span",{className:`${i}-title`},t.title),S.createElement("div",{className:`${i}-content`},t.content))),l===void 0||typeof l=="function"?S.createElement(b$,{value:C},S.createElement("div",{className:`${i}-btns`},typeof l=="function"?l(x,{OkBtn:kO,CancelBtn:VO}):x)):l,S.createElement(cse,{prefixCls:e}))}const fse=t=>{const{close:e,zIndex:n,afterClose:r,open:a,keyboard:i,centered:o,getContainer:s,maskStyle:l,direction:c,prefixCls:f,wrapClassName:u,rootPrefixCls:d,bodyStyle:g,closable:v=!1,closeIcon:m,modalRender:p,focusTriggerAfterClose:h,onConfirm:y,styles:C}=t,x=`${f}-confirm`,T=t.width||416,w=t.style||{},b=t.mask===void 0?!0:t.mask,E=t.maskClosable===void 0?!1:t.maskClosable,O=Se(x,`${x}-${t.type}`,{[`${x}-rtl`]:c==="rtl"},t.className),[,D]=Ti(),R=S.useMemo(()=>n!==void 0?n:D.zIndexPopupBase+l$,[n,D]);return S.createElement(W$,{prefixCls:f,className:O,wrapClassName:Se({[`${x}-centered`]:!!t.centered},u),onCancel:()=>{e==null||e({triggerCancel:!0}),y==null||y(!1)},open:a,title:"",footer:null,transitionName:C1(d||"","zoom",t.transitionName),maskTransitionName:C1(d||"","fade",t.maskTransitionName),mask:b,maskClosable:E,style:w,styles:Object.assign({body:g,mask:l},C),width:T,zIndex:R,afterClose:r,keyboard:i,centered:o,getContainer:s,closable:v,closeIcon:m,modalRender:p,focusTriggerAfterClose:h},S.createElement(j$,Object.assign({},t,{confirmPrefixCls:x})))},H$=t=>{const{rootPrefixCls:e,iconPrefixCls:n,direction:r,theme:a}=t;return S.createElement(ul,{prefixCls:e,iconPrefixCls:n,direction:r,theme:a},S.createElement(fse,Object.assign({},t)))},Nu=[];let q$="";function K$(){return q$}const dse=t=>{var e,n;const{prefixCls:r,getContainer:a,direction:i}=t,o=wF(),s=S.useContext(cn),l=K$()||s.getPrefixCls(),c=r||`${l}-modal`;let f=a;return f===!1&&(f=void 0),Oe.createElement(H$,Object.assign({},t,{rootPrefixCls:l,prefixCls:c,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:i??s.direction,locale:(n=(e=s.locale)===null||e===void 0?void 0:e.Modal)!==null&&n!==void 0?n:o,getContainer:f}))};function hp(t){const e=ZF(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},t),{close:s,open:!0}),a;function i(){for(var c,f=arguments.length,u=new Array(f),d=0;d<f;d++)u[d]=arguments[d];if(u.some(m=>m==null?void 0:m.triggerCancel)){var v;(c=t.onCancel)===null||c===void 0||(v=c).call.apply(v,[t,()=>{}].concat(Ze(u.slice(1))))}for(let m=0;m<Nu.length;m++)if(Nu[m]===s){Nu.splice(m,1);break}g$(n)}function o(c){clearTimeout(a),a=setTimeout(()=>{const f=e.getPrefixCls(void 0,K$()),u=e.getIconPrefixCls(),d=e.getTheme(),g=Oe.createElement(dse,Object.assign({},c));B7(Oe.createElement(ul,{prefixCls:f,iconPrefixCls:u,theme:d},e.holderRender?e.holderRender(g):g),n)})}function s(){for(var c=arguments.length,f=new Array(c),u=0;u<c;u++)f[u]=arguments[u];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),i.apply(this,f)}}),r.visible&&delete r.visible,o(r)}function l(c){typeof c=="function"?r=c(r):r=Object.assign(Object.assign({},r),c),o(r)}return o(r),Nu.push(s),{destroy:s,update:l}}function Q$(t){return Object.assign(Object.assign({},t),{type:"warning"})}function X$(t){return Object.assign(Object.assign({},t),{type:"info"})}function Y$(t){return Object.assign(Object.assign({},t),{type:"success"})}function Z$(t){return Object.assign(Object.assign({},t),{type:"error"})}function J$(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function gse(t){let{rootPrefixCls:e}=t;q$=e}var mse=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const vse=(t,e)=>{var n,{afterClose:r,config:a}=t,i=mse(t,["afterClose","config"]);const[o,s]=S.useState(!0),[l,c]=S.useState(a),{direction:f,getPrefixCls:u}=S.useContext(cn),d=u("modal"),g=u(),v=()=>{var y;r(),(y=l.afterClose)===null||y===void 0||y.call(l)},m=function(){var y;s(!1);for(var C=arguments.length,x=new Array(C),T=0;T<C;T++)x[T]=arguments[T];if(x.some(E=>E==null?void 0:E.triggerCancel)){var b;(y=l.onCancel)===null||y===void 0||(b=y).call.apply(b,[l,()=>{}].concat(Ze(x.slice(1))))}};S.useImperativeHandle(e,()=>({destroy:m,update:y=>{c(C=>Object.assign(Object.assign({},C),y))}}));const p=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[h]=Q1("Modal",il.Modal);return S.createElement(H$,Object.assign({prefixCls:d,rootPrefixCls:g},l,{close:m,open:o,afterClose:v,okText:l.okText||(p?h==null?void 0:h.okText:h==null?void 0:h.justOkText),direction:l.direction||f,cancelText:l.cancelText||(h==null?void 0:h.cancelText)},i))},pse=S.forwardRef(vse);let dR=0;const hse=S.memo(S.forwardRef((t,e)=>{const[n,r]=Nre();return S.useImperativeHandle(e,()=>({patchElement:r}),[]),S.createElement(S.Fragment,null,n)}));function Sse(){const t=S.useRef(null),[e,n]=S.useState([]);S.useEffect(()=>{e.length&&(Ze(e).forEach(o=>{o()}),n([]))},[e]);const r=S.useCallback(i=>function(s){var l;dR+=1;const c=S.createRef();let f;const u=new Promise(p=>{f=p});let d=!1,g;const v=S.createElement(pse,{key:`modal-${dR}`,config:i(s),ref:c,afterClose:()=>{g==null||g()},isSilent:()=>d,onConfirm:p=>{f(p)}});return g=(l=t.current)===null||l===void 0?void 0:l.patchElement(v),g&&Nu.push(g),{destroy:()=>{function p(){var h;(h=c.current)===null||h===void 0||h.destroy()}c.current?p():n(h=>[].concat(Ze(h),[p]))},update:p=>{function h(){var y;(y=c.current)===null||y===void 0||y.update(p)}c.current?h():n(y=>[].concat(Ze(y),[h]))},then:p=>(d=!0,u.then(p))}},[]);return[S.useMemo(()=>({info:r(X$),success:r(Y$),error:r(Z$),warning:r(Q$),confirm:r(J$)}),[]),S.createElement(hse,{key:"modal-holder",ref:t})]}const yse=Oe.createContext({});function eV(t){return e=>S.createElement(ul,{theme:{token:{motion:!1,zIndexPopupBase:0}}},S.createElement(t,Object.assign({},e)))}const tV=(t,e,n,r)=>eV(i=>{const{prefixCls:o,style:s}=i,l=S.useRef(null),[c,f]=S.useState(0),[u,d]=S.useState(0),[g,v]=Ha(!1,{value:i.open}),{getPrefixCls:m}=S.useContext(cn),p=m(e||"select",o);S.useEffect(()=>{if(v(!0),typeof ResizeObserver<"u"){const C=new ResizeObserver(T=>{const w=T[0].target;f(w.offsetHeight+8),d(w.offsetWidth)}),x=setInterval(()=>{var T;const w=n?`.${n(p)}`:`.${p}-dropdown`,b=(T=l.current)===null||T===void 0?void 0:T.querySelector(w);b&&(clearInterval(x),C.observe(b))},10);return()=>{clearInterval(x),C.disconnect()}}},[]);let h=Object.assign(Object.assign({},i),{style:Object.assign(Object.assign({},s),{margin:0}),open:g,visible:g,getPopupContainer:()=>l.current});r&&(h=r(h));const y={paddingBottom:c,position:"relative",minWidth:u};return S.createElement("div",{ref:l,style:y},S.createElement(t,Object.assign({},h)))}),nV=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var I5=function(e){var n=e.className,r=e.customizeIcon,a=e.customizeIconProps,i=e.children,o=e.onMouseDown,s=e.onClick,l=typeof r=="function"?r(a):r;return S.createElement("span",{className:n,onMouseDown:function(f){f.preventDefault(),o==null||o(f)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},l!==void 0?l:S.createElement("span",{className:Se(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},i))},Cse=function(e,n,r,a,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=Oe.useMemo(function(){if(qt(a)==="object")return a.clearIcon;if(i)return i},[a,i]),f=Oe.useMemo(function(){return!!(!o&&a&&(r.length||s)&&!(l==="combobox"&&s===""))},[a,o,r.length,s,l]);return{allowClear:f,clearIcon:Oe.createElement(I5,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:c},"×")}},rV=S.createContext(null);function xse(){return S.useContext(rV)}function Tse(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=S.useState(!1),n=Ae(e,2),r=n[0],a=n[1],i=S.useRef(null),o=function(){window.clearTimeout(i.current)};S.useEffect(function(){return o},[]);var s=function(c,f){o(),i.current=window.setTimeout(function(){a(c),f&&f()},t)};return[r,s,o]}function aV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=S.useRef(null),n=S.useRef(null);S.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(a){(a||e.current===null)&&(e.current=a),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function wse(t,e,n,r){var a=S.useRef(null);a.current={open:e,triggerOpen:n,customizedTrigger:r},S.useEffect(function(){function i(o){var s;if(!((s=a.current)!==null&&s!==void 0&&s.customizedTrigger)){var l=o.target;l.shadowRoot&&o.composed&&(l=o.composedPath()[0]||l),a.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&a.current.triggerOpen(!1)}}return window.addEventListener("mousedown",i),function(){return window.removeEventListener("mousedown",i)}},[])}function bse(t){return![rt.ESC,rt.SHIFT,rt.BACKSPACE,rt.TAB,rt.WIN_KEY,rt.ALT,rt.META,rt.WIN_KEY_RIGHT,rt.CTRL,rt.SEMICOLON,rt.EQUALS,rt.CAPS_LOCK,rt.CONTEXT_MENU,rt.F1,rt.F2,rt.F3,rt.F4,rt.F5,rt.F6,rt.F7,rt.F8,rt.F9,rt.F10,rt.F11,rt.F12].includes(t)}var Ese=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Ff=void 0;function Dse(t,e){var n=t.prefixCls,r=t.invalidate,a=t.item,i=t.renderItem,o=t.responsive,s=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,f=t.className,u=t.style,d=t.children,g=t.display,v=t.order,m=t.component,p=m===void 0?"div":m,h=Tn(t,Ese),y=o&&!g;function C(E){l(c,E)}S.useEffect(function(){return function(){C(null)}},[]);var x=i&&a!==Ff?i(a):d,T;r||(T={opacity:y?0:1,height:y?0:Ff,overflowY:y?"hidden":Ff,order:o?v:Ff,pointerEvents:y?"none":Ff,position:y?"absolute":Ff});var w={};y&&(w["aria-hidden"]=!0);var b=S.createElement(p,tt({className:Se(!r&&n,f),style:ie(ie({},T),u)},w,h,{ref:e}),x);return o&&(b=S.createElement(Vs,{onResize:function(O){var D=O.offsetWidth;C(D)},disabled:s},b)),b}var Lm=S.forwardRef(Dse);Lm.displayName="Item";function Ose(t){if(typeof MessageChannel>"u")ur(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function Rse(){var t=S.useRef(null),e=function(r){t.current||(t.current=[],Ose(function(){_o.unstable_batchedUpdates(function(){t.current.forEach(function(a){a()}),t.current=null})})),t.current.push(r)};return e}function Pg(t,e){var n=S.useState(e),r=Ae(n,2),a=r[0],i=r[1],o=br(function(s){t(function(){i(s)})});return[a,o]}var NS=Oe.createContext(null),Ise=["component"],Ase=["className"],Mse=["className"],Pse=function(e,n){var r=S.useContext(NS);if(!r){var a=e.component,i=a===void 0?"div":a,o=Tn(e,Ise);return S.createElement(i,tt({},o,{ref:n}))}var s=r.className,l=Tn(r,Ase),c=e.className,f=Tn(e,Mse);return S.createElement(NS.Provider,{value:null},S.createElement(Lm,tt({ref:n,className:Se(s,c)},l,f)))},iV=S.forwardRef(Pse);iV.displayName="RawItem";var Lse=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],oV="responsive",sV="invalidate";function _se(t){return"+ ".concat(t.length," ...")}function Nse(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,a=t.data,i=a===void 0?[]:a,o=t.renderItem,s=t.renderRawItem,l=t.itemKey,c=t.itemWidth,f=c===void 0?10:c,u=t.ssr,d=t.style,g=t.className,v=t.maxCount,m=t.renderRest,p=t.renderRawRest,h=t.suffix,y=t.component,C=y===void 0?"div":y,x=t.itemComponent,T=t.onVisibleChange,w=Tn(t,Lse),b=u==="full",E=Rse(),O=Pg(E,null),D=Ae(O,2),R=D[0],I=D[1],M=R||0,A=Pg(E,new Map),B=Ae(A,2),L=B[0],F=B[1],_=Pg(E,0),P=Ae(_,2),N=P[0],k=P[1],H=Pg(E,0),K=Ae(H,2),te=K[0],se=K[1],pe=Pg(E,0),ve=Ae(pe,2),Te=ve[0],_e=ve[1],fe=S.useState(null),ce=Ae(fe,2),Ee=ce[0],we=ce[1],he=S.useState(null),Re=Ae(he,2),Pe=Re[0],We=Re[1],Me=S.useMemo(function(){return Pe===null&&b?Number.MAX_SAFE_INTEGER:Pe||0},[Pe,R]),Je=S.useState(!1),Be=Ae(Je,2),z=Be[0],Y=Be[1],ee="".concat(r,"-item"),j=Math.max(N,te),oe=v===oV,be=i.length&&oe,Ue=v===sV,ze=be||typeof v=="number"&&i.length>v,at=S.useMemo(function(){var Lt=i;return be?R===null&&b?Lt=i:Lt=i.slice(0,Math.min(i.length,M/f)):typeof v=="number"&&(Lt=i.slice(0,v)),Lt},[i,f,R,v,be]),gt=S.useMemo(function(){return be?i.slice(Me+1):i.slice(at.length)},[i,at,be,Me]),St=S.useCallback(function(Lt,yt){var lt;return typeof l=="function"?l(Lt):(lt=l&&(Lt==null?void 0:Lt[l]))!==null&&lt!==void 0?lt:yt},[l]),ct=S.useCallback(o||function(Lt){return Lt},[o]);function et(Lt,yt,lt){Pe===Lt&&(yt===void 0||yt===Ee)||(We(Lt),lt||(Y(Lt<i.length-1),T==null||T(Lt)),yt!==void 0&&we(yt))}function Ne(Lt,yt){I(yt.clientWidth)}function ut(Lt,yt){F(function(lt){var de=new Map(lt);return yt===null?de.delete(Lt):de.set(Lt,yt),de})}function At(Lt,yt){se(yt),k(te)}function bt(Lt,yt){_e(yt)}function Rt(Lt){return L.get(St(at[Lt],Lt))}wr(function(){if(M&&typeof j=="number"&&at){var Lt=Te,yt=at.length,lt=yt-1;if(!yt){et(0,null);return}for(var de=0;de<yt;de+=1){var ue=Rt(de);if(b&&(ue=ue||0),ue===void 0){et(de-1,void 0,!0);break}if(Lt+=ue,lt===0&&Lt<=M||de===lt-1&&Lt+Rt(lt)<=M){et(lt,null);break}else if(Lt+j>M){et(de-1,Lt-ue-Te+te);break}}h&&Rt(0)+Te>M&&we(null)}},[M,L,te,Te,St,at]);var jt=z&&!!gt.length,un={};Ee!==null&&be&&(un={position:"absolute",left:Ee,top:0});var Zt={prefixCls:ee,responsive:be,component:x,invalidate:Ue},Kt=s?function(Lt,yt){var lt=St(Lt,yt);return S.createElement(NS.Provider,{key:lt,value:ie(ie({},Zt),{},{order:yt,item:Lt,itemKey:lt,registerSize:ut,display:yt<=Me})},s(Lt,yt))}:function(Lt,yt){var lt=St(Lt,yt);return S.createElement(Lm,tt({},Zt,{order:yt,key:lt,item:Lt,renderItem:ct,itemKey:lt,registerSize:ut,display:yt<=Me}))},fn,en={order:jt?Me:Number.MAX_SAFE_INTEGER,className:"".concat(ee,"-rest"),registerSize:At,display:jt};if(p)p&&(fn=S.createElement(NS.Provider,{value:ie(ie({},Zt),en)},p(gt)));else{var sn=m||_se;fn=S.createElement(Lm,tt({},Zt,en),typeof sn=="function"?sn(gt):sn)}var zt=S.createElement(C,tt({className:Se(!Ue&&r,g),style:d,ref:e},w),at.map(Kt),ze?fn:null,h&&S.createElement(Lm,tt({},Zt,{responsive:oe,responsiveDisabled:!be,order:Me,className:"".concat(ee,"-suffix"),registerSize:bt,display:!0,style:un}),h));return oe&&(zt=S.createElement(Vs,{onResize:Ne,disabled:!be},zt)),zt}var r0=S.forwardRef(Nse);r0.displayName="Overflow";r0.Item=iV;r0.RESPONSIVE=oV;r0.INVALIDATE=sV;var Fse=function(e,n){var r,a=e.prefixCls,i=e.id,o=e.inputElement,s=e.disabled,l=e.tabIndex,c=e.autoFocus,f=e.autoComplete,u=e.editable,d=e.activeDescendantId,g=e.value,v=e.maxLength,m=e.onKeyDown,p=e.onMouseDown,h=e.onChange,y=e.onPaste,C=e.onCompositionStart,x=e.onCompositionEnd,T=e.open,w=e.attrs,b=o||S.createElement("input",null),E=b,O=E.ref,D=E.props,R=D.onKeyDown,I=D.onChange,M=D.onMouseDown,A=D.onCompositionStart,B=D.onCompositionEnd,L=D.style;return"maxLength"in b.props,b=S.cloneElement(b,ie(ie(ie({type:"search"},D),{},{id:i,ref:Vo(n,O),disabled:s,tabIndex:l,autoComplete:f||"off",autoFocus:c,className:Se("".concat(a,"-selection-search-input"),(r=b)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":T||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":T?d:void 0},w),{},{value:u?g:"",maxLength:v,readOnly:!u,unselectable:u?null:"on",style:ie(ie({},L),{},{opacity:u?null:0}),onKeyDown:function(_){m(_),R&&R(_)},onMouseDown:function(_){p(_),M&&M(_)},onChange:function(_){h(_),I&&I(_)},onCompositionStart:function(_){C(_),A&&A(_)},onCompositionEnd:function(_){x(_),B&&B(_)},onPaste:y})),b},lV=S.forwardRef(Fse);function cV(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var $se=typeof window<"u"&&window.document&&window.document.documentElement,Vse=$se;function kse(t){return t!=null}function Use(t){return!t&&t!==0}function gR(t){return["string","number"].includes(qt(t))}function uV(t){var e=void 0;return t&&(gR(t.title)?e=t.title.toString():gR(t.label)&&(e=t.label.toString())),e}function Bse(t,e){Vse?S.useLayoutEffect(t,e):S.useEffect(t,e)}function Gse(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var mR=function(e){e.preventDefault(),e.stopPropagation()},zse=function(e){var n=e.id,r=e.prefixCls,a=e.values,i=e.open,o=e.searchValue,s=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,f=e.disabled,u=e.mode,d=e.showSearch,g=e.autoFocus,v=e.autoComplete,m=e.activeDescendantId,p=e.tabIndex,h=e.removeIcon,y=e.maxTagCount,C=e.maxTagTextLength,x=e.maxTagPlaceholder,T=x===void 0?function(we){return"+ ".concat(we.length," ...")}:x,w=e.tagRender,b=e.onToggleOpen,E=e.onRemove,O=e.onInputChange,D=e.onInputPaste,R=e.onInputKeyDown,I=e.onInputMouseDown,M=e.onInputCompositionStart,A=e.onInputCompositionEnd,B=S.useRef(null),L=S.useState(0),F=Ae(L,2),_=F[0],P=F[1],N=S.useState(!1),k=Ae(N,2),H=k[0],K=k[1],te="".concat(r,"-selection"),se=i||u==="multiple"&&s===!1||u==="tags"?o:"",pe=u==="tags"||u==="multiple"&&s===!1||d&&(i||H);Bse(function(){P(B.current.scrollWidth)},[se]);var ve=function(he,Re,Pe,We,Me){return S.createElement("span",{title:uV(he),className:Se("".concat(te,"-item"),J({},"".concat(te,"-item-disabled"),Pe))},S.createElement("span",{className:"".concat(te,"-item-content")},Re),We&&S.createElement(I5,{className:"".concat(te,"-item-remove"),onMouseDown:mR,onClick:Me,customizeIcon:h},"×"))},Te=function(he,Re,Pe,We,Me,Je){var Be=function(Y){mR(Y),b(!i)};return S.createElement("span",{onMouseDown:Be},w({label:Re,value:he,disabled:Pe,closable:We,onClose:Me,isMaxTag:!!Je}))},_e=function(he){var Re=he.disabled,Pe=he.label,We=he.value,Me=!f&&!Re,Je=Pe;if(typeof C=="number"&&(typeof Pe=="string"||typeof Pe=="number")){var Be=String(Je);Be.length>C&&(Je="".concat(Be.slice(0,C),"..."))}var z=function(ee){ee&&ee.stopPropagation(),E(he)};return typeof w=="function"?Te(We,Je,Re,Me,z):ve(he,Je,Re,Me,z)},fe=function(he){var Re=typeof T=="function"?T(he):T;return typeof w=="function"?Te(void 0,Re,!1,!1,void 0,!0):ve({title:Re},Re,!1)},ce=S.createElement("div",{className:"".concat(te,"-search"),style:{width:_},onFocus:function(){K(!0)},onBlur:function(){K(!1)}},S.createElement(lV,{ref:l,open:i,prefixCls:r,id:n,inputElement:null,disabled:f,autoFocus:g,autoComplete:v,editable:pe,activeDescendantId:m,value:se,onKeyDown:R,onMouseDown:I,onChange:O,onPaste:D,onCompositionStart:M,onCompositionEnd:A,tabIndex:p,attrs:Pi(e,!0)}),S.createElement("span",{ref:B,className:"".concat(te,"-search-mirror"),"aria-hidden":!0},se," ")),Ee=S.createElement(r0,{prefixCls:"".concat(te,"-overflow"),data:a,renderItem:_e,renderRest:fe,suffix:ce,itemKey:Gse,maxCount:y});return S.createElement(S.Fragment,null,Ee,!a.length&&!se&&S.createElement("span",{className:"".concat(te,"-placeholder")},c))},Wse=function(e){var n=e.inputElement,r=e.prefixCls,a=e.id,i=e.inputRef,o=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,f=e.mode,u=e.open,d=e.values,g=e.placeholder,v=e.tabIndex,m=e.showSearch,p=e.searchValue,h=e.activeValue,y=e.maxLength,C=e.onInputKeyDown,x=e.onInputMouseDown,T=e.onInputChange,w=e.onInputPaste,b=e.onInputCompositionStart,E=e.onInputCompositionEnd,O=e.title,D=S.useState(!1),R=Ae(D,2),I=R[0],M=R[1],A=f==="combobox",B=A||m,L=d[0],F=p||"";A&&h&&!I&&(F=h),S.useEffect(function(){A&&M(!1)},[A,h]);var _=f!=="combobox"&&!u&&!m?!1:!!F,P=O===void 0?uV(L):O,N=S.useMemo(function(){return L?null:S.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:_?{visibility:"hidden"}:void 0},g)},[L,_,g,r]);return S.createElement(S.Fragment,null,S.createElement("span",{className:"".concat(r,"-selection-search")},S.createElement(lV,{ref:i,prefixCls:r,id:a,open:u,inputElement:n,disabled:o,autoFocus:s,autoComplete:l,editable:B,activeDescendantId:c,value:F,onKeyDown:C,onMouseDown:x,onChange:function(H){M(!0),T(H)},onPaste:w,onCompositionStart:b,onCompositionEnd:E,tabIndex:v,attrs:Pi(e,!0),maxLength:A?y:void 0})),!A&&L?S.createElement("span",{className:"".concat(r,"-selection-item"),title:P,style:_?{visibility:"hidden"}:void 0},L.label):null,N)},jse=function(e,n){var r=S.useRef(null),a=S.useRef(!1),i=e.prefixCls,o=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,f=e.disabled,u=e.autoClearSearchValue,d=e.onSearch,g=e.onSearchSubmit,v=e.onToggleOpen,m=e.onInputKeyDown,p=e.domRef;S.useImperativeHandle(n,function(){return{focus:function(_){r.current.focus(_)},blur:function(){r.current.blur()}}});var h=aV(0),y=Ae(h,2),C=y[0],x=y[1],T=function(_){var P=_.which;(P===rt.UP||P===rt.DOWN)&&_.preventDefault(),m&&m(_),P===rt.ENTER&&s==="tags"&&!a.current&&!o&&(g==null||g(_.target.value)),bse(P)&&v(!0)},w=function(){x(!0)},b=S.useRef(null),E=function(_){d(_,!0,a.current)!==!1&&v(!0)},O=function(){a.current=!0},D=function(_){a.current=!1,s!=="combobox"&&E(_.target.value)},R=function(_){var P=_.target.value;if(c&&b.current&&/[\r\n]/.test(b.current)){var N=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");P=P.replace(N,b.current)}b.current=null,E(P)},I=function(_){var P=_.clipboardData,N=P==null?void 0:P.getData("text");b.current=N||""},M=function(_){var P=_.target;if(P!==r.current){var N=document.body.style.msTouchAction!==void 0;N?setTimeout(function(){r.current.focus()}):r.current.focus()}},A=function(_){var P=C();_.target!==r.current&&!P&&!(s==="combobox"&&f)&&_.preventDefault(),(s!=="combobox"&&(!l||!P)||!o)&&(o&&u!==!1&&d("",!0,!1),v())},B={inputRef:r,onInputKeyDown:T,onInputMouseDown:w,onInputChange:R,onInputPaste:I,onInputCompositionStart:O,onInputCompositionEnd:D},L=s==="multiple"||s==="tags"?S.createElement(zse,tt({},e,B)):S.createElement(Wse,tt({},e,B));return S.createElement("div",{ref:p,className:"".concat(i,"-selector"),onClick:M,onMouseDown:A},L)},Hse=S.forwardRef(jse);function qse(t){var e=t.prefixCls,n=t.align,r=t.arrow,a=t.arrowPos,i=r||{},o=i.className,s=i.content,l=a.x,c=l===void 0?0:l,f=a.y,u=f===void 0?0:f,d=S.useRef();if(!n||!n.points)return null;var g={position:"absolute"};if(n.autoArrow!==!1){var v=n.points[0],m=n.points[1],p=v[0],h=v[1],y=m[0],C=m[1];p===y||!["t","b"].includes(p)?g.top=u:p==="t"?g.top=0:g.bottom=0,h===C||!["l","r"].includes(h)?g.left=c:h==="l"?g.left=0:g.right=0}return S.createElement("div",{ref:d,className:Se("".concat(e,"-arrow"),o),style:g},s)}function Kse(t){var e=t.prefixCls,n=t.open,r=t.zIndex,a=t.mask,i=t.motion;return a?S.createElement(ks,tt({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(o){var s=o.className;return S.createElement("div",{style:{zIndex:r},className:Se("".concat(e,"-mask"),s)})}):null}var Qse=S.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),Xse=S.forwardRef(function(t,e){var n=t.popup,r=t.className,a=t.prefixCls,i=t.style,o=t.target,s=t.onVisibleChanged,l=t.open,c=t.keepDom,f=t.fresh,u=t.onClick,d=t.mask,g=t.arrow,v=t.arrowPos,m=t.align,p=t.motion,h=t.maskMotion,y=t.forceRender,C=t.getPopupContainer,x=t.autoDestroy,T=t.portal,w=t.zIndex,b=t.onMouseEnter,E=t.onMouseLeave,O=t.onPointerEnter,D=t.ready,R=t.offsetX,I=t.offsetY,M=t.offsetR,A=t.offsetB,B=t.onAlign,L=t.onPrepare,F=t.stretch,_=t.targetWidth,P=t.targetHeight,N=typeof n=="function"?n():n,k=l||c,H=(C==null?void 0:C.length)>0,K=S.useState(!C||!H),te=Ae(K,2),se=te[0],pe=te[1];if(wr(function(){!se&&H&&o&&pe(!0)},[se,H,o]),!se)return null;var ve="auto",Te={left:"-1000vw",top:"-1000vh",right:ve,bottom:ve};if(D||!l){var _e,fe=m.points,ce=m.dynamicInset||((_e=m._experimental)===null||_e===void 0?void 0:_e.dynamicInset),Ee=ce&&fe[0][1]==="r",we=ce&&fe[0][0]==="b";Ee?(Te.right=M,Te.left=ve):(Te.left=R,Te.right=ve),we?(Te.bottom=A,Te.top=ve):(Te.top=I,Te.bottom=ve)}var he={};return F&&(F.includes("height")&&P?he.height=P:F.includes("minHeight")&&P&&(he.minHeight=P),F.includes("width")&&_?he.width=_:F.includes("minWidth")&&_&&(he.minWidth=_)),l||(he.pointerEvents="none"),S.createElement(T,{open:y||k,getContainer:C&&function(){return C(o)},autoDestroy:x},S.createElement(Kse,{prefixCls:a,open:l,zIndex:w,mask:d,motion:h}),S.createElement(Vs,{onResize:B,disabled:!l},function(Re){return S.createElement(ks,tt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(a,"-hidden")},p,{onAppearPrepare:L,onEnterPrepare:L,visible:l,onVisibleChanged:function(We){var Me;p==null||(Me=p.onVisibleChanged)===null||Me===void 0||Me.call(p,We),s(We)}}),function(Pe,We){var Me=Pe.className,Je=Pe.style,Be=Se(a,Me,r);return S.createElement("div",{ref:Vo(Re,e,We),className:Be,style:ie(ie(ie(ie({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},Te),he),Je),{},{boxSizing:"border-box",zIndex:w},i),onMouseEnter:b,onMouseLeave:E,onPointerEnter:O,onClick:u},g&&S.createElement(qse,{prefixCls:a,arrow:g,arrowPos:v,align:m}),S.createElement(Qse,{cache:!l&&!f},N))})}))}),Yse=S.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,a=s0(n),i=S.useCallback(function(s){Cv(e,r?r(s):s)},[r]),o=xf(i,n.ref);return a?S.cloneElement(n,{ref:o}):n}),vR=S.createContext(null);function pR(t){return t?Array.isArray(t)?t:[t]:[]}function Zse(t,e,n,r){return S.useMemo(function(){var a=pR(n??e),i=pR(r??e),o=new Set(a),s=new Set(i);return t&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]},[t,e,n,r])}function Jse(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function e0e(t,e,n,r){for(var a=n.points,i=Object.keys(t),o=0;o<i.length;o+=1){var s,l=i[o];if(Jse((s=t[l])===null||s===void 0?void 0:s.points,a,r))return"".concat(e,"-placement-").concat(l)}return""}function hR(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function Sp(t){return t.ownerDocument.defaultView}function J6(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var a=Sp(n).getComputedStyle(n),i=a.overflowX,o=a.overflowY,s=a.overflow;[i,o,s].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function Lv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Lg(t){return Lv(parseFloat(t),0)}function SR(t,e){var n=ie({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var a=Sp(r).getComputedStyle(r),i=a.overflow,o=a.overflowClipMargin,s=a.borderTopWidth,l=a.borderBottomWidth,c=a.borderLeftWidth,f=a.borderRightWidth,u=r.getBoundingClientRect(),d=r.offsetHeight,g=r.clientHeight,v=r.offsetWidth,m=r.clientWidth,p=Lg(s),h=Lg(l),y=Lg(c),C=Lg(f),x=Lv(Math.round(u.width/v*1e3)/1e3),T=Lv(Math.round(u.height/d*1e3)/1e3),w=(v-m-y-C)*x,b=(d-g-p-h)*T,E=p*T,O=h*T,D=y*x,R=C*x,I=0,M=0;if(i==="clip"){var A=Lg(o);I=A*x,M=A*T}var B=u.x+D-I,L=u.y+E-M,F=B+u.width+2*I-D-R-w,_=L+u.height+2*M-E-O-b;n.left=Math.max(n.left,B),n.top=Math.max(n.top,L),n.right=Math.min(n.right,F),n.bottom=Math.min(n.bottom,_)}}),n}function yR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function CR(t,e){var n=e||[],r=Ae(n,2),a=r[0],i=r[1];return[yR(t.width,a),yR(t.height,i)]}function xR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function $f(t,e){var n=e[0],r=e[1],a,i;return n==="t"?i=t.y:n==="b"?i=t.y+t.height:i=t.y+t.height/2,r==="l"?a=t.x:r==="r"?a=t.x+t.width:a=t.x+t.width/2,{x:a,y:i}}function Ml(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,a){return a===e?n[r]||"c":r}).join("")}function t0e(t,e,n,r,a,i,o){var s=S.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[r]||{}}),l=Ae(s,2),c=l[0],f=l[1],u=S.useRef(0),d=S.useMemo(function(){return e?J6(e):[]},[e]),g=S.useRef({}),v=function(){g.current={}};t||v();var m=br(function(){if(e&&n&&t){let zn=function(Or,mr){var Br=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j,Qa=te.x+Or,Xa=te.y+mr,da=Qa+we,ga=Xa+Ee,Jt=Math.max(Qa,Br.left),an=Math.max(Xa,Br.top),yr=Math.min(da,Br.right),Ir=Math.min(ga,Br.bottom);return Math.max(0,(yr-Jt)*(Ir-an))},Sr=function(){Nt=te.y+lt,Pt=Nt+Ee,Ut=te.x+yt,Ht=Ut+we};var y,C,x,T,w=e,b=w.ownerDocument,E=Sp(w),O=E.getComputedStyle(w),D=O.width,R=O.height,I=O.position,M=w.style.left,A=w.style.top,B=w.style.right,L=w.style.bottom,F=w.style.overflow,_=ie(ie({},a[r]),i),P=b.createElement("div");(y=w.parentElement)===null||y===void 0||y.appendChild(P),P.style.left="".concat(w.offsetLeft,"px"),P.style.top="".concat(w.offsetTop,"px"),P.style.position=I,P.style.height="".concat(w.offsetHeight,"px"),P.style.width="".concat(w.offsetWidth,"px"),w.style.left="0",w.style.top="0",w.style.right="auto",w.style.bottom="auto",w.style.overflow="hidden";var N;if(Array.isArray(n))N={x:n[0],y:n[1],width:0,height:0};else{var k,H,K=n.getBoundingClientRect();K.x=(k=K.x)!==null&&k!==void 0?k:K.left,K.y=(H=K.y)!==null&&H!==void 0?H:K.top,N={x:K.x,y:K.y,width:K.width,height:K.height}}var te=w.getBoundingClientRect();te.x=(C=te.x)!==null&&C!==void 0?C:te.left,te.y=(x=te.y)!==null&&x!==void 0?x:te.top;var se=b.documentElement,pe=se.clientWidth,ve=se.clientHeight,Te=se.scrollWidth,_e=se.scrollHeight,fe=se.scrollTop,ce=se.scrollLeft,Ee=te.height,we=te.width,he=N.height,Re=N.width,Pe={left:0,top:0,right:pe,bottom:ve},We={left:-ce,top:-fe,right:Te-ce,bottom:_e-fe},Me=_.htmlRegion,Je="visible",Be="visibleFirst";Me!=="scroll"&&Me!==Be&&(Me=Je);var z=Me===Be,Y=SR(We,d),ee=SR(Pe,d),j=Me===Je?ee:Y,oe=z?ee:j;w.style.left="auto",w.style.top="auto",w.style.right="0",w.style.bottom="0";var be=w.getBoundingClientRect();w.style.left=M,w.style.top=A,w.style.right=B,w.style.bottom=L,w.style.overflow=F,(T=w.parentElement)===null||T===void 0||T.removeChild(P);var Ue=Lv(Math.round(we/parseFloat(D)*1e3)/1e3),ze=Lv(Math.round(Ee/parseFloat(R)*1e3)/1e3);if(Ue===0||ze===0||yv(n)&&!C5(n))return;var at=_.offset,gt=_.targetOffset,St=CR(te,at),ct=Ae(St,2),et=ct[0],Ne=ct[1],ut=CR(N,gt),At=Ae(ut,2),bt=At[0],Rt=At[1];N.x-=bt,N.y-=Rt;var jt=_.points||[],un=Ae(jt,2),Zt=un[0],Kt=un[1],fn=xR(Kt),en=xR(Zt),sn=$f(N,fn),zt=$f(te,en),Lt=ie({},_),yt=sn.x-zt.x+et,lt=sn.y-zt.y+Ne,de=zn(yt,lt),ue=zn(yt,lt,ee),ge=$f(N,["t","l"]),Ce=$f(te,["t","l"]),Ge=$f(N,["b","r"]),He=$f(te,["b","r"]),pt=_.overflow||{},Qe=pt.adjustX,Ke=pt.adjustY,Ye=pt.shiftX,ft=pt.shiftY,xt=function(mr){return typeof mr=="boolean"?mr:mr>=0},Nt,Pt,Ut,Ht;Sr();var Dt=xt(Ke),Mt=en[0]===fn[0];if(Dt&&en[0]==="t"&&(Pt>oe.bottom||g.current.bt)){var Bt=lt;Mt?Bt-=Ee-he:Bt=ge.y-He.y-Ne;var Ft=zn(yt,Bt),Ot=zn(yt,Bt,ee);Ft>de||Ft===de&&(!z||Ot>=ue)?(g.current.bt=!0,lt=Bt,Ne=-Ne,Lt.points=[Ml(en,0),Ml(fn,0)]):g.current.bt=!1}if(Dt&&en[0]==="b"&&(Nt<oe.top||g.current.tb)){var dn=lt;Mt?dn+=Ee-he:dn=Ge.y-Ce.y-Ne;var rn=zn(yt,dn),pn=zn(yt,dn,ee);rn>de||rn===de&&(!z||pn>=ue)?(g.current.tb=!0,lt=dn,Ne=-Ne,Lt.points=[Ml(en,0),Ml(fn,0)]):g.current.tb=!1}var Xn=xt(Qe),Fn=en[1]===fn[1];if(Xn&&en[1]==="l"&&(Ht>oe.right||g.current.rl)){var Ct=yt;Fn?Ct-=we-Re:Ct=ge.x-He.x-et;var $t=zn(Ct,lt),mn=zn(Ct,lt,ee);$t>de||$t===de&&(!z||mn>=ue)?(g.current.rl=!0,yt=Ct,et=-et,Lt.points=[Ml(en,1),Ml(fn,1)]):g.current.rl=!1}if(Xn&&en[1]==="r"&&(Ut<oe.left||g.current.lr)){var An=yt;Fn?An+=we-Re:An=Ge.x-Ce.x-et;var On=zn(An,lt),jn=zn(An,lt,ee);On>de||On===de&&(!z||jn>=ue)?(g.current.lr=!0,yt=An,et=-et,Lt.points=[Ml(en,1),Ml(fn,1)]):g.current.lr=!1}Sr();var rr=Ye===!0?0:Ye;typeof rr=="number"&&(Ut<ee.left&&(yt-=Ut-ee.left-et,N.x+Re<ee.left+rr&&(yt+=N.x-ee.left+Re-rr)),Ht>ee.right&&(yt-=Ht-ee.right-et,N.x>ee.right-rr&&(yt+=N.x-ee.right+rr)));var gr=ft===!0?0:ft;typeof gr=="number"&&(Nt<ee.top&&(lt-=Nt-ee.top-Ne,N.y+he<ee.top+gr&&(lt+=N.y-ee.top+he-gr)),Pt>ee.bottom&&(lt-=Pt-ee.bottom-Ne,N.y>ee.bottom-gr&&(lt+=N.y-ee.bottom+gr)));var Ra=te.x+yt,kr=Ra+we,Mr=te.y+lt,vn=Mr+Ee,Wt=N.x,xn=Wt+Re,bn=N.y,_n=bn+he,$n=Math.max(Ra,Wt),Gn=Math.min(kr,xn),Dr=($n+Gn)/2,pr=Dr-Ra,Ur=Math.max(Mr,bn),Ar=Math.min(vn,_n),Nr=(Ur+Ar)/2,Rr=Nr-Mr;o==null||o(e,Lt);var gn=be.right-te.x-(yt+te.width),wn=be.bottom-te.y-(lt+te.height);Ue===1&&(yt=Math.round(yt),gn=Math.round(gn)),ze===1&&(lt=Math.round(lt),wn=Math.round(wn));var Hn={ready:!0,offsetX:yt/Ue,offsetY:lt/ze,offsetR:gn/Ue,offsetB:wn/ze,arrowX:pr/Ue,arrowY:Rr/ze,scaleX:Ue,scaleY:ze,align:Lt};f(Hn)}}),p=function(){u.current+=1;var C=u.current;Promise.resolve().then(function(){u.current===C&&m()})},h=function(){f(function(C){return ie(ie({},C),{},{ready:!1})})};return wr(h,[r]),wr(function(){t||h()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,p]}function n0e(t,e,n,r,a){wr(function(){if(t&&e&&n){let u=function(){r(),a()};var i=e,o=n,s=J6(i),l=J6(o),c=Sp(o),f=new Set([c].concat(Ze(s),Ze(l)));return f.forEach(function(d){d.addEventListener("scroll",u,{passive:!0})}),c.addEventListener("resize",u,{passive:!0}),r(),function(){f.forEach(function(d){d.removeEventListener("scroll",u),c.removeEventListener("resize",u)})}}},[t,e,n])}function r0e(t,e,n,r,a,i,o,s){var l=S.useRef(t);l.current=t,S.useEffect(function(){if(e&&r&&(!a||i)){var c=function(g){var v;l.current&&!o(((v=g.composedPath)===null||v===void 0||(v=v.call(g))===null||v===void 0?void 0:v[0])||g.target)&&s(!1)},f=Sp(r);f.addEventListener("mousedown",c,!0),f.addEventListener("contextmenu",c,!0);var u=MS(n);return u&&(u.addEventListener("mousedown",c,!0),u.addEventListener("contextmenu",c,!0)),function(){f.removeEventListener("mousedown",c,!0),f.removeEventListener("contextmenu",c,!0),u&&(u.removeEventListener("mousedown",c,!0),u.removeEventListener("contextmenu",c,!0))}}},[e,n,r,a,i])}var a0e=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function i0e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nT,e=S.forwardRef(function(n,r){var a=n.prefixCls,i=a===void 0?"rc-trigger-popup":a,o=n.children,s=n.action,l=s===void 0?"hover":s,c=n.showAction,f=n.hideAction,u=n.popupVisible,d=n.defaultPopupVisible,g=n.onPopupVisibleChange,v=n.afterPopupVisibleChange,m=n.mouseEnterDelay,p=n.mouseLeaveDelay,h=p===void 0?.1:p,y=n.focusDelay,C=n.blurDelay,x=n.mask,T=n.maskClosable,w=T===void 0?!0:T,b=n.getPopupContainer,E=n.forceRender,O=n.autoDestroy,D=n.destroyPopupOnHide,R=n.popup,I=n.popupClassName,M=n.popupStyle,A=n.popupPlacement,B=n.builtinPlacements,L=B===void 0?{}:B,F=n.popupAlign,_=n.zIndex,P=n.stretch,N=n.getPopupClassNameFromAlign,k=n.fresh,H=n.alignPoint,K=n.onPopupClick,te=n.onPopupAlign,se=n.arrow,pe=n.popupMotion,ve=n.maskMotion,Te=n.popupTransitionName,_e=n.popupAnimation,fe=n.maskTransitionName,ce=n.maskAnimation,Ee=n.className,we=n.getTriggerDOMNode,he=Tn(n,a0e),Re=O||D||!1,Pe=S.useState(!1),We=Ae(Pe,2),Me=We[0],Je=We[1];wr(function(){Je(nV())},[]);var Be=S.useRef({}),z=S.useContext(vR),Y=S.useMemo(function(){return{registerSubPopup:function(an,yr){Be.current[an]=yr,z==null||z.registerSubPopup(an,yr)}}},[z]),ee=R$(),j=S.useState(null),oe=Ae(j,2),be=oe[0],Ue=oe[1],ze=S.useRef(null),at=br(function(Jt){ze.current=Jt,yv(Jt)&&be!==Jt&&Ue(Jt),z==null||z.registerSubPopup(ee,Jt)}),gt=S.useState(null),St=Ae(gt,2),ct=St[0],et=St[1],Ne=S.useRef(null),ut=br(function(Jt){yv(Jt)&&ct!==Jt&&(et(Jt),Ne.current=Jt)}),At=S.Children.only(o),bt=(At==null?void 0:At.props)||{},Rt={},jt=br(function(Jt){var an,yr,Ir=ct;return(Ir==null?void 0:Ir.contains(Jt))||((an=MS(Ir))===null||an===void 0?void 0:an.host)===Jt||Jt===Ir||(be==null?void 0:be.contains(Jt))||((yr=MS(be))===null||yr===void 0?void 0:yr.host)===Jt||Jt===be||Object.values(Be.current).some(function(Jn){return(Jn==null?void 0:Jn.contains(Jt))||Jt===Jn})}),un=hR(i,pe,_e,Te),Zt=hR(i,ve,ce,fe),Kt=S.useState(d||!1),fn=Ae(Kt,2),en=fn[0],sn=fn[1],zt=u??en,Lt=br(function(Jt){u===void 0&&sn(Jt)});wr(function(){sn(u||!1)},[u]);var yt=S.useRef(zt);yt.current=zt;var lt=S.useRef([]);lt.current=[];var de=br(function(Jt){var an;Lt(Jt),((an=lt.current[lt.current.length-1])!==null&&an!==void 0?an:zt)!==Jt&&(lt.current.push(Jt),g==null||g(Jt))}),ue=S.useRef(),ge=function(){clearTimeout(ue.current)},Ce=function(an){var yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ge(),yr===0?de(an):ue.current=setTimeout(function(){de(an)},yr*1e3)};S.useEffect(function(){return ge},[]);var Ge=S.useState(!1),He=Ae(Ge,2),pt=He[0],Qe=He[1];wr(function(Jt){(!Jt||zt)&&Qe(!0)},[zt]);var Ke=S.useState(null),Ye=Ae(Ke,2),ft=Ye[0],xt=Ye[1],Nt=S.useState(null),Pt=Ae(Nt,2),Ut=Pt[0],Ht=Pt[1],Dt=function(an){Ht([an.clientX,an.clientY])},Mt=t0e(zt,be,H&&Ut!==null?Ut:ct,A,L,F,te),Bt=Ae(Mt,11),Ft=Bt[0],Ot=Bt[1],dn=Bt[2],rn=Bt[3],pn=Bt[4],Xn=Bt[5],Fn=Bt[6],Ct=Bt[7],$t=Bt[8],mn=Bt[9],An=Bt[10],On=Zse(Me,l,c,f),jn=Ae(On,2),rr=jn[0],gr=jn[1],Ra=rr.has("click"),kr=gr.has("click")||gr.has("contextMenu"),Mr=br(function(){pt||An()}),vn=function(){yt.current&&H&&kr&&Ce(!1)};n0e(zt,ct,be,Mr,vn),wr(function(){Mr()},[Ut,A]),wr(function(){zt&&!(L!=null&&L[A])&&Mr()},[JSON.stringify(F)]);var Wt=S.useMemo(function(){var Jt=e0e(L,i,mn,H);return Se(Jt,N==null?void 0:N(mn))},[mn,N,L,i,H]);S.useImperativeHandle(r,function(){return{nativeElement:Ne.current,popupElement:ze.current,forceAlign:Mr}});var xn=S.useState(0),bn=Ae(xn,2),_n=bn[0],$n=bn[1],Gn=S.useState(0),Dr=Ae(Gn,2),pr=Dr[0],Ur=Dr[1],Ar=function(){if(P&&ct){var an=ct.getBoundingClientRect();$n(an.width),Ur(an.height)}},Nr=function(){Ar(),Mr()},Rr=function(an){Qe(!1),An(),v==null||v(an)},gn=function(){return new Promise(function(an){Ar(),xt(function(){return an})})};wr(function(){ft&&(An(),ft(),xt(null))},[ft]);function wn(Jt,an,yr,Ir){Rt[Jt]=function(Jn){var oa;Ir==null||Ir(Jn),Ce(an,yr);for(var Ia=arguments.length,Gs=new Array(Ia>1?Ia-1:0),wi=1;wi<Ia;wi++)Gs[wi-1]=arguments[wi];(oa=bt[Jt])===null||oa===void 0||oa.call.apply(oa,[bt,Jn].concat(Gs))}}(Ra||kr)&&(Rt.onClick=function(Jt){var an;yt.current&&kr?Ce(!1):!yt.current&&Ra&&(Dt(Jt),Ce(!0));for(var yr=arguments.length,Ir=new Array(yr>1?yr-1:0),Jn=1;Jn<yr;Jn++)Ir[Jn-1]=arguments[Jn];(an=bt.onClick)===null||an===void 0||an.call.apply(an,[bt,Jt].concat(Ir))}),r0e(zt,kr,ct,be,x,w,jt,Ce);var Hn=rr.has("hover"),zn=gr.has("hover"),Sr,Or;Hn&&(wn("onMouseEnter",!0,m,function(Jt){Dt(Jt)}),wn("onPointerEnter",!0,m,function(Jt){Dt(Jt)}),Sr=function(an){(zt||pt)&&be!==null&&be!==void 0&&be.contains(an.target)&&Ce(!0,m)},H&&(Rt.onMouseMove=function(Jt){var an;(an=bt.onMouseMove)===null||an===void 0||an.call(bt,Jt)})),zn&&(wn("onMouseLeave",!1,h),wn("onPointerLeave",!1,h),Or=function(){Ce(!1,h)}),rr.has("focus")&&wn("onFocus",!0,y),gr.has("focus")&&wn("onBlur",!1,C),rr.has("contextMenu")&&(Rt.onContextMenu=function(Jt){var an;yt.current&&gr.has("contextMenu")?Ce(!1):(Dt(Jt),Ce(!0)),Jt.preventDefault();for(var yr=arguments.length,Ir=new Array(yr>1?yr-1:0),Jn=1;Jn<yr;Jn++)Ir[Jn-1]=arguments[Jn];(an=bt.onContextMenu)===null||an===void 0||an.call.apply(an,[bt,Jt].concat(Ir))}),Ee&&(Rt.className=Se(bt.className,Ee));var mr=ie(ie({},bt),Rt),Br={},Qa=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Qa.forEach(function(Jt){he[Jt]&&(Br[Jt]=function(){for(var an,yr=arguments.length,Ir=new Array(yr),Jn=0;Jn<yr;Jn++)Ir[Jn]=arguments[Jn];(an=mr[Jt])===null||an===void 0||an.call.apply(an,[mr].concat(Ir)),he[Jt].apply(he,Ir)})});var Xa=S.cloneElement(At,ie(ie({},mr),Br)),da={x:Xn,y:Fn},ga=se?ie({},se!==!0?se:{}):null;return S.createElement(S.Fragment,null,S.createElement(Vs,{disabled:!zt,ref:ut,onResize:Nr},S.createElement(Yse,{getTriggerDOMNode:we},Xa)),S.createElement(vR.Provider,{value:Y},S.createElement(Xse,{portal:t,ref:at,prefixCls:i,popup:R,className:Se(I,Wt),style:M,target:ct,onMouseEnter:Sr,onMouseLeave:Or,onPointerEnter:Sr,zIndex:_,open:zt,keepDom:pt,fresh:k,onClick:K,mask:x,motion:un,maskMotion:Zt,onVisibleChanged:Rr,onPrepare:gn,forceRender:E,autoDestroy:Re,getPopupContainer:b,align:mn,arrow:ga,arrowPos:da,ready:Ft,offsetX:Ot,offsetY:dn,offsetR:rn,offsetB:pn,onAlign:Mr,stretch:P,targetWidth:_n/Ct,targetHeight:pr/$t})))});return e}const A5=i0e(nT);var o0e=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],s0e=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},l0e=function(e,n){var r=e.prefixCls;e.disabled;var a=e.visible,i=e.children,o=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,f=e.dropdownClassName,u=e.direction,d=u===void 0?"ltr":u,g=e.placement,v=e.builtinPlacements,m=e.dropdownMatchSelectWidth,p=e.dropdownRender,h=e.dropdownAlign,y=e.getPopupContainer,C=e.empty,x=e.getTriggerDOMNode,T=e.onPopupVisibleChange,w=e.onPopupMouseEnter,b=Tn(e,o0e),E="".concat(r,"-dropdown"),O=o;p&&(O=p(o));var D=S.useMemo(function(){return v||s0e(m)},[v,m]),R=s?"".concat(E,"-").concat(s):l,I=typeof m=="number",M=S.useMemo(function(){return I?null:m===!1?"minWidth":"width"},[m,I]),A=c;I&&(A=ie(ie({},A),{},{width:m}));var B=S.useRef(null);return S.useImperativeHandle(n,function(){return{getPopupElement:function(){var F;return(F=B.current)===null||F===void 0?void 0:F.popupElement}}}),S.createElement(A5,tt({},b,{showAction:T?["click"]:[],hideAction:T?["click"]:[],popupPlacement:g||(d==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:D,prefixCls:E,popupTransitionName:R,popup:S.createElement("div",{onMouseEnter:w},O),ref:B,stretch:M,popupAlign:h,popupVisible:a,getPopupContainer:y,popupClassName:Se(f,J({},"".concat(E,"-empty"),C)),popupStyle:A,getTriggerDOMNode:x,onPopupVisibleChange:T}),i)},c0e=S.forwardRef(l0e);function TR(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function e9(t){return typeof t<"u"&&!Number.isNaN(t)}function fV(t,e){var n=t||{},r=n.label,a=n.value,i=n.options,o=n.groupLabel,s=r||(e?"children":"label");return{label:s,value:a||"value",options:i||"options",groupLabel:o||s}}function u0e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,a=[],i=fV(n,!1),o=i.label,s=i.value,l=i.options,c=i.groupLabel;function f(u,d){Array.isArray(u)&&u.forEach(function(g){if(d||!(l in g)){var v=g[s];a.push({key:TR(g,a.length),groupOption:d,data:g,label:g[o],value:v})}else{var m=g[c];m===void 0&&r&&(m=g.label),a.push({key:TR(g,a.length),group:!0,data:g,label:m}),f(g[l],!0)}})}return f(t,!1),a}function t9(t){var e=ie({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return jr(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var f0e=function(e,n,r){if(!n||!n.length)return null;var a=!1,i=function s(l,c){var f=yF(c),u=f[0],d=f.slice(1);if(!u)return[l];var g=l.split(u);return a=a||g.length>1,g.reduce(function(v,m){return[].concat(Ze(v),Ze(s(m,d)))},[]).filter(Boolean)},o=i(e,n);return a?typeof r<"u"?o.slice(0,r):o:null},aT=S.createContext(null);function d0e(t){var e=t.visible,n=t.values;if(!e)return null;var r=50;return S.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(a){var i=a.label,o=a.value;return["number","string"].includes(qt(i))?i:o}).join(", ")),n.length>r?", ...":null)}var g0e=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],m0e=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],n9=function(e){return e==="tags"||e==="multiple"},v0e=S.forwardRef(function(t,e){var n,r=t.id,a=t.prefixCls,i=t.className,o=t.showSearch,s=t.tagRender,l=t.direction,c=t.omitDomProps,f=t.displayValues,u=t.onDisplayValuesChange,d=t.emptyOptions,g=t.notFoundContent,v=g===void 0?"Not Found":g,m=t.onClear,p=t.mode,h=t.disabled,y=t.loading,C=t.getInputElement,x=t.getRawInputElement,T=t.open,w=t.defaultOpen,b=t.onDropdownVisibleChange,E=t.activeValue,O=t.onActiveValueChange,D=t.activeDescendantId,R=t.searchValue,I=t.autoClearSearchValue,M=t.onSearch,A=t.onSearchSplit,B=t.tokenSeparators,L=t.allowClear,F=t.suffixIcon,_=t.clearIcon,P=t.OptionList,N=t.animation,k=t.transitionName,H=t.dropdownStyle,K=t.dropdownClassName,te=t.dropdownMatchSelectWidth,se=t.dropdownRender,pe=t.dropdownAlign,ve=t.placement,Te=t.builtinPlacements,_e=t.getPopupContainer,fe=t.showAction,ce=fe===void 0?[]:fe,Ee=t.onFocus,we=t.onBlur,he=t.onKeyUp,Re=t.onKeyDown,Pe=t.onMouseDown,We=Tn(t,g0e),Me=n9(p),Je=(o!==void 0?o:Me)||p==="combobox",Be=ie({},We);m0e.forEach(function(vn){delete Be[vn]}),c==null||c.forEach(function(vn){delete Be[vn]});var z=S.useState(!1),Y=Ae(z,2),ee=Y[0],j=Y[1];S.useEffect(function(){j(nV())},[]);var oe=S.useRef(null),be=S.useRef(null),Ue=S.useRef(null),ze=S.useRef(null),at=S.useRef(null),gt=S.useRef(!1),St=Tse(),ct=Ae(St,3),et=ct[0],Ne=ct[1],ut=ct[2];S.useImperativeHandle(e,function(){var vn,Wt;return{focus:(vn=ze.current)===null||vn===void 0?void 0:vn.focus,blur:(Wt=ze.current)===null||Wt===void 0?void 0:Wt.blur,scrollTo:function(bn){var _n;return(_n=at.current)===null||_n===void 0?void 0:_n.scrollTo(bn)},nativeElement:oe.current||be.current}});var At=S.useMemo(function(){var vn;if(p!=="combobox")return R;var Wt=(vn=f[0])===null||vn===void 0?void 0:vn.value;return typeof Wt=="string"||typeof Wt=="number"?String(Wt):""},[R,p,f]),bt=p==="combobox"&&typeof C=="function"&&C()||null,Rt=typeof x=="function"&&x(),jt=xf(be,Rt==null||(n=Rt.props)===null||n===void 0?void 0:n.ref),un=S.useState(!1),Zt=Ae(un,2),Kt=Zt[0],fn=Zt[1];wr(function(){fn(!0)},[]);var en=Ha(!1,{defaultValue:w,value:T}),sn=Ae(en,2),zt=sn[0],Lt=sn[1],yt=Kt?zt:!1,lt=!v&&d;(h||lt&&yt&&p==="combobox")&&(yt=!1);var de=lt?!1:yt,ue=S.useCallback(function(vn){var Wt=vn!==void 0?vn:!yt;h||(Lt(Wt),yt!==Wt&&(b==null||b(Wt)))},[h,yt,Lt,b]),ge=S.useMemo(function(){return(B||[]).some(function(vn){return[`
`,`\r
`].includes(vn)})},[B]),Ce=S.useContext(aT)||{},Ge=Ce.maxCount,He=Ce.rawValues,pt=function(Wt,xn,bn){if(!(Me&&e9(Ge)&&(He==null?void 0:He.size)>=Ge)){var _n=!0,$n=Wt;O==null||O(null);var Gn=f0e(Wt,B,e9(Ge)?Ge-He.size:void 0),Dr=bn?null:Gn;return p!=="combobox"&&Dr&&($n="",A==null||A(Dr),ue(!1),_n=!1),M&&At!==$n&&M($n,{source:xn?"typing":"effect"}),_n}},Qe=function(Wt){!Wt||!Wt.trim()||M(Wt,{source:"submit"})};S.useEffect(function(){!yt&&!Me&&p!=="combobox"&&pt("",!1,!1)},[yt]),S.useEffect(function(){zt&&h&&Lt(!1),h&&!gt.current&&Ne(!1)},[h]);var Ke=aV(),Ye=Ae(Ke,2),ft=Ye[0],xt=Ye[1],Nt=S.useRef(!1),Pt=function(Wt){var xn=ft(),bn=Wt.key,_n=bn==="Enter";if(_n&&(p!=="combobox"&&Wt.preventDefault(),yt||ue(!0)),xt(!!At),bn==="Backspace"&&!xn&&Me&&!At&&f.length){for(var $n=Ze(f),Gn=null,Dr=$n.length-1;Dr>=0;Dr-=1){var pr=$n[Dr];if(!pr.disabled){$n.splice(Dr,1),Gn=pr;break}}Gn&&u($n,{type:"remove",values:[Gn]})}for(var Ur=arguments.length,Ar=new Array(Ur>1?Ur-1:0),Nr=1;Nr<Ur;Nr++)Ar[Nr-1]=arguments[Nr];if(yt&&(!_n||!Nt.current)){var Rr;(Rr=at.current)===null||Rr===void 0||Rr.onKeyDown.apply(Rr,[Wt].concat(Ar))}_n&&(Nt.current=!0),Re==null||Re.apply(void 0,[Wt].concat(Ar))},Ut=function(Wt){for(var xn=arguments.length,bn=new Array(xn>1?xn-1:0),_n=1;_n<xn;_n++)bn[_n-1]=arguments[_n];if(yt){var $n;($n=at.current)===null||$n===void 0||$n.onKeyUp.apply($n,[Wt].concat(bn))}Wt.key==="Enter"&&(Nt.current=!1),he==null||he.apply(void 0,[Wt].concat(bn))},Ht=function(Wt){var xn=f.filter(function(bn){return bn!==Wt});u(xn,{type:"remove",values:[Wt]})},Dt=S.useRef(!1),Mt=function(){Ne(!0),h||(Ee&&!Dt.current&&Ee.apply(void 0,arguments),ce.includes("focus")&&ue(!0)),Dt.current=!0},Bt=function(){gt.current=!0,Ne(!1,function(){Dt.current=!1,gt.current=!1,ue(!1)}),!h&&(At&&(p==="tags"?M(At,{source:"submit"}):p==="multiple"&&M("",{source:"blur"})),we&&we.apply(void 0,arguments))},Ft=[];S.useEffect(function(){return function(){Ft.forEach(function(vn){return clearTimeout(vn)}),Ft.splice(0,Ft.length)}},[]);var Ot=function(Wt){var xn,bn=Wt.target,_n=(xn=Ue.current)===null||xn===void 0?void 0:xn.getPopupElement();if(_n&&_n.contains(bn)){var $n=setTimeout(function(){var Ur=Ft.indexOf($n);if(Ur!==-1&&Ft.splice(Ur,1),ut(),!ee&&!_n.contains(document.activeElement)){var Ar;(Ar=ze.current)===null||Ar===void 0||Ar.focus()}});Ft.push($n)}for(var Gn=arguments.length,Dr=new Array(Gn>1?Gn-1:0),pr=1;pr<Gn;pr++)Dr[pr-1]=arguments[pr];Pe==null||Pe.apply(void 0,[Wt].concat(Dr))},dn=S.useState({}),rn=Ae(dn,2),pn=rn[1];function Xn(){pn({})}var Fn;Rt&&(Fn=function(Wt){ue(Wt)}),wse(function(){var vn;return[oe.current,(vn=Ue.current)===null||vn===void 0?void 0:vn.getPopupElement()]},de,ue,!!Rt);var Ct=S.useMemo(function(){return ie(ie({},t),{},{notFoundContent:v,open:yt,triggerOpen:de,id:r,showSearch:Je,multiple:Me,toggleOpen:ue})},[t,v,de,yt,r,Je,Me,ue]),$t=!!F||y,mn;$t&&(mn=S.createElement(I5,{className:Se("".concat(a,"-arrow"),J({},"".concat(a,"-arrow-loading"),y)),customizeIcon:F,customizeIconProps:{loading:y,searchValue:At,open:yt,focused:et,showSearch:Je}}));var An=function(){var Wt;m==null||m(),(Wt=ze.current)===null||Wt===void 0||Wt.focus(),u([],{type:"clear",values:f}),pt("",!1,!1)},On=Cse(a,An,f,L,_,h,At,p),jn=On.allowClear,rr=On.clearIcon,gr=S.createElement(P,{ref:at}),Ra=Se(a,i,J(J(J(J(J(J(J(J(J(J({},"".concat(a,"-focused"),et),"".concat(a,"-multiple"),Me),"".concat(a,"-single"),!Me),"".concat(a,"-allow-clear"),L),"".concat(a,"-show-arrow"),$t),"".concat(a,"-disabled"),h),"".concat(a,"-loading"),y),"".concat(a,"-open"),yt),"".concat(a,"-customize-input"),bt),"".concat(a,"-show-search"),Je)),kr=S.createElement(c0e,{ref:Ue,disabled:h,prefixCls:a,visible:de,popupElement:gr,animation:N,transitionName:k,dropdownStyle:H,dropdownClassName:K,direction:l,dropdownMatchSelectWidth:te,dropdownRender:se,dropdownAlign:pe,placement:ve,builtinPlacements:Te,getPopupContainer:_e,empty:d,getTriggerDOMNode:function(Wt){return be.current||Wt},onPopupVisibleChange:Fn,onPopupMouseEnter:Xn},Rt?S.cloneElement(Rt,{ref:jt}):S.createElement(Hse,tt({},t,{domRef:be,prefixCls:a,inputElement:bt,ref:ze,id:r,showSearch:Je,autoClearSearchValue:I,mode:p,activeDescendantId:D,tagRender:s,values:f,open:yt,onToggleOpen:ue,activeValue:E,searchValue:At,onSearch:pt,onSearchSubmit:Qe,onRemove:Ht,tokenWithEnter:ge}))),Mr;return Rt?Mr=kr:Mr=S.createElement("div",tt({className:Ra},Be,{ref:oe,onMouseDown:Ot,onKeyDown:Pt,onKeyUp:Ut,onFocus:Mt,onBlur:Bt}),S.createElement(d0e,{visible:et&&!yt,values:f}),kr,mn,jn&&rr),S.createElement(rV.Provider,{value:Ct},Mr)}),iT=function(){return null};iT.isSelectOptGroup=!0;var oT=function(){return null};oT.isSelectOption=!0;var dV=S.forwardRef(function(t,e){var n=t.height,r=t.offsetY,a=t.offsetX,i=t.children,o=t.prefixCls,s=t.onInnerResize,l=t.innerProps,c=t.rtl,f=t.extra,u={},d={display:"flex",flexDirection:"column"};return r!==void 0&&(u={height:n,position:"relative",overflow:"hidden"},d=ie(ie({},d),{},J(J(J(J(J({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-a),"position","absolute"),"left",0),"right",0),"top",0))),S.createElement("div",{style:u},S.createElement(Vs,{onResize:function(v){var m=v.offsetHeight;m&&s&&s()}},S.createElement("div",tt({style:d,className:Se(J({},"".concat(o,"-holder-inner"),o)),ref:e},l),i,f)))});dV.displayName="Filler";function p0e(t){var e=t.children,n=t.setRef,r=S.useCallback(function(a){n(a)},[]);return S.cloneElement(e,{ref:r})}function h0e(t,e,n,r,a,i,o,s){var l=s.getKey;return t.slice(e,n+1).map(function(c,f){var u=e+f,d=o(c,u,{style:{width:r},offsetX:a}),g=l(c);return S.createElement(p0e,{key:g,setRef:function(m){return i(c,m)}},d)})}function S0e(t,e,n){var r=t.length,a=e.length,i,o;if(r===0&&a===0)return null;r<a?(i=t,o=e):(i=e,o=t);var s={__EMPTY_ITEM__:!0};function l(v){return v!==void 0?n(v):s}for(var c=null,f=Math.abs(r-a)!==1,u=0;u<o.length;u+=1){var d=l(i[u]),g=l(o[u]);if(d!==g){c=u,f=f||d!==l(o[u+1]);break}}return c===null?null:{index:c,multiple:f}}function y0e(t,e,n){var r=S.useState(t),a=Ae(r,2),i=a[0],o=a[1],s=S.useState(null),l=Ae(s,2),c=l[0],f=l[1];return S.useEffect(function(){var u=S0e(i||[],t||[],e);(u==null?void 0:u.index)!==void 0&&f(t[u.index]),o(t)},[t]),[c]}var wR=(typeof navigator>"u"?"undefined":qt(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const gV=function(t,e,n,r){var a=S.useRef(!1),i=S.useRef(null);function o(){clearTimeout(i.current),a.current=!0,i.current=setTimeout(function(){a.current=!1},50)}var s=S.useRef({top:t,bottom:e,left:n,right:r});return s.current.top=t,s.current.bottom=e,s.current.left=n,s.current.right=r,function(l,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=l?c<0&&s.current.left||c>0&&s.current.right:c<0&&s.current.top||c>0&&s.current.bottom;return f&&u?(clearTimeout(i.current),a.current=!1):(!u||a.current)&&o(),!a.current&&u}};function C0e(t,e,n,r,a,i,o){var s=S.useRef(0),l=S.useRef(null),c=S.useRef(null),f=S.useRef(!1),u=gV(e,n,r,a);function d(y,C){if(ur.cancel(l.current),!u(!1,C)){var x=y;if(!x._virtualHandled)x._virtualHandled=!0;else return;s.current+=C,c.current=C,wR||x.preventDefault(),l.current=ur(function(){var T=f.current?10:1;o(s.current*T,!1),s.current=0})}}function g(y,C){o(C,!0),wR||y.preventDefault()}var v=S.useRef(null),m=S.useRef(null);function p(y){if(t){ur.cancel(m.current),m.current=ur(function(){v.current=null},2);var C=y.deltaX,x=y.deltaY,T=y.shiftKey,w=C,b=x;(v.current==="sx"||!v.current&&T&&x&&!C)&&(w=x,b=0,v.current="sx");var E=Math.abs(w),O=Math.abs(b);v.current===null&&(v.current=i&&E>O?"x":"y"),v.current==="y"?d(y,b):g(y,w)}}function h(y){t&&(f.current=y.detail===c.current)}return[p,h]}function x0e(t,e,n,r){var a=S.useMemo(function(){return[new Map,[]]},[t,n.id,r]),i=Ae(a,2),o=i[0],s=i[1],l=function(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f,d=o.get(f),g=o.get(u);if(d===void 0||g===void 0)for(var v=t.length,m=s.length;m<v;m+=1){var p,h=t[m],y=e(h);o.set(y,m);var C=(p=n.get(y))!==null&&p!==void 0?p:r;if(s[m]=(s[m-1]||0)+C,y===f&&(d=m),y===u&&(g=m),d!==void 0&&g!==void 0)break}return{top:s[d-1]||0,bottom:s[g]}};return l}var T0e=function(){function t(){ua(this,t),J(this,"maps",void 0),J(this,"id",0),this.maps=Object.create(null)}return fa(t,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function w0e(t,e,n){var r=S.useState(0),a=Ae(r,2),i=a[0],o=a[1],s=S.useRef(new Map),l=S.useRef(new T0e),c=S.useRef();function f(){ur.cancel(c.current)}function u(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;f();var v=function(){s.current.forEach(function(p,h){if(p&&p.offsetParent){var y=Im(p),C=y.offsetHeight;l.current.get(h)!==C&&l.current.set(h,y.offsetHeight)}}),o(function(p){return p+1})};g?v():c.current=ur(v)}function d(g,v){var m=t(g);s.current.get(m),v?(s.current.set(m,v),u()):s.current.delete(m)}return S.useEffect(function(){return f},[]),[d,u,l.current,i]}var bR=14/15;function b0e(t,e,n){var r=S.useRef(!1),a=S.useRef(0),i=S.useRef(0),o=S.useRef(null),s=S.useRef(null),l,c=function(g){if(r.current){var v=Math.ceil(g.touches[0].pageX),m=Math.ceil(g.touches[0].pageY),p=a.current-v,h=i.current-m,y=Math.abs(p)>Math.abs(h);y?a.current=v:i.current=m;var C=n(y,y?p:h,!1,g);C&&g.preventDefault(),clearInterval(s.current),C&&(s.current=setInterval(function(){y?p*=bR:h*=bR;var x=Math.floor(y?p:h);(!n(y,x,!0)||Math.abs(x)<=.1)&&clearInterval(s.current)},16))}},f=function(){r.current=!1,l()},u=function(g){l(),g.touches.length===1&&!r.current&&(r.current=!0,a.current=Math.ceil(g.touches[0].pageX),i.current=Math.ceil(g.touches[0].pageY),o.current=g.target,o.current.addEventListener("touchmove",c,{passive:!1}),o.current.addEventListener("touchend",f,{passive:!0}))};l=function(){o.current&&(o.current.removeEventListener("touchmove",c),o.current.removeEventListener("touchend",f))},wr(function(){return t&&e.current.addEventListener("touchstart",u,{passive:!0}),function(){var d;(d=e.current)===null||d===void 0||d.removeEventListener("touchstart",u),l(),clearInterval(s.current)}},[t])}var E0e=10;function D0e(t,e,n,r,a,i,o,s){var l=S.useRef(),c=S.useState(null),f=Ae(c,2),u=f[0],d=f[1];return wr(function(){if(u&&u.times<E0e){if(!t.current){d(function(P){return ie({},P)});return}i();var g=u.targetAlign,v=u.originAlign,m=u.index,p=u.offset,h=t.current.clientHeight,y=!1,C=g,x=null;if(h){for(var T=g||v,w=0,b=0,E=0,O=Math.min(e.length-1,m),D=0;D<=O;D+=1){var R=a(e[D]);b=w;var I=n.get(R);E=b+(I===void 0?r:I),w=E}for(var M=T==="top"?p:h-p,A=O;A>=0;A-=1){var B=a(e[A]),L=n.get(B);if(L===void 0){y=!0;break}if(M-=L,M<=0)break}switch(T){case"top":x=b-p;break;case"bottom":x=E-h+p;break;default:{var F=t.current.scrollTop,_=F+h;b<F?C="top":E>_&&(C="bottom")}}x!==null&&o(x),x!==u.lastTop&&(y=!0)}y&&d(ie(ie({},u),{},{times:u.times+1,targetAlign:C,lastTop:x}))}},[u,t.current]),function(g){if(g==null){s();return}if(ur.cancel(l.current),typeof g=="number")o(g);else if(g&&qt(g)==="object"){var v,m=g.align;"index"in g?v=g.index:v=e.findIndex(function(y){return a(y)===g.key});var p=g.offset,h=p===void 0?0:p;d({times:0,index:v,offset:h,originAlign:m})}}}function ER(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]}var DR=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.rtl,a=t.scrollOffset,i=t.scrollRange,o=t.onStartMove,s=t.onStopMove,l=t.onScroll,c=t.horizontal,f=t.spinSize,u=t.containerSize,d=t.style,g=t.thumbStyle,v=S.useState(!1),m=Ae(v,2),p=m[0],h=m[1],y=S.useState(null),C=Ae(y,2),x=C[0],T=C[1],w=S.useState(null),b=Ae(w,2),E=b[0],O=b[1],D=!r,R=S.useRef(),I=S.useRef(),M=S.useState(!1),A=Ae(M,2),B=A[0],L=A[1],F=S.useRef(),_=function(){clearTimeout(F.current),L(!0),F.current=setTimeout(function(){L(!1)},3e3)},P=i-u||0,N=u-f||0,k=S.useMemo(function(){if(a===0||P===0)return 0;var fe=a/P;return fe*N},[a,P,N]),H=function(ce){ce.stopPropagation(),ce.preventDefault()},K=S.useRef({top:k,dragging:p,pageY:x,startTop:E});K.current={top:k,dragging:p,pageY:x,startTop:E};var te=function(ce){h(!0),T(ER(ce,c)),O(K.current.top),o(),ce.stopPropagation(),ce.preventDefault()};S.useEffect(function(){var fe=function(he){he.preventDefault()},ce=R.current,Ee=I.current;return ce.addEventListener("touchstart",fe,{passive:!1}),Ee.addEventListener("touchstart",te,{passive:!1}),function(){ce.removeEventListener("touchstart",fe),Ee.removeEventListener("touchstart",te)}},[]);var se=S.useRef();se.current=P;var pe=S.useRef();pe.current=N,S.useEffect(function(){if(p){var fe,ce=function(he){var Re=K.current,Pe=Re.dragging,We=Re.pageY,Me=Re.startTop;ur.cancel(fe);var Je=R.current.getBoundingClientRect(),Be=u/(c?Je.width:Je.height);if(Pe){var z=(ER(he,c)-We)*Be,Y=Me;!D&&c?Y-=z:Y+=z;var ee=se.current,j=pe.current,oe=j?Y/j:0,be=Math.ceil(oe*ee);be=Math.max(be,0),be=Math.min(be,ee),fe=ur(function(){l(be,c)})}},Ee=function(){h(!1),s()};return window.addEventListener("mousemove",ce,{passive:!0}),window.addEventListener("touchmove",ce,{passive:!0}),window.addEventListener("mouseup",Ee,{passive:!0}),window.addEventListener("touchend",Ee,{passive:!0}),function(){window.removeEventListener("mousemove",ce),window.removeEventListener("touchmove",ce),window.removeEventListener("mouseup",Ee),window.removeEventListener("touchend",Ee),ur.cancel(fe)}}},[p]),S.useEffect(function(){return _(),function(){clearTimeout(F.current)}},[a]),S.useImperativeHandle(e,function(){return{delayHidden:_}});var ve="".concat(n,"-scrollbar"),Te={position:"absolute",visibility:B?null:"hidden"},_e={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(Te.height=8,Te.left=0,Te.right=0,Te.bottom=0,_e.height="100%",_e.width=f,D?_e.left=k:_e.right=k):(Te.width=8,Te.top=0,Te.bottom=0,D?Te.right=0:Te.left=0,_e.width="100%",_e.height=f,_e.top=k),S.createElement("div",{ref:R,className:Se(ve,J(J(J({},"".concat(ve,"-horizontal"),c),"".concat(ve,"-vertical"),!c),"".concat(ve,"-visible"),B)),style:ie(ie({},Te),d),onMouseDown:H,onMouseMove:_},S.createElement("div",{ref:I,className:Se("".concat(ve,"-thumb"),J({},"".concat(ve,"-thumb-moving"),p)),style:ie(ie({},_e),g),onMouseDown:te}))}),O0e=20;function OR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,O0e),Math.floor(n)}var R0e=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],I0e=[],A0e={overflowY:"auto",overflowAnchor:"none"};function M0e(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,a=t.className,i=t.height,o=t.itemHeight,s=t.fullHeight,l=s===void 0?!0:s,c=t.style,f=t.data,u=t.children,d=t.itemKey,g=t.virtual,v=t.direction,m=t.scrollWidth,p=t.component,h=p===void 0?"div":p,y=t.onScroll,C=t.onVirtualScroll,x=t.onVisibleChange,T=t.innerProps,w=t.extraRender,b=t.styles,E=Tn(t,R0e),O=S.useCallback(function(Dt){return typeof d=="function"?d(Dt):Dt==null?void 0:Dt[d]},[d]),D=w0e(O),R=Ae(D,4),I=R[0],M=R[1],A=R[2],B=R[3],L=!!(g!==!1&&i&&o),F=S.useMemo(function(){return Object.values(A.maps).reduce(function(Dt,Mt){return Dt+Mt},0)},[A.id,A.maps]),_=L&&f&&(Math.max(o*f.length,F)>i||!!m),P=v==="rtl",N=Se(r,J({},"".concat(r,"-rtl"),P),a),k=f||I0e,H=S.useRef(),K=S.useRef(),te=S.useRef(),se=S.useState(0),pe=Ae(se,2),ve=pe[0],Te=pe[1],_e=S.useState(0),fe=Ae(_e,2),ce=fe[0],Ee=fe[1],we=S.useState(!1),he=Ae(we,2),Re=he[0],Pe=he[1],We=function(){Pe(!0)},Me=function(){Pe(!1)},Je={getKey:O};function Be(Dt){Te(function(Mt){var Bt;typeof Dt=="function"?Bt=Dt(Mt):Bt=Dt;var Ft=Kt(Bt);return H.current.scrollTop=Ft,Ft})}var z=S.useRef({start:0,end:k.length}),Y=S.useRef(),ee=y0e(k,O),j=Ae(ee,1),oe=j[0];Y.current=oe;var be=S.useMemo(function(){if(!L)return{scrollHeight:void 0,start:0,end:k.length-1,offset:void 0};if(!_){var Dt;return{scrollHeight:((Dt=K.current)===null||Dt===void 0?void 0:Dt.offsetHeight)||0,start:0,end:k.length-1,offset:void 0}}for(var Mt=0,Bt,Ft,Ot,dn=k.length,rn=0;rn<dn;rn+=1){var pn=k[rn],Xn=O(pn),Fn=A.get(Xn),Ct=Mt+(Fn===void 0?o:Fn);Ct>=ve&&Bt===void 0&&(Bt=rn,Ft=Mt),Ct>ve+i&&Ot===void 0&&(Ot=rn),Mt=Ct}return Bt===void 0&&(Bt=0,Ft=0,Ot=Math.ceil(i/o)),Ot===void 0&&(Ot=k.length-1),Ot=Math.min(Ot+1,k.length-1),{scrollHeight:Mt,start:Bt,end:Ot,offset:Ft}},[_,L,ve,k,B,i]),Ue=be.scrollHeight,ze=be.start,at=be.end,gt=be.offset;z.current.start=ze,z.current.end=at;var St=S.useState({width:0,height:i}),ct=Ae(St,2),et=ct[0],Ne=ct[1],ut=function(Mt){Ne({width:Mt.offsetWidth,height:Mt.offsetHeight})},At=S.useRef(),bt=S.useRef(),Rt=S.useMemo(function(){return OR(et.width,m)},[et.width,m]),jt=S.useMemo(function(){return OR(et.height,Ue)},[et.height,Ue]),un=Ue-i,Zt=S.useRef(un);Zt.current=un;function Kt(Dt){var Mt=Dt;return Number.isNaN(Zt.current)||(Mt=Math.min(Mt,Zt.current)),Mt=Math.max(Mt,0),Mt}var fn=ve<=0,en=ve>=un,sn=ce<=0,zt=ce>=m,Lt=gV(fn,en,sn,zt),yt=function(){return{x:P?-ce:ce,y:ve}},lt=S.useRef(yt()),de=br(function(Dt){if(C){var Mt=ie(ie({},yt()),Dt);(lt.current.x!==Mt.x||lt.current.y!==Mt.y)&&(C(Mt),lt.current=Mt)}});function ue(Dt,Mt){var Bt=Dt;Mt?(_o.flushSync(function(){Ee(Bt)}),de()):Be(Bt)}function ge(Dt){var Mt=Dt.currentTarget.scrollTop;Mt!==ve&&Be(Mt),y==null||y(Dt),de()}var Ce=function(Mt){var Bt=Mt,Ft=m?m-et.width:0;return Bt=Math.max(Bt,0),Bt=Math.min(Bt,Ft),Bt},Ge=br(function(Dt,Mt){Mt?(_o.flushSync(function(){Ee(function(Bt){var Ft=Bt+(P?-Dt:Dt);return Ce(Ft)})}),de()):Be(function(Bt){var Ft=Bt+Dt;return Ft})}),He=C0e(L,fn,en,sn,zt,!!m,Ge),pt=Ae(He,2),Qe=pt[0],Ke=pt[1];b0e(L,H,function(Dt,Mt,Bt,Ft){var Ot=Ft;return Lt(Dt,Mt,Bt)?!1:!Ot||!Ot._virtualHandled?(Ot&&(Ot._virtualHandled=!0),Qe({preventDefault:function(){},deltaX:Dt?Mt:0,deltaY:Dt?0:Mt}),!0):!1}),wr(function(){function Dt(Bt){var Ft=fn&&Bt.detail<0,Ot=en&&Bt.detail>0;L&&!Ft&&!Ot&&Bt.preventDefault()}var Mt=H.current;return Mt.addEventListener("wheel",Qe,{passive:!1}),Mt.addEventListener("DOMMouseScroll",Ke,{passive:!0}),Mt.addEventListener("MozMousePixelScroll",Dt,{passive:!1}),function(){Mt.removeEventListener("wheel",Qe),Mt.removeEventListener("DOMMouseScroll",Ke),Mt.removeEventListener("MozMousePixelScroll",Dt)}},[L,fn,en]),wr(function(){if(m){var Dt=Ce(ce);Ee(Dt),de({x:Dt})}},[et.width,m]);var Ye=function(){var Mt,Bt;(Mt=At.current)===null||Mt===void 0||Mt.delayHidden(),(Bt=bt.current)===null||Bt===void 0||Bt.delayHidden()},ft=D0e(H,k,A,o,O,function(){return M(!0)},Be,Ye);S.useImperativeHandle(e,function(){return{nativeElement:te.current,getScrollInfo:yt,scrollTo:function(Mt){function Bt(Ft){return Ft&&qt(Ft)==="object"&&("left"in Ft||"top"in Ft)}Bt(Mt)?(Mt.left!==void 0&&Ee(Ce(Mt.left)),ft(Mt.top)):ft(Mt)}}}),wr(function(){if(x){var Dt=k.slice(ze,at+1);x(Dt,k)}},[ze,at,k]);var xt=x0e(k,O,A,o),Nt=w==null?void 0:w({start:ze,end:at,virtual:_,offsetX:ce,offsetY:gt,rtl:P,getSize:xt}),Pt=h0e(k,ze,at,m,ce,I,u,Je),Ut=null;i&&(Ut=ie(J({},l?"height":"maxHeight",i),A0e),L&&(Ut.overflowY="hidden",m&&(Ut.overflowX="hidden"),Re&&(Ut.pointerEvents="none")));var Ht={};return P&&(Ht.dir="rtl"),S.createElement("div",tt({ref:te,style:ie(ie({},c),{},{position:"relative"}),className:N},Ht,E),S.createElement(Vs,{onResize:ut},S.createElement(h,{className:"".concat(r,"-holder"),style:Ut,ref:H,onScroll:ge,onMouseEnter:Ye},S.createElement(dV,{prefixCls:r,height:Ue,offsetX:ce,offsetY:gt,scrollWidth:m,onInnerResize:M,ref:K,innerProps:T,rtl:P,extra:Nt},Pt))),_&&Ue>i&&S.createElement(DR,{ref:At,prefixCls:r,scrollOffset:ve,scrollRange:Ue,rtl:P,onScroll:ue,onStartMove:We,onStopMove:Me,spinSize:jt,containerSize:et.height,style:b==null?void 0:b.verticalScrollBar,thumbStyle:b==null?void 0:b.verticalScrollBarThumb}),_&&m>et.width&&S.createElement(DR,{ref:bt,prefixCls:r,scrollOffset:ce,scrollRange:m,rtl:P,onScroll:ue,onStartMove:We,onStopMove:Me,spinSize:Rt,containerSize:et.width,horizontal:!0,style:b==null?void 0:b.horizontalScrollBar,thumbStyle:b==null?void 0:b.horizontalScrollBarThumb}))}var M5=S.forwardRef(M0e);M5.displayName="List";function P0e(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var L0e=["disabled","title","children","style","className"];function RR(t){return typeof t=="string"||typeof t=="number"}var _0e=function(e,n){var r=xse(),a=r.prefixCls,i=r.id,o=r.open,s=r.multiple,l=r.mode,c=r.searchValue,f=r.toggleOpen,u=r.notFoundContent,d=r.onPopupScroll,g=S.useContext(aT),v=g.maxCount,m=g.flattenOptions,p=g.onActiveValue,h=g.defaultActiveFirstOption,y=g.onSelect,C=g.menuItemSelectedIcon,x=g.rawValues,T=g.fieldNames,w=g.virtual,b=g.direction,E=g.listHeight,O=g.listItemHeight,D=g.optionRender,R="".concat(a,"-item"),I=Cf(function(){return m},[o,m],function(fe,ce){return ce[0]&&fe[1]!==ce[1]}),M=S.useRef(null),A=S.useMemo(function(){return s&&e9(v)&&(x==null?void 0:x.size)>=v},[s,v,x==null?void 0:x.size]),B=function(ce){ce.preventDefault()},L=function(ce){var Ee;(Ee=M.current)===null||Ee===void 0||Ee.scrollTo(typeof ce=="number"?{index:ce}:ce)},F=function(ce){for(var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,we=I.length,he=0;he<we;he+=1){var Re=(ce+he*Ee+we)%we,Pe=I[Re]||{},We=Pe.group,Me=Pe.data;if(!We&&!(Me!=null&&Me.disabled)&&!A)return Re}return-1},_=S.useState(function(){return F(0)}),P=Ae(_,2),N=P[0],k=P[1],H=function(ce){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;k(ce);var we={source:Ee?"keyboard":"mouse"},he=I[ce];if(!he){p(null,-1,we);return}p(he.value,ce,we)};S.useEffect(function(){H(h!==!1?F(0):-1)},[I.length,c]);var K=S.useCallback(function(fe){return x.has(fe)&&l!=="combobox"},[l,Ze(x).toString(),x.size]);S.useEffect(function(){var fe=setTimeout(function(){if(!s&&o&&x.size===1){var Ee=Array.from(x)[0],we=I.findIndex(function(he){var Re=he.data;return Re.value===Ee});we!==-1&&(H(we),L(we))}});if(o){var ce;(ce=M.current)===null||ce===void 0||ce.scrollTo(void 0)}return function(){return clearTimeout(fe)}},[o,c]);var te=function(ce){ce!==void 0&&y(ce,{selected:!x.has(ce)}),s||f(!1)};if(S.useImperativeHandle(n,function(){return{onKeyDown:function(ce){var Ee=ce.which,we=ce.ctrlKey;switch(Ee){case rt.N:case rt.P:case rt.UP:case rt.DOWN:{var he=0;if(Ee===rt.UP?he=-1:Ee===rt.DOWN?he=1:P0e()&&we&&(Ee===rt.N?he=1:Ee===rt.P&&(he=-1)),he!==0){var Re=F(N+he,he);L(Re),H(Re,!0)}break}case rt.ENTER:{var Pe,We=I[N];We&&!(We!=null&&(Pe=We.data)!==null&&Pe!==void 0&&Pe.disabled)&&!A?te(We.value):te(void 0),o&&ce.preventDefault();break}case rt.ESC:f(!1),o&&ce.stopPropagation()}},onKeyUp:function(){},scrollTo:function(ce){L(ce)}}}),I.length===0)return S.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(R,"-empty"),onMouseDown:B},u);var se=Object.keys(T).map(function(fe){return T[fe]}),pe=function(ce){return ce.label};function ve(fe,ce){var Ee=fe.group;return{role:Ee?"presentation":"option",id:"".concat(i,"_list_").concat(ce)}}var Te=function(ce){var Ee=I[ce];if(!Ee)return null;var we=Ee.data||{},he=we.value,Re=Ee.group,Pe=Pi(we,!0),We=pe(Ee);return Ee?S.createElement("div",tt({"aria-label":typeof We=="string"&&!Re?We:null},Pe,{key:ce},ve(Ee,ce),{"aria-selected":K(he)}),he):null},_e={role:"listbox",id:"".concat(i,"_list")};return S.createElement(S.Fragment,null,w&&S.createElement("div",tt({},_e,{style:{height:0,width:0,overflow:"hidden"}}),Te(N-1),Te(N),Te(N+1)),S.createElement(M5,{itemKey:"key",ref:M,data:I,height:E,itemHeight:O,fullHeight:!1,onMouseDown:B,onScroll:d,virtual:w,direction:b,innerProps:w?null:_e},function(fe,ce){var Ee=fe.group,we=fe.groupOption,he=fe.data,Re=fe.label,Pe=fe.value,We=he.key;if(Ee){var Me,Je=(Me=he.title)!==null&&Me!==void 0?Me:RR(Re)?Re.toString():void 0;return S.createElement("div",{className:Se(R,"".concat(R,"-group"),he.className),title:Je},Re!==void 0?Re:We)}var Be=he.disabled,z=he.title;he.children;var Y=he.style,ee=he.className,j=Tn(he,L0e),oe=$a(j,se),be=K(Pe),Ue=Be||!be&&A,ze="".concat(R,"-option"),at=Se(R,ze,ee,J(J(J(J({},"".concat(ze,"-grouped"),we),"".concat(ze,"-active"),N===ce&&!Ue),"".concat(ze,"-disabled"),Ue),"".concat(ze,"-selected"),be)),gt=pe(fe),St=!C||typeof C=="function"||be,ct=typeof gt=="number"?gt:gt||Pe,et=RR(ct)?ct.toString():void 0;return z!==void 0&&(et=z),S.createElement("div",tt({},Pi(oe),w?{}:ve(fe,ce),{"aria-selected":be,className:at,title:et,onMouseMove:function(){N===ce||Ue||H(ce)},onClick:function(){Ue||te(Pe)},style:Y}),S.createElement("div",{className:"".concat(ze,"-content")},typeof D=="function"?D(fe,{index:ce}):ct),S.isValidElement(C)||be,St&&S.createElement(I5,{className:"".concat(R,"-option-state"),customizeIcon:C,customizeIconProps:{value:Pe,disabled:Ue,isSelected:be}},be?"✓":null))}))},N0e=S.forwardRef(_0e);const F0e=function(t,e){var n=S.useRef({values:new Map,options:new Map}),r=S.useMemo(function(){var i=n.current,o=i.values,s=i.options,l=t.map(function(u){if(u.label===void 0){var d;return ie(ie({},u),{},{label:(d=o.get(u.value))===null||d===void 0?void 0:d.label})}return u}),c=new Map,f=new Map;return l.forEach(function(u){c.set(u.value,u),f.set(u.value,e.get(u.value)||s.get(u.value))}),n.current.values=c,n.current.options=f,l},[t,e]),a=S.useCallback(function(i){return e.get(i)||n.current.options.get(i)},[e]);return[r,a]};function z4(t,e){return cV(t).join("").toUpperCase().includes(e)}const $0e=function(t,e,n,r,a){return S.useMemo(function(){if(!n||r===!1)return t;var i=e.options,o=e.label,s=e.value,l=[],c=typeof r=="function",f=n.toUpperCase(),u=c?r:function(g,v){return a?z4(v[a],f):v[i]?z4(v[o!=="children"?o:"label"],f):z4(v[s],f)},d=c?function(g){return t9(g)}:function(g){return g};return t.forEach(function(g){if(g[i]){var v=u(n,d(g));if(v)l.push(g);else{var m=g[i].filter(function(p){return u(n,d(p))});m.length&&l.push(ie(ie({},g),{},J({},i,m)))}return}u(n,d(g))&&l.push(g)}),l},[t,r,a,n,e])};var IR=0,V0e=fi();function k0e(){var t;return V0e?(t=IR,IR+=1):t="TEST_OR_SSR",t}function U0e(t){var e=S.useState(),n=Ae(e,2),r=n[0],a=n[1];return S.useEffect(function(){a("rc_select_".concat(k0e()))},[]),t||r}var B0e=["children","value"],G0e=["children"];function z0e(t){var e=t,n=e.key,r=e.props,a=r.children,i=r.value,o=Tn(r,B0e);return ie({key:n,value:i!==void 0?i:n,children:a},o)}function mV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return os(t).map(function(n,r){if(!S.isValidElement(n)||!n.type)return null;var a=n,i=a.type.isSelectOptGroup,o=a.key,s=a.props,l=s.children,c=Tn(s,G0e);return e||!i?z0e(n):ie(ie({key:"__RC_SELECT_GRP__".concat(o===null?r:o,"__"),label:o},c),{},{options:mV(l)})}).filter(function(n){return n})}var W0e=function(e,n,r,a,i){return S.useMemo(function(){var o=e,s=!e;s&&(o=mV(n));var l=new Map,c=new Map,f=function(g,v,m){m&&typeof m=="string"&&g.set(v[m],v)},u=function d(g){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=0;m<g.length;m+=1){var p=g[m];!p[r.options]||v?(l.set(p[r.value],p),f(c,p,r.label),f(c,p,a),f(c,p,i)):d(p[r.options],!0)}};return u(o),{options:o,valueOptions:l,labelOptions:c}},[e,n,r,a,i])};function AR(t){var e=S.useRef();e.current=t;var n=S.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var j0e=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],H0e=["inputValue"];function q0e(t){return!t||qt(t)!=="object"}var K0e=S.forwardRef(function(t,e){var n=t.id,r=t.mode,a=t.prefixCls,i=a===void 0?"rc-select":a,o=t.backfill,s=t.fieldNames,l=t.inputValue,c=t.searchValue,f=t.onSearch,u=t.autoClearSearchValue,d=u===void 0?!0:u,g=t.onSelect,v=t.onDeselect,m=t.dropdownMatchSelectWidth,p=m===void 0?!0:m,h=t.filterOption,y=t.filterSort,C=t.optionFilterProp,x=t.optionLabelProp,T=t.options,w=t.optionRender,b=t.children,E=t.defaultActiveFirstOption,O=t.menuItemSelectedIcon,D=t.virtual,R=t.direction,I=t.listHeight,M=I===void 0?200:I,A=t.listItemHeight,B=A===void 0?20:A,L=t.labelRender,F=t.value,_=t.defaultValue,P=t.labelInValue,N=t.onChange,k=t.maxCount,H=Tn(t,j0e),K=U0e(n),te=n9(r),se=!!(!T&&b),pe=S.useMemo(function(){return h===void 0&&r==="combobox"?!1:h},[h,r]),ve=S.useMemo(function(){return fV(s,se)},[JSON.stringify(s),se]),Te=Ha("",{value:c!==void 0?c:l,postState:function(Ce){return Ce||""}}),_e=Ae(Te,2),fe=_e[0],ce=_e[1],Ee=W0e(T,b,ve,C,x),we=Ee.valueOptions,he=Ee.labelOptions,Re=Ee.options,Pe=S.useCallback(function(ge){var Ce=cV(ge);return Ce.map(function(Ge){var He,pt,Qe,Ke,Ye;if(q0e(Ge))He=Ge;else{var ft;Qe=Ge.key,pt=Ge.label,He=(ft=Ge.value)!==null&&ft!==void 0?ft:Qe}var xt=we.get(He);if(xt){var Nt;pt===void 0&&(pt=xt==null?void 0:xt[x||ve.label]),Qe===void 0&&(Qe=(Nt=xt==null?void 0:xt.key)!==null&&Nt!==void 0?Nt:He),Ke=xt==null?void 0:xt.disabled,Ye=xt==null?void 0:xt.title}return{label:pt,value:He,key:Qe,disabled:Ke,title:Ye}})},[ve,x,we]),We=Ha(_,{value:F}),Me=Ae(We,2),Je=Me[0],Be=Me[1],z=S.useMemo(function(){var ge,Ce=te&&Je===null?[]:Je,Ge=Pe(Ce);return r==="combobox"&&Use((ge=Ge[0])===null||ge===void 0?void 0:ge.value)?[]:Ge},[Je,Pe,r,te]),Y=F0e(z,we),ee=Ae(Y,2),j=ee[0],oe=ee[1],be=S.useMemo(function(){if(!r&&j.length===1){var ge=j[0];if(ge.value===null&&(ge.label===null||ge.label===void 0))return[]}return j.map(function(Ce){var Ge;return ie(ie({},Ce),{},{label:(Ge=typeof L=="function"?L(Ce):Ce.label)!==null&&Ge!==void 0?Ge:Ce.value})})},[r,j,L]),Ue=S.useMemo(function(){return new Set(j.map(function(ge){return ge.value}))},[j]);S.useEffect(function(){if(r==="combobox"){var ge,Ce=(ge=j[0])===null||ge===void 0?void 0:ge.value;ce(kse(Ce)?String(Ce):"")}},[j]);var ze=AR(function(ge,Ce){var Ge=Ce??ge;return J(J({},ve.value,ge),ve.label,Ge)}),at=S.useMemo(function(){if(r!=="tags")return Re;var ge=Ze(Re),Ce=function(He){return we.has(He)};return Ze(j).sort(function(Ge,He){return Ge.value<He.value?-1:1}).forEach(function(Ge){var He=Ge.value;Ce(He)||ge.push(ze(He,Ge.label))}),ge},[ze,Re,we,j,r]),gt=$0e(at,ve,fe,pe,C),St=S.useMemo(function(){return r!=="tags"||!fe||gt.some(function(ge){return ge[C||"value"]===fe})||gt.some(function(ge){return ge[ve.value]===fe})?gt:[ze(fe)].concat(Ze(gt))},[ze,C,r,gt,fe,ve]),ct=function ge(Ce){var Ge=Ze(Ce).sort(function(He,pt){return y(He,pt,{searchValue:fe})});return Ge.map(function(He){return Array.isArray(He.options)?ie(ie({},He),{},{options:He.options.length>0?ge(He.options):He.options}):He})},et=S.useMemo(function(){return y?ct(St):St},[St,y,fe]),Ne=S.useMemo(function(){return u0e(et,{fieldNames:ve,childrenAsData:se})},[et,ve,se]),ut=function(Ce){var Ge=Pe(Ce);if(Be(Ge),N&&(Ge.length!==j.length||Ge.some(function(Qe,Ke){var Ye;return((Ye=j[Ke])===null||Ye===void 0?void 0:Ye.value)!==(Qe==null?void 0:Qe.value)}))){var He=P?Ge:Ge.map(function(Qe){return Qe.value}),pt=Ge.map(function(Qe){return t9(oe(Qe.value))});N(te?He:He[0],te?pt:pt[0])}},At=S.useState(null),bt=Ae(At,2),Rt=bt[0],jt=bt[1],un=S.useState(0),Zt=Ae(un,2),Kt=Zt[0],fn=Zt[1],en=E!==void 0?E:r!=="combobox",sn=S.useCallback(function(ge,Ce){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},He=Ge.source,pt=He===void 0?"keyboard":He;fn(Ce),o&&r==="combobox"&&ge!==null&&pt==="keyboard"&&jt(String(ge))},[o,r]),zt=function(Ce,Ge,He){var pt=function(){var Dt,Mt=oe(Ce);return[P?{label:Mt==null?void 0:Mt[ve.label],value:Ce,key:(Dt=Mt==null?void 0:Mt.key)!==null&&Dt!==void 0?Dt:Ce}:Ce,t9(Mt)]};if(Ge&&g){var Qe=pt(),Ke=Ae(Qe,2),Ye=Ke[0],ft=Ke[1];g(Ye,ft)}else if(!Ge&&v&&He!=="clear"){var xt=pt(),Nt=Ae(xt,2),Pt=Nt[0],Ut=Nt[1];v(Pt,Ut)}},Lt=AR(function(ge,Ce){var Ge,He=te?Ce.selected:!0;He?Ge=te?[].concat(Ze(j),[ge]):[ge]:Ge=j.filter(function(pt){return pt.value!==ge}),ut(Ge),zt(ge,He),r==="combobox"?jt(""):(!n9||d)&&(ce(""),jt(""))}),yt=function(Ce,Ge){ut(Ce);var He=Ge.type,pt=Ge.values;(He==="remove"||He==="clear")&&pt.forEach(function(Qe){zt(Qe.value,!1,He)})},lt=function(Ce,Ge){if(ce(Ce),jt(null),Ge.source==="submit"){var He=(Ce||"").trim();if(He){var pt=Array.from(new Set([].concat(Ze(Ue),[He])));ut(pt),zt(He,!0),ce("")}return}Ge.source!=="blur"&&(r==="combobox"&&ut(Ce),f==null||f(Ce))},de=function(Ce){var Ge=Ce;r!=="tags"&&(Ge=Ce.map(function(pt){var Qe=he.get(pt);return Qe==null?void 0:Qe.value}).filter(function(pt){return pt!==void 0}));var He=Array.from(new Set([].concat(Ze(Ue),Ze(Ge))));ut(He),He.forEach(function(pt){zt(pt,!0)})},ue=S.useMemo(function(){var ge=D!==!1&&p!==!1;return ie(ie({},Ee),{},{flattenOptions:Ne,onActiveValue:sn,defaultActiveFirstOption:en,onSelect:Lt,menuItemSelectedIcon:O,rawValues:Ue,fieldNames:ve,virtual:ge,direction:R,listHeight:M,listItemHeight:B,childrenAsData:se,maxCount:k,optionRender:w})},[k,Ee,Ne,sn,en,Lt,O,Ue,ve,D,p,R,M,B,se,w]);return S.createElement(aT.Provider,{value:ue},S.createElement(v0e,tt({},H,{id:K,prefixCls:i,ref:e,omitDomProps:H0e,mode:r,displayValues:be,onDisplayValuesChange:yt,direction:R,searchValue:fe,onSearch:lt,autoClearSearchValue:d,onSearchSplit:de,dropdownMatchSelectWidth:p,OptionList:N0e,emptyOptions:!Ne.length,activeValue:Rt,activeDescendantId:"".concat(K,"_list_").concat(Kt)})))}),sT=K0e;sT.Option=oT;sT.OptGroup=iT;function FS(t,e,n){return Se({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const P5=(t,e)=>e||t,Q0e=()=>{const[,t]=Ti(),n=new Pr(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return S.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},S.createElement("title",null,"empty image"),S.createElement("g",{fill:"none",fillRule:"evenodd"},S.createElement("g",{transform:"translate(24 31.67)"},S.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),S.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),S.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),S.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),S.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),S.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),S.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},S.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),S.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},X0e=()=>{const[,t]=Ti(),{colorFill:e,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:a}=t,{borderColor:i,shadowColor:o,contentColor:s}=S.useMemo(()=>({borderColor:new Pr(e).onBackground(a).toHexShortString(),shadowColor:new Pr(n).onBackground(a).toHexShortString(),contentColor:new Pr(r).onBackground(a).toHexShortString()}),[e,n,r,a]);return S.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},S.createElement("title",null,"Simple Empty"),S.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},S.createElement("ellipse",{fill:o,cx:"32",cy:"33",rx:"32",ry:"7"}),S.createElement("g",{fillRule:"nonzero",stroke:i},S.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),S.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:s}))))},Y0e=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:a,fontSize:i,lineHeight:o}=t;return{[e]:{marginInline:r,fontSize:i,lineHeight:o,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorTextDescription},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:a,color:t.colorTextDescription,[`${e}-description`]:{color:t.colorTextDescription},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDescription,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},Z0e=ta("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,a=fr(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[Y0e(a)]});var J0e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const vV=S.createElement(Q0e,null),pV=S.createElement(X0e,null),F0=t=>{var{className:e,rootClassName:n,prefixCls:r,image:a=vV,description:i,children:o,imageStyle:s,style:l}=t,c=J0e(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:f,direction:u,empty:d}=S.useContext(cn),g=f("empty",r),[v,m,p]=Z0e(g),[h]=Q1("Empty"),y=typeof i<"u"?i:h==null?void 0:h.description,C=typeof y=="string"?y:"empty";let x=null;return typeof a=="string"?x=S.createElement("img",{alt:C,src:a}):x=a,v(S.createElement("div",Object.assign({className:Se(m,p,g,d==null?void 0:d.className,{[`${g}-normal`]:a===pV,[`${g}-rtl`]:u==="rtl"},e,n),style:Object.assign(Object.assign({},d==null?void 0:d.style),l)},c),S.createElement("div",{className:`${g}-image`,style:s},x),y&&S.createElement("div",{className:`${g}-description`},y),o&&S.createElement("div",{className:`${g}-footer`},o)))};F0.PRESENTED_IMAGE_DEFAULT=vV;F0.PRESENTED_IMAGE_SIMPLE=pV;const lT=t=>{const{componentName:e}=t,{getPrefixCls:n}=S.useContext(cn),r=n("empty");switch(e){case"Table":case"List":return Oe.createElement(F0,{image:F0.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return Oe.createElement(F0,{image:F0.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return Oe.createElement(F0,null)}},cT=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,a;const{variant:i,[t]:o}=S.useContext(cn),s=S.useContext(Ioe),l=o==null?void 0:o.variant;let c;typeof e<"u"?c=e:n===!1?c="borderless":c=(a=(r=s??l)!==null&&r!==void 0?r:i)!==null&&a!==void 0?a:"outlined";const f=Dte.includes(c);return[c,f]},ele=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function tle(t,e){return t||ele(e)}const MR=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:a}=t;return{position:"relative",display:"block",minHeight:e,padding:a,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},nle=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,a=`&${e}-slide-up-enter${e}-slide-up-enter-active`,i=`&${e}-slide-up-appear${e}-slide-up-appear-active`,o=`&${e}-slide-up-leave${e}-slide-up-leave-active`,s=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},aa(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${a}${s}bottomLeft,
          ${i}${s}bottomLeft
        `]:{animationName:j7},[`
          ${a}${s}topLeft,
          ${i}${s}topLeft,
          ${a}${s}topRight,
          ${i}${s}topRight
        `]:{animationName:q7},[`${o}${s}bottomLeft`]:{animationName:H7},[`
          ${o}${s}topLeft,
          ${o}${s}topRight
        `]:{animationName:K7},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},MR(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},nf),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary},[`&:has(+ ${r}-option-selected:not(${r}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${r}-option-selected:not(${r}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},MR(t)),{color:t.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},x1(t,"slide-up"),x1(t,"slide-down"),LS(t,"move-up"),LS(t,"move-down")]},rle=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:a}=t,i=t.max(t.calc(n).sub(r).equal(),0),o=t.max(t.calc(i).sub(a).equal(),0);return{basePadding:i,containerPadding:o,itemHeight:xe(e),itemLineHeight:xe(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},ale=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()},ile=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:r,motionDurationSlow:a,paddingXS:i,multipleItemColorDisabled:o,multipleItemBorderColorDisabled:s,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:f}=t;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:f,borderRadius:r,cursor:"default",transition:`font-size ${a}, line-height ${a}, height ${a}`,marginInlineEnd:t.calc(f).mul(2).equal(),paddingInlineStart:i,paddingInlineEnd:t.calc(i).div(2).equal(),[`${e}-disabled&`]:{color:o,borderColor:s,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(i).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},h5()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},ole=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=t,a=`${n}-selection-overflow`,i=t.multipleSelectItemHeight,o=ale(t),s=e?`${n}-${e}`:"",l=rle(t);return{[`${n}-multiple${s}`]:Object.assign(Object.assign({},ile(t)),{[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:t.borderRadius,[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${xe(r)} 0`,lineHeight:xe(i),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:xe(l.itemLineHeight)},[`${a}-item + ${a}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${a}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(o).equal(),"\n          &-input,\n          &-mirror\n        ":{height:i,fontFamily:t.fontFamily,lineHeight:xe(i),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}})}};function W4(t,e){const{componentCls:n}=t,r=e?`${n}-${e}`:"",a={[`${n}-multiple${r}`]:{fontSize:t.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[ole(t,e),a]}const sle=t=>{const{componentCls:e}=t,n=fr(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=fr(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[W4(t),W4(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},W4(r,"lg")]};function j4(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:a,fontSizeIcon:i}=t,o=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),s=t.calc(r).add(i).equal(),l=e?`${n}-${e}`:"";return{[`${n}-single${l}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},aa(t,!0)),{display:"flex",borderRadius:a,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:xe(s),bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:xe(o),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${xe(r)}`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:xe(o)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${xe(r)}`,"&:after":{display:"none"}}}}}}}function lle(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[j4(t),j4(fr(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${e}-selector`]:{padding:`0 ${xe(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},j4(fr(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const cle=t=>{const{fontSize:e,lineHeight:n,lineWidth:r,controlHeight:a,controlHeightSM:i,controlHeightLG:o,paddingXXS:s,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:f,fontWeightStrong:u,controlItemBgActive:d,controlItemBgHover:g,colorBgContainer:v,colorFillSecondary:m,colorBgContainerDisabled:p,colorTextDisabled:h,colorPrimaryHover:y,colorPrimary:C,controlOutline:x}=t,T=s*2,w=r*2,b=Math.min(a-T,a-w),E=Math.min(i-T,i-w),O=Math.min(o-T,o-w);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(s/2),zIndexPopup:c+50,optionSelectedColor:f,optionSelectedFontWeight:u,optionSelectedBg:d,optionActiveBg:g,optionPadding:`${(a-e*n)/2}px ${l}px`,optionFontSize:e,optionLineHeight:n,optionHeight:a,selectorBg:v,clearBg:v,singleItemHeightLG:o,multipleItemBg:m,multipleItemBorderColor:"transparent",multipleItemHeight:b,multipleItemHeightSM:E,multipleItemHeightLG:O,multipleSelectorBgDisabled:p,multipleItemColorDisabled:h,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25),hoverBorderColor:y,activeBorderColor:C,activeOutlineColor:x}},hV=(t,e)=>{const{componentCls:n,antCls:r,controlOutlineWidth:a}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${xe(t.lineWidth)} ${t.lineType} ${e.borderColor}`,background:t.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${xe(a)} ${e.activeOutlineColor}`,outline:0}}}},PR=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},hV(t,e))}),ule=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},hV(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor})),PR(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline})),PR(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${xe(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),SV=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:e.bg,border:`${xe(t.lineWidth)} ${t.lineType} transparent`,color:e.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:e.hoverBg},[`${n}-focused& ${n}-selector`]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},LR=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},SV(t,e))}),fle=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},SV(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor,color:t.colorText})),LR(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),LR(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.colorBgContainer,border:`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}})}),dle=t=>({"&-borderless":{[`${t.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${xe(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`},[`&${t.componentCls}-status-error`]:{[`${t.componentCls}-selection-item`]:{color:t.colorError}},[`&${t.componentCls}-status-warning`]:{[`${t.componentCls}-selection-item`]:{color:t.colorWarning}}}}),gle=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign({},ule(t)),fle(t)),dle(t))}),mle=t=>{const{componentCls:e}=t;return{position:"relative",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},vle=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},ple=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:a}=t;return{[n]:Object.assign(Object.assign({},aa(t)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},mle(t)),vle(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},nf),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},nf),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},h5()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${t.motionDurationSlow} ease`,[a]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},[`&:hover ${n}-clear`]:{opacity:1,background:t.colorBgBase,borderRadius:"50%"}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}},hle=t=>{const{componentCls:e}=t;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},ple(t),lle(t),sle(t),nle(t),{[`${e}-rtl`]:{direction:"rtl"}},tT(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},Sle=ta("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=fr(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[hle(r),gle(r)]},cle,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var yle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},Cle=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:yle}))},yV=S.forwardRef(Cle),xle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},Tle=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:xle}))},CV=S.forwardRef(Tle),wle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},ble=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:wle}))},uT=S.forwardRef(ble);function Ele(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:a,loading:i,multiple:o,hasFeedback:s,prefixCls:l,showSuffixIcon:c,feedbackIcon:f,showArrow:u,componentName:d}=t;const g=n??S.createElement(up,null),v=y=>e===null&&!s&&!u?null:S.createElement(S.Fragment,null,c!==!1&&y,s&&f);let m=null;if(e!==void 0)m=v(e);else if(i)m=v(S.createElement(y1,{spin:!0}));else{const y=`${l}-suffix`;m=C=>{let{open:x,showSearch:T}=C;return v(x&&T?S.createElement(uT,{className:y}):S.createElement(CV,{className:y}))}}let p=null;r!==void 0?p=r:o?p=S.createElement(yV,null):p=null;let h=null;return a!==void 0?h=a:h=S.createElement(Y1,null),{clearIcon:g,suffixIcon:m,itemIcon:p,removeIcon:h}}function Dle(t,e){return e!==void 0?e:t!==null}var Ole=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const xV="SECRET_COMBOBOX_MODE_DO_NOT_USE",Rle=(t,e)=>{var n;const{prefixCls:r,bordered:a,className:i,rootClassName:o,getPopupContainer:s,popupClassName:l,dropdownClassName:c,listHeight:f=256,placement:u,listItemHeight:d,size:g,disabled:v,notFoundContent:m,status:p,builtinPlacements:h,dropdownMatchSelectWidth:y,popupMatchSelectWidth:C,direction:x,style:T,allowClear:w,variant:b,dropdownStyle:E,transitionName:O,tagRender:D,maxCount:R}=t,I=Ole(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:M,getPrefixCls:A,renderEmpty:B,direction:L,virtual:F,popupMatchSelectWidth:_,popupOverflow:P,select:N}=S.useContext(cn),[,k]=Ti(),H=d??(k==null?void 0:k.controlHeight),K=A("select",r),te=A(),se=x??L,{compactSize:pe,compactItemClassnames:ve}=gp(K,se),[Te,_e]=cT("select",b,a),fe=Xi(K),[ce,Ee,we]=Sle(K,fe),he=S.useMemo(()=>{const{mode:bt}=t;if(bt!=="combobox")return bt===xV?"combobox":bt},[t.mode]),Re=he==="multiple"||he==="tags",Pe=Dle(t.suffixIcon,t.showArrow),We=(n=C??y)!==null&&n!==void 0?n:_,{status:Me,hasFeedback:Je,isFormItemInput:Be,feedbackIcon:z}=S.useContext(Ns),Y=P5(Me,p);let ee;m!==void 0?ee=m:he==="combobox"?ee=null:ee=(B==null?void 0:B("Select"))||S.createElement(lT,{componentName:"Select"});const{suffixIcon:j,itemIcon:oe,removeIcon:be,clearIcon:Ue}=Ele(Object.assign(Object.assign({},I),{multiple:Re,hasFeedback:Je,feedbackIcon:z,showSuffixIcon:Pe,prefixCls:K,componentName:"Select"})),ze=w===!0?{clearIcon:Ue}:w,at=$a(I,["suffixIcon","itemIcon"]),gt=Se(l||c,{[`${K}-dropdown-${se}`]:se==="rtl"},o,we,fe,Ee),St=Us(bt=>{var Rt;return(Rt=g??pe)!==null&&Rt!==void 0?Rt:bt}),ct=S.useContext(ls),et=v??ct,Ne=Se({[`${K}-lg`]:St==="large",[`${K}-sm`]:St==="small",[`${K}-rtl`]:se==="rtl",[`${K}-${Te}`]:_e,[`${K}-in-form-item`]:Be},FS(K,Y,Je),ve,N==null?void 0:N.className,i,o,we,fe,Ee),ut=S.useMemo(()=>u!==void 0?u:se==="rtl"?"bottomRight":"bottomLeft",[u,se]),[At]=fp("SelectLike",E==null?void 0:E.zIndex);return ce(S.createElement(sT,Object.assign({ref:e,virtual:F,showSearch:N==null?void 0:N.showSearch},at,{style:Object.assign(Object.assign({},N==null?void 0:N.style),T),dropdownMatchSelectWidth:We,transitionName:C1(te,"slide-up",O),builtinPlacements:tle(h,P),listHeight:f,listItemHeight:H,mode:he,prefixCls:K,placement:ut,direction:se,suffixIcon:j,menuItemSelectedIcon:oe,removeIcon:be,allowClear:ze,notFoundContent:ee,className:Ne,getPopupContainer:s||M,dropdownClassName:gt,disabled:et,dropdownStyle:Object.assign(Object.assign({},E),{zIndex:At}),maxCount:Re?R:void 0,tagRender:Re?D:void 0})))},fl=S.forwardRef(Rle),Ile=tV(fl);fl.SECRET_COMBOBOX_MODE_DO_NOT_USE=xV;fl.Option=oT;fl.OptGroup=iT;fl._InternalPanelDoNotUseOrYouWillBeFired=Ile;const af=["xxl","xl","lg","md","sm","xs"],Ale=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),Mle=t=>{const e=t,n=[].concat(af).reverse();return n.forEach((r,a)=>{const i=r.toUpperCase(),o=`screen${i}Min`,s=`screen${i}`;if(!(e[o]<=e[s]))throw new Error(`${o}<=${s} fails : !(${e[o]}<=${e[s]})`);if(a<n.length-1){const l=`screen${i}Max`;if(!(e[s]<=e[l]))throw new Error(`${s}<=${l} fails : !(${e[s]}<=${e[l]})`);const f=`screen${n[a+1].toUpperCase()}Min`;if(!(e[l]<=e[f]))throw new Error(`${l}<=${f} fails : !(${e[l]}<=${e[f]})`)}}),t};function TV(){const[,t]=Ti(),e=Ale(Mle(t));return Oe.useMemo(()=>{const n=new Map;let r=-1,a={};return{matchHandlers:{},dispatch(i){return a=i,n.forEach(o=>o(a)),n.size>=1},subscribe(i){return n.size||this.register(),r+=1,n.set(r,i),i(a),r},unsubscribe(i){n.delete(i),n.size||this.unregister()},unregister(){Object.keys(e).forEach(i=>{const o=e[i],s=this.matchHandlers[o];s==null||s.mql.removeListener(s==null?void 0:s.listener)}),n.clear()},register(){Object.keys(e).forEach(i=>{const o=e[i],s=c=>{let{matches:f}=c;this.dispatch(Object.assign(Object.assign({},a),{[i]:f}))},l=window.matchMedia(o);l.addListener(s),this.matchHandlers[o]={mql:l,listener:s},s(l)})},responsiveMap:e}},[t])}function fT(){const[,t]=S.useReducer(e=>e+1,0);return t}function dT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=S.useRef({}),n=fT(),r=TV();return wr(()=>{const a=r.subscribe(i=>{e.current=i,t&&n()});return()=>r.unsubscribe(a)},[]),e.current}function wV(t){var e=t.children,n=t.prefixCls,r=t.id,a=t.overlayInnerStyle,i=t.className,o=t.style;return S.createElement("div",{className:Se("".concat(n,"-content"),i),style:o},S.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:a},typeof e=="function"?e():e))}var Vf={shiftX:64,adjustY:1},kf={adjustX:1,shiftY:!0},jo=[0,0],Ple={left:{points:["cr","cl"],overflow:kf,offset:[-4,0],targetOffset:jo},right:{points:["cl","cr"],overflow:kf,offset:[4,0],targetOffset:jo},top:{points:["bc","tc"],overflow:Vf,offset:[0,-4],targetOffset:jo},bottom:{points:["tc","bc"],overflow:Vf,offset:[0,4],targetOffset:jo},topLeft:{points:["bl","tl"],overflow:Vf,offset:[0,-4],targetOffset:jo},leftTop:{points:["tr","tl"],overflow:kf,offset:[-4,0],targetOffset:jo},topRight:{points:["br","tr"],overflow:Vf,offset:[0,-4],targetOffset:jo},rightTop:{points:["tl","tr"],overflow:kf,offset:[4,0],targetOffset:jo},bottomRight:{points:["tr","br"],overflow:Vf,offset:[0,4],targetOffset:jo},rightBottom:{points:["bl","br"],overflow:kf,offset:[4,0],targetOffset:jo},bottomLeft:{points:["tl","bl"],overflow:Vf,offset:[0,4],targetOffset:jo},leftBottom:{points:["br","bl"],overflow:kf,offset:[-4,0],targetOffset:jo}},Lle=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],_le=function(e,n){var r=e.overlayClassName,a=e.trigger,i=a===void 0?["hover"]:a,o=e.mouseEnterDelay,s=o===void 0?0:o,l=e.mouseLeaveDelay,c=l===void 0?.1:l,f=e.overlayStyle,u=e.prefixCls,d=u===void 0?"rc-tooltip":u,g=e.children,v=e.onVisibleChange,m=e.afterVisibleChange,p=e.transitionName,h=e.animation,y=e.motion,C=e.placement,x=C===void 0?"right":C,T=e.align,w=T===void 0?{}:T,b=e.destroyTooltipOnHide,E=b===void 0?!1:b,O=e.defaultVisible,D=e.getTooltipContainer,R=e.overlayInnerStyle;e.arrowContent;var I=e.overlay,M=e.id,A=e.showArrow,B=A===void 0?!0:A,L=Tn(e,Lle),F=S.useRef(null);S.useImperativeHandle(n,function(){return F.current});var _=ie({},L);"visible"in e&&(_.popupVisible=e.visible);var P=function(){return S.createElement(wV,{key:"content",prefixCls:d,id:M,overlayInnerStyle:R},I)};return S.createElement(A5,tt({popupClassName:r,prefixCls:d,popup:P,action:i,builtinPlacements:Ple,popupPlacement:x,ref:F,popupAlign:w,getPopupContainer:D,onPopupVisibleChange:v,afterPopupVisibleChange:m,popupTransitionName:p,popupAnimation:h,popupMotion:y,defaultPopupVisible:O,autoDestroy:E,mouseLeaveDelay:c,popupStyle:f,mouseEnterDelay:s,arrow:B},_),g)};const Nle=S.forwardRef(_le);function bV(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,a=e/2,i=0,o=a,s=r*1/Math.sqrt(2),l=a-r*(1-1/Math.sqrt(2)),c=a-n*(1/Math.sqrt(2)),f=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*a-c,d=f,g=2*a-s,v=l,m=2*a-i,p=o,h=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),y=r*(Math.sqrt(2)-1),C=`polygon(${y}px 100%, 50% ${y}px, ${2*a-y}px 100%, ${y}px 100%)`,x=`path('M ${i} ${o} A ${r} ${r} 0 0 0 ${s} ${l} L ${c} ${f} A ${n} ${n} 0 0 1 ${u} ${d} L ${g} ${v} A ${r} ${r} 0 0 0 ${m} ${p} Z')`;return{arrowShadowWidth:h,arrowPath:x,arrowPolygon:C}}const Fle=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:a,arrowPath:i,arrowShadowWidth:o,borderRadiusXS:s,calc:l}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[a,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:o,height:o,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${xe(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},EV=8;function gT(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?EV:r}}function vh(t,e){return t?e:{}}function DV(t,e,n){const{componentCls:r,boxShadowPopoverArrow:a,arrowOffsetVertical:i,arrowOffsetHorizontal:o}=t,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Fle(t,e,a)),{"&:before":{background:e}})]},vh(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":o,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:o}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${xe(o)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:o}}}})),vh(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":o,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:o}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${xe(o)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:o}}}})),vh(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:i},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:i}})),vh(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:i},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:i}}))}}function $le(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const a=r&&typeof r=="object"?r:{},i={};switch(t){case"top":case"bottom":i.shiftX=e.arrowOffsetHorizontal*2+n,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=e.arrowOffsetVertical*2+n,i.shiftX=!0,i.adjustX=!0;break}const o=Object.assign(Object.assign({},i),a);return o.shiftX||(o.adjustX=!0),o.shiftY||(o.adjustY=!0),o}const _R={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Vle={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},kle=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function OV(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:a,borderRadius:i,visibleFirst:o}=t,s=e/2,l={};return Object.keys(_R).forEach(c=>{const f=r&&Vle[c]||_R[c],u=Object.assign(Object.assign({},f),{offset:[0,0],dynamicInset:!0});switch(l[c]=u,kle.has(c)&&(u.autoArrow=!1),c){case"top":case"topLeft":case"topRight":u.offset[1]=-s-a;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=s+a;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-s-a;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=s+a;break}const d=gT({contentRadius:i,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":u.offset[1]=-d.arrowOffsetHorizontal*2+s;break;case"leftBottom":case"rightBottom":u.offset[1]=d.arrowOffsetHorizontal*2-s;break}u.overflow=$le(c,d,e,n),o&&(u.htmlRegion="visibleFirst")}),l}const Ule=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:a,tooltipBorderRadius:i,zIndexPopup:o,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:f}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},aa(t)),{position:"absolute",zIndex:o,display:"block",width:"max-content",maxWidth:n,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":a,[`${e}-inner`]:{minWidth:"1em",minHeight:s,padding:`${xe(t.calc(c).div(2).equal())} ${xe(f)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:a,borderRadius:i,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:t.min(i,EV)}},[`${e}-content`]:{position:"relative"}}),Jte(t,(u,d)=>{let{darkColor:g}=d;return{[`&${e}-${u}`]:{[`${e}-inner`]:{backgroundColor:g},[`${e}-arrow`]:{"--antd-arrow-background-color":g}}}})),{"&-rtl":{direction:"rtl"}})},DV(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},Ble=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},gT({contentRadius:t.borderRadius,limitVerticalRadius:!0})),bV(fr(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),RV=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ta("Tooltip",r=>{const{borderRadius:a,colorTextLightSolid:i,colorBgSpotlight:o}=r,s=fr(r,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:a,tooltipBg:o});return[Ule(s),E5(r,"zoom-big-fast")]},Ble,{resetStyle:!1,injectStyle:e})(t)},Gle=IS.map(t=>`${t}-inverse`);function zle(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Ze(Gle),Ze(IS)).includes(t):IS.includes(t)}function IV(t,e){const n=zle(e),r=Se({[`${t}-${e}`]:e&&n}),a={},i={};return e&&!n&&(a.background=e,i["--antd-arrow-background-color"]=e),{className:r,overlayStyle:a,arrowStyle:i}}const Wle=t=>{const{prefixCls:e,className:n,placement:r="top",title:a,color:i,overlayInnerStyle:o}=t,{getPrefixCls:s}=S.useContext(cn),l=s("tooltip",e),[c,f,u]=RV(l),d=IV(l,i),g=d.arrowStyle,v=Object.assign(Object.assign({},o),d.overlayStyle),m=Se(f,u,l,`${l}-pure`,`${l}-placement-${r}`,n,d.className);return c(S.createElement("div",{className:m,style:g},S.createElement("div",{className:`${l}-arrow`}),S.createElement(wV,Object.assign({},t,{className:f,prefixCls:l,overlayInnerStyle:v}),a)))};var jle=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Hle=S.forwardRef((t,e)=>{var n,r;const{prefixCls:a,openClassName:i,getTooltipContainer:o,overlayClassName:s,color:l,overlayInnerStyle:c,children:f,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:g,arrow:v=!0,title:m,overlay:p,builtinPlacements:h,arrowPointAtCenter:y=!1,autoAdjustOverflow:C=!0}=t,x=!!v,[,T]=Ti(),{getPopupContainer:w,getPrefixCls:b,direction:E}=S.useContext(cn),O=Tf(),D=S.useRef(null),R=()=>{var ee;(ee=D.current)===null||ee===void 0||ee.forceAlign()};S.useImperativeHandle(e,()=>{var ee;return{forceAlign:R,forcePopupAlign:()=>{O.deprecated(!1,"forcePopupAlign","forceAlign"),R()},nativeElement:(ee=D.current)===null||ee===void 0?void 0:ee.nativeElement}});const[I,M]=Ha(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),A=!m&&!p&&m!==0,B=ee=>{var j,oe;M(A?!1:ee),A||((j=t.onOpenChange)===null||j===void 0||j.call(t,ee),(oe=t.onVisibleChange)===null||oe===void 0||oe.call(t,ee))},L=S.useMemo(()=>{var ee,j;let oe=y;return typeof v=="object"&&(oe=(j=(ee=v.pointAtCenter)!==null&&ee!==void 0?ee:v.arrowPointAtCenter)!==null&&j!==void 0?j:y),h||OV({arrowPointAtCenter:oe,autoAdjustOverflow:C,arrowWidth:x?T.sizePopupArrow:0,borderRadius:T.borderRadius,offset:T.marginXXS,visibleFirst:!0})},[y,v,h,T]),F=S.useMemo(()=>m===0?m:p||m||"",[p,m]),_=S.createElement(Pv,{space:!0},typeof F=="function"?F():F),{getPopupContainer:P,placement:N="top",mouseEnterDelay:k=.1,mouseLeaveDelay:H=.1,overlayStyle:K,rootClassName:te}=t,se=jle(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),pe=b("tooltip",a),ve=b(),Te=t["data-popover-inject"];let _e=I;!("open"in t)&&!("visible"in t)&&A&&(_e=!1);const fe=S.isValidElement(f)&&!i$(f)?f:S.createElement("span",null,f),ce=fe.props,Ee=!ce.className||typeof ce.className=="string"?Se(ce.className,i||`${pe}-open`):ce.className,[we,he,Re]=RV(pe,!Te),Pe=IV(pe,l),We=Pe.arrowStyle,Me=Object.assign(Object.assign({},c),Pe.overlayStyle),Je=Se(s,{[`${pe}-rtl`]:E==="rtl"},Pe.className,te,he,Re),[Be,z]=fp("Tooltip",se.zIndex),Y=S.createElement(Nle,Object.assign({},se,{zIndex:Be,showArrow:x,placement:N,mouseEnterDelay:k,mouseLeaveDelay:H,prefixCls:pe,overlayClassName:Je,overlayStyle:Object.assign(Object.assign({},We),K),getTooltipContainer:P||o||w,ref:D,builtinPlacements:L,overlay:_,visible:_e,onVisibleChange:B,afterVisibleChange:u??d,overlayInnerStyle:Me,arrowContent:S.createElement("span",{className:`${pe}-arrow-content`}),motion:{motionName:C1(ve,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!g}),_e?Hi(fe,{className:Ee}):fe);return we(S.createElement(S5.Provider,{value:z},Y))}),of=Hle;of._InternalPanelDoNotUseOrYouWillBeFired=Wle;var qle=rt.ESC,Kle=rt.TAB;function Qle(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,a=t.autoFocus,i=t.overlayRef,o=S.useRef(!1),s=function(){if(e){var u,d;(u=n.current)===null||u===void 0||(d=u.focus)===null||d===void 0||d.call(u),r==null||r(!1)}},l=function(){var u;return(u=i.current)!==null&&u!==void 0&&u.focus?(i.current.focus(),o.current=!0,!0):!1},c=function(u){switch(u.keyCode){case qle:s();break;case Kle:{var d=!1;o.current||(d=l()),d?u.preventDefault():s();break}}};S.useEffect(function(){return e?(window.addEventListener("keydown",c),a&&ur(l,3),function(){window.removeEventListener("keydown",c),o.current=!1}):function(){o.current=!1}},[e])}var Xle=S.forwardRef(function(t,e){var n=t.overlay,r=t.arrow,a=t.prefixCls,i=S.useMemo(function(){var s;return typeof n=="function"?s=n():s=n,s},[n]),o=Vo(e,i==null?void 0:i.ref);return Oe.createElement(Oe.Fragment,null,r&&Oe.createElement("div",{className:"".concat(a,"-arrow")}),Oe.cloneElement(i,{ref:s0(i)?o:void 0}))}),Uf={adjustX:1,adjustY:1},Bf=[0,0],Yle={topLeft:{points:["bl","tl"],overflow:Uf,offset:[0,-4],targetOffset:Bf},top:{points:["bc","tc"],overflow:Uf,offset:[0,-4],targetOffset:Bf},topRight:{points:["br","tr"],overflow:Uf,offset:[0,-4],targetOffset:Bf},bottomLeft:{points:["tl","bl"],overflow:Uf,offset:[0,4],targetOffset:Bf},bottom:{points:["tc","bc"],overflow:Uf,offset:[0,4],targetOffset:Bf},bottomRight:{points:["tr","br"],overflow:Uf,offset:[0,4],targetOffset:Bf}},Zle=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Jle(t,e){var n,r=t.arrow,a=r===void 0?!1:r,i=t.prefixCls,o=i===void 0?"rc-dropdown":i,s=t.transitionName,l=t.animation,c=t.align,f=t.placement,u=f===void 0?"bottomLeft":f,d=t.placements,g=d===void 0?Yle:d,v=t.getPopupContainer,m=t.showAction,p=t.hideAction,h=t.overlayClassName,y=t.overlayStyle,C=t.visible,x=t.trigger,T=x===void 0?["hover"]:x,w=t.autoFocus,b=t.overlay,E=t.children,O=t.onVisibleChange,D=Tn(t,Zle),R=Oe.useState(),I=Ae(R,2),M=I[0],A=I[1],B="visible"in t?C:M,L=Oe.useRef(null),F=Oe.useRef(null),_=Oe.useRef(null);Oe.useImperativeHandle(e,function(){return L.current});var P=function(Te){A(Te),O==null||O(Te)};Qle({visible:B,triggerRef:_,onVisibleChange:P,autoFocus:w,overlayRef:F});var N=function(Te){var _e=t.onOverlayClick;A(!1),_e&&_e(Te)},k=function(){return Oe.createElement(Xle,{ref:F,overlay:b,prefixCls:o,arrow:a})},H=function(){return typeof b=="function"?k:k()},K=function(){var Te=t.minOverlayWidthMatchTrigger,_e=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?Te:!_e},te=function(){var Te=t.openClassName;return Te!==void 0?Te:"".concat(o,"-open")},se=Oe.cloneElement(E,{className:Se((n=E.props)===null||n===void 0?void 0:n.className,B&&te()),ref:s0(E)?Vo(_,E.ref):void 0}),pe=p;return!pe&&T.indexOf("contextMenu")!==-1&&(pe=["click"]),Oe.createElement(A5,tt({builtinPlacements:g},D,{prefixCls:o,ref:L,popupClassName:Se(h,J({},"".concat(o,"-show-arrow"),a)),popupStyle:y,action:T,showAction:m,hideAction:pe,popupPlacement:u,popupAlign:c,popupTransitionName:s,popupAnimation:l,popupVisible:B,stretch:K()?"minWidth":"",popup:H(),onPopupVisibleChange:P,onPopupClick:N,getPopupContainer:v}),se)}const ece=Oe.forwardRef(Jle);var AV=S.createContext(null);function MV(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function PV(t){var e=S.useContext(AV);return MV(e,t)}var tce=["children","locked"],Fs=S.createContext(null);function nce(t,e){var n=ie({},t);return Object.keys(e).forEach(function(r){var a=e[r];a!==void 0&&(n[r]=a)}),n}function _v(t){var e=t.children,n=t.locked,r=Tn(t,tce),a=S.useContext(Fs),i=Cf(function(){return nce(a,r)},[a,r],function(o,s){return!n&&(o[0]!==s[0]||!_s(o[1],s[1],!0))});return S.createElement(Fs.Provider,{value:i},e)}var rce=[],LV=S.createContext(null);function L5(){return S.useContext(LV)}var _V=S.createContext(rce);function eg(t){var e=S.useContext(_V);return S.useMemo(function(){return t!==void 0?[].concat(Ze(e),[t]):e},[e,t])}var NV=S.createContext(null),mT=S.createContext({});function NR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(C5(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),a=t.getAttribute("tabindex"),i=Number(a),o=null;return a&&!Number.isNaN(i)?o=i:r&&o===null&&(o=0),r&&t.disabled&&(o=null),o!==null&&(o>=0||e&&o<0)}return!1}function ace(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Ze(t.querySelectorAll("*")).filter(function(r){return NR(r,e)});return NR(t,e)&&n.unshift(t),n}var r9=rt.LEFT,a9=rt.RIGHT,i9=rt.UP,T2=rt.DOWN,w2=rt.ENTER,FV=rt.ESC,_g=rt.HOME,Ng=rt.END,FR=[i9,T2,r9,a9];function ice(t,e,n,r){var a,i="prev",o="next",s="children",l="parent";if(t==="inline"&&r===w2)return{inlineTrigger:!0};var c=J(J({},i9,i),T2,o),f=J(J(J(J({},r9,n?o:i),a9,n?i:o),T2,s),w2,s),u=J(J(J(J(J(J({},i9,i),T2,o),w2,s),FV,l),r9,n?s:l),a9,n?l:s),d={inline:c,horizontal:f,vertical:u,inlineSub:c,horizontalSub:u,verticalSub:u},g=(a=d["".concat(t).concat(e?"":"Sub")])===null||a===void 0?void 0:a[r];switch(g){case i:return{offset:-1,sibling:!0};case o:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}function oce(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function sce(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function vT(t,e){var n=ace(t,!0);return n.filter(function(r){return e.has(r)})}function $R(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var a=vT(t,e),i=a.length,o=a.findIndex(function(s){return n===s});return r<0?o===-1?o=i-1:o-=1:r>0&&(o+=1),o=(o+i)%i,a[o]}var o9=function(e,n){var r=new Set,a=new Map,i=new Map;return e.forEach(function(o){var s=document.querySelector("[data-menu-id='".concat(MV(n,o),"']"));s&&(r.add(s),i.set(s,o),a.set(o,s))}),{elements:r,key2element:a,element2key:i}};function lce(t,e,n,r,a,i,o,s,l,c){var f=S.useRef(),u=S.useRef();u.current=e;var d=function(){ur.cancel(f.current)};return S.useEffect(function(){return function(){d()}},[]),function(g){var v=g.which;if([].concat(FR,[w2,FV,_g,Ng]).includes(v)){var m=i(),p=o9(m,r),h=p,y=h.elements,C=h.key2element,x=h.element2key,T=C.get(e),w=sce(T,y),b=x.get(w),E=ice(t,o(b,!0).length===1,n,v);if(!E&&v!==_g&&v!==Ng)return;(FR.includes(v)||[_g,Ng].includes(v))&&g.preventDefault();var O=function(F){if(F){var _=F,P=F.querySelector("a");P!=null&&P.getAttribute("href")&&(_=P);var N=x.get(F);s(N),d(),f.current=ur(function(){u.current===N&&_.focus()})}};if([_g,Ng].includes(v)||E.sibling||!w){var D;!w||t==="inline"?D=a.current:D=oce(w);var R,I=vT(D,y);v===_g?R=I[0]:v===Ng?R=I[I.length-1]:R=$R(D,y,w,E.offset),O(R)}else if(E.inlineTrigger)l(b);else if(E.offset>0)l(b,!0),d(),f.current=ur(function(){p=o9(m,r);var L=w.getAttribute("aria-controls"),F=document.getElementById(L),_=$R(F,p.elements);O(_)},5);else if(E.offset<0){var M=o(b,!0),A=M[M.length-2],B=C.get(A);l(A,!1),O(B)}}c==null||c(g)}}function cce(t){Promise.resolve().then(t)}var pT="__RC_UTIL_PATH_SPLIT__",VR=function(e){return e.join(pT)},uce=function(e){return e.split(pT)},s9="rc-menu-more";function fce(){var t=S.useState({}),e=Ae(t,2),n=e[1],r=S.useRef(new Map),a=S.useRef(new Map),i=S.useState([]),o=Ae(i,2),s=o[0],l=o[1],c=S.useRef(0),f=S.useRef(!1),u=function(){f.current||n({})},d=S.useCallback(function(C,x){var T=VR(x);a.current.set(T,C),r.current.set(C,T),c.current+=1;var w=c.current;cce(function(){w===c.current&&u()})},[]),g=S.useCallback(function(C,x){var T=VR(x);a.current.delete(T),r.current.delete(C)},[]),v=S.useCallback(function(C){l(C)},[]),m=S.useCallback(function(C,x){var T=r.current.get(C)||"",w=uce(T);return x&&s.includes(w[0])&&w.unshift(s9),w},[s]),p=S.useCallback(function(C,x){return C.filter(function(T){return T!==void 0}).some(function(T){var w=m(T,!0);return w.includes(x)})},[m]),h=function(){var x=Ze(r.current.keys());return s.length&&x.push(s9),x},y=S.useCallback(function(C){var x="".concat(r.current.get(C)).concat(pT),T=new Set;return Ze(a.current.keys()).forEach(function(w){w.startsWith(x)&&T.add(a.current.get(w))}),T},[]);return S.useEffect(function(){return function(){f.current=!0}},[]),{registerPath:d,unregisterPath:g,refreshOverflowKeys:v,isSubPathKey:p,getKeyPath:m,getKeys:h,getSubPathKeys:y}}function rm(t){var e=S.useRef(t);e.current=t;var n=S.useCallback(function(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(i))},[]);return t?n:void 0}var dce=Math.random().toFixed(5).toString().slice(2),kR=0;function gce(t){var e=Ha(t,{value:t}),n=Ae(e,2),r=n[0],a=n[1];return S.useEffect(function(){kR+=1;var i="".concat(dce,"-").concat(kR);a("rc-menu-uuid-".concat(i))},[]),r}function $V(t,e,n,r){var a=S.useContext(Fs),i=a.activeKey,o=a.onActive,s=a.onInactive,l={active:i===t};return e||(l.onMouseEnter=function(c){n==null||n({key:t,domEvent:c}),o(t)},l.onMouseLeave=function(c){r==null||r({key:t,domEvent:c}),s(t)}),l}function VV(t){var e=S.useContext(Fs),n=e.mode,r=e.rtl,a=e.inlineIndent;if(n!=="inline")return null;var i=t;return r?{paddingRight:i*a}:{paddingLeft:i*a}}function kV(t){var e=t.icon,n=t.props,r=t.children,a;return e===null||e===!1?null:(typeof e=="function"?a=S.createElement(e,ie({},n)):typeof e!="boolean"&&(a=e),a||r||null)}var mce=["item"];function $S(t){var e=t.item,n=Tn(t,mce);return Object.defineProperty(n,"item",{get:function(){return jr(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var vce=["title","attribute","elementRef"],pce=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],hce=["active"],Sce=function(t){ko(n,t);var e=Uo(n);function n(){return ua(this,n),e.apply(this,arguments)}return fa(n,[{key:"render",value:function(){var a=this.props,i=a.title,o=a.attribute,s=a.elementRef,l=Tn(a,vce),c=$a(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return jr(!o,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),S.createElement(r0.Item,tt({},o,{title:typeof i=="string"?i:void 0},c,{ref:s}))}}]),n}(S.Component),yce=S.forwardRef(function(t,e){var n=t.style,r=t.className,a=t.eventKey;t.warnKey;var i=t.disabled,o=t.itemIcon,s=t.children,l=t.role,c=t.onMouseEnter,f=t.onMouseLeave,u=t.onClick,d=t.onKeyDown,g=t.onFocus,v=Tn(t,pce),m=PV(a),p=S.useContext(Fs),h=p.prefixCls,y=p.onItemClick,C=p.disabled,x=p.overflowDisabled,T=p.itemIcon,w=p.selectedKeys,b=p.onActive,E=S.useContext(mT),O=E._internalRenderMenuItem,D="".concat(h,"-item"),R=S.useRef(),I=S.useRef(),M=C||i,A=xf(e,I),B=eg(a),L=function(_e){return{key:a,keyPath:Ze(B).reverse(),item:R.current,domEvent:_e}},F=o||T,_=$V(a,M,c,f),P=_.active,N=Tn(_,hce),k=w.includes(a),H=VV(B.length),K=function(_e){if(!M){var fe=L(_e);u==null||u($S(fe)),y(fe)}},te=function(_e){if(d==null||d(_e),_e.which===rt.ENTER){var fe=L(_e);u==null||u($S(fe)),y(fe)}},se=function(_e){b(a),g==null||g(_e)},pe={};t.role==="option"&&(pe["aria-selected"]=k);var ve=S.createElement(Sce,tt({ref:R,elementRef:A,role:l===null?"none":l||"menuitem",tabIndex:i?null:-1,"data-menu-id":x&&m?null:m},v,N,pe,{component:"li","aria-disabled":i,style:ie(ie({},H),n),className:Se(D,J(J(J({},"".concat(D,"-active"),P),"".concat(D,"-selected"),k),"".concat(D,"-disabled"),M),r),onClick:K,onKeyDown:te,onFocus:se}),s,S.createElement(kV,{props:ie(ie({},t),{},{isSelected:k}),icon:F}));return O&&(ve=O(ve,t,{selected:k})),ve});function Cce(t,e){var n=t.eventKey,r=L5(),a=eg(n);return S.useEffect(function(){if(r)return r.registerPath(n,a),function(){r.unregisterPath(n,a)}},[a]),r?null:S.createElement(yce,tt({},t,{ref:e}))}const _5=S.forwardRef(Cce);var xce=["className","children"],Tce=function(e,n){var r=e.className,a=e.children,i=Tn(e,xce),o=S.useContext(Fs),s=o.prefixCls,l=o.mode,c=o.rtl;return S.createElement("ul",tt({className:Se(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(l==="inline"?"inline":"vertical"),r),role:"menu"},i,{"data-menu-list":!0,ref:n}),a)},hT=S.forwardRef(Tce);hT.displayName="SubMenuList";function ST(t,e){return os(t).map(function(n,r){if(S.isValidElement(n)){var a,i,o=n.key,s=(a=(i=n.props)===null||i===void 0?void 0:i.eventKey)!==null&&a!==void 0?a:o,l=s==null;l&&(s="tmp_key-".concat([].concat(Ze(e),[r]).join("-")));var c={key:s,eventKey:s};return S.cloneElement(n,c)}return n})}var Oi={adjustX:1,adjustY:1},wce={topLeft:{points:["bl","tl"],overflow:Oi},topRight:{points:["br","tr"],overflow:Oi},bottomLeft:{points:["tl","bl"],overflow:Oi},bottomRight:{points:["tr","br"],overflow:Oi},leftTop:{points:["tr","tl"],overflow:Oi},leftBottom:{points:["br","bl"],overflow:Oi},rightTop:{points:["tl","tr"],overflow:Oi},rightBottom:{points:["bl","br"],overflow:Oi}},bce={topLeft:{points:["bl","tl"],overflow:Oi},topRight:{points:["br","tr"],overflow:Oi},bottomLeft:{points:["tl","bl"],overflow:Oi},bottomRight:{points:["tr","br"],overflow:Oi},rightTop:{points:["tr","tl"],overflow:Oi},rightBottom:{points:["br","bl"],overflow:Oi},leftTop:{points:["tl","tr"],overflow:Oi},leftBottom:{points:["bl","br"],overflow:Oi}};function UV(t,e,n){if(e)return e;if(n)return n[t]||n.other}var Ece={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Dce(t){var e=t.prefixCls,n=t.visible,r=t.children,a=t.popup,i=t.popupStyle,o=t.popupClassName,s=t.popupOffset,l=t.disabled,c=t.mode,f=t.onVisibleChange,u=S.useContext(Fs),d=u.getPopupContainer,g=u.rtl,v=u.subMenuOpenDelay,m=u.subMenuCloseDelay,p=u.builtinPlacements,h=u.triggerSubMenuAction,y=u.forceSubMenuRender,C=u.rootClassName,x=u.motion,T=u.defaultMotions,w=S.useState(!1),b=Ae(w,2),E=b[0],O=b[1],D=ie(g?ie({},bce):ie({},wce),p),R=Ece[c],I=UV(c,x,T),M=S.useRef(I);c!=="inline"&&(M.current=I);var A=ie(ie({},M.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),B=S.useRef();return S.useEffect(function(){return B.current=ur(function(){O(n)}),function(){ur.cancel(B.current)}},[n]),S.createElement(A5,{prefixCls:e,popupClassName:Se("".concat(e,"-popup"),J({},"".concat(e,"-rtl"),g),o,C),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:d,builtinPlacements:D,popupPlacement:R,popupVisible:E,popup:a,popupStyle:i,popupAlign:s&&{offset:s},action:l?[]:[h],mouseEnterDelay:v,mouseLeaveDelay:m,onPopupVisibleChange:f,forceRender:y,popupMotion:A,fresh:!0},r)}function Oce(t){var e=t.id,n=t.open,r=t.keyPath,a=t.children,i="inline",o=S.useContext(Fs),s=o.prefixCls,l=o.forceSubMenuRender,c=o.motion,f=o.defaultMotions,u=o.mode,d=S.useRef(!1);d.current=u===i;var g=S.useState(!d.current),v=Ae(g,2),m=v[0],p=v[1],h=d.current?n:!1;S.useEffect(function(){d.current&&p(!1)},[u]);var y=ie({},UV(i,c,f));r.length>1&&(y.motionAppear=!1);var C=y.onVisibleChanged;return y.onVisibleChanged=function(x){return!d.current&&!x&&p(!0),C==null?void 0:C(x)},m?null:S.createElement(_v,{mode:i,locked:!d.current},S.createElement(ks,tt({visible:h},y,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(x){var T=x.className,w=x.style;return S.createElement(hT,{id:e,className:T,style:w},a)}))}var Rce=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Ice=["active"],Ace=S.forwardRef(function(t,e){var n=t.style,r=t.className,a=t.title,i=t.eventKey;t.warnKey;var o=t.disabled,s=t.internalPopupClose,l=t.children,c=t.itemIcon,f=t.expandIcon,u=t.popupClassName,d=t.popupOffset,g=t.popupStyle,v=t.onClick,m=t.onMouseEnter,p=t.onMouseLeave,h=t.onTitleClick,y=t.onTitleMouseEnter,C=t.onTitleMouseLeave,x=Tn(t,Rce),T=PV(i),w=S.useContext(Fs),b=w.prefixCls,E=w.mode,O=w.openKeys,D=w.disabled,R=w.overflowDisabled,I=w.activeKey,M=w.selectedKeys,A=w.itemIcon,B=w.expandIcon,L=w.onItemClick,F=w.onOpenChange,_=w.onActive,P=S.useContext(mT),N=P._internalRenderSubMenuItem,k=S.useContext(NV),H=k.isSubPathKey,K=eg(),te="".concat(b,"-submenu"),se=D||o,pe=S.useRef(),ve=S.useRef(),Te=c??A,_e=f??B,fe=O.includes(i),ce=!R&&fe,Ee=H(M,i),we=$V(i,se,y,C),he=we.active,Re=Tn(we,Ice),Pe=S.useState(!1),We=Ae(Pe,2),Me=We[0],Je=We[1],Be=function(ut){se||Je(ut)},z=function(ut){Be(!0),m==null||m({key:i,domEvent:ut})},Y=function(ut){Be(!1),p==null||p({key:i,domEvent:ut})},ee=S.useMemo(function(){return he||(E!=="inline"?Me||H([I],i):!1)},[E,he,I,Me,i,H]),j=VV(K.length),oe=function(ut){se||(h==null||h({key:i,domEvent:ut}),E==="inline"&&F(i,!fe))},be=rm(function(Ne){v==null||v($S(Ne)),L(Ne)}),Ue=function(ut){E!=="inline"&&F(i,ut)},ze=function(){_(i)},at=T&&"".concat(T,"-popup"),gt=S.createElement("div",tt({role:"menuitem",style:j,className:"".concat(te,"-title"),tabIndex:se?null:-1,ref:pe,title:typeof a=="string"?a:null,"data-menu-id":R&&T?null:T,"aria-expanded":ce,"aria-haspopup":!0,"aria-controls":at,"aria-disabled":se,onClick:oe,onFocus:ze},Re),a,S.createElement(kV,{icon:E!=="horizontal"?_e:void 0,props:ie(ie({},t),{},{isOpen:ce,isSubMenu:!0})},S.createElement("i",{className:"".concat(te,"-arrow")}))),St=S.useRef(E);if(E!=="inline"&&K.length>1?St.current="vertical":St.current=E,!R){var ct=St.current;gt=S.createElement(Dce,{mode:ct,prefixCls:te,visible:!s&&ce&&E!=="inline",popupClassName:u,popupOffset:d,popupStyle:g,popup:S.createElement(_v,{mode:ct==="horizontal"?"vertical":ct},S.createElement(hT,{id:at,ref:ve},l)),disabled:se,onVisibleChange:Ue},gt)}var et=S.createElement(r0.Item,tt({ref:e,role:"none"},x,{component:"li",style:n,className:Se(te,"".concat(te,"-").concat(E),r,J(J(J(J({},"".concat(te,"-open"),ce),"".concat(te,"-active"),ee),"".concat(te,"-selected"),Ee),"".concat(te,"-disabled"),se)),onMouseEnter:z,onMouseLeave:Y}),gt,!R&&S.createElement(Oce,{id:at,open:ce,keyPath:K},l));return N&&(et=N(et,t,{selected:Ee,active:ee,open:ce,disabled:se})),S.createElement(_v,{onItemClick:be,mode:E==="horizontal"?"vertical":E,itemIcon:Te,expandIcon:_e},et)}),N5=S.forwardRef(function(t,e){var n=t.eventKey,r=t.children,a=eg(n),i=ST(r,a),o=L5();S.useEffect(function(){if(o)return o.registerPath(n,a),function(){o.unregisterPath(n,a)}},[a]);var s;return o?s=i:s=S.createElement(Ace,tt({ref:e},t),i),S.createElement(_V.Provider,{value:a},s)});function yT(t){var e=t.className,n=t.style,r=S.useContext(Fs),a=r.prefixCls,i=L5();return i?null:S.createElement("li",{role:"separator",className:Se("".concat(a,"-item-divider"),e),style:n})}var Mce=["className","title","eventKey","children"],Pce=S.forwardRef(function(t,e){var n=t.className,r=t.title;t.eventKey;var a=t.children,i=Tn(t,Mce),o=S.useContext(Fs),s=o.prefixCls,l="".concat(s,"-item-group");return S.createElement("li",tt({ref:e,role:"presentation"},i,{onClick:function(f){return f.stopPropagation()},className:Se(l,n)}),S.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),S.createElement("ul",{role:"group",className:"".concat(l,"-list")},a))}),CT=S.forwardRef(function(t,e){var n=t.eventKey,r=t.children,a=eg(n),i=ST(r,a),o=L5();return o?i:S.createElement(Pce,tt({ref:e},$a(t,["warnKey"])),i)}),Lce=["label","children","key","type","extra"];function l9(t,e,n){var r=e.item,a=e.group,i=e.submenu,o=e.divider;return(t||[]).map(function(s,l){if(s&&qt(s)==="object"){var c=s,f=c.label,u=c.children,d=c.key,g=c.type,v=c.extra,m=Tn(c,Lce),p=d??"tmp-".concat(l);return u||g==="group"?g==="group"?S.createElement(a,tt({key:p},m,{title:f}),l9(u,e,n)):S.createElement(i,tt({key:p},m,{title:f}),l9(u,e,n)):g==="divider"?S.createElement(o,tt({key:p},m)):S.createElement(r,tt({key:p},m),f,(!!v||v===0)&&S.createElement("span",{className:"".concat(n,"-item-extra")},v))}return null}).filter(function(s){return s})}function UR(t,e,n,r,a){var i=t,o=ie({divider:yT,item:_5,group:CT,submenu:N5},r);return e&&(i=l9(e,o,a)),ST(i,n)}var _ce=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],iu=[],Nce=S.forwardRef(function(t,e){var n,r=t,a=r.prefixCls,i=a===void 0?"rc-menu":a,o=r.rootClassName,s=r.style,l=r.className,c=r.tabIndex,f=c===void 0?0:c,u=r.items,d=r.children,g=r.direction,v=r.id,m=r.mode,p=m===void 0?"vertical":m,h=r.inlineCollapsed,y=r.disabled,C=r.disabledOverflow,x=r.subMenuOpenDelay,T=x===void 0?.1:x,w=r.subMenuCloseDelay,b=w===void 0?.1:w,E=r.forceSubMenuRender,O=r.defaultOpenKeys,D=r.openKeys,R=r.activeKey,I=r.defaultActiveFirst,M=r.selectable,A=M===void 0?!0:M,B=r.multiple,L=B===void 0?!1:B,F=r.defaultSelectedKeys,_=r.selectedKeys,P=r.onSelect,N=r.onDeselect,k=r.inlineIndent,H=k===void 0?24:k,K=r.motion,te=r.defaultMotions,se=r.triggerSubMenuAction,pe=se===void 0?"hover":se,ve=r.builtinPlacements,Te=r.itemIcon,_e=r.expandIcon,fe=r.overflowedIndicator,ce=fe===void 0?"...":fe,Ee=r.overflowedIndicatorPopupClassName,we=r.getPopupContainer,he=r.onClick,Re=r.onOpenChange,Pe=r.onKeyDown;r.openAnimation,r.openTransitionName;var We=r._internalRenderMenuItem,Me=r._internalRenderSubMenuItem,Je=r._internalComponents,Be=Tn(r,_ce),z=S.useMemo(function(){return[UR(d,u,iu,Je,i),UR(d,u,iu,{},i)]},[d,u,Je]),Y=Ae(z,2),ee=Y[0],j=Y[1],oe=S.useState(!1),be=Ae(oe,2),Ue=be[0],ze=be[1],at=S.useRef(),gt=gce(v),St=g==="rtl",ct=Ha(O,{value:D,postState:function(xn){return xn||iu}}),et=Ae(ct,2),Ne=et[0],ut=et[1],At=function(xn){var bn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function _n(){ut(xn),Re==null||Re(xn)}bn?_o.flushSync(_n):_n()},bt=S.useState(Ne),Rt=Ae(bt,2),jt=Rt[0],un=Rt[1],Zt=S.useRef(!1),Kt=S.useMemo(function(){return(p==="inline"||p==="vertical")&&h?["vertical",h]:[p,!1]},[p,h]),fn=Ae(Kt,2),en=fn[0],sn=fn[1],zt=en==="inline",Lt=S.useState(en),yt=Ae(Lt,2),lt=yt[0],de=yt[1],ue=S.useState(sn),ge=Ae(ue,2),Ce=ge[0],Ge=ge[1];S.useEffect(function(){de(en),Ge(sn),Zt.current&&(zt?ut(jt):At(iu))},[en,sn]);var He=S.useState(0),pt=Ae(He,2),Qe=pt[0],Ke=pt[1],Ye=Qe>=ee.length-1||lt!=="horizontal"||C;S.useEffect(function(){zt&&un(Ne)},[Ne]),S.useEffect(function(){return Zt.current=!0,function(){Zt.current=!1}},[]);var ft=fce(),xt=ft.registerPath,Nt=ft.unregisterPath,Pt=ft.refreshOverflowKeys,Ut=ft.isSubPathKey,Ht=ft.getKeyPath,Dt=ft.getKeys,Mt=ft.getSubPathKeys,Bt=S.useMemo(function(){return{registerPath:xt,unregisterPath:Nt}},[xt,Nt]),Ft=S.useMemo(function(){return{isSubPathKey:Ut}},[Ut]);S.useEffect(function(){Pt(Ye?iu:ee.slice(Qe+1).map(function(Wt){return Wt.key}))},[Qe,Ye]);var Ot=Ha(R||I&&((n=ee[0])===null||n===void 0?void 0:n.key),{value:R}),dn=Ae(Ot,2),rn=dn[0],pn=dn[1],Xn=rm(function(Wt){pn(Wt)}),Fn=rm(function(){pn(void 0)});S.useImperativeHandle(e,function(){return{list:at.current,focus:function(xn){var bn,_n=Dt(),$n=o9(_n,gt),Gn=$n.elements,Dr=$n.key2element,pr=$n.element2key,Ur=vT(at.current,Gn),Ar=rn??(Ur[0]?pr.get(Ur[0]):(bn=ee.find(function(gn){return!gn.props.disabled}))===null||bn===void 0?void 0:bn.key),Nr=Dr.get(Ar);if(Ar&&Nr){var Rr;Nr==null||(Rr=Nr.focus)===null||Rr===void 0||Rr.call(Nr,xn)}}}});var Ct=Ha(F||[],{value:_,postState:function(xn){return Array.isArray(xn)?xn:xn==null?iu:[xn]}}),$t=Ae(Ct,2),mn=$t[0],An=$t[1],On=function(xn){if(A){var bn=xn.key,_n=mn.includes(bn),$n;L?_n?$n=mn.filter(function(Dr){return Dr!==bn}):$n=[].concat(Ze(mn),[bn]):$n=[bn],An($n);var Gn=ie(ie({},xn),{},{selectedKeys:$n});_n?N==null||N(Gn):P==null||P(Gn)}!L&&Ne.length&&lt!=="inline"&&At(iu)},jn=rm(function(Wt){he==null||he($S(Wt)),On(Wt)}),rr=rm(function(Wt,xn){var bn=Ne.filter(function($n){return $n!==Wt});if(xn)bn.push(Wt);else if(lt!=="inline"){var _n=Mt(Wt);bn=bn.filter(function($n){return!_n.has($n)})}_s(Ne,bn,!0)||At(bn,!0)}),gr=function(xn,bn){var _n=bn??!Ne.includes(xn);rr(xn,_n)},Ra=lce(lt,rn,St,gt,at,Dt,Ht,pn,gr,Pe);S.useEffect(function(){ze(!0)},[]);var kr=S.useMemo(function(){return{_internalRenderMenuItem:We,_internalRenderSubMenuItem:Me}},[We,Me]),Mr=lt!=="horizontal"||C?ee:ee.map(function(Wt,xn){return S.createElement(_v,{key:Wt.key,overflowDisabled:xn>Qe},Wt)}),vn=S.createElement(r0,tt({id:v,ref:at,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:_5,className:Se(i,"".concat(i,"-root"),"".concat(i,"-").concat(lt),l,J(J({},"".concat(i,"-inline-collapsed"),Ce),"".concat(i,"-rtl"),St),o),dir:g,style:s,role:"menu",tabIndex:f,data:Mr,renderRawItem:function(xn){return xn},renderRawRest:function(xn){var bn=xn.length,_n=bn?ee.slice(-bn):null;return S.createElement(N5,{eventKey:s9,title:ce,disabled:Ye,internalPopupClose:bn===0,popupClassName:Ee},_n)},maxCount:lt!=="horizontal"||C?r0.INVALIDATE:r0.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(xn){Ke(xn)},onKeyDown:Ra},Be));return S.createElement(mT.Provider,{value:kr},S.createElement(AV.Provider,{value:gt},S.createElement(_v,{prefixCls:i,rootClassName:o,mode:lt,openKeys:Ne,rtl:St,disabled:y,motion:Ue?K:null,defaultMotions:Ue?te:null,activeKey:rn,onActive:Xn,onInactive:Fn,selectedKeys:mn,inlineIndent:H,subMenuOpenDelay:T,subMenuCloseDelay:b,forceSubMenuRender:E,builtinPlacements:ve,triggerSubMenuAction:pe,getPopupContainer:we,itemIcon:Te,expandIcon:_e,onItemClick:jn,onOpenChange:rr},S.createElement(NV.Provider,{value:Ft},vn),S.createElement("div",{style:{display:"none"},"aria-hidden":!0},S.createElement(LV.Provider,{value:Bt},j)))))}),yp=Nce;yp.Item=_5;yp.SubMenu=N5;yp.ItemGroup=CT;yp.Divider=yT;var Fce={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},$ce=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Fce}))},Vce=S.forwardRef($ce),kce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Uce=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:kce}))},VS=S.forwardRef(Uce);const Bce=t=>!isNaN(parseFloat(t))&&isFinite(t),BV=S.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),Gce=t=>{const{antCls:e,componentCls:n,colorText:r,footerBg:a,headerHeight:i,headerPadding:o,headerColor:s,footerPadding:l,fontSize:c,bodyBg:f,headerBg:u}=t;return{[n]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:f,"&, *":{boxSizing:"border-box"},[`&${n}-has-sider`]:{flexDirection:"row",[`> ${n}, > ${n}-content`]:{width:0}},[`${n}-header, &${n}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${n}-header`]:{height:i,padding:o,color:s,lineHeight:xe(i),background:u,[`${e}-menu`]:{lineHeight:"inherit"}},[`${n}-footer`]:{padding:l,color:r,fontSize:c,background:a},[`${n}-content`]:{flex:"auto",color:r,minHeight:0}}},GV=t=>{const{colorBgLayout:e,controlHeight:n,controlHeightLG:r,colorText:a,controlHeightSM:i,marginXXS:o,colorTextLightSolid:s,colorBgContainer:l}=t,c=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:n*2,headerPadding:`0 ${c}px`,headerColor:a,footerPadding:`${i}px ${c}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+o*2,triggerBg:"#002140",triggerColor:s,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:l,lightTriggerBg:l,lightTriggerColor:a}},zV=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],WV=ta("Layout",t=>[Gce(t)],GV,{deprecatedTokens:zV}),zce=t=>{const{componentCls:e,siderBg:n,motionDurationMid:r,motionDurationSlow:a,antCls:i,triggerHeight:o,triggerColor:s,triggerBg:l,headerHeight:c,zeroTriggerWidth:f,zeroTriggerHeight:u,borderRadius:d,lightSiderBg:g,lightTriggerColor:v,lightTriggerBg:m,bodyBg:p}=t;return{[e]:{position:"relative",minWidth:0,background:n,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:o},"&-right":{order:1},[`${e}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${i}-menu${i}-menu-inline-collapsed`]:{width:"auto"}},[`${e}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:o,color:s,lineHeight:xe(o),textAlign:"center",background:l,cursor:"pointer",transition:`all ${r}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:c,insetInlineEnd:t.calc(f).mul(-1).equal(),zIndex:1,width:f,height:u,color:s,fontSize:t.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:n,borderStartStartRadius:0,borderStartEndRadius:d,borderEndEndRadius:d,borderEndStartRadius:0,cursor:"pointer",transition:`background ${a} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${a}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:t.calc(f).mul(-1).equal(),borderStartStartRadius:d,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:d}}},"&-light":{background:g,[`${e}-trigger`]:{color:v,background:m},[`${e}-zero-width-trigger`]:{color:v,background:m,border:`1px solid ${p}`,borderInlineStart:0}}}}},Wce=ta(["Layout","Sider"],t=>[zce(t)],GV,{deprecatedTokens:zV});var jce=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const BR={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},F5=S.createContext({}),Hce=(()=>{let t=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t+=1,`${e}${t}`}})(),jV=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,trigger:a,children:i,defaultCollapsed:o=!1,theme:s="dark",style:l={},collapsible:c=!1,reverseArrow:f=!1,width:u=200,collapsedWidth:d=80,zeroWidthTriggerStyle:g,breakpoint:v,onCollapse:m,onBreakpoint:p}=t,h=jce(t,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:y}=S.useContext(BV),[C,x]=S.useState("collapsed"in t?t.collapsed:o),[T,w]=S.useState(!1);S.useEffect(()=>{"collapsed"in t&&x(t.collapsed)},[t.collapsed]);const b=(F,_)=>{"collapsed"in t||x(F),m==null||m(F,_)},{getPrefixCls:E}=S.useContext(cn),O=E("layout-sider",n),[D,R,I]=Wce(O),M=S.useRef();M.current=F=>{w(F.matches),p==null||p(F.matches),C!==F.matches&&b(F.matches,"responsive")},S.useEffect(()=>{function F(P){return M.current(P)}let _;if(typeof window<"u"){const{matchMedia:P}=window;if(P&&v&&v in BR){_=P(`screen and (max-width: ${BR[v]})`);try{_.addEventListener("change",F)}catch{_.addListener(F)}F(_)}}return()=>{try{_==null||_.removeEventListener("change",F)}catch{_==null||_.removeListener(F)}}},[v]),S.useEffect(()=>{const F=Hce("ant-sider-");return y.addSider(F),()=>y.removeSider(F)},[]);const A=()=>{b(!C,"clickTrigger")},B=()=>{const F=$a(h,["collapsed"]),_=C?d:u,P=Bce(_)?`${_}px`:String(_),N=parseFloat(String(d||0))===0?S.createElement("span",{onClick:A,className:Se(`${O}-zero-width-trigger`,`${O}-zero-width-trigger-${f?"right":"left"}`),style:g},a||S.createElement(Vce,null)):null,K={expanded:f?S.createElement(Mv,null):S.createElement(VS,null),collapsed:f?S.createElement(VS,null):S.createElement(Mv,null)}[C?"collapsed":"expanded"],te=a!==null?N||S.createElement("div",{className:`${O}-trigger`,onClick:A,style:{width:P}},a||K):null,se=Object.assign(Object.assign({},l),{flex:`0 0 ${P}`,maxWidth:P,minWidth:P,width:P}),pe=Se(O,`${O}-${s}`,{[`${O}-collapsed`]:!!C,[`${O}-has-trigger`]:c&&a!==null&&!N,[`${O}-below`]:!!T,[`${O}-zero-width`]:parseFloat(P)===0},r,R,I);return S.createElement("aside",Object.assign({className:pe},F,{style:se,ref:e}),S.createElement("div",{className:`${O}-children`},i),c||T&&N?te:null)},L=S.useMemo(()=>({siderCollapsed:C}),[C]);return D(S.createElement(F5.Provider,{value:L},B()))});var qce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Kce=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:qce}))},HV=S.forwardRef(Kce);const kS=S.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var Qce=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const qV=t=>{const{prefixCls:e,className:n,dashed:r}=t,a=Qce(t,["prefixCls","className","dashed"]),{getPrefixCls:i}=S.useContext(cn),o=i("menu",e),s=Se({[`${o}-item-divider-dashed`]:!!r},n);return S.createElement(yT,Object.assign({className:s},a))},KV=t=>{var e;const{className:n,children:r,icon:a,title:i,danger:o}=t,{prefixCls:s,firstLevel:l,direction:c,disableMenuItemTitleTooltip:f,inlineCollapsed:u}=S.useContext(kS),d=y=>{const C=r==null?void 0:r[0],x=S.createElement("span",{className:`${s}-title-content`},r);return(!a||S.isValidElement(r)&&r.type==="span")&&r&&y&&l&&typeof C=="string"?S.createElement("div",{className:`${s}-inline-collapsed-noicon`},C.charAt(0)):x},{siderCollapsed:g}=S.useContext(F5);let v=i;typeof i>"u"?v=l?r:"":i===!1&&(v="");const m={title:v};!g&&!u&&(m.title=null,m.open=!1);const p=os(r).length;let h=S.createElement(_5,Object.assign({},$a(t,["title","icon","danger"]),{className:Se({[`${s}-item-danger`]:o,[`${s}-item-only-child`]:(a?p+1:p)===1},n),title:typeof i=="string"?i:void 0}),Hi(a,{className:Se(S.isValidElement(a)?(e=a.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),d(u));return f||(h=S.createElement(of,Object.assign({},m,{placement:c==="rtl"?"left":"right",overlayClassName:`${s}-inline-collapsed-tooltip`}),h)),h};var Xce=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const US=S.createContext(null),QV=S.forwardRef((t,e)=>{const{children:n}=t,r=Xce(t,["children"]),a=S.useContext(US),i=S.useMemo(()=>Object.assign(Object.assign({},a),r),[a,r.prefixCls,r.mode,r.selectable,r.rootClassName]),o=fJ(n),s=xf(e,o?n.ref:null);return S.createElement(US.Provider,{value:i},S.createElement(Pv,{space:!0},o?S.cloneElement(n,{ref:s}):n))}),Yce=t=>{const{componentCls:e,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:a,lineWidth:i,lineType:o,itemPaddingInline:s}=t;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${xe(i)} ${o} ${a}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},Zce=t=>{let{componentCls:e,menuArrowOffset:n,calc:r}=t;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${xe(r(n).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${xe(n)})`}}}}},GR=t=>Object.assign({},Dc(t)),zR=(t,e)=>{const{componentCls:n,itemColor:r,itemSelectedColor:a,groupTitleColor:i,itemBg:o,subMenuItemBg:s,itemSelectedBg:l,activeBarHeight:c,activeBarWidth:f,activeBarBorderWidth:u,motionDurationSlow:d,motionEaseInOut:g,motionEaseOut:v,itemPaddingInline:m,motionDurationMid:p,itemHoverColor:h,lineType:y,colorSplit:C,itemDisabledColor:x,dangerItemColor:T,dangerItemHoverColor:w,dangerItemSelectedColor:b,dangerItemActiveBg:E,dangerItemSelectedBg:O,popupBg:D,itemHoverBg:R,itemActiveBg:I,menuSubMenuBg:M,horizontalItemSelectedColor:A,horizontalItemSelectedBg:B,horizontalItemBorderRadius:L,horizontalItemHoverBg:F}=t;return{[`${n}-${e}, ${n}-${e} > ${n}`]:{color:r,background:o,[`&${n}-root:focus-visible`]:Object.assign({},GR(t)),[`${n}-item-group-title`]:{color:i},[`${n}-submenu-selected`]:{[`> ${n}-submenu-title`]:{color:a}},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},GR(t))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${x} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:h}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:R},"&:active":{backgroundColor:I}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:R},"&:active":{backgroundColor:I}}},[`${n}-item-danger`]:{color:T,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:w}},[`&${n}-item:active`]:{background:E}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:a,[`&${n}-item-danger`]:{color:b},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:l,[`&${n}-item-danger`]:{backgroundColor:O}},[`&${n}-submenu > ${n}`]:{backgroundColor:M},[`&${n}-popup > ${n}`]:{backgroundColor:D},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:D},[`&${n}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:u,marginTop:t.calc(u).mul(-1).equal(),marginBottom:0,borderRadius:L,"&::after":{position:"absolute",insetInline:m,bottom:0,borderBottom:`${xe(c)} solid transparent`,transition:`border-color ${d} ${g}`,content:'""'},"&:hover, &-active, &-open":{background:F,"&::after":{borderBottomWidth:c,borderBottomColor:A}},"&-selected":{color:A,backgroundColor:B,"&:hover":{backgroundColor:B},"&::after":{borderBottomWidth:c,borderBottomColor:A}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${xe(u)} ${y} ${C}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:s},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${xe(f)} solid ${a}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${p} ${v}`,`opacity ${p} ${v}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:b}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${p} ${g}`,`opacity ${p} ${g}`].join(",")}}}}}},WR=t=>{const{componentCls:e,itemHeight:n,itemMarginInline:r,padding:a,menuArrowSize:i,marginXS:o,itemMarginBlock:s,itemWidth:l,itemPaddingInline:c}=t,f=t.calc(i).add(a).add(o).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:n,lineHeight:xe(n),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:l},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:n,lineHeight:xe(n)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:f}}},Jce=t=>{const{componentCls:e,iconCls:n,itemHeight:r,colorTextLightSolid:a,dropdownWidth:i,controlHeightLG:o,motionEaseOut:s,paddingXL:l,itemMarginInline:c,fontSizeLG:f,motionDurationFast:u,motionDurationSlow:d,paddingXS:g,boxShadowSecondary:v,collapsedWidth:m,collapsedIconSize:p}=t,h={height:r,lineHeight:xe(r),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},WR(t))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},WR(t)),{boxShadow:v})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:i,maxHeight:`calc(100vh - ${xe(t.calc(o).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${d}`,`background ${d}`,`padding ${u} ${s}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:h,[`& ${e}-item-group-title`]:{paddingInlineStart:l}},[`${e}-item`]:h}},{[`${e}-inline-collapsed`]:{width:m,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:f,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${xe(t.calc(f).div(2).equal())} - ${xe(c)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${n}`]:{margin:0,fontSize:p,lineHeight:xe(r),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:a}},[`${e}-item-group-title`]:Object.assign(Object.assign({},nf),{paddingInline:g})}}]},jR=t=>{const{componentCls:e,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:a,motionEaseOut:i,iconCls:o,iconSize:s,iconMarginInlineEnd:l}=t;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${a}`].join(","),[`${e}-item-icon, ${o}`]:{minWidth:s,fontSize:s,transition:[`font-size ${r} ${i}`,`margin ${n} ${a}`,`color ${n}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${n} ${a}`,`margin ${n}`,`color ${n}`].join(",")}},[`${e}-item-icon`]:Object.assign({},h5()),[`&${e}-item-only-child`]:{[`> ${o}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},HR=t=>{const{componentCls:e,motionDurationSlow:n,motionEaseInOut:r,borderRadius:a,menuArrowSize:i,menuArrowOffset:o}=t;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:t.margin,width:i,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:t.calc(i).mul(.6).equal(),height:t.calc(i).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:a,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${xe(t.calc(o).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${xe(o)})`}}}}},eue=t=>{const{antCls:e,componentCls:n,fontSize:r,motionDurationSlow:a,motionDurationMid:i,motionEaseInOut:o,paddingXS:s,padding:l,colorSplit:c,lineWidth:f,zIndexPopup:u,borderRadiusLG:d,subMenuItemBorderRadius:g,menuArrowSize:v,menuArrowOffset:m,lineType:p,groupTitleLineHeight:h,groupTitleFontSize:y}=t;return[{"":{[n]:Object.assign(Object.assign({},rf()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aa(t)),rf()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${a} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:t.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${xe(s)} ${xe(l)}`,fontSize:y,lineHeight:h,transition:`all ${a}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${a} ${o}`,`background ${a} ${o}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${a} ${o}`,`background ${a} ${o}`,`padding ${i} ${o}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${a} ${o}`,`padding ${a} ${o}`].join(",")},[`${n}-title-content`]:{display:"inline-flex",alignItems:"center",transition:`color ${a}`,"> a:first-child":{flexGrow:1},[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:t.padding,fontSize:t.fontSizeSM,color:t.colorTextDescription}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:p,borderWidth:0,borderTopWidth:f,marginBlock:f,padding:0,"&-dashed":{borderStyle:"dashed"}}}),jR(t)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${xe(t.calc(r).mul(2).equal())} ${xe(l)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:u,borderRadius:d,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:d},jR(t)),HR(t)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:g},[`${n}-submenu-title::after`]:{transition:`transform ${a} ${o}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:t.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:t.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:t.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:t.paddingXS}}}),HR(t)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${xe(m)})`},"&::after":{transform:`rotate(45deg) translateX(${xe(t.calc(m).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${xe(t.calc(v).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${xe(t.calc(m).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${xe(m)})`}}})},{[`${e}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},tue=t=>{var e,n,r;const{colorPrimary:a,colorError:i,colorTextDisabled:o,colorErrorBg:s,colorText:l,colorTextDescription:c,colorBgContainer:f,colorFillAlter:u,colorFillContent:d,lineWidth:g,lineWidthBold:v,controlItemBgActive:m,colorBgTextHover:p,controlHeightLG:h,lineHeight:y,colorBgElevated:C,marginXXS:x,padding:T,fontSize:w,controlHeightSM:b,fontSizeLG:E,colorTextLightSolid:O,colorErrorHover:D}=t,R=(e=t.activeBarWidth)!==null&&e!==void 0?e:0,I=(n=t.activeBarBorderWidth)!==null&&n!==void 0?n:g,M=(r=t.itemMarginInline)!==null&&r!==void 0?r:t.marginXXS,A=new Pr(O).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:t.zIndexPopupBase+50,radiusItem:t.borderRadiusLG,itemBorderRadius:t.borderRadiusLG,radiusSubMenuItem:t.borderRadiusSM,subMenuItemBorderRadius:t.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:a,horizontalItemHoverColor:a,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:a,itemSelectedColor:a,colorItemTextSelectedHorizontal:a,horizontalItemSelectedColor:a,colorItemBg:f,itemBg:f,colorItemBgHover:p,itemHoverBg:p,colorItemBgActive:d,itemActiveBg:m,colorSubItemBg:u,subMenuItemBg:u,colorItemBgSelected:m,itemSelectedBg:m,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:R,colorActiveBarHeight:v,activeBarHeight:v,colorActiveBarBorderSize:g,activeBarBorderWidth:I,colorItemTextDisabled:o,itemDisabledColor:o,colorDangerItemText:i,dangerItemColor:i,colorDangerItemTextHover:i,dangerItemHoverColor:i,colorDangerItemTextSelected:i,dangerItemSelectedColor:i,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:M,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:h,groupTitleLineHeight:y,collapsedWidth:h*2,popupBg:C,itemMarginBlock:x,itemPaddingInline:T,horizontalLineHeight:`${h*1.15}px`,iconSize:w,iconMarginInlineEnd:b-w,collapsedIconSize:E,groupTitleFontSize:w,darkItemDisabledColor:new Pr(O).setAlpha(.25).toRgbString(),darkItemColor:A,darkDangerItemColor:i,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:O,darkItemSelectedBg:a,darkDangerItemSelectedBg:i,darkItemHoverBg:"transparent",darkGroupTitleColor:A,darkItemHoverColor:O,darkDangerItemHoverColor:D,darkDangerItemSelectedColor:O,darkDangerItemActiveBg:i,itemWidth:R?`calc(100% + ${I}px)`:`calc(100% - ${M*2}px)`}},nue=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return ta("Menu",a=>{const{colorBgElevated:i,controlHeightLG:o,fontSize:s,darkItemColor:l,darkDangerItemColor:c,darkItemBg:f,darkSubMenuItemBg:u,darkItemSelectedColor:d,darkItemSelectedBg:g,darkDangerItemSelectedBg:v,darkItemHoverBg:m,darkGroupTitleColor:p,darkItemHoverColor:h,darkItemDisabledColor:y,darkDangerItemHoverColor:C,darkDangerItemSelectedColor:x,darkDangerItemActiveBg:T,popupBg:w,darkPopupBg:b}=a,E=a.calc(s).div(7).mul(5).equal(),O=fr(a,{menuArrowSize:E,menuHorizontalHeight:a.calc(o).mul(1.15).equal(),menuArrowOffset:a.calc(E).mul(.25).equal(),menuSubMenuBg:i,calc:a.calc,popupBg:w}),D=fr(O,{itemColor:l,itemHoverColor:h,groupTitleColor:p,itemSelectedColor:d,itemBg:f,popupBg:b,subMenuItemBg:u,itemActiveBg:"transparent",itemSelectedBg:g,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:m,itemDisabledColor:y,dangerItemColor:c,dangerItemHoverColor:C,dangerItemSelectedColor:x,dangerItemActiveBg:T,dangerItemSelectedBg:v,menuSubMenuBg:u,horizontalItemSelectedColor:d,horizontalItemSelectedBg:g});return[eue(O),Yce(O),Jce(O),zR(O,"light"),zR(D,"dark"),Zce(O),W7(O),x1(O,"slide-up"),x1(O,"slide-down"),E5(O,"zoom-big")]},tue,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(t,e)},XV=t=>{var e;const{popupClassName:n,icon:r,title:a,theme:i}=t,o=S.useContext(kS),{prefixCls:s,inlineCollapsed:l,theme:c}=o,f=eg();let u;if(!r)u=l&&!f.length&&a&&typeof a=="string"?S.createElement("div",{className:`${s}-inline-collapsed-noicon`},a.charAt(0)):S.createElement("span",{className:`${s}-title-content`},a);else{const v=S.isValidElement(a)&&a.type==="span";u=S.createElement(S.Fragment,null,Hi(r,{className:Se(S.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),v?a:S.createElement("span",{className:`${s}-title-content`},a))}const d=S.useMemo(()=>Object.assign(Object.assign({},o),{firstLevel:!1}),[o]),[g]=fp("Menu");return S.createElement(kS.Provider,{value:d},S.createElement(N5,Object.assign({},$a(t,["icon"]),{title:u,popupClassName:Se(s,n,`${s}-${i||c}`),popupStyle:Object.assign({zIndex:g},t.popupStyle)})))};var rue=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function H4(t){return t===null||t===!1}const aue={item:KV,submenu:XV,divider:qV},iue=S.forwardRef((t,e)=>{var n;const r=S.useContext(US),a=r||{},{getPrefixCls:i,getPopupContainer:o,direction:s,menu:l}=S.useContext(cn),c=i(),{prefixCls:f,className:u,style:d,theme:g="light",expandIcon:v,_internalDisableMenuItemTitleTooltip:m,inlineCollapsed:p,siderCollapsed:h,rootClassName:y,mode:C,selectable:x,onClick:T,overflowedIndicatorPopupClassName:w}=t,b=rue(t,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),E=$a(b,["collapsedWidth"]);(n=a.validator)===null||n===void 0||n.call(a,{mode:C});const O=br(function(){var H;T==null||T.apply(void 0,arguments),(H=a.onClick)===null||H===void 0||H.call(a)}),D=a.mode||C,R=x??a.selectable,I=S.useMemo(()=>h!==void 0?h:p,[p,h]),M={horizontal:{motionName:`${c}-slide-up`},inline:G7(c),other:{motionName:`${c}-zoom-big`}},A=i("menu",f||a.prefixCls),B=Xi(A),[L,F,_]=nue(A,B,!r),P=Se(`${A}-${g}`,l==null?void 0:l.className,u),N=S.useMemo(()=>{var H,K;if(typeof v=="function"||H4(v))return v||null;if(typeof a.expandIcon=="function"||H4(a.expandIcon))return a.expandIcon||null;if(typeof(l==null?void 0:l.expandIcon)=="function"||H4(l==null?void 0:l.expandIcon))return(l==null?void 0:l.expandIcon)||null;const te=(H=v??(a==null?void 0:a.expandIcon))!==null&&H!==void 0?H:l==null?void 0:l.expandIcon;return Hi(te,{className:Se(`${A}-submenu-expand-icon`,S.isValidElement(te)?(K=te.props)===null||K===void 0?void 0:K.className:void 0)})},[v,a==null?void 0:a.expandIcon,l==null?void 0:l.expandIcon,A]),k=S.useMemo(()=>({prefixCls:A,inlineCollapsed:I||!1,direction:s,firstLevel:!0,theme:g,mode:D,disableMenuItemTitleTooltip:m}),[A,I,s,m,g]);return L(S.createElement(US.Provider,{value:null},S.createElement(kS.Provider,{value:k},S.createElement(yp,Object.assign({getPopupContainer:o,overflowedIndicator:S.createElement(HV,null),overflowedIndicatorPopupClassName:Se(A,`${A}-${g}`,w),mode:D,selectable:R,onClick:O},E,{inlineCollapsed:I,style:Object.assign(Object.assign({},l==null?void 0:l.style),d),className:P,prefixCls:A,direction:s,defaultMotions:M,expandIcon:N,ref:e,rootClassName:Se(y,F,a.rootClassName,_,B),_internalComponents:aue})))))}),tg=S.forwardRef((t,e)=>{const n=S.useRef(null),r=S.useContext(F5);return S.useImperativeHandle(e,()=>({menu:n.current,focus:a=>{var i;(i=n.current)===null||i===void 0||i.focus(a)}})),S.createElement(iue,Object.assign({ref:n},t,r))});tg.Item=KV;tg.SubMenu=XV;tg.Divider=qV;tg.ItemGroup=CT;const oue=t=>{const{componentCls:e,menuCls:n,colorError:r,colorTextLightSolid:a}=t,i=`${n}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${n} ${i}`]:{[`&${i}-danger:not(${i}-disabled)`]:{color:r,"&:hover":{color:a,backgroundColor:r}}}}}},sue=t=>{const{componentCls:e,menuCls:n,zIndexPopup:r,dropdownArrowDistance:a,sizePopupArrow:i,antCls:o,iconCls:s,motionDurationMid:l,paddingBlock:c,fontSize:f,dropdownEdgeChildPadding:u,colorTextDisabled:d,fontSizeIcon:g,controlPaddingHorizontal:v,colorBgElevated:m}=t;return[{[e]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:t.calc(i).div(2).sub(a).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${o}-btn`]:{[`& > ${s}-down, & > ${o}-btn-icon > ${s}-down`]:{fontSize:g}},[`${e}-wrap`]:{position:"relative",[`${o}-btn > ${s}-down`]:{fontSize:g},[`${s}-down::before`]:{transition:`transform ${l}`}},[`${e}-wrap-open`]:{[`${s}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${o}-slide-down-enter${o}-slide-down-enter-active${e}-placement-bottomLeft,
          &${o}-slide-down-appear${o}-slide-down-appear-active${e}-placement-bottomLeft,
          &${o}-slide-down-enter${o}-slide-down-enter-active${e}-placement-bottom,
          &${o}-slide-down-appear${o}-slide-down-appear-active${e}-placement-bottom,
          &${o}-slide-down-enter${o}-slide-down-enter-active${e}-placement-bottomRight,
          &${o}-slide-down-appear${o}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:j7},[`&${o}-slide-up-enter${o}-slide-up-enter-active${e}-placement-topLeft,
          &${o}-slide-up-appear${o}-slide-up-appear-active${e}-placement-topLeft,
          &${o}-slide-up-enter${o}-slide-up-enter-active${e}-placement-top,
          &${o}-slide-up-appear${o}-slide-up-appear-active${e}-placement-top,
          &${o}-slide-up-enter${o}-slide-up-enter-active${e}-placement-topRight,
          &${o}-slide-up-appear${o}-slide-up-appear-active${e}-placement-topRight`]:{animationName:q7},[`&${o}-slide-down-leave${o}-slide-down-leave-active${e}-placement-bottomLeft,
          &${o}-slide-down-leave${o}-slide-down-leave-active${e}-placement-bottom,
          &${o}-slide-down-leave${o}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:H7},[`&${o}-slide-up-leave${o}-slide-up-leave-active${e}-placement-topLeft,
          &${o}-slide-up-leave${o}-slide-up-leave-active${e}-placement-top,
          &${o}-slide-up-leave${o}-slide-up-leave-active${e}-placement-topRight`]:{animationName:K7}}},DV(t,m,{arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:Object.assign(Object.assign({},aa(t)),{[n]:Object.assign(Object.assign({padding:u,listStyleType:"none",backgroundColor:m,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary},S1(t)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${xe(c)} ${xe(v)}`,color:t.colorTextDescription,transition:`all ${l}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:f,marginInlineEnd:t.marginXS,fontSize:t.fontSizeSM},[`${n}-title-content`]:{display:"flex",alignItems:"center",flex:"auto","> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:t.padding,marginInlineStart:"auto",fontSize:t.fontSizeSM,color:t.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${xe(c)} ${xe(v)}`,color:t.colorText,fontWeight:"normal",fontSize:f,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:t.borderRadiusSM,"&:hover, &-active":{backgroundColor:t.controlItemBgHover}},S1(t)),{"&-selected":{color:t.colorPrimary,backgroundColor:t.controlItemBgActive,"&:hover, &-active":{backgroundColor:t.controlItemBgActiveHover}},"&-disabled":{color:d,cursor:"not-allowed","&:hover":{color:d,backgroundColor:m,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${xe(t.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:t.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:t.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:t.colorTextDescription,fontSize:g,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${xe(t.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:t.calc(v).add(t.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:d,backgroundColor:m,cursor:"not-allowed"}},[`${n}-submenu-selected ${e}-menu-submenu-title`]:{color:t.colorPrimary}})})},[x1(t,"slide-up"),x1(t,"slide-down"),LS(t,"move-up"),LS(t,"move-down"),E5(t,"zoom-big")]]},lue=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+50,paddingBlock:(t.controlHeight-t.fontSize*t.lineHeight)/2},gT({contentRadius:t.borderRadiusLG,limitVerticalRadius:!0})),bV(t)),cue=ta("Dropdown",t=>{const{marginXXS:e,sizePopupArrow:n,paddingXXS:r,componentCls:a}=t,i=fr(t,{menuCls:`${a}-menu`,dropdownArrowDistance:t.calc(n).div(2).add(e).equal(),dropdownEdgeChildPadding:r});return[sue(i),oue(i)]},lue,{resetStyle:!1}),$5=t=>{var e;const{menu:n,arrow:r,prefixCls:a,children:i,trigger:o,disabled:s,dropdownRender:l,getPopupContainer:c,overlayClassName:f,rootClassName:u,overlayStyle:d,open:g,onOpenChange:v,visible:m,onVisibleChange:p,mouseEnterDelay:h=.15,mouseLeaveDelay:y=.1,autoAdjustOverflow:C=!0,placement:x="",overlay:T,transitionName:w}=t,{getPopupContainer:b,getPrefixCls:E,direction:O,dropdown:D}=S.useContext(cn);Tf();const R=S.useMemo(()=>{const we=E();return w!==void 0?w:x.includes("top")?`${we}-slide-down`:`${we}-slide-up`},[E,x,w]),I=S.useMemo(()=>x?x.includes("Center")?x.slice(0,x.indexOf("Center")):x:O==="rtl"?"bottomRight":"bottomLeft",[x,O]),M=E("dropdown",a),A=Xi(M),[B,L,F]=cue(M,A),[,_]=Ti(),P=S.Children.only(i),N=Hi(P,{className:Se(`${M}-trigger`,{[`${M}-rtl`]:O==="rtl"},P.props.className),disabled:(e=P.props.disabled)!==null&&e!==void 0?e:s}),k=s?[]:o,H=!!(k!=null&&k.includes("contextMenu")),[K,te]=Ha(!1,{value:g??m}),se=br(we=>{v==null||v(we,{source:"trigger"}),p==null||p(we),te(we)}),pe=Se(f,u,L,F,A,D==null?void 0:D.className,{[`${M}-rtl`]:O==="rtl"}),ve=OV({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:C,offset:_.marginXXS,arrowWidth:r?_.sizePopupArrow:0,borderRadius:_.borderRadius}),Te=S.useCallback(()=>{n!=null&&n.selectable&&(n!=null&&n.multiple)||(v==null||v(!1,{source:"menu"}),te(!1))},[n==null?void 0:n.selectable,n==null?void 0:n.multiple]),_e=()=>{let we;return n!=null&&n.items?we=S.createElement(tg,Object.assign({},n)):typeof T=="function"?we=T():we=T,l&&(we=l(we)),we=S.Children.only(typeof we=="string"?S.createElement("span",null,we):we),S.createElement(QV,{prefixCls:`${M}-menu`,rootClassName:Se(F,A),expandIcon:S.createElement("span",{className:`${M}-menu-submenu-arrow`},S.createElement(Mv,{className:`${M}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Te,validator:he=>{}},we)},[fe,ce]=fp("Dropdown",d==null?void 0:d.zIndex);let Ee=S.createElement(ece,Object.assign({alignPoint:H},$a(t,["rootClassName"]),{mouseEnterDelay:h,mouseLeaveDelay:y,visible:K,builtinPlacements:ve,arrow:!!r,overlayClassName:pe,prefixCls:M,getPopupContainer:c||b,transitionName:R,trigger:k,overlay:_e,placement:I,onVisibleChange:se,overlayStyle:Object.assign(Object.assign(Object.assign({},D==null?void 0:D.style),d),{zIndex:fe})}),N);return fe&&(Ee=S.createElement(S5.Provider,{value:ce},Ee)),B(Ee)};function uue(t){return Object.assign(Object.assign({},t),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const fue=tV($5,"dropdown",t=>t,uue),due=t=>S.createElement(fue,Object.assign({},t),S.createElement("span",null));$5._InternalPanelDoNotUseOrYouWillBeFired=due;const YV=S.createContext(null),gue=YV.Provider,ZV=S.createContext(null),mue=ZV.Provider;var vue=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],JV=S.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-checkbox":n,a=t.className,i=t.style,o=t.checked,s=t.disabled,l=t.defaultChecked,c=l===void 0?!1:l,f=t.type,u=f===void 0?"checkbox":f,d=t.title,g=t.onChange,v=Tn(t,vue),m=S.useRef(null),p=S.useRef(null),h=Ha(c,{value:o}),y=Ae(h,2),C=y[0],x=y[1];S.useImperativeHandle(e,function(){return{focus:function(E){var O;(O=m.current)===null||O===void 0||O.focus(E)},blur:function(){var E;(E=m.current)===null||E===void 0||E.blur()},input:m.current,nativeElement:p.current}});var T=Se(r,a,J(J({},"".concat(r,"-checked"),C),"".concat(r,"-disabled"),s)),w=function(E){s||("checked"in t||x(E.target.checked),g==null||g({target:ie(ie({},t),{},{type:u,checked:E.target.checked}),stopPropagation:function(){E.stopPropagation()},preventDefault:function(){E.preventDefault()},nativeEvent:E.nativeEvent}))};return S.createElement("span",{className:T,title:d,style:i,ref:p},S.createElement("input",tt({},v,{className:"".concat(r,"-input"),ref:m,onChange:w,disabled:s,checked:!!C,type:u})),S.createElement("span",{className:"".concat(r,"-inner")}))});const pue=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-group`;return{[r]:Object.assign(Object.assign({},aa(t)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},hue=t=>{const{componentCls:e,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:a,motionDurationSlow:i,motionDurationMid:o,motionEaseInOutCirc:s,colorBgContainer:l,colorBorder:c,lineWidth:f,colorBgContainerDisabled:u,colorTextDisabled:d,paddingXS:g,dotColorDisabled:v,lineType:m,radioColor:p,radioBgColor:h,calc:y}=t,C=`${e}-inner`,T=y(a).sub(y(4).mul(2)),w=y(1).mul(a).equal({unit:!0});return{[`${e}-wrapper`]:Object.assign(Object.assign({},aa(t)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer",[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:t.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${xe(f)} ${m} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[e]:Object.assign(Object.assign({},aa(t)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${C}`]:{borderColor:r},[`${e}-input:focus-visible + ${C}`]:Object.assign({},Dc(t)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:w,height:w,marginBlockStart:y(1).mul(a).div(-2).equal({unit:!0}),marginInlineStart:y(1).mul(a).div(-2).equal({unit:!0}),backgroundColor:p,borderBlockStart:0,borderInlineStart:0,borderRadius:w,transform:"scale(0)",opacity:0,transition:`all ${i} ${s}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:w,height:w,backgroundColor:l,borderColor:c,borderStyle:"solid",borderWidth:f,borderRadius:"50%",transition:`all ${o}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[C]:{borderColor:r,backgroundColor:h,"&::after":{transform:`scale(${t.calc(t.dotSize).div(a).equal()})`,opacity:1,transition:`all ${i} ${s}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[C]:{backgroundColor:u,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:v}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:d,cursor:"not-allowed"},[`&${e}-checked`]:{[C]:{"&::after":{transform:`scale(${y(T).div(a).equal()})`}}}},[`span${e} + *`]:{paddingInlineStart:g,paddingInlineEnd:g}})}},Sue=t=>{const{buttonColor:e,controlHeight:n,componentCls:r,lineWidth:a,lineType:i,colorBorder:o,motionDurationSlow:s,motionDurationMid:l,buttonPaddingInline:c,fontSize:f,buttonBg:u,fontSizeLG:d,controlHeightLG:g,controlHeightSM:v,paddingXS:m,borderRadius:p,borderRadiusSM:h,borderRadiusLG:y,buttonCheckedBg:C,buttonSolidCheckedColor:x,colorTextDisabled:T,colorBgContainerDisabled:w,buttonCheckedBgDisabled:b,buttonCheckedColorDisabled:E,colorPrimary:O,colorPrimaryHover:D,colorPrimaryActive:R,buttonSolidCheckedBg:I,buttonSolidCheckedHoverBg:M,buttonSolidCheckedActiveBg:A,calc:B}=t;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:c,paddingBlock:0,color:e,fontSize:f,lineHeight:xe(B(n).sub(B(a).mul(2)).equal()),background:u,border:`${xe(a)} ${i} ${o}`,borderBlockStartWidth:B(a).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:a,cursor:"pointer",transition:[`color ${l}`,`background ${l}`,`box-shadow ${l}`].join(","),a:{color:e},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:B(a).mul(-1).equal(),insetInlineStart:B(a).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:a,paddingInline:0,backgroundColor:o,transition:`background-color ${s}`,content:'""'}},"&:first-child":{borderInlineStart:`${xe(a)} ${i} ${o}`,borderStartStartRadius:p,borderEndStartRadius:p},"&:last-child":{borderStartEndRadius:p,borderEndEndRadius:p},"&:first-child:last-child":{borderRadius:p},[`${r}-group-large &`]:{height:g,fontSize:d,lineHeight:xe(B(g).sub(B(a).mul(2)).equal()),"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y}},[`${r}-group-small &`]:{height:v,paddingInline:B(m).sub(a).equal(),paddingBlock:0,lineHeight:xe(B(v).sub(B(a).mul(2)).equal()),"&:first-child":{borderStartStartRadius:h,borderEndStartRadius:h},"&:last-child":{borderStartEndRadius:h,borderEndEndRadius:h}},"&:hover":{position:"relative",color:O},"&:has(:focus-visible)":Object.assign({},Dc(t)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:O,background:C,borderColor:O,"&::before":{backgroundColor:O},"&:first-child":{borderColor:O},"&:hover":{color:D,borderColor:D,"&::before":{backgroundColor:D}},"&:active":{color:R,borderColor:R,"&::before":{backgroundColor:R}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:x,background:I,borderColor:I,"&:hover":{color:x,background:M,borderColor:M},"&:active":{color:x,background:A,borderColor:A}},"&-disabled":{color:T,backgroundColor:w,borderColor:o,cursor:"not-allowed","&:first-child, &:hover":{color:T,backgroundColor:w,borderColor:o}},[`&-disabled${r}-button-wrapper-checked`]:{color:E,backgroundColor:b,borderColor:o,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},yue=t=>{const{wireframe:e,padding:n,marginXS:r,lineWidth:a,fontSizeLG:i,colorText:o,colorBgContainer:s,colorTextDisabled:l,controlItemBgActiveDisabled:c,colorTextLightSolid:f,colorPrimary:u,colorPrimaryHover:d,colorPrimaryActive:g,colorWhite:v}=t,m=4,p=i,h=e?p-m*2:p-(m+a)*2;return{radioSize:p,dotSize:h,dotColorDisabled:l,buttonSolidCheckedColor:f,buttonSolidCheckedBg:u,buttonSolidCheckedHoverBg:d,buttonSolidCheckedActiveBg:g,buttonBg:s,buttonCheckedBg:s,buttonColor:o,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:l,buttonPaddingInline:n-a,wrapperMarginInlineEnd:r,radioColor:e?u:v,radioBgColor:e?s:u}},ek=ta("Radio",t=>{const{controlOutline:e,controlOutlineWidth:n}=t,r=`0 0 0 ${xe(n)} ${e}`,i=fr(t,{radioFocusShadow:r,radioButtonFocusShadow:r});return[pue(i),hue(i),Sue(i)]},yue,{unitless:{radioSize:!0,dotSize:!0}});var Cue=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const xue=(t,e)=>{var n,r;const a=S.useContext(YV),i=S.useContext(ZV),{getPrefixCls:o,direction:s,radio:l}=S.useContext(cn),c=S.useRef(null),f=Vo(e,c),{isFormItemInput:u}=S.useContext(Ns),d=A=>{var B,L;(B=t.onChange)===null||B===void 0||B.call(t,A),(L=a==null?void 0:a.onChange)===null||L===void 0||L.call(a,A)},{prefixCls:g,className:v,rootClassName:m,children:p,style:h,title:y}=t,C=Cue(t,["prefixCls","className","rootClassName","children","style","title"]),x=o("radio",g),T=((a==null?void 0:a.optionType)||i)==="button",w=T?`${x}-button`:x,b=Xi(x),[E,O,D]=ek(x,b),R=Object.assign({},C),I=S.useContext(ls);a&&(R.name=a.name,R.onChange=d,R.checked=t.value===a.value,R.disabled=(n=R.disabled)!==null&&n!==void 0?n:a.disabled),R.disabled=(r=R.disabled)!==null&&r!==void 0?r:I;const M=Se(`${w}-wrapper`,{[`${w}-wrapper-checked`]:R.checked,[`${w}-wrapper-disabled`]:R.disabled,[`${w}-wrapper-rtl`]:s==="rtl",[`${w}-wrapper-in-form-item`]:u,[`${w}-wrapper-block`]:!!(a!=null&&a.block)},l==null?void 0:l.className,v,m,O,D,b);return E(S.createElement(z7,{component:"Radio",disabled:R.disabled},S.createElement("label",{className:M,style:Object.assign(Object.assign({},l==null?void 0:l.style),h),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,title:y},S.createElement(JV,Object.assign({},R,{className:Se(R.className,{[x5]:!T}),type:"radio",prefixCls:w,ref:f})),p!==void 0?S.createElement("span",null,p):null)))},BS=S.forwardRef(xue),Tue=S.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=S.useContext(cn),{prefixCls:a,className:i,rootClassName:o,options:s,buttonStyle:l="outline",disabled:c,children:f,size:u,style:d,id:g,optionType:v,name:m,defaultValue:p,value:h,block:y=!1,onChange:C,onMouseEnter:x,onMouseLeave:T,onFocus:w,onBlur:b}=t,[E,O]=Ha(p,{value:h}),D=S.useCallback(k=>{const H=E,K=k.target.value;"value"in t||O(K),K!==H&&(C==null||C(k))},[E,O,C]),R=n("radio",a),I=`${R}-group`,M=Xi(R),[A,B,L]=ek(R,M);let F=f;s&&s.length>0&&(F=s.map(k=>typeof k=="string"||typeof k=="number"?S.createElement(BS,{key:k.toString(),prefixCls:R,disabled:c,value:k,checked:E===k},k):S.createElement(BS,{key:`radio-group-value-options-${k.value}`,prefixCls:R,disabled:k.disabled||c,value:k.value,checked:E===k.value,title:k.title,style:k.style,id:k.id,required:k.required},k.label)));const _=Us(u),P=Se(I,`${I}-${l}`,{[`${I}-${_}`]:_,[`${I}-rtl`]:r==="rtl",[`${I}-block`]:y},i,o,B,L,M),N=S.useMemo(()=>({onChange:D,value:E,disabled:c,name:m,optionType:v,block:y}),[D,E,c,m,v,y]);return A(S.createElement("div",Object.assign({},Pi(t,{aria:!0,data:!0}),{className:P,style:d,onMouseEnter:x,onMouseLeave:T,onFocus:w,onBlur:b,id:g,ref:e}),S.createElement(gue,{value:N},F)))}),wue=S.memo(Tue);var bue=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Eue=(t,e)=>{const{getPrefixCls:n}=S.useContext(cn),{prefixCls:r}=t,a=bue(t,["prefixCls"]),i=n("radio",r);return S.createElement(mue,{value:"button"},S.createElement(BS,Object.assign({prefixCls:i},a,{type:"radio",ref:e})))},Due=S.forwardRef(Eue),B0=BS;B0.Button=Due;B0.Group=wue;B0.__ANT_RADIO=!0;function xT(t){return fr(t,{inputAffixPadding:t.paddingXXS})}const TT=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:a,controlHeightSM:i,controlHeightLG:o,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:f,controlPaddingHorizontal:u,colorFillAlter:d,colorPrimaryHover:g,colorPrimary:v,controlOutlineWidth:m,controlOutline:p,colorErrorOutline:h,colorWarningOutline:y,colorBgContainer:C}=t;return{paddingBlock:Math.max(Math.round((e-n*r)/2*10)/10-a,0),paddingBlockSM:Math.max(Math.round((i-n*r)/2*10)/10-a,0),paddingBlockLG:Math.ceil((o-s*l)/2*10)/10-a,paddingInline:c-a,paddingInlineSM:f-a,paddingInlineLG:u-a,addonBg:d,activeBorderColor:v,hoverBorderColor:g,activeShadow:`0 0 0 ${m}px ${p}`,errorActiveShadow:`0 0 0 ${m}px ${h}`,warningActiveShadow:`0 0 0 ${m}px ${y}`,hoverBg:C,activeBg:C,inputFontSize:n,inputFontSizeLG:s,inputFontSizeSM:n}},Oue=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),V5=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},Oue(fr(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),wT=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),qR=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},wT(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),Rue=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wT(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},V5(t))}),qR(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),qR(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),KR=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),Iue=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},KR(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),KR(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},V5(t))}})}),Aue=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},tk=(t,e)=>({background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}),QR=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},tk(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),Mue=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tk(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},V5(t))}),QR(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),QR(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),XR=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),Pue=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary},[`${t.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}}},XR(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),XR(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),Lue=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),nk=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:a}=t;return{padding:`${xe(e)} ${xe(a)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},bT=t=>({padding:`${xe(t.paddingBlockSM)} ${xe(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),ET=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${xe(t.paddingBlock)} ${xe(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},Lue(t.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},nk(t)),"&-sm":Object.assign({},bT(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),_ue=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},nk(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},bT(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${xe(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${xe(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${xe(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${xe(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${xe(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},rf()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},Nue=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:a}=t,o=a(n).sub(a(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aa(t)),ET(t)),Rue(t)),Mue(t)),Aue(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},Fue=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${xe(t.inputAffixPadding)}`}}}},$ue=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:a,colorIcon:i,colorIconHover:o,iconCls:s}=t,l=`${e}-affix-wrapper`,c=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},ET(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),Fue(t)),{[`${s}${e}-password-icon`]:{color:i,cursor:"pointer",transition:`all ${a}`,"&:hover":{color:o}}}),[c]:{[`${s}${e}-password-icon`]:{color:i,cursor:"not-allowed","&:hover":{color:i}}}}},Vue=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},aa(t)),_ue(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},Iue(t)),Pue(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},kue=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:t.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},Uue=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},Bue=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},DT=ta("Input",t=>{const e=fr(t,xT(t));return[Nue(e),Uue(e),$ue(e),Vue(e),kue(e),Bue(e),tT(e)]},TT,{resetFont:!1});function Gue(t,e,n){var r=n||{},a=r.noTrailing,i=a===void 0?!1:a,o=r.noLeading,s=o===void 0?!1:o,l=r.debounceMode,c=l===void 0?void 0:l,f,u=!1,d=0;function g(){f&&clearTimeout(f)}function v(p){var h=p||{},y=h.upcomingOnly,C=y===void 0?!1:y;g(),u=!C}function m(){for(var p=arguments.length,h=new Array(p),y=0;y<p;y++)h[y]=arguments[y];var C=this,x=Date.now()-d;if(u)return;function T(){d=Date.now(),e.apply(C,h)}function w(){f=void 0}!s&&c&&!f&&T(),g(),c===void 0&&x>t?s?(d=Date.now(),i||(f=setTimeout(c?w:T,t))):T():i!==!0&&(f=setTimeout(c?w:T,c===void 0?t-x:t))}return m.cancel=v,m}function zue(t,e,n){var r={},a=r.atBegin,i=a===void 0?!1:a;return Gue(t,e,{debounceMode:i!==!1})}function ao(t,e){return t[e]}var Wue=["children"];function rk(t,e){return"".concat(t,"-").concat(e)}function jue(t){return t&&t.type&&t.type.isTreeNode}function Cp(t,e){return t??e}function b1(t){var e=t||{},n=e.title,r=e._title,a=e.key,i=e.children,o=n||"title";return{title:o,_title:r||[o],key:a||"key",children:i||"children"}}function ak(t){function e(n){var r=os(n);return r.map(function(a){if(!jue(a))return jr(!a,"Tree/TreeNode can only accept TreeNode as children."),null;var i=a.key,o=a.props,s=o.children,l=Tn(o,Wue),c=ie({key:i},l),f=e(s);return f.length&&(c.children=f),c}).filter(function(a){return a})}return e(t)}function q4(t,e,n){var r=b1(n),a=r._title,i=r.key,o=r.children,s=new Set(e===!0?[]:e),l=[];function c(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f.map(function(d,g){for(var v=rk(u?u.pos:"0",g),m=Cp(d[i],v),p,h=0;h<a.length;h+=1){var y=a[h];if(d[y]!==void 0){p=d[y];break}}var C=Object.assign($a(d,[].concat(Ze(a),[i,o])),{title:p,key:m,parent:u,pos:v,children:null,data:d,isStart:[].concat(Ze(u?u.isStart:[]),[g===0]),isEnd:[].concat(Ze(u?u.isEnd:[]),[g===f.length-1])});return l.push(C),e===!0||s.has(m)?C.children=c(d[o]||[],C):C.children=[],C})}return c(t),l}function Hue(t,e,n){var r={};qt(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var a=r,i=a.childrenPropName,o=a.externalGetKey,s=a.fieldNames,l=b1(s),c=l.key,f=l.children,u=i||f,d;o?typeof o=="string"?d=function(m){return m[o]}:typeof o=="function"&&(d=function(m){return o(m)}):d=function(m,p){return Cp(m[c],p)};function g(v,m,p,h){var y=v?v[u]:t,C=v?rk(p.pos,m):"0",x=v?[].concat(Ze(h),[v]):[];if(v){var T=d(v,C),w={node:v,index:m,pos:C,key:T,parentPos:p.node?p.pos:null,level:p.level+1,nodes:x};e(w)}y&&y.forEach(function(b,E){g(b,E,{node:v,pos:C,level:p?p.level+1:-1},x)})}g(null)}function OT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.initWrapper,r=e.processEntity,a=e.onProcessFinished,i=e.externalGetKey,o=e.childrenPropName,s=e.fieldNames,l=arguments.length>2?arguments[2]:void 0,c=i||l,f={},u={},d={posEntities:f,keyEntities:u};return n&&(d=n(d)||d),Hue(t,function(g){var v=g.node,m=g.index,p=g.pos,h=g.key,y=g.parentPos,C=g.level,x=g.nodes,T={node:v,nodes:x,index:m,key:h,pos:p,level:C},w=Cp(h,p);f[p]=T,u[w]=T,T.parent=f[y],T.parent&&(T.parent.children=T.parent.children||[],T.parent.children.push(T)),r&&r(T,d)},{externalGetKey:c,childrenPropName:o,fieldNames:s}),a&&a(d),d}function _m(t,e){var n=e.expandedKeys,r=e.selectedKeys,a=e.loadedKeys,i=e.loadingKeys,o=e.checkedKeys,s=e.halfCheckedKeys,l=e.dragOverNodeKey,c=e.dropPosition,f=e.keyEntities,u=ao(f,t),d={eventKey:t,expanded:n.indexOf(t)!==-1,selected:r.indexOf(t)!==-1,loaded:a.indexOf(t)!==-1,loading:i.indexOf(t)!==-1,checked:o.indexOf(t)!==-1,halfChecked:s.indexOf(t)!==-1,pos:String(u?u.pos:""),dragOver:l===t&&c===0,dragOverGapTop:l===t&&c===-1,dragOverGapBottom:l===t&&c===1};return d}function Ba(t){var e=t.data,n=t.expanded,r=t.selected,a=t.checked,i=t.loaded,o=t.loading,s=t.halfChecked,l=t.dragOver,c=t.dragOverGapTop,f=t.dragOverGapBottom,u=t.pos,d=t.active,g=t.eventKey,v=ie(ie({},e),{},{expanded:n,selected:r,checked:a,loaded:i,loading:o,halfChecked:s,dragOver:l,dragOverGapTop:c,dragOverGapBottom:f,pos:u,active:d,key:g});return"props"in v||Object.defineProperty(v,"props",{get:function(){return jr(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),v}function ik(t,e){var n=new Set;return t.forEach(function(r){e.has(r)||n.add(r)}),n}function que(t){var e=t||{},n=e.disabled,r=e.disableCheckbox,a=e.checkable;return!!(n||r)||a===!1}function Kue(t,e,n,r){for(var a=new Set(t),i=new Set,o=0;o<=n;o+=1){var s=e.get(o)||new Set;s.forEach(function(u){var d=u.key,g=u.node,v=u.children,m=v===void 0?[]:v;a.has(d)&&!r(g)&&m.filter(function(p){return!r(p.node)}).forEach(function(p){a.add(p.key)})})}for(var l=new Set,c=n;c>=0;c-=1){var f=e.get(c)||new Set;f.forEach(function(u){var d=u.parent,g=u.node;if(!(r(g)||!u.parent||l.has(u.parent.key))){if(r(u.parent.node)){l.add(d.key);return}var v=!0,m=!1;(d.children||[]).filter(function(p){return!r(p.node)}).forEach(function(p){var h=p.key,y=a.has(h);v&&!y&&(v=!1),!m&&(y||i.has(h))&&(m=!0)}),v&&a.add(d.key),m&&i.add(d.key),l.add(d.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(ik(i,a))}}function Que(t,e,n,r,a){for(var i=new Set(t),o=new Set(e),s=0;s<=r;s+=1){var l=n.get(s)||new Set;l.forEach(function(d){var g=d.key,v=d.node,m=d.children,p=m===void 0?[]:m;!i.has(g)&&!o.has(g)&&!a(v)&&p.filter(function(h){return!a(h.node)}).forEach(function(h){i.delete(h.key)})})}o=new Set;for(var c=new Set,f=r;f>=0;f-=1){var u=n.get(f)||new Set;u.forEach(function(d){var g=d.parent,v=d.node;if(!(a(v)||!d.parent||c.has(d.parent.key))){if(a(d.parent.node)){c.add(g.key);return}var m=!0,p=!1;(g.children||[]).filter(function(h){return!a(h.node)}).forEach(function(h){var y=h.key,C=i.has(y);m&&!C&&(m=!1),!p&&(C||o.has(y))&&(p=!0)}),m||i.delete(g.key),p&&o.add(g.key),c.add(g.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(ik(o,i))}}function Bd(t,e,n,r){var a=[],i;r?i=r:i=que;var o=new Set(t.filter(function(f){var u=!!ao(n,f);return u||a.push(f),u})),s=new Map,l=0;Object.keys(n).forEach(function(f){var u=n[f],d=u.level,g=s.get(d);g||(g=new Set,s.set(d,g)),g.add(u),l=Math.max(l,d)}),jr(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map(function(f){return"'".concat(f,"'")}).join(", ")));var c;return e===!0?c=Kue(o,s,l,i):c=Que(o,e.halfCheckedKeys,s,l,i),c}const Xue=t=>{const{checkboxCls:e}=t,n=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},aa(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,[`> ${t.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},aa(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},aa(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:t.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},Dc(t))},[`${e}-inner`]:{boxSizing:"border-box",display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:`all ${t.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:t.calc(t.checkboxSize).div(14).mul(5).equal(),height:t.calc(t.checkboxSize).div(14).mul(8).equal(),border:`${xe(t.lineWidthBold)} solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:t.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:t.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:t.calc(t.fontSizeLG).div(2).equal(),height:t.calc(t.fontSizeLG).div(2).equal(),backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${e}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:t.colorTextDisabled}}}]};function ok(t,e){const n=fr(e,{checkboxCls:`.${t}`,checkboxSize:e.controlInteractiveSize});return[Xue(n)]}const sk=ta("Checkbox",(t,e)=>{let{prefixCls:n}=e;return[ok(n,t)]}),lk=Oe.createContext(null);var Yue=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Zue=(t,e)=>{var n;const{prefixCls:r,className:a,rootClassName:i,children:o,indeterminate:s=!1,style:l,onMouseEnter:c,onMouseLeave:f,skipGroup:u=!1,disabled:d}=t,g=Yue(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:v,direction:m,checkbox:p}=S.useContext(cn),h=S.useContext(lk),{isFormItemInput:y}=S.useContext(Ns),C=S.useContext(ls),x=(n=(h==null?void 0:h.disabled)||d)!==null&&n!==void 0?n:C,T=S.useRef(g.value);S.useEffect(()=>{h==null||h.registerValue(g.value)},[]),S.useEffect(()=>{if(!u)return g.value!==T.current&&(h==null||h.cancelValue(T.current),h==null||h.registerValue(g.value),T.current=g.value),()=>h==null?void 0:h.cancelValue(g.value)},[g.value]);const w=v("checkbox",r),b=Xi(w),[E,O,D]=sk(w,b),R=Object.assign({},g);h&&!u&&(R.onChange=function(){g.onChange&&g.onChange.apply(g,arguments),h.toggleOption&&h.toggleOption({label:o,value:g.value})},R.name=h.name,R.checked=h.value.includes(g.value));const I=Se(`${w}-wrapper`,{[`${w}-rtl`]:m==="rtl",[`${w}-wrapper-checked`]:R.checked,[`${w}-wrapper-disabled`]:x,[`${w}-wrapper-in-form-item`]:y},p==null?void 0:p.className,a,i,D,b,O),M=Se({[`${w}-indeterminate`]:s},x5,O),A=s?"mixed":void 0;return E(S.createElement(z7,{component:"Checkbox",disabled:x},S.createElement("label",{className:I,style:Object.assign(Object.assign({},p==null?void 0:p.style),l),onMouseEnter:c,onMouseLeave:f},S.createElement(JV,Object.assign({"aria-checked":A},R,{prefixCls:w,className:M,disabled:x,ref:e})),o!==void 0&&S.createElement("span",null,o))))},ck=S.forwardRef(Zue);var Jue=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const efe=S.forwardRef((t,e)=>{const{defaultValue:n,children:r,options:a=[],prefixCls:i,className:o,rootClassName:s,style:l,onChange:c}=t,f=Jue(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:u,direction:d}=S.useContext(cn),[g,v]=S.useState(f.value||n||[]),[m,p]=S.useState([]);S.useEffect(()=>{"value"in f&&v(f.value||[])},[f.value]);const h=S.useMemo(()=>a.map(B=>typeof B=="string"||typeof B=="number"?{label:B,value:B}:B),[a]),y=B=>{p(L=>L.filter(F=>F!==B))},C=B=>{p(L=>[].concat(Ze(L),[B]))},x=B=>{const L=g.indexOf(B.value),F=Ze(g);L===-1?F.push(B.value):F.splice(L,1),"value"in f||v(F),c==null||c(F.filter(_=>m.includes(_)).sort((_,P)=>{const N=h.findIndex(H=>H.value===_),k=h.findIndex(H=>H.value===P);return N-k}))},T=u("checkbox",i),w=`${T}-group`,b=Xi(T),[E,O,D]=sk(T,b),R=$a(f,["value","disabled"]),I=a.length?h.map(B=>S.createElement(ck,{prefixCls:T,key:B.value.toString(),disabled:"disabled"in B?B.disabled:f.disabled,value:B.value,checked:g.includes(B.value),onChange:B.onChange,className:`${w}-item`,style:B.style,title:B.title,id:B.id,required:B.required},B.label)):r,M={toggleOption:x,value:g,disabled:f.disabled,name:f.name,registerValue:C,cancelValue:y},A=Se(w,{[`${w}-rtl`]:d==="rtl"},o,s,D,b,O);return E(S.createElement("div",Object.assign({className:A,style:l},R,{ref:e}),S.createElement(lk.Provider,{value:M},I)))}),E1=ck;E1.Group=efe;E1.__ANT_CHECKBOX=!0;const uk=S.createContext({}),tfe=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},nfe=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},rfe=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:a}=t,i={};for(let o=a;o>=0;o--)o===0?(i[`${r}${e}-${o}`]={display:"none"},i[`${r}-push-${o}`]={insetInlineStart:"auto"},i[`${r}-pull-${o}`]={insetInlineEnd:"auto"},i[`${r}${e}-push-${o}`]={insetInlineStart:"auto"},i[`${r}${e}-pull-${o}`]={insetInlineEnd:"auto"},i[`${r}${e}-offset-${o}`]={marginInlineStart:0},i[`${r}${e}-order-${o}`]={order:0}):(i[`${r}${e}-${o}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${o/a*100}%`,maxWidth:`${o/a*100}%`}],i[`${r}${e}-push-${o}`]={insetInlineStart:`${o/a*100}%`},i[`${r}${e}-pull-${o}`]={insetInlineEnd:`${o/a*100}%`},i[`${r}${e}-offset-${o}`]={marginInlineStart:`${o/a*100}%`},i[`${r}${e}-order-${o}`]={order:o});return i[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},i},c9=(t,e)=>rfe(t,e),afe=(t,e,n)=>({[`@media (min-width: ${xe(e)})`]:Object.assign({},c9(t,n))}),ife=()=>({}),ofe=()=>({}),sfe=ta("Grid",tfe,ife),lfe=ta("Grid",t=>{const e=fr(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[nfe(e),c9(e,""),c9(e,"-xs"),Object.keys(n).map(r=>afe(e,n[r],r)).reduce((r,a)=>Object.assign(Object.assign({},r),a),{})]},ofe);var cfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function YR(t){return typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const ufe=["xs","sm","md","lg","xl","xxl"],ffe=S.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=S.useContext(cn),{gutter:a,wrap:i}=S.useContext(uk),{prefixCls:o,span:s,order:l,offset:c,push:f,pull:u,className:d,children:g,flex:v,style:m}=t,p=cfe(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),h=n("col",o),[y,C,x]=lfe(h),T={};let w={};ufe.forEach(O=>{let D={};const R=t[O];typeof R=="number"?D.span=R:typeof R=="object"&&(D=R||{}),delete p[O],w=Object.assign(Object.assign({},w),{[`${h}-${O}-${D.span}`]:D.span!==void 0,[`${h}-${O}-order-${D.order}`]:D.order||D.order===0,[`${h}-${O}-offset-${D.offset}`]:D.offset||D.offset===0,[`${h}-${O}-push-${D.push}`]:D.push||D.push===0,[`${h}-${O}-pull-${D.pull}`]:D.pull||D.pull===0,[`${h}-rtl`]:r==="rtl"}),D.flex&&(w[`${h}-${O}-flex`]=!0,T[`--${h}-${O}-flex`]=YR(D.flex))});const b=Se(h,{[`${h}-${s}`]:s!==void 0,[`${h}-order-${l}`]:l,[`${h}-offset-${c}`]:c,[`${h}-push-${f}`]:f,[`${h}-pull-${u}`]:u},d,w,C,x),E={};if(a&&a[0]>0){const O=a[0]/2;E.paddingLeft=O,E.paddingRight=O}return v&&(E.flex=YR(v),i===!1&&!E.minWidth&&(E.minWidth=0)),y(S.createElement("div",Object.assign({},p,{style:Object.assign(Object.assign(Object.assign({},E),m),T),className:b,ref:e}),g))});var dfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function ZR(t,e){const[n,r]=S.useState(typeof t=="string"?t:""),a=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let i=0;i<af.length;i++){const o=af[i];if(!e[o])continue;const s=t[o];if(s!==void 0){r(s);return}}};return S.useEffect(()=>{a()},[JSON.stringify(t),e]),n}const gfe=S.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:a,className:i,style:o,children:s,gutter:l=0,wrap:c}=t,f=dfe(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:u,direction:d}=S.useContext(cn),[g,v]=S.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[m,p]=S.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),h=ZR(a,m),y=ZR(r,m),C=S.useRef(l),x=TV();S.useEffect(()=>{const F=x.subscribe(_=>{p(_);const P=C.current||0;(!Array.isArray(P)&&typeof P=="object"||Array.isArray(P)&&(typeof P[0]=="object"||typeof P[1]=="object"))&&v(_)});return()=>x.unsubscribe(F)},[]);const T=()=>{const F=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((P,N)=>{if(typeof P=="object")for(let k=0;k<af.length;k++){const H=af[k];if(g[H]&&P[H]!==void 0){F[N]=P[H];break}}else F[N]=P}),F},w=u("row",n),[b,E,O]=sfe(w),D=T(),R=Se(w,{[`${w}-no-wrap`]:c===!1,[`${w}-${y}`]:y,[`${w}-${h}`]:h,[`${w}-rtl`]:d==="rtl"},i,E,O),I={},M=D[0]!=null&&D[0]>0?D[0]/-2:void 0;M&&(I.marginLeft=M,I.marginRight=M);const[A,B]=D;I.rowGap=B;const L=S.useMemo(()=>({gutter:[A,B],wrap:c}),[A,B,c]);return b(S.createElement(uk.Provider,{value:L},S.createElement("div",Object.assign({},f,{className:R,style:Object.assign(Object.assign({},I),o),ref:e}),s)))});function mfe(t){return!!(t.addonBefore||t.addonAfter)}function vfe(t){return!!(t.prefix||t.suffix||t.allowClear)}function JR(t,e,n){var r=e.cloneNode(!0),a=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},a}function GS(t,e,n,r){if(n){var a=e;if(e.type==="click"){a=JR(e,t,""),n(a);return}if(t.type!=="file"&&r!==void 0){a=JR(e,t,r),n(a);return}n(a)}}function pfe(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var a=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(a,a);break;default:t.setSelectionRange(0,a)}}}}var fk=Oe.forwardRef(function(t,e){var n,r,a=t.inputElement,i=t.children,o=t.prefixCls,s=t.prefix,l=t.suffix,c=t.addonBefore,f=t.addonAfter,u=t.className,d=t.style,g=t.disabled,v=t.readOnly,m=t.focused,p=t.triggerFocus,h=t.allowClear,y=t.value,C=t.handleReset,x=t.hidden,T=t.classes,w=t.classNames,b=t.dataAttrs,E=t.styles,O=t.components,D=t.onClear,R=i??a,I=(O==null?void 0:O.affixWrapper)||"span",M=(O==null?void 0:O.groupWrapper)||"span",A=(O==null?void 0:O.wrapper)||"span",B=(O==null?void 0:O.groupAddon)||"span",L=S.useRef(null),F=function(he){var Re;(Re=L.current)!==null&&Re!==void 0&&Re.contains(he.target)&&(p==null||p())},_=vfe(t),P=S.cloneElement(R,{value:y,className:Se(R.props.className,!_&&(w==null?void 0:w.variant))||null}),N=S.useRef(null);if(Oe.useImperativeHandle(e,function(){return{nativeElement:N.current||L.current}}),_){var k=null;if(h){var H=!g&&!v&&y,K="".concat(o,"-clear-icon"),te=qt(h)==="object"&&h!==null&&h!==void 0&&h.clearIcon?h.clearIcon:"✖";k=Oe.createElement("span",{onClick:function(he){C==null||C(he),D==null||D()},onMouseDown:function(he){return he.preventDefault()},className:Se(K,J(J({},"".concat(K,"-hidden"),!H),"".concat(K,"-has-suffix"),!!l)),role:"button",tabIndex:-1},te)}var se="".concat(o,"-affix-wrapper"),pe=Se(se,J(J(J(J(J({},"".concat(o,"-disabled"),g),"".concat(se,"-disabled"),g),"".concat(se,"-focused"),m),"".concat(se,"-readonly"),v),"".concat(se,"-input-with-clear-btn"),l&&h&&y),T==null?void 0:T.affixWrapper,w==null?void 0:w.affixWrapper,w==null?void 0:w.variant),ve=(l||h)&&Oe.createElement("span",{className:Se("".concat(o,"-suffix"),w==null?void 0:w.suffix),style:E==null?void 0:E.suffix},k,l);P=Oe.createElement(I,tt({className:pe,style:E==null?void 0:E.affixWrapper,onClick:F},b==null?void 0:b.affixWrapper,{ref:L}),s&&Oe.createElement("span",{className:Se("".concat(o,"-prefix"),w==null?void 0:w.prefix),style:E==null?void 0:E.prefix},s),P,ve)}if(mfe(t)){var Te="".concat(o,"-group"),_e="".concat(Te,"-addon"),fe="".concat(Te,"-wrapper"),ce=Se("".concat(o,"-wrapper"),Te,T==null?void 0:T.wrapper,w==null?void 0:w.wrapper),Ee=Se(fe,J({},"".concat(fe,"-disabled"),g),T==null?void 0:T.group,w==null?void 0:w.groupWrapper);P=Oe.createElement(M,{className:Ee,ref:N},Oe.createElement(A,{className:ce},c&&Oe.createElement(B,{className:_e},c),P,f&&Oe.createElement(B,{className:_e},f)))}return Oe.cloneElement(P,{className:Se((n=P.props)===null||n===void 0?void 0:n.className,u)||null,style:ie(ie({},(r=P.props)===null||r===void 0?void 0:r.style),d),hidden:x})}),hfe=["show"];function dk(t,e){return S.useMemo(function(){var n={};e&&(n.show=qt(e)==="object"&&e.formatter?e.formatter:!!e),n=ie(ie({},n),t);var r=n,a=r.show,i=Tn(r,hfe);return ie(ie({},i),{},{show:!!a,showFormatter:typeof a=="function"?a:void 0,strategy:i.strategy||function(o){return o.length}})},[t,e])}var Sfe=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],yfe=S.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,a=t.onFocus,i=t.onBlur,o=t.onPressEnter,s=t.onKeyDown,l=t.onKeyUp,c=t.prefixCls,f=c===void 0?"rc-input":c,u=t.disabled,d=t.htmlSize,g=t.className,v=t.maxLength,m=t.suffix,p=t.showCount,h=t.count,y=t.type,C=y===void 0?"text":y,x=t.classes,T=t.classNames,w=t.styles,b=t.onCompositionStart,E=t.onCompositionEnd,O=Tn(t,Sfe),D=S.useState(!1),R=Ae(D,2),I=R[0],M=R[1],A=S.useRef(!1),B=S.useRef(!1),L=S.useRef(null),F=S.useRef(null),_=function(j){L.current&&pfe(L.current,j)},P=Ha(t.defaultValue,{value:t.value}),N=Ae(P,2),k=N[0],H=N[1],K=k==null?"":String(k),te=S.useState(null),se=Ae(te,2),pe=se[0],ve=se[1],Te=dk(h,p),_e=Te.max||v,fe=Te.strategy(K),ce=!!_e&&fe>_e;S.useImperativeHandle(e,function(){var ee;return{focus:_,blur:function(){var oe;(oe=L.current)===null||oe===void 0||oe.blur()},setSelectionRange:function(oe,be,Ue){var ze;(ze=L.current)===null||ze===void 0||ze.setSelectionRange(oe,be,Ue)},select:function(){var oe;(oe=L.current)===null||oe===void 0||oe.select()},input:L.current,nativeElement:((ee=F.current)===null||ee===void 0?void 0:ee.nativeElement)||L.current}}),S.useEffect(function(){M(function(ee){return ee&&u?!1:ee})},[u]);var Ee=function(j,oe,be){var Ue=oe;if(!A.current&&Te.exceedFormatter&&Te.max&&Te.strategy(oe)>Te.max){if(Ue=Te.exceedFormatter(oe,{max:Te.max}),oe!==Ue){var ze,at;ve([((ze=L.current)===null||ze===void 0?void 0:ze.selectionStart)||0,((at=L.current)===null||at===void 0?void 0:at.selectionEnd)||0])}}else if(be.source==="compositionEnd")return;H(Ue),L.current&&GS(L.current,j,r,Ue)};S.useEffect(function(){if(pe){var ee;(ee=L.current)===null||ee===void 0||ee.setSelectionRange.apply(ee,Ze(pe))}},[pe]);var we=function(j){Ee(j,j.target.value,{source:"change"})},he=function(j){A.current=!1,Ee(j,j.currentTarget.value,{source:"compositionEnd"}),E==null||E(j)},Re=function(j){o&&j.key==="Enter"&&!B.current&&(B.current=!0,o(j)),s==null||s(j)},Pe=function(j){j.key==="Enter"&&(B.current=!1),l==null||l(j)},We=function(j){M(!0),a==null||a(j)},Me=function(j){M(!1),i==null||i(j)},Je=function(j){H(""),_(),L.current&&GS(L.current,j,r)},Be=ce&&"".concat(f,"-out-of-range"),z=function(){var j=$a(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Oe.createElement("input",tt({autoComplete:n},j,{onChange:we,onFocus:We,onBlur:Me,onKeyDown:Re,onKeyUp:Pe,className:Se(f,J({},"".concat(f,"-disabled"),u),T==null?void 0:T.input),style:w==null?void 0:w.input,ref:L,size:d,type:C,onCompositionStart:function(be){A.current=!0,b==null||b(be)},onCompositionEnd:he}))},Y=function(){var j=Number(_e)>0;if(m||Te.show){var oe=Te.showFormatter?Te.showFormatter({value:K,count:fe,maxLength:_e}):"".concat(fe).concat(j?" / ".concat(_e):"");return Oe.createElement(Oe.Fragment,null,Te.show&&Oe.createElement("span",{className:Se("".concat(f,"-show-count-suffix"),J({},"".concat(f,"-show-count-has-suffix"),!!m),T==null?void 0:T.count),style:ie({},w==null?void 0:w.count)},oe),m)}return null};return Oe.createElement(fk,tt({},O,{prefixCls:f,className:Se(g,Be),handleReset:Je,value:K,focused:I,triggerFocus:_,suffix:Y(),disabled:u,classes:x,classNames:T,styles:w}),z())});const Cfe=t=>{const{getPrefixCls:e,direction:n}=S.useContext(cn),{prefixCls:r,className:a}=t,i=e("input-group",r),o=e("input"),[s,l]=DT(o),c=Se(i,{[`${i}-lg`]:t.size==="large",[`${i}-sm`]:t.size==="small",[`${i}-compact`]:t.compact,[`${i}-rtl`]:n==="rtl"},l,a),f=S.useContext(Ns),u=S.useMemo(()=>Object.assign(Object.assign({},f),{isFormItemInput:!1}),[f]);return s(S.createElement("span",{className:c,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},S.createElement(Ns.Provider,{value:u},t.children)))},gk=t=>{let e;return typeof t=="object"&&(t!=null&&t.clearIcon)?e=t:t&&(e={clearIcon:Oe.createElement(up,null)}),e};function mk(t,e){const n=S.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var a,i,o,s;!((a=t.current)===null||a===void 0)&&a.input&&((i=t.current)===null||i===void 0?void 0:i.input.getAttribute("type"))==="password"&&(!((o=t.current)===null||o===void 0)&&o.input.hasAttribute("value"))&&((s=t.current)===null||s===void 0||s.input.removeAttribute("value"))}))};return S.useEffect(()=>(e&&r(),()=>n.current.forEach(a=>{a&&clearTimeout(a)})),[]),r}function xfe(t){return!!(t.prefix||t.suffix||t.allowClear||t.showCount)}var Tfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function wfe(t,e){if(!t)return;t.focus(e);const{cursor:n}=e||{};if(n){const r=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r)}}}const k5=S.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:a=!0,status:i,size:o,disabled:s,onBlur:l,onFocus:c,suffix:f,allowClear:u,addonAfter:d,addonBefore:g,className:v,style:m,styles:p,rootClassName:h,onChange:y,classNames:C,variant:x}=t,T=Tfe(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:w,direction:b,input:E}=Oe.useContext(cn),O=w("input",r),D=S.useRef(null),R=Xi(O),[I,M,A]=DT(O,R),{compactSize:B,compactItemClassnames:L}=gp(O,b),F=Us(we=>{var he;return(he=o??B)!==null&&he!==void 0?he:we}),_=Oe.useContext(ls),P=s??_,{status:N,hasFeedback:k,feedbackIcon:H}=S.useContext(Ns),K=P5(N,i),te=xfe(t)||!!k;S.useRef(te);const se=mk(D,!0),pe=we=>{se(),l==null||l(we)},ve=we=>{se(),c==null||c(we)},Te=we=>{se(),y==null||y(we)},_e=(k||f)&&Oe.createElement(Oe.Fragment,null,f,k&&H),fe=gk(u??(E==null?void 0:E.allowClear)),[ce,Ee]=cT("input",x,a);return I(Oe.createElement(yfe,Object.assign({ref:Vo(e,D),prefixCls:O,autoComplete:E==null?void 0:E.autoComplete},T,{disabled:P,onBlur:pe,onFocus:ve,style:Object.assign(Object.assign({},E==null?void 0:E.style),m),styles:Object.assign(Object.assign({},E==null?void 0:E.styles),p),suffix:_e,allowClear:fe,className:Se(v,h,A,R,L,E==null?void 0:E.className),onChange:Te,addonBefore:g&&Oe.createElement(Pv,{form:!0,space:!0},g),addonAfter:d&&Oe.createElement(Pv,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},C),E==null?void 0:E.classNames),{input:Se({[`${O}-sm`]:F==="small",[`${O}-lg`]:F==="large",[`${O}-rtl`]:b==="rtl"},C==null?void 0:C.input,(n=E==null?void 0:E.classNames)===null||n===void 0?void 0:n.input,M),variant:Se({[`${O}-${ce}`]:Ee},FS(O,K)),affixWrapper:Se({[`${O}-affix-wrapper-sm`]:F==="small",[`${O}-affix-wrapper-lg`]:F==="large",[`${O}-affix-wrapper-rtl`]:b==="rtl"},M),wrapper:Se({[`${O}-group-rtl`]:b==="rtl"},M),groupWrapper:Se({[`${O}-group-wrapper-sm`]:F==="small",[`${O}-group-wrapper-lg`]:F==="large",[`${O}-group-wrapper-rtl`]:b==="rtl",[`${O}-group-wrapper-${ce}`]:Ee},FS(`${O}-group-wrapper`,K,k),M)})})))}),bfe=t=>{const{componentCls:e,paddingXS:n}=t;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},Efe=ta(["Input","OTP"],t=>{const e=fr(t,xT(t));return[bfe(e)]},TT);var Dfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Ofe=S.forwardRef((t,e)=>{const{value:n,onChange:r,onActiveChange:a,index:i,mask:o}=t,s=Dfe(t,["value","onChange","onActiveChange","index","mask"]),l=n&&typeof o=="string"?o:n,c=v=>{r(i,v.target.value)},f=S.useRef(null);S.useImperativeHandle(e,()=>f.current);const u=()=>{ur(()=>{var v;const m=(v=f.current)===null||v===void 0?void 0:v.input;document.activeElement===m&&m&&m.select()})},d=v=>{let{key:m}=v;m==="ArrowLeft"?a(i-1):m==="ArrowRight"&&a(i+1),u()},g=v=>{v.key==="Backspace"&&!n&&a(i-1),u()};return S.createElement(k5,Object.assign({type:o===!0?"password":"text"},s,{ref:f,value:l,onInput:c,onFocus:u,onKeyDown:d,onKeyUp:g,onMouseDown:u,onMouseUp:u}))});var Rfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function ph(t){return(t||"").split("")}const Ife=S.forwardRef((t,e)=>{const{prefixCls:n,length:r=6,size:a,defaultValue:i,value:o,onChange:s,formatter:l,variant:c,disabled:f,status:u,autoFocus:d,mask:g,type:v}=t,m=Rfe(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask","type"]),{getPrefixCls:p,direction:h}=S.useContext(cn),y=p("otp",n),C=Pi(m,{aria:!0,data:!0,attr:!0}),x=Xi(y),[T,w,b]=Efe(y,x),E=Us(H=>a??H),O=S.useContext(Ns),D=P5(O.status,u),R=S.useMemo(()=>Object.assign(Object.assign({},O),{status:D,hasFeedback:!1,feedbackIcon:null}),[O,D]),I=S.useRef(null),M=S.useRef({});S.useImperativeHandle(e,()=>({focus:()=>{var H;(H=M.current[0])===null||H===void 0||H.focus()},blur:()=>{var H;for(let K=0;K<r;K+=1)(H=M.current[K])===null||H===void 0||H.blur()},nativeElement:I.current}));const A=H=>l?l(H):H,[B,L]=S.useState(ph(A(i||"")));S.useEffect(()=>{o!==void 0&&L(ph(o))},[o]);const F=br(H=>{L(H),s&&H.length===r&&H.every(K=>K)&&H.some((K,te)=>B[te]!==K)&&s(H.join(""))}),_=br((H,K)=>{let te=Ze(B);for(let pe=0;pe<H;pe+=1)te[pe]||(te[pe]="");K.length<=1?te[H]=K:te=te.slice(0,H).concat(ph(K)),te=te.slice(0,r);for(let pe=te.length-1;pe>=0&&!te[pe];pe-=1)te.pop();const se=A(te.map(pe=>pe||" ").join(""));return te=ph(se).map((pe,ve)=>pe===" "&&!te[ve]?te[ve]:pe),te}),P=(H,K)=>{var te;const se=_(H,K),pe=Math.min(H+K.length,r-1);pe!==H&&((te=M.current[pe])===null||te===void 0||te.focus()),F(se)},N=H=>{var K;(K=M.current[H])===null||K===void 0||K.focus()},k={variant:c,disabled:f,status:D,mask:g,type:v};return T(S.createElement("div",Object.assign({},C,{ref:I,className:Se(y,{[`${y}-sm`]:E==="small",[`${y}-lg`]:E==="large",[`${y}-rtl`]:h==="rtl"},b,w)}),S.createElement(Ns.Provider,{value:R},Array.from({length:r}).map((H,K)=>{const te=`otp-${K}`,se=B[K]||"";return S.createElement(Ofe,Object.assign({ref:pe=>{M.current[K]=pe},key:te,index:K,size:E,htmlSize:1,className:`${y}-input`,onChange:P,value:se,onActiveChange:N,autoFocus:K===0&&d},k))}))))});var Afe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Mfe=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Afe}))},Pfe=S.forwardRef(Mfe),Lfe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},_fe=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Lfe}))},vk=S.forwardRef(_fe),Nfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Ffe=t=>t?S.createElement(vk,null):S.createElement(Pfe,null),$fe={click:"onClick",hover:"onMouseOver"},Vfe=S.forwardRef((t,e)=>{const{disabled:n,action:r="click",visibilityToggle:a=!0,iconRender:i=Ffe}=t,o=S.useContext(ls),s=n??o,l=typeof a=="object"&&a.visible!==void 0,[c,f]=S.useState(()=>l?a.visible:!1),u=S.useRef(null);S.useEffect(()=>{l&&f(a.visible)},[l,a]);const d=mk(u),g=()=>{s||(c&&d(),f(D=>{var R;const I=!D;return typeof a=="object"&&((R=a.onVisibleChange)===null||R===void 0||R.call(a,I)),I}))},v=D=>{const R=$fe[r]||"",I=i(c),M={[R]:g,className:`${D}-icon`,key:"passwordIcon",onMouseDown:A=>{A.preventDefault()},onMouseUp:A=>{A.preventDefault()}};return S.cloneElement(S.isValidElement(I)?I:S.createElement("span",null,I),M)},{className:m,prefixCls:p,inputPrefixCls:h,size:y}=t,C=Nfe(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:x}=S.useContext(cn),T=x("input",h),w=x("input-password",p),b=a&&v(w),E=Se(w,m,{[`${w}-${y}`]:!!y}),O=Object.assign(Object.assign({},$a(C,["suffix","iconRender","visibilityToggle"])),{type:c?"text":"password",className:E,prefixCls:T,suffix:b});return y&&(O.size=y),S.createElement(k5,Object.assign({ref:Vo(e,u)},O))});var kfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Ufe=S.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:a,size:i,suffix:o,enterButton:s=!1,addonAfter:l,loading:c,disabled:f,onSearch:u,onChange:d,onCompositionStart:g,onCompositionEnd:v}=t,m=kfe(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:p,direction:h}=S.useContext(cn),y=S.useRef(!1),C=p("input-search",n),x=p("input",r),{compactSize:T}=gp(C,h),w=Us(N=>{var k;return(k=i??T)!==null&&k!==void 0?k:N}),b=S.useRef(null),E=N=>{N!=null&&N.target&&N.type==="click"&&u&&u(N.target.value,N,{source:"clear"}),d==null||d(N)},O=N=>{var k;document.activeElement===((k=b.current)===null||k===void 0?void 0:k.input)&&N.preventDefault()},D=N=>{var k,H;u&&u((H=(k=b.current)===null||k===void 0?void 0:k.input)===null||H===void 0?void 0:H.value,N,{source:"input"})},R=N=>{y.current||c||D(N)},I=typeof s=="boolean"?S.createElement(uT,null):null,M=`${C}-button`;let A;const B=s||{},L=B.type&&B.type.__ANT_BUTTON===!0;L||B.type==="button"?A=Hi(B,Object.assign({onMouseDown:O,onClick:N=>{var k,H;(H=(k=B==null?void 0:B.props)===null||k===void 0?void 0:k.onClick)===null||H===void 0||H.call(k,N),D(N)},key:"enterButton"},L?{className:M,size:w}:{})):A=S.createElement(ji,{className:M,type:s?"primary":void 0,size:w,disabled:f,key:"enterButton",onMouseDown:O,onClick:D,loading:c,icon:I},s),l&&(A=[A,Hi(l,{key:"addonAfter"})]);const F=Se(C,{[`${C}-rtl`]:h==="rtl",[`${C}-${w}`]:!!w,[`${C}-with-button`]:!!s},a),_=N=>{y.current=!0,g==null||g(N)},P=N=>{y.current=!1,v==null||v(N)};return S.createElement(k5,Object.assign({ref:Vo(b,e),onPressEnter:R},m,{size:w,onCompositionStart:_,onCompositionEnd:P,prefixCls:x,addonAfter:A,suffix:o,onChange:E,className:F,disabled:f}))});var Bfe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Gfe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],K4={},So;function zfe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&K4[n])return K4[n];var r=window.getComputedStyle(t),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=Gfe.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:s,paddingSize:i,borderSize:o,boxSizing:a};return e&&n&&(K4[n]=l),l}function Wfe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;So||(So=document.createElement("textarea"),So.setAttribute("tab-index","-1"),So.setAttribute("aria-hidden","true"),So.setAttribute("name","hiddenTextarea"),document.body.appendChild(So)),t.getAttribute("wrap")?So.setAttribute("wrap",t.getAttribute("wrap")):So.removeAttribute("wrap");var a=zfe(t,e),i=a.paddingSize,o=a.borderSize,s=a.boxSizing,l=a.sizingStyle;So.setAttribute("style","".concat(l,";").concat(Bfe)),So.value=t.value||t.placeholder||"";var c=void 0,f=void 0,u,d=So.scrollHeight;if(s==="border-box"?d+=o:s==="content-box"&&(d-=i),n!==null||r!==null){So.value=" ";var g=So.scrollHeight-i;n!==null&&(c=g*n,s==="border-box"&&(c=c+i+o),d=Math.max(c,d)),r!==null&&(f=g*r,s==="border-box"&&(f=f+i+o),u=d>f?"":"hidden",d=Math.min(f,d))}var v={height:d,overflowY:u,resize:"none"};return c&&(v.minHeight=c),f&&(v.maxHeight=f),v}var jfe=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Q4=0,X4=1,Y4=2,Hfe=S.forwardRef(function(t,e){var n=t,r=n.prefixCls,a=n.defaultValue,i=n.value,o=n.autoSize,s=n.onResize,l=n.className,c=n.style,f=n.disabled,u=n.onChange;n.onInternalAutoSize;var d=Tn(n,jfe),g=Ha(a,{value:i,postState:function(te){return te??""}}),v=Ae(g,2),m=v[0],p=v[1],h=function(te){p(te.target.value),u==null||u(te)},y=S.useRef();S.useImperativeHandle(e,function(){return{textArea:y.current}});var C=S.useMemo(function(){return o&&qt(o)==="object"?[o.minRows,o.maxRows]:[]},[o]),x=Ae(C,2),T=x[0],w=x[1],b=!!o,E=function(){try{if(document.activeElement===y.current){var te=y.current,se=te.selectionStart,pe=te.selectionEnd,ve=te.scrollTop;y.current.setSelectionRange(se,pe),y.current.scrollTop=ve}}catch{}},O=S.useState(Y4),D=Ae(O,2),R=D[0],I=D[1],M=S.useState(),A=Ae(M,2),B=A[0],L=A[1],F=function(){I(Q4)};wr(function(){b&&F()},[i,T,w,b]),wr(function(){if(R===Q4)I(X4);else if(R===X4){var K=Wfe(y.current,!1,T,w);I(Y4),L(K)}else E()},[R]);var _=S.useRef(),P=function(){ur.cancel(_.current)},N=function(te){R===Y4&&(s==null||s(te),o&&(P(),_.current=ur(function(){F()})))};S.useEffect(function(){return P},[]);var k=b?B:null,H=ie(ie({},c),k);return(R===Q4||R===X4)&&(H.overflowY="hidden",H.overflowX="hidden"),S.createElement(Vs,{onResize:N,disabled:!(o||s)},S.createElement("textarea",tt({},d,{ref:y,style:H,className:Se(r,l,J({},"".concat(r,"-disabled"),f)),disabled:f,value:m,onChange:h})))}),qfe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],Kfe=Oe.forwardRef(function(t,e){var n,r=t.defaultValue,a=t.value,i=t.onFocus,o=t.onBlur,s=t.onChange,l=t.allowClear,c=t.maxLength,f=t.onCompositionStart,u=t.onCompositionEnd,d=t.suffix,g=t.prefixCls,v=g===void 0?"rc-textarea":g,m=t.showCount,p=t.count,h=t.className,y=t.style,C=t.disabled,x=t.hidden,T=t.classNames,w=t.styles,b=t.onResize,E=t.onClear,O=t.onPressEnter,D=t.readOnly,R=t.autoSize,I=t.onKeyDown,M=Tn(t,qfe),A=Ha(r,{value:a,defaultValue:r}),B=Ae(A,2),L=B[0],F=B[1],_=L==null?"":String(L),P=Oe.useState(!1),N=Ae(P,2),k=N[0],H=N[1],K=Oe.useRef(!1),te=Oe.useState(null),se=Ae(te,2),pe=se[0],ve=se[1],Te=S.useRef(null),_e=S.useRef(null),fe=function(){var Ne;return(Ne=_e.current)===null||Ne===void 0?void 0:Ne.textArea},ce=function(){fe().focus()};S.useImperativeHandle(e,function(){var et;return{resizableTextArea:_e.current,focus:ce,blur:function(){fe().blur()},nativeElement:((et=Te.current)===null||et===void 0?void 0:et.nativeElement)||fe()}}),S.useEffect(function(){H(function(et){return!C&&et})},[C]);var Ee=Oe.useState(null),we=Ae(Ee,2),he=we[0],Re=we[1];Oe.useEffect(function(){if(he){var et;(et=fe()).setSelectionRange.apply(et,Ze(he))}},[he]);var Pe=dk(p,m),We=(n=Pe.max)!==null&&n!==void 0?n:c,Me=Number(We)>0,Je=Pe.strategy(_),Be=!!We&&Je>We,z=function(Ne,ut){var At=ut;!K.current&&Pe.exceedFormatter&&Pe.max&&Pe.strategy(ut)>Pe.max&&(At=Pe.exceedFormatter(ut,{max:Pe.max}),ut!==At&&Re([fe().selectionStart||0,fe().selectionEnd||0])),F(At),GS(Ne.currentTarget,Ne,s,At)},Y=function(Ne){K.current=!0,f==null||f(Ne)},ee=function(Ne){K.current=!1,z(Ne,Ne.currentTarget.value),u==null||u(Ne)},j=function(Ne){z(Ne,Ne.target.value)},oe=function(Ne){Ne.key==="Enter"&&O&&O(Ne),I==null||I(Ne)},be=function(Ne){H(!0),i==null||i(Ne)},Ue=function(Ne){H(!1),o==null||o(Ne)},ze=function(Ne){F(""),ce(),GS(fe(),Ne,s)},at=d,gt;Pe.show&&(Pe.showFormatter?gt=Pe.showFormatter({value:_,count:Je,maxLength:We}):gt="".concat(Je).concat(Me?" / ".concat(We):""),at=Oe.createElement(Oe.Fragment,null,at,Oe.createElement("span",{className:Se("".concat(v,"-data-count"),T==null?void 0:T.count),style:w==null?void 0:w.count},gt)));var St=function(Ne){var ut;b==null||b(Ne),(ut=fe())!==null&&ut!==void 0&&ut.style.height&&ve(!0)},ct=!R&&!m&&!l;return Oe.createElement(fk,{ref:Te,value:_,allowClear:l,handleReset:ze,suffix:at,prefixCls:v,classNames:ie(ie({},T),{},{affixWrapper:Se(T==null?void 0:T.affixWrapper,J(J({},"".concat(v,"-show-count"),m),"".concat(v,"-textarea-allow-clear"),l))}),disabled:C,focused:k,className:Se(h,Be&&"".concat(v,"-out-of-range")),style:ie(ie({},y),pe&&!ct?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof gt=="string"?gt:void 0}},hidden:x,readOnly:D,onClear:E},Oe.createElement(Hfe,tt({},M,{autoSize:R,maxLength:c,onKeyDown:oe,onChange:j,onFocus:be,onBlur:Ue,onCompositionStart:Y,onCompositionEnd:ee,className:Se(T==null?void 0:T.textarea),style:ie(ie({},w==null?void 0:w.textarea),{},{resize:y==null?void 0:y.resize}),disabled:C,prefixCls:v,onResize:St,ref:_e,readOnly:D})))}),Qfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Xfe=S.forwardRef((t,e)=>{var n,r;const{prefixCls:a,bordered:i=!0,size:o,disabled:s,status:l,allowClear:c,classNames:f,rootClassName:u,className:d,style:g,styles:v,variant:m}=t,p=Qfe(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:h,direction:y,textArea:C}=S.useContext(cn),x=Us(o),T=S.useContext(ls),w=s??T,{status:b,hasFeedback:E,feedbackIcon:O}=S.useContext(Ns),D=P5(b,l),R=S.useRef(null);S.useImperativeHandle(e,()=>{var N;return{resizableTextArea:(N=R.current)===null||N===void 0?void 0:N.resizableTextArea,focus:k=>{var H,K;wfe((K=(H=R.current)===null||H===void 0?void 0:H.resizableTextArea)===null||K===void 0?void 0:K.textArea,k)},blur:()=>{var k;return(k=R.current)===null||k===void 0?void 0:k.blur()}}});const I=h("input",a),M=Xi(I),[A,B,L]=DT(I,M),[F,_]=cT("textArea",m,i),P=gk(c??(C==null?void 0:C.allowClear));return A(S.createElement(Kfe,Object.assign({autoComplete:C==null?void 0:C.autoComplete},p,{style:Object.assign(Object.assign({},C==null?void 0:C.style),g),styles:Object.assign(Object.assign({},C==null?void 0:C.styles),v),disabled:w,allowClear:P,className:Se(L,M,d,u,C==null?void 0:C.className),classNames:Object.assign(Object.assign(Object.assign({},f),C==null?void 0:C.classNames),{textarea:Se({[`${I}-sm`]:x==="small",[`${I}-lg`]:x==="large"},B,f==null?void 0:f.textarea,(n=C==null?void 0:C.classNames)===null||n===void 0?void 0:n.textarea),variant:Se({[`${I}-${F}`]:_},FS(I,D)),affixWrapper:Se(`${I}-textarea-affix-wrapper`,{[`${I}-affix-wrapper-rtl`]:y==="rtl",[`${I}-affix-wrapper-sm`]:x==="small",[`${I}-affix-wrapper-lg`]:x==="large",[`${I}-textarea-show-count`]:t.showCount||((r=t.count)===null||r===void 0?void 0:r.show)},B)}),prefixCls:I,suffix:E&&S.createElement("span",{className:`${I}-textarea-suffix`},O),ref:R})))}),wf=k5;wf.Group=Cfe;wf.Search=Ufe;wf.TextArea=Xfe;wf.Password=Vfe;wf.OTP=Ife;function u9(t,e,n){return(t-e)/(n-e)}function RT(t,e,n,r){var a=u9(e,n,r),i={};switch(t){case"rtl":i.right="".concat(a*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(a*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(a*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(a*100,"%"),i.transform="translateX(-50%)";break}return i}function wd(t,e){return Array.isArray(t)?t[e]:t}var bf=S.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Yfe=S.createContext({}),Zfe=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],eI=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,a=t.valueIndex,i=t.onStartMove,o=t.onDelete,s=t.style,l=t.render,c=t.dragging,f=t.draggingDelete,u=t.onOffsetChange,d=t.onChangeComplete,g=t.onFocus,v=t.onMouseEnter,m=Tn(t,Zfe),p=S.useContext(bf),h=p.min,y=p.max,C=p.direction,x=p.disabled,T=p.keyboard,w=p.range,b=p.tabIndex,E=p.ariaLabelForHandle,O=p.ariaLabelledByForHandle,D=p.ariaValueTextFormatterForHandle,R=p.styles,I=p.classNames,M="".concat(n,"-handle"),A=function(te){x||i(te,a)},B=function(te){g==null||g(te,a)},L=function(te){v(te,a)},F=function(te){if(!x&&T){var se=null;switch(te.which||te.keyCode){case rt.LEFT:se=C==="ltr"||C==="btt"?-1:1;break;case rt.RIGHT:se=C==="ltr"||C==="btt"?1:-1;break;case rt.UP:se=C!=="ttb"?1:-1;break;case rt.DOWN:se=C!=="ttb"?-1:1;break;case rt.HOME:se="min";break;case rt.END:se="max";break;case rt.PAGE_UP:se=2;break;case rt.PAGE_DOWN:se=-2;break;case rt.BACKSPACE:case rt.DELETE:o(a);break}se!==null&&(te.preventDefault(),u(se,a))}},_=function(te){switch(te.which||te.keyCode){case rt.LEFT:case rt.RIGHT:case rt.UP:case rt.DOWN:case rt.HOME:case rt.END:case rt.PAGE_UP:case rt.PAGE_DOWN:d==null||d();break}},P=RT(C,r,h,y),N={};if(a!==null){var k;N={tabIndex:x?null:wd(b,a),role:"slider","aria-valuemin":h,"aria-valuemax":y,"aria-valuenow":r,"aria-disabled":x,"aria-label":wd(E,a),"aria-labelledby":wd(O,a),"aria-valuetext":(k=wd(D,a))===null||k===void 0?void 0:k(r),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:A,onTouchStart:A,onFocus:B,onMouseEnter:L,onKeyDown:F,onKeyUp:_}}var H=S.createElement("div",tt({ref:e,className:Se(M,J(J(J({},"".concat(M,"-").concat(a+1),a!==null&&w),"".concat(M,"-dragging"),c),"".concat(M,"-dragging-delete"),f),I.handle),style:ie(ie(ie({},P),s),R.handle)},N,m));return l&&(H=l(H,{index:a,prefixCls:n,value:r,dragging:c,draggingDelete:f})),H}),Jfe=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],ede=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,a=t.onStartMove,i=t.onOffsetChange,o=t.values,s=t.handleRender,l=t.activeHandleRender,c=t.draggingIndex,f=t.draggingDelete,u=t.onFocus,d=Tn(t,Jfe),g=S.useRef({}),v=S.useState(!1),m=Ae(v,2),p=m[0],h=m[1],y=S.useState(-1),C=Ae(y,2),x=C[0],T=C[1],w=function(R){T(R),h(!0)},b=function(R,I){w(I),u==null||u(R)},E=function(R,I){w(I)};S.useImperativeHandle(e,function(){return{focus:function(R){var I;(I=g.current[R])===null||I===void 0||I.focus()},hideHelp:function(){_o.flushSync(function(){h(!1)})}}});var O=ie({prefixCls:n,onStartMove:a,onOffsetChange:i,render:s,onFocus:b,onMouseEnter:E},d);return S.createElement(S.Fragment,null,o.map(function(D,R){var I=c===R;return S.createElement(eI,tt({ref:function(A){A?g.current[R]=A:delete g.current[R]},dragging:I,draggingDelete:I&&f,style:wd(r,R),key:R,value:D,valueIndex:R},O))}),l&&p&&S.createElement(eI,tt({key:"a11y"},O,{value:o[x],valueIndex:null,dragging:c!==-1,draggingDelete:f,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),tde=function(e){var n=e.prefixCls,r=e.style,a=e.children,i=e.value,o=e.onClick,s=S.useContext(bf),l=s.min,c=s.max,f=s.direction,u=s.includedStart,d=s.includedEnd,g=s.included,v="".concat(n,"-text"),m=RT(f,i,l,c);return S.createElement("span",{className:Se(v,J({},"".concat(v,"-active"),g&&u<=i&&i<=d)),style:ie(ie({},m),r),onMouseDown:function(h){h.stopPropagation()},onClick:function(){o(i)}},a)},nde=function(e){var n=e.prefixCls,r=e.marks,a=e.onClick,i="".concat(n,"-mark");return r.length?S.createElement("div",{className:i},r.map(function(o){var s=o.value,l=o.style,c=o.label;return S.createElement(tde,{key:s,prefixCls:i,style:l,value:s,onClick:a},c)})):null},rde=function(e){var n=e.prefixCls,r=e.value,a=e.style,i=e.activeStyle,o=S.useContext(bf),s=o.min,l=o.max,c=o.direction,f=o.included,u=o.includedStart,d=o.includedEnd,g="".concat(n,"-dot"),v=f&&u<=r&&r<=d,m=ie(ie({},RT(c,r,s,l)),typeof a=="function"?a(r):a);return v&&(m=ie(ie({},m),typeof i=="function"?i(r):i)),S.createElement("span",{className:Se(g,J({},"".concat(g,"-active"),v)),style:m})},ade=function(e){var n=e.prefixCls,r=e.marks,a=e.dots,i=e.style,o=e.activeStyle,s=S.useContext(bf),l=s.min,c=s.max,f=s.step,u=S.useMemo(function(){var d=new Set;if(r.forEach(function(v){d.add(v.value)}),a&&f!==null)for(var g=l;g<=c;)d.add(g),g+=f;return Array.from(d)},[l,c,f,a,r]);return S.createElement("div",{className:"".concat(n,"-step")},u.map(function(d){return S.createElement(rde,{prefixCls:n,key:d,value:d,style:i,activeStyle:o})}))},tI=function(e){var n=e.prefixCls,r=e.style,a=e.start,i=e.end,o=e.index,s=e.onStartMove,l=e.replaceCls,c=S.useContext(bf),f=c.direction,u=c.min,d=c.max,g=c.disabled,v=c.range,m=c.classNames,p="".concat(n,"-track"),h=u9(a,u,d),y=u9(i,u,d),C=function(b){!g&&s&&s(b,-1)},x={};switch(f){case"rtl":x.right="".concat(h*100,"%"),x.width="".concat(y*100-h*100,"%");break;case"btt":x.bottom="".concat(h*100,"%"),x.height="".concat(y*100-h*100,"%");break;case"ttb":x.top="".concat(h*100,"%"),x.height="".concat(y*100-h*100,"%");break;default:x.left="".concat(h*100,"%"),x.width="".concat(y*100-h*100,"%")}var T=l||Se(p,J(J({},"".concat(p,"-").concat(o+1),o!==null&&v),"".concat(n,"-track-draggable"),s),m.track);return S.createElement("div",{className:T,style:ie(ie({},x),r),onMouseDown:C,onTouchStart:C})},ide=function(e){var n=e.prefixCls,r=e.style,a=e.values,i=e.startPoint,o=e.onStartMove,s=S.useContext(bf),l=s.included,c=s.range,f=s.min,u=s.styles,d=s.classNames,g=S.useMemo(function(){if(!c){if(a.length===0)return[];var m=i??f,p=a[0];return[{start:Math.min(m,p),end:Math.max(m,p)}]}for(var h=[],y=0;y<a.length-1;y+=1)h.push({start:a[y],end:a[y+1]});return h},[a,c,i,f]);if(!l)return null;var v=d.tracks||u.tracks?S.createElement(tI,{index:null,prefixCls:n,start:g[0].start,end:g[g.length-1].end,replaceCls:Se(d.tracks,"".concat(n,"-tracks")),style:u.tracks}):null;return S.createElement(S.Fragment,null,v,g.map(function(m,p){var h=m.start,y=m.end;return S.createElement(tI,{index:p,prefixCls:n,style:ie(ie({},wd(r,p)),u.track),start:h,end:y,key:p,onStartMove:o})}))},ode=130;function nI(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function sde(t,e,n,r,a,i,o,s,l,c,f){var u=S.useState(null),d=Ae(u,2),g=d[0],v=d[1],m=S.useState(-1),p=Ae(m,2),h=p[0],y=p[1],C=S.useState(!1),x=Ae(C,2),T=x[0],w=x[1],b=S.useState(n),E=Ae(b,2),O=E[0],D=E[1],R=S.useState(n),I=Ae(R,2),M=I[0],A=I[1],B=S.useRef(null),L=S.useRef(null),F=S.useRef(null),_=S.useContext(Yfe),P=_.onDragStart,N=_.onDragChange;wr(function(){h===-1&&D(n)},[n,h]),S.useEffect(function(){return function(){document.removeEventListener("mousemove",B.current),document.removeEventListener("mouseup",L.current),F.current&&(F.current.removeEventListener("touchmove",B.current),F.current.removeEventListener("touchend",L.current))}},[]);var k=function(pe,ve,Te){ve!==void 0&&v(ve),D(pe);var _e=pe;Te&&(_e=pe.filter(function(fe,ce){return ce!==h})),o(_e),N&&N({rawValues:pe,deleteIndex:Te?h:-1,draggingIndex:h,draggingValue:ve})},H=br(function(se,pe,ve){if(se===-1){var Te=M[0],_e=M[M.length-1],fe=r-Te,ce=a-_e,Ee=pe*(a-r);Ee=Math.max(Ee,fe),Ee=Math.min(Ee,ce);var we=i(Te+Ee);Ee=we-Te;var he=M.map(function(Me){return Me+Ee});k(he)}else{var Re=(a-r)*pe,Pe=Ze(O);Pe[se]=M[se];var We=l(Pe,Re,se,"dist");k(We.values,We.value,ve)}}),K=function(pe,ve,Te){pe.stopPropagation();var _e=Te||n,fe=_e[ve];y(ve),v(fe),A(_e),D(_e),w(!1);var ce=nI(pe),Ee=ce.pageX,we=ce.pageY,he=!1;P&&P({rawValues:_e,draggingIndex:ve,draggingValue:fe});var Re=function(Me){Me.preventDefault();var Je=nI(Me),Be=Je.pageX,z=Je.pageY,Y=Be-Ee,ee=z-we,j=t.current.getBoundingClientRect(),oe=j.width,be=j.height,Ue,ze;switch(e){case"btt":Ue=-ee/be,ze=Y;break;case"ttb":Ue=ee/be,ze=Y;break;case"rtl":Ue=-Y/oe,ze=ee;break;default:Ue=Y/oe,ze=ee}he=c?Math.abs(ze)>ode&&f<O.length:!1,w(he),H(ve,Ue,he)},Pe=function We(Me){Me.preventDefault(),document.removeEventListener("mouseup",We),document.removeEventListener("mousemove",Re),F.current&&(F.current.removeEventListener("touchmove",B.current),F.current.removeEventListener("touchend",L.current)),B.current=null,L.current=null,F.current=null,s(he),y(-1),w(!1)};document.addEventListener("mouseup",Pe),document.addEventListener("mousemove",Re),pe.currentTarget.addEventListener("touchend",Pe),pe.currentTarget.addEventListener("touchmove",Re),B.current=Re,L.current=Pe,F.current=pe.currentTarget},te=S.useMemo(function(){var se=Ze(n).sort(function(fe,ce){return fe-ce}),pe=Ze(O).sort(function(fe,ce){return fe-ce}),ve={};pe.forEach(function(fe){ve[fe]=(ve[fe]||0)+1}),se.forEach(function(fe){ve[fe]=(ve[fe]||0)-1});var Te=c?1:0,_e=Object.values(ve).reduce(function(fe,ce){return fe+Math.abs(ce)},0);return _e<=Te?O:n},[n,O,c]);return[h,g,T,te,K]}function lde(t,e,n,r,a,i){var o=S.useCallback(function(g){return Math.max(t,Math.min(e,g))},[t,e]),s=S.useCallback(function(g){if(n!==null){var v=t+Math.round((o(g)-t)/n)*n,m=function(C){return(String(C).split(".")[1]||"").length},p=Math.max(m(n),m(e),m(t)),h=Number(v.toFixed(p));return t<=h&&h<=e?h:null}return null},[n,t,e,o]),l=S.useCallback(function(g){var v=o(g),m=r.map(function(y){return y.value});n!==null&&m.push(s(g)),m.push(t,e);var p=m[0],h=e-t;return m.forEach(function(y){var C=Math.abs(v-y);C<=h&&(p=y,h=C)}),p},[t,e,r,n,o,s]),c=function g(v,m,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof m=="number"){var y,C=v[p],x=C+m,T=[];r.forEach(function(D){T.push(D.value)}),T.push(t,e),T.push(s(C));var w=m>0?1:-1;h==="unit"?T.push(s(C+w*n)):T.push(s(x)),T=T.filter(function(D){return D!==null}).filter(function(D){return m<0?D<=C:D>=C}),h==="unit"&&(T=T.filter(function(D){return D!==C}));var b=h==="unit"?C:x;y=T[0];var E=Math.abs(y-b);if(T.forEach(function(D){var R=Math.abs(D-b);R<E&&(y=D,E=R)}),y===void 0)return m<0?t:e;if(h==="dist")return y;if(Math.abs(m)>1){var O=Ze(v);return O[p]=y,g(O,m-w,p,h)}return y}else{if(m==="min")return t;if(m==="max")return e}},f=function(v,m,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",y=v[p],C=c(v,m,p,h);return{value:C,changed:C!==y}},u=function(v){return i===null&&v===0||typeof i=="number"&&v<i},d=function(v,m,p){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",y=v.map(l),C=y[p],x=c(y,m,p,h);if(y[p]=x,a===!1){var T=i||0;p>0&&y[p-1]!==C&&(y[p]=Math.max(y[p],y[p-1]+T)),p<y.length-1&&y[p+1]!==C&&(y[p]=Math.min(y[p],y[p+1]-T))}else if(typeof i=="number"||i===null){for(var w=p+1;w<y.length;w+=1)for(var b=!0;u(y[w]-y[w-1])&&b;){var E=f(y,1,w);y[w]=E.value,b=E.changed}for(var O=p;O>0;O-=1)for(var D=!0;u(y[O]-y[O-1])&&D;){var R=f(y,-1,O-1);y[O-1]=R.value,D=R.changed}for(var I=y.length-1;I>0;I-=1)for(var M=!0;u(y[I]-y[I-1])&&M;){var A=f(y,-1,I-1);y[I-1]=A.value,M=A.changed}for(var B=0;B<y.length-1;B+=1)for(var L=!0;u(y[B+1]-y[B])&&L;){var F=f(y,1,B+1);y[B+1]=F.value,L=F.changed}}return{value:y[p],values:y}};return[l,d]}function cde(t){return S.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,a=t.maxCount;return[!0,e,!e&&n,r||0,a]},[t])}var ude=S.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,a=t.className,i=t.style,o=t.classNames,s=t.styles,l=t.id,c=t.disabled,f=c===void 0?!1:c,u=t.keyboard,d=u===void 0?!0:u,g=t.autoFocus,v=t.onFocus,m=t.onBlur,p=t.min,h=p===void 0?0:p,y=t.max,C=y===void 0?100:y,x=t.step,T=x===void 0?1:x,w=t.value,b=t.defaultValue,E=t.range,O=t.count,D=t.onChange,R=t.onBeforeChange,I=t.onAfterChange,M=t.onChangeComplete,A=t.allowCross,B=A===void 0?!0:A,L=t.pushable,F=L===void 0?!1:L,_=t.reverse,P=t.vertical,N=t.included,k=N===void 0?!0:N,H=t.startPoint,K=t.trackStyle,te=t.handleStyle,se=t.railStyle,pe=t.dotStyle,ve=t.activeDotStyle,Te=t.marks,_e=t.dots,fe=t.handleRender,ce=t.activeHandleRender,Ee=t.track,we=t.tabIndex,he=we===void 0?0:we,Re=t.ariaLabelForHandle,Pe=t.ariaLabelledByForHandle,We=t.ariaValueTextFormatterForHandle,Me=S.useRef(null),Je=S.useRef(null),Be=S.useMemo(function(){return P?_?"ttb":"btt":_?"rtl":"ltr"},[_,P]),z=cde(E),Y=Ae(z,5),ee=Y[0],j=Y[1],oe=Y[2],be=Y[3],Ue=Y[4],ze=S.useMemo(function(){return isFinite(h)?h:0},[h]),at=S.useMemo(function(){return isFinite(C)?C:100},[C]),gt=S.useMemo(function(){return T!==null&&T<=0?1:T},[T]),St=S.useMemo(function(){return typeof F=="boolean"?F?gt:!1:F>=0?F:!1},[F,gt]),ct=S.useMemo(function(){return Object.keys(Te||{}).map(function(Ft){var Ot=Te[Ft],dn={value:Number(Ft)};return Ot&&qt(Ot)==="object"&&!S.isValidElement(Ot)&&("label"in Ot||"style"in Ot)?(dn.style=Ot.style,dn.label=Ot.label):dn.label=Ot,dn}).filter(function(Ft){var Ot=Ft.label;return Ot||typeof Ot=="number"}).sort(function(Ft,Ot){return Ft.value-Ot.value})},[Te]),et=lde(ze,at,gt,ct,B,St),Ne=Ae(et,2),ut=Ne[0],At=Ne[1],bt=Ha(b,{value:w}),Rt=Ae(bt,2),jt=Rt[0],un=Rt[1],Zt=S.useMemo(function(){var Ft=jt==null?[]:Array.isArray(jt)?jt:[jt],Ot=Ae(Ft,1),dn=Ot[0],rn=dn===void 0?ze:dn,pn=jt===null?[]:[rn];if(ee){if(pn=Ze(Ft),O||jt===void 0){var Xn=O>=0?O+1:2;for(pn=pn.slice(0,Xn);pn.length<Xn;){var Fn;pn.push((Fn=pn[pn.length-1])!==null&&Fn!==void 0?Fn:ze)}}pn.sort(function(Ct,$t){return Ct-$t})}return pn.forEach(function(Ct,$t){pn[$t]=ut(Ct)}),pn},[jt,ee,ze,O,ut]),Kt=function(Ot){return ee?Ot:Ot[0]},fn=br(function(Ft){var Ot=Ze(Ft).sort(function(dn,rn){return dn-rn});D&&!_s(Ot,Zt,!0)&&D(Kt(Ot)),un(Ot)}),en=br(function(Ft){Ft&&Me.current.hideHelp();var Ot=Kt(Zt);I==null||I(Ot),jr(!I,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),M==null||M(Ot)}),sn=function(Ot){if(!(f||!j||Zt.length<=be)){var dn=Ze(Zt);dn.splice(Ot,1),R==null||R(Kt(dn)),fn(dn);var rn=Math.max(0,Ot-1);Me.current.hideHelp(),Me.current.focus(rn)}},zt=sde(Je,Be,Zt,ze,at,ut,fn,en,At,j,be),Lt=Ae(zt,5),yt=Lt[0],lt=Lt[1],de=Lt[2],ue=Lt[3],ge=Lt[4],Ce=function(Ot,dn){if(!f){var rn=Ze(Zt),pn=0,Xn=0,Fn=at-ze;Zt.forEach(function(On,jn){var rr=Math.abs(Ot-On);rr<=Fn&&(Fn=rr,pn=jn),On<Ot&&(Xn=jn)});var Ct=pn;j&&Fn!==0&&(!Ue||Zt.length<Ue)?(rn.splice(Xn+1,0,Ot),Ct=Xn+1):rn[pn]=Ot,ee&&!Zt.length&&O===void 0&&rn.push(Ot);var $t=Kt(rn);if(R==null||R($t),fn(rn),dn){var mn,An;(mn=document.activeElement)===null||mn===void 0||(An=mn.blur)===null||An===void 0||An.call(mn),Me.current.focus(Ct),ge(dn,Ct,rn)}else I==null||I($t),jr(!I,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),M==null||M($t)}},Ge=function(Ot){Ot.preventDefault();var dn=Je.current.getBoundingClientRect(),rn=dn.width,pn=dn.height,Xn=dn.left,Fn=dn.top,Ct=dn.bottom,$t=dn.right,mn=Ot.clientX,An=Ot.clientY,On;switch(Be){case"btt":On=(Ct-An)/pn;break;case"ttb":On=(An-Fn)/pn;break;case"rtl":On=($t-mn)/rn;break;default:On=(mn-Xn)/rn}var jn=ze+On*(at-ze);Ce(ut(jn),Ot)},He=S.useState(null),pt=Ae(He,2),Qe=pt[0],Ke=pt[1],Ye=function(Ot,dn){if(!f){var rn=At(Zt,Ot,dn);R==null||R(Kt(Zt)),fn(rn.values),Ke(rn.value)}};S.useEffect(function(){if(Qe!==null){var Ft=Zt.indexOf(Qe);Ft>=0&&Me.current.focus(Ft)}Ke(null)},[Qe]);var ft=S.useMemo(function(){return oe&&gt===null?!1:oe},[oe,gt]),xt=br(function(Ft,Ot){ge(Ft,Ot),R==null||R(Kt(Zt))}),Nt=yt!==-1;S.useEffect(function(){if(!Nt){var Ft=Zt.lastIndexOf(lt);Me.current.focus(Ft)}},[Nt]);var Pt=S.useMemo(function(){return Ze(ue).sort(function(Ft,Ot){return Ft-Ot})},[ue]),Ut=S.useMemo(function(){return ee?[Pt[0],Pt[Pt.length-1]]:[ze,Pt[0]]},[Pt,ee,ze]),Ht=Ae(Ut,2),Dt=Ht[0],Mt=Ht[1];S.useImperativeHandle(e,function(){return{focus:function(){Me.current.focus(0)},blur:function(){var Ot,dn=document,rn=dn.activeElement;(Ot=Je.current)!==null&&Ot!==void 0&&Ot.contains(rn)&&(rn==null||rn.blur())}}}),S.useEffect(function(){g&&Me.current.focus(0)},[]);var Bt=S.useMemo(function(){return{min:ze,max:at,direction:Be,disabled:f,keyboard:d,step:gt,included:k,includedStart:Dt,includedEnd:Mt,range:ee,tabIndex:he,ariaLabelForHandle:Re,ariaLabelledByForHandle:Pe,ariaValueTextFormatterForHandle:We,styles:s||{},classNames:o||{}}},[ze,at,Be,f,d,gt,k,Dt,Mt,ee,he,Re,Pe,We,s,o]);return S.createElement(bf.Provider,{value:Bt},S.createElement("div",{ref:Je,className:Se(r,a,J(J(J(J({},"".concat(r,"-disabled"),f),"".concat(r,"-vertical"),P),"".concat(r,"-horizontal"),!P),"".concat(r,"-with-marks"),ct.length)),style:i,onMouseDown:Ge,id:l},S.createElement("div",{className:Se("".concat(r,"-rail"),o==null?void 0:o.rail),style:ie(ie({},se),s==null?void 0:s.rail)}),Ee!==!1&&S.createElement(ide,{prefixCls:r,style:K,values:Zt,startPoint:H,onStartMove:ft?xt:void 0}),S.createElement(ade,{prefixCls:r,marks:ct,dots:_e,style:pe,activeStyle:ve}),S.createElement(ede,{ref:Me,prefixCls:r,style:te,values:ue,draggingIndex:yt,draggingDelete:de,onStartMove:xt,onOffsetChange:Ye,onFocus:v,onBlur:m,handleRender:fe,activeHandleRender:ce,onChangeComplete:en,onDelete:j?sn:void 0}),S.createElement(nde,{prefixCls:r,marks:ct,onClick:Ce})))});const rI=S.forwardRef((t,e)=>{const{open:n,draggingDelete:r}=t,a=S.useRef(null),i=n&&!r,o=S.useRef(null);function s(){ur.cancel(o.current),o.current=null}function l(){o.current=ur(()=>{var c;(c=a.current)===null||c===void 0||c.forceAlign(),o.current=null})}return S.useEffect(()=>(i?l():s(),s),[i,t.title]),S.createElement(of,Object.assign({ref:Vo(a,e)},t,{open:i}))}),fde=t=>{const{componentCls:e,antCls:n,controlSize:r,dotSize:a,marginFull:i,marginPart:o,colorFillContentHover:s,handleColorDisabled:l,calc:c,handleSize:f,handleSizeHover:u,handleActiveColor:d,handleActiveOutlineColor:g,handleLineWidth:v,handleLineWidthHover:m,motionDurationMid:p}=t;return{[e]:Object.assign(Object.assign({},aa(t)),{position:"relative",height:r,margin:`${xe(o)} ${xe(i)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${xe(i)} ${xe(o)}`},[`${e}-rail`]:{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:`background-color ${p}`},[`${e}-track,${e}-tracks`]:{position:"absolute",transition:`background-color ${p}`},[`${e}-track`]:{backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS},[`${e}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${e}-rail`]:{backgroundColor:t.railHoverBg},[`${e}-track`]:{backgroundColor:t.trackHoverBg},[`${e}-dot`]:{borderColor:s},[`${e}-handle::after`]:{boxShadow:`0 0 0 ${xe(v)} ${t.colorPrimaryBorderHover}`},[`${e}-dot-active`]:{borderColor:t.dotActiveBorderColor}},[`${e}-handle`]:{position:"absolute",width:f,height:f,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(v).mul(-1).equal(),insetBlockStart:c(v).mul(-1).equal(),width:c(f).add(c(v).mul(2)).equal(),height:c(f).add(c(v).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:f,height:f,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${xe(v)} ${t.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${p},
            inset-block-start ${p},
            width ${p},
            height ${p},
            box-shadow ${p},
            outline ${p}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(u).sub(f).div(2).add(m).mul(-1).equal(),insetBlockStart:c(u).sub(f).div(2).add(m).mul(-1).equal(),width:c(u).add(c(m).mul(2)).equal(),height:c(u).add(c(m).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${xe(m)} ${d}`,outline:`6px solid ${g}`,width:u,height:u,insetInlineStart:t.calc(f).sub(u).div(2).equal(),insetBlockStart:t.calc(f).sub(u).div(2).equal()}}},[`&-lock ${e}-handle`]:{"&::before, &::after":{transition:"none"}},[`${e}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${e}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${e}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${e}-dot`]:{position:"absolute",width:a,height:a,backgroundColor:t.colorBgElevated,border:`${xe(v)} solid ${t.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-rail`]:{backgroundColor:`${t.railBg} !important`},[`${e}-track`]:{backgroundColor:`${t.trackBgDisabled} !important`},[`
          ${e}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${e}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:f,height:f,boxShadow:`0 0 0 ${xe(v)} ${l}`,insetInlineStart:0,insetBlockStart:0},[`
          ${e}-mark-text,
          ${e}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},pk=(t,e)=>{const{componentCls:n,railSize:r,handleSize:a,dotSize:i,marginFull:o,calc:s}=t,l=e?"paddingBlock":"paddingInline",c=e?"width":"height",f=e?"height":"width",u=e?"insetBlockStart":"insetInlineStart",d=e?"top":"insetInlineStart",g=s(r).mul(3).sub(a).div(2).equal(),v=s(a).sub(r).div(2).equal(),m=e?{borderWidth:`${xe(v)} 0`,transform:`translateY(${xe(s(v).mul(-1).equal())})`}:{borderWidth:`0 ${xe(v)}`,transform:`translateX(${xe(t.calc(v).mul(-1).equal())})`};return{[l]:r,[f]:s(r).mul(3).equal(),[`${n}-rail`]:{[c]:"100%",[f]:r},[`${n}-track,${n}-tracks`]:{[f]:r},[`${n}-track-draggable`]:Object.assign({},m),[`${n}-handle`]:{[u]:g},[`${n}-mark`]:{insetInlineStart:0,top:0,[d]:s(r).mul(3).add(e?0:o).equal(),[c]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[d]:r,[c]:"100%",[f]:r},[`${n}-dot`]:{position:"absolute",[u]:s(r).sub(i).div(2).equal()}}},dde=t=>{const{componentCls:e,marginPartWithMark:n}=t;return{[`${e}-horizontal`]:Object.assign(Object.assign({},pk(t,!0)),{[`&${e}-with-marks`]:{marginBottom:n}})}},gde=t=>{const{componentCls:e}=t;return{[`${e}-vertical`]:Object.assign(Object.assign({},pk(t,!1)),{height:"100%"})}},mde=t=>{const n=t.controlHeightLG/4,r=t.controlHeightSM/2,a=t.lineWidth+1,i=t.lineWidth+1*1.5,o=t.colorPrimary,s=new Pr(o).setAlpha(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:a,handleLineWidthHover:i,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:o,handleActiveOutlineColor:s,handleColorDisabled:new Pr(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexShortString(),dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}},vde=ta("Slider",t=>{const e=fr(t,{marginPart:t.calc(t.controlHeight).sub(t.controlSize).div(2).equal(),marginFull:t.calc(t.controlSize).div(2).equal(),marginPartWithMark:t.calc(t.controlHeightLG).sub(t.controlSize).equal()});return[fde(e),dde(e),gde(e)]},mde),pde=S.createContext({});function Z4(){const[t,e]=S.useState(!1),n=S.useRef(),r=()=>{ur.cancel(n.current)},a=i=>{r(),i?e(i):n.current=ur(()=>{e(i)})};return S.useEffect(()=>r,[]),[t,a]}var hde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function Sde(t,e){return t||t===null?t:e||e===null?e:n=>typeof n=="number"?n.toString():""}const yde=Oe.forwardRef((t,e)=>{const{prefixCls:n,range:r,className:a,rootClassName:i,style:o,disabled:s,tooltipPrefixCls:l,tipFormatter:c,tooltipVisible:f,getTooltipPopupContainer:u,tooltipPlacement:d,tooltip:g={},onChangeComplete:v}=t,m=hde(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:p}=t,{direction:h,slider:y,getPrefixCls:C,getPopupContainer:x}=Oe.useContext(cn),T=Oe.useContext(ls),w=s??T,{handleRender:b,direction:E}=Oe.useContext(pde),D=(E||h)==="rtl",[R,I]=Z4(),[M,A]=Z4(),B=Object.assign({},g),{open:L,placement:F,getPopupContainer:_,prefixCls:P,formatter:N}=B,k=L??f,H=(R||M)&&k!==!1,K=Sde(N,c),[te,se]=Z4(),pe=We=>{v==null||v(We),se(!1)},ve=(We,Me)=>We||(Me?D?"left":"right":"top"),Te=C("slider",n),[_e,fe,ce]=vde(Te),Ee=Se(a,y==null?void 0:y.className,i,{[`${Te}-rtl`]:D,[`${Te}-lock`]:te},fe,ce);D&&!m.vertical&&(m.reverse=!m.reverse),Oe.useEffect(()=>{const We=()=>{ur(()=>{A(!1)},1)};return document.addEventListener("mouseup",We),()=>{document.removeEventListener("mouseup",We)}},[]);const we=r&&!k,he=b||((We,Me)=>{const{index:Je}=Me,Be=We.props;function z(oe,be,Ue){var ze,at,gt,St;Ue&&((at=(ze=m)[oe])===null||at===void 0||at.call(ze,be)),(St=(gt=Be)[oe])===null||St===void 0||St.call(gt,be)}const Y=Object.assign(Object.assign({},Be),{onMouseEnter:oe=>{I(!0),z("onMouseEnter",oe)},onMouseLeave:oe=>{I(!1),z("onMouseLeave",oe)},onMouseDown:oe=>{A(!0),se(!0),z("onMouseDown",oe)},onFocus:oe=>{var be;A(!0),(be=m.onFocus)===null||be===void 0||be.call(m,oe),z("onFocus",oe,!0)},onBlur:oe=>{var be;A(!1),(be=m.onBlur)===null||be===void 0||be.call(m,oe),z("onBlur",oe,!0)}}),ee=Oe.cloneElement(We,Y),j=(!!k||H)&&K!==null;return we?ee:Oe.createElement(rI,Object.assign({},B,{prefixCls:C("tooltip",P??l),title:K?K(Me.value):"",open:j,placement:ve(F??d,p),key:Je,overlayClassName:`${Te}-tooltip`,getPopupContainer:_||u||x}),ee)}),Re=we?(We,Me)=>{const Je=Oe.cloneElement(We,{style:Object.assign(Object.assign({},We.props.style),{visibility:"hidden"})});return Oe.createElement(rI,Object.assign({},B,{prefixCls:C("tooltip",P??l),title:K?K(Me.value):"",open:K!==null&&H,placement:ve(F??d,p),key:"tooltip",overlayClassName:`${Te}-tooltip`,getPopupContainer:_||u||x,draggingDelete:Me.draggingDelete}),Je)}:void 0,Pe=Object.assign(Object.assign({},y==null?void 0:y.style),o);return _e(Oe.createElement(ude,Object.assign({},m,{step:m.step,range:r,className:Ee,style:Pe,disabled:w,ref:e,prefixCls:Te,handleRender:he,activeHandleRender:Re,onChangeComplete:pe})))});function aI(t){return["small","middle","large"].includes(t)}function iI(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const hk=Oe.createContext({latestIndex:0}),Cde=hk.Provider,xde=t=>{let{className:e,index:n,children:r,split:a,style:i}=t;const{latestIndex:o}=S.useContext(hk);return r==null?null:S.createElement(S.Fragment,null,S.createElement("div",{className:e,style:i},r),n<o&&a&&S.createElement("span",{className:`${e}-split`},a))};var Tde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const wde=S.forwardRef((t,e)=>{var n,r,a;const{getPrefixCls:i,space:o,direction:s}=S.useContext(cn),{size:l=(n=o==null?void 0:o.size)!==null&&n!==void 0?n:"small",align:c,className:f,rootClassName:u,children:d,direction:g="horizontal",prefixCls:v,split:m,style:p,wrap:h=!1,classNames:y,styles:C}=t,x=Tde(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[T,w]=Array.isArray(l)?l:[l,l],b=aI(w),E=aI(T),O=iI(w),D=iI(T),R=os(d,{keepEmpty:!0}),I=c===void 0&&g==="horizontal"?"center":c,M=i("space",v),[A,B,L]=m$(M),F=Se(M,o==null?void 0:o.className,B,`${M}-${g}`,{[`${M}-rtl`]:s==="rtl",[`${M}-align-${I}`]:I,[`${M}-gap-row-${w}`]:b,[`${M}-gap-col-${T}`]:E},f,u,L),_=Se(`${M}-item`,(r=y==null?void 0:y.item)!==null&&r!==void 0?r:(a=o==null?void 0:o.classNames)===null||a===void 0?void 0:a.item);let P=0;const N=R.map((K,te)=>{var se,pe;K!=null&&(P=te);const ve=(K==null?void 0:K.key)||`${_}-${te}`;return S.createElement(xde,{className:_,key:ve,index:te,split:m,style:(se=C==null?void 0:C.item)!==null&&se!==void 0?se:(pe=o==null?void 0:o.styles)===null||pe===void 0?void 0:pe.item},K)}),k=S.useMemo(()=>({latestIndex:P}),[P]);if(R.length===0)return null;const H={};return h&&(H.flexWrap="wrap"),!E&&D&&(H.columnGap=T),!b&&O&&(H.rowGap=w),A(S.createElement("div",Object.assign({ref:e,className:F,style:Object.assign(Object.assign(Object.assign({},H),o==null?void 0:o.style),p)},x),S.createElement(Cde,{value:k},N)))}),Sk=wde;Sk.Compact=nae;var bde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const yk=t=>{const{getPopupContainer:e,getPrefixCls:n,direction:r}=S.useContext(cn),{prefixCls:a,type:i="default",danger:o,disabled:s,loading:l,onClick:c,htmlType:f,children:u,className:d,menu:g,arrow:v,autoFocus:m,overlay:p,trigger:h,align:y,open:C,onOpenChange:x,placement:T,getPopupContainer:w,href:b,icon:E=S.createElement(HV,null),title:O,buttonsRender:D=Te=>Te,mouseEnterDelay:R,mouseLeaveDelay:I,overlayClassName:M,overlayStyle:A,destroyPopupOnHide:B,dropdownRender:L}=t,F=bde(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),_=n("dropdown",a),P=`${_}-button`,N={menu:g,arrow:v,autoFocus:m,align:y,disabled:s,trigger:s?[]:h,onOpenChange:x,getPopupContainer:w||e,mouseEnterDelay:R,mouseLeaveDelay:I,overlayClassName:M,overlayStyle:A,destroyPopupOnHide:B,dropdownRender:L},{compactSize:k,compactItemClassnames:H}=gp(_,r),K=Se(P,H,d);"overlay"in t&&(N.overlay=p),"open"in t&&(N.open=C),"placement"in t?N.placement=T:N.placement=r==="rtl"?"bottomLeft":"bottomRight";const te=S.createElement(ji,{type:i,danger:o,disabled:s,loading:l,onClick:c,htmlType:f,href:b,title:O},u),se=S.createElement(ji,{type:i,danger:o,icon:E}),[pe,ve]=D([te,se]);return S.createElement(Sk.Compact,Object.assign({className:K,size:k,block:!0},F),pe,S.createElement($5,Object.assign({},N),ve))};yk.__ANT_BUTTON=!0;const IT=$5;IT.Button=yk;function oI(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function hh(t,e,n,r){var a=hv.unstable_batchedUpdates?function(o){hv.unstable_batchedUpdates(n,o)}:n;return t!=null&&t.addEventListener&&t.addEventListener(e,a,r),{remove:function(){t!=null&&t.removeEventListener&&t.removeEventListener(e,a,r)}}}function Ede(t,e,n){return typeof n=="boolean"?n:t.length?!0:os(e).some(a=>a.type===jV)}var Ck=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function U5(t){let{suffixCls:e,tagName:n,displayName:r}=t;return a=>S.forwardRef((o,s)=>S.createElement(a,Object.assign({ref:s,suffixCls:e,tagName:n},o)))}const AT=S.forwardRef((t,e)=>{const{prefixCls:n,suffixCls:r,className:a,tagName:i}=t,o=Ck(t,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:s}=S.useContext(cn),l=s("layout",n),[c,f,u]=WV(l),d=r?`${l}-${r}`:l;return c(S.createElement(i,Object.assign({className:Se(n||d,a,f,u),ref:e},o)))}),Dde=S.forwardRef((t,e)=>{const{direction:n}=S.useContext(cn),[r,a]=S.useState([]),{prefixCls:i,className:o,rootClassName:s,children:l,hasSider:c,tagName:f,style:u}=t,d=Ck(t,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),g=$a(d,["suffixCls"]),{getPrefixCls:v,layout:m}=S.useContext(cn),p=v("layout",i),h=Ede(r,l,c),[y,C,x]=WV(p),T=Se(p,{[`${p}-has-sider`]:h,[`${p}-rtl`]:n==="rtl"},m==null?void 0:m.className,o,s,C,x),w=S.useMemo(()=>({siderHook:{addSider:b=>{a(E=>[].concat(Ze(E),[b]))},removeSider:b=>{a(E=>E.filter(O=>O!==b))}}}),[]);return y(S.createElement(BV.Provider,{value:w},S.createElement(f,Object.assign({ref:e,className:T,style:Object.assign(Object.assign({},m==null?void 0:m.style),u)},g),l)))}),Ode=U5({tagName:"div",displayName:"Layout"})(Dde),Rde=U5({suffixCls:"header",tagName:"header",displayName:"Header"})(AT),Ide=U5({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(AT),Ade=U5({suffixCls:"content",tagName:"main",displayName:"Content"})(AT),Ef=Ode;Ef.Header=Rde;Ef.Footer=Ide;Ef.Content=Ade;Ef.Sider=jV;Ef._InternalSiderContext=F5;const xk=function(){const t=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];n&&Object.keys(n).forEach(r=>{const a=n[r];a!==void 0&&(t[r]=a)})}return t};var Mde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},Pde=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Mde}))},sI=S.forwardRef(Pde),Lde={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},_de=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Lde}))},lI=S.forwardRef(_de),Nde={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"},Fde=["10","20","50","100"],$de=function(e){var n=e.pageSizeOptions,r=n===void 0?Fde:n,a=e.locale,i=e.changeSize,o=e.pageSize,s=e.goButton,l=e.quickGo,c=e.rootPrefixCls,f=e.selectComponentClass,u=e.selectPrefixCls,d=e.disabled,g=e.buildOptionText,v=e.showSizeChanger,m=Oe.useState(""),p=Ae(m,2),h=p[0],y=p[1],C=function(){return!h||Number.isNaN(h)?void 0:Number(h)},x=typeof g=="function"?g:function(_){return"".concat(_," ").concat(a.items_per_page)},T=function(P,N){if(i==null||i(Number(P)),qt(v)==="object"){var k;(k=v.onChange)===null||k===void 0||k.call(v,P,N)}},w=function(P){y(P.target.value)},b=function(P){s||h===""||(y(""),!(P.relatedTarget&&(P.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||P.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&(l==null||l(C())))},E=function(P){h!==""&&(P.keyCode===rt.ENTER||P.type==="click")&&(y(""),l==null||l(C()))},O=function(){return r.some(function(P){return P.toString()===o.toString()})?r:r.concat([o.toString()]).sort(function(P,N){var k=Number.isNaN(Number(P))?0:Number(P),H=Number.isNaN(Number(N))?0:Number(N);return k-H})},D="".concat(c,"-options");if(!v&&!l)return null;var R=null,I=null,M=null;if(v&&f){var A=qt(v)==="object"?v:{},B=A.options,L=A.className,F=B?void 0:O().map(function(_,P){return Oe.createElement(f.Option,{key:P,value:_.toString()},x(_))});R=Oe.createElement(f,tt({disabled:d,prefixCls:u,showSearch:!1,optionLabelProp:B?"label":"children",popupMatchSelectWidth:!1,value:(o||r[0]).toString(),getPopupContainer:function(P){return P.parentNode},"aria-label":a.page_size,defaultOpen:!1},qt(v)==="object"?v:null,{className:Se("".concat(D,"-size-changer"),L),options:B,onChange:T}),F)}return l&&(s&&(M=typeof s=="boolean"?Oe.createElement("button",{type:"button",onClick:E,onKeyUp:E,disabled:d,className:"".concat(D,"-quick-jumper-button")},a.jump_to_confirm):Oe.createElement("span",{onClick:E,onKeyUp:E},s)),I=Oe.createElement("div",{className:"".concat(D,"-quick-jumper")},a.jump_to,Oe.createElement("input",{disabled:d,type:"text",value:h,onChange:w,onKeyUp:E,onBlur:b,"aria-label":a.page}),a.page,M)),Oe.createElement("li",{className:D},R,I)},Fg=function(e){var n=e.rootPrefixCls,r=e.page,a=e.active,i=e.className,o=e.showTitle,s=e.onClick,l=e.onKeyPress,c=e.itemRender,f="".concat(n,"-item"),u=Se(f,"".concat(f,"-").concat(r),J(J({},"".concat(f,"-active"),a),"".concat(f,"-disabled"),!r),i),d=function(){s(r)},g=function(p){l(p,s,r)},v=c(r,"page",Oe.createElement("a",{rel:"nofollow"},r));return v?Oe.createElement("li",{title:o?String(r):null,className:u,onClick:d,onKeyDown:g,tabIndex:0},v):null},Vde=function(e,n,r){return r};function cI(){}function uI(t){var e=Number(t);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function ou(t,e,n){var r=typeof t>"u"?e:t;return Math.floor((n-1)/r)+1}var kde=function(e){var n=e.prefixCls,r=n===void 0?"rc-pagination":n,a=e.selectPrefixCls,i=a===void 0?"rc-select":a,o=e.className,s=e.selectComponentClass,l=e.current,c=e.defaultCurrent,f=c===void 0?1:c,u=e.total,d=u===void 0?0:u,g=e.pageSize,v=e.defaultPageSize,m=v===void 0?10:v,p=e.onChange,h=p===void 0?cI:p,y=e.hideOnSinglePage,C=e.align,x=e.showPrevNextJumpers,T=x===void 0?!0:x,w=e.showQuickJumper,b=e.showLessItems,E=e.showTitle,O=E===void 0?!0:E,D=e.onShowSizeChange,R=D===void 0?cI:D,I=e.locale,M=I===void 0?Nde:I,A=e.style,B=e.totalBoundaryShowSizeChanger,L=B===void 0?50:B,F=e.disabled,_=e.simple,P=e.showTotal,N=e.showSizeChanger,k=N===void 0?d>L:N,H=e.pageSizeOptions,K=e.itemRender,te=K===void 0?Vde:K,se=e.jumpPrevIcon,pe=e.jumpNextIcon,ve=e.prevIcon,Te=e.nextIcon,_e=Oe.useRef(null),fe=Ha(10,{value:g,defaultValue:m}),ce=Ae(fe,2),Ee=ce[0],we=ce[1],he=Ha(1,{value:l,defaultValue:f,postState:function($t){return Math.max(1,Math.min($t,ou(void 0,Ee,d)))}}),Re=Ae(he,2),Pe=Re[0],We=Re[1],Me=Oe.useState(Pe),Je=Ae(Me,2),Be=Je[0],z=Je[1];S.useEffect(function(){z(Pe)},[Pe]);var Y=Math.max(1,Pe-(b?3:5)),ee=Math.min(ou(void 0,Ee,d),Pe+(b?3:5));function j(Ct,$t){var mn=Ct||Oe.createElement("button",{type:"button","aria-label":$t,className:"".concat(r,"-item-link")});return typeof Ct=="function"&&(mn=Oe.createElement(Ct,ie({},e))),mn}function oe(Ct){var $t=Ct.target.value,mn=ou(void 0,Ee,d),An;return $t===""?An=$t:Number.isNaN(Number($t))?An=Be:$t>=mn?An=mn:An=Number($t),An}function be(Ct){return uI(Ct)&&Ct!==Pe&&uI(d)&&d>0}var Ue=d>Ee?w:!1;function ze(Ct){(Ct.keyCode===rt.UP||Ct.keyCode===rt.DOWN)&&Ct.preventDefault()}function at(Ct){var $t=oe(Ct);switch($t!==Be&&z($t),Ct.keyCode){case rt.ENTER:ct($t);break;case rt.UP:ct($t-1);break;case rt.DOWN:ct($t+1);break}}function gt(Ct){ct(oe(Ct))}function St(Ct){var $t=ou(Ct,Ee,d),mn=Pe>$t&&$t!==0?$t:Pe;we(Ct),z(mn),R==null||R(Pe,Ct),We(mn),h==null||h(mn,Ct)}function ct(Ct){if(be(Ct)&&!F){var $t=ou(void 0,Ee,d),mn=Ct;return Ct>$t?mn=$t:Ct<1&&(mn=1),mn!==Be&&z(mn),We(mn),h==null||h(mn,Ee),mn}return Pe}var et=Pe>1,Ne=Pe<ou(void 0,Ee,d);function ut(){et&&ct(Pe-1)}function At(){Ne&&ct(Pe+1)}function bt(){ct(Y)}function Rt(){ct(ee)}function jt(Ct,$t){if(Ct.key==="Enter"||Ct.charCode===rt.ENTER||Ct.keyCode===rt.ENTER){for(var mn=arguments.length,An=new Array(mn>2?mn-2:0),On=2;On<mn;On++)An[On-2]=arguments[On];$t.apply(void 0,An)}}function un(Ct){jt(Ct,ut)}function Zt(Ct){jt(Ct,At)}function Kt(Ct){jt(Ct,bt)}function fn(Ct){jt(Ct,Rt)}function en(Ct){var $t=te(Ct,"prev",j(ve,"prev page"));return Oe.isValidElement($t)?Oe.cloneElement($t,{disabled:!et}):$t}function sn(Ct){var $t=te(Ct,"next",j(Te,"next page"));return Oe.isValidElement($t)?Oe.cloneElement($t,{disabled:!Ne}):$t}function zt(Ct){(Ct.type==="click"||Ct.keyCode===rt.ENTER)&&ct(Be)}var Lt=null,yt=Pi(e,{aria:!0,data:!0}),lt=P&&Oe.createElement("li",{className:"".concat(r,"-total-text")},P(d,[d===0?0:(Pe-1)*Ee+1,Pe*Ee>d?d:Pe*Ee])),de=null,ue=ou(void 0,Ee,d);if(y&&d<=Ee)return null;var ge=[],Ce={rootPrefixCls:r,onClick:ct,onKeyPress:jt,showTitle:O,itemRender:te,page:-1},Ge=Pe-1>0?Pe-1:0,He=Pe+1<ue?Pe+1:ue,pt=w&&w.goButton,Qe=qt(_)==="object"?_.readOnly:!_,Ke=pt,Ye=null;_&&(pt&&(typeof pt=="boolean"?Ke=Oe.createElement("button",{type:"button",onClick:zt,onKeyUp:zt},M.jump_to_confirm):Ke=Oe.createElement("span",{onClick:zt,onKeyUp:zt},pt),Ke=Oe.createElement("li",{title:O?"".concat(M.jump_to).concat(Pe,"/").concat(ue):null,className:"".concat(r,"-simple-pager")},Ke)),Ye=Oe.createElement("li",{title:O?"".concat(Pe,"/").concat(ue):null,className:"".concat(r,"-simple-pager")},Qe?Be:Oe.createElement("input",{type:"text",value:Be,disabled:F,onKeyDown:ze,onKeyUp:at,onChange:at,onBlur:gt,size:3}),Oe.createElement("span",{className:"".concat(r,"-slash")},"/"),ue));var ft=b?1:2;if(ue<=3+ft*2){ue||ge.push(Oe.createElement(Fg,tt({},Ce,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var xt=1;xt<=ue;xt+=1)ge.push(Oe.createElement(Fg,tt({},Ce,{key:xt,page:xt,active:Pe===xt})))}else{var Nt=b?M.prev_3:M.prev_5,Pt=b?M.next_3:M.next_5,Ut=te(Y,"jump-prev",j(se,"prev page")),Ht=te(ee,"jump-next",j(pe,"next page"));T&&(Lt=Ut?Oe.createElement("li",{title:O?Nt:null,key:"prev",onClick:bt,tabIndex:0,onKeyDown:Kt,className:Se("".concat(r,"-jump-prev"),J({},"".concat(r,"-jump-prev-custom-icon"),!!se))},Ut):null,de=Ht?Oe.createElement("li",{title:O?Pt:null,key:"next",onClick:Rt,tabIndex:0,onKeyDown:fn,className:Se("".concat(r,"-jump-next"),J({},"".concat(r,"-jump-next-custom-icon"),!!pe))},Ht):null);var Dt=Math.max(1,Pe-ft),Mt=Math.min(Pe+ft,ue);Pe-1<=ft&&(Mt=1+ft*2),ue-Pe<=ft&&(Dt=ue-ft*2);for(var Bt=Dt;Bt<=Mt;Bt+=1)ge.push(Oe.createElement(Fg,tt({},Ce,{key:Bt,page:Bt,active:Pe===Bt})));if(Pe-1>=ft*2&&Pe!==3&&(ge[0]=Oe.cloneElement(ge[0],{className:Se("".concat(r,"-item-after-jump-prev"),ge[0].props.className)}),ge.unshift(Lt)),ue-Pe>=ft*2&&Pe!==ue-2){var Ft=ge[ge.length-1];ge[ge.length-1]=Oe.cloneElement(Ft,{className:Se("".concat(r,"-item-before-jump-next"),Ft.props.className)}),ge.push(de)}Dt!==1&&ge.unshift(Oe.createElement(Fg,tt({},Ce,{key:1,page:1}))),Mt!==ue&&ge.push(Oe.createElement(Fg,tt({},Ce,{key:ue,page:ue})))}var Ot=en(Ge);if(Ot){var dn=!et||!ue;Ot=Oe.createElement("li",{title:O?M.prev_page:null,onClick:ut,tabIndex:dn?null:0,onKeyDown:un,className:Se("".concat(r,"-prev"),J({},"".concat(r,"-disabled"),dn)),"aria-disabled":dn},Ot)}var rn=sn(He);if(rn){var pn,Xn;_?(pn=!Ne,Xn=et?0:null):(pn=!Ne||!ue,Xn=pn?null:0),rn=Oe.createElement("li",{title:O?M.next_page:null,onClick:At,tabIndex:Xn,onKeyDown:Zt,className:Se("".concat(r,"-next"),J({},"".concat(r,"-disabled"),pn)),"aria-disabled":pn},rn)}var Fn=Se(r,o,J(J(J(J(J({},"".concat(r,"-start"),C==="start"),"".concat(r,"-center"),C==="center"),"".concat(r,"-end"),C==="end"),"".concat(r,"-simple"),_),"".concat(r,"-disabled"),F));return Oe.createElement("ul",tt({className:Fn,style:A,ref:_e},yt),lt,Ot,_?Ye:ge,rn,Oe.createElement($de,{locale:M,rootPrefixCls:r,disabled:F,selectComponentClass:s,selectPrefixCls:i,changeSize:St,pageSize:Ee,pageSizeOptions:H,quickGo:Ue?ct:null,goButton:Ke,showSizeChanger:k}))};const Tk=t=>S.createElement(fl,Object.assign({},t,{showSearch:!0,size:"small"})),wk=t=>S.createElement(fl,Object.assign({},t,{showSearch:!0,size:"middle"}));Tk.Option=fl.Option;wk.Option=fl.Option;const Ude=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},Bde=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.itemSizeSM,lineHeight:xe(t.itemSizeSM)},[`&${e}-mini ${e}-item`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:xe(t.calc(t.itemSizeSM).sub(2).equal())},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:xe(t.itemSizeSM)},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:xe(t.itemSizeSM)}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:xe(t.itemSizeSM)},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.miniOptionsSizeChangerTop},"&-quick-jumper":{height:t.itemSizeSM,lineHeight:xe(t.itemSizeSM),input:Object.assign(Object.assign({},bT(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},Gde=t=>{const{componentCls:e}=t;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:t.itemSizeSM,lineHeight:xe(t.itemSizeSM),verticalAlign:"top",[`${e}-item-link`]:{height:t.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSizeSM,lineHeight:xe(t.itemSizeSM)}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:t.itemSizeSM,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${xe(t.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:t.itemInputBg,border:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${xe(t.inputOutlineOffset)} 0 ${xe(t.controlOutlineWidth)} ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}}}},zde=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:xe(t.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${xe(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:xe(t.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},ET(t)),wT(t,{borderColor:t.colorBorder,hoverBorderColor:t.colorPrimaryHover,activeBorderColor:t.colorPrimary,activeShadow:t.activeShadow})),{"&[disabled]":Object.assign({},V5(t)),width:t.calc(t.controlHeightLG).mul(1.25).equal(),height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},Wde=t=>{const{componentCls:e}=t;return{[`${e}-item`]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:xe(t.calc(t.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:t.itemBg,border:`${xe(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${xe(t.paginationItemPaddingInline)}`,color:t.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},"&-active":{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.colorPrimary},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.colorPrimaryHover}}}}},jde=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aa(t)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:xe(t.calc(t.itemSize).sub(2).equal()),verticalAlign:"middle"}}),Wde(t)),zde(t)),Gde(t)),Bde(t)),Ude(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},Hde=t=>{const{componentCls:e}=t;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},S1(t)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},Dc(t))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},Dc(t))}}}},bk=t=>Object.assign({itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0},TT(t)),Ek=t=>fr(t,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:t.calc(t.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:t.calc(t.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:t.calc(t.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:t.calc(t.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:t.marginSM,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},xT(t)),qde=ta("Pagination",t=>{const e=Ek(t);return[jde(e),Hde(e)]},bk),Kde=t=>{const{componentCls:e}=t;return{[`${e}${e}-bordered${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[`${e}${e}-bordered:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg},[`${e}-item-link`]:{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.itemBg,border:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},Qde=$7(["Pagination","bordered"],t=>{const e=Ek(t);return[Kde(e)]},bk);var Xde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Dk=t=>{const{align:e,prefixCls:n,selectPrefixCls:r,className:a,rootClassName:i,style:o,size:s,locale:l,selectComponentClass:c,responsive:f,showSizeChanger:u}=t,d=Xde(t,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","selectComponentClass","responsive","showSizeChanger"]),{xs:g}=dT(f),[,v]=Ti(),{getPrefixCls:m,direction:p,pagination:h={}}=S.useContext(cn),y=m("pagination",n),[C,x,T]=qde(y),w=u??h.showSizeChanger,b=S.useMemo(()=>{const B=S.createElement("span",{className:`${y}-item-ellipsis`},"•••"),L=S.createElement("button",{className:`${y}-item-link`,type:"button",tabIndex:-1},p==="rtl"?S.createElement(Mv,null):S.createElement(VS,null)),F=S.createElement("button",{className:`${y}-item-link`,type:"button",tabIndex:-1},p==="rtl"?S.createElement(VS,null):S.createElement(Mv,null)),_=S.createElement("a",{className:`${y}-item-link`},S.createElement("div",{className:`${y}-item-container`},p==="rtl"?S.createElement(lI,{className:`${y}-item-link-icon`}):S.createElement(sI,{className:`${y}-item-link-icon`}),B)),P=S.createElement("a",{className:`${y}-item-link`},S.createElement("div",{className:`${y}-item-container`},p==="rtl"?S.createElement(sI,{className:`${y}-item-link-icon`}):S.createElement(lI,{className:`${y}-item-link-icon`}),B));return{prevIcon:L,nextIcon:F,jumpPrevIcon:_,jumpNextIcon:P}},[p,y]),[E]=Q1("Pagination",xF),O=Object.assign(Object.assign({},E),l),D=Us(s),R=D==="small"||!!(g&&!D&&f),I=m("select",r),M=Se({[`${y}-${e}`]:!!e,[`${y}-mini`]:R,[`${y}-rtl`]:p==="rtl",[`${y}-bordered`]:v.wireframe},h==null?void 0:h.className,a,i,x,T),A=Object.assign(Object.assign({},h==null?void 0:h.style),o);return C(S.createElement(S.Fragment,null,v.wireframe&&S.createElement(Qde,{prefixCls:y}),S.createElement(kde,Object.assign({},b,d,{style:A,prefixCls:y,selectPrefixCls:I,className:M,selectComponentClass:c||(R?Tk:wk),locale:O,showSizeChanger:w}))))},zS=100,Ok=zS/5,Rk=zS/2-Ok/2,J4=Rk*2*Math.PI,fI=50,dI=t=>{const{dotClassName:e,style:n,hasCircleCls:r}=t;return S.createElement("circle",{className:Se(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:Rk,cx:fI,cy:fI,strokeWidth:Ok,style:n})},Yde=t=>{let{percent:e,prefixCls:n}=t;const r=`${n}-dot`,a=`${r}-holder`,i=`${a}-hidden`,[o,s]=S.useState(!1);wr(()=>{e!==0&&s(!0)},[e!==0]);const l=Math.max(Math.min(e,100),0);if(!o)return null;const c={strokeDashoffset:`${J4/4}`,strokeDasharray:`${J4*l/100} ${J4*(100-l)/100}`};return S.createElement("span",{className:Se(a,`${r}-progress`,l<=0&&i)},S.createElement("svg",{viewBox:`0 0 ${zS} ${zS}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},S.createElement(dI,{dotClassName:r,hasCircleCls:!0}),S.createElement(dI,{dotClassName:r,style:c})))};function Zde(t){const{prefixCls:e,percent:n=0}=t,r=`${e}-dot`,a=`${r}-holder`,i=`${a}-hidden`;return S.createElement(S.Fragment,null,S.createElement("span",{className:Se(a,n>0&&i)},S.createElement("span",{className:Se(r,`${e}-dot-spin`)},[1,2,3,4].map(o=>S.createElement("i",{className:`${e}-dot-item`,key:o})))),S.createElement(Yde,{prefixCls:e,percent:n}))}function Jde(t){const{prefixCls:e,indicator:n,percent:r}=t,a=`${e}-dot`;return n&&S.isValidElement(n)?Hi(n,{className:Se(n.props.className,a),percent:r}):S.createElement(Zde,{prefixCls:e,percent:r})}const e1e=new er("antSpinMove",{to:{opacity:1}}),t1e=new er("antRotate",{to:{transform:"rotate(405deg)"}}),n1e=t=>{const{componentCls:e,calc:n}=t;return{[e]:Object.assign(Object.assign({},aa(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:t.fontSize,paddingTop:n(n(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:t.colorWhite},[`${e}-text`]:{color:t.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(t.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:n(t.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:n(t.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:t.dotSize,display:"inline-block",transition:`transform ${t.motionDurationSlow} ease, opacity ${t.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:t.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",insetInlineStart:"50%"},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),height:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:e1e,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:t1e,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${t.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:t.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal(),height:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},r1e=t=>{const{controlHeightLG:e,controlHeight:n}=t;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:n}},a1e=ta("Spin",t=>{const e=fr(t,{spinDotDefault:t.colorTextDescription});return[n1e(e)]},r1e),i1e=200,gI=[[30,.05],[70,.03],[96,.01]];function o1e(t,e){const[n,r]=S.useState(0),a=S.useRef(),i=e==="auto";return S.useEffect(()=>(i&&t&&(r(0),a.current=setInterval(()=>{r(o=>{const s=100-o;for(let l=0;l<gI.length;l+=1){const[c,f]=gI[l];if(o<=c)return o+s*f}return o})},i1e)),()=>{clearInterval(a.current)}),[i,t]),i?n:e}var s1e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};let Ik;function l1e(t,e){return!!t&&!!e&&!isNaN(Number(e))}const MT=t=>{var e;const{prefixCls:n,spinning:r=!0,delay:a=0,className:i,rootClassName:o,size:s="default",tip:l,wrapperClassName:c,style:f,children:u,fullscreen:d=!1,indicator:g,percent:v}=t,m=s1e(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:p,direction:h,spin:y}=S.useContext(cn),C=p("spin",n),[x,T,w]=a1e(C),[b,E]=S.useState(()=>r&&!l1e(r,a)),O=o1e(b,v);S.useEffect(()=>{if(r){const L=zue(a,()=>{E(!0)});return L(),()=>{var F;(F=L==null?void 0:L.cancel)===null||F===void 0||F.call(L)}}E(!1)},[a,r]);const D=S.useMemo(()=>typeof u<"u"&&!d,[u,d]),R=Se(C,y==null?void 0:y.className,{[`${C}-sm`]:s==="small",[`${C}-lg`]:s==="large",[`${C}-spinning`]:b,[`${C}-show-text`]:!!l,[`${C}-rtl`]:h==="rtl"},i,!d&&o,T,w),I=Se(`${C}-container`,{[`${C}-blur`]:b}),M=(e=g??(y==null?void 0:y.indicator))!==null&&e!==void 0?e:Ik,A=Object.assign(Object.assign({},y==null?void 0:y.style),f),B=S.createElement("div",Object.assign({},m,{style:A,className:R,"aria-live":"polite","aria-busy":b}),S.createElement(Jde,{prefixCls:C,indicator:M,percent:O}),l&&(D||d)?S.createElement("div",{className:`${C}-text`},l):null);return x(D?S.createElement("div",Object.assign({},m,{className:Se(`${C}-nested-loading`,c,T,w)}),b&&S.createElement("div",{key:"loading"},B),S.createElement("div",{className:I,key:"container"},u)):d?S.createElement("div",{className:Se(`${C}-fullscreen`,{[`${C}-fullscreen-show`]:b},o,T,w)},B):B)};MT.setDefaultIndicator=t=>{Ik=t};const PT=Oe.createContext({});PT.Consumer;var Ak=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const c1e=t=>{var{prefixCls:e,className:n,avatar:r,title:a,description:i}=t,o=Ak(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:s}=S.useContext(cn),l=s("list",e),c=Se(`${l}-item-meta`,n),f=Oe.createElement("div",{className:`${l}-item-meta-content`},a&&Oe.createElement("h4",{className:`${l}-item-meta-title`},a),i&&Oe.createElement("div",{className:`${l}-item-meta-description`},i));return Oe.createElement("div",Object.assign({},o,{className:c}),r&&Oe.createElement("div",{className:`${l}-item-meta-avatar`},r),(a||i)&&f)},u1e=Oe.forwardRef((t,e)=>{const{prefixCls:n,children:r,actions:a,extra:i,styles:o,className:s,classNames:l,colStyle:c}=t,f=Ak(t,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:u,itemLayout:d}=S.useContext(PT),{getPrefixCls:g,list:v}=S.useContext(cn),m=b=>{var E,O;return Se((O=(E=v==null?void 0:v.item)===null||E===void 0?void 0:E.classNames)===null||O===void 0?void 0:O[b],l==null?void 0:l[b])},p=b=>{var E,O;return Object.assign(Object.assign({},(O=(E=v==null?void 0:v.item)===null||E===void 0?void 0:E.styles)===null||O===void 0?void 0:O[b]),o==null?void 0:o[b])},h=()=>{let b=!1;return S.Children.forEach(r,E=>{typeof E=="string"&&(b=!0)}),b&&S.Children.count(r)>1},y=()=>d==="vertical"?!!i:!h(),C=g("list",n),x=a&&a.length>0&&Oe.createElement("ul",{className:Se(`${C}-item-action`,m("actions")),key:"actions",style:p("actions")},a.map((b,E)=>Oe.createElement("li",{key:`${C}-item-action-${E}`},b,E!==a.length-1&&Oe.createElement("em",{className:`${C}-item-action-split`})))),T=u?"div":"li",w=Oe.createElement(T,Object.assign({},f,u?{}:{ref:e},{className:Se(`${C}-item`,{[`${C}-item-no-flex`]:!y()},s)}),d==="vertical"&&i?[Oe.createElement("div",{className:`${C}-item-main`,key:"content"},r,x),Oe.createElement("div",{className:Se(`${C}-item-extra`,m("extra")),key:"extra",style:p("extra")},i)]:[r,x,Hi(i,{key:"extra"})]);return u?Oe.createElement(ffe,{ref:e,flex:1,style:c},w):w}),Mk=u1e;Mk.Meta=c1e;const f1e=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:r,margin:a,itemPaddingSM:i,itemPaddingLG:o,marginLG:s,borderRadiusLG:l}=t;return{[e]:{border:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:l,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:r},[`${n}-pagination`]:{margin:`${xe(a)} ${xe(s)}`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:i}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:o}}}},d1e=t=>{const{componentCls:e,screenSM:n,screenMD:r,marginLG:a,marginSM:i,margin:o}=t;return{[`@media screen and (max-width:${r}px)`]:{[e]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:a}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:a}}}},[`@media screen and (max-width: ${n}px)`]:{[e]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:i}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${xe(o)}`}}}}}},g1e=t=>{const{componentCls:e,antCls:n,controlHeight:r,minHeight:a,paddingSM:i,marginLG:o,padding:s,itemPadding:l,colorPrimary:c,itemPaddingSM:f,itemPaddingLG:u,paddingXS:d,margin:g,colorText:v,colorTextDescription:m,motionDurationSlow:p,lineWidth:h,headerBg:y,footerBg:C,emptyTextPadding:x,metaMarginBottom:T,avatarMarginRight:w,titleMarginBottom:b,descriptionFontSize:E}=t;return{[e]:Object.assign(Object.assign({},aa(t)),{position:"relative","*":{outline:"none"},[`${e}-header`]:{background:y},[`${e}-footer`]:{background:C},[`${e}-header, ${e}-footer`]:{paddingBlock:i},[`${e}-pagination`]:{marginBlockStart:o,[`${n}-pagination-options`]:{textAlign:"start"}},[`${e}-spin`]:{minHeight:a,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:v,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:w},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:v},[`${e}-item-meta-title`]:{margin:`0 0 ${xe(t.marginXXS)} 0`,color:v,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:v,transition:`all ${p}`,"&:hover":{color:c}}},[`${e}-item-meta-description`]:{color:m,fontSize:E,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${xe(d)}`,color:m,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:h,height:t.calc(t.fontHeight).sub(t.calc(t.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${xe(s)} 0`,color:m,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:x,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:g,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:o},[`${e}-item-meta`]:{marginBlockEnd:T,[`${e}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:b,color:v,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:s,marginInlineStart:"auto","> li":{padding:`0 ${xe(s)}`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:r},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${xe(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:u},[`${e}-sm ${e}-item`]:{padding:f},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},m1e=t=>({contentWidth:220,itemPadding:`${xe(t.paddingContentVertical)} 0`,itemPaddingSM:`${xe(t.paddingContentVerticalSM)} ${xe(t.paddingContentHorizontal)}`,itemPaddingLG:`${xe(t.paddingContentVerticalLG)} ${xe(t.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize}),v1e=ta("List",t=>{const e=fr(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG});return[g1e(e),f1e(e),d1e(e)]},m1e);var p1e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function h1e(t,e){var{pagination:n=!1,prefixCls:r,bordered:a=!1,split:i=!0,className:o,rootClassName:s,style:l,children:c,itemLayout:f,loadMore:u,grid:d,dataSource:g=[],size:v,header:m,footer:p,loading:h=!1,rowKey:y,renderItem:C,locale:x}=t,T=p1e(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const w=n&&typeof n=="object"?n:{},[b,E]=S.useState(w.defaultCurrent||1),[O,D]=S.useState(w.defaultPageSize||10),{getPrefixCls:R,renderEmpty:I,direction:M,list:A}=S.useContext(cn),B={current:1,total:0},L=z=>(Y,ee)=>{var j;E(Y),D(ee),n&&((j=n==null?void 0:n[z])===null||j===void 0||j.call(n,Y,ee))},F=L("onChange"),_=L("onShowSizeChange"),P=(z,Y)=>{if(!C)return null;let ee;return typeof y=="function"?ee=y(z):y?ee=z[y]:ee=z.key,ee||(ee=`list-item-${Y}`),S.createElement(S.Fragment,{key:ee},C(z,Y))},N=()=>!!(u||n||p),k=R("list",r),[H,K,te]=v1e(k);let se=h;typeof se=="boolean"&&(se={spinning:se});const pe=!!(se!=null&&se.spinning),ve=Us(v);let Te="";switch(ve){case"large":Te="lg";break;case"small":Te="sm";break}const _e=Se(k,{[`${k}-vertical`]:f==="vertical",[`${k}-${Te}`]:Te,[`${k}-split`]:i,[`${k}-bordered`]:a,[`${k}-loading`]:pe,[`${k}-grid`]:!!d,[`${k}-something-after-last-item`]:N(),[`${k}-rtl`]:M==="rtl"},A==null?void 0:A.className,o,s,K,te),fe=xk(B,{total:g.length,current:b,pageSize:O},n||{}),ce=Math.ceil(fe.total/fe.pageSize);fe.current>ce&&(fe.current=ce);const Ee=n&&S.createElement("div",{className:Se(`${k}-pagination`)},S.createElement(Dk,Object.assign({align:"end"},fe,{onChange:F,onShowSizeChange:_})));let we=Ze(g);n&&g.length>(fe.current-1)*fe.pageSize&&(we=Ze(g).splice((fe.current-1)*fe.pageSize,fe.pageSize));const he=Object.keys(d||{}).some(z=>["xs","sm","md","lg","xl","xxl"].includes(z)),Re=dT(he),Pe=S.useMemo(()=>{for(let z=0;z<af.length;z+=1){const Y=af[z];if(Re[Y])return Y}},[Re]),We=S.useMemo(()=>{if(!d)return;const z=Pe&&d[Pe]?d[Pe]:d.column;if(z)return{width:`${100/z}%`,maxWidth:`${100/z}%`}},[JSON.stringify(d),Pe]);let Me=pe&&S.createElement("div",{style:{minHeight:53}});if(we.length>0){const z=we.map((Y,ee)=>P(Y,ee));Me=d?S.createElement(gfe,{gutter:d.gutter},S.Children.map(z,Y=>S.createElement("div",{key:Y==null?void 0:Y.key,style:We},Y))):S.createElement("ul",{className:`${k}-items`},z)}else!c&&!pe&&(Me=S.createElement("div",{className:`${k}-empty-text`},(x==null?void 0:x.emptyText)||(I==null?void 0:I("List"))||S.createElement(lT,{componentName:"List"})));const Je=fe.position||"bottom",Be=S.useMemo(()=>({grid:d,itemLayout:f}),[JSON.stringify(d),f]);return H(S.createElement(PT.Provider,{value:Be},S.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},A==null?void 0:A.style),l),className:_e},T),(Je==="top"||Je==="both")&&Ee,m&&S.createElement("div",{className:`${k}-header`},m),S.createElement(MT,Object.assign({},se),Me,c),p&&S.createElement("div",{className:`${k}-footer`},p),u||(Je==="bottom"||Je==="both")&&Ee)))}const S1e=S.forwardRef(h1e),f9=S1e;f9.Item=Mk;let Xo=null,Fu=t=>t(),Nv=[],Fv={};function mI(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:a}=Fv,i=(t==null?void 0:t())||document.body;return{getContainer:()=>i,duration:e,rtl:n,maxCount:r,top:a}}const y1e=Oe.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:a}=S.useContext(cn),i=Fv.prefixCls||a("message"),o=S.useContext(yse),[s,l]=d$(Object.assign(Object.assign(Object.assign({},n),{prefixCls:i}),o.message));return Oe.useImperativeHandle(e,()=>{const c=Object.assign({},s);return Object.keys(c).forEach(f=>{c[f]=function(){return r(),s[f].apply(s,arguments)}}),{instance:c,sync:r}}),l}),C1e=Oe.forwardRef((t,e)=>{const[n,r]=Oe.useState(mI),a=()=>{r(mI)};Oe.useEffect(a,[]);const i=ZF(),o=i.getRootPrefixCls(),s=i.getIconPrefixCls(),l=i.getTheme(),c=Oe.createElement(y1e,{ref:e,sync:a,messageConfig:n});return Oe.createElement(ul,{prefixCls:o,iconPrefixCls:s,theme:l},i.holderRender?i.holderRender(c):c)});function B5(){if(!Xo){const t=document.createDocumentFragment(),e={fragment:t};Xo=e,Fu(()=>{B7(Oe.createElement(C1e,{ref:n=>{const{instance:r,sync:a}=n||{};Promise.resolve().then(()=>{!e.instance&&r&&(e.instance=r,e.sync=a,B5())})}}),t)});return}Xo.instance&&(Nv.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{Fu(()=>{const r=Xo.instance.open(Object.assign(Object.assign({},Fv),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":Fu(()=>{Xo==null||Xo.instance.destroy(t.key)});break;default:Fu(()=>{var r;const a=(r=Xo.instance)[e].apply(r,Ze(t.args));a==null||a.then(t.resolve),t.setCloseFn(a)})}}),Nv=[])}function x1e(t){Fv=Object.assign(Object.assign({},Fv),t),Fu(()=>{var e;(e=Xo==null?void 0:Xo.sync)===null||e===void 0||e.call(Xo)})}function T1e(t){const e=U7(n=>{let r;const a={type:"open",config:t,resolve:n,setCloseFn:i=>{r=i}};return Nv.push(a),()=>{r?Fu(()=>{r()}):a.skipped=!0}});return B5(),e}function w1e(t,e){const n=U7(r=>{let a;const i={type:t,args:e,resolve:r,setCloseFn:o=>{a=o}};return Nv.push(i),()=>{a?Fu(()=>{a()}):i.skipped=!0}});return B5(),n}const b1e=t=>{Nv.push({type:"destroy",key:t}),B5()},E1e=["success","info","warning","error","loading"],D1e={open:T1e,destroy:b1e,config:x1e,useMessage:_re,_InternalPanelDoNotUseOrYouWillBeFired:Dre},WS=D1e;E1e.forEach(t=>{WS[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return w1e(t,n)}});var O1e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const R1e=t=>{const{prefixCls:e,className:n,closeIcon:r,closable:a,type:i,title:o,children:s,footer:l}=t,c=O1e(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:f}=S.useContext(cn),u=f(),d=e||f("modal"),g=Xi(u),[v,m,p]=z$(d,g),h=`${d}-confirm`;let y={};return i?y={closable:a??!1,title:"",footer:"",children:S.createElement(j$,Object.assign({},t,{prefixCls:d,confirmPrefixCls:h,rootPrefixCls:u,content:s}))}:y={closable:a??!0,title:o,footer:l!==null&&S.createElement(U$,Object.assign({},t)),children:s},v(S.createElement(I$,Object.assign({prefixCls:d,className:Se(m,`${d}-pure-panel`,i&&h,i&&`${h}-${i}`,n,p,g)},c,{closeIcon:k$(d,r),closable:a},y)))},I1e=eV(R1e);function Pk(t){return hp(Q$(t))}const us=W$;us.useModal=Sse;us.info=function(e){return hp(X$(e))};us.success=function(e){return hp(Y$(e))};us.error=function(e){return hp(Z$(e))};us.warning=Pk;us.warn=Pk;us.confirm=function(e){return hp(J$(e))};us.destroyAll=function(){for(;Nu.length;){const e=Nu.pop();e&&e()}};us.config=gse;us._InternalPanelDoNotUseOrYouWillBeFired=I1e;var A1e={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},M1e=function(){var e=S.useRef([]),n=S.useRef(null);return S.useEffect(function(){var r=Date.now(),a=!1;e.current.forEach(function(i){if(i){a=!0;var o=i.style;o.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(o.transitionDuration="0s, 0s")}}),a&&(n.current=Date.now())}),e.current},vI=0,P1e=fi();function L1e(){var t;return P1e?(t=vI,vI+=1):t="TEST_OR_SSR",t}const _1e=function(t){var e=S.useState(),n=Ae(e,2),r=n[0],a=n[1];return S.useEffect(function(){a("rc_progress_".concat(L1e()))},[]),t||r};var pI=function(e){var n=e.bg,r=e.children;return S.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function hI(t,e){return Object.keys(t).map(function(n){var r=parseFloat(n),a="".concat(Math.floor(r*e),"%");return"".concat(t[n]," ").concat(a)})}var N1e=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.color,a=t.gradientId,i=t.radius,o=t.style,s=t.ptg,l=t.strokeLinecap,c=t.strokeWidth,f=t.size,u=t.gapDegree,d=r&&qt(r)==="object",g=d?"#FFF":void 0,v=f/2,m=S.createElement("circle",{className:"".concat(n,"-circle-path"),r:i,cx:v,cy:v,stroke:g,strokeLinecap:l,strokeWidth:c,opacity:s===0?0:1,style:o,ref:e});if(!d)return m;var p="".concat(a,"-conic"),h=u?"".concat(180+u/2,"deg"):"0deg",y=hI(r,(360-u)/360),C=hI(r,1),x="conic-gradient(from ".concat(h,", ").concat(y.join(", "),")"),T="linear-gradient(to ".concat(u?"bottom":"top",", ").concat(C.join(", "),")");return S.createElement(S.Fragment,null,S.createElement("mask",{id:p},m),S.createElement("foreignObject",{x:0,y:0,width:f,height:f,mask:"url(#".concat(p,")")},S.createElement(pI,{bg:T},S.createElement(pI,{bg:x}))))}),am=100,e8=function(e,n,r,a,i,o,s,l,c,f){var u=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,d=r/100*360*((360-o)/360),g=o===0?0:{bottom:0,top:180,left:90,right:-90}[s],v=(100-a)/100*n;c==="round"&&a!==100&&(v+=f/2,v>=n&&(v=n-.01));var m=am/2;return{stroke:typeof l=="string"?l:void 0,strokeDasharray:"".concat(n,"px ").concat(e),strokeDashoffset:v+u,transform:"rotate(".concat(i+d+g,"deg)"),transformOrigin:"".concat(m,"px ").concat(m,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},F1e=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function SI(t){var e=t??[];return Array.isArray(e)?e:[e]}var $1e=function(e){var n=ie(ie({},A1e),e),r=n.id,a=n.prefixCls,i=n.steps,o=n.strokeWidth,s=n.trailWidth,l=n.gapDegree,c=l===void 0?0:l,f=n.gapPosition,u=n.trailColor,d=n.strokeLinecap,g=n.style,v=n.className,m=n.strokeColor,p=n.percent,h=Tn(n,F1e),y=am/2,C=_1e(r),x="".concat(C,"-gradient"),T=y-o/2,w=Math.PI*2*T,b=c>0?90+c/2:-90,E=w*((360-c)/360),O=qt(i)==="object"?i:{count:i,gap:2},D=O.count,R=O.gap,I=SI(p),M=SI(m),A=M.find(function(k){return k&&qt(k)==="object"}),B=A&&qt(A)==="object",L=B?"butt":d,F=e8(w,E,0,100,b,c,f,u,L,o),_=M1e(),P=function(){var H=0;return I.map(function(K,te){var se=M[te]||M[M.length-1],pe=e8(w,E,H,K,b,c,f,se,L,o);return H+=K,S.createElement(N1e,{key:te,color:se,ptg:K,radius:T,prefixCls:a,gradientId:x,style:pe,strokeLinecap:L,strokeWidth:o,gapDegree:c,ref:function(Te){_[te]=Te},size:am})}).reverse()},N=function(){var H=Math.round(D*(I[0]/100)),K=100/D,te=0;return new Array(D).fill(null).map(function(se,pe){var ve=pe<=H-1?M[0]:u,Te=ve&&qt(ve)==="object"?"url(#".concat(x,")"):void 0,_e=e8(w,E,te,K,b,c,f,ve,"butt",o,R);return te+=(E-_e.strokeDashoffset+R)*100/E,S.createElement("circle",{key:pe,className:"".concat(a,"-circle-path"),r:T,cx:y,cy:y,stroke:Te,strokeWidth:o,opacity:1,style:_e,ref:function(ce){_[pe]=ce}})})};return S.createElement("svg",tt({className:Se("".concat(a,"-circle"),v),viewBox:"0 0 ".concat(am," ").concat(am),style:g,id:r,role:"presentation"},h),!D&&S.createElement("circle",{className:"".concat(a,"-circle-trail"),r:T,cx:y,cy:y,stroke:u,strokeLinecap:L,strokeWidth:s||o,style:F}),D?N():P())};function xc(t){return!t||t<0?0:t>100?100:t}function jS(t){let{success:e,successPercent:n}=t,r=n;return e&&"progress"in e&&(r=e.progress),e&&"percent"in e&&(r=e.percent),r}const V1e=t=>{let{percent:e,success:n,successPercent:r}=t;const a=xc(jS({success:n,successPercent:r}));return[a,xc(xc(e)-a)]},k1e=t=>{let{success:e={},strokeColor:n}=t;const{strokeColor:r}=e;return[r||Vd.green,n||null]},G5=(t,e,n)=>{var r,a,i,o;let s=-1,l=-1;if(e==="step"){const c=n.steps,f=n.strokeWidth;typeof t=="string"||typeof t>"u"?(s=t==="small"?2:14,l=f??8):typeof t=="number"?[s,l]=[t,t]:[s=14,l=8]=Array.isArray(t)?t:[t.width,t.height],s*=c}else if(e==="line"){const c=n==null?void 0:n.strokeWidth;typeof t=="string"||typeof t>"u"?l=c||(t==="small"?6:8):typeof t=="number"?[s,l]=[t,t]:[s=-1,l=8]=Array.isArray(t)?t:[t.width,t.height]}else(e==="circle"||e==="dashboard")&&(typeof t=="string"||typeof t>"u"?[s,l]=t==="small"?[60,60]:[120,120]:typeof t=="number"?[s,l]=[t,t]:Array.isArray(t)&&(s=(a=(r=t[0])!==null&&r!==void 0?r:t[1])!==null&&a!==void 0?a:120,l=(o=(i=t[0])!==null&&i!==void 0?i:t[1])!==null&&o!==void 0?o:120));return[s,l]},U1e=3,B1e=t=>U1e/t*100,G1e=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:r="round",gapPosition:a,gapDegree:i,width:o=120,type:s,children:l,success:c,size:f=o,steps:u}=t,[d,g]=G5(f,"circle");let{strokeWidth:v}=t;v===void 0&&(v=Math.max(B1e(d),6));const m={width:d,height:g,fontSize:d*.15+6},p=S.useMemo(()=>{if(i||i===0)return i;if(s==="dashboard")return 75},[i,s]),h=V1e(t),y=a||s==="dashboard"&&"bottom"||void 0,C=Object.prototype.toString.call(t.strokeColor)==="[object Object]",x=k1e({success:c,strokeColor:t.strokeColor}),T=Se(`${e}-inner`,{[`${e}-circle-gradient`]:C}),w=S.createElement($1e,{steps:u,percent:u?h[1]:h,strokeWidth:v,trailWidth:v,strokeColor:u?x[1]:x,strokeLinecap:r,trailColor:n,prefixCls:e,gapDegree:p,gapPosition:y}),b=d<=20,E=S.createElement("div",{className:T,style:m},w,!b&&l);return b?S.createElement(of,{title:l},E):E},HS="--progress-line-stroke-color",Lk="--progress-percent",yI=t=>{const e=t?"100%":"-100%";return new er(`antProgress${t?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},z1e=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},aa(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:t.defaultColor,borderRadius:t.lineBorderRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:t.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${HS})`]},height:"100%",width:`calc(1 / var(${Lk}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:t.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:t.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${xe(t.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:yI(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:yI(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},W1e=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:t.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},j1e=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.defaultColor}}}}}},H1e=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}},q1e=t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${t.fontSize/t.fontSizeSM}em`}),K1e=ta("Progress",t=>{const e=t.calc(t.marginXXS).div(2).equal(),n=fr(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[z1e(n),W1e(n),j1e(n),H1e(n)]},q1e);var Q1e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const X1e=t=>{let e=[];return Object.keys(t).forEach(n=>{const r=parseFloat(n.replace(/%/g,""));isNaN(r)||e.push({key:r,value:t[n]})}),e=e.sort((n,r)=>n.key-r.key),e.map(n=>{let{key:r,value:a}=n;return`${a} ${r}%`}).join(", ")},Y1e=(t,e)=>{const{from:n=Vd.blue,to:r=Vd.blue,direction:a=e==="rtl"?"to left":"to right"}=t,i=Q1e(t,["from","to","direction"]);if(Object.keys(i).length!==0){const s=X1e(i),l=`linear-gradient(${a}, ${s})`;return{background:l,[HS]:l}}const o=`linear-gradient(${a}, ${n}, ${r})`;return{background:o,[HS]:o}},Z1e=t=>{const{prefixCls:e,direction:n,percent:r,size:a,strokeWidth:i,strokeColor:o,strokeLinecap:s="round",children:l,trailColor:c=null,percentPosition:f,success:u}=t,{align:d,type:g}=f,v=o&&typeof o!="string"?Y1e(o,n):{[HS]:o,background:o},m=s==="square"||s==="butt"?0:void 0,p=a??[-1,i||(a==="small"?6:8)],[h,y]=G5(p,"line",{strokeWidth:i}),C={backgroundColor:c||void 0,borderRadius:m},x=Object.assign(Object.assign({width:`${xc(r)}%`,height:y,borderRadius:m},v),{[Lk]:xc(r)/100}),T=jS(t),w={width:`${xc(T)}%`,height:y,borderRadius:m,backgroundColor:u==null?void 0:u.strokeColor},b={width:h<0?"100%":h},E=S.createElement("div",{className:`${e}-inner`,style:C},S.createElement("div",{className:Se(`${e}-bg`,`${e}-bg-${g}`),style:x},g==="inner"&&l),T!==void 0&&S.createElement("div",{className:`${e}-success-bg`,style:w})),O=g==="outer"&&d==="start",D=g==="outer"&&d==="end";return g==="outer"&&d==="center"?S.createElement("div",{className:`${e}-layout-bottom`},E,l):S.createElement("div",{className:`${e}-outer`,style:b},O&&l,E,D&&l)},J1e=t=>{const{size:e,steps:n,percent:r=0,strokeWidth:a=8,strokeColor:i,trailColor:o=null,prefixCls:s,children:l}=t,c=Math.round(n*(r/100)),u=e??[e==="small"?2:14,a],[d,g]=G5(u,"step",{steps:n,strokeWidth:a}),v=d/n,m=new Array(n);for(let p=0;p<n;p++){const h=Array.isArray(i)?i[p]:i;m[p]=S.createElement("div",{key:p,className:Se(`${s}-steps-item`,{[`${s}-steps-item-active`]:p<=c-1}),style:{backgroundColor:p<=c-1?h:o,width:v,height:g}})}return S.createElement("div",{className:`${s}-steps-outer`},m,l)};var ege=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const tge=["normal","exception","active","success"],nge=S.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:a,steps:i,strokeColor:o,percent:s=0,size:l="default",showInfo:c=!0,type:f="line",status:u,format:d,style:g,percentPosition:v={}}=t,m=ege(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:p="end",type:h="outer"}=v,y=Array.isArray(o)?o[0]:o,C=typeof o=="string"||Array.isArray(o)?o:void 0,x=S.useMemo(()=>{if(y){const P=typeof y=="string"?y:Object.values(y)[0];return new Pr(P).isLight()}return!1},[o]),T=S.useMemo(()=>{var P,N;const k=jS(t);return parseInt(k!==void 0?(P=k??0)===null||P===void 0?void 0:P.toString():(N=s??0)===null||N===void 0?void 0:N.toString(),10)},[s,t.success,t.successPercent]),w=S.useMemo(()=>!tge.includes(u)&&T>=100?"success":u||"normal",[u,T]),{getPrefixCls:b,direction:E,progress:O}=S.useContext(cn),D=b("progress",n),[R,I,M]=K1e(D),A=f==="line",B=A&&!i,L=S.useMemo(()=>{if(!c)return null;const P=jS(t);let N;const k=d||(K=>`${K}%`),H=A&&x&&h==="inner";return h==="inner"||d||w!=="exception"&&w!=="success"?N=k(xc(s),xc(P)):w==="exception"?N=A?S.createElement(up,null):S.createElement(Y1,null):w==="success"&&(N=A?S.createElement(k7,null):S.createElement(yV,null)),S.createElement("span",{className:Se(`${D}-text`,{[`${D}-text-bright`]:H,[`${D}-text-${p}`]:B,[`${D}-text-${h}`]:B}),title:typeof N=="string"?N:void 0},N)},[c,s,T,w,f,D,d]);let F;f==="line"?F=i?S.createElement(J1e,Object.assign({},t,{strokeColor:C,prefixCls:D,steps:typeof i=="object"?i.count:i}),L):S.createElement(Z1e,Object.assign({},t,{strokeColor:y,prefixCls:D,direction:E,percentPosition:{align:p,type:h}}),L):(f==="circle"||f==="dashboard")&&(F=S.createElement(G1e,Object.assign({},t,{strokeColor:y,prefixCls:D,progressStatus:w}),L));const _=Se(D,`${D}-status-${w}`,{[`${D}-${f==="dashboard"&&"circle"||f}`]:f!=="line",[`${D}-inline-circle`]:f==="circle"&&G5(l,"circle")[0]<=20,[`${D}-line`]:B,[`${D}-line-align-${p}`]:B,[`${D}-line-position-${h}`]:B,[`${D}-steps`]:i,[`${D}-show-info`]:c,[`${D}-${l}`]:typeof l=="string",[`${D}-rtl`]:E==="rtl"},O==null?void 0:O.className,r,a,I,M);return R(S.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},O==null?void 0:O.style),g),className:_,role:"progressbar","aria-valuenow":T,"aria-valuemin":0,"aria-valuemax":100},$a(m,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),F))});var rge={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},age=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:rge}))},ige=S.forwardRef(age),oge={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},sge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:oge}))},lge=S.forwardRef(sge),cge={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},uge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:cge}))},fge=S.forwardRef(uge),dge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},gge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:dge}))},mge=S.forwardRef(gge),vge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},pge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:vge}))},hge=S.forwardRef(pge),Sge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},yge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Sge}))},_k=S.forwardRef(yge),Cge={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},xge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Cge}))},Tge=S.forwardRef(xge),wge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},bge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:wge}))},Ege=S.forwardRef(bge),Dge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Oge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Dge}))},Rge=S.forwardRef(Oge),Ige={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Age=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Ige}))},Mge=S.forwardRef(Age),Pge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},Lge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Pge}))},_ge=S.forwardRef(Lge),Nge={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},Fge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Nge}))},$ge=S.forwardRef(Fge),Vge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},kge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Vge}))},Uge=S.forwardRef(kge),Bge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},Gge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Bge}))},zge=S.forwardRef(Gge),Wge={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},jge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:Wge}))},Hge=S.forwardRef(jge),qge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Kge=function(e,n){return S.createElement(dr,tt({},e,{ref:n,icon:qge}))},Qge=S.forwardRef(Kge),ql={},xp="rc-table-internal-hook";function LT(t){var e=S.createContext(void 0),n=function(a){var i=a.value,o=a.children,s=S.useRef(i);s.current=i;var l=S.useState(function(){return{getValue:function(){return s.current},listeners:new Set}}),c=Ae(l,1),f=c[0];return wr(function(){_o.unstable_batchedUpdates(function(){f.listeners.forEach(function(u){u(i)})})},[i]),S.createElement(e.Provider,{value:f},o)};return{Context:e,Provider:n,defaultValue:t}}function xi(t,e){var n=br(typeof e=="function"?e:function(u){if(e===void 0)return u;if(!Array.isArray(e))return u[e];var d={};return e.forEach(function(g){d[g]=u[g]}),d}),r=S.useContext(t==null?void 0:t.Context),a=r||{},i=a.listeners,o=a.getValue,s=S.useRef();s.current=n(r?o():t==null?void 0:t.defaultValue);var l=S.useState({}),c=Ae(l,2),f=c[1];return wr(function(){if(!r)return;function u(d){var g=n(d);_s(s.current,g,!0)||f({})}return i.add(u),function(){i.delete(u)}},[r]),s.current}function Xge(){var t=S.createContext(null);function e(){return S.useContext(t)}function n(a,i){var o=s0(a),s=function(c,f){var u=o?{ref:f}:{},d=S.useRef(0),g=S.useRef(c),v=e();return v!==null?S.createElement(a,tt({},c,u)):((!i||i(g.current,c))&&(d.current+=1),g.current=c,S.createElement(t.Provider,{value:d.current},S.createElement(a,tt({},c,u))))};return o?S.forwardRef(s):s}function r(a,i){var o=s0(a),s=function(c,f){var u=o?{ref:f}:{};return e(),S.createElement(a,tt({},c,u))};return o?S.memo(S.forwardRef(s),i):S.memo(s,i)}return{makeImmutable:n,responseImmutable:r,useImmutableMark:e}}var _T=Xge(),Nk=_T.makeImmutable,ng=_T.responseImmutable,Yge=_T.useImmutableMark,Yi=LT(),Fk=S.createContext({renderWithProps:!1}),Zge="RC_TABLE_KEY";function Jge(t){return t==null?[]:Array.isArray(t)?t:[t]}function z5(t){var e=[],n={};return t.forEach(function(r){for(var a=r||{},i=a.key,o=a.dataIndex,s=i||Jge(o).join("-")||Zge;n[s];)s="".concat(s,"_next");n[s]=!0,e.push(s)}),e}function d9(t){return t!=null}function eme(t){return typeof t=="number"&&!Number.isNaN(t)}function tme(t){return t&&qt(t)==="object"&&!Array.isArray(t)&&!S.isValidElement(t)}function nme(t,e,n,r,a,i){var o=S.useContext(Fk),s=Yge(),l=Cf(function(){if(d9(r))return[r];var c=e==null||e===""?[]:Array.isArray(e)?e:[e],f=Ro(t,c),u=f,d=void 0;if(a){var g=a(f,t,n);tme(g)?(u=g.children,d=g.props,o.renderWithProps=!0):u=g}return[u,d]},[s,t,r,e,a,n],function(c,f){if(i){var u=Ae(c,2),d=u[1],g=Ae(f,2),v=g[1];return i(v,d)}return o.renderWithProps?!0:!_s(c,f,!0)});return l}function rme(t,e,n,r){var a=t+e-1;return t<=r&&a>=n}function ame(t,e){return xi(Yi,function(n){var r=rme(t,e||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var ime=function(e){var n=e.ellipsis,r=e.rowType,a=e.children,i,o=n===!0?{showTitle:!0}:n;return o&&(o.showTitle||r==="header")&&(typeof a=="string"||typeof a=="number"?i=a.toString():S.isValidElement(a)&&typeof a.props.children=="string"&&(i=a.props.children)),i};function ome(t){var e,n,r,a,i,o,s,l,c=t.component,f=t.children,u=t.ellipsis,d=t.scope,g=t.prefixCls,v=t.className,m=t.align,p=t.record,h=t.render,y=t.dataIndex,C=t.renderIndex,x=t.shouldCellUpdate,T=t.index,w=t.rowType,b=t.colSpan,E=t.rowSpan,O=t.fixLeft,D=t.fixRight,R=t.firstFixLeft,I=t.lastFixLeft,M=t.firstFixRight,A=t.lastFixRight,B=t.appendNode,L=t.additionalProps,F=L===void 0?{}:L,_=t.isSticky,P="".concat(g,"-cell"),N=xi(Yi,["supportSticky","allColumnsFixedLeft","rowHoverable"]),k=N.supportSticky,H=N.allColumnsFixedLeft,K=N.rowHoverable,te=nme(p,y,C,f,h,x),se=Ae(te,2),pe=se[0],ve=se[1],Te={},_e=typeof O=="number"&&k,fe=typeof D=="number"&&k;_e&&(Te.position="sticky",Te.left=O),fe&&(Te.position="sticky",Te.right=D);var ce=(e=(n=(r=ve==null?void 0:ve.colSpan)!==null&&r!==void 0?r:F.colSpan)!==null&&n!==void 0?n:b)!==null&&e!==void 0?e:1,Ee=(a=(i=(o=ve==null?void 0:ve.rowSpan)!==null&&o!==void 0?o:F.rowSpan)!==null&&i!==void 0?i:E)!==null&&a!==void 0?a:1,we=ame(T,Ee),he=Ae(we,2),Re=he[0],Pe=he[1],We=br(function(j){var oe;p&&Pe(T,T+Ee-1),F==null||(oe=F.onMouseEnter)===null||oe===void 0||oe.call(F,j)}),Me=br(function(j){var oe;p&&Pe(-1,-1),F==null||(oe=F.onMouseLeave)===null||oe===void 0||oe.call(F,j)});if(ce===0||Ee===0)return null;var Je=(s=F.title)!==null&&s!==void 0?s:ime({rowType:w,ellipsis:u,children:pe}),Be=Se(P,v,(l={},J(J(J(J(J(J(J(J(J(J(l,"".concat(P,"-fix-left"),_e&&k),"".concat(P,"-fix-left-first"),R&&k),"".concat(P,"-fix-left-last"),I&&k),"".concat(P,"-fix-left-all"),I&&H&&k),"".concat(P,"-fix-right"),fe&&k),"".concat(P,"-fix-right-first"),M&&k),"".concat(P,"-fix-right-last"),A&&k),"".concat(P,"-ellipsis"),u),"".concat(P,"-with-append"),B),"".concat(P,"-fix-sticky"),(_e||fe)&&_&&k),J(l,"".concat(P,"-row-hover"),!ve&&Re)),F.className,ve==null?void 0:ve.className),z={};m&&(z.textAlign=m);var Y=ie(ie(ie(ie({},Te),F.style),z),ve==null?void 0:ve.style),ee=pe;return qt(ee)==="object"&&!Array.isArray(ee)&&!S.isValidElement(ee)&&(ee=null),u&&(I||M)&&(ee=S.createElement("span",{className:"".concat(P,"-content")},ee)),S.createElement(c,tt({},ve,F,{className:Be,style:Y,title:Je,scope:d,onMouseEnter:K?We:void 0,onMouseLeave:K?Me:void 0,colSpan:ce!==1?ce:null,rowSpan:Ee!==1?Ee:null}),B,ee)}const rg=S.memo(ome);function NT(t,e,n,r,a){var i=n[t]||{},o=n[e]||{},s,l;i.fixed==="left"?s=r.left[a==="rtl"?e:t]:o.fixed==="right"&&(l=r.right[a==="rtl"?t:e]);var c=!1,f=!1,u=!1,d=!1,g=n[e+1],v=n[t-1],m=g&&!g.fixed||v&&!v.fixed||n.every(function(x){return x.fixed==="left"});if(a==="rtl"){if(s!==void 0){var p=v&&v.fixed==="left";d=!p&&m}else if(l!==void 0){var h=g&&g.fixed==="right";u=!h&&m}}else if(s!==void 0){var y=g&&g.fixed==="left";c=!y&&m}else if(l!==void 0){var C=v&&v.fixed==="right";f=!C&&m}return{fixLeft:s,fixRight:l,lastFixLeft:c,firstFixRight:f,lastFixRight:u,firstFixLeft:d,isSticky:r.isSticky}}var $k=S.createContext({});function sme(t){var e=t.className,n=t.index,r=t.children,a=t.colSpan,i=a===void 0?1:a,o=t.rowSpan,s=t.align,l=xi(Yi,["prefixCls","direction"]),c=l.prefixCls,f=l.direction,u=S.useContext($k),d=u.scrollColumnIndex,g=u.stickyOffsets,v=u.flattenColumns,m=n+i-1,p=m+1===d?i+1:i,h=NT(n,n+p-1,v,g,f);return S.createElement(rg,tt({className:e,index:n,component:"td",prefixCls:c,record:null,dataIndex:null,align:s,colSpan:p,rowSpan:o,render:function(){return r}},h))}var lme=["children"];function cme(t){var e=t.children,n=Tn(t,lme);return S.createElement("tr",n,e)}function W5(t){var e=t.children;return e}W5.Row=cme;W5.Cell=sme;function ume(t){var e=t.children,n=t.stickyOffsets,r=t.flattenColumns,a=xi(Yi,"prefixCls"),i=r.length-1,o=r[i],s=S.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:o!=null&&o.scrollbar?i:null}},[o,r,i,n]);return S.createElement($k.Provider,{value:s},S.createElement("tfoot",{className:"".concat(a,"-summary")},e))}const Sh=ng(ume);var Vk=W5;function fme(t){return null}function dme(t){return null}function kk(t,e,n,r,a,i,o){t.push({record:e,indent:n,index:o});var s=i(e),l=a==null?void 0:a.has(s);if(e&&Array.isArray(e[r])&&l)for(var c=0;c<e[r].length;c+=1)kk(t,e[r][c],n+1,r,a,i,c)}function Uk(t,e,n,r){var a=S.useMemo(function(){if(n!=null&&n.size){for(var i=[],o=0;o<(t==null?void 0:t.length);o+=1){var s=t[o];kk(i,s,0,e,n,r,o)}return i}return t==null?void 0:t.map(function(l,c){return{record:l,indent:0,index:c}})},[t,e,n,r]);return a}function Bk(t,e,n,r){var a=xi(Yi,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=a.flattenColumns,o=a.expandableType,s=a.expandedKeys,l=a.childrenColumnName,c=a.onTriggerExpand,f=a.rowExpandable,u=a.onRow,d=a.expandRowByClick,g=a.rowClassName,v=o==="nest",m=o==="row"&&(!f||f(t)),p=m||v,h=s&&s.has(e),y=l&&t&&t[l],C=br(c),x=u==null?void 0:u(t,n),T=x==null?void 0:x.onClick,w=function(D){d&&p&&c(t,D);for(var R=arguments.length,I=new Array(R>1?R-1:0),M=1;M<R;M++)I[M-1]=arguments[M];T==null||T.apply(void 0,[D].concat(I))},b;typeof g=="string"?b=g:typeof g=="function"&&(b=g(t,n,r));var E=z5(i);return ie(ie({},a),{},{columnsKey:E,nestExpandable:v,expanded:h,hasNestChildren:y,record:t,onTriggerExpand:C,rowSupportExpand:m,expandable:p,rowProps:ie(ie({},x),{},{className:Se(b,x==null?void 0:x.className),onClick:w})})}function Gk(t){var e=t.prefixCls,n=t.children,r=t.component,a=t.cellComponent,i=t.className,o=t.expanded,s=t.colSpan,l=t.isEmpty,c=xi(Yi,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),f=c.scrollbarSize,u=c.fixHeader,d=c.fixColumn,g=c.componentWidth,v=c.horizonScroll,m=n;return(l?v&&g:d)&&(m=S.createElement("div",{style:{width:g-(u&&!l?f:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},m)),S.createElement(r,{className:i,style:{display:o?null:"none"}},S.createElement(rg,{component:a,prefixCls:e,colSpan:s},m))}function zk(t,e,n,r,a){var i=t.record,o=t.prefixCls,s=t.columnsKey,l=t.fixedInfoList,c=t.expandIconColumnIndex,f=t.nestExpandable,u=t.indentSize,d=t.expandIcon,g=t.expanded,v=t.hasNestChildren,m=t.onTriggerExpand,p=s[n],h=l[n],y;n===(c||0)&&f&&(y=S.createElement(S.Fragment,null,S.createElement("span",{style:{paddingLeft:"".concat(u*r,"px")},className:"".concat(o,"-row-indent indent-level-").concat(r)}),d({prefixCls:o,expanded:g,expandable:v,record:i,onExpand:m})));var C;return e.onCell&&(C=e.onCell(i,a)),{key:p,fixedInfo:h,appendCellNode:y,additionalCellProps:C||{}}}function gme(t){var e=t.className,n=t.style,r=t.record,a=t.index,i=t.renderIndex,o=t.rowKey,s=t.indent,l=s===void 0?0:s,c=t.rowComponent,f=t.cellComponent,u=t.scopeCellComponent,d=Bk(r,o,a,l),g=d.prefixCls,v=d.flattenColumns,m=d.expandedRowClassName,p=d.expandedRowRender,h=d.rowProps,y=d.expanded,C=d.rowSupportExpand,x=S.useRef(!1);x.current||(x.current=y);var T=m&&m(r,a,l),w=S.createElement(c,tt({},h,{"data-row-key":o,className:Se(e,"".concat(g,"-row"),"".concat(g,"-row-level-").concat(l),h==null?void 0:h.className,l>=1?T:""),style:ie(ie({},n),h==null?void 0:h.style)}),v.map(function(O,D){var R=O.render,I=O.dataIndex,M=O.className,A=zk(d,O,D,l,a),B=A.key,L=A.fixedInfo,F=A.appendCellNode,_=A.additionalCellProps;return S.createElement(rg,tt({className:M,ellipsis:O.ellipsis,align:O.align,scope:O.rowScope,component:O.rowScope?u:f,prefixCls:g,key:B,record:r,index:a,renderIndex:i,dataIndex:I,render:R,shouldCellUpdate:O.shouldCellUpdate},L,{appendNode:F,additionalProps:_}))})),b;if(C&&(x.current||y)){var E=p(r,a,l+1,y);b=S.createElement(Gk,{expanded:y,className:Se("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(l+1),T),prefixCls:g,component:c,cellComponent:f,colSpan:v.length,isEmpty:!1},E)}return S.createElement(S.Fragment,null,w,b)}const mme=ng(gme);function vme(t){var e=t.columnKey,n=t.onColumnResize,r=S.useRef();return S.useEffect(function(){r.current&&n(e,r.current.offsetWidth)},[]),S.createElement(Vs,{data:e},S.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},S.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function pme(t){var e=t.prefixCls,n=t.columnsKey,r=t.onColumnResize;return S.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},S.createElement(Vs.Collection,{onBatchResize:function(i){i.forEach(function(o){var s=o.data,l=o.size;r(s,l.offsetWidth)})}},n.map(function(a){return S.createElement(vme,{key:a,columnKey:a,onColumnResize:r})})))}function hme(t){var e=t.data,n=t.measureColumnWidth,r=xi(Yi,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),a=r.prefixCls,i=r.getComponent,o=r.onColumnResize,s=r.flattenColumns,l=r.getRowKey,c=r.expandedKeys,f=r.childrenColumnName,u=r.emptyNode,d=Uk(e,f,c,l),g=S.useRef({renderWithProps:!1}),v=i(["body","wrapper"],"tbody"),m=i(["body","row"],"tr"),p=i(["body","cell"],"td"),h=i(["body","cell"],"th"),y;e.length?y=d.map(function(x,T){var w=x.record,b=x.indent,E=x.index,O=l(w,T);return S.createElement(mme,{key:O,rowKey:O,record:w,index:T,renderIndex:E,rowComponent:m,cellComponent:p,scopeCellComponent:h,getRowKey:l,indent:b})}):y=S.createElement(Gk,{expanded:!0,className:"".concat(a,"-placeholder"),prefixCls:a,component:m,cellComponent:p,colSpan:s.length,isEmpty:!0},u);var C=z5(s);return S.createElement(Fk.Provider,{value:g.current},S.createElement(v,{className:"".concat(a,"-tbody")},n&&S.createElement(pme,{prefixCls:a,columnsKey:C,onColumnResize:o}),y))}const Sme=ng(hme);var yme=["expandable"],Nm="RC_TABLE_INTERNAL_COL_DEFINE";function Cme(t){var e=t.expandable,n=Tn(t,yme),r;return"expandable"in t?r=ie(ie({},n),e):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var xme=["columnType"];function Wk(t){for(var e=t.colWidths,n=t.columns,r=t.columCount,a=xi(Yi,["tableLayout"]),i=a.tableLayout,o=[],s=r||n.length,l=!1,c=s-1;c>=0;c-=1){var f=e[c],u=n&&n[c],d=void 0,g=void 0;if(u&&(d=u[Nm],i==="auto"&&(g=u.minWidth)),f||g||d||l){var v=d||{};v.columnType;var m=Tn(v,xme);o.unshift(S.createElement("col",tt({key:c,style:{width:f,minWidth:g}},m))),l=!0}}return S.createElement("colgroup",null,o)}var Tme=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function wme(t,e){return S.useMemo(function(){for(var n=[],r=0;r<e;r+=1){var a=t[r];if(a!==void 0)n[r]=a;else return null}return n},[t.join("_"),e])}var bme=S.forwardRef(function(t,e){var n=t.className,r=t.noData,a=t.columns,i=t.flattenColumns,o=t.colWidths,s=t.columCount,l=t.stickyOffsets,c=t.direction,f=t.fixHeader,u=t.stickyTopOffset,d=t.stickyBottomOffset,g=t.stickyClassName,v=t.onScroll,m=t.maxContentScroll,p=t.children,h=Tn(t,Tme),y=xi(Yi,["prefixCls","scrollbarSize","isSticky","getComponent"]),C=y.prefixCls,x=y.scrollbarSize,T=y.isSticky,w=y.getComponent,b=w(["header","table"],"table"),E=T&&!f?0:x,O=S.useRef(null),D=S.useCallback(function(_){Cv(e,_),Cv(O,_)},[]);S.useEffect(function(){var _;function P(N){var k=N,H=k.currentTarget,K=k.deltaX;K&&(v({currentTarget:H,scrollLeft:H.scrollLeft+K}),N.preventDefault())}return(_=O.current)===null||_===void 0||_.addEventListener("wheel",P,{passive:!1}),function(){var N;(N=O.current)===null||N===void 0||N.removeEventListener("wheel",P)}},[]);var R=S.useMemo(function(){return i.every(function(_){return _.width})},[i]),I=i[i.length-1],M={fixed:I?I.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(C,"-cell-scrollbar")}}},A=S.useMemo(function(){return E?[].concat(Ze(a),[M]):a},[E,a]),B=S.useMemo(function(){return E?[].concat(Ze(i),[M]):i},[E,i]),L=S.useMemo(function(){var _=l.right,P=l.left;return ie(ie({},l),{},{left:c==="rtl"?[].concat(Ze(P.map(function(N){return N+E})),[0]):P,right:c==="rtl"?_:[].concat(Ze(_.map(function(N){return N+E})),[0]),isSticky:T})},[E,l,T]),F=wme(o,s);return S.createElement("div",{style:ie({overflow:"hidden"},T?{top:u,bottom:d}:{}),ref:D,className:Se(n,J({},g,!!g))},S.createElement(b,{style:{tableLayout:"fixed",visibility:r||F?null:"hidden"}},(!r||!m||R)&&S.createElement(Wk,{colWidths:F?[].concat(Ze(F),[E]):[],columCount:s+1,columns:B}),p(ie(ie({},h),{},{stickyOffsets:L,columns:A,flattenColumns:B}))))});const CI=S.memo(bme);var Eme=function(e){var n=e.cells,r=e.stickyOffsets,a=e.flattenColumns,i=e.rowComponent,o=e.cellComponent,s=e.onHeaderRow,l=e.index,c=xi(Yi,["prefixCls","direction"]),f=c.prefixCls,u=c.direction,d;s&&(d=s(n.map(function(v){return v.column}),l));var g=z5(n.map(function(v){return v.column}));return S.createElement(i,d,n.map(function(v,m){var p=v.column,h=NT(v.colStart,v.colEnd,a,r,u),y;return p&&p.onHeaderCell&&(y=v.column.onHeaderCell(p)),S.createElement(rg,tt({},v,{scope:p.title?v.colSpan>1?"colgroup":"col":null,ellipsis:p.ellipsis,align:p.align,component:o,prefixCls:f,key:g[m]},h,{additionalProps:y,rowType:"header"}))}))};function Dme(t){var e=[];function n(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[l]=e[l]||[];var c=s,f=o.filter(Boolean).map(function(u){var d={key:u.key,className:u.className||"",children:u.title,column:u,colStart:c},g=1,v=u.children;return v&&v.length>0&&(g=n(v,c,l+1).reduce(function(m,p){return m+p},0),d.hasSubColumns=!0),"colSpan"in u&&(g=u.colSpan),"rowSpan"in u&&(d.rowSpan=u.rowSpan),d.colSpan=g,d.colEnd=d.colStart+g-1,e[l].push(d),c+=g,g});return f}n(t,0);for(var r=e.length,a=function(s){e[s].forEach(function(l){!("rowSpan"in l)&&!l.hasSubColumns&&(l.rowSpan=r-s)})},i=0;i<r;i+=1)a(i);return e}var Ome=function(e){var n=e.stickyOffsets,r=e.columns,a=e.flattenColumns,i=e.onHeaderRow,o=xi(Yi,["prefixCls","getComponent"]),s=o.prefixCls,l=o.getComponent,c=S.useMemo(function(){return Dme(r)},[r]),f=l(["header","wrapper"],"thead"),u=l(["header","row"],"tr"),d=l(["header","cell"],"th");return S.createElement(f,{className:"".concat(s,"-thead")},c.map(function(g,v){var m=S.createElement(Eme,{key:v,flattenColumns:a,cells:g,stickyOffsets:n,rowComponent:u,cellComponent:d,onHeaderRow:i,index:v});return m}))};const xI=ng(Ome);function TI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof e=="number"?e:e.endsWith("%")?t*parseFloat(e)/100:null}function Rme(t,e,n){return S.useMemo(function(){if(e&&e>0){var r=0,a=0;t.forEach(function(d){var g=TI(e,d.width);g?r+=g:a+=1});var i=Math.max(e,n),o=Math.max(i-r,a),s=a,l=o/a,c=0,f=t.map(function(d){var g=ie({},d),v=TI(e,g.width);if(v)g.width=v;else{var m=Math.floor(l);g.width=s===1?o:m,o-=m,s-=1}return c+=g.width,g});if(c<i){var u=i/c;o=i,f.forEach(function(d,g){var v=Math.floor(d.width*u);d.width=g===f.length-1?o:v,o-=v})}return[f,Math.max(c,i)]}return[t,e]},[t,e,n])}var Ime=["children"],Ame=["fixed"];function FT(t){return os(t).filter(function(e){return S.isValidElement(e)}).map(function(e){var n=e.key,r=e.props,a=r.children,i=Tn(r,Ime),o=ie({key:n},i);return a&&(o.children=FT(a)),o})}function jk(t){return t.filter(function(e){return e&&qt(e)==="object"&&!e.hidden}).map(function(e){var n=e.children;return n&&n.length>0?ie(ie({},e),{},{children:jk(n)}):e})}function g9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return t.filter(function(n){return n&&qt(n)==="object"}).reduce(function(n,r,a){var i=r.fixed,o=i===!0?"left":i,s="".concat(e,"-").concat(a),l=r.children;return l&&l.length>0?[].concat(Ze(n),Ze(g9(l,s).map(function(c){return ie({fixed:o},c)}))):[].concat(Ze(n),[ie(ie({key:s},r),{},{fixed:o})])},[])}function Mme(t){return t.map(function(e){var n=e.fixed,r=Tn(e,Ame),a=n;return n==="left"?a="right":n==="right"&&(a="left"),ie({fixed:a},r)})}function Pme(t,e){var n=t.prefixCls,r=t.columns,a=t.children,i=t.expandable,o=t.expandedKeys,s=t.columnTitle,l=t.getRowKey,c=t.onTriggerExpand,f=t.expandIcon,u=t.rowExpandable,d=t.expandIconColumnIndex,g=t.direction,v=t.expandRowByClick,m=t.columnWidth,p=t.fixed,h=t.scrollWidth,y=t.clientWidth,C=S.useMemo(function(){var I=r||FT(a)||[];return jk(I.slice())},[r,a]),x=S.useMemo(function(){if(i){var I=C.slice();if(!I.includes(ql)){var M=d||0;M>=0&&I.splice(M,0,ql)}var A=I.indexOf(ql);I=I.filter(function(_,P){return _!==ql||P===A});var B=C[A],L;(p==="left"||p)&&!d?L="left":(p==="right"||p)&&d===C.length?L="right":L=B?B.fixed:null;var F=J(J(J(J(J(J({},Nm,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",s),"fixed",L),"className","".concat(n,"-row-expand-icon-cell")),"width",m),"render",function(P,N,k){var H=l(N,k),K=o.has(H),te=u?u(N):!0,se=f({prefixCls:n,expanded:K,expandable:te,record:N,onExpand:c});return v?S.createElement("span",{onClick:function(ve){return ve.stopPropagation()}},se):se});return I.map(function(_){return _===ql?F:_})}return C.filter(function(_){return _!==ql})},[i,C,l,o,f,g]),T=S.useMemo(function(){var I=x;return e&&(I=e(I)),I.length||(I=[{render:function(){return null}}]),I},[e,x,g]),w=S.useMemo(function(){return g==="rtl"?Mme(g9(T)):g9(T)},[T,g,h]),b=S.useMemo(function(){for(var I=-1,M=w.length-1;M>=0;M-=1){var A=w[M].fixed;if(A==="left"||A===!0){I=M;break}}if(I>=0)for(var B=0;B<=I;B+=1){var L=w[B].fixed;if(L!=="left"&&L!==!0)return!0}var F=w.findIndex(function(N){var k=N.fixed;return k==="right"});if(F>=0)for(var _=F;_<w.length;_+=1){var P=w[_].fixed;if(P!=="right")return!0}return!1},[w]),E=Rme(w,h,y),O=Ae(E,2),D=O[0],R=O[1];return[T,D,R,b]}function Lme(t){var e=t.prefixCls,n=t.record,r=t.onExpand,a=t.expanded,i=t.expandable,o="".concat(e,"-row-expand-icon");if(!i)return S.createElement("span",{className:Se(o,"".concat(e,"-row-spaced"))});var s=function(c){r(n,c),c.stopPropagation()};return S.createElement("span",{className:Se(o,J(J({},"".concat(e,"-row-expanded"),a),"".concat(e,"-row-collapsed"),!a)),onClick:s})}function _me(t,e,n){var r=[];function a(i){(i||[]).forEach(function(o,s){r.push(e(o,s)),a(o[n])})}return a(t),r}function Nme(t,e,n){var r=Cme(t),a=r.expandIcon,i=r.expandedRowKeys,o=r.defaultExpandedRowKeys,s=r.defaultExpandAllRows,l=r.expandedRowRender,c=r.onExpand,f=r.onExpandedRowsChange,u=r.childrenColumnName,d=a||Lme,g=u||"children",v=S.useMemo(function(){return l?"row":t.expandable&&t.internalHooks===xp&&t.expandable.__PARENT_RENDER_ICON__||e.some(function(T){return T&&qt(T)==="object"&&T[g]})?"nest":!1},[!!l,e]),m=S.useState(function(){return o||(s?_me(e,n,g):[])}),p=Ae(m,2),h=p[0],y=p[1],C=S.useMemo(function(){return new Set(i||h||[])},[i,h]),x=S.useCallback(function(T){var w=n(T,e.indexOf(T)),b,E=C.has(w);E?(C.delete(w),b=Ze(C)):b=[].concat(Ze(C),[w]),y(b),c&&c(!E,T),f&&f(b)},[n,C,e,c,f]);return[r,v,C,d,g,x]}function Fme(t,e,n){var r=t.map(function(a,i){return NT(i,i,t,e,n)});return Cf(function(){return r},[r],function(a,i){return!_s(a,i)})}function Hk(t){var e=S.useRef(t),n=S.useState({}),r=Ae(n,2),a=r[1],i=S.useRef(null),o=S.useRef([]);function s(l){o.current.push(l);var c=Promise.resolve();i.current=c,c.then(function(){if(i.current===c){var f=o.current,u=e.current;o.current=[],f.forEach(function(d){e.current=d(e.current)}),i.current=null,u!==e.current&&a({})}})}return S.useEffect(function(){return function(){i.current=null}},[]),[e.current,s]}function $me(t){var e=S.useRef(null),n=S.useRef();function r(){window.clearTimeout(n.current)}function a(o){e.current=o,r(),n.current=window.setTimeout(function(){e.current=null,n.current=void 0},100)}function i(){return e.current}return S.useEffect(function(){return r},[]),[a,i]}function Vme(){var t=S.useState(-1),e=Ae(t,2),n=e[0],r=e[1],a=S.useState(-1),i=Ae(a,2),o=i[0],s=i[1],l=S.useCallback(function(c,f){r(c),s(f)},[]);return[n,o,l]}var wI=fi()?window:null;function kme(t,e){var n=qt(t)==="object"?t:{},r=n.offsetHeader,a=r===void 0?0:r,i=n.offsetSummary,o=i===void 0?0:i,s=n.offsetScroll,l=s===void 0?0:s,c=n.getContainer,f=c===void 0?function(){return wI}:c,u=f()||wI,d=!!t;return S.useMemo(function(){return{isSticky:d,stickyClassName:d?"".concat(e,"-sticky-holder"):"",offsetHeader:a,offsetSummary:o,offsetScroll:l,container:u}},[d,l,a,o,e,u])}function Ume(t,e,n){var r=S.useMemo(function(){var a=e.length,i=function(c,f,u){for(var d=[],g=0,v=c;v!==f;v+=u)d.push(g),e[v].fixed&&(g+=t[v]||0);return d},o=i(0,a,1),s=i(a-1,-1,-1).reverse();return n==="rtl"?{left:s,right:o}:{left:o,right:s}},[t,e,n]);return r}function bI(t){var e=t.className,n=t.children;return S.createElement("div",{className:e},n)}var Bme=function(e,n){var r,a,i=e.scrollBodyRef,o=e.onScroll,s=e.offsetScroll,l=e.container,c=xi(Yi,"prefixCls"),f=((r=i.current)===null||r===void 0?void 0:r.scrollWidth)||0,u=((a=i.current)===null||a===void 0?void 0:a.clientWidth)||0,d=f&&u*(u/f),g=S.useRef(),v=Hk({scrollLeft:0,isHiddenScrollBar:!0}),m=Ae(v,2),p=m[0],h=m[1],y=S.useRef({delta:0,x:0}),C=S.useState(!1),x=Ae(C,2),T=x[0],w=x[1],b=S.useRef(null);S.useEffect(function(){return function(){ur.cancel(b.current)}},[]);var E=function(){w(!1)},O=function(A){A.persist(),y.current.delta=A.pageX-p.scrollLeft,y.current.x=0,w(!0),A.preventDefault()},D=function(A){var B,L=A||((B=window)===null||B===void 0?void 0:B.event),F=L.buttons;if(!T||F===0){T&&w(!1);return}var _=y.current.x+A.pageX-y.current.x-y.current.delta;_<=0&&(_=0),_+d>=u&&(_=u-d),o({scrollLeft:_/u*(f+2)}),y.current.x=A.pageX},R=function(){b.current=ur(function(){if(i.current){var A=oI(i.current).top,B=A+i.current.offsetHeight,L=l===window?document.documentElement.scrollTop+window.innerHeight:oI(l).top+l.clientHeight;B-BO()<=L||A>=L-s?h(function(F){return ie(ie({},F),{},{isHiddenScrollBar:!0})}):h(function(F){return ie(ie({},F),{},{isHiddenScrollBar:!1})})}})},I=function(A){h(function(B){return ie(ie({},B),{},{scrollLeft:A/f*u||0})})};return S.useImperativeHandle(n,function(){return{setScrollLeft:I,checkScrollBarVisible:R}}),S.useEffect(function(){var M=hh(document.body,"mouseup",E,!1),A=hh(document.body,"mousemove",D,!1);return R(),function(){M.remove(),A.remove()}},[d,T]),S.useEffect(function(){var M=hh(l,"scroll",R,!1),A=hh(window,"resize",R,!1);return function(){M.remove(),A.remove()}},[l]),S.useEffect(function(){p.isHiddenScrollBar||h(function(M){var A=i.current;return A?ie(ie({},M),{},{scrollLeft:A.scrollLeft/A.scrollWidth*A.clientWidth}):M})},[p.isHiddenScrollBar]),f<=u||!d||p.isHiddenScrollBar?null:S.createElement("div",{style:{height:BO(),width:u,bottom:s},className:"".concat(c,"-sticky-scroll")},S.createElement("div",{onMouseDown:O,ref:g,className:Se("".concat(c,"-sticky-scroll-bar"),J({},"".concat(c,"-sticky-scroll-bar-active"),T)),style:{width:"".concat(d,"px"),transform:"translate3d(".concat(p.scrollLeft,"px, 0, 0)")}}))};const Gme=S.forwardRef(Bme);var qk="rc-table",zme=[],Wme={};function jme(){return"No Data"}function Hme(t,e){var n=ie({rowKey:"key",prefixCls:qk,emptyText:jme},t),r=n.prefixCls,a=n.className,i=n.rowClassName,o=n.style,s=n.data,l=n.rowKey,c=n.scroll,f=n.tableLayout,u=n.direction,d=n.title,g=n.footer,v=n.summary,m=n.caption,p=n.id,h=n.showHeader,y=n.components,C=n.emptyText,x=n.onRow,T=n.onHeaderRow,w=n.onScroll,b=n.internalHooks,E=n.transformColumns,O=n.internalRefs,D=n.tailor,R=n.getContainerWidth,I=n.sticky,M=n.rowHoverable,A=M===void 0?!0:M,B=s||zme,L=!!B.length,F=b===xp,_=S.useCallback(function(gn,wn){return Ro(y,gn)||wn},[y]),P=S.useMemo(function(){return typeof l=="function"?l:function(gn){var wn=gn&&gn[l];return wn}},[l]),N=_(["body"]),k=Vme(),H=Ae(k,3),K=H[0],te=H[1],se=H[2],pe=Nme(n,B,P),ve=Ae(pe,6),Te=ve[0],_e=ve[1],fe=ve[2],ce=ve[3],Ee=ve[4],we=ve[5],he=c==null?void 0:c.x,Re=S.useState(0),Pe=Ae(Re,2),We=Pe[0],Me=Pe[1],Je=Pme(ie(ie(ie({},n),Te),{},{expandable:!!Te.expandedRowRender,columnTitle:Te.columnTitle,expandedKeys:fe,getRowKey:P,onTriggerExpand:we,expandIcon:ce,expandIconColumnIndex:Te.expandIconColumnIndex,direction:u,scrollWidth:F&&D&&typeof he=="number"?he:null,clientWidth:We}),F?E:null),Be=Ae(Je,4),z=Be[0],Y=Be[1],ee=Be[2],j=Be[3],oe=ee??he,be=S.useMemo(function(){return{columns:z,flattenColumns:Y}},[z,Y]),Ue=S.useRef(),ze=S.useRef(),at=S.useRef(),gt=S.useRef();S.useImperativeHandle(e,function(){return{nativeElement:Ue.current,scrollTo:function(wn){var Hn;if(at.current instanceof HTMLElement){var zn=wn.index,Sr=wn.top,Or=wn.key;if(eme(Sr)){var mr;(mr=at.current)===null||mr===void 0||mr.scrollTo({top:Sr})}else{var Br,Qa=Or??P(B[zn]);(Br=at.current.querySelector('[data-row-key="'.concat(Qa,'"]')))===null||Br===void 0||Br.scrollIntoView()}}else(Hn=at.current)!==null&&Hn!==void 0&&Hn.scrollTo&&at.current.scrollTo(wn)}}});var St=S.useRef(),ct=S.useState(!1),et=Ae(ct,2),Ne=et[0],ut=et[1],At=S.useState(!1),bt=Ae(At,2),Rt=bt[0],jt=bt[1],un=Hk(new Map),Zt=Ae(un,2),Kt=Zt[0],fn=Zt[1],en=z5(Y),sn=en.map(function(gn){return Kt.get(gn)}),zt=S.useMemo(function(){return sn},[sn.join("_")]),Lt=Ume(zt,Y,u),yt=c&&d9(c.y),lt=c&&d9(oe)||!!Te.fixed,de=lt&&Y.some(function(gn){var wn=gn.fixed;return wn}),ue=S.useRef(),ge=kme(I,r),Ce=ge.isSticky,Ge=ge.offsetHeader,He=ge.offsetSummary,pt=ge.offsetScroll,Qe=ge.stickyClassName,Ke=ge.container,Ye=S.useMemo(function(){return v==null?void 0:v(B)},[v,B]),ft=(yt||Ce)&&S.isValidElement(Ye)&&Ye.type===W5&&Ye.props.fixed,xt,Nt,Pt;yt&&(Nt={overflowY:L?"scroll":"auto",maxHeight:c.y}),lt&&(xt={overflowX:"auto"},yt||(Nt={overflowY:"hidden"}),Pt={width:oe===!0?"auto":oe,minWidth:"100%"});var Ut=S.useCallback(function(gn,wn){C5(Ue.current)&&fn(function(Hn){if(Hn.get(gn)!==wn){var zn=new Map(Hn);return zn.set(gn,wn),zn}return Hn})},[]),Ht=$me(),Dt=Ae(Ht,2),Mt=Dt[0],Bt=Dt[1];function Ft(gn,wn){wn&&(typeof wn=="function"?wn(gn):wn.scrollLeft!==gn&&(wn.scrollLeft=gn,wn.scrollLeft!==gn&&setTimeout(function(){wn.scrollLeft=gn},0)))}var Ot=br(function(gn){var wn=gn.currentTarget,Hn=gn.scrollLeft,zn=u==="rtl",Sr=typeof Hn=="number"?Hn:wn.scrollLeft,Or=wn||Wme;if(!Bt()||Bt()===Or){var mr;Mt(Or),Ft(Sr,ze.current),Ft(Sr,at.current),Ft(Sr,St.current),Ft(Sr,(mr=ue.current)===null||mr===void 0?void 0:mr.setScrollLeft)}var Br=wn||ze.current;if(Br){var Qa=typeof oe=="number"?oe:Br.scrollWidth,Xa=Br.clientWidth;if(Qa===Xa){ut(!1),jt(!1);return}zn?(ut(-Sr<Qa-Xa),jt(-Sr>0)):(ut(Sr>0),jt(Sr<Qa-Xa))}}),dn=br(function(gn){Ot(gn),w==null||w(gn)}),rn=function(){if(lt&&at.current){var wn;Ot({currentTarget:GN(at.current),scrollLeft:(wn=at.current)===null||wn===void 0?void 0:wn.scrollLeft})}else ut(!1),jt(!1)},pn=function(wn){var Hn,zn=wn.width;(Hn=ue.current)===null||Hn===void 0||Hn.checkScrollBarVisible();var Sr=Ue.current?Ue.current.offsetWidth:zn;F&&R&&Ue.current&&(Sr=R(Ue.current,Sr)||Sr),Sr!==We&&(rn(),Me(Sr))},Xn=S.useRef(!1);S.useEffect(function(){Xn.current&&rn()},[lt,s,z.length]),S.useEffect(function(){Xn.current=!0},[]);var Fn=S.useState(0),Ct=Ae(Fn,2),$t=Ct[0],mn=Ct[1],An=S.useState(!0),On=Ae(An,2),jn=On[0],rr=On[1];S.useEffect(function(){(!D||!F)&&(at.current instanceof Element?mn(B6(at.current).width):mn(B6(gt.current).width)),rr(Loe("position","sticky"))},[]),S.useEffect(function(){F&&O&&(O.body.current=at.current)});var gr=S.useCallback(function(gn){return S.createElement(S.Fragment,null,S.createElement(xI,gn),ft==="top"&&S.createElement(Sh,gn,Ye))},[ft,Ye]),Ra=S.useCallback(function(gn){return S.createElement(Sh,gn,Ye)},[Ye]),kr=_(["table"],"table"),Mr=S.useMemo(function(){return f||(de?oe==="max-content"?"auto":"fixed":yt||Ce||Y.some(function(gn){var wn=gn.ellipsis;return wn})?"fixed":"auto")},[yt,de,Y,f,Ce]),vn,Wt={colWidths:zt,columCount:Y.length,stickyOffsets:Lt,onHeaderRow:T,fixHeader:yt,scroll:c},xn=S.useMemo(function(){return L?null:typeof C=="function"?C():C},[L,C]),bn=S.createElement(Sme,{data:B,measureColumnWidth:yt||lt||Ce}),_n=S.createElement(Wk,{colWidths:Y.map(function(gn){var wn=gn.width;return wn}),columns:Y}),$n=m!=null?S.createElement("caption",{className:"".concat(r,"-caption")},m):void 0,Gn=Pi(n,{data:!0}),Dr=Pi(n,{aria:!0});if(yt||Ce){var pr;typeof N=="function"?(pr=N(B,{scrollbarSize:$t,ref:at,onScroll:Ot}),Wt.colWidths=Y.map(function(gn,wn){var Hn=gn.width,zn=wn===Y.length-1?Hn-$t:Hn;return typeof zn=="number"&&!Number.isNaN(zn)?zn:0})):pr=S.createElement("div",{style:ie(ie({},xt),Nt),onScroll:dn,ref:at,className:Se("".concat(r,"-body"))},S.createElement(kr,tt({style:ie(ie({},Pt),{},{tableLayout:Mr})},Dr),$n,_n,bn,!ft&&Ye&&S.createElement(Sh,{stickyOffsets:Lt,flattenColumns:Y},Ye)));var Ur=ie(ie(ie({noData:!B.length,maxContentScroll:lt&&oe==="max-content"},Wt),be),{},{direction:u,stickyClassName:Qe,onScroll:Ot});vn=S.createElement(S.Fragment,null,h!==!1&&S.createElement(CI,tt({},Ur,{stickyTopOffset:Ge,className:"".concat(r,"-header"),ref:ze}),gr),pr,ft&&ft!=="top"&&S.createElement(CI,tt({},Ur,{stickyBottomOffset:He,className:"".concat(r,"-summary"),ref:St}),Ra),Ce&&at.current&&at.current instanceof Element&&S.createElement(Gme,{ref:ue,offsetScroll:pt,scrollBodyRef:at,onScroll:Ot,container:Ke}))}else vn=S.createElement("div",{style:ie(ie({},xt),Nt),className:Se("".concat(r,"-content")),onScroll:Ot,ref:at},S.createElement(kr,tt({style:ie(ie({},Pt),{},{tableLayout:Mr})},Dr),$n,_n,h!==!1&&S.createElement(xI,tt({},Wt,be)),bn,Ye&&S.createElement(Sh,{stickyOffsets:Lt,flattenColumns:Y},Ye)));var Ar=S.createElement("div",tt({className:Se(r,a,J(J(J(J(J(J(J(J(J(J({},"".concat(r,"-rtl"),u==="rtl"),"".concat(r,"-ping-left"),Ne),"".concat(r,"-ping-right"),Rt),"".concat(r,"-layout-fixed"),f==="fixed"),"".concat(r,"-fixed-header"),yt),"".concat(r,"-fixed-column"),de),"".concat(r,"-fixed-column-gapped"),de&&j),"".concat(r,"-scroll-horizontal"),lt),"".concat(r,"-has-fix-left"),Y[0]&&Y[0].fixed),"".concat(r,"-has-fix-right"),Y[Y.length-1]&&Y[Y.length-1].fixed==="right")),style:o,id:p,ref:Ue},Gn),d&&S.createElement(bI,{className:"".concat(r,"-title")},d(B)),S.createElement("div",{ref:gt,className:"".concat(r,"-container")},vn),g&&S.createElement(bI,{className:"".concat(r,"-footer")},g(B)));lt&&(Ar=S.createElement(Vs,{onResize:pn},Ar));var Nr=Fme(Y,Lt,u),Rr=S.useMemo(function(){return{scrollX:oe,prefixCls:r,getComponent:_,scrollbarSize:$t,direction:u,fixedInfoList:Nr,isSticky:Ce,supportSticky:jn,componentWidth:We,fixHeader:yt,fixColumn:de,horizonScroll:lt,tableLayout:Mr,rowClassName:i,expandedRowClassName:Te.expandedRowClassName,expandIcon:ce,expandableType:_e,expandRowByClick:Te.expandRowByClick,expandedRowRender:Te.expandedRowRender,onTriggerExpand:we,expandIconColumnIndex:Te.expandIconColumnIndex,indentSize:Te.indentSize,allColumnsFixedLeft:Y.every(function(gn){return gn.fixed==="left"}),emptyNode:xn,columns:z,flattenColumns:Y,onColumnResize:Ut,hoverStartRow:K,hoverEndRow:te,onHover:se,rowExpandable:Te.rowExpandable,onRow:x,getRowKey:P,expandedKeys:fe,childrenColumnName:Ee,rowHoverable:A}},[oe,r,_,$t,u,Nr,Ce,jn,We,yt,de,lt,Mr,i,Te.expandedRowClassName,ce,_e,Te.expandRowByClick,Te.expandedRowRender,we,Te.expandIconColumnIndex,Te.indentSize,xn,z,Y,Ut,K,te,se,Te.rowExpandable,x,P,fe,Ee,A]);return S.createElement(Yi.Provider,{value:Rr},Ar)}var qme=S.forwardRef(Hme);function Kk(t){return Nk(qme,t)}var ag=Kk();ag.EXPAND_COLUMN=ql;ag.INTERNAL_HOOKS=xp;ag.Column=fme;ag.ColumnGroup=dme;ag.Summary=Vk;var $T=LT(null),Qk=LT(null);function Kme(t,e,n){var r=e||1;return n[t+r]-(n[t]||0)}function Qme(t){var e=t.rowInfo,n=t.column,r=t.colIndex,a=t.indent,i=t.index,o=t.component,s=t.renderIndex,l=t.record,c=t.style,f=t.className,u=t.inverse,d=t.getHeight,g=n.render,v=n.dataIndex,m=n.className,p=n.width,h=xi(Qk,["columnsOffset"]),y=h.columnsOffset,C=zk(e,n,r,a,i),x=C.key,T=C.fixedInfo,w=C.appendCellNode,b=C.additionalCellProps,E=b.style,O=b.colSpan,D=O===void 0?1:O,R=b.rowSpan,I=R===void 0?1:R,M=r-1,A=Kme(M,D,y),B=D>1?p-A:0,L=ie(ie(ie({},E),c),{},{flex:"0 0 ".concat(A,"px"),width:"".concat(A,"px"),marginRight:B,pointerEvents:"auto"}),F=S.useMemo(function(){return u?I<=1:D===0||I===0||I>1},[I,D,u]);F?L.visibility="hidden":u&&(L.height=d==null?void 0:d(I));var _=F?function(){return null}:g,P={};return(I===0||D===0)&&(P.rowSpan=1,P.colSpan=1),S.createElement(rg,tt({className:Se(m,f),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:o,prefixCls:e.prefixCls,key:x,record:l,index:i,renderIndex:s,dataIndex:v,render:_,shouldCellUpdate:n.shouldCellUpdate},T,{appendNode:w,additionalProps:ie(ie({},b),{},{style:L},P)}))}var Xme=["data","index","className","rowKey","style","extra","getHeight"],Yme=S.forwardRef(function(t,e){var n=t.data,r=t.index,a=t.className,i=t.rowKey,o=t.style,s=t.extra,l=t.getHeight,c=Tn(t,Xme),f=n.record,u=n.indent,d=n.index,g=xi(Yi,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),v=g.scrollX,m=g.flattenColumns,p=g.prefixCls,h=g.fixColumn,y=g.componentWidth,C=xi($T,["getComponent"]),x=C.getComponent,T=Bk(f,i,r,u),w=x(["body","row"],"div"),b=x(["body","cell"],"div"),E=T.rowSupportExpand,O=T.expanded,D=T.rowProps,R=T.expandedRowRender,I=T.expandedRowClassName,M;if(E&&O){var A=R(f,r,u+1,O),B=I==null?void 0:I(f,r,u),L={};h&&(L={style:J({},"--virtual-width","".concat(y,"px"))});var F="".concat(p,"-expanded-row-cell");M=S.createElement(w,{className:Se("".concat(p,"-expanded-row"),"".concat(p,"-expanded-row-level-").concat(u+1),B)},S.createElement(rg,{component:b,prefixCls:p,className:Se(F,J({},"".concat(F,"-fixed"),h)),additionalProps:L},A))}var _=ie(ie({},o),{},{width:v});s&&(_.position="absolute",_.pointerEvents="none");var P=S.createElement(w,tt({},D,c,{"data-row-key":i,ref:E?null:e,className:Se(a,"".concat(p,"-row"),D==null?void 0:D.className,J({},"".concat(p,"-row-extra"),s)),style:ie(ie({},_),D==null?void 0:D.style)}),m.map(function(N,k){return S.createElement(Qme,{key:k,component:b,rowInfo:T,column:N,colIndex:k,indent:u,index:r,renderIndex:d,record:f,inverse:s,getHeight:l})}));return E?S.createElement("div",{ref:e},P,M):P}),EI=ng(Yme),Zme=S.forwardRef(function(t,e){var n=t.data,r=t.onScroll,a=xi(Yi,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX"]),i=a.flattenColumns,o=a.onColumnResize,s=a.getRowKey,l=a.expandedKeys,c=a.prefixCls,f=a.childrenColumnName,u=a.scrollX,d=xi($T),g=d.sticky,v=d.scrollY,m=d.listItemHeight,p=d.getComponent,h=d.onScroll,y=S.useRef(),C=Uk(n,f,l,s),x=S.useMemo(function(){var I=0;return i.map(function(M){var A=M.width,B=M.key;return I+=A,[B,A,I]})},[i]),T=S.useMemo(function(){return x.map(function(I){return I[2]})},[x]);S.useEffect(function(){x.forEach(function(I){var M=Ae(I,2),A=M[0],B=M[1];o(A,B)})},[x]),S.useImperativeHandle(e,function(){var I,M={scrollTo:function(B){var L;(L=y.current)===null||L===void 0||L.scrollTo(B)},nativeElement:(I=y.current)===null||I===void 0?void 0:I.nativeElement};return Object.defineProperty(M,"scrollLeft",{get:function(){var B;return((B=y.current)===null||B===void 0?void 0:B.getScrollInfo().x)||0},set:function(B){var L;(L=y.current)===null||L===void 0||L.scrollTo({left:B})}}),M});var w=function(M,A){var B,L=(B=C[A])===null||B===void 0?void 0:B.record,F=M.onCell;if(F){var _,P=F(L,A);return(_=P==null?void 0:P.rowSpan)!==null&&_!==void 0?_:1}return 1},b=function(M){var A=M.start,B=M.end,L=M.getSize,F=M.offsetY;if(B<0)return null;for(var _=i.filter(function(fe){return w(fe,A)===0}),P=A,N=function(ce){if(_=_.filter(function(Ee){return w(Ee,ce)===0}),!_.length)return P=ce,1},k=A;k>=0&&!N(k);k-=1);for(var H=i.filter(function(fe){return w(fe,B)!==1}),K=B,te=function(ce){if(H=H.filter(function(Ee){return w(Ee,ce)!==1}),!H.length)return K=Math.max(ce-1,B),1},se=B;se<C.length&&!te(se);se+=1);for(var pe=[],ve=function(ce){var Ee=C[ce];if(!Ee)return 1;i.some(function(we){return w(we,ce)>1})&&pe.push(ce)},Te=P;Te<=K;Te+=1)ve(Te);var _e=pe.map(function(fe){var ce=C[fe],Ee=s(ce.record,fe),we=function(Pe){var We=fe+Pe-1,Me=s(C[We].record,We),Je=L(Ee,Me);return Je.bottom-Je.top},he=L(Ee);return S.createElement(EI,{key:fe,data:ce,rowKey:Ee,index:fe,style:{top:-F+he.top},extra:!0,getHeight:we})});return _e},E=S.useMemo(function(){return{columnsOffset:T}},[T]),O="".concat(c,"-tbody"),D=p(["body","wrapper"]),R={};return g&&(R.position="sticky",R.bottom=0,qt(g)==="object"&&g.offsetScroll&&(R.bottom=g.offsetScroll)),S.createElement(Qk.Provider,{value:E},S.createElement(M5,{fullHeight:!1,ref:y,prefixCls:"".concat(O,"-virtual"),styles:{horizontalScrollBar:R},className:O,height:v,itemHeight:m||24,data:C,itemKey:function(M){return s(M.record)},component:D,scrollWidth:u,onVirtualScroll:function(M){var A,B=M.x;r({currentTarget:(A=y.current)===null||A===void 0?void 0:A.nativeElement,scrollLeft:B})},onScroll:h,extraRender:b},function(I,M,A){var B=s(I.record,M);return S.createElement(EI,{data:I,rowKey:B,index:M,style:A.style})}))}),Jme=ng(Zme),eve=function(e,n){var r=n.ref,a=n.onScroll;return S.createElement(Jme,{ref:r,data:e,onScroll:a})};function tve(t,e){var n=t.data,r=t.columns,a=t.scroll,i=t.sticky,o=t.prefixCls,s=o===void 0?qk:o,l=t.className,c=t.listItemHeight,f=t.components,u=t.onScroll,d=a||{},g=d.x,v=d.y;typeof g!="number"&&(g=1),typeof v!="number"&&(v=500);var m=br(function(y,C){return Ro(f,y)||C}),p=br(u),h=S.useMemo(function(){return{sticky:i,scrollY:v,listItemHeight:c,getComponent:m,onScroll:p}},[i,v,c,m,p]);return S.createElement($T.Provider,{value:h},S.createElement(ag,tt({},t,{className:Se(l,"".concat(s,"-virtual")),scroll:ie(ie({},a),{},{x:g}),components:ie(ie({},f),{},{body:n!=null&&n.length?eve:void 0}),columns:r,internalHooks:xp,tailor:!0,ref:e})))}var nve=S.forwardRef(tve);function Xk(t){return Nk(nve,t)}Xk();const rve=t=>null,ave=t=>null;var VT=S.createContext(null),ive=function(e){for(var n=e.prefixCls,r=e.level,a=e.isStart,i=e.isEnd,o="".concat(n,"-indent-unit"),s=[],l=0;l<r;l+=1)s.push(S.createElement("span",{key:l,className:Se(o,J(J({},"".concat(o,"-start"),a[l]),"".concat(o,"-end"),i[l]))}));return S.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},s)};const ove=S.memo(ive);var sve=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],DI="open",OI="close",lve="---",cve=function(t){ko(n,t);var e=Uo(n);function n(){var r;ua(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),J(dt(r),"state",{dragNodeHighlight:!1}),J(dt(r),"selectHandle",void 0),J(dt(r),"cacheIndent",void 0),J(dt(r),"onSelectorClick",function(s){var l=r.props.context.onNodeClick;l(s,Ba(r.props)),r.isSelectable()?r.onSelect(s):r.onCheck(s)}),J(dt(r),"onSelectorDoubleClick",function(s){var l=r.props.context.onNodeDoubleClick;l(s,Ba(r.props))}),J(dt(r),"onSelect",function(s){if(!r.isDisabled()){var l=r.props.context.onNodeSelect;l(s,Ba(r.props))}}),J(dt(r),"onCheck",function(s){if(!r.isDisabled()){var l=r.props,c=l.disableCheckbox,f=l.checked,u=r.props.context.onNodeCheck;if(!(!r.isCheckable()||c)){var d=!f;u(s,Ba(r.props),d)}}}),J(dt(r),"onMouseEnter",function(s){var l=r.props.context.onNodeMouseEnter;l(s,Ba(r.props))}),J(dt(r),"onMouseLeave",function(s){var l=r.props.context.onNodeMouseLeave;l(s,Ba(r.props))}),J(dt(r),"onContextMenu",function(s){var l=r.props.context.onNodeContextMenu;l(s,Ba(r.props))}),J(dt(r),"onDragStart",function(s){var l=r.props.context.onNodeDragStart;s.stopPropagation(),r.setState({dragNodeHighlight:!0}),l(s,dt(r));try{s.dataTransfer.setData("text/plain","")}catch{}}),J(dt(r),"onDragEnter",function(s){var l=r.props.context.onNodeDragEnter;s.preventDefault(),s.stopPropagation(),l(s,dt(r))}),J(dt(r),"onDragOver",function(s){var l=r.props.context.onNodeDragOver;s.preventDefault(),s.stopPropagation(),l(s,dt(r))}),J(dt(r),"onDragLeave",function(s){var l=r.props.context.onNodeDragLeave;s.stopPropagation(),l(s,dt(r))}),J(dt(r),"onDragEnd",function(s){var l=r.props.context.onNodeDragEnd;s.stopPropagation(),r.setState({dragNodeHighlight:!1}),l(s,dt(r))}),J(dt(r),"onDrop",function(s){var l=r.props.context.onNodeDrop;s.preventDefault(),s.stopPropagation(),r.setState({dragNodeHighlight:!1}),l(s,dt(r))}),J(dt(r),"onExpand",function(s){var l=r.props,c=l.loading,f=l.context.onNodeExpand;c||f(s,Ba(r.props))}),J(dt(r),"setSelectHandle",function(s){r.selectHandle=s}),J(dt(r),"getNodeState",function(){var s=r.props.expanded;return r.isLeaf()?null:s?DI:OI}),J(dt(r),"hasChildren",function(){var s=r.props.eventKey,l=r.props.context.keyEntities,c=ao(l,s)||{},f=c.children;return!!(f||[]).length}),J(dt(r),"isLeaf",function(){var s=r.props,l=s.isLeaf,c=s.loaded,f=r.props.context.loadData,u=r.hasChildren();return l===!1?!1:l||!f&&!u||f&&c&&!u}),J(dt(r),"isDisabled",function(){var s=r.props.disabled,l=r.props.context.disabled;return!!(l||s)}),J(dt(r),"isCheckable",function(){var s=r.props.checkable,l=r.props.context.checkable;return!l||s===!1?!1:l}),J(dt(r),"syncLoadData",function(s){var l=s.expanded,c=s.loading,f=s.loaded,u=r.props.context,d=u.loadData,g=u.onNodeLoad;c||d&&l&&!r.isLeaf()&&!f&&g(Ba(r.props))}),J(dt(r),"isDraggable",function(){var s=r.props,l=s.data,c=s.context.draggable;return!!(c&&(!c.nodeDraggable||c.nodeDraggable(l)))}),J(dt(r),"renderDragHandler",function(){var s=r.props.context,l=s.draggable,c=s.prefixCls;return l!=null&&l.icon?S.createElement("span",{className:"".concat(c,"-draggable-icon")},l.icon):null}),J(dt(r),"renderSwitcherIconDom",function(s){var l=r.props.switcherIcon,c=r.props.context.switcherIcon,f=l||c;return typeof f=="function"?f(ie(ie({},r.props),{},{isLeaf:s})):f}),J(dt(r),"renderSwitcher",function(){var s=r.props.expanded,l=r.props.context.prefixCls;if(r.isLeaf()){var c=r.renderSwitcherIconDom(!0);return c!==!1?S.createElement("span",{className:Se("".concat(l,"-switcher"),"".concat(l,"-switcher-noop"))},c):null}var f=Se("".concat(l,"-switcher"),"".concat(l,"-switcher_").concat(s?DI:OI)),u=r.renderSwitcherIconDom(!1);return u!==!1?S.createElement("span",{onClick:r.onExpand,className:f},u):null}),J(dt(r),"renderCheckbox",function(){var s=r.props,l=s.checked,c=s.halfChecked,f=s.disableCheckbox,u=r.props.context.prefixCls,d=r.isDisabled(),g=r.isCheckable();if(!g)return null;var v=typeof g!="boolean"?g:null;return S.createElement("span",{className:Se("".concat(u,"-checkbox"),l&&"".concat(u,"-checkbox-checked"),!l&&c&&"".concat(u,"-checkbox-indeterminate"),(d||f)&&"".concat(u,"-checkbox-disabled")),onClick:r.onCheck},v)}),J(dt(r),"renderIcon",function(){var s=r.props.loading,l=r.props.context.prefixCls;return S.createElement("span",{className:Se("".concat(l,"-iconEle"),"".concat(l,"-icon__").concat(r.getNodeState()||"docu"),s&&"".concat(l,"-icon_loading"))})}),J(dt(r),"renderSelector",function(){var s=r.state.dragNodeHighlight,l=r.props,c=l.title,f=c===void 0?lve:c,u=l.selected,d=l.icon,g=l.loading,v=l.data,m=r.props.context,p=m.prefixCls,h=m.showIcon,y=m.icon,C=m.loadData,x=m.titleRender,T=r.isDisabled(),w="".concat(p,"-node-content-wrapper"),b;if(h){var E=d||y;b=E?S.createElement("span",{className:Se("".concat(p,"-iconEle"),"".concat(p,"-icon__customize"))},typeof E=="function"?E(r.props):E):r.renderIcon()}else C&&g&&(b=r.renderIcon());var O;typeof f=="function"?O=f(v):x?O=x(v):O=f;var D=S.createElement("span",{className:"".concat(p,"-title")},O);return S.createElement("span",{ref:r.setSelectHandle,title:typeof f=="string"?f:"",className:Se("".concat(w),"".concat(w,"-").concat(r.getNodeState()||"normal"),!T&&(u||s)&&"".concat(p,"-node-selected")),onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave,onContextMenu:r.onContextMenu,onClick:r.onSelectorClick,onDoubleClick:r.onSelectorDoubleClick},b,D,r.renderDropIndicator())}),J(dt(r),"renderDropIndicator",function(){var s=r.props,l=s.disabled,c=s.eventKey,f=r.props.context,u=f.draggable,d=f.dropLevelOffset,g=f.dropPosition,v=f.prefixCls,m=f.indent,p=f.dropIndicatorRender,h=f.dragOverNodeKey,y=f.direction,C=!!u,x=!l&&C&&h===c,T=m??r.cacheIndent;return r.cacheIndent=m,x?p({dropPosition:g,dropLevelOffset:d,indent:T,prefixCls:v,direction:y}):null}),r}return fa(n,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var a=this.props.selectable,i=this.props.context.selectable;return typeof a=="boolean"?a:i}},{key:"render",value:function(){var a,i=this.props,o=i.eventKey,s=i.className,l=i.style,c=i.dragOver,f=i.dragOverGapTop,u=i.dragOverGapBottom,d=i.isLeaf,g=i.isStart,v=i.isEnd,m=i.expanded,p=i.selected,h=i.checked,y=i.halfChecked,C=i.loading,x=i.domRef,T=i.active;i.data;var w=i.onMouseMove,b=i.selectable,E=Tn(i,sve),O=this.props.context,D=O.prefixCls,R=O.filterTreeNode,I=O.keyEntities,M=O.dropContainerKey,A=O.dropTargetKey,B=O.draggingNodeKey,L=this.isDisabled(),F=Pi(E,{aria:!0,data:!0}),_=ao(I,o)||{},P=_.level,N=v[v.length-1],k=this.isDraggable(),H=!L&&k,K=B===o,te=b!==void 0?{"aria-selected":!!b}:void 0;return S.createElement("div",tt({ref:x,className:Se(s,"".concat(D,"-treenode"),(a={},J(J(J(J(J(J(J(J(J(J(a,"".concat(D,"-treenode-disabled"),L),"".concat(D,"-treenode-switcher-").concat(m?"open":"close"),!d),"".concat(D,"-treenode-checkbox-checked"),h),"".concat(D,"-treenode-checkbox-indeterminate"),y),"".concat(D,"-treenode-selected"),p),"".concat(D,"-treenode-loading"),C),"".concat(D,"-treenode-active"),T),"".concat(D,"-treenode-leaf-last"),N),"".concat(D,"-treenode-draggable"),k),"dragging",K),J(J(J(J(J(J(a,"drop-target",A===o),"drop-container",M===o),"drag-over",!L&&c),"drag-over-gap-top",!L&&f),"drag-over-gap-bottom",!L&&u),"filter-node",R&&R(Ba(this.props))))),style:l,draggable:H,"aria-grabbed":K,onDragStart:H?this.onDragStart:void 0,onDragEnter:k?this.onDragEnter:void 0,onDragOver:k?this.onDragOver:void 0,onDragLeave:k?this.onDragLeave:void 0,onDrop:k?this.onDrop:void 0,onDragEnd:k?this.onDragEnd:void 0,onMouseMove:w},te,F),S.createElement(ove,{prefixCls:D,level:P,isStart:g,isEnd:v}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),n}(S.Component),D1=function(e){return S.createElement(VT.Consumer,null,function(n){return S.createElement(cve,tt({},e,{context:n}))})};D1.displayName="TreeNode";D1.isTreeNode=1;function qs(t,e){if(!t)return[];var n=t.slice(),r=n.indexOf(e);return r>=0&&n.splice(r,1),n}function A0(t,e){var n=(t||[]).slice();return n.indexOf(e)===-1&&n.push(e),n}function kT(t){return t.split("-")}function uve(t,e){var n=[],r=ao(e,t);function a(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(o){var s=o.key,l=o.children;n.push(s),a(l)})}return a(r.children),n}function fve(t){if(t.parent){var e=kT(t.pos);return Number(e[e.length-1])===t.parent.children.length-1}return!1}function dve(t){var e=kT(t.pos);return Number(e[e.length-1])===0}function RI(t,e,n,r,a,i,o,s,l,c){var f,u=t.clientX,d=t.clientY,g=t.target.getBoundingClientRect(),v=g.top,m=g.height,p=(c==="rtl"?-1:1)*(((a==null?void 0:a.x)||0)-u),h=(p-12)/r,y=l.filter(function(L){var F;return(F=s[L])===null||F===void 0||(F=F.children)===null||F===void 0?void 0:F.length}),C=ao(s,n.props.eventKey);if(d<v+m/2){var x=o.findIndex(function(L){return L.key===C.key}),T=x<=0?0:x-1,w=o[T].key;C=ao(s,w)}var b=C.key,E=C,O=C.key,D=0,R=0;if(!y.includes(b))for(var I=0;I<h&&fve(C);I+=1)C=C.parent,R+=1;var M=e.props.data,A=C.node,B=!0;return dve(C)&&C.level===0&&d<v+m/2&&i({dragNode:M,dropNode:A,dropPosition:-1})&&C.key===n.props.eventKey?D=-1:(E.children||[]).length&&y.includes(O)?i({dragNode:M,dropNode:A,dropPosition:0})?D=0:B=!1:R===0?h>-1.5?i({dragNode:M,dropNode:A,dropPosition:1})?D=1:B=!1:i({dragNode:M,dropNode:A,dropPosition:0})?D=0:i({dragNode:M,dropNode:A,dropPosition:1})?D=1:B=!1:i({dragNode:M,dropNode:A,dropPosition:1})?D=1:B=!1,{dropPosition:D,dropLevelOffset:R,dropTargetKey:C.key,dropTargetPos:C.pos,dragOverNodeKey:O,dropContainerKey:D===0?null:((f=C.parent)===null||f===void 0?void 0:f.key)||null,dropAllowed:B}}function II(t,e){if(t){var n=e.multiple;return n?t.slice():t.length?[t[0]]:t}}function t8(t){if(!t)return null;var e;if(Array.isArray(t))e={checkedKeys:t,halfCheckedKeys:void 0};else if(qt(t)==="object")e={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return jr(!1,"`checkedKeys` is not an array or an object"),null;return e}function m9(t,e){var n=new Set;function r(a){if(!n.has(a)){var i=ao(e,a);if(i){n.add(a);var o=i.parent,s=i.node;s.disabled||o&&r(o.key)}}}return(t||[]).forEach(function(a){r(a)}),Ze(n)}function gve(t){const[e,n]=S.useState(null);return[S.useCallback((i,o,s)=>{const l=e??i,c=Math.min(l||0,i),f=Math.max(l||0,i),u=o.slice(c,f+1).map(v=>t(v)),d=u.some(v=>!s.has(v)),g=[];return u.forEach(v=>{d?(s.has(v)||g.push(v),s.add(v)):(s.delete(v),g.push(v))}),n(d?f:null),g},[e]),i=>{n(i)}]}const Bl={},v9="SELECT_ALL",p9="SELECT_INVERT",h9="SELECT_NONE",AI=[],Yk=(t,e)=>{let n=[];return(e||[]).forEach(r=>{n.push(r),r&&typeof r=="object"&&t in r&&(n=[].concat(Ze(n),Ze(Yk(t,r[t]))))}),n},mve=(t,e)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:a,getCheckboxProps:i,onChange:o,onSelect:s,onSelectAll:l,onSelectInvert:c,onSelectNone:f,onSelectMultiple:u,columnWidth:d,type:g,selections:v,fixed:m,renderCell:p,hideSelectAll:h,checkStrictly:y=!0}=e||{},{prefixCls:C,data:x,pageData:T,getRecordByKey:w,getRowKey:b,expandType:E,childrenColumnName:O,locale:D,getPopupContainer:R}=t,I=Tf(),[M,A]=gve(ce=>ce),[B,L]=Ha(r||a||AI,{value:r}),F=S.useRef(new Map),_=S.useCallback(ce=>{if(n){const Ee=new Map;ce.forEach(we=>{let he=w(we);!he&&F.current.has(we)&&(he=F.current.get(we)),Ee.set(we,he)}),F.current=Ee}},[w,n]);S.useEffect(()=>{_(B)},[B]);const P=S.useMemo(()=>Yk(O,T),[O,T]),{keyEntities:N}=S.useMemo(()=>{if(y)return{keyEntities:null};let ce=x;if(n){const Ee=new Set(P.map((he,Re)=>b(he,Re))),we=Array.from(F.current).reduce((he,Re)=>{let[Pe,We]=Re;return Ee.has(Pe)?he:he.concat(We)},[]);ce=[].concat(Ze(ce),Ze(we))}return OT(ce,{externalGetKey:b,childrenPropName:O})},[x,b,y,O,n,P]),k=S.useMemo(()=>{const ce=new Map;return P.forEach((Ee,we)=>{const he=b(Ee,we),Re=(i?i(Ee):null)||{};ce.set(he,Re)}),ce},[P,b,i]),H=S.useCallback(ce=>{var Ee;return!!(!((Ee=k.get(b(ce)))===null||Ee===void 0)&&Ee.disabled)},[k,b]),[K,te]=S.useMemo(()=>{if(y)return[B||[],[]];const{checkedKeys:ce,halfCheckedKeys:Ee}=Bd(B,!0,N,H);return[ce||[],Ee]},[B,y,N,H]),se=S.useMemo(()=>{const ce=g==="radio"?K.slice(0,1):K;return new Set(ce)},[K,g]),pe=S.useMemo(()=>g==="radio"?new Set:new Set(te),[te,g]);S.useEffect(()=>{e||L(AI)},[!!e]);const ve=S.useCallback((ce,Ee)=>{let we,he;_(ce),n?(we=ce,he=ce.map(Re=>F.current.get(Re))):(we=[],he=[],ce.forEach(Re=>{const Pe=w(Re);Pe!==void 0&&(we.push(Re),he.push(Pe))})),L(we),o==null||o(we,he,{type:Ee})},[L,w,o,n]),Te=S.useCallback((ce,Ee,we,he)=>{if(s){const Re=we.map(Pe=>w(Pe));s(w(ce),Ee,Re,he)}ve(we,"single")},[s,w,ve]),_e=S.useMemo(()=>!v||h?null:(v===!0?[v9,p9,h9]:v).map(Ee=>Ee===v9?{key:"all",text:D.selectionAll,onSelect(){ve(x.map((we,he)=>b(we,he)).filter(we=>{const he=k.get(we);return!(he!=null&&he.disabled)||se.has(we)}),"all")}}:Ee===p9?{key:"invert",text:D.selectInvert,onSelect(){const we=new Set(se);T.forEach((Re,Pe)=>{const We=b(Re,Pe),Me=k.get(We);Me!=null&&Me.disabled||(we.has(We)?we.delete(We):we.add(We))});const he=Array.from(we);c&&(I.deprecated(!1,"onSelectInvert","onChange"),c(he)),ve(he,"invert")}}:Ee===h9?{key:"none",text:D.selectNone,onSelect(){f==null||f(),ve(Array.from(se).filter(we=>{const he=k.get(we);return he==null?void 0:he.disabled}),"none")}}:Ee).map(Ee=>Object.assign(Object.assign({},Ee),{onSelect:function(){for(var we,he,Re=arguments.length,Pe=new Array(Re),We=0;We<Re;We++)Pe[We]=arguments[We];(he=Ee.onSelect)===null||he===void 0||(we=he).call.apply(we,[Ee].concat(Pe)),A(null)}})),[v,se,T,b,c,ve]);return[S.useCallback(ce=>{var Ee;if(!e)return ce.filter(gt=>gt!==Bl);let we=Ze(ce);const he=new Set(se),Re=P.map(b).filter(gt=>!k.get(gt).disabled),Pe=Re.every(gt=>he.has(gt)),We=Re.some(gt=>he.has(gt)),Me=()=>{const gt=[];Pe?Re.forEach(ct=>{he.delete(ct),gt.push(ct)}):Re.forEach(ct=>{he.has(ct)||(he.add(ct),gt.push(ct))});const St=Array.from(he);l==null||l(!Pe,St.map(ct=>w(ct)),gt.map(ct=>w(ct))),ve(St,"all"),A(null)};let Je,Be;if(g!=="radio"){let gt;if(_e){const ut={getPopupContainer:R,items:_e.map((At,bt)=>{const{key:Rt,text:jt,onSelect:un}=At;return{key:Rt??bt,onClick:()=>{un==null||un(Re)},label:jt}})};gt=S.createElement("div",{className:`${C}-selection-extra`},S.createElement(IT,{menu:ut,getPopupContainer:R},S.createElement("span",null,S.createElement(CV,null))))}const St=P.map((ut,At)=>{const bt=b(ut,At),Rt=k.get(bt)||{};return Object.assign({checked:he.has(bt)},Rt)}).filter(ut=>{let{disabled:At}=ut;return At}),ct=!!St.length&&St.length===P.length,et=ct&&St.every(ut=>{let{checked:At}=ut;return At}),Ne=ct&&St.some(ut=>{let{checked:At}=ut;return At});Be=S.createElement(E1,{checked:ct?et:!!P.length&&Pe,indeterminate:ct?!et&&Ne:!Pe&&We,onChange:Me,disabled:P.length===0||ct,"aria-label":gt?"Custom selection":"Select all",skipGroup:!0}),Je=!h&&S.createElement("div",{className:`${C}-selection`},Be,gt)}let z;g==="radio"?z=(gt,St,ct)=>{const et=b(St,ct),Ne=he.has(et);return{node:S.createElement(B0,Object.assign({},k.get(et),{checked:Ne,onClick:ut=>ut.stopPropagation(),onChange:ut=>{he.has(et)||Te(et,!0,[et],ut.nativeEvent)}})),checked:Ne}}:z=(gt,St,ct)=>{var et;const Ne=b(St,ct),ut=he.has(Ne),At=pe.has(Ne),bt=k.get(Ne);let Rt;return E==="nest"?Rt=At:Rt=(et=bt==null?void 0:bt.indeterminate)!==null&&et!==void 0?et:At,{node:S.createElement(E1,Object.assign({},bt,{indeterminate:Rt,checked:ut,skipGroup:!0,onClick:jt=>jt.stopPropagation(),onChange:jt=>{let{nativeEvent:un}=jt;const{shiftKey:Zt}=un,Kt=Re.findIndex(en=>en===Ne),fn=K.some(en=>Re.includes(en));if(Zt&&y&&fn){const en=M(Kt,Re,he),sn=Array.from(he);u==null||u(!ut,sn.map(zt=>w(zt)),en.map(zt=>w(zt))),ve(sn,"multiple")}else{const en=K;if(y){const sn=ut?qs(en,Ne):A0(en,Ne);Te(Ne,!ut,sn,un)}else{const sn=Bd([].concat(Ze(en),[Ne]),!0,N,H),{checkedKeys:zt,halfCheckedKeys:Lt}=sn;let yt=zt;if(ut){const lt=new Set(zt);lt.delete(Ne),yt=Bd(Array.from(lt),{checked:!1,halfCheckedKeys:Lt},N,H).checkedKeys}Te(Ne,!ut,yt,un)}}A(ut?null:Kt)}})),checked:ut}};const Y=(gt,St,ct)=>{const{node:et,checked:Ne}=z(gt,St,ct);return p?p(Ne,St,ct,et):et};if(!we.includes(Bl))if(we.findIndex(gt=>{var St;return((St=gt[Nm])===null||St===void 0?void 0:St.columnType)==="EXPAND_COLUMN"})===0){const[gt,...St]=we;we=[gt,Bl].concat(Ze(St))}else we=[Bl].concat(Ze(we));const ee=we.indexOf(Bl);we=we.filter((gt,St)=>gt!==Bl||St===ee);const j=we[ee-1],oe=we[ee+1];let be=m;be===void 0&&((oe==null?void 0:oe.fixed)!==void 0?be=oe.fixed:(j==null?void 0:j.fixed)!==void 0&&(be=j.fixed)),be&&j&&((Ee=j[Nm])===null||Ee===void 0?void 0:Ee.columnType)==="EXPAND_COLUMN"&&j.fixed===void 0&&(j.fixed=be);const Ue=Se(`${C}-selection-col`,{[`${C}-selection-col-with-dropdown`]:v&&g==="checkbox"}),ze=()=>e!=null&&e.columnTitle?typeof e.columnTitle=="function"?e.columnTitle(Be):e.columnTitle:Je,at={fixed:be,width:d,className:`${C}-selection-column`,title:ze(),render:Y,onCell:e.onCell,[Nm]:{className:Ue}};return we.map(gt=>gt===Bl?at:gt)},[b,P,e,K,se,pe,d,_e,E,k,u,Te,H]),se]};function vve(t,e){return t._antProxy=t._antProxy||{},Object.keys(e).forEach(n=>{if(!(n in t._antProxy)){const r=t[n];t._antProxy[n]=r,t[n]=e[n]}}),t}function pve(t,e){return S.useImperativeHandle(t,()=>{const n=e(),{nativeElement:r}=n;return typeof Proxy<"u"?new Proxy(r,{get(a,i){return n[i]?n[i]:Reflect.get(a,i)}}):vve(r,n)})}function hve(t){return e=>{const{prefixCls:n,onExpand:r,record:a,expanded:i,expandable:o}=e,s=`${n}-row-expand-icon`;return S.createElement("button",{type:"button",onClick:l=>{r(a,l),l.stopPropagation()},className:Se(s,{[`${s}-spaced`]:!o,[`${s}-expanded`]:o&&i,[`${s}-collapsed`]:o&&!i}),"aria-label":i?t.collapse:t.expand,"aria-expanded":i})}}function Sve(t){return(n,r)=>{const a=n.querySelector(`.${t}-container`);let i=r;if(a){const o=getComputedStyle(a),s=parseInt(o.borderLeftWidth,10),l=parseInt(o.borderRightWidth,10);i=r-s-l}return i}}const Oc=(t,e)=>"key"in t&&t.key!==void 0&&t.key!==null?t.key:t.dataIndex?Array.isArray(t.dataIndex)?t.dataIndex.join("."):t.dataIndex:e;function ig(t,e){return e?`${e}-${t}`:`${t}`}const j5=(t,e)=>typeof t=="function"?t(e):t,yve=(t,e)=>{const n=j5(t,e);return Object.prototype.toString.call(n)==="[object Object]"?"":n};function Cve(t){const e=S.useRef(t),n=fT();return[()=>e.current,r=>{e.current=r,n()}]}function xve(t){var e=t.dropPosition,n=t.dropLevelOffset,r=t.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(e){case-1:a.top=0,a.left=-n*r;break;case 1:a.bottom=0,a.left=-n*r;break;case 0:a.bottom=0,a.left=r;break}return S.createElement("div",{style:a})}function Zk(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function Tve(t,e){var n=S.useState(!1),r=Ae(n,2),a=r[0],i=r[1];wr(function(){if(a)return t(),function(){e()}},[a]),wr(function(){return i(!0),function(){i(!1)}},[])}var wve=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Jk=function(e,n){var r=e.className,a=e.style,i=e.motion,o=e.motionNodes,s=e.motionType,l=e.onMotionStart,c=e.onMotionEnd,f=e.active,u=e.treeNodeRequiredProps,d=Tn(e,wve),g=S.useState(!0),v=Ae(g,2),m=v[0],p=v[1],h=S.useContext(VT),y=h.prefixCls,C=o&&s!=="hide";wr(function(){o&&C!==m&&p(C)},[o]);var x=function(){o&&l()},T=S.useRef(!1),w=function(){o&&!T.current&&(T.current=!0,c())};Tve(x,w);var b=function(O){C===O&&w()};return o?S.createElement(ks,tt({ref:n,visible:m},i,{motionAppear:s==="show",onVisibleChanged:b}),function(E,O){var D=E.className,R=E.style;return S.createElement("div",{ref:O,className:Se("".concat(y,"-treenode-motion"),D),style:R},o.map(function(I){var M=Object.assign({},(Zk(I.data),I.data)),A=I.title,B=I.key,L=I.isStart,F=I.isEnd;delete M.children;var _=_m(B,u);return S.createElement(D1,tt({},M,_,{title:A,active:f,data:I.data,key:B,isStart:L,isEnd:F}))}))}):S.createElement(D1,tt({domRef:n,className:r,style:a},d,{active:f}))};Jk.displayName="MotionTreeNode";var bve=S.forwardRef(Jk);function Eve(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.length,r=e.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function a(i,o){var s=new Map;i.forEach(function(c){s.set(c,!0)});var l=o.filter(function(c){return!s.has(c)});return l.length===1?l[0]:null}return n<r?{add:!0,key:a(t,e)}:{add:!1,key:a(e,t)}}function MI(t,e,n){var r=t.findIndex(function(s){return s.key===n}),a=t[r+1],i=e.findIndex(function(s){return s.key===n});if(a){var o=e.findIndex(function(s){return s.key===a.key});return e.slice(i+1,o)}return e.slice(i+1)}var Dve=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],PI={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ove=function(){},sf="RC_TREE_MOTION_".concat(Math.random()),S9={key:sf},eU={key:sf,level:0,index:0,pos:"0",node:S9,nodes:[S9]},LI={parent:null,children:[],pos:eU.pos,data:S9,title:null,key:sf,isStart:[],isEnd:[]};function _I(t,e,n,r){return e===!1||!n?t:t.slice(0,Math.ceil(n/r)+1)}function NI(t){var e=t.key,n=t.pos;return Cp(e,n)}function Rve(t){for(var e=String(t.data.key),n=t;n.parent;)n=n.parent,e="".concat(n.data.key," > ").concat(e);return e}var tU=S.forwardRef(function(t,e){var n=t.prefixCls,r=t.data;t.selectable,t.checkable;var a=t.expandedKeys,i=t.selectedKeys,o=t.checkedKeys,s=t.loadedKeys,l=t.loadingKeys,c=t.halfCheckedKeys,f=t.keyEntities,u=t.disabled,d=t.dragging,g=t.dragOverNodeKey,v=t.dropPosition,m=t.motion,p=t.height,h=t.itemHeight,y=t.virtual,C=t.focusable,x=t.activeItem,T=t.focused,w=t.tabIndex,b=t.onKeyDown,E=t.onFocus,O=t.onBlur,D=t.onActiveChange,R=t.onListChangeStart,I=t.onListChangeEnd,M=Tn(t,Dve),A=S.useRef(null),B=S.useRef(null);S.useImperativeHandle(e,function(){return{scrollTo:function(z){A.current.scrollTo(z)},getIndentWidth:function(){return B.current.offsetWidth}}});var L=S.useState(a),F=Ae(L,2),_=F[0],P=F[1],N=S.useState(r),k=Ae(N,2),H=k[0],K=k[1],te=S.useState(r),se=Ae(te,2),pe=se[0],ve=se[1],Te=S.useState([]),_e=Ae(Te,2),fe=_e[0],ce=_e[1],Ee=S.useState(null),we=Ae(Ee,2),he=we[0],Re=we[1],Pe=S.useRef(r);Pe.current=r;function We(){var Be=Pe.current;K(Be),ve(Be),ce([]),Re(null),I()}wr(function(){P(a);var Be=Eve(_,a);if(Be.key!==null)if(Be.add){var z=H.findIndex(function(Ue){var ze=Ue.key;return ze===Be.key}),Y=_I(MI(H,r,Be.key),y,p,h),ee=H.slice();ee.splice(z+1,0,LI),ve(ee),ce(Y),Re("show")}else{var j=r.findIndex(function(Ue){var ze=Ue.key;return ze===Be.key}),oe=_I(MI(r,H,Be.key),y,p,h),be=r.slice();be.splice(j+1,0,LI),ve(be),ce(oe),Re("hide")}else H!==r&&(K(r),ve(r))},[a,r]),S.useEffect(function(){d||We()},[d]);var Me=m?pe:r,Je={expandedKeys:a,selectedKeys:i,loadedKeys:s,loadingKeys:l,checkedKeys:o,halfCheckedKeys:c,dragOverNodeKey:g,dropPosition:v,keyEntities:f};return S.createElement(S.Fragment,null,T&&x&&S.createElement("span",{style:PI,"aria-live":"assertive"},Rve(x)),S.createElement("div",null,S.createElement("input",{style:PI,disabled:C===!1||u,tabIndex:C!==!1?w:null,onKeyDown:b,onFocus:E,onBlur:O,value:"",onChange:Ove,"aria-label":"for screen reader"})),S.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},S.createElement("div",{className:"".concat(n,"-indent")},S.createElement("div",{ref:B,className:"".concat(n,"-indent-unit")}))),S.createElement(M5,tt({},M,{data:Me,itemKey:NI,height:p,fullHeight:!1,virtual:y,itemHeight:h,prefixCls:"".concat(n,"-list"),ref:A,onVisibleChange:function(z){z.every(function(Y){return NI(Y)!==sf})&&We()}}),function(Be){var z=Be.pos,Y=Object.assign({},(Zk(Be.data),Be.data)),ee=Be.title,j=Be.key,oe=Be.isStart,be=Be.isEnd,Ue=Cp(j,z);delete Y.key,delete Y.children;var ze=_m(Ue,Je);return S.createElement(bve,tt({},Y,ze,{title:ee,active:!!x&&j===x.key,pos:z,data:Be.data,isStart:oe,isEnd:be,motion:m,motionNodes:j===sf?fe:null,motionType:he,onMotionStart:R,onMotionEnd:We,treeNodeRequiredProps:Je,onMouseMove:function(){D(null)}}))}))});tU.displayName="NodeList";var Ive=10,UT=function(t){ko(n,t);var e=Uo(n);function n(){var r;ua(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),J(dt(r),"destroyed",!1),J(dt(r),"delayedDragEnterLogic",void 0),J(dt(r),"loadingRetryTimes",{}),J(dt(r),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:b1()}),J(dt(r),"dragStartMousePosition",null),J(dt(r),"dragNode",void 0),J(dt(r),"currentMouseOverDroppableNodeKey",null),J(dt(r),"listRef",S.createRef()),J(dt(r),"onNodeDragStart",function(s,l){var c=r.state,f=c.expandedKeys,u=c.keyEntities,d=r.props.onDragStart,g=l.props.eventKey;r.dragNode=l,r.dragStartMousePosition={x:s.clientX,y:s.clientY};var v=qs(f,g);r.setState({draggingNodeKey:g,dragChildrenKeys:uve(g,u),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(v),window.addEventListener("dragend",r.onWindowDragEnd),d==null||d({event:s,node:Ba(l.props)})}),J(dt(r),"onNodeDragEnter",function(s,l){var c=r.state,f=c.expandedKeys,u=c.keyEntities,d=c.dragChildrenKeys,g=c.flattenNodes,v=c.indent,m=r.props,p=m.onDragEnter,h=m.onExpand,y=m.allowDrop,C=m.direction,x=l.props,T=x.pos,w=x.eventKey,b=dt(r),E=b.dragNode;if(r.currentMouseOverDroppableNodeKey!==w&&(r.currentMouseOverDroppableNodeKey=w),!E){r.resetDragState();return}var O=RI(s,E,l,v,r.dragStartMousePosition,y,g,u,f,C),D=O.dropPosition,R=O.dropLevelOffset,I=O.dropTargetKey,M=O.dropContainerKey,A=O.dropTargetPos,B=O.dropAllowed,L=O.dragOverNodeKey;if(d.indexOf(I)!==-1||!B){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(F){clearTimeout(r.delayedDragEnterLogic[F])}),E.props.eventKey!==l.props.eventKey&&(s.persist(),r.delayedDragEnterLogic[T]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var F=Ze(f),_=ao(u,l.props.eventKey);_&&(_.children||[]).length&&(F=A0(f,l.props.eventKey)),"expandedKeys"in r.props||r.setExpandedKeys(F),h==null||h(F,{node:Ba(l.props),expanded:!0,nativeEvent:s.nativeEvent})}},800)),E.props.eventKey===I&&R===0){r.resetDragState();return}r.setState({dragOverNodeKey:L,dropPosition:D,dropLevelOffset:R,dropTargetKey:I,dropContainerKey:M,dropTargetPos:A,dropAllowed:B}),p==null||p({event:s,node:Ba(l.props),expandedKeys:f})}),J(dt(r),"onNodeDragOver",function(s,l){var c=r.state,f=c.dragChildrenKeys,u=c.flattenNodes,d=c.keyEntities,g=c.expandedKeys,v=c.indent,m=r.props,p=m.onDragOver,h=m.allowDrop,y=m.direction,C=dt(r),x=C.dragNode;if(x){var T=RI(s,x,l,v,r.dragStartMousePosition,h,u,d,g,y),w=T.dropPosition,b=T.dropLevelOffset,E=T.dropTargetKey,O=T.dropContainerKey,D=T.dropAllowed,R=T.dropTargetPos,I=T.dragOverNodeKey;f.indexOf(E)!==-1||!D||(x.props.eventKey===E&&b===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():w===r.state.dropPosition&&b===r.state.dropLevelOffset&&E===r.state.dropTargetKey&&O===r.state.dropContainerKey&&R===r.state.dropTargetPos&&D===r.state.dropAllowed&&I===r.state.dragOverNodeKey||r.setState({dropPosition:w,dropLevelOffset:b,dropTargetKey:E,dropContainerKey:O,dropTargetPos:R,dropAllowed:D,dragOverNodeKey:I}),p==null||p({event:s,node:Ba(l.props)}))}}),J(dt(r),"onNodeDragLeave",function(s,l){r.currentMouseOverDroppableNodeKey===l.props.eventKey&&!s.currentTarget.contains(s.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var c=r.props.onDragLeave;c==null||c({event:s,node:Ba(l.props)})}),J(dt(r),"onWindowDragEnd",function(s){r.onNodeDragEnd(s,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)}),J(dt(r),"onNodeDragEnd",function(s,l){var c=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),c==null||c({event:s,node:Ba(l.props)}),r.dragNode=null,window.removeEventListener("dragend",r.onWindowDragEnd)}),J(dt(r),"onNodeDrop",function(s,l){var c,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=r.state,d=u.dragChildrenKeys,g=u.dropPosition,v=u.dropTargetKey,m=u.dropTargetPos,p=u.dropAllowed;if(p){var h=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),v!==null){var y=ie(ie({},_m(v,r.getTreeNodeRequiredProps())),{},{active:((c=r.getActiveItem())===null||c===void 0?void 0:c.key)===v,data:ao(r.state.keyEntities,v).node}),C=d.indexOf(v)!==-1;jr(!C,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var x=kT(m),T={event:s,node:Ba(y),dragNode:r.dragNode?Ba(r.dragNode.props):null,dragNodesKeys:[r.dragNode.props.eventKey].concat(d),dropToGap:g!==0,dropPosition:g+Number(x[x.length-1])};f||h==null||h(T),r.dragNode=null}}}),J(dt(r),"cleanDragState",function(){var s=r.state.draggingNodeKey;s!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null}),J(dt(r),"triggerExpandActionExpand",function(s,l){var c=r.state,f=c.expandedKeys,u=c.flattenNodes,d=l.expanded,g=l.key,v=l.isLeaf;if(!(v||s.shiftKey||s.metaKey||s.ctrlKey)){var m=u.filter(function(h){return h.key===g})[0],p=Ba(ie(ie({},_m(g,r.getTreeNodeRequiredProps())),{},{data:m.data}));r.setExpandedKeys(d?qs(f,g):A0(f,g)),r.onNodeExpand(s,p)}}),J(dt(r),"onNodeClick",function(s,l){var c=r.props,f=c.onClick,u=c.expandAction;u==="click"&&r.triggerExpandActionExpand(s,l),f==null||f(s,l)}),J(dt(r),"onNodeDoubleClick",function(s,l){var c=r.props,f=c.onDoubleClick,u=c.expandAction;u==="doubleClick"&&r.triggerExpandActionExpand(s,l),f==null||f(s,l)}),J(dt(r),"onNodeSelect",function(s,l){var c=r.state.selectedKeys,f=r.state,u=f.keyEntities,d=f.fieldNames,g=r.props,v=g.onSelect,m=g.multiple,p=l.selected,h=l[d.key],y=!p;y?m?c=A0(c,h):c=[h]:c=qs(c,h);var C=c.map(function(x){var T=ao(u,x);return T?T.node:null}).filter(function(x){return x});r.setUncontrolledState({selectedKeys:c}),v==null||v(c,{event:"select",selected:y,node:l,selectedNodes:C,nativeEvent:s.nativeEvent})}),J(dt(r),"onNodeCheck",function(s,l,c){var f=r.state,u=f.keyEntities,d=f.checkedKeys,g=f.halfCheckedKeys,v=r.props,m=v.checkStrictly,p=v.onCheck,h=l.key,y,C={event:"check",node:l,checked:c,nativeEvent:s.nativeEvent};if(m){var x=c?A0(d,h):qs(d,h),T=qs(g,h);y={checked:x,halfChecked:T},C.checkedNodes=x.map(function(R){return ao(u,R)}).filter(function(R){return R}).map(function(R){return R.node}),r.setUncontrolledState({checkedKeys:x})}else{var w=Bd([].concat(Ze(d),[h]),!0,u),b=w.checkedKeys,E=w.halfCheckedKeys;if(!c){var O=new Set(b);O.delete(h);var D=Bd(Array.from(O),{checked:!1,halfCheckedKeys:E},u);b=D.checkedKeys,E=D.halfCheckedKeys}y=b,C.checkedNodes=[],C.checkedNodesPositions=[],C.halfCheckedKeys=E,b.forEach(function(R){var I=ao(u,R);if(I){var M=I.node,A=I.pos;C.checkedNodes.push(M),C.checkedNodesPositions.push({node:M,pos:A})}}),r.setUncontrolledState({checkedKeys:b},!1,{halfCheckedKeys:E})}p==null||p(y,C)}),J(dt(r),"onNodeLoad",function(s){var l,c=s.key,f=r.state.keyEntities,u=ao(f,c);if(!(u!=null&&(l=u.children)!==null&&l!==void 0&&l.length)){var d=new Promise(function(g,v){r.setState(function(m){var p=m.loadedKeys,h=p===void 0?[]:p,y=m.loadingKeys,C=y===void 0?[]:y,x=r.props,T=x.loadData,w=x.onLoad;if(!T||h.indexOf(c)!==-1||C.indexOf(c)!==-1)return null;var b=T(s);return b.then(function(){var E=r.state.loadedKeys,O=A0(E,c);w==null||w(O,{event:"load",node:s}),r.setUncontrolledState({loadedKeys:O}),r.setState(function(D){return{loadingKeys:qs(D.loadingKeys,c)}}),g()}).catch(function(E){if(r.setState(function(D){return{loadingKeys:qs(D.loadingKeys,c)}}),r.loadingRetryTimes[c]=(r.loadingRetryTimes[c]||0)+1,r.loadingRetryTimes[c]>=Ive){var O=r.state.loadedKeys;jr(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:A0(O,c)}),g()}v(E)}),{loadingKeys:A0(C,c)}})});return d.catch(function(){}),d}}),J(dt(r),"onNodeMouseEnter",function(s,l){var c=r.props.onMouseEnter;c==null||c({event:s,node:l})}),J(dt(r),"onNodeMouseLeave",function(s,l){var c=r.props.onMouseLeave;c==null||c({event:s,node:l})}),J(dt(r),"onNodeContextMenu",function(s,l){var c=r.props.onRightClick;c&&(s.preventDefault(),c({event:s,node:l}))}),J(dt(r),"onFocus",function(){var s=r.props.onFocus;r.setState({focused:!0});for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];s==null||s.apply(void 0,c)}),J(dt(r),"onBlur",function(){var s=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];s==null||s.apply(void 0,c)}),J(dt(r),"getTreeNodeRequiredProps",function(){var s=r.state,l=s.expandedKeys,c=s.selectedKeys,f=s.loadedKeys,u=s.loadingKeys,d=s.checkedKeys,g=s.halfCheckedKeys,v=s.dragOverNodeKey,m=s.dropPosition,p=s.keyEntities;return{expandedKeys:l||[],selectedKeys:c||[],loadedKeys:f||[],loadingKeys:u||[],checkedKeys:d||[],halfCheckedKeys:g||[],dragOverNodeKey:v,dropPosition:m,keyEntities:p}}),J(dt(r),"setExpandedKeys",function(s){var l=r.state,c=l.treeData,f=l.fieldNames,u=q4(c,s,f);r.setUncontrolledState({expandedKeys:s,flattenNodes:u},!0)}),J(dt(r),"onNodeExpand",function(s,l){var c=r.state.expandedKeys,f=r.state,u=f.listChanging,d=f.fieldNames,g=r.props,v=g.onExpand,m=g.loadData,p=l.expanded,h=l[d.key];if(!u){var y=c.indexOf(h),C=!p;if(jr(p&&y!==-1||!p&&y===-1,"Expand state not sync with index check"),C?c=A0(c,h):c=qs(c,h),r.setExpandedKeys(c),v==null||v(c,{node:l,expanded:C,nativeEvent:s.nativeEvent}),C&&m){var x=r.onNodeLoad(l);x&&x.then(function(){var T=q4(r.state.treeData,c,d);r.setUncontrolledState({flattenNodes:T})}).catch(function(){var T=r.state.expandedKeys,w=qs(T,h);r.setExpandedKeys(w)})}}}),J(dt(r),"onListChangeStart",function(){r.setUncontrolledState({listChanging:!0})}),J(dt(r),"onListChangeEnd",function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})}),J(dt(r),"onActiveChange",function(s){var l=r.state.activeKey,c=r.props,f=c.onActiveChange,u=c.itemScrollOffset,d=u===void 0?0:u;l!==s&&(r.setState({activeKey:s}),s!==null&&r.scrollTo({key:s,offset:d}),f==null||f(s))}),J(dt(r),"getActiveItem",function(){var s=r.state,l=s.activeKey,c=s.flattenNodes;return l===null?null:c.find(function(f){var u=f.key;return u===l})||null}),J(dt(r),"offsetActiveKey",function(s){var l=r.state,c=l.flattenNodes,f=l.activeKey,u=c.findIndex(function(v){var m=v.key;return m===f});u===-1&&s<0&&(u=c.length),u=(u+s+c.length)%c.length;var d=c[u];if(d){var g=d.key;r.onActiveChange(g)}else r.onActiveChange(null)}),J(dt(r),"onKeyDown",function(s){var l=r.state,c=l.activeKey,f=l.expandedKeys,u=l.checkedKeys,d=l.fieldNames,g=r.props,v=g.onKeyDown,m=g.checkable,p=g.selectable;switch(s.which){case rt.UP:{r.offsetActiveKey(-1),s.preventDefault();break}case rt.DOWN:{r.offsetActiveKey(1),s.preventDefault();break}}var h=r.getActiveItem();if(h&&h.data){var y=r.getTreeNodeRequiredProps(),C=h.data.isLeaf===!1||!!(h.data[d.children]||[]).length,x=Ba(ie(ie({},_m(c,y)),{},{data:h.data,active:!0}));switch(s.which){case rt.LEFT:{C&&f.includes(c)?r.onNodeExpand({},x):h.parent&&r.onActiveChange(h.parent.key),s.preventDefault();break}case rt.RIGHT:{C&&!f.includes(c)?r.onNodeExpand({},x):h.children&&h.children.length&&r.onActiveChange(h.children[0].key),s.preventDefault();break}case rt.ENTER:case rt.SPACE:{m&&!x.disabled&&x.checkable!==!1&&!x.disableCheckbox?r.onNodeCheck({},x,!u.includes(c)):!m&&p&&!x.disabled&&x.selectable!==!1&&r.onNodeSelect({},x);break}}}v==null||v(s)}),J(dt(r),"setUncontrolledState",function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var f=!1,u=!0,d={};Object.keys(s).forEach(function(g){if(g in r.props){u=!1;return}f=!0,d[g]=s[g]}),f&&(!l||u)&&r.setState(ie(ie({},d),c))}}),J(dt(r),"scrollTo",function(s){r.listRef.current.scrollTo(s)}),r}return fa(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var a=this.props,i=a.activeKey,o=a.itemScrollOffset,s=o===void 0?0:o;i!==void 0&&i!==this.state.activeKey&&(this.setState({activeKey:i}),i!==null&&this.scrollTo({key:i,offset:s}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var a=this.state,i=a.focused,o=a.flattenNodes,s=a.keyEntities,l=a.draggingNodeKey,c=a.activeKey,f=a.dropLevelOffset,u=a.dropContainerKey,d=a.dropTargetKey,g=a.dropPosition,v=a.dragOverNodeKey,m=a.indent,p=this.props,h=p.prefixCls,y=p.className,C=p.style,x=p.showLine,T=p.focusable,w=p.tabIndex,b=w===void 0?0:w,E=p.selectable,O=p.showIcon,D=p.icon,R=p.switcherIcon,I=p.draggable,M=p.checkable,A=p.checkStrictly,B=p.disabled,L=p.motion,F=p.loadData,_=p.filterTreeNode,P=p.height,N=p.itemHeight,k=p.virtual,H=p.titleRender,K=p.dropIndicatorRender,te=p.onContextMenu,se=p.onScroll,pe=p.direction,ve=p.rootClassName,Te=p.rootStyle,_e=Pi(this.props,{aria:!0,data:!0}),fe;return I&&(qt(I)==="object"?fe=I:typeof I=="function"?fe={nodeDraggable:I}:fe={}),S.createElement(VT.Provider,{value:{prefixCls:h,selectable:E,showIcon:O,icon:D,switcherIcon:R,draggable:fe,draggingNodeKey:l,checkable:M,checkStrictly:A,disabled:B,keyEntities:s,dropLevelOffset:f,dropContainerKey:u,dropTargetKey:d,dropPosition:g,dragOverNodeKey:v,indent:m,direction:pe,dropIndicatorRender:K,loadData:F,filterTreeNode:_,titleRender:H,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},S.createElement("div",{role:"tree",className:Se(h,y,ve,J(J(J({},"".concat(h,"-show-line"),x),"".concat(h,"-focused"),i),"".concat(h,"-active-focused"),c!==null)),style:Te},S.createElement(tU,tt({ref:this.listRef,prefixCls:h,style:C,data:o,disabled:B,selectable:E,checkable:!!M,motion:L,dragging:l!==null,height:P,itemHeight:N,virtual:k,focusable:T,focused:i,tabIndex:b,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:te,onScroll:se},this.getTreeNodeRequiredProps(),_e))))}}],[{key:"getDerivedStateFromProps",value:function(a,i){var o=i.prevProps,s={prevProps:a};function l(b){return!o&&b in a||o&&o[b]!==a[b]}var c,f=i.fieldNames;if(l("fieldNames")&&(f=b1(a.fieldNames),s.fieldNames=f),l("treeData")?c=a.treeData:l("children")&&(jr(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),c=ak(a.children)),c){s.treeData=c;var u=OT(c,{fieldNames:f});s.keyEntities=ie(J({},sf,eU),u.keyEntities)}var d=s.keyEntities||i.keyEntities;if(l("expandedKeys")||o&&l("autoExpandParent"))s.expandedKeys=a.autoExpandParent||!o&&a.defaultExpandParent?m9(a.expandedKeys,d):a.expandedKeys;else if(!o&&a.defaultExpandAll){var g=ie({},d);delete g[sf];var v=[];Object.keys(g).forEach(function(b){var E=g[b];E.children&&E.children.length&&v.push(E.key)}),s.expandedKeys=v}else!o&&a.defaultExpandedKeys&&(s.expandedKeys=a.autoExpandParent||a.defaultExpandParent?m9(a.defaultExpandedKeys,d):a.defaultExpandedKeys);if(s.expandedKeys||delete s.expandedKeys,c||s.expandedKeys){var m=q4(c||i.treeData,s.expandedKeys||i.expandedKeys,f);s.flattenNodes=m}if(a.selectable&&(l("selectedKeys")?s.selectedKeys=II(a.selectedKeys,a):!o&&a.defaultSelectedKeys&&(s.selectedKeys=II(a.defaultSelectedKeys,a))),a.checkable){var p;if(l("checkedKeys")?p=t8(a.checkedKeys)||{}:!o&&a.defaultCheckedKeys?p=t8(a.defaultCheckedKeys)||{}:c&&(p=t8(a.checkedKeys)||{checkedKeys:i.checkedKeys,halfCheckedKeys:i.halfCheckedKeys}),p){var h=p,y=h.checkedKeys,C=y===void 0?[]:y,x=h.halfCheckedKeys,T=x===void 0?[]:x;if(!a.checkStrictly){var w=Bd(C,!0,d);C=w.checkedKeys,T=w.halfCheckedKeys}s.checkedKeys=C,s.halfCheckedKeys=T}}return l("loadedKeys")&&(s.loadedKeys=a.loadedKeys),s}}]),n}(S.Component);J(UT,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:xve,allowDrop:function(){return!0},expandAction:!1});J(UT,"TreeNode",D1);const Ave=new er("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Mve=(t,e)=>({[`.${t}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),Pve=(t,e)=>({[`.${t}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${xe(e.lineWidthBold)} solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Lve=(t,e)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:a,titleHeight:i,nodeSelectedBg:o,nodeHoverBg:s}=e,l=e.paddingXS;return{[n]:Object.assign(Object.assign({},aa(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},Dc(e)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:Ave,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[r]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${xe(a)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:{background:e.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:e.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:i,lineHeight:xe(i),textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${e.motionDurationSlow}`,[`${r}:hover &`]:{opacity:.45}},[`&${r}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:i}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:Object.assign(Object.assign({},Mve(t,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:i,margin:0,lineHeight:xe(i),textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${e.motionDurationSlow}`,marginInlineEnd:e.calc(e.calc(i).sub(e.controlInteractiveSize)).div(2).equal(),"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:i,height:i,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:e.colorBgTextHover},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(i).div(2).equal(),bottom:e.calc(a).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:e.calc(e.calc(i).div(2).equal()).mul(.8).equal(),height:e.calc(i).div(2).equal(),borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:l,alignSelf:"flex-start",marginTop:e.marginXXS},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:i,margin:0,padding:`0 ${xe(e.calc(e.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:xe(i),background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:s},[`&${n}-node-selected`]:{backgroundColor:o},[`${n}-iconEle`]:{display:"inline-block",width:i,height:i,lineHeight:xe(i),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:Object.assign({lineHeight:xe(i),userSelect:"none"},Pve(t,e)),[`${r}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${e.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(i).div(2).equal(),bottom:e.calc(a).mul(-1).equal(),borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${xe(e.calc(i).div(2).equal())} !important`}}}}})}},_ve=t=>{const{treeCls:e,treeNodeCls:n,treeNodePadding:r,directoryNodeSelectedBg:a,directoryNodeSelectedColor:i}=t;return{[`${e}${e}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,transition:`background-color ${t.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:t.controlItemBgHover}},"> *":{zIndex:1},[`${e}-switcher`]:{transition:`color ${t.motionDurationMid}`},[`${e}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${e}-node-selected`]:{color:i,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:a},[`${e}-switcher`]:{color:i},[`${e}-node-content-wrapper`]:{color:i,background:"transparent"}}}}}},Nve=(t,e)=>{const n=`.${t}`,r=`${n}-treenode`,a=e.calc(e.paddingXS).div(2).equal(),i=fr(e,{treeCls:n,treeNodeCls:r,treeNodePadding:a});return[Lve(t,i),_ve(i)]},Fve=t=>{const{controlHeightSM:e}=t;return{titleHeight:e,nodeHoverBg:t.controlItemBgHover,nodeSelectedBg:t.controlItemBgActive}},$ve=t=>{const{colorTextLightSolid:e,colorPrimary:n}=t;return Object.assign(Object.assign({},Fve(t)),{directoryNodeSelectedColor:e,directoryNodeSelectedBg:n})},Vve=ta("Tree",(t,e)=>{let{prefixCls:n}=e;return[{[t.componentCls]:ok(`${n}-checkbox`,t)},Nve(n,t),W7(t)]},$ve),FI=4;function kve(t){const{dropPosition:e,dropLevelOffset:n,prefixCls:r,indent:a,direction:i="ltr"}=t,o=i==="ltr"?"left":"right",s=i==="ltr"?"right":"left",l={[o]:-n*a+FI,[s]:0};switch(e){case-1:l.top=-3;break;case 1:l.bottom=-3;break;default:l.bottom=-3,l[o]=a+FI;break}return Oe.createElement("div",{style:l,className:`${r}-drop-indicator`})}const Uve=t=>{const{prefixCls:e,switcherIcon:n,treeNodeProps:r,showLine:a,switcherLoadingIcon:i}=t,{isLeaf:o,expanded:s,loading:l}=r;if(l)return S.isValidElement(i)?i:S.createElement(y1,{className:`${e}-switcher-loading-icon`});let c;if(a&&typeof a=="object"&&(c=a.showLeafIcon),o){if(!a)return null;if(typeof c!="boolean"&&c){const d=typeof c=="function"?c(r):c,g=`${e}-switcher-line-custom-icon`;return S.isValidElement(d)?Hi(d,{className:Se(d.props.className||"",g)}):d}return c?S.createElement(_k,{className:`${e}-switcher-line-icon`}):S.createElement("span",{className:`${e}-switcher-leaf-line`})}const f=`${e}-switcher-icon`,u=typeof n=="function"?n(r):n;return S.isValidElement(u)?Hi(u,{className:Se(u.props.className||"",f)}):u!==void 0?u:a?s?S.createElement(Uge,{className:`${e}-switcher-line-icon`}):S.createElement(Qge,{className:`${e}-switcher-line-icon`}):S.createElement(ige,{className:f})},nU=Oe.forwardRef((t,e)=>{var n;const{getPrefixCls:r,direction:a,virtual:i,tree:o}=Oe.useContext(cn),{prefixCls:s,className:l,showIcon:c=!1,showLine:f,switcherIcon:u,switcherLoadingIcon:d,blockNode:g=!1,children:v,checkable:m=!1,selectable:p=!0,draggable:h,motion:y,style:C}=t,x=r("tree",s),T=r(),w=y??Object.assign(Object.assign({},G7(T)),{motionAppear:!1}),b=Object.assign(Object.assign({},t),{checkable:m,selectable:p,showIcon:c,motion:w,blockNode:g,showLine:!!f,dropIndicatorRender:kve}),[E,O,D]=Vve(x),[,R]=Ti(),I=R.paddingXS/2+(((n=R.Tree)===null||n===void 0?void 0:n.titleHeight)||R.controlHeightSM),M=Oe.useMemo(()=>{if(!h)return!1;let B={};switch(typeof h){case"function":B.nodeDraggable=h;break;case"object":B=Object.assign({},h);break}return B.icon!==!1&&(B.icon=B.icon||Oe.createElement(_ge,null)),B},[h]),A=B=>Oe.createElement(Uve,{prefixCls:x,switcherIcon:u,switcherLoadingIcon:d,treeNodeProps:B,showLine:f});return E(Oe.createElement(UT,Object.assign({itemHeight:I,ref:e,virtual:i},b,{style:Object.assign(Object.assign({},o==null?void 0:o.style),C),prefixCls:x,className:Se({[`${x}-icon-hide`]:!c,[`${x}-block-node`]:g,[`${x}-unselectable`]:!p,[`${x}-rtl`]:a==="rtl"},o==null?void 0:o.className,l,O,D),direction:a,checkable:m&&Oe.createElement("span",{className:`${x}-checkbox-inner`}),selectable:p,switcherIcon:A,draggable:M}),v))}),$I=0,n8=1,VI=2;function BT(t,e,n){const{key:r,children:a}=n;function i(o){const s=o[r],l=o[a];e(s,o)!==!1&&BT(l||[],e,n)}t.forEach(i)}function Bve(t){let{treeData:e,expandedKeys:n,startKey:r,endKey:a,fieldNames:i}=t;const o=[];let s=$I;if(r&&r===a)return[r];if(!r||!a)return[];function l(c){return c===r||c===a}return BT(e,c=>{if(s===VI)return!1;if(l(c)){if(o.push(c),s===$I)s=n8;else if(s===n8)return s=VI,!1}else s===n8&&o.push(c);return n.includes(c)},b1(i)),o}function r8(t,e,n){const r=Ze(e),a=[];return BT(t,(i,o)=>{const s=r.indexOf(i);return s!==-1&&(a.push(o),r.splice(s,1)),!!r.length},b1(n)),a}var kI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function Gve(t){const{isLeaf:e,expanded:n}=t;return e?S.createElement(_k,null):n?S.createElement(Rge,null):S.createElement(Mge,null)}function UI(t){let{treeData:e,children:n}=t;return e||ak(n)}const zve=(t,e)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:a}=t,i=kI(t,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const o=S.useRef(),s=S.useRef(),l=()=>{const{keyEntities:E}=OT(UI(i));let O;return n?O=Object.keys(E):r?O=m9(i.expandedKeys||a||[],E):O=i.expandedKeys||a||[],O},[c,f]=S.useState(i.selectedKeys||i.defaultSelectedKeys||[]),[u,d]=S.useState(()=>l());S.useEffect(()=>{"selectedKeys"in i&&f(i.selectedKeys)},[i.selectedKeys]),S.useEffect(()=>{"expandedKeys"in i&&d(i.expandedKeys)},[i.expandedKeys]);const g=(E,O)=>{var D;return"expandedKeys"in i||d(E),(D=i.onExpand)===null||D===void 0?void 0:D.call(i,E,O)},v=(E,O)=>{var D;const{multiple:R,fieldNames:I}=i,{node:M,nativeEvent:A}=O,{key:B=""}=M,L=UI(i),F=Object.assign(Object.assign({},O),{selected:!0}),_=(A==null?void 0:A.ctrlKey)||(A==null?void 0:A.metaKey),P=A==null?void 0:A.shiftKey;let N;R&&_?(N=E,o.current=B,s.current=N,F.selectedNodes=r8(L,N,I)):R&&P?(N=Array.from(new Set([].concat(Ze(s.current||[]),Ze(Bve({treeData:L,expandedKeys:u,startKey:B,endKey:o.current,fieldNames:I}))))),F.selectedNodes=r8(L,N,I)):(N=[B],o.current=B,s.current=N,F.selectedNodes=r8(L,N,I)),(D=i.onSelect)===null||D===void 0||D.call(i,N,F),"selectedKeys"in i||f(N)},{getPrefixCls:m,direction:p}=S.useContext(cn),{prefixCls:h,className:y,showIcon:C=!0,expandAction:x="click"}=i,T=kI(i,["prefixCls","className","showIcon","expandAction"]),w=m("tree",h),b=Se(`${w}-directory`,{[`${w}-directory-rtl`]:p==="rtl"},y);return S.createElement(nU,Object.assign({icon:Gve,ref:e,blockNode:!0},T,{showIcon:C,expandAction:x,prefixCls:w,className:b,expandedKeys:u,selectedKeys:c,onSelect:v,onExpand:g}))},Wve=S.forwardRef(zve),GT=nU;GT.DirectoryTree=Wve;GT.TreeNode=D1;const BI=t=>{const{value:e,filterSearch:n,tablePrefixCls:r,locale:a,onChange:i}=t;return n?S.createElement("div",{className:`${r}-filter-dropdown-search`},S.createElement(wf,{prefix:S.createElement(uT,null),placeholder:a.filterSearchPlaceholder,onChange:i,value:e,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},jve=t=>{const{keyCode:e}=t;e===rt.ENTER&&t.stopPropagation()},Hve=S.forwardRef((t,e)=>S.createElement("div",{className:t.className,onClick:n=>n.stopPropagation(),onKeyDown:jve,ref:e},t.children));function Gd(t){let e=[];return(t||[]).forEach(n=>{let{value:r,children:a}=n;e.push(r),a&&(e=[].concat(Ze(e),Ze(Gd(a))))}),e}function qve(t){return t.some(e=>{let{children:n}=e;return n})}function rU(t,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(t.trim().toLowerCase()):!1}function aU(t){let{filters:e,prefixCls:n,filteredKeys:r,filterMultiple:a,searchValue:i,filterSearch:o}=t;return e.map((s,l)=>{const c=String(s.value);if(s.children)return{key:c||l,label:s.text,popupClassName:`${n}-dropdown-submenu`,children:aU({filters:s.children,prefixCls:n,filteredKeys:r,filterMultiple:a,searchValue:i,filterSearch:o})};const f=a?E1:B0,u={key:s.value!==void 0?c:l,label:S.createElement(S.Fragment,null,S.createElement(f,{checked:r.includes(c)}),S.createElement("span",null,s.text))};return i.trim()?typeof o=="function"?o(i,s)?u:null:rU(i,s.text)?u:null:u})}function a8(t){return t||[]}const Kve=t=>{var e,n;const{tablePrefixCls:r,prefixCls:a,column:i,dropdownPrefixCls:o,columnKey:s,filterOnClose:l,filterMultiple:c,filterMode:f="menu",filterSearch:u=!1,filterState:d,triggerFilter:g,locale:v,children:m,getPopupContainer:p,rootClassName:h}=t,{filterDropdownOpen:y,onFilterDropdownOpenChange:C,filterResetToDefaultFilteredValue:x,defaultFilteredValue:T,filterDropdownVisible:w,onFilterDropdownVisibleChange:b}=i,[E,O]=S.useState(!1),D=!!(d&&(!((e=d.filteredKeys)===null||e===void 0)&&e.length||d.forceFiltered)),R=Me=>{O(Me),C==null||C(Me),b==null||b(Me)},I=(n=y??w)!==null&&n!==void 0?n:E,M=d==null?void 0:d.filteredKeys,[A,B]=Cve(a8(M)),L=Me=>{let{selectedKeys:Je}=Me;B(Je)},F=(Me,Je)=>{let{node:Be,checked:z}=Je;L(c?{selectedKeys:Me}:{selectedKeys:z&&Be.key?[Be.key]:[]})};S.useEffect(()=>{E&&L({selectedKeys:a8(M)})},[M]);const[_,P]=S.useState([]),N=Me=>{P(Me)},[k,H]=S.useState(""),K=Me=>{const{value:Je}=Me.target;H(Je)};S.useEffect(()=>{E||H("")},[E]);const te=Me=>{const Je=Me!=null&&Me.length?Me:null;if(Je===null&&(!d||!d.filteredKeys)||_s(Je,d==null?void 0:d.filteredKeys,!0))return null;g({column:i,key:s,filteredKeys:Je})},se=()=>{R(!1),te(A())},pe=function(){let{confirm:Me,closeDropdown:Je}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};Me&&te([]),Je&&R(!1),H(""),B(x?(T||[]).map(Be=>String(Be)):[])},ve=function(){let{closeDropdown:Me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Me&&R(!1),te(A())},Te=(Me,Je)=>{Je.source==="trigger"&&(Me&&M!==void 0&&B(a8(M)),R(Me),!Me&&!i.filterDropdown&&l&&se())},_e=Se({[`${o}-menu-without-submenu`]:!qve(i.filters||[])}),fe=Me=>{if(Me.target.checked){const Je=Gd(i==null?void 0:i.filters).map(Be=>String(Be));B(Je)}else B([])},ce=Me=>{let{filters:Je}=Me;return(Je||[]).map((Be,z)=>{const Y=String(Be.value),ee={title:Be.text,key:Be.value!==void 0?Y:String(z)};return Be.children&&(ee.children=ce({filters:Be.children})),ee})},Ee=Me=>{var Je;return Object.assign(Object.assign({},Me),{text:Me.title,value:Me.key,children:((Je=Me.children)===null||Je===void 0?void 0:Je.map(Be=>Ee(Be)))||[]})};let we;const{direction:he,renderEmpty:Re}=S.useContext(cn);if(typeof i.filterDropdown=="function")we=i.filterDropdown({prefixCls:`${o}-custom`,setSelectedKeys:Me=>L({selectedKeys:Me}),selectedKeys:A(),confirm:ve,clearFilters:pe,filters:i.filters,visible:I,close:()=>{R(!1)}});else if(i.filterDropdown)we=i.filterDropdown;else{const Me=A()||[],Je=()=>{var z;const Y=(z=Re==null?void 0:Re("Table.filter"))!==null&&z!==void 0?z:S.createElement(F0,{image:F0.PRESENTED_IMAGE_SIMPLE,description:v.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}});if((i.filters||[]).length===0)return Y;if(f==="tree")return S.createElement(S.Fragment,null,S.createElement(BI,{filterSearch:u,value:k,onChange:K,tablePrefixCls:r,locale:v}),S.createElement("div",{className:`${r}-filter-dropdown-tree`},c?S.createElement(E1,{checked:Me.length===Gd(i.filters).length,indeterminate:Me.length>0&&Me.length<Gd(i.filters).length,className:`${r}-filter-dropdown-checkall`,onChange:fe},v.filterCheckall):null,S.createElement(GT,{checkable:!0,selectable:!1,blockNode:!0,multiple:c,checkStrictly:!c,className:`${o}-menu`,onCheck:F,checkedKeys:Me,selectedKeys:Me,showIcon:!1,treeData:ce({filters:i.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:k.trim()?oe=>typeof u=="function"?u(k,Ee(oe)):rU(k,oe.title):void 0})));const ee=aU({filters:i.filters||[],filterSearch:u,prefixCls:a,filteredKeys:A(),filterMultiple:c,searchValue:k}),j=ee.every(oe=>oe===null);return S.createElement(S.Fragment,null,S.createElement(BI,{filterSearch:u,value:k,onChange:K,tablePrefixCls:r,locale:v}),j?Y:S.createElement(tg,{selectable:!0,multiple:c,prefixCls:`${o}-menu`,className:_e,onSelect:L,onDeselect:L,selectedKeys:Me,getPopupContainer:p,openKeys:_,onOpenChange:N,items:ee}))},Be=()=>x?_s((T||[]).map(z=>String(z)),Me,!0):Me.length===0;we=S.createElement(S.Fragment,null,Je(),S.createElement("div",{className:`${a}-dropdown-btns`},S.createElement(ji,{type:"link",size:"small",disabled:Be(),onClick:()=>pe()},v.filterReset),S.createElement(ji,{type:"primary",size:"small",onClick:se},v.filterConfirm)))}i.filterDropdown&&(we=S.createElement(QV,{selectable:void 0},we));const Pe=()=>S.createElement(Hve,{className:`${a}-dropdown`},we);let We;return typeof i.filterIcon=="function"?We=i.filterIcon(D):i.filterIcon?We=i.filterIcon:We=S.createElement(Ege,null),S.createElement("div",{className:`${a}-column`},S.createElement("span",{className:`${r}-column-title`},m),S.createElement(IT,{dropdownRender:Pe,trigger:["click"],open:I,onOpenChange:Te,getPopupContainer:p,placement:he==="rtl"?"bottomLeft":"bottomRight",rootClassName:h},S.createElement("span",{role:"button",tabIndex:-1,className:Se(`${a}-trigger`,{active:D}),onClick:Me=>{Me.stopPropagation()}},We)))},y9=(t,e,n)=>{let r=[];return(t||[]).forEach((a,i)=>{var o;const s=ig(i,n);if(a.filters||"filterDropdown"in a||"onFilter"in a)if("filteredValue"in a){let l=a.filteredValue;"filterDropdown"in a||(l=(o=l==null?void 0:l.map(String))!==null&&o!==void 0?o:l),r.push({column:a,key:Oc(a,s),filteredKeys:l,forceFiltered:a.filtered})}else r.push({column:a,key:Oc(a,s),filteredKeys:e&&a.defaultFilteredValue?a.defaultFilteredValue:void 0,forceFiltered:a.filtered});"children"in a&&(r=[].concat(Ze(r),Ze(y9(a.children,e,s))))}),r};function iU(t,e,n,r,a,i,o,s,l){return n.map((c,f)=>{const u=ig(f,s),{filterOnClose:d=!0,filterMultiple:g=!0,filterMode:v,filterSearch:m}=c;let p=c;if(p.filters||p.filterDropdown){const h=Oc(p,u),y=r.find(C=>{let{key:x}=C;return h===x});p=Object.assign(Object.assign({},p),{title:C=>S.createElement(Kve,{tablePrefixCls:t,prefixCls:`${t}-filter`,dropdownPrefixCls:e,column:p,columnKey:h,filterState:y,filterOnClose:d,filterMultiple:g,filterMode:v,filterSearch:m,triggerFilter:i,locale:a,getPopupContainer:o,rootClassName:l},j5(c.title,C))})}return"children"in p&&(p=Object.assign(Object.assign({},p),{children:iU(t,e,p.children,r,a,i,o,u,l)})),p})}const GI=t=>{const e={};return t.forEach(n=>{let{key:r,filteredKeys:a,column:i}=n;const o=r,{filters:s,filterDropdown:l}=i;if(l)e[o]=a||null;else if(Array.isArray(a)){const c=Gd(s);e[o]=c.filter(f=>a.includes(String(f)))}else e[o]=null}),e},C9=(t,e,n)=>e.reduce((a,i)=>{const{column:{onFilter:o,filters:s},filteredKeys:l}=i;return o&&l&&l.length?a.map(c=>Object.assign({},c)).filter(c=>l.some(f=>{const u=Gd(s),d=u.findIndex(v=>String(v)===String(f)),g=d!==-1?u[d]:f;return c[n]&&(c[n]=C9(c[n],e,n)),o(g,c)})):a},t),oU=t=>t.flatMap(e=>"children"in e?[e].concat(Ze(oU(e.children||[]))):[e]),Qve=t=>{const{prefixCls:e,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:a,getPopupContainer:i,locale:o,rootClassName:s}=t;Tf();const l=S.useMemo(()=>oU(r||[]),[r]),[c,f]=S.useState(()=>y9(l,!0)),u=S.useMemo(()=>{const m=y9(l,!1);if(m.length===0)return m;let p=!0;if(m.forEach(h=>{let{filteredKeys:y}=h;y!==void 0&&(p=!1)}),p){const h=(l||[]).map((y,C)=>Oc(y,ig(C)));return c.filter(y=>{let{key:C}=y;return h.includes(C)}).map(y=>{const C=l[h.findIndex(x=>x===y.key)];return Object.assign(Object.assign({},y),{column:Object.assign(Object.assign({},y.column),C),forceFiltered:C.filtered})})}return m},[l,c]),d=S.useMemo(()=>GI(u),[u]),g=m=>{const p=u.filter(h=>{let{key:y}=h;return y!==m.key});p.push(m),f(p),a(GI(p),p)};return[m=>iU(e,n,m,u,o,g,i,void 0,s),u,d]},Xve=(t,e,n)=>{const r=S.useRef({});function a(i){var o;if(!r.current||r.current.data!==t||r.current.childrenColumnName!==e||r.current.getRowKey!==n){let l=function(c){c.forEach((f,u)=>{const d=n(f,u);s.set(d,f),f&&typeof f=="object"&&e in f&&l(f[e]||[])})};const s=new Map;l(t),r.current={data:t,childrenColumnName:e,kvMap:s,getRowKey:n}}return(o=r.current.kvMap)===null||o===void 0?void 0:o.get(i)}return[a]};var Yve=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const sU=10;function Zve(t,e){const n={current:t.current,pageSize:t.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(a=>{const i=t[a];typeof i!="function"&&(n[a]=i)}),n}function Jve(t,e,n){const r=n&&typeof n=="object"?n:{},{total:a=0}=r,i=Yve(r,["total"]),[o,s]=S.useState(()=>({current:"defaultCurrent"in i?i.defaultCurrent:1,pageSize:"defaultPageSize"in i?i.defaultPageSize:sU})),l=xk(o,i,{total:a>0?a:t}),c=Math.ceil((a||t)/l.pageSize);l.current>c&&(l.current=c||1);const f=(d,g)=>{s({current:d??1,pageSize:g||l.pageSize})},u=(d,g)=>{var v;n&&((v=n.onChange)===null||v===void 0||v.call(n,d,g)),f(d,g),e(d,g||(l==null?void 0:l.pageSize))};return n===!1?[{},()=>{}]:[Object.assign(Object.assign({},l),{onChange:u}),f]}const b2="ascend",i8="descend",qS=t=>typeof t.sorter=="object"&&typeof t.sorter.multiple=="number"?t.sorter.multiple:!1,zI=t=>typeof t=="function"?t:t&&typeof t=="object"&&t.compare?t.compare:!1,epe=(t,e)=>e?t[t.indexOf(e)+1]:t[0],x9=(t,e,n)=>{let r=[];const a=(i,o)=>{r.push({column:i,key:Oc(i,o),multiplePriority:qS(i),sortOrder:i.sortOrder})};return(t||[]).forEach((i,o)=>{const s=ig(o,n);i.children?("sortOrder"in i&&a(i,s),r=[].concat(Ze(r),Ze(x9(i.children,e,s)))):i.sorter&&("sortOrder"in i?a(i,s):e&&i.defaultSortOrder&&r.push({column:i,key:Oc(i,s),multiplePriority:qS(i),sortOrder:i.defaultSortOrder}))}),r},lU=(t,e,n,r,a,i,o,s)=>(e||[]).map((c,f)=>{const u=ig(f,s);let d=c;if(d.sorter){const g=d.sortDirections||a,v=d.showSorterTooltip===void 0?o:d.showSorterTooltip,m=Oc(d,u),p=n.find(O=>{let{key:D}=O;return D===m}),h=p?p.sortOrder:null,y=epe(g,h);let C;if(c.sortIcon)C=c.sortIcon({sortOrder:h});else{const O=g.includes(b2)&&S.createElement(fge,{className:Se(`${t}-column-sorter-up`,{active:h===b2})}),D=g.includes(i8)&&S.createElement(lge,{className:Se(`${t}-column-sorter-down`,{active:h===i8})});C=S.createElement("span",{className:Se(`${t}-column-sorter`,{[`${t}-column-sorter-full`]:!!(O&&D)})},S.createElement("span",{className:`${t}-column-sorter-inner`,"aria-hidden":"true"},O,D))}const{cancelSort:x,triggerAsc:T,triggerDesc:w}=i||{};let b=x;y===i8?b=w:y===b2&&(b=T);const E=typeof v=="object"?Object.assign({title:b},v):{title:b};d=Object.assign(Object.assign({},d),{className:Se(d.className,{[`${t}-column-sort`]:h}),title:O=>{const D=`${t}-column-sorters`,R=S.createElement("span",{className:`${t}-column-title`},j5(c.title,O)),I=S.createElement("div",{className:D},R,C);return v?typeof v!="boolean"&&(v==null?void 0:v.target)==="sorter-icon"?S.createElement("div",{className:`${D} ${t}-column-sorters-tooltip-target-sorter`},R,S.createElement(of,Object.assign({},E),C)):S.createElement(of,Object.assign({},E),I):I},onHeaderCell:O=>{var D;const R=((D=c.onHeaderCell)===null||D===void 0?void 0:D.call(c,O))||{},I=R.onClick,M=R.onKeyDown;R.onClick=L=>{r({column:c,key:m,sortOrder:y,multiplePriority:qS(c)}),I==null||I(L)},R.onKeyDown=L=>{L.keyCode===rt.ENTER&&(r({column:c,key:m,sortOrder:y,multiplePriority:qS(c)}),M==null||M(L))};const A=yve(c.title,{}),B=A==null?void 0:A.toString();return h?R["aria-sort"]=h==="ascend"?"ascending":"descending":R["aria-label"]=B||"",R.className=Se(R.className,`${t}-column-has-sorters`),R.tabIndex=0,c.ellipsis&&(R.title=(A??"").toString()),R}})}return"children"in d&&(d=Object.assign(Object.assign({},d),{children:lU(t,d.children,n,r,a,i,o,u)})),d}),WI=t=>{const{column:e,sortOrder:n}=t;return{column:e,order:n,field:e.dataIndex,columnKey:e.key}},jI=t=>{const e=t.filter(n=>{let{sortOrder:r}=n;return r}).map(WI);if(e.length===0&&t.length){const n=t.length-1;return Object.assign(Object.assign({},WI(t[n])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return e.length<=1?e[0]||{}:e},T9=(t,e,n)=>{const r=e.slice().sort((o,s)=>s.multiplePriority-o.multiplePriority),a=t.slice(),i=r.filter(o=>{let{column:{sorter:s},sortOrder:l}=o;return zI(s)&&l});return i.length?a.sort((o,s)=>{for(let l=0;l<i.length;l+=1){const c=i[l],{column:{sorter:f},sortOrder:u}=c,d=zI(f);if(d&&u){const g=d(o,s,u);if(g!==0)return u===b2?g:-g}}return 0}).map(o=>{const s=o[n];return s?Object.assign(Object.assign({},o),{[n]:T9(s,e,n)}):o}):a},tpe=t=>{const{prefixCls:e,mergedColumns:n,sortDirections:r,tableLocale:a,showSorterTooltip:i,onSorterChange:o}=t,[s,l]=S.useState(x9(n,!0)),c=(m,p)=>{const h=[];return m.forEach((y,C)=>{const x=ig(C,p);if(h.push(Oc(y,x)),Array.isArray(y.children)){const T=c(y.children,x);h.push.apply(h,Ze(T))}}),h},f=S.useMemo(()=>{let m=!0;const p=x9(n,!1);if(!p.length){const x=c(n);return s.filter(T=>{let{key:w}=T;return x.includes(w)})}const h=[];function y(x){m?h.push(x):h.push(Object.assign(Object.assign({},x),{sortOrder:null}))}let C=null;return p.forEach(x=>{C===null?(y(x),x.sortOrder&&(x.multiplePriority===!1?m=!1:C=!0)):(C&&x.multiplePriority!==!1||(m=!1),y(x))}),h},[n,s]),u=S.useMemo(()=>{var m,p;const h=f.map(y=>{let{column:C,sortOrder:x}=y;return{column:C,order:x}});return{sortColumns:h,sortColumn:(m=h[0])===null||m===void 0?void 0:m.column,sortOrder:(p=h[0])===null||p===void 0?void 0:p.order}},[f]),d=m=>{let p;m.multiplePriority===!1||!f.length||f[0].multiplePriority===!1?p=[m]:p=[].concat(Ze(f.filter(h=>{let{key:y}=h;return y!==m.key})),[m]),l(p),o(jI(p),p)};return[m=>lU(e,m,f,d,r,a,i),f,u,()=>jI(f)]},cU=(t,e)=>t.map(r=>{const a=Object.assign({},r);return a.title=j5(r.title,e),"children"in a&&(a.children=cU(a.children,e)),a}),npe=t=>[S.useCallback(n=>cU(n,t),[t])],rpe=Kk((t,e)=>{const{_renderTimes:n}=t,{_renderTimes:r}=e;return n!==r}),ape=Xk((t,e)=>{const{_renderTimes:n}=t,{_renderTimes:r}=e;return n!==r}),ipe=t=>{const{componentCls:e,lineWidth:n,lineType:r,tableBorderColor:a,tableHeaderBg:i,tablePaddingVertical:o,tablePaddingHorizontal:s,calc:l}=t,c=`${xe(n)} ${r} ${a}`,f=(u,d,g)=>({[`&${e}-${u}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${e}-expanded-row-fixed`]:{margin:`${xe(l(d).mul(-1).equal())}
              ${xe(l(l(g).add(n)).mul(-1).equal())}`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${e}-title`]:{border:c,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:c,borderTop:c,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${e}-expanded-row-fixed`]:{margin:`${xe(l(o).mul(-1).equal())} ${xe(l(l(s).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:c,content:'""'}}}}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},f("middle",t.tablePaddingVerticalMiddle,t.tablePaddingHorizontalMiddle)),f("small",t.tablePaddingVerticalSmall,t.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:c,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${xe(n)} 0 ${xe(n)} ${i}`}},[`${e}-bordered ${e}-cell-scrollbar`]:{borderInlineEnd:c}}}},ope=t=>{const{componentCls:e}=t;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:Object.assign(Object.assign({},nf),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},spe=t=>{const{componentCls:e}=t;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:t.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:t.colorBgContainer}}}}},lpe=t=>{const{componentCls:e,antCls:n,motionDurationSlow:r,lineWidth:a,paddingXS:i,lineType:o,tableBorderColor:s,tableExpandIconBg:l,tableExpandColumnWidth:c,borderRadius:f,tablePaddingVertical:u,tablePaddingHorizontal:d,tableExpandedRowBg:g,paddingXXS:v,expandIconMarginTop:m,expandIconSize:p,expandIconHalfInner:h,expandIconScale:y,calc:C}=t,x=`${xe(a)} ${o} ${s}`,T=C(v).sub(a).equal();return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:c},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:Object.assign(Object.assign({},Yte(t)),{position:"relative",float:"left",width:p,height:p,color:"inherit",lineHeight:xe(p),background:l,border:x,borderRadius:f,transform:`scale(${y})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:h,insetInlineEnd:T,insetInlineStart:T,height:a},"&::after":{top:T,bottom:T,insetInlineStart:h,width:a,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:m,marginInlineEnd:i},[`tr${e}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:g}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`${xe(C(u).mul(-1).equal())} ${xe(C(d).mul(-1).equal())}`,padding:`${xe(u)} ${xe(d)}`}}}},cpe=t=>{const{componentCls:e,antCls:n,iconCls:r,tableFilterDropdownWidth:a,tableFilterDropdownSearchWidth:i,paddingXXS:o,paddingXS:s,colorText:l,lineWidth:c,lineType:f,tableBorderColor:u,headerIconColor:d,fontSizeSM:g,tablePaddingHorizontal:v,borderRadius:m,motionDurationSlow:p,colorTextDescription:h,colorPrimary:y,tableHeaderFilterActiveBg:C,colorTextDisabled:x,tableFilterDropdownBg:T,tableFilterDropdownHeight:w,controlItemBgHover:b,controlItemBgActive:E,boxShadowSecondary:O,filterDropdownMenuBg:D,calc:R}=t,I=`${n}-dropdown`,M=`${e}-filter-dropdown`,A=`${n}-tree`,B=`${xe(c)} ${f} ${u}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:R(o).mul(-1).equal(),marginInline:`${xe(o)} ${xe(R(v).div(2).mul(-1).equal())}`,padding:`0 ${xe(o)}`,color:d,fontSize:g,borderRadius:m,cursor:"pointer",transition:`all ${p}`,"&:hover":{color:h,background:C},"&.active":{color:y}}}},{[`${n}-dropdown`]:{[M]:Object.assign(Object.assign({},aa(t)),{minWidth:a,backgroundColor:T,borderRadius:m,boxShadow:O,overflow:"hidden",[`${I}-menu`]:{maxHeight:w,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:D,"&:empty::after":{display:"block",padding:`${xe(s)} 0`,color:x,fontSize:g,textAlign:"center",content:'"Not Found"'}},[`${M}-tree`]:{paddingBlock:`${xe(s)} 0`,paddingInline:s,[A]:{padding:0},[`${A}-treenode ${A}-node-content-wrapper:hover`]:{backgroundColor:b},[`${A}-treenode-checkbox-checked ${A}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:E}}},[`${M}-search`]:{padding:s,borderBottom:B,"&-input":{input:{minWidth:i},[r]:{color:x}}},[`${M}-checkall`]:{width:"100%",marginBottom:o,marginInlineStart:o},[`${M}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${xe(R(s).sub(c).equal())} ${xe(s)}`,overflow:"hidden",borderTop:B}})}},{[`${n}-dropdown ${M}, ${M}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:s,color:l},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},upe=t=>{const{componentCls:e,lineWidth:n,colorSplit:r,motionDurationSlow:a,zIndexTableFixed:i,tableBg:o,zIndexTableSticky:s,calc:l}=t,c=r;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:i,background:o},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:l(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${a}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:l(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${a}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:l(s).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${a}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${c}`},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`${e}-fixed-column-gapped`]:{[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after,
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},fpe=t=>{const{componentCls:e,antCls:n,margin:r}=t;return{[`${e}-wrapper`]:{[`${e}-pagination${n}-pagination`]:{margin:`${xe(r)} 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:t.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},dpe=t=>{const{componentCls:e,tableRadius:n}=t;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${xe(n)} ${xe(n)} 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${e}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${xe(n)} ${xe(n)}`}}}}},gpe=t=>{const{componentCls:e}=t;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${e}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${e}-row-indent`]:{float:"right"}}}}},mpe=t=>{const{componentCls:e,antCls:n,iconCls:r,fontSizeIcon:a,padding:i,paddingXS:o,headerIconColor:s,headerIconHoverColor:l,tableSelectionColumnWidth:c,tableSelectedRowBg:f,tableSelectedRowHoverBg:u,tableRowHoverBg:d,tablePaddingHorizontal:g,calc:v}=t;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:c,[`&${e}-selection-col-with-dropdown`]:{width:v(c).add(a).add(v(i).div(4)).equal()}},[`${e}-bordered ${e}-selection-col`]:{width:v(c).add(v(o).mul(2)).equal(),[`&${e}-selection-col-with-dropdown`]:{width:v(c).add(a).add(v(i).div(4)).add(v(o).mul(2)).equal()}},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column,
        ${e}-selection-column
      `]:{paddingInlineEnd:t.paddingXS,paddingInlineStart:t.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:v(t.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:xe(v(g).div(4).equal()),[r]:{color:s,fontSize:a,verticalAlign:"baseline","&:hover":{color:l}}},[`${e}-tbody`]:{[`${e}-row`]:{[`&${e}-row-selected`]:{[`> ${e}-cell`]:{background:f,"&-row-hover":{background:u}}},[`> ${e}-cell-row-hover`]:{background:d}}}}}},vpe=t=>{const{componentCls:e,tableExpandColumnWidth:n,calc:r}=t,a=(i,o,s,l)=>({[`${e}${e}-${i}`]:{fontSize:l,[`
        ${e}-title,
        ${e}-footer,
        ${e}-cell,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${xe(o)} ${xe(s)}`},[`${e}-filter-trigger`]:{marginInlineEnd:xe(r(s).div(2).mul(-1).equal())},[`${e}-expanded-row-fixed`]:{margin:`${xe(r(o).mul(-1).equal())} ${xe(r(s).mul(-1).equal())}`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:xe(r(o).mul(-1).equal()),marginInline:`${xe(r(n).sub(s).equal())} ${xe(r(s).mul(-1).equal())}`}},[`${e}-selection-extra`]:{paddingInlineStart:xe(r(s).div(4).equal())}}});return{[`${e}-wrapper`]:Object.assign(Object.assign({},a("middle",t.tablePaddingVerticalMiddle,t.tablePaddingHorizontalMiddle,t.tableFontSizeMiddle)),a("small",t.tablePaddingVerticalSmall,t.tablePaddingHorizontalSmall,t.tableFontSizeSmall))}},ppe=t=>{const{componentCls:e,marginXXS:n,fontSizeIcon:r,headerIconColor:a,headerIconHoverColor:i}=t;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}, left 0s`,"&:hover":{background:t.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:t.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:t.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:t.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:t.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${e}-column-sorter`]:{marginInlineStart:n,color:a,fontSize:0,transition:`color ${t.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:t.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:i}}}},hpe=t=>{const{componentCls:e,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:a,tableScrollThumbSize:i,tableScrollBg:o,zIndexTableSticky:s,stickyScrollBarBorderRadius:l,lineWidth:c,lineType:f,tableBorderColor:u}=t,d=`${xe(c)} ${f} ${u}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:s,background:t.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${xe(i)} !important`,zIndex:s,display:"flex",alignItems:"center",background:o,borderTop:d,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:i,backgroundColor:r,borderRadius:l,transition:`all ${t.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:a}}}}}}},HI=t=>{const{componentCls:e,lineWidth:n,tableBorderColor:r,calc:a}=t,i=`${xe(n)} ${t.lineType} ${r}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:t.zIndexTableFixed,background:t.tableBg,"> tr":{"> th, > td":{borderBottom:i}}},[`div${e}-summary`]:{boxShadow:`0 ${xe(a(n).mul(-1).equal())} 0 ${r}`}}}},Spe=t=>{const{componentCls:e,motionDurationMid:n,lineWidth:r,lineType:a,tableBorderColor:i,calc:o}=t,s=`${xe(r)} ${a} ${i}`,l=`${e}-expanded-row-cell`;return{[`${e}-wrapper`]:{[`${e}-tbody-virtual`]:{[`${e}-tbody-virtual-holder-inner`]:{[`
            & > ${e}-row, 
            & > div:not(${e}-row) > ${e}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${e}-cell`]:{borderBottom:s,transition:`background ${n}`},[`${e}-expanded-row`]:{[`${l}${l}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${xe(r)})`,borderInlineEnd:"none"}}},[`${e}-bordered`]:{[`${e}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:s,position:"absolute"},[`${e}-cell`]:{borderInlineEnd:s,[`&${e}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:o(r).mul(-1).equal(),borderInlineStart:s}}},[`&${e}-virtual`]:{[`${e}-placeholder ${e}-cell`]:{borderInlineEnd:s,borderBottom:s}}}}}},ype=t=>{const{componentCls:e,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:a,tableExpandColumnWidth:i,lineWidth:o,lineType:s,tableBorderColor:l,tableFontSize:c,tableBg:f,tableRadius:u,tableHeaderTextColor:d,motionDurationMid:g,tableHeaderBg:v,tableHeaderCellSplitColor:m,tableFooterTextColor:p,tableFooterBg:h,calc:y}=t,C=`${xe(o)} ${s} ${l}`;return{[`${e}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},rf()),{[e]:Object.assign(Object.assign({},aa(t)),{fontSize:c,background:f,borderRadius:`${xe(u)} ${xe(u)} 0 0`,scrollbarColor:`${t.tableScrollThumbBg} ${t.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${xe(u)} ${xe(u)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-cell,
          ${e}-thead > tr > th,
          ${e}-tbody > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${xe(r)} ${xe(a)}`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${xe(r)} ${xe(a)}`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:d,fontWeight:n,textAlign:"start",background:v,borderBottom:C,transition:`background ${g} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:m,transform:"translateY(-50%)",transition:`background-color ${g}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${g}, border-color ${g}`,borderBottom:C,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:xe(y(r).mul(-1).equal()),marginInline:`${xe(y(i).sub(a).equal())}
                ${xe(y(a).mul(-1).equal())}`,[`${e}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:d,fontWeight:n,textAlign:"start",background:v,borderBottom:C,transition:`background ${g} ease`}}},[`${e}-footer`]:{padding:`${xe(r)} ${xe(a)}`,color:p,background:h}})}},Cpe=t=>{const{colorFillAlter:e,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:a,colorFillContent:i,controlItemBgActive:o,controlItemBgActiveHover:s,padding:l,paddingSM:c,paddingXS:f,colorBorderSecondary:u,borderRadiusLG:d,controlHeight:g,colorTextPlaceholder:v,fontSize:m,fontSizeSM:p,lineHeight:h,lineWidth:y,colorIcon:C,colorIconHover:x,opacityLoading:T,controlInteractiveSize:w}=t,b=new Pr(a).onBackground(n).toHexShortString(),E=new Pr(i).onBackground(n).toHexShortString(),O=new Pr(e).onBackground(n).toHexShortString(),D=new Pr(C),R=new Pr(x),I=w/2-y,M=I*2+y*3;return{headerBg:O,headerColor:r,headerSortActiveBg:b,headerSortHoverBg:E,bodySortBg:O,rowHoverBg:O,rowSelectedBg:o,rowSelectedHoverBg:s,rowExpandedBg:e,cellPaddingBlock:l,cellPaddingInline:l,cellPaddingBlockMD:c,cellPaddingInlineMD:f,cellPaddingBlockSM:f,cellPaddingInlineSM:f,borderColor:u,headerBorderRadius:d,footerBg:O,footerColor:r,cellFontSize:m,cellFontSizeMD:m,cellFontSizeSM:m,headerSplitColor:u,fixedHeaderSortActiveBg:b,headerFilterHoverBg:i,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:g,stickyScrollBarBg:v,stickyScrollBarBorderRadius:100,expandIconMarginTop:(m*h-y*3)/2-Math.ceil((p*1.4-y*3)/2),headerIconColor:D.clone().setAlpha(D.getAlpha()*T).toRgbString(),headerIconHoverColor:R.clone().setAlpha(R.getAlpha()*T).toRgbString(),expandIconHalfInner:I,expandIconSize:M,expandIconScale:w/M}},qI=2,xpe=ta("Table",t=>{const{colorTextHeading:e,colorSplit:n,colorBgContainer:r,controlInteractiveSize:a,headerBg:i,headerColor:o,headerSortActiveBg:s,headerSortHoverBg:l,bodySortBg:c,rowHoverBg:f,rowSelectedBg:u,rowSelectedHoverBg:d,rowExpandedBg:g,cellPaddingBlock:v,cellPaddingInline:m,cellPaddingBlockMD:p,cellPaddingInlineMD:h,cellPaddingBlockSM:y,cellPaddingInlineSM:C,borderColor:x,footerBg:T,footerColor:w,headerBorderRadius:b,cellFontSize:E,cellFontSizeMD:O,cellFontSizeSM:D,headerSplitColor:R,fixedHeaderSortActiveBg:I,headerFilterHoverBg:M,filterDropdownBg:A,expandIconBg:B,selectionColumnWidth:L,stickyScrollBarBg:F,calc:_}=t,P=fr(t,{tableFontSize:E,tableBg:r,tableRadius:b,tablePaddingVertical:v,tablePaddingHorizontal:m,tablePaddingVerticalMiddle:p,tablePaddingHorizontalMiddle:h,tablePaddingVerticalSmall:y,tablePaddingHorizontalSmall:C,tableBorderColor:x,tableHeaderTextColor:o,tableHeaderBg:i,tableFooterTextColor:w,tableFooterBg:T,tableHeaderCellSplitColor:R,tableHeaderSortBg:s,tableHeaderSortHoverBg:l,tableBodySortBg:c,tableFixedHeaderSortActiveBg:I,tableHeaderFilterActiveBg:M,tableFilterDropdownBg:A,tableRowHoverBg:f,tableSelectedRowBg:u,tableSelectedRowHoverBg:d,zIndexTableFixed:qI,zIndexTableSticky:_(qI).add(1).equal({unit:!1}),tableFontSizeMiddle:O,tableFontSizeSmall:D,tableSelectionColumnWidth:L,tableExpandIconBg:B,tableExpandColumnWidth:_(a).add(_(t.padding).mul(2)).equal(),tableExpandedRowBg:g,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:F,tableScrollThumbBgHover:e,tableScrollBg:n});return[ype(P),fpe(P),HI(P),ppe(P),cpe(P),ipe(P),dpe(P),lpe(P),HI(P),spe(P),mpe(P),upe(P),hpe(P),ope(P),vpe(P),gpe(P),Spe(P)]},Cpe,{unitless:{expandIconScale:!0}}),Tpe=[],wpe=(t,e)=>{var n,r;const{prefixCls:a,className:i,rootClassName:o,style:s,size:l,bordered:c,dropdownPrefixCls:f,dataSource:u,pagination:d,rowSelection:g,rowKey:v="key",rowClassName:m,columns:p,children:h,childrenColumnName:y,onChange:C,getPopupContainer:x,loading:T,expandIcon:w,expandable:b,expandedRowRender:E,expandIconColumnIndex:O,indentSize:D,scroll:R,sortDirections:I,locale:M,showSorterTooltip:A={target:"full-header"},virtual:B}=t;Tf();const L=S.useMemo(()=>p||FT(h),[p,h]),F=S.useMemo(()=>L.some(Ke=>Ke.responsive),[L]),_=dT(F),P=S.useMemo(()=>{const Ke=new Set(Object.keys(_).filter(Ye=>_[Ye]));return L.filter(Ye=>!Ye.responsive||Ye.responsive.some(ft=>Ke.has(ft)))},[L,_]),N=$a(t,["className","style","columns"]),{locale:k=il,direction:H,table:K,renderEmpty:te,getPrefixCls:se,getPopupContainer:pe}=S.useContext(cn),ve=Us(l),Te=Object.assign(Object.assign({},k.Table),M),_e=u||Tpe,fe=se("table",a),ce=se("dropdown",f),[,Ee]=Ti(),we=Xi(fe),[he,Re,Pe]=xpe(fe,we),We=Object.assign(Object.assign({childrenColumnName:y,expandIconColumnIndex:O},b),{expandIcon:(n=b==null?void 0:b.expandIcon)!==null&&n!==void 0?n:(r=K==null?void 0:K.expandable)===null||r===void 0?void 0:r.expandIcon}),{childrenColumnName:Me="children"}=We,Je=S.useMemo(()=>_e.some(Ke=>Ke==null?void 0:Ke[Me])?"nest":E||b!=null&&b.expandedRowRender?"row":null,[_e]),Be={body:S.useRef()},z=Sve(fe),Y=S.useRef(null),ee=S.useRef(null);pve(e,()=>Object.assign(Object.assign({},ee.current),{nativeElement:Y.current}));const j=S.useMemo(()=>typeof v=="function"?v:Ke=>Ke==null?void 0:Ke[v],[v]),[oe]=Xve(_e,Me,j),be={},Ue=function(Ke,Ye){let ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var xt,Nt,Pt,Ut;const Ht=Object.assign(Object.assign({},be),Ke);ft&&((xt=be.resetPagination)===null||xt===void 0||xt.call(be),!((Nt=Ht.pagination)===null||Nt===void 0)&&Nt.current&&(Ht.pagination.current=1),d&&((Pt=d.onChange)===null||Pt===void 0||Pt.call(d,1,(Ut=Ht.pagination)===null||Ut===void 0?void 0:Ut.pageSize))),R&&R.scrollToFirstRowOnChange!==!1&&Be.body.current&&sre(0,{getContainer:()=>Be.body.current}),C==null||C(Ht.pagination,Ht.filters,Ht.sorter,{currentDataSource:C9(T9(_e,Ht.sorterStates,Me),Ht.filterStates,Me),action:Ye})},ze=(Ke,Ye)=>{Ue({sorter:Ke,sorterStates:Ye},"sort",!1)},[at,gt,St,ct]=tpe({prefixCls:fe,mergedColumns:P,onSorterChange:ze,sortDirections:I||["ascend","descend"],tableLocale:Te,showSorterTooltip:A}),et=S.useMemo(()=>T9(_e,gt,Me),[_e,gt]);be.sorter=ct(),be.sorterStates=gt;const Ne=(Ke,Ye)=>{Ue({filters:Ke,filterStates:Ye},"filter",!0)},[ut,At,bt]=Qve({prefixCls:fe,locale:Te,dropdownPrefixCls:ce,mergedColumns:P,onFilterChange:Ne,getPopupContainer:x||pe,rootClassName:Se(o,we)}),Rt=C9(et,At,Me);be.filters=bt,be.filterStates=At;const jt=S.useMemo(()=>{const Ke={};return Object.keys(bt).forEach(Ye=>{bt[Ye]!==null&&(Ke[Ye]=bt[Ye])}),Object.assign(Object.assign({},St),{filters:Ke})},[St,bt]),[un]=npe(jt),Zt=(Ke,Ye)=>{Ue({pagination:Object.assign(Object.assign({},be.pagination),{current:Ke,pageSize:Ye})},"paginate")},[Kt,fn]=Jve(Rt.length,Zt,d);be.pagination=d===!1?{}:Zve(Kt,d),be.resetPagination=fn;const en=S.useMemo(()=>{if(d===!1||!Kt.pageSize)return Rt;const{current:Ke=1,total:Ye,pageSize:ft=sU}=Kt;return Rt.length<Ye?Rt.length>ft?Rt.slice((Ke-1)*ft,Ke*ft):Rt:Rt.slice((Ke-1)*ft,Ke*ft)},[!!d,Rt,Kt==null?void 0:Kt.current,Kt==null?void 0:Kt.pageSize,Kt==null?void 0:Kt.total]),[sn,zt]=mve({prefixCls:fe,data:Rt,pageData:en,getRowKey:j,getRecordByKey:oe,expandType:Je,childrenColumnName:Me,locale:Te,getPopupContainer:x||pe},g),Lt=(Ke,Ye,ft)=>{let xt;return typeof m=="function"?xt=Se(m(Ke,Ye,ft)):xt=Se(m),Se({[`${fe}-row-selected`]:zt.has(j(Ke,Ye))},xt)};We.__PARENT_RENDER_ICON__=We.expandIcon,We.expandIcon=We.expandIcon||w||hve(Te),Je==="nest"&&We.expandIconColumnIndex===void 0?We.expandIconColumnIndex=g?1:0:We.expandIconColumnIndex>0&&g&&(We.expandIconColumnIndex-=1),typeof We.indentSize!="number"&&(We.indentSize=typeof D=="number"?D:15);const yt=S.useCallback(Ke=>un(sn(ut(at(Ke)))),[at,ut,sn]);let lt,de;if(d!==!1&&(Kt!=null&&Kt.total)){let Ke;Kt.size?Ke=Kt.size:Ke=ve==="small"||ve==="middle"?"small":void 0;const Ye=Nt=>S.createElement(Dk,Object.assign({},Kt,{className:Se(`${fe}-pagination ${fe}-pagination-${Nt}`,Kt.className),size:Ke})),ft=H==="rtl"?"left":"right",{position:xt}=Kt;if(xt!==null&&Array.isArray(xt)){const Nt=xt.find(Ht=>Ht.includes("top")),Pt=xt.find(Ht=>Ht.includes("bottom")),Ut=xt.every(Ht=>`${Ht}`=="none");!Nt&&!Pt&&!Ut&&(de=Ye(ft)),Nt&&(lt=Ye(Nt.toLowerCase().replace("top",""))),Pt&&(de=Ye(Pt.toLowerCase().replace("bottom","")))}else de=Ye(ft)}let ue;typeof T=="boolean"?ue={spinning:T}:typeof T=="object"&&(ue=Object.assign({spinning:!0},T));const ge=Se(Pe,we,`${fe}-wrapper`,K==null?void 0:K.className,{[`${fe}-wrapper-rtl`]:H==="rtl"},i,o,Re),Ce=Object.assign(Object.assign({},K==null?void 0:K.style),s),Ge=typeof(M==null?void 0:M.emptyText)<"u"?M.emptyText:(te==null?void 0:te("Table"))||S.createElement(lT,{componentName:"Table"}),He=B?ape:rpe,pt={},Qe=S.useMemo(()=>{const{fontSize:Ke,lineHeight:Ye,padding:ft,paddingXS:xt,paddingSM:Nt}=Ee,Pt=Math.floor(Ke*Ye);switch(ve){case"large":return ft*2+Pt;case"small":return xt*2+Pt;default:return Nt*2+Pt}},[Ee,ve]);return B&&(pt.listItemHeight=Qe),he(S.createElement("div",{ref:Y,className:ge,style:Ce},S.createElement(MT,Object.assign({spinning:!1},ue),lt,S.createElement(He,Object.assign({},pt,N,{ref:ee,columns:P,direction:H,expandable:We,prefixCls:fe,className:Se({[`${fe}-middle`]:ve==="middle",[`${fe}-small`]:ve==="small",[`${fe}-bordered`]:c,[`${fe}-empty`]:_e.length===0},Pe,we,Re),data:en,rowKey:j,rowClassName:Lt,emptyText:Ge,internalHooks:xp,internalRefs:Be,transformColumns:yt,getContainerWidth:z})),de)))},bpe=S.forwardRef(wpe),Epe=(t,e)=>{const n=S.useRef(0);return n.current+=1,S.createElement(bpe,Object.assign({},t,{ref:e,_renderTimes:n.current}))},dl=S.forwardRef(Epe);dl.SELECTION_COLUMN=Bl;dl.EXPAND_COLUMN=ql;dl.SELECTION_ALL=v9;dl.SELECTION_INVERT=p9;dl.SELECTION_NONE=h9;dl.Column=rve;dl.ColumnGroup=ave;dl.Summary=Vk;const o8=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",a=t.type||"",i=a.replace(/\/.*$/,"");return n.some(function(o){var s=o.trim();if(/^\*(\/\*)?$/.test(o))return!0;if(s.charAt(0)==="."){var l=r.toLowerCase(),c=s.toLowerCase(),f=[c];return(c===".jpg"||c===".jpeg")&&(f=[".jpg",".jpeg"]),f.some(function(u){return l.endsWith(u)})}return/\/\*$/.test(s)?i===s.replace(/\/.*$/,""):a===s?!0:/^\w+$/.test(s)?(jr(!1,"Upload takes an invalidate 'accept' type '".concat(s,"'.Skip for check.")),!0):!1})}return!0};function Dpe(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}function KI(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function Ope(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(i){i.total>0&&(i.percent=i.loaded/i.total*100),t.onProgress(i)});var n=new FormData;t.data&&Object.keys(t.data).forEach(function(a){var i=t.data[a];if(Array.isArray(i)){i.forEach(function(o){n.append("".concat(a,"[]"),o)});return}n.append(a,i)}),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(i){t.onError(i)},e.onload=function(){return e.status<200||e.status>=300?t.onError(Dpe(t,e),KI(e)):t.onSuccess(KI(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(a){r[a]!==null&&e.setRequestHeader(a,r[a])}),e.send(n),{abort:function(){e.abort()}}}var Rpe=function(){var t=Io(zr().mark(function e(n,r){var a,i,o,s,l,c,f,u;return zr().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:c=function(){return c=Io(zr().mark(function m(p){return zr().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",new Promise(function(C){p.file(function(x){r(x)?(p.fullPath&&!x.webkitRelativePath&&(Object.defineProperties(x,{webkitRelativePath:{writable:!0}}),x.webkitRelativePath=p.fullPath.replace(/^\//,""),Object.defineProperties(x,{webkitRelativePath:{writable:!1}})),C(x)):C(null)})}));case 1:case"end":return y.stop()}},m)})),c.apply(this,arguments)},l=function(m){return c.apply(this,arguments)},s=function(){return s=Io(zr().mark(function m(p){var h,y,C,x,T;return zr().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:h=p.createReader(),y=[];case 2:return b.next=5,new Promise(function(E){h.readEntries(E,function(){return E([])})});case 5:if(C=b.sent,x=C.length,x){b.next=9;break}return b.abrupt("break",12);case 9:for(T=0;T<x;T++)y.push(C[T]);b.next=2;break;case 12:return b.abrupt("return",y);case 13:case"end":return b.stop()}},m)})),s.apply(this,arguments)},o=function(m){return s.apply(this,arguments)},a=[],i=[],n.forEach(function(v){return i.push(v.webkitGetAsEntry())}),f=function(){var v=Io(zr().mark(function m(p,h){var y,C;return zr().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(p){T.next=2;break}return T.abrupt("return");case 2:if(p.path=h||"",!p.isFile){T.next=10;break}return T.next=6,l(p);case 6:y=T.sent,y&&a.push(y),T.next=15;break;case 10:if(!p.isDirectory){T.next=15;break}return T.next=13,o(p);case 13:C=T.sent,i.push.apply(i,Ze(C));case 15:case"end":return T.stop()}},m)}));return function(p,h){return v.apply(this,arguments)}}(),u=0;case 9:if(!(u<i.length)){g.next=15;break}return g.next=12,f(i[u]);case 12:u++,g.next=9;break;case 15:return g.abrupt("return",a);case 16:case"end":return g.stop()}},e)}));return function(n,r){return t.apply(this,arguments)}}(),Ipe=+new Date,Ape=0;function s8(){return"rc-upload-".concat(Ipe,"-").concat(++Ape)}var Mpe=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Ppe=function(t){ko(n,t);var e=Uo(n);function n(){var r;ua(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),J(dt(r),"state",{uid:s8()}),J(dt(r),"reqs",{}),J(dt(r),"fileInput",void 0),J(dt(r),"_isMounted",void 0),J(dt(r),"onChange",function(s){var l=r.props,c=l.accept,f=l.directory,u=s.target.files,d=Ze(u).filter(function(g){return!f||o8(g,c)});r.uploadFiles(d),r.reset()}),J(dt(r),"onClick",function(s){var l=r.fileInput;if(l){var c=s.target,f=r.props.onClick;if(c&&c.tagName==="BUTTON"){var u=l.parentNode;u.focus(),c.blur()}l.click(),f&&f(s)}}),J(dt(r),"onKeyDown",function(s){s.key==="Enter"&&r.onClick(s)}),J(dt(r),"onFileDrop",function(){var s=Io(zr().mark(function l(c){var f,u,d;return zr().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(f=r.props.multiple,c.preventDefault(),c.type!=="dragover"){v.next=4;break}return v.abrupt("return");case 4:if(!r.props.directory){v.next=11;break}return v.next=7,Rpe(Array.prototype.slice.call(c.dataTransfer.items),function(m){return o8(m,r.props.accept)});case 7:u=v.sent,r.uploadFiles(u),v.next=14;break;case 11:d=Ze(c.dataTransfer.files).filter(function(m){return o8(m,r.props.accept)}),f===!1&&(d=d.slice(0,1)),r.uploadFiles(d);case 14:case"end":return v.stop()}},l)}));return function(l){return s.apply(this,arguments)}}()),J(dt(r),"uploadFiles",function(s){var l=Ze(s),c=l.map(function(f){return f.uid=s8(),r.processFile(f,l)});Promise.all(c).then(function(f){var u=r.props.onBatchStart;u==null||u(f.map(function(d){var g=d.origin,v=d.parsedFile;return{file:g,parsedFile:v}})),f.filter(function(d){return d.parsedFile!==null}).forEach(function(d){r.post(d)})})}),J(dt(r),"processFile",function(){var s=Io(zr().mark(function l(c,f){var u,d,g,v,m,p,h,y,C;return zr().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(u=r.props.beforeUpload,d=c,!u){T.next=14;break}return T.prev=3,T.next=6,u(c,f);case 6:d=T.sent,T.next=12;break;case 9:T.prev=9,T.t0=T.catch(3),d=!1;case 12:if(d!==!1){T.next=14;break}return T.abrupt("return",{origin:c,parsedFile:null,action:null,data:null});case 14:if(g=r.props.action,typeof g!="function"){T.next=21;break}return T.next=18,g(c);case 18:v=T.sent,T.next=22;break;case 21:v=g;case 22:if(m=r.props.data,typeof m!="function"){T.next=29;break}return T.next=26,m(c);case 26:p=T.sent,T.next=30;break;case 29:p=m;case 30:return h=(qt(d)==="object"||typeof d=="string")&&d?d:c,h instanceof File?y=h:y=new File([h],c.name,{type:c.type}),C=y,C.uid=c.uid,T.abrupt("return",{origin:c,data:p,parsedFile:C,action:v});case 35:case"end":return T.stop()}},l,null,[[3,9]])}));return function(l,c){return s.apply(this,arguments)}}()),J(dt(r),"saveFileInput",function(s){r.fileInput=s}),r}return fa(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(a){var i=this,o=a.data,s=a.origin,l=a.action,c=a.parsedFile;if(this._isMounted){var f=this.props,u=f.onStart,d=f.customRequest,g=f.name,v=f.headers,m=f.withCredentials,p=f.method,h=s.uid,y=d||Ope,C={action:l,filename:g,data:o,file:c,headers:v,withCredentials:m,method:p||"post",onProgress:function(T){var w=i.props.onProgress;w==null||w(T,c)},onSuccess:function(T,w){var b=i.props.onSuccess;b==null||b(T,c,w),delete i.reqs[h]},onError:function(T,w){var b=i.props.onError;b==null||b(T,w,c),delete i.reqs[h]}};u(s),this.reqs[h]=y(C)}}},{key:"reset",value:function(){this.setState({uid:s8()})}},{key:"abort",value:function(a){var i=this.reqs;if(a){var o=a.uid?a.uid:a;i[o]&&i[o].abort&&i[o].abort(),delete i[o]}else Object.keys(i).forEach(function(s){i[s]&&i[s].abort&&i[s].abort(),delete i[s]})}},{key:"render",value:function(){var a=this.props,i=a.component,o=a.prefixCls,s=a.className,l=a.classNames,c=l===void 0?{}:l,f=a.disabled,u=a.id,d=a.name,g=a.style,v=a.styles,m=v===void 0?{}:v,p=a.multiple,h=a.accept,y=a.capture,C=a.children,x=a.directory,T=a.openFileDialogOnClick,w=a.onMouseEnter,b=a.onMouseLeave,E=a.hasControlInside,O=Tn(a,Mpe),D=Se(J(J(J({},o,!0),"".concat(o,"-disabled"),f),s,s)),R=x?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},I=f?{}:{onClick:T?this.onClick:function(){},onKeyDown:T?this.onKeyDown:function(){},onMouseEnter:w,onMouseLeave:b,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:E?void 0:"0"};return Oe.createElement(i,tt({},I,{className:D,role:E?void 0:"button",style:g}),Oe.createElement("input",tt({},Pi(O,{aria:!0,data:!0}),{id:u,name:d,disabled:f,type:"file",ref:this.saveFileInput,onClick:function(A){return A.stopPropagation()},key:this.state.uid,style:ie({display:"none"},m.input),className:c.input,accept:h},R,{multiple:p,onChange:this.onChange},y!=null?{capture:y}:{})),C)}}]),n}(S.Component);function l8(){}var w9=function(t){ko(n,t);var e=Uo(n);function n(){var r;ua(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),J(dt(r),"uploader",void 0),J(dt(r),"saveUploader",function(s){r.uploader=s}),r}return fa(n,[{key:"abort",value:function(a){this.uploader.abort(a)}},{key:"render",value:function(){return Oe.createElement(Ppe,tt({},this.props,{ref:this.saveUploader}))}}]),n}(S.Component);J(w9,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:l8,onError:l8,onSuccess:l8,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const Lpe=t=>{const{componentCls:e,iconCls:n}=t;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:t.colorFillAlter,border:`${xe(t.lineWidth)} dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[e]:{padding:t.padding},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:t.borderRadiusLG,"&:focus-visible":{outline:`${xe(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`}},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${e}-disabled):hover,
          &-hover:not(${e}-disabled)
        `]:{borderColor:t.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:t.margin,[n]:{color:t.colorPrimary,fontSize:t.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${xe(t.marginXXS)}`,color:t.colorTextHeading,fontSize:t.fontSizeLG},[`p${e}-hint`]:{color:t.colorTextDescription,fontSize:t.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${n},
            p${e}-text,
            p${e}-hint
          `]:{color:t.colorTextDisabled}}}}}},_pe=t=>{const{componentCls:e,antCls:n,iconCls:r,fontSize:a,lineHeight:i,calc:o}=t,s=`${e}-list-item`,l=`${s}-actions`,c=`${s}-action`,f=t.fontHeightSM;return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},rf()),{lineHeight:t.lineHeight,[s]:{position:"relative",height:o(t.lineHeight).mul(a).equal(),marginTop:t.marginXS,fontSize:a,display:"flex",alignItems:"center",transition:`background-color ${t.motionDurationSlow}`,"&:hover":{backgroundColor:t.controlItemBgHover},[`${s}-name`]:Object.assign(Object.assign({},nf),{padding:`0 ${xe(t.paddingXS)}`,lineHeight:i,flex:"auto",transition:`all ${t.motionDurationSlow}`}),[l]:{whiteSpace:"nowrap",[c]:{opacity:0},[r]:{color:t.actionsColor,transition:`all ${t.motionDurationSlow}`},[`
              ${c}:focus-visible,
              &.picture ${c}
            `]:{opacity:1},[`${c}${n}-btn`]:{height:f,border:0,lineHeight:1}},[`${e}-icon ${r}`]:{color:t.colorTextDescription,fontSize:a},[`${s}-progress`]:{position:"absolute",bottom:t.calc(t.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:o(a).add(t.paddingXS).equal(),fontSize:a,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${s}:hover ${c}`]:{opacity:1},[`${s}-error`]:{color:t.colorError,[`${s}-name, ${e}-icon ${r}`]:{color:t.colorError},[l]:{[`${r}, ${r}:hover`]:{color:t.colorError},[c]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Npe=t=>{const{componentCls:e}=t,n=new er("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:t.calc(t.marginXS).div(-2).equal()}}),r=new er("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:t.calc(t.marginXS).div(-2).equal()}}),a=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${a}-appear, ${a}-enter, ${a}-leave`]:{animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseInOutCirc,animationFillMode:"forwards"},[`${a}-appear, ${a}-enter`]:{animationName:n},[`${a}-leave`]:{animationName:r}}},{[`${e}-wrapper`]:y$(t)},n,r]},Fpe=t=>{const{componentCls:e,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:a,calc:i}=t,o=`${e}-list`,s=`${o}-item`;return{[`${e}-wrapper`]:{[`
        ${o}${o}-picture,
        ${o}${o}-picture-card,
        ${o}${o}-picture-circle
      `]:{[s]:{position:"relative",height:i(r).add(i(t.lineWidth).mul(2)).add(i(t.paddingXS).mul(2)).equal(),padding:t.paddingXS,border:`${xe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusLG,"&:hover":{background:"transparent"},[`${s}-thumbnail`]:Object.assign(Object.assign({},nf),{width:r,height:r,lineHeight:xe(i(r).add(t.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:t.fontSizeHeading2,color:t.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${s}-progress`]:{bottom:a,width:`calc(100% - ${xe(i(t.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:i(r).add(t.paddingXS).equal()}},[`${s}-error`]:{borderColor:t.colorError,[`${s}-thumbnail ${n}`]:{[`svg path[fill='${v1[0]}']`]:{fill:t.colorErrorBg},[`svg path[fill='${v1.primary}']`]:{fill:t.colorError}}},[`${s}-uploading`]:{borderStyle:"dashed",[`${s}-name`]:{marginBottom:a}}},[`${o}${o}-picture-circle ${s}`]:{[`&, &::before, ${s}-thumbnail`]:{borderRadius:"50%"}}}}},$pe=t=>{const{componentCls:e,iconCls:n,fontSizeLG:r,colorTextLightSolid:a,calc:i}=t,o=`${e}-list`,s=`${o}-item`,l=t.uploadPicCardSize;return{[`
      ${e}-wrapper${e}-picture-card-wrapper,
      ${e}-wrapper${e}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},rf()),{display:"block",[`${e}${e}-select`]:{width:l,height:l,textAlign:"center",verticalAlign:"top",backgroundColor:t.colorFillAlter,border:`${xe(t.lineWidth)} dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:t.colorPrimary}},[`${o}${o}-picture-card, ${o}${o}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:t.marginXS,marginInlineEnd:t.marginXS}},"@supports (gap: 1px)":{gap:t.marginXS},[`${o}-item-container`]:{display:"inline-block",width:l,height:l,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[s]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${xe(i(t.paddingXS).mul(2).equal())})`,height:`calc(100% - ${xe(i(t.paddingXS).mul(2).equal())})`,backgroundColor:t.colorBgMask,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'" "'}},[`${s}:hover`]:{[`&::before, ${s}-actions`]:{opacity:1}},[`${s}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${t.motionDurationSlow}`,[`
            ${n}-eye,
            ${n}-download,
            ${n}-delete
          `]:{zIndex:10,width:r,margin:`0 ${xe(t.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,color:a,"&:hover":{color:a},svg:{verticalAlign:"baseline"}}},[`${s}-thumbnail, ${s}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${s}-name`]:{display:"none",textAlign:"center"},[`${s}-file + ${s}-name`]:{position:"absolute",bottom:t.margin,display:"block",width:`calc(100% - ${xe(i(t.paddingXS).mul(2).equal())})`},[`${s}-uploading`]:{[`&${s}`]:{backgroundColor:t.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${s}-progress`]:{bottom:t.marginXL,width:`calc(100% - ${xe(i(t.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}},Vpe=t=>{const{componentCls:e}=t;return{[`${e}-rtl`]:{direction:"rtl"}}},kpe=t=>{const{componentCls:e,colorTextDisabled:n}=t;return{[`${e}-wrapper`]:Object.assign(Object.assign({},aa(t)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-disabled`]:{color:n,cursor:"not-allowed"}})}},Upe=t=>({actionsColor:t.colorTextDescription}),Bpe=ta("Upload",t=>{const{fontSizeHeading3:e,fontHeight:n,lineWidth:r,controlHeightLG:a,calc:i}=t,o=fr(t,{uploadThumbnailSize:i(e).mul(2).equal(),uploadProgressOffset:i(i(n).div(2)).add(r).equal(),uploadPicCardSize:i(a).mul(2.55).equal()});return[kpe(o),Lpe(o),Fpe(o),$pe(o),_pe(o),Npe(o),Vpe(o),W7(o)]},Upe);function yh(t){return Object.assign(Object.assign({},t),{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,uid:t.uid,percent:0,originFileObj:t})}function Ch(t,e){const n=Ze(e),r=n.findIndex(a=>{let{uid:i}=a;return i===t.uid});return r===-1?n.push(t):n[r]=t,n}function c8(t,e){const n=t.uid!==void 0?"uid":"name";return e.filter(r=>r[n]===t[n])[0]}function Gpe(t,e){const n=t.uid!==void 0?"uid":"name",r=e.filter(a=>a[n]!==t[n]);return r.length===e.length?null:r}const zpe=function(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),r=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},uU=t=>t.indexOf("image/")===0,Wpe=t=>{if(t.type&&!t.thumbUrl)return uU(t.type);const e=t.thumbUrl||t.url||"",n=zpe(e);return/^data:image\//.test(e)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(e)||n)},Pl=200;function jpe(t){return new Promise(e=>{if(!t.type||!uU(t.type)){e("");return}const n=document.createElement("canvas");n.width=Pl,n.height=Pl,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${Pl}px; height: ${Pl}px; z-index: 9999; display: none;`,document.body.appendChild(n);const r=n.getContext("2d"),a=new Image;if(a.onload=()=>{const{width:i,height:o}=a;let s=Pl,l=Pl,c=0,f=0;i>o?(l=o*(Pl/i),f=-(l-s)/2):(s=i*(Pl/o),c=-(s-l)/2),r.drawImage(a,c,f,s,l);const u=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(a.src),e(u)},a.crossOrigin="anonymous",t.type.startsWith("image/svg+xml")){const i=new FileReader;i.onload=()=>{i.result&&typeof i.result=="string"&&(a.src=i.result)},i.readAsDataURL(t)}else if(t.type.startsWith("image/gif")){const i=new FileReader;i.onload=()=>{i.result&&e(i.result)},i.readAsDataURL(t)}else a.src=window.URL.createObjectURL(t)})}const Hpe=S.forwardRef((t,e)=>{let{prefixCls:n,className:r,style:a,locale:i,listType:o,file:s,items:l,progress:c,iconRender:f,actionIconRender:u,itemRender:d,isImgUrl:g,showPreviewIcon:v,showRemoveIcon:m,showDownloadIcon:p,previewIcon:h,removeIcon:y,downloadIcon:C,extra:x,onPreview:T,onDownload:w,onClose:b}=t;var E,O;const{status:D}=s,[R,I]=S.useState(D);S.useEffect(()=>{D!=="removed"&&I(D)},[D]);const[M,A]=S.useState(!1);S.useEffect(()=>{const we=setTimeout(()=>{A(!0)},300);return()=>{clearTimeout(we)}},[]);const B=f(s);let L=S.createElement("div",{className:`${n}-icon`},B);if(o==="picture"||o==="picture-card"||o==="picture-circle")if(R==="uploading"||!s.thumbUrl&&!s.url){const we=Se(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:R!=="uploading"});L=S.createElement("div",{className:we},B)}else{const we=g!=null&&g(s)?S.createElement("img",{src:s.thumbUrl||s.url,alt:s.name,className:`${n}-list-item-image`,crossOrigin:s.crossOrigin}):B,he=Se(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:g&&!g(s)});L=S.createElement("a",{className:he,onClick:Re=>T(s,Re),href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer"},we)}const F=Se(`${n}-list-item`,`${n}-list-item-${R}`),_=typeof s.linkProps=="string"?JSON.parse(s.linkProps):s.linkProps,P=(typeof m=="function"?m(s):m)?u((typeof y=="function"?y(s):y)||S.createElement(mge,null),()=>b(s),n,i.removeFile,!0):null,N=(typeof p=="function"?p(s):p)&&R==="done"?u((typeof C=="function"?C(s):C)||S.createElement(hge,null),()=>w(s),n,i.downloadFile):null,k=o!=="picture-card"&&o!=="picture-circle"&&S.createElement("span",{key:"download-delete",className:Se(`${n}-list-item-actions`,{picture:o==="picture"})},N,P),H=typeof x=="function"?x(s):x,K=H&&S.createElement("span",{className:`${n}-list-item-extra`},H),te=Se(`${n}-list-item-name`),se=s.url?S.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:te,title:s.name},_,{href:s.url,onClick:we=>T(s,we)}),s.name,K):S.createElement("span",{key:"view",className:te,onClick:we=>T(s,we),title:s.name},s.name,K),pe=(typeof v=="function"?v(s):v)&&(s.url||s.thumbUrl)?S.createElement("a",{href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:we=>T(s,we),title:i.previewFile},typeof h=="function"?h(s):h||S.createElement(vk,null)):null,ve=(o==="picture-card"||o==="picture-circle")&&R!=="uploading"&&S.createElement("span",{className:`${n}-list-item-actions`},pe,R==="done"&&N,P),{getPrefixCls:Te}=S.useContext(cn),_e=Te(),fe=S.createElement("div",{className:F},L,se,k,ve,M&&S.createElement(ks,{motionName:`${_e}-fade`,visible:R==="uploading",motionDeadline:2e3},we=>{let{className:he}=we;const Re="percent"in s?S.createElement(nge,Object.assign({},c,{type:"line",percent:s.percent,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"]})):null;return S.createElement("div",{className:Se(`${n}-list-item-progress`,he)},Re)})),ce=s.response&&typeof s.response=="string"?s.response:((E=s.error)===null||E===void 0?void 0:E.statusText)||((O=s.error)===null||O===void 0?void 0:O.message)||i.uploadError,Ee=R==="error"?S.createElement(of,{title:ce,getPopupContainer:we=>we.parentNode},fe):fe;return S.createElement("div",{className:Se(`${n}-list-item-container`,r),style:a,ref:e},d?d(Ee,s,l,{download:w.bind(null,s),preview:T.bind(null,s),remove:b.bind(null,s)}):Ee)}),qpe=(t,e)=>{const{listType:n="text",previewFile:r=jpe,onPreview:a,onDownload:i,onRemove:o,locale:s,iconRender:l,isImageUrl:c=Wpe,prefixCls:f,items:u=[],showPreviewIcon:d=!0,showRemoveIcon:g=!0,showDownloadIcon:v=!1,removeIcon:m,previewIcon:p,downloadIcon:h,extra:y,progress:C={size:[-1,2],showInfo:!1},appendAction:x,appendActionVisible:T=!0,itemRender:w,disabled:b}=t,E=fT(),[O,D]=S.useState(!1),R=["picture-card","picture-circle"].includes(n);S.useEffect(()=>{n.startsWith("picture")&&(u||[]).forEach(K=>{!(K.originFileObj instanceof File||K.originFileObj instanceof Blob)||K.thumbUrl!==void 0||(K.thumbUrl="",r==null||r(K.originFileObj).then(te=>{K.thumbUrl=te||"",E()}))})},[n,u,r]),S.useEffect(()=>{D(!0)},[]);const I=(K,te)=>{if(a)return te.preventDefault(),a(K)},M=K=>{typeof i=="function"?i(K):K.url&&window.open(K.url)},A=K=>{o==null||o(K)},B=K=>{if(l)return l(K,n);const te=K.status==="uploading";if(n.startsWith("picture")){const se=n==="picture"?S.createElement(y1,null):s.uploading,pe=c!=null&&c(K)?S.createElement(Hge,null):S.createElement(Tge,null);return te?se:pe}return te?S.createElement(y1,null):S.createElement(zge,null)},L=(K,te,se,pe,ve)=>{const Te={type:"text",size:"small",title:pe,onClick:_e=>{var fe,ce;te(),S.isValidElement(K)&&((ce=(fe=K.props).onClick)===null||ce===void 0||ce.call(fe,_e))},className:`${se}-list-item-action`};return ve&&(Te.disabled=b),S.isValidElement(K)?S.createElement(ji,Object.assign({},Te,{icon:Hi(K,Object.assign(Object.assign({},K.props),{onClick:()=>{}}))})):S.createElement(ji,Object.assign({},Te),S.createElement("span",null,K))};S.useImperativeHandle(e,()=>({handlePreview:I,handleDownload:M}));const{getPrefixCls:F}=S.useContext(cn),_=F("upload",f),P=F(),N=Se(`${_}-list`,`${_}-list-${n}`),k=S.useMemo(()=>$a(G7(P),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[P]),H=Object.assign(Object.assign({},R?{}:k),{motionDeadline:2e3,motionName:`${_}-${R?"animate-inline":"animate"}`,keys:Ze(u.map(K=>({key:K.uid,file:K}))),motionAppear:O});return S.createElement("div",{className:N},S.createElement(KF,Object.assign({},H,{component:!1}),K=>{let{key:te,file:se,className:pe,style:ve}=K;return S.createElement(Hpe,{key:te,locale:s,prefixCls:_,className:pe,style:ve,file:se,items:u,progress:C,listType:n,isImgUrl:c,showPreviewIcon:d,showRemoveIcon:g,showDownloadIcon:v,removeIcon:m,previewIcon:p,downloadIcon:h,extra:y,iconRender:B,actionIconRender:L,itemRender:w,onPreview:I,onDownload:M,onClose:A})}),x&&S.createElement(ks,Object.assign({},H,{visible:T,forceRender:!0}),K=>{let{className:te,style:se}=K;return Hi(x,pe=>({className:Se(pe.className,te),style:Object.assign(Object.assign(Object.assign({},se),{pointerEvents:te?"none":void 0}),pe.style)}))}))},Kpe=S.forwardRef(qpe);var Qpe=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function s(f){try{c(r.next(f))}catch(u){o(u)}}function l(f){try{c(r.throw(f))}catch(u){o(u)}}function c(f){f.done?i(f.value):a(f.value).then(s,l)}c((r=r.apply(t,[])).next())})};const im=`__LIST_IGNORE_${Date.now()}__`,Xpe=(t,e)=>{const{fileList:n,defaultFileList:r,onRemove:a,showUploadList:i=!0,listType:o="text",onPreview:s,onDownload:l,onChange:c,onDrop:f,previewFile:u,disabled:d,locale:g,iconRender:v,isImageUrl:m,progress:p,prefixCls:h,className:y,type:C="select",children:x,style:T,itemRender:w,maxCount:b,data:E={},multiple:O=!1,hasControlInside:D=!0,action:R="",accept:I="",supportServerRender:M=!0,rootClassName:A}=t,B=S.useContext(ls),L=d??B,[F,_]=Ha(r||[],{value:n,postState:Ne=>Ne??[]}),[P,N]=S.useState("drop"),k=S.useRef(null),H=S.useRef(null);S.useMemo(()=>{const Ne=Date.now();(n||[]).forEach((ut,At)=>{!ut.uid&&!Object.isFrozen(ut)&&(ut.uid=`__AUTO__${Ne}_${At}__`)})},[n]);const K=(Ne,ut,At)=>{let bt=Ze(ut),Rt=!1;b===1?bt=bt.slice(-1):b&&(Rt=bt.length>b,bt=bt.slice(0,b)),_o.flushSync(()=>{_(bt)});const jt={file:Ne,fileList:bt};At&&(jt.event=At),(!Rt||Ne.status==="removed"||bt.some(un=>un.uid===Ne.uid))&&_o.flushSync(()=>{c==null||c(jt)})},te=(Ne,ut)=>Qpe(void 0,void 0,void 0,function*(){const{beforeUpload:At,transformFile:bt}=t;let Rt=Ne;if(At){const jt=yield At(Ne,ut);if(jt===!1)return!1;if(delete Ne[im],jt===im)return Object.defineProperty(Ne,im,{value:!0,configurable:!0}),!1;typeof jt=="object"&&jt&&(Rt=jt)}return bt&&(Rt=yield bt(Rt)),Rt}),se=Ne=>{const ut=Ne.filter(Rt=>!Rt.file[im]);if(!ut.length)return;const At=ut.map(Rt=>yh(Rt.file));let bt=Ze(F);At.forEach(Rt=>{bt=Ch(Rt,bt)}),At.forEach((Rt,jt)=>{let un=Rt;if(ut[jt].parsedFile)Rt.status="uploading";else{const{originFileObj:Zt}=Rt;let Kt;try{Kt=new File([Zt],Zt.name,{type:Zt.type})}catch{Kt=new Blob([Zt],{type:Zt.type}),Kt.name=Zt.name,Kt.lastModifiedDate=new Date,Kt.lastModified=new Date().getTime()}Kt.uid=Rt.uid,un=Kt}K(un,bt)})},pe=(Ne,ut,At)=>{try{typeof Ne=="string"&&(Ne=JSON.parse(Ne))}catch{}if(!c8(ut,F))return;const bt=yh(ut);bt.status="done",bt.percent=100,bt.response=Ne,bt.xhr=At;const Rt=Ch(bt,F);K(bt,Rt)},ve=(Ne,ut)=>{if(!c8(ut,F))return;const At=yh(ut);At.status="uploading",At.percent=Ne.percent;const bt=Ch(At,F);K(At,bt,Ne)},Te=(Ne,ut,At)=>{if(!c8(At,F))return;const bt=yh(At);bt.error=Ne,bt.response=ut,bt.status="error";const Rt=Ch(bt,F);K(bt,Rt)},_e=Ne=>{let ut;Promise.resolve(typeof a=="function"?a(Ne):a).then(At=>{var bt;if(At===!1)return;const Rt=Gpe(Ne,F);Rt&&(ut=Object.assign(Object.assign({},Ne),{status:"removed"}),F==null||F.forEach(jt=>{const un=ut.uid!==void 0?"uid":"name";jt[un]===ut[un]&&!Object.isFrozen(jt)&&(jt.status="removed")}),(bt=k.current)===null||bt===void 0||bt.abort(ut),K(ut,Rt))})},fe=Ne=>{N(Ne.type),Ne.type==="drop"&&(f==null||f(Ne))};S.useImperativeHandle(e,()=>({onBatchStart:se,onSuccess:pe,onProgress:ve,onError:Te,fileList:F,upload:k.current,nativeElement:H.current}));const{getPrefixCls:ce,direction:Ee,upload:we}=S.useContext(cn),he=ce("upload",h),Re=Object.assign(Object.assign({onBatchStart:se,onError:Te,onProgress:ve,onSuccess:pe},t),{data:E,multiple:O,action:R,accept:I,supportServerRender:M,prefixCls:he,disabled:L,beforeUpload:te,onChange:void 0,hasControlInside:D});delete Re.className,delete Re.style,(!x||L)&&delete Re.id;const Pe=`${he}-wrapper`,[We,Me,Je]=Bpe(he,Pe),[Be]=Q1("Upload",il.Upload),{showRemoveIcon:z,showPreviewIcon:Y,showDownloadIcon:ee,removeIcon:j,previewIcon:oe,downloadIcon:be,extra:Ue}=typeof i=="boolean"?{}:i,ze=typeof z>"u"?!L:z,at=(Ne,ut)=>i?S.createElement(Kpe,{prefixCls:he,listType:o,items:F,previewFile:u,onPreview:s,onDownload:l,onRemove:_e,showRemoveIcon:ze,showPreviewIcon:Y,showDownloadIcon:ee,removeIcon:j,previewIcon:oe,downloadIcon:be,iconRender:v,extra:Ue,locale:Object.assign(Object.assign({},Be),g),isImageUrl:m,progress:p,appendAction:Ne,appendActionVisible:ut,itemRender:w,disabled:L}):Ne,gt=Se(Pe,y,A,Me,Je,we==null?void 0:we.className,{[`${he}-rtl`]:Ee==="rtl",[`${he}-picture-card-wrapper`]:o==="picture-card",[`${he}-picture-circle-wrapper`]:o==="picture-circle"}),St=Object.assign(Object.assign({},we==null?void 0:we.style),T);if(C==="drag"){const Ne=Se(Me,he,`${he}-drag`,{[`${he}-drag-uploading`]:F.some(ut=>ut.status==="uploading"),[`${he}-drag-hover`]:P==="dragover",[`${he}-disabled`]:L,[`${he}-rtl`]:Ee==="rtl"});return We(S.createElement("span",{className:gt,ref:H},S.createElement("div",{className:Ne,style:St,onDrop:fe,onDragOver:fe,onDragLeave:fe},S.createElement(w9,Object.assign({},Re,{ref:k,className:`${he}-btn`}),S.createElement("div",{className:`${he}-drag-container`},x))),at()))}const ct=Se(he,`${he}-select`,{[`${he}-disabled`]:L}),et=S.createElement("div",{className:ct,style:x?void 0:{display:"none"}},S.createElement(w9,Object.assign({},Re,{ref:k})));return We(o==="picture-card"||o==="picture-circle"?S.createElement("span",{className:gt,ref:H},at(et,!!x)):S.createElement("span",{className:gt,ref:H},et,at()))},fU=S.forwardRef(Xpe);var Ype=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Zpe=S.forwardRef((t,e)=>{var{style:n,height:r,hasControlInside:a=!1}=t,i=Ype(t,["style","height","hasControlInside"]);return S.createElement(fU,Object.assign({ref:e,hasControlInside:a},i,{type:"drag",style:Object.assign(Object.assign({},n),{height:r})}))}),zT=fU;zT.Dragger=Zpe;zT.LIST_IGNORE=im;const Jpe={"(0000,0000)":{tag:"(0000,0000)",vr:"UL",vm:"1",name:"CommandGroupLength"},"(0000,0001)":{tag:"(0000,0001)",vr:"UL",vm:"1",name:"CommandLengthToEnd"},"(0000,0002)":{tag:"(0000,0002)",vr:"UI",vm:"1",name:"AffectedSOPClassUID"},"(0000,0003)":{tag:"(0000,0003)",vr:"UI",vm:"1",name:"RequestedSOPClassUID"},"(0000,0010)":{tag:"(0000,0010)",vr:"SH",vm:"1",name:"CommandRecognitionCode"},"(0000,0100)":{tag:"(0000,0100)",vr:"US",vm:"1",name:"CommandField"},"(0000,0110)":{tag:"(0000,0110)",vr:"US",vm:"1",name:"MessageID"},"(0000,0120)":{tag:"(0000,0120)",vr:"US",vm:"1",name:"MessageIDBeingRespondedTo"},"(0000,0200)":{tag:"(0000,0200)",vr:"AE",vm:"1",name:"Initiator"},"(0000,0300)":{tag:"(0000,0300)",vr:"AE",vm:"1",name:"Receiver"},"(0000,0400)":{tag:"(0000,0400)",vr:"AE",vm:"1",name:"FindLocation"},"(0000,0600)":{tag:"(0000,0600)",vr:"AE",vm:"1",name:"MoveDestination"},"(0000,0700)":{tag:"(0000,0700)",vr:"US",vm:"1",name:"Priority"},"(0000,0800)":{tag:"(0000,0800)",vr:"US",vm:"1",name:"CommandDataSetType"},"(0000,0850)":{tag:"(0000,0850)",vr:"US",vm:"1",name:"NumberOfMatches"},"(0000,0860)":{tag:"(0000,0860)",vr:"US",vm:"1",name:"ResponseSequenceNumber"},"(0000,0900)":{tag:"(0000,0900)",vr:"US",vm:"1",name:"Status"},"(0000,0901)":{tag:"(0000,0901)",vr:"AT",vm:"1-n",name:"OffendingElement"},"(0000,0902)":{tag:"(0000,0902)",vr:"LO",vm:"1",name:"ErrorComment"},"(0000,0903)":{tag:"(0000,0903)",vr:"US",vm:"1",name:"ErrorID"},"(0000,1000)":{tag:"(0000,1000)",vr:"UI",vm:"1",name:"AffectedSOPInstanceUID"},"(0000,1001)":{tag:"(0000,1001)",vr:"UI",vm:"1",name:"RequestedSOPInstanceUID"},"(0000,1002)":{tag:"(0000,1002)",vr:"US",vm:"1",name:"EventTypeID"},"(0000,1005)":{tag:"(0000,1005)",vr:"AT",vm:"1-n",name:"AttributeIdentifierList"},"(0000,1008)":{tag:"(0000,1008)",vr:"US",vm:"1",name:"ActionTypeID"},"(0000,1020)":{tag:"(0000,1020)",vr:"US",vm:"1",name:"NumberOfRemainingSuboperations"},"(0000,1021)":{tag:"(0000,1021)",vr:"US",vm:"1",name:"NumberOfCompletedSuboperations"},"(0000,1022)":{tag:"(0000,1022)",vr:"US",vm:"1",name:"NumberOfFailedSuboperations"},"(0000,1023)":{tag:"(0000,1023)",vr:"US",vm:"1",name:"NumberOfWarningSuboperations"},"(0000,1030)":{tag:"(0000,1030)",vr:"AE",vm:"1",name:"MoveOriginatorApplicationEntityTitle"},"(0000,1031)":{tag:"(0000,1031)",vr:"US",vm:"1",name:"MoveOriginatorMessageID"},"(0000,4000)":{tag:"(0000,4000)",vr:"LT",vm:"1",name:"DialogReceiver"},"(0000,4010)":{tag:"(0000,4010)",vr:"LT",vm:"1",name:"TerminalType"},"(0000,5010)":{tag:"(0000,5010)",vr:"SH",vm:"1",name:"MessageSetID"},"(0000,5020)":{tag:"(0000,5020)",vr:"SH",vm:"1",name:"EndMessageID"},"(0000,5110)":{tag:"(0000,5110)",vr:"LT",vm:"1",name:"DisplayFormat"},"(0000,5120)":{tag:"(0000,5120)",vr:"LT",vm:"1",name:"PagePositionID"},"(0000,5130)":{tag:"(0000,5130)",vr:"CS",vm:"1",name:"TextFormatID"},"(0000,5140)":{tag:"(0000,5140)",vr:"CS",vm:"1",name:"NormalReverse"},"(0000,5150)":{tag:"(0000,5150)",vr:"CS",vm:"1",name:"AddGrayScale"},"(0000,5160)":{tag:"(0000,5160)",vr:"CS",vm:"1",name:"Borders"},"(0000,5170)":{tag:"(0000,5170)",vr:"IS",vm:"1",name:"Copies"},"(0000,5180)":{tag:"(0000,5180)",vr:"CS",vm:"1",name:"CommandMagnificationType"},"(0000,5190)":{tag:"(0000,5190)",vr:"CS",vm:"1",name:"Erase"},"(0000,51A0)":{tag:"(0000,51A0)",vr:"CS",vm:"1",name:"Print"},"(0000,51B0)":{tag:"(0000,51B0)",vr:"US",vm:"1-n",name:"Overlays"},"(0002,0000)":{tag:"(0002,0000)",vr:"UL",vm:"1",name:"FileMetaInformationGroupLength"},"(0002,0001)":{tag:"(0002,0001)",vr:"OB",vm:"1",name:"FileMetaInformationVersion"},"(0002,0002)":{tag:"(0002,0002)",vr:"UI",vm:"1",name:"MediaStorageSOPClassUID"},"(0002,0003)":{tag:"(0002,0003)",vr:"UI",vm:"1",name:"MediaStorageSOPInstanceUID"},"(0002,0010)":{tag:"(0002,0010)",vr:"UI",vm:"1",name:"TransferSyntaxUID"},"(0002,0012)":{tag:"(0002,0012)",vr:"UI",vm:"1",name:"ImplementationClassUID"},"(0002,0013)":{tag:"(0002,0013)",vr:"SH",vm:"1",name:"ImplementationVersionName"},"(0002,0016)":{tag:"(0002,0016)",vr:"AE",vm:"1",name:"SourceApplicationEntityTitle"},"(0002,0017)":{tag:"(0002,0017)",vr:"AE",vm:"1",name:"SendingApplicationEntityTitle"},"(0002,0018)":{tag:"(0002,0018)",vr:"AE",vm:"1",name:"ReceivingApplicationEntityTitle"},"(0002,0026)":{tag:"(0002,0026)",vr:"UR",vm:"1",name:"SourcePresentationAddress"},"(0002,0027)":{tag:"(0002,0027)",vr:"UR",vm:"1",name:"SendingPresentationAddress"},"(0002,0028)":{tag:"(0002,0028)",vr:"UR",vm:"1",name:"ReceivingPresentationAddress"},"(0002,0031)":{tag:"(0002,0031)",vr:"OB",vm:"1",name:"RTVMetaInformationVersion"},"(0002,0032)":{tag:"(0002,0032)",vr:"UI",vm:"1",name:"RTVCommunicationSOPClassUID"},"(0002,0033)":{tag:"(0002,0033)",vr:"UI",vm:"1",name:"RTVCommunicationSOPInstanceUID"},"(0002,0035)":{tag:"(0002,0035)",vr:"OB",vm:"1",name:"RTVSourceIdentifier"},"(0002,0036)":{tag:"(0002,0036)",vr:"OB",vm:"1",name:"RTVFlowIdentifier"},"(0002,0037)":{tag:"(0002,0037)",vr:"UL",vm:"1",name:"RTVFlowRTPSamplingRate"},"(0002,0038)":{tag:"(0002,0038)",vr:"FD",vm:"1",name:"RTVFlowActualFrameDuration"},"(0002,0100)":{tag:"(0002,0100)",vr:"UI",vm:"1",name:"PrivateInformationCreatorUID"},"(0002,0102)":{tag:"(0002,0102)",vr:"OB",vm:"1",name:"PrivateInformation"},"(0004,1130)":{tag:"(0004,1130)",vr:"CS",vm:"1",name:"FileSetID"},"(0004,1141)":{tag:"(0004,1141)",vr:"CS",vm:"1-8",name:"FileSetDescriptorFileID"},"(0004,1142)":{tag:"(0004,1142)",vr:"CS",vm:"1",name:"SpecificCharacterSetOfFileSetDescriptorFile"},"(0004,1200)":{tag:"(0004,1200)",vr:"UL",vm:"1",name:"OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"},"(0004,1202)":{tag:"(0004,1202)",vr:"UL",vm:"1",name:"OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"},"(0004,1212)":{tag:"(0004,1212)",vr:"US",vm:"1",name:"FileSetConsistencyFlag"},"(0004,1220)":{tag:"(0004,1220)",vr:"SQ",vm:"1",name:"DirectoryRecordSequence"},"(0004,1400)":{tag:"(0004,1400)",vr:"UL",vm:"1",name:"OffsetOfTheNextDirectoryRecord"},"(0004,1410)":{tag:"(0004,1410)",vr:"US",vm:"1",name:"RecordInUseFlag"},"(0004,1420)":{tag:"(0004,1420)",vr:"UL",vm:"1",name:"OffsetOfReferencedLowerLevelDirectoryEntity"},"(0004,1430)":{tag:"(0004,1430)",vr:"CS",vm:"1",name:"DirectoryRecordType"},"(0004,1432)":{tag:"(0004,1432)",vr:"UI",vm:"1",name:"PrivateRecordUID"},"(0004,1500)":{tag:"(0004,1500)",vr:"CS",vm:"1-8",name:"ReferencedFileID"},"(0004,1504)":{tag:"(0004,1504)",vr:"UL",vm:"1",name:"MRDRDirectoryRecordOffset"},"(0004,1510)":{tag:"(0004,1510)",vr:"UI",vm:"1",name:"ReferencedSOPClassUIDInFile"},"(0004,1511)":{tag:"(0004,1511)",vr:"UI",vm:"1",name:"ReferencedSOPInstanceUIDInFile"},"(0004,1512)":{tag:"(0004,1512)",vr:"UI",vm:"1",name:"ReferencedTransferSyntaxUIDInFile"},"(0004,151A)":{tag:"(0004,151A)",vr:"UI",vm:"1-n",name:"ReferencedRelatedGeneralSOPClassUIDInFile"},"(0004,1600)":{tag:"(0004,1600)",vr:"UL",vm:"1",name:"NumberOfReferences"},"(0006,0001)":{tag:"(0006,0001)",vr:"SQ",vm:"1",name:"CurrentFrameFunctionalGroupsSequence"},"(0008,0001)":{tag:"(0008,0001)",vr:"UL",vm:"1",name:"LengthToEnd"},"(0008,0005)":{tag:"(0008,0005)",vr:"CS",vm:"1-n",name:"SpecificCharacterSet"},"(0008,0006)":{tag:"(0008,0006)",vr:"SQ",vm:"1",name:"LanguageCodeSequence"},"(0008,0008)":{tag:"(0008,0008)",vr:"CS",vm:"2-n",name:"ImageType"},"(0008,0010)":{tag:"(0008,0010)",vr:"SH",vm:"1",name:"RecognitionCode"},"(0008,0012)":{tag:"(0008,0012)",vr:"DA",vm:"1",name:"InstanceCreationDate"},"(0008,0013)":{tag:"(0008,0013)",vr:"TM",vm:"1",name:"InstanceCreationTime"},"(0008,0014)":{tag:"(0008,0014)",vr:"UI",vm:"1",name:"InstanceCreatorUID"},"(0008,0015)":{tag:"(0008,0015)",vr:"DT",vm:"1",name:"InstanceCoercionDateTime"},"(0008,0016)":{tag:"(0008,0016)",vr:"UI",vm:"1",name:"SOPClassUID"},"(0008,0018)":{tag:"(0008,0018)",vr:"UI",vm:"1",name:"SOPInstanceUID"},"(0008,001A)":{tag:"(0008,001A)",vr:"UI",vm:"1-n",name:"RelatedGeneralSOPClassUID"},"(0008,001B)":{tag:"(0008,001B)",vr:"UI",vm:"1",name:"OriginalSpecializedSOPClassUID"},"(0008,0020)":{tag:"(0008,0020)",vr:"DA",vm:"1",name:"StudyDate"},"(0008,0021)":{tag:"(0008,0021)",vr:"DA",vm:"1",name:"SeriesDate"},"(0008,0022)":{tag:"(0008,0022)",vr:"DA",vm:"1",name:"AcquisitionDate"},"(0008,0023)":{tag:"(0008,0023)",vr:"DA",vm:"1",name:"ContentDate"},"(0008,0024)":{tag:"(0008,0024)",vr:"DA",vm:"1",name:"OverlayDate"},"(0008,0025)":{tag:"(0008,0025)",vr:"DA",vm:"1",name:"CurveDate"},"(0008,002A)":{tag:"(0008,002A)",vr:"DT",vm:"1",name:"AcquisitionDateTime"},"(0008,0030)":{tag:"(0008,0030)",vr:"TM",vm:"1",name:"StudyTime"},"(0008,0031)":{tag:"(0008,0031)",vr:"TM",vm:"1",name:"SeriesTime"},"(0008,0032)":{tag:"(0008,0032)",vr:"TM",vm:"1",name:"AcquisitionTime"},"(0008,0033)":{tag:"(0008,0033)",vr:"TM",vm:"1",name:"ContentTime"},"(0008,0034)":{tag:"(0008,0034)",vr:"TM",vm:"1",name:"OverlayTime"},"(0008,0035)":{tag:"(0008,0035)",vr:"TM",vm:"1",name:"CurveTime"},"(0008,0040)":{tag:"(0008,0040)",vr:"US",vm:"1",name:"DataSetType"},"(0008,0041)":{tag:"(0008,0041)",vr:"LO",vm:"1",name:"DataSetSubtype"},"(0008,0042)":{tag:"(0008,0042)",vr:"CS",vm:"1",name:"NuclearMedicineSeriesType"},"(0008,0050)":{tag:"(0008,0050)",vr:"SH",vm:"1",name:"AccessionNumber"},"(0008,0051)":{tag:"(0008,0051)",vr:"SQ",vm:"1",name:"IssuerOfAccessionNumberSequence"},"(0008,0052)":{tag:"(0008,0052)",vr:"CS",vm:"1",name:"QueryRetrieveLevel"},"(0008,0053)":{tag:"(0008,0053)",vr:"CS",vm:"1",name:"QueryRetrieveView"},"(0008,0054)":{tag:"(0008,0054)",vr:"AE",vm:"1-n",name:"RetrieveAETitle"},"(0008,0055)":{tag:"(0008,0055)",vr:"AE",vm:"1",name:"StationAETitle"},"(0008,0056)":{tag:"(0008,0056)",vr:"CS",vm:"1",name:"InstanceAvailability"},"(0008,0058)":{tag:"(0008,0058)",vr:"UI",vm:"1-n",name:"FailedSOPInstanceUIDList"},"(0008,0060)":{tag:"(0008,0060)",vr:"CS",vm:"1",name:"Modality"},"(0008,0061)":{tag:"(0008,0061)",vr:"CS",vm:"1-n",name:"ModalitiesInStudy"},"(0008,0062)":{tag:"(0008,0062)",vr:"UI",vm:"1-n",name:"SOPClassesInStudy"},"(0008,0063)":{tag:"(0008,0063)",vr:"SQ",vm:"1",name:"AnatomicRegionsInStudyCodeSequence"},"(0008,0064)":{tag:"(0008,0064)",vr:"CS",vm:"1",name:"ConversionType"},"(0008,0068)":{tag:"(0008,0068)",vr:"CS",vm:"1",name:"PresentationIntentType"},"(0008,0070)":{tag:"(0008,0070)",vr:"LO",vm:"1",name:"Manufacturer"},"(0008,0080)":{tag:"(0008,0080)",vr:"LO",vm:"1",name:"InstitutionName"},"(0008,0081)":{tag:"(0008,0081)",vr:"ST",vm:"1",name:"InstitutionAddress"},"(0008,0082)":{tag:"(0008,0082)",vr:"SQ",vm:"1",name:"InstitutionCodeSequence"},"(0008,0090)":{tag:"(0008,0090)",vr:"PN",vm:"1",name:"ReferringPhysicianName"},"(0008,0092)":{tag:"(0008,0092)",vr:"ST",vm:"1",name:"ReferringPhysicianAddress"},"(0008,0094)":{tag:"(0008,0094)",vr:"SH",vm:"1-n",name:"ReferringPhysicianTelephoneNumbers"},"(0008,0096)":{tag:"(0008,0096)",vr:"SQ",vm:"1",name:"ReferringPhysicianIdentificationSequence"},"(0008,009C)":{tag:"(0008,009C)",vr:"PN",vm:"1-n",name:"ConsultingPhysicianName"},"(0008,009D)":{tag:"(0008,009D)",vr:"SQ",vm:"1",name:"ConsultingPhysicianIdentificationSequence"},"(0008,0100)":{tag:"(0008,0100)",vr:"SH",vm:"1",name:"CodeValue"},"(0008,0101)":{tag:"(0008,0101)",vr:"LO",vm:"1",name:"ExtendedCodeValue"},"(0008,0102)":{tag:"(0008,0102)",vr:"SH",vm:"1",name:"CodingSchemeDesignator"},"(0008,0103)":{tag:"(0008,0103)",vr:"SH",vm:"1",name:"CodingSchemeVersion"},"(0008,0104)":{tag:"(0008,0104)",vr:"LO",vm:"1",name:"CodeMeaning"},"(0008,0105)":{tag:"(0008,0105)",vr:"CS",vm:"1",name:"MappingResource"},"(0008,0106)":{tag:"(0008,0106)",vr:"DT",vm:"1",name:"ContextGroupVersion"},"(0008,0107)":{tag:"(0008,0107)",vr:"DT",vm:"1",name:"ContextGroupLocalVersion"},"(0008,0108)":{tag:"(0008,0108)",vr:"LT",vm:"1",name:"ExtendedCodeMeaning"},"(0008,0109)":{tag:"(0008,0109)",vr:"SQ",vm:"1",name:"CodingSchemeResourcesSequence"},"(0008,010A)":{tag:"(0008,010A)",vr:"CS",vm:"1",name:"CodingSchemeURLType"},"(0008,010B)":{tag:"(0008,010B)",vr:"CS",vm:"1",name:"ContextGroupExtensionFlag"},"(0008,010C)":{tag:"(0008,010C)",vr:"UI",vm:"1",name:"CodingSchemeUID"},"(0008,010D)":{tag:"(0008,010D)",vr:"UI",vm:"1",name:"ContextGroupExtensionCreatorUID"},"(0008,010E)":{tag:"(0008,010E)",vr:"UR",vm:"1",name:"CodingSchemeURL"},"(0008,010F)":{tag:"(0008,010F)",vr:"CS",vm:"1",name:"ContextIdentifier"},"(0008,0110)":{tag:"(0008,0110)",vr:"SQ",vm:"1",name:"CodingSchemeIdentificationSequence"},"(0008,0112)":{tag:"(0008,0112)",vr:"LO",vm:"1",name:"CodingSchemeRegistry"},"(0008,0114)":{tag:"(0008,0114)",vr:"ST",vm:"1",name:"CodingSchemeExternalID"},"(0008,0115)":{tag:"(0008,0115)",vr:"ST",vm:"1",name:"CodingSchemeName"},"(0008,0116)":{tag:"(0008,0116)",vr:"ST",vm:"1",name:"CodingSchemeResponsibleOrganization"},"(0008,0117)":{tag:"(0008,0117)",vr:"UI",vm:"1",name:"ContextUID"},"(0008,0118)":{tag:"(0008,0118)",vr:"UI",vm:"1",name:"MappingResourceUID"},"(0008,0119)":{tag:"(0008,0119)",vr:"UC",vm:"1",name:"LongCodeValue"},"(0008,0120)":{tag:"(0008,0120)",vr:"UR",vm:"1",name:"URNCodeValue"},"(0008,0121)":{tag:"(0008,0121)",vr:"SQ",vm:"1",name:"EquivalentCodeSequence"},"(0008,0122)":{tag:"(0008,0122)",vr:"LO",vm:"1",name:"MappingResourceName"},"(0008,0123)":{tag:"(0008,0123)",vr:"SQ",vm:"1",name:"ContextGroupIdentificationSequence"},"(0008,0124)":{tag:"(0008,0124)",vr:"SQ",vm:"1",name:"MappingResourceIdentificationSequence"},"(0008,0201)":{tag:"(0008,0201)",vr:"SH",vm:"1",name:"TimezoneOffsetFromUTC"},"(0008,0202)":{tag:"(0008,0202)",vr:"",vm:"",name:""},"(0008,0220)":{tag:"(0008,0220)",vr:"SQ",vm:"1",name:"ResponsibleGroupCodeSequence"},"(0008,0221)":{tag:"(0008,0221)",vr:"CS",vm:"1",name:"EquipmentModality"},"(0008,0222)":{tag:"(0008,0222)",vr:"LO",vm:"1",name:"ManufacturerRelatedModelGroup"},"(0008,0300)":{tag:"(0008,0300)",vr:"SQ",vm:"1",name:"PrivateDataElementCharacteristicsSequence"},"(0008,0301)":{tag:"(0008,0301)",vr:"US",vm:"1",name:"PrivateGroupReference"},"(0008,0302)":{tag:"(0008,0302)",vr:"LO",vm:"1",name:"PrivateCreatorReference"},"(0008,0303)":{tag:"(0008,0303)",vr:"CS",vm:"1",name:"BlockIdentifyingInformationStatus"},"(0008,0304)":{tag:"(0008,0304)",vr:"US",vm:"1-n",name:"NonidentifyingPrivateElements"},"(0008,0305)":{tag:"(0008,0305)",vr:"SQ",vm:"1",name:"DeidentificationActionSequence"},"(0008,0306)":{tag:"(0008,0306)",vr:"US",vm:"1-n",name:"IdentifyingPrivateElements"},"(0008,0307)":{tag:"(0008,0307)",vr:"CS",vm:"1",name:"DeidentificationAction"},"(0008,0308)":{tag:"(0008,0308)",vr:"US",vm:"1",name:"PrivateDataElement"},"(0008,0309)":{tag:"(0008,0309)",vr:"UL",vm:"1-3",name:"PrivateDataElementValueMultiplicity"},"(0008,030A)":{tag:"(0008,030A)",vr:"CS",vm:"1",name:"PrivateDataElementValueRepresentation"},"(0008,030B)":{tag:"(0008,030B)",vr:"UL",vm:"1-2",name:"PrivateDataElementNumberOfItems"},"(0008,030C)":{tag:"(0008,030C)",vr:"UC",vm:"1",name:"PrivateDataElementName"},"(0008,030D)":{tag:"(0008,030D)",vr:"UC",vm:"1",name:"PrivateDataElementKeyword"},"(0008,030E)":{tag:"(0008,030E)",vr:"UT",vm:"1",name:"PrivateDataElementDescription"},"(0008,030F)":{tag:"(0008,030F)",vr:"UT",vm:"1",name:"PrivateDataElementEncoding"},"(0008,0310)":{tag:"(0008,0310)",vr:"SQ",vm:"1",name:"PrivateDataElementDefinitionSequence"},"(0008,1000)":{tag:"(0008,1000)",vr:"AE",vm:"1",name:"NetworkID"},"(0008,1010)":{tag:"(0008,1010)",vr:"SH",vm:"1",name:"StationName"},"(0008,1030)":{tag:"(0008,1030)",vr:"LO",vm:"1",name:"StudyDescription"},"(0008,1032)":{tag:"(0008,1032)",vr:"SQ",vm:"1",name:"ProcedureCodeSequence"},"(0008,103E)":{tag:"(0008,103E)",vr:"LO",vm:"1",name:"SeriesDescription"},"(0008,103F)":{tag:"(0008,103F)",vr:"SQ",vm:"1",name:"SeriesDescriptionCodeSequence"},"(0008,1040)":{tag:"(0008,1040)",vr:"LO",vm:"1",name:"InstitutionalDepartmentName"},"(0008,1041)":{tag:"(0008,1041)",vr:"SQ",vm:"1",name:"InstitutionalDepartmentTypeCodeSequence"},"(0008,1048)":{tag:"(0008,1048)",vr:"PN",vm:"1-n",name:"PhysiciansOfRecord"},"(0008,1049)":{tag:"(0008,1049)",vr:"SQ",vm:"1",name:"PhysiciansOfRecordIdentificationSequence"},"(0008,1050)":{tag:"(0008,1050)",vr:"PN",vm:"1-n",name:"PerformingPhysicianName"},"(0008,1052)":{tag:"(0008,1052)",vr:"SQ",vm:"1",name:"PerformingPhysicianIdentificationSequence"},"(0008,1060)":{tag:"(0008,1060)",vr:"PN",vm:"1-n",name:"NameOfPhysiciansReadingStudy"},"(0008,1062)":{tag:"(0008,1062)",vr:"SQ",vm:"1",name:"PhysiciansReadingStudyIdentificationSequence"},"(0008,1070)":{tag:"(0008,1070)",vr:"PN",vm:"1-n",name:"OperatorsName"},"(0008,1072)":{tag:"(0008,1072)",vr:"SQ",vm:"1",name:"OperatorIdentificationSequence"},"(0008,1080)":{tag:"(0008,1080)",vr:"LO",vm:"1-n",name:"AdmittingDiagnosesDescription"},"(0008,1084)":{tag:"(0008,1084)",vr:"SQ",vm:"1",name:"AdmittingDiagnosesCodeSequence"},"(0008,1090)":{tag:"(0008,1090)",vr:"LO",vm:"1",name:"ManufacturerModelName"},"(0008,1100)":{tag:"(0008,1100)",vr:"SQ",vm:"1",name:"ReferencedResultsSequence"},"(0008,1110)":{tag:"(0008,1110)",vr:"SQ",vm:"1",name:"ReferencedStudySequence"},"(0008,1111)":{tag:"(0008,1111)",vr:"SQ",vm:"1",name:"ReferencedPerformedProcedureStepSequence"},"(0008,1115)":{tag:"(0008,1115)",vr:"SQ",vm:"1",name:"ReferencedSeriesSequence"},"(0008,1120)":{tag:"(0008,1120)",vr:"SQ",vm:"1",name:"ReferencedPatientSequence"},"(0008,1125)":{tag:"(0008,1125)",vr:"SQ",vm:"1",name:"ReferencedVisitSequence"},"(0008,1130)":{tag:"(0008,1130)",vr:"SQ",vm:"1",name:"ReferencedOverlaySequence"},"(0008,1134)":{tag:"(0008,1134)",vr:"SQ",vm:"1",name:"ReferencedStereometricInstanceSequence"},"(0008,113A)":{tag:"(0008,113A)",vr:"SQ",vm:"1",name:"ReferencedWaveformSequence"},"(0008,1140)":{tag:"(0008,1140)",vr:"SQ",vm:"1",name:"ReferencedImageSequence"},"(0008,1145)":{tag:"(0008,1145)",vr:"SQ",vm:"1",name:"ReferencedCurveSequence"},"(0008,114A)":{tag:"(0008,114A)",vr:"SQ",vm:"1",name:"ReferencedInstanceSequence"},"(0008,114B)":{tag:"(0008,114B)",vr:"SQ",vm:"1",name:"ReferencedRealWorldValueMappingInstanceSequence"},"(0008,1150)":{tag:"(0008,1150)",vr:"UI",vm:"1",name:"ReferencedSOPClassUID"},"(0008,1155)":{tag:"(0008,1155)",vr:"UI",vm:"1",name:"ReferencedSOPInstanceUID"},"(0008,1156)":{tag:"(0008,1156)",vr:"SQ",vm:"1",name:"DefinitionSourceSequence"},"(0008,115A)":{tag:"(0008,115A)",vr:"UI",vm:"1-n",name:"SOPClassesSupported"},"(0008,1160)":{tag:"(0008,1160)",vr:"IS",vm:"1-n",name:"ReferencedFrameNumber"},"(0008,1161)":{tag:"(0008,1161)",vr:"UL",vm:"1-n",name:"SimpleFrameList"},"(0008,1162)":{tag:"(0008,1162)",vr:"UL",vm:"3-3n",name:"CalculatedFrameList"},"(0008,1163)":{tag:"(0008,1163)",vr:"FD",vm:"2",name:"TimeRange"},"(0008,1164)":{tag:"(0008,1164)",vr:"SQ",vm:"1",name:"FrameExtractionSequence"},"(0008,1167)":{tag:"(0008,1167)",vr:"UI",vm:"1",name:"MultiFrameSourceSOPInstanceUID"},"(0008,1190)":{tag:"(0008,1190)",vr:"UR",vm:"1",name:"RetrieveURL"},"(0008,1195)":{tag:"(0008,1195)",vr:"UI",vm:"1",name:"TransactionUID"},"(0008,1196)":{tag:"(0008,1196)",vr:"US",vm:"1",name:"WarningReason"},"(0008,1197)":{tag:"(0008,1197)",vr:"US",vm:"1",name:"FailureReason"},"(0008,1198)":{tag:"(0008,1198)",vr:"SQ",vm:"1",name:"FailedSOPSequence"},"(0008,1199)":{tag:"(0008,1199)",vr:"SQ",vm:"1",name:"ReferencedSOPSequence"},"(0008,119A)":{tag:"(0008,119A)",vr:"SQ",vm:"1",name:"OtherFailuresSequence"},"(0008,1200)":{tag:"(0008,1200)",vr:"SQ",vm:"1",name:"StudiesContainingOtherReferencedInstancesSequence"},"(0008,1250)":{tag:"(0008,1250)",vr:"SQ",vm:"1",name:"RelatedSeriesSequence"},"(0008,2110)":{tag:"(0008,2110)",vr:"CS",vm:"1",name:"LossyImageCompressionRetired"},"(0008,2111)":{tag:"(0008,2111)",vr:"ST",vm:"1",name:"DerivationDescription"},"(0008,2112)":{tag:"(0008,2112)",vr:"SQ",vm:"1",name:"SourceImageSequence"},"(0008,2120)":{tag:"(0008,2120)",vr:"SH",vm:"1",name:"StageName"},"(0008,2122)":{tag:"(0008,2122)",vr:"IS",vm:"1",name:"StageNumber"},"(0008,2124)":{tag:"(0008,2124)",vr:"IS",vm:"1",name:"NumberOfStages"},"(0008,2127)":{tag:"(0008,2127)",vr:"SH",vm:"1",name:"ViewName"},"(0008,2128)":{tag:"(0008,2128)",vr:"IS",vm:"1",name:"ViewNumber"},"(0008,2129)":{tag:"(0008,2129)",vr:"IS",vm:"1",name:"NumberOfEventTimers"},"(0008,212A)":{tag:"(0008,212A)",vr:"IS",vm:"1",name:"NumberOfViewsInStage"},"(0008,2130)":{tag:"(0008,2130)",vr:"DS",vm:"1-n",name:"EventElapsedTimes"},"(0008,2132)":{tag:"(0008,2132)",vr:"LO",vm:"1-n",name:"EventTimerNames"},"(0008,2133)":{tag:"(0008,2133)",vr:"SQ",vm:"1",name:"EventTimerSequence"},"(0008,2134)":{tag:"(0008,2134)",vr:"FD",vm:"1",name:"EventTimeOffset"},"(0008,2135)":{tag:"(0008,2135)",vr:"SQ",vm:"1",name:"EventCodeSequence"},"(0008,2142)":{tag:"(0008,2142)",vr:"IS",vm:"1",name:"StartTrim"},"(0008,2143)":{tag:"(0008,2143)",vr:"IS",vm:"1",name:"StopTrim"},"(0008,2144)":{tag:"(0008,2144)",vr:"IS",vm:"1",name:"RecommendedDisplayFrameRate"},"(0008,2200)":{tag:"(0008,2200)",vr:"CS",vm:"1",name:"TransducerPosition"},"(0008,2204)":{tag:"(0008,2204)",vr:"CS",vm:"1",name:"TransducerOrientation"},"(0008,2208)":{tag:"(0008,2208)",vr:"CS",vm:"1",name:"AnatomicStructure"},"(0008,2218)":{tag:"(0008,2218)",vr:"SQ",vm:"1",name:"AnatomicRegionSequence"},"(0008,2220)":{tag:"(0008,2220)",vr:"SQ",vm:"1",name:"AnatomicRegionModifierSequence"},"(0008,2228)":{tag:"(0008,2228)",vr:"SQ",vm:"1",name:"PrimaryAnatomicStructureSequence"},"(0008,2229)":{tag:"(0008,2229)",vr:"SQ",vm:"1",name:"AnatomicStructureSpaceOrRegionSequence"},"(0008,2230)":{tag:"(0008,2230)",vr:"SQ",vm:"1",name:"PrimaryAnatomicStructureModifierSequence"},"(0008,2240)":{tag:"(0008,2240)",vr:"SQ",vm:"1",name:"TransducerPositionSequence"},"(0008,2242)":{tag:"(0008,2242)",vr:"SQ",vm:"1",name:"TransducerPositionModifierSequence"},"(0008,2244)":{tag:"(0008,2244)",vr:"SQ",vm:"1",name:"TransducerOrientationSequence"},"(0008,2246)":{tag:"(0008,2246)",vr:"SQ",vm:"1",name:"TransducerOrientationModifierSequence"},"(0008,2251)":{tag:"(0008,2251)",vr:"SQ",vm:"1",name:"AnatomicStructureSpaceOrRegionCodeSequenceTrial"},"(0008,2253)":{tag:"(0008,2253)",vr:"SQ",vm:"1",name:"AnatomicPortalOfEntranceCodeSequenceTrial"},"(0008,2255)":{tag:"(0008,2255)",vr:"SQ",vm:"1",name:"AnatomicApproachDirectionCodeSequenceTrial"},"(0008,2256)":{tag:"(0008,2256)",vr:"ST",vm:"1",name:"AnatomicPerspectiveDescriptionTrial"},"(0008,2257)":{tag:"(0008,2257)",vr:"SQ",vm:"1",name:"AnatomicPerspectiveCodeSequenceTrial"},"(0008,2258)":{tag:"(0008,2258)",vr:"ST",vm:"1",name:"AnatomicLocationOfExaminingInstrumentDescriptionTrial"},"(0008,2259)":{tag:"(0008,2259)",vr:"SQ",vm:"1",name:"AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"},"(0008,225A)":{tag:"(0008,225A)",vr:"SQ",vm:"1",name:"AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"},"(0008,225C)":{tag:"(0008,225C)",vr:"SQ",vm:"1",name:"OnAxisBackgroundAnatomicStructureCodeSequenceTrial"},"(0008,3001)":{tag:"(0008,3001)",vr:"SQ",vm:"1",name:"AlternateRepresentationSequence"},"(0008,3002)":{tag:"(0008,3002)",vr:"UI",vm:"1-n",name:"AvailableTransferSyntaxUID"},"(0008,3010)":{tag:"(0008,3010)",vr:"UI",vm:"1-n",name:"IrradiationEventUID"},"(0008,3011)":{tag:"(0008,3011)",vr:"SQ",vm:"1",name:"SourceIrradiationEventSequence"},"(0008,3012)":{tag:"(0008,3012)",vr:"UI",vm:"1",name:"RadiopharmaceuticalAdministrationEventUID"},"(0008,4000)":{tag:"(0008,4000)",vr:"LT",vm:"1",name:"IdentifyingComments"},"(0008,9007)":{tag:"(0008,9007)",vr:"CS",vm:"4",name:"FrameType"},"(0008,9092)":{tag:"(0008,9092)",vr:"SQ",vm:"1",name:"ReferencedImageEvidenceSequence"},"(0008,9121)":{tag:"(0008,9121)",vr:"SQ",vm:"1",name:"ReferencedRawDataSequence"},"(0008,9123)":{tag:"(0008,9123)",vr:"UI",vm:"1",name:"CreatorVersionUID"},"(0008,9124)":{tag:"(0008,9124)",vr:"SQ",vm:"1",name:"DerivationImageSequence"},"(0008,9154)":{tag:"(0008,9154)",vr:"SQ",vm:"1",name:"SourceImageEvidenceSequence"},"(0008,9205)":{tag:"(0008,9205)",vr:"CS",vm:"1",name:"PixelPresentation"},"(0008,9206)":{tag:"(0008,9206)",vr:"CS",vm:"1",name:"VolumetricProperties"},"(0008,9207)":{tag:"(0008,9207)",vr:"CS",vm:"1",name:"VolumeBasedCalculationTechnique"},"(0008,9208)":{tag:"(0008,9208)",vr:"CS",vm:"1",name:"ComplexImageComponent"},"(0008,9209)":{tag:"(0008,9209)",vr:"CS",vm:"1",name:"AcquisitionContrast"},"(0008,9215)":{tag:"(0008,9215)",vr:"SQ",vm:"1",name:"DerivationCodeSequence"},"(0008,9237)":{tag:"(0008,9237)",vr:"SQ",vm:"1",name:"ReferencedPresentationStateSequence"},"(0008,9410)":{tag:"(0008,9410)",vr:"SQ",vm:"1",name:"ReferencedOtherPlaneSequence"},"(0008,9458)":{tag:"(0008,9458)",vr:"SQ",vm:"1",name:"FrameDisplaySequence"},"(0008,9459)":{tag:"(0008,9459)",vr:"FL",vm:"1",name:"RecommendedDisplayFrameRateInFloat"},"(0008,9460)":{tag:"(0008,9460)",vr:"CS",vm:"1",name:"SkipFrameRangeFlag"},"(0010,0010)":{tag:"(0010,0010)",vr:"PN",vm:"1",name:"PatientName"},"(0010,0020)":{tag:"(0010,0020)",vr:"LO",vm:"1",name:"PatientID"},"(0010,0021)":{tag:"(0010,0021)",vr:"LO",vm:"1",name:"IssuerOfPatientID"},"(0010,0022)":{tag:"(0010,0022)",vr:"CS",vm:"1",name:"TypeOfPatientID"},"(0010,0024)":{tag:"(0010,0024)",vr:"SQ",vm:"1",name:"IssuerOfPatientIDQualifiersSequence"},"(0010,0026)":{tag:"(0010,0026)",vr:"SQ",vm:"1",name:"SourcePatientGroupIdentificationSequence"},"(0010,0027)":{tag:"(0010,0027)",vr:"SQ",vm:"1",name:"GroupOfPatientsIdentificationSequence"},"(0010,0028)":{tag:"(0010,0028)",vr:"US",vm:"3",name:"SubjectRelativePositionInImage"},"(0010,0030)":{tag:"(0010,0030)",vr:"DA",vm:"1",name:"PatientBirthDate"},"(0010,0032)":{tag:"(0010,0032)",vr:"TM",vm:"1",name:"PatientBirthTime"},"(0010,0033)":{tag:"(0010,0033)",vr:"LO",vm:"1",name:"PatientBirthDateInAlternativeCalendar"},"(0010,0034)":{tag:"(0010,0034)",vr:"LO",vm:"1",name:"PatientDeathDateInAlternativeCalendar"},"(0010,0035)":{tag:"(0010,0035)",vr:"CS",vm:"1",name:"PatientAlternativeCalendar"},"(0010,0040)":{tag:"(0010,0040)",vr:"CS",vm:"1",name:"PatientSex"},"(0010,0050)":{tag:"(0010,0050)",vr:"SQ",vm:"1",name:"PatientInsurancePlanCodeSequence"},"(0010,0101)":{tag:"(0010,0101)",vr:"SQ",vm:"1",name:"PatientPrimaryLanguageCodeSequence"},"(0010,0102)":{tag:"(0010,0102)",vr:"SQ",vm:"1",name:"PatientPrimaryLanguageModifierCodeSequence"},"(0010,0200)":{tag:"(0010,0200)",vr:"CS",vm:"1",name:"QualityControlSubject"},"(0010,0201)":{tag:"(0010,0201)",vr:"SQ",vm:"1",name:"QualityControlSubjectTypeCodeSequence"},"(0010,0212)":{tag:"(0010,0212)",vr:"UC",vm:"1",name:"StrainDescription"},"(0010,0213)":{tag:"(0010,0213)",vr:"LO",vm:"1",name:"StrainNomenclature"},"(0010,0214)":{tag:"(0010,0214)",vr:"LO",vm:"1",name:"StrainStockNumber"},"(0010,0215)":{tag:"(0010,0215)",vr:"SQ",vm:"1",name:"StrainSourceRegistryCodeSequence"},"(0010,0216)":{tag:"(0010,0216)",vr:"SQ",vm:"1",name:"StrainStockSequence"},"(0010,0217)":{tag:"(0010,0217)",vr:"LO",vm:"1",name:"StrainSource"},"(0010,0218)":{tag:"(0010,0218)",vr:"UT",vm:"1",name:"StrainAdditionalInformation"},"(0010,0219)":{tag:"(0010,0219)",vr:"SQ",vm:"1",name:"StrainCodeSequence"},"(0010,0221)":{tag:"(0010,0221)",vr:"SQ",vm:"1",name:"GeneticModificationsSequence"},"(0010,0222)":{tag:"(0010,0222)",vr:"UC",vm:"1",name:"GeneticModificationsDescription"},"(0010,0223)":{tag:"(0010,0223)",vr:"LO",vm:"1",name:"GeneticModificationsNomenclature"},"(0010,0229)":{tag:"(0010,0229)",vr:"SQ",vm:"1",name:"GeneticModificationsCodeSequence"},"(0010,1000)":{tag:"(0010,1000)",vr:"LO",vm:"1-n",name:"OtherPatientIDs"},"(0010,1001)":{tag:"(0010,1001)",vr:"PN",vm:"1-n",name:"OtherPatientNames"},"(0010,1002)":{tag:"(0010,1002)",vr:"SQ",vm:"1",name:"OtherPatientIDsSequence"},"(0010,1005)":{tag:"(0010,1005)",vr:"PN",vm:"1",name:"PatientBirthName"},"(0010,1010)":{tag:"(0010,1010)",vr:"AS",vm:"1",name:"PatientAge"},"(0010,1020)":{tag:"(0010,1020)",vr:"DS",vm:"1",name:"PatientSize"},"(0010,1021)":{tag:"(0010,1021)",vr:"SQ",vm:"1",name:"PatientSizeCodeSequence"},"(0010,1022)":{tag:"(0010,1022)",vr:"DS",vm:"1",name:"PatientBodyMassIndex"},"(0010,1023)":{tag:"(0010,1023)",vr:"DS",vm:"1",name:"MeasuredAPDimension"},"(0010,1024)":{tag:"(0010,1024)",vr:"DS",vm:"1",name:"MeasuredLateralDimension"},"(0010,1030)":{tag:"(0010,1030)",vr:"DS",vm:"1",name:"PatientWeight"},"(0010,1040)":{tag:"(0010,1040)",vr:"LO",vm:"1",name:"PatientAddress"},"(0010,1050)":{tag:"(0010,1050)",vr:"LO",vm:"1-n",name:"InsurancePlanIdentification"},"(0010,1060)":{tag:"(0010,1060)",vr:"PN",vm:"1",name:"PatientMotherBirthName"},"(0010,1080)":{tag:"(0010,1080)",vr:"LO",vm:"1",name:"MilitaryRank"},"(0010,1081)":{tag:"(0010,1081)",vr:"LO",vm:"1",name:"BranchOfService"},"(0010,1090)":{tag:"(0010,1090)",vr:"LO",vm:"1",name:"MedicalRecordLocator"},"(0010,1100)":{tag:"(0010,1100)",vr:"SQ",vm:"1",name:"ReferencedPatientPhotoSequence"},"(0010,2000)":{tag:"(0010,2000)",vr:"LO",vm:"1-n",name:"MedicalAlerts"},"(0010,2110)":{tag:"(0010,2110)",vr:"LO",vm:"1-n",name:"Allergies"},"(0010,2150)":{tag:"(0010,2150)",vr:"LO",vm:"1",name:"CountryOfResidence"},"(0010,2152)":{tag:"(0010,2152)",vr:"LO",vm:"1",name:"RegionOfResidence"},"(0010,2154)":{tag:"(0010,2154)",vr:"SH",vm:"1-n",name:"PatientTelephoneNumbers"},"(0010,2155)":{tag:"(0010,2155)",vr:"LT",vm:"1",name:"PatientTelecomInformation"},"(0010,2160)":{tag:"(0010,2160)",vr:"SH",vm:"1",name:"EthnicGroup"},"(0010,2180)":{tag:"(0010,2180)",vr:"SH",vm:"1",name:"Occupation"},"(0010,21A0)":{tag:"(0010,21A0)",vr:"CS",vm:"1",name:"SmokingStatus"},"(0010,21B0)":{tag:"(0010,21B0)",vr:"LT",vm:"1",name:"AdditionalPatientHistory"},"(0010,21C0)":{tag:"(0010,21C0)",vr:"US",vm:"1",name:"PregnancyStatus"},"(0010,21D0)":{tag:"(0010,21D0)",vr:"DA",vm:"1",name:"LastMenstrualDate"},"(0010,21F0)":{tag:"(0010,21F0)",vr:"LO",vm:"1",name:"PatientReligiousPreference"},"(0010,2201)":{tag:"(0010,2201)",vr:"LO",vm:"1",name:"PatientSpeciesDescription"},"(0010,2202)":{tag:"(0010,2202)",vr:"SQ",vm:"1",name:"PatientSpeciesCodeSequence"},"(0010,2203)":{tag:"(0010,2203)",vr:"CS",vm:"1",name:"PatientSexNeutered"},"(0010,2210)":{tag:"(0010,2210)",vr:"CS",vm:"1",name:"AnatomicalOrientationType"},"(0010,2292)":{tag:"(0010,2292)",vr:"LO",vm:"1",name:"PatientBreedDescription"},"(0010,2293)":{tag:"(0010,2293)",vr:"SQ",vm:"1",name:"PatientBreedCodeSequence"},"(0010,2294)":{tag:"(0010,2294)",vr:"SQ",vm:"1",name:"BreedRegistrationSequence"},"(0010,2295)":{tag:"(0010,2295)",vr:"LO",vm:"1",name:"BreedRegistrationNumber"},"(0010,2296)":{tag:"(0010,2296)",vr:"SQ",vm:"1",name:"BreedRegistryCodeSequence"},"(0010,2297)":{tag:"(0010,2297)",vr:"PN",vm:"1",name:"ResponsiblePerson"},"(0010,2298)":{tag:"(0010,2298)",vr:"CS",vm:"1",name:"ResponsiblePersonRole"},"(0010,2299)":{tag:"(0010,2299)",vr:"LO",vm:"1",name:"ResponsibleOrganization"},"(0010,4000)":{tag:"(0010,4000)",vr:"LT",vm:"1",name:"PatientComments"},"(0010,9431)":{tag:"(0010,9431)",vr:"FL",vm:"1",name:"ExaminedBodyThickness"},"(0012,0010)":{tag:"(0012,0010)",vr:"LO",vm:"1",name:"ClinicalTrialSponsorName"},"(0012,0020)":{tag:"(0012,0020)",vr:"LO",vm:"1",name:"ClinicalTrialProtocolID"},"(0012,0021)":{tag:"(0012,0021)",vr:"LO",vm:"1",name:"ClinicalTrialProtocolName"},"(0012,0030)":{tag:"(0012,0030)",vr:"LO",vm:"1",name:"ClinicalTrialSiteID"},"(0012,0031)":{tag:"(0012,0031)",vr:"LO",vm:"1",name:"ClinicalTrialSiteName"},"(0012,0040)":{tag:"(0012,0040)",vr:"LO",vm:"1",name:"ClinicalTrialSubjectID"},"(0012,0042)":{tag:"(0012,0042)",vr:"LO",vm:"1",name:"ClinicalTrialSubjectReadingID"},"(0012,0050)":{tag:"(0012,0050)",vr:"LO",vm:"1",name:"ClinicalTrialTimePointID"},"(0012,0051)":{tag:"(0012,0051)",vr:"ST",vm:"1",name:"ClinicalTrialTimePointDescription"},"(0012,0052)":{tag:"(0012,0052)",vr:"FD",vm:"1",name:"LongitudinalTemporalOffsetFromEvent"},"(0012,0053)":{tag:"(0012,0053)",vr:"CS",vm:"1",name:"LongitudinalTemporalEventType"},"(0012,0060)":{tag:"(0012,0060)",vr:"LO",vm:"1",name:"ClinicalTrialCoordinatingCenterName"},"(0012,0062)":{tag:"(0012,0062)",vr:"CS",vm:"1",name:"PatientIdentityRemoved"},"(0012,0063)":{tag:"(0012,0063)",vr:"LO",vm:"1-n",name:"DeidentificationMethod"},"(0012,0064)":{tag:"(0012,0064)",vr:"SQ",vm:"1",name:"DeidentificationMethodCodeSequence"},"(0012,0071)":{tag:"(0012,0071)",vr:"LO",vm:"1",name:"ClinicalTrialSeriesID"},"(0012,0072)":{tag:"(0012,0072)",vr:"LO",vm:"1",name:"ClinicalTrialSeriesDescription"},"(0012,0081)":{tag:"(0012,0081)",vr:"LO",vm:"1",name:"ClinicalTrialProtocolEthicsCommitteeName"},"(0012,0082)":{tag:"(0012,0082)",vr:"LO",vm:"1",name:"ClinicalTrialProtocolEthicsCommitteeApprovalNumber"},"(0012,0083)":{tag:"(0012,0083)",vr:"SQ",vm:"1",name:"ConsentForClinicalTrialUseSequence"},"(0012,0084)":{tag:"(0012,0084)",vr:"CS",vm:"1",name:"DistributionType"},"(0012,0085)":{tag:"(0012,0085)",vr:"CS",vm:"1",name:"ConsentForDistributionFlag"},"(0012,0086)":{tag:"(0012,0086)",vr:"DA",vm:"1",name:"EthicsCommitteeApprovalEffectivenessStartDate"},"(0012,0087)":{tag:"(0012,0087)",vr:"DA",vm:"1",name:"EthicsCommitteeApprovalEffectivenessEndDate"},"(0014,0023)":{tag:"(0014,0023)",vr:"ST",vm:"1",name:"CADFileFormat"},"(0014,0024)":{tag:"(0014,0024)",vr:"ST",vm:"1",name:"ComponentReferenceSystem"},"(0014,0025)":{tag:"(0014,0025)",vr:"ST",vm:"1",name:"ComponentManufacturingProcedure"},"(0014,0028)":{tag:"(0014,0028)",vr:"ST",vm:"1",name:"ComponentManufacturer"},"(0014,0030)":{tag:"(0014,0030)",vr:"DS",vm:"1-n",name:"MaterialThickness"},"(0014,0032)":{tag:"(0014,0032)",vr:"DS",vm:"1-n",name:"MaterialPipeDiameter"},"(0014,0034)":{tag:"(0014,0034)",vr:"DS",vm:"1-n",name:"MaterialIsolationDiameter"},"(0014,0042)":{tag:"(0014,0042)",vr:"ST",vm:"1",name:"MaterialGrade"},"(0014,0044)":{tag:"(0014,0044)",vr:"ST",vm:"1",name:"MaterialPropertiesDescription"},"(0014,0045)":{tag:"(0014,0045)",vr:"ST",vm:"1",name:"MaterialPropertiesFileFormatRetired"},"(0014,0046)":{tag:"(0014,0046)",vr:"LT",vm:"1",name:"MaterialNotes"},"(0014,0050)":{tag:"(0014,0050)",vr:"CS",vm:"1",name:"ComponentShape"},"(0014,0052)":{tag:"(0014,0052)",vr:"CS",vm:"1",name:"CurvatureType"},"(0014,0054)":{tag:"(0014,0054)",vr:"DS",vm:"1",name:"OuterDiameter"},"(0014,0056)":{tag:"(0014,0056)",vr:"DS",vm:"1",name:"InnerDiameter"},"(0014,0100)":{tag:"(0014,0100)",vr:"LO",vm:"1-n",name:"ComponentWelderIDs"},"(0014,0101)":{tag:"(0014,0101)",vr:"CS",vm:"1",name:"SecondaryApprovalStatus"},"(0014,0102)":{tag:"(0014,0102)",vr:"DA",vm:"1",name:"SecondaryReviewDate"},"(0014,0103)":{tag:"(0014,0103)",vr:"TM",vm:"1",name:"SecondaryReviewTime"},"(0014,0104)":{tag:"(0014,0104)",vr:"PN",vm:"1",name:"SecondaryReviewerName"},"(0014,0105)":{tag:"(0014,0105)",vr:"ST",vm:"1",name:"RepairID"},"(0014,0106)":{tag:"(0014,0106)",vr:"SQ",vm:"1",name:"MultipleComponentApprovalSequence"},"(0014,0107)":{tag:"(0014,0107)",vr:"CS",vm:"1-n",name:"OtherApprovalStatus"},"(0014,0108)":{tag:"(0014,0108)",vr:"CS",vm:"1-n",name:"OtherSecondaryApprovalStatus"},"(0014,1010)":{tag:"(0014,1010)",vr:"ST",vm:"1",name:"ActualEnvironmentalConditions"},"(0014,1020)":{tag:"(0014,1020)",vr:"DA",vm:"1",name:"ExpiryDate"},"(0014,1040)":{tag:"(0014,1040)",vr:"ST",vm:"1",name:"EnvironmentalConditions"},"(0014,2002)":{tag:"(0014,2002)",vr:"SQ",vm:"1",name:"EvaluatorSequence"},"(0014,2004)":{tag:"(0014,2004)",vr:"IS",vm:"1",name:"EvaluatorNumber"},"(0014,2006)":{tag:"(0014,2006)",vr:"PN",vm:"1",name:"EvaluatorName"},"(0014,2008)":{tag:"(0014,2008)",vr:"IS",vm:"1",name:"EvaluationAttempt"},"(0014,2012)":{tag:"(0014,2012)",vr:"SQ",vm:"1",name:"IndicationSequence"},"(0014,2014)":{tag:"(0014,2014)",vr:"IS",vm:"1",name:"IndicationNumber"},"(0014,2016)":{tag:"(0014,2016)",vr:"SH",vm:"1",name:"IndicationLabel"},"(0014,2018)":{tag:"(0014,2018)",vr:"ST",vm:"1",name:"IndicationDescription"},"(0014,201A)":{tag:"(0014,201A)",vr:"CS",vm:"1-n",name:"IndicationType"},"(0014,201C)":{tag:"(0014,201C)",vr:"CS",vm:"1",name:"IndicationDisposition"},"(0014,201E)":{tag:"(0014,201E)",vr:"SQ",vm:"1",name:"IndicationROISequence"},"(0014,2030)":{tag:"(0014,2030)",vr:"SQ",vm:"1",name:"IndicationPhysicalPropertySequence"},"(0014,2032)":{tag:"(0014,2032)",vr:"SH",vm:"1",name:"PropertyLabel"},"(0014,2202)":{tag:"(0014,2202)",vr:"IS",vm:"1",name:"CoordinateSystemNumberOfAxes"},"(0014,2204)":{tag:"(0014,2204)",vr:"SQ",vm:"1",name:"CoordinateSystemAxesSequence"},"(0014,2206)":{tag:"(0014,2206)",vr:"ST",vm:"1",name:"CoordinateSystemAxisDescription"},"(0014,2208)":{tag:"(0014,2208)",vr:"CS",vm:"1",name:"CoordinateSystemDataSetMapping"},"(0014,220A)":{tag:"(0014,220A)",vr:"IS",vm:"1",name:"CoordinateSystemAxisNumber"},"(0014,220C)":{tag:"(0014,220C)",vr:"CS",vm:"1",name:"CoordinateSystemAxisType"},"(0014,220E)":{tag:"(0014,220E)",vr:"CS",vm:"1",name:"CoordinateSystemAxisUnits"},"(0014,2210)":{tag:"(0014,2210)",vr:"OB",vm:"1",name:"CoordinateSystemAxisValues"},"(0014,2220)":{tag:"(0014,2220)",vr:"SQ",vm:"1",name:"CoordinateSystemTransformSequence"},"(0014,2222)":{tag:"(0014,2222)",vr:"ST",vm:"1",name:"TransformDescription"},"(0014,2224)":{tag:"(0014,2224)",vr:"IS",vm:"1",name:"TransformNumberOfAxes"},"(0014,2226)":{tag:"(0014,2226)",vr:"IS",vm:"1-n",name:"TransformOrderOfAxes"},"(0014,2228)":{tag:"(0014,2228)",vr:"CS",vm:"1",name:"TransformedAxisUnits"},"(0014,222A)":{tag:"(0014,222A)",vr:"DS",vm:"1-n",name:"CoordinateSystemTransformRotationAndScaleMatrix"},"(0014,222C)":{tag:"(0014,222C)",vr:"DS",vm:"1-n",name:"CoordinateSystemTransformTranslationMatrix"},"(0014,3011)":{tag:"(0014,3011)",vr:"DS",vm:"1",name:"InternalDetectorFrameTime"},"(0014,3012)":{tag:"(0014,3012)",vr:"DS",vm:"1",name:"NumberOfFramesIntegrated"},"(0014,3020)":{tag:"(0014,3020)",vr:"SQ",vm:"1",name:"DetectorTemperatureSequence"},"(0014,3022)":{tag:"(0014,3022)",vr:"ST",vm:"1",name:"SensorName"},"(0014,3024)":{tag:"(0014,3024)",vr:"DS",vm:"1",name:"HorizontalOffsetOfSensor"},"(0014,3026)":{tag:"(0014,3026)",vr:"DS",vm:"1",name:"VerticalOffsetOfSensor"},"(0014,3028)":{tag:"(0014,3028)",vr:"DS",vm:"1",name:"SensorTemperature"},"(0014,3040)":{tag:"(0014,3040)",vr:"SQ",vm:"1",name:"DarkCurrentSequence"},"(0014,3050)":{tag:"(0014,3050)",vr:"OB|OW",vm:"1",name:"DarkCurrentCounts"},"(0014,3060)":{tag:"(0014,3060)",vr:"SQ",vm:"1",name:"GainCorrectionReferenceSequence"},"(0014,3070)":{tag:"(0014,3070)",vr:"OB|OW",vm:"1",name:"AirCounts"},"(0014,3071)":{tag:"(0014,3071)",vr:"DS",vm:"1",name:"KVUsedInGainCalibration"},"(0014,3072)":{tag:"(0014,3072)",vr:"DS",vm:"1",name:"MAUsedInGainCalibration"},"(0014,3073)":{tag:"(0014,3073)",vr:"DS",vm:"1",name:"NumberOfFramesUsedForIntegration"},"(0014,3074)":{tag:"(0014,3074)",vr:"LO",vm:"1",name:"FilterMaterialUsedInGainCalibration"},"(0014,3075)":{tag:"(0014,3075)",vr:"DS",vm:"1",name:"FilterThicknessUsedInGainCalibration"},"(0014,3076)":{tag:"(0014,3076)",vr:"DA",vm:"1",name:"DateOfGainCalibration"},"(0014,3077)":{tag:"(0014,3077)",vr:"TM",vm:"1",name:"TimeOfGainCalibration"},"(0014,3080)":{tag:"(0014,3080)",vr:"OB",vm:"1",name:"BadPixelImage"},"(0014,3099)":{tag:"(0014,3099)",vr:"LT",vm:"1",name:"CalibrationNotes"},"(0014,3100)":{tag:"(0014,3100)",vr:"LT",vm:"1",name:"LinearityCorrectionTechnique"},"(0014,3101)":{tag:"(0014,3101)",vr:"LT",vm:"1",name:"BeamHardeningCorrectionTechnique"},"(0014,4002)":{tag:"(0014,4002)",vr:"SQ",vm:"1",name:"PulserEquipmentSequence"},"(0014,4004)":{tag:"(0014,4004)",vr:"CS",vm:"1",name:"PulserType"},"(0014,4006)":{tag:"(0014,4006)",vr:"LT",vm:"1",name:"PulserNotes"},"(0014,4008)":{tag:"(0014,4008)",vr:"SQ",vm:"1",name:"ReceiverEquipmentSequence"},"(0014,400A)":{tag:"(0014,400A)",vr:"CS",vm:"1",name:"AmplifierType"},"(0014,400C)":{tag:"(0014,400C)",vr:"LT",vm:"1",name:"ReceiverNotes"},"(0014,400E)":{tag:"(0014,400E)",vr:"SQ",vm:"1",name:"PreAmplifierEquipmentSequence"},"(0014,400F)":{tag:"(0014,400F)",vr:"LT",vm:"1",name:"PreAmplifierNotes"},"(0014,4010)":{tag:"(0014,4010)",vr:"SQ",vm:"1",name:"TransmitTransducerSequence"},"(0014,4011)":{tag:"(0014,4011)",vr:"SQ",vm:"1",name:"ReceiveTransducerSequence"},"(0014,4012)":{tag:"(0014,4012)",vr:"US",vm:"1",name:"NumberOfElements"},"(0014,4013)":{tag:"(0014,4013)",vr:"CS",vm:"1",name:"ElementShape"},"(0014,4014)":{tag:"(0014,4014)",vr:"DS",vm:"1",name:"ElementDimensionA"},"(0014,4015)":{tag:"(0014,4015)",vr:"DS",vm:"1",name:"ElementDimensionB"},"(0014,4016)":{tag:"(0014,4016)",vr:"DS",vm:"1",name:"ElementPitchA"},"(0014,4017)":{tag:"(0014,4017)",vr:"DS",vm:"1",name:"MeasuredBeamDimensionA"},"(0014,4018)":{tag:"(0014,4018)",vr:"DS",vm:"1",name:"MeasuredBeamDimensionB"},"(0014,4019)":{tag:"(0014,4019)",vr:"DS",vm:"1",name:"LocationOfMeasuredBeamDiameter"},"(0014,401A)":{tag:"(0014,401A)",vr:"DS",vm:"1",name:"NominalFrequency"},"(0014,401B)":{tag:"(0014,401B)",vr:"DS",vm:"1",name:"MeasuredCenterFrequency"},"(0014,401C)":{tag:"(0014,401C)",vr:"DS",vm:"1",name:"MeasuredBandwidth"},"(0014,401D)":{tag:"(0014,401D)",vr:"DS",vm:"1",name:"ElementPitchB"},"(0014,4020)":{tag:"(0014,4020)",vr:"SQ",vm:"1",name:"PulserSettingsSequence"},"(0014,4022)":{tag:"(0014,4022)",vr:"DS",vm:"1",name:"PulseWidth"},"(0014,4024)":{tag:"(0014,4024)",vr:"DS",vm:"1",name:"ExcitationFrequency"},"(0014,4026)":{tag:"(0014,4026)",vr:"CS",vm:"1",name:"ModulationType"},"(0014,4028)":{tag:"(0014,4028)",vr:"DS",vm:"1",name:"Damping"},"(0014,4030)":{tag:"(0014,4030)",vr:"SQ",vm:"1",name:"ReceiverSettingsSequence"},"(0014,4031)":{tag:"(0014,4031)",vr:"DS",vm:"1",name:"AcquiredSoundpathLength"},"(0014,4032)":{tag:"(0014,4032)",vr:"CS",vm:"1",name:"AcquisitionCompressionType"},"(0014,4033)":{tag:"(0014,4033)",vr:"IS",vm:"1",name:"AcquisitionSampleSize"},"(0014,4034)":{tag:"(0014,4034)",vr:"DS",vm:"1",name:"RectifierSmoothing"},"(0014,4035)":{tag:"(0014,4035)",vr:"SQ",vm:"1",name:"DACSequence"},"(0014,4036)":{tag:"(0014,4036)",vr:"CS",vm:"1",name:"DACType"},"(0014,4038)":{tag:"(0014,4038)",vr:"DS",vm:"1-n",name:"DACGainPoints"},"(0014,403A)":{tag:"(0014,403A)",vr:"DS",vm:"1-n",name:"DACTimePoints"},"(0014,403C)":{tag:"(0014,403C)",vr:"DS",vm:"1-n",name:"DACAmplitude"},"(0014,4040)":{tag:"(0014,4040)",vr:"SQ",vm:"1",name:"PreAmplifierSettingsSequence"},"(0014,4050)":{tag:"(0014,4050)",vr:"SQ",vm:"1",name:"TransmitTransducerSettingsSequence"},"(0014,4051)":{tag:"(0014,4051)",vr:"SQ",vm:"1",name:"ReceiveTransducerSettingsSequence"},"(0014,4052)":{tag:"(0014,4052)",vr:"DS",vm:"1",name:"IncidentAngle"},"(0014,4054)":{tag:"(0014,4054)",vr:"ST",vm:"1",name:"CouplingTechnique"},"(0014,4056)":{tag:"(0014,4056)",vr:"ST",vm:"1",name:"CouplingMedium"},"(0014,4057)":{tag:"(0014,4057)",vr:"DS",vm:"1",name:"CouplingVelocity"},"(0014,4058)":{tag:"(0014,4058)",vr:"DS",vm:"1",name:"ProbeCenterLocationX"},"(0014,4059)":{tag:"(0014,4059)",vr:"DS",vm:"1",name:"ProbeCenterLocationZ"},"(0014,405A)":{tag:"(0014,405A)",vr:"DS",vm:"1",name:"SoundPathLength"},"(0014,405C)":{tag:"(0014,405C)",vr:"ST",vm:"1",name:"DelayLawIdentifier"},"(0014,4060)":{tag:"(0014,4060)",vr:"SQ",vm:"1",name:"GateSettingsSequence"},"(0014,4062)":{tag:"(0014,4062)",vr:"DS",vm:"1",name:"GateThreshold"},"(0014,4064)":{tag:"(0014,4064)",vr:"DS",vm:"1",name:"VelocityOfSound"},"(0014,4070)":{tag:"(0014,4070)",vr:"SQ",vm:"1",name:"CalibrationSettingsSequence"},"(0014,4072)":{tag:"(0014,4072)",vr:"ST",vm:"1",name:"CalibrationProcedure"},"(0014,4074)":{tag:"(0014,4074)",vr:"SH",vm:"1",name:"ProcedureVersion"},"(0014,4076)":{tag:"(0014,4076)",vr:"DA",vm:"1",name:"ProcedureCreationDate"},"(0014,4078)":{tag:"(0014,4078)",vr:"DA",vm:"1",name:"ProcedureExpirationDate"},"(0014,407A)":{tag:"(0014,407A)",vr:"DA",vm:"1",name:"ProcedureLastModifiedDate"},"(0014,407C)":{tag:"(0014,407C)",vr:"TM",vm:"1-n",name:"CalibrationTime"},"(0014,407E)":{tag:"(0014,407E)",vr:"DA",vm:"1-n",name:"CalibrationDate"},"(0014,4080)":{tag:"(0014,4080)",vr:"SQ",vm:"1",name:"ProbeDriveEquipmentSequence"},"(0014,4081)":{tag:"(0014,4081)",vr:"CS",vm:"1",name:"DriveType"},"(0014,4082)":{tag:"(0014,4082)",vr:"LT",vm:"1",name:"ProbeDriveNotes"},"(0014,4083)":{tag:"(0014,4083)",vr:"SQ",vm:"1",name:"DriveProbeSequence"},"(0014,4084)":{tag:"(0014,4084)",vr:"DS",vm:"1",name:"ProbeInductance"},"(0014,4085)":{tag:"(0014,4085)",vr:"DS",vm:"1",name:"ProbeResistance"},"(0014,4086)":{tag:"(0014,4086)",vr:"SQ",vm:"1",name:"ReceiveProbeSequence"},"(0014,4087)":{tag:"(0014,4087)",vr:"SQ",vm:"1",name:"ProbeDriveSettingsSequence"},"(0014,4088)":{tag:"(0014,4088)",vr:"DS",vm:"1",name:"BridgeResistors"},"(0014,4089)":{tag:"(0014,4089)",vr:"DS",vm:"1",name:"ProbeOrientationAngle"},"(0014,408B)":{tag:"(0014,408B)",vr:"DS",vm:"1",name:"UserSelectedGainY"},"(0014,408C)":{tag:"(0014,408C)",vr:"DS",vm:"1",name:"UserSelectedPhase"},"(0014,408D)":{tag:"(0014,408D)",vr:"DS",vm:"1",name:"UserSelectedOffsetX"},"(0014,408E)":{tag:"(0014,408E)",vr:"DS",vm:"1",name:"UserSelectedOffsetY"},"(0014,4091)":{tag:"(0014,4091)",vr:"SQ",vm:"1",name:"ChannelSettingsSequence"},"(0014,4092)":{tag:"(0014,4092)",vr:"DS",vm:"1",name:"ChannelThreshold"},"(0014,409A)":{tag:"(0014,409A)",vr:"SQ",vm:"1",name:"ScannerSettingsSequence"},"(0014,409B)":{tag:"(0014,409B)",vr:"ST",vm:"1",name:"ScanProcedure"},"(0014,409C)":{tag:"(0014,409C)",vr:"DS",vm:"1",name:"TranslationRateX"},"(0014,409D)":{tag:"(0014,409D)",vr:"DS",vm:"1",name:"TranslationRateY"},"(0014,409F)":{tag:"(0014,409F)",vr:"DS",vm:"1",name:"ChannelOverlap"},"(0014,40A0)":{tag:"(0014,40A0)",vr:"LO",vm:"1-n",name:"ImageQualityIndicatorType"},"(0014,40A1)":{tag:"(0014,40A1)",vr:"LO",vm:"1-n",name:"ImageQualityIndicatorMaterial"},"(0014,40A2)":{tag:"(0014,40A2)",vr:"LO",vm:"1-n",name:"ImageQualityIndicatorSize"},"(0014,5002)":{tag:"(0014,5002)",vr:"IS",vm:"1",name:"LINACEnergy"},"(0014,5004)":{tag:"(0014,5004)",vr:"IS",vm:"1",name:"LINACOutput"},"(0014,5100)":{tag:"(0014,5100)",vr:"US",vm:"1",name:"ActiveAperture"},"(0014,5101)":{tag:"(0014,5101)",vr:"DS",vm:"1",name:"TotalAperture"},"(0014,5102)":{tag:"(0014,5102)",vr:"DS",vm:"1",name:"ApertureElevation"},"(0014,5103)":{tag:"(0014,5103)",vr:"DS",vm:"1",name:"MainLobeAngle"},"(0014,5104)":{tag:"(0014,5104)",vr:"DS",vm:"1",name:"MainRoofAngle"},"(0014,5105)":{tag:"(0014,5105)",vr:"CS",vm:"1",name:"ConnectorType"},"(0014,5106)":{tag:"(0014,5106)",vr:"SH",vm:"1",name:"WedgeModelNumber"},"(0014,5107)":{tag:"(0014,5107)",vr:"DS",vm:"1",name:"WedgeAngleFloat"},"(0014,5108)":{tag:"(0014,5108)",vr:"DS",vm:"1",name:"WedgeRoofAngle"},"(0014,5109)":{tag:"(0014,5109)",vr:"CS",vm:"1",name:"WedgeElement1Position"},"(0014,510A)":{tag:"(0014,510A)",vr:"DS",vm:"1",name:"WedgeMaterialVelocity"},"(0014,510B)":{tag:"(0014,510B)",vr:"SH",vm:"1",name:"WedgeMaterial"},"(0014,510C)":{tag:"(0014,510C)",vr:"DS",vm:"1",name:"WedgeOffsetZ"},"(0014,510D)":{tag:"(0014,510D)",vr:"DS",vm:"1",name:"WedgeOriginOffsetX"},"(0014,510E)":{tag:"(0014,510E)",vr:"DS",vm:"1",name:"WedgeTimeDelay"},"(0014,510F)":{tag:"(0014,510F)",vr:"SH",vm:"1",name:"WedgeName"},"(0014,5110)":{tag:"(0014,5110)",vr:"SH",vm:"1",name:"WedgeManufacturerName"},"(0014,5111)":{tag:"(0014,5111)",vr:"LO",vm:"1",name:"WedgeDescription"},"(0014,5112)":{tag:"(0014,5112)",vr:"DS",vm:"1",name:"NominalBeamAngle"},"(0014,5113)":{tag:"(0014,5113)",vr:"DS",vm:"1",name:"WedgeOffsetX"},"(0014,5114)":{tag:"(0014,5114)",vr:"DS",vm:"1",name:"WedgeOffsetY"},"(0014,5115)":{tag:"(0014,5115)",vr:"DS",vm:"1",name:"WedgeTotalLength"},"(0014,5116)":{tag:"(0014,5116)",vr:"DS",vm:"1",name:"WedgeInContactLength"},"(0014,5117)":{tag:"(0014,5117)",vr:"DS",vm:"1",name:"WedgeFrontGap"},"(0014,5118)":{tag:"(0014,5118)",vr:"DS",vm:"1",name:"WedgeTotalHeight"},"(0014,5119)":{tag:"(0014,5119)",vr:"DS",vm:"1",name:"WedgeFrontHeight"},"(0014,511A)":{tag:"(0014,511A)",vr:"DS",vm:"1",name:"WedgeRearHeight"},"(0014,511B)":{tag:"(0014,511B)",vr:"DS",vm:"1",name:"WedgeTotalWidth"},"(0014,511C)":{tag:"(0014,511C)",vr:"DS",vm:"1",name:"WedgeInContactWidth"},"(0014,511D)":{tag:"(0014,511D)",vr:"DS",vm:"1",name:"WedgeChamferHeight"},"(0014,511E)":{tag:"(0014,511E)",vr:"CS",vm:"1",name:"WedgeCurve"},"(0014,511F)":{tag:"(0014,511F)",vr:"DS",vm:"1",name:"RadiusAlongWedge"},"(0016,0001)":{tag:"(0016,0001)",vr:"DS",vm:"1",name:"WhitePoint"},"(0016,0002)":{tag:"(0016,0002)",vr:"DS",vm:"3",name:"PrimaryChromaticities"},"(0016,0003)":{tag:"(0016,0003)",vr:"UT",vm:"1",name:"BatteryLevel"},"(0016,0004)":{tag:"(0016,0004)",vr:"DS",vm:"1",name:"ExposureTimeInSeconds"},"(0016,0005)":{tag:"(0016,0005)",vr:"DS",vm:"1",name:"FNumber"},"(0016,0006)":{tag:"(0016,0006)",vr:"IS",vm:"1",name:"OECFRows"},"(0016,0007)":{tag:"(0016,0007)",vr:"IS",vm:"1",name:"OECFColumns"},"(0016,0008)":{tag:"(0016,0008)",vr:"UC",vm:"1-n",name:"OECFColumnNames"},"(0016,0009)":{tag:"(0016,0009)",vr:"DS",vm:"1-n",name:"OECFValues"},"(0016,000A)":{tag:"(0016,000A)",vr:"IS",vm:"1",name:"SpatialFrequencyResponseRows"},"(0016,000B)":{tag:"(0016,000B)",vr:"IS",vm:"1",name:"SpatialFrequencyResponseColumns"},"(0016,000C)":{tag:"(0016,000C)",vr:"UC",vm:"1-n",name:"SpatialFrequencyResponseColumnNames"},"(0016,000D)":{tag:"(0016,000D)",vr:"DS",vm:"1-n",name:"SpatialFrequencyResponseValues"},"(0016,000E)":{tag:"(0016,000E)",vr:"IS",vm:"1",name:"ColorFilterArrayPatternRows"},"(0016,000F)":{tag:"(0016,000F)",vr:"IS",vm:"1",name:"ColorFilterArrayPatternColumns"},"(0016,0010)":{tag:"(0016,0010)",vr:"DS",vm:"1-n",name:"ColorFilterArrayPatternValues"},"(0016,0011)":{tag:"(0016,0011)",vr:"US",vm:"1",name:"FlashFiringStatus"},"(0016,0012)":{tag:"(0016,0012)",vr:"US",vm:"1",name:"FlashReturnStatus"},"(0016,0013)":{tag:"(0016,0013)",vr:"US",vm:"1",name:"FlashMode"},"(0016,0014)":{tag:"(0016,0014)",vr:"US",vm:"1",name:"FlashFunctionPresent"},"(0016,0015)":{tag:"(0016,0015)",vr:"US",vm:"1",name:"FlashRedEyeMode"},"(0016,0016)":{tag:"(0016,0016)",vr:"US",vm:"1",name:"ExposureProgram"},"(0016,0017)":{tag:"(0016,0017)",vr:"UT",vm:"1",name:"SpectralSensitivity"},"(0016,0018)":{tag:"(0016,0018)",vr:"IS",vm:"1",name:"PhotographicSensitivity"},"(0016,0019)":{tag:"(0016,0019)",vr:"IS",vm:"1",name:"SelfTimerMode"},"(0016,001A)":{tag:"(0016,001A)",vr:"US",vm:"1",name:"SensitivityType"},"(0016,001B)":{tag:"(0016,001B)",vr:"IS",vm:"1",name:"StandardOutputSensitivity"},"(0016,001C)":{tag:"(0016,001C)",vr:"IS",vm:"1",name:"RecommendedExposureIndex"},"(0016,001D)":{tag:"(0016,001D)",vr:"IS",vm:"1",name:"ISOSpeed"},"(0016,001E)":{tag:"(0016,001E)",vr:"IS",vm:"1",name:"ISOSpeedLatitudeyyy"},"(0016,001F)":{tag:"(0016,001F)",vr:"IS",vm:"1",name:"ISOSpeedLatitudezzz"},"(0016,0020)":{tag:"(0016,0020)",vr:"UT",vm:"1",name:"EXIFVersion"},"(0016,0021)":{tag:"(0016,0021)",vr:"DS",vm:"1",name:"ShutterSpeedValue"},"(0016,0022)":{tag:"(0016,0022)",vr:"DS",vm:"1",name:"ApertureValue"},"(0016,0023)":{tag:"(0016,0023)",vr:"DS",vm:"1",name:"BrightnessValue"},"(0016,0024)":{tag:"(0016,0024)",vr:"DS",vm:"1",name:"ExposureBiasValue"},"(0016,0025)":{tag:"(0016,0025)",vr:"DS",vm:"1",name:"MaxApertureValue"},"(0016,0026)":{tag:"(0016,0026)",vr:"DS",vm:"1",name:"SubjectDistance"},"(0016,0027)":{tag:"(0016,0027)",vr:"US",vm:"1",name:"MeteringMode"},"(0016,0028)":{tag:"(0016,0028)",vr:"US",vm:"1",name:"LightSource"},"(0016,0029)":{tag:"(0016,0029)",vr:"DS",vm:"1",name:"FocalLength"},"(0016,002A)":{tag:"(0016,002A)",vr:"IS",vm:"2-4",name:"SubjectArea"},"(0016,002B)":{tag:"(0016,002B)",vr:"OB",vm:"1",name:"MakerNote"},"(0016,0030)":{tag:"(0016,0030)",vr:"DS",vm:"1",name:"Temperature"},"(0016,0031)":{tag:"(0016,0031)",vr:"DS",vm:"1",name:"Humidity"},"(0016,0032)":{tag:"(0016,0032)",vr:"DS",vm:"1",name:"Pressure"},"(0016,0033)":{tag:"(0016,0033)",vr:"DS",vm:"1",name:"WaterDepth"},"(0016,0034)":{tag:"(0016,0034)",vr:"DS",vm:"1",name:"Acceleration"},"(0016,0035)":{tag:"(0016,0035)",vr:"DS",vm:"1",name:"CameraElevationAngle"},"(0016,0036)":{tag:"(0016,0036)",vr:"DS",vm:"1-2",name:"FlashEnergy"},"(0016,0037)":{tag:"(0016,0037)",vr:"IS",vm:"2",name:"SubjectLocation"},"(0016,0038)":{tag:"(0016,0038)",vr:"DS",vm:"1",name:"PhotographicExposureIndex"},"(0016,0039)":{tag:"(0016,0039)",vr:"US",vm:"1",name:"SensingMethod"},"(0016,003A)":{tag:"(0016,003A)",vr:"US",vm:"1",name:"FileSource"},"(0016,003B)":{tag:"(0016,003B)",vr:"US",vm:"1",name:"SceneType"},"(0016,0041)":{tag:"(0016,0041)",vr:"US",vm:"1",name:"CustomRendered"},"(0016,0042)":{tag:"(0016,0042)",vr:"US",vm:"1",name:"ExposureMode"},"(0016,0043)":{tag:"(0016,0043)",vr:"US",vm:"1",name:"WhiteBalance"},"(0016,0044)":{tag:"(0016,0044)",vr:"DS",vm:"1",name:"DigitalZoomRatio"},"(0016,0045)":{tag:"(0016,0045)",vr:"IS",vm:"1",name:"FocalLengthIn35mmFilm"},"(0016,0046)":{tag:"(0016,0046)",vr:"US",vm:"1",name:"SceneCaptureType"},"(0016,0047)":{tag:"(0016,0047)",vr:"US",vm:"1",name:"GainControl"},"(0016,0048)":{tag:"(0016,0048)",vr:"US",vm:"1",name:"Contrast"},"(0016,0049)":{tag:"(0016,0049)",vr:"US",vm:"1",name:"Saturation"},"(0016,004A)":{tag:"(0016,004A)",vr:"US",vm:"1",name:"Sharpness"},"(0016,004B)":{tag:"(0016,004B)",vr:"OB",vm:"1",name:"DeviceSettingDescription"},"(0016,004C)":{tag:"(0016,004C)",vr:"US",vm:"1",name:"SubjectDistanceRange"},"(0016,004D)":{tag:"(0016,004D)",vr:"UT",vm:"1",name:"CameraOwnerName"},"(0016,004E)":{tag:"(0016,004E)",vr:"DS",vm:"4",name:"LensSpecification"},"(0016,004F)":{tag:"(0016,004F)",vr:"UT",vm:"1",name:"LensMake"},"(0016,0050)":{tag:"(0016,0050)",vr:"UT",vm:"1",name:"LensModel"},"(0016,0051)":{tag:"(0016,0051)",vr:"UT",vm:"1",name:"LensSerialNumber"},"(0016,0061)":{tag:"(0016,0061)",vr:"CS",vm:"1",name:"InteroperabilityIndex"},"(0016,0062)":{tag:"(0016,0062)",vr:"OB",vm:"1",name:"InteroperabilityVersion"},"(0016,0070)":{tag:"(0016,0070)",vr:"OB",vm:"1",name:"GPSVersionID"},"(0016,0071)":{tag:"(0016,0071)",vr:"CS",vm:"1",name:"GPSLatitudeRef"},"(0016,0072)":{tag:"(0016,0072)",vr:"DS",vm:"3",name:"GPSLatitude"},"(0016,0073)":{tag:"(0016,0073)",vr:"CS",vm:"1",name:"GPSLongitudeRef"},"(0016,0074)":{tag:"(0016,0074)",vr:"DS",vm:"3",name:"GPSLongitude"},"(0016,0075)":{tag:"(0016,0075)",vr:"US",vm:"1",name:"GPSAltitudeRef"},"(0016,0076)":{tag:"(0016,0076)",vr:"DS",vm:"1",name:"GPSAltitude"},"(0016,0077)":{tag:"(0016,0077)",vr:"DT",vm:"1",name:"GPSTimeStamp"},"(0016,0078)":{tag:"(0016,0078)",vr:"UT",vm:"1",name:"GPSSatellites"},"(0016,0079)":{tag:"(0016,0079)",vr:"CS",vm:"1",name:"GPSStatus"},"(0016,007A)":{tag:"(0016,007A)",vr:"CS",vm:"1",name:"GPSMeasureMode"},"(0016,007B)":{tag:"(0016,007B)",vr:"DS",vm:"1",name:"GPSDOP"},"(0016,007C)":{tag:"(0016,007C)",vr:"CS",vm:"1",name:"GPSSpeedRef"},"(0016,007D)":{tag:"(0016,007D)",vr:"DS",vm:"1",name:"GPSSpeed"},"(0016,007E)":{tag:"(0016,007E)",vr:"CS",vm:"1",name:"GPSTrackRef"},"(0016,007F)":{tag:"(0016,007F)",vr:"DS",vm:"1",name:"GPSTrack"},"(0016,0080)":{tag:"(0016,0080)",vr:"CS",vm:"1",name:"GPSImgDirectionRef"},"(0016,0081)":{tag:"(0016,0081)",vr:"DS",vm:"1",name:"GPSImgDirection"},"(0016,0082)":{tag:"(0016,0082)",vr:"UT",vm:"1",name:"GPSMapDatum"},"(0016,0083)":{tag:"(0016,0083)",vr:"CS",vm:"1",name:"GPSDestLatitudeRef"},"(0016,0084)":{tag:"(0016,0084)",vr:"DS",vm:"3",name:"GPSDestLatitude"},"(0016,0085)":{tag:"(0016,0085)",vr:"CS",vm:"1",name:"GPSDestLongitudeRef"},"(0016,0086)":{tag:"(0016,0086)",vr:"DS",vm:"3",name:"GPSDestLongitude"},"(0016,0087)":{tag:"(0016,0087)",vr:"CS",vm:"1",name:"GPSDestBearingRef"},"(0016,0088)":{tag:"(0016,0088)",vr:"DS",vm:"1",name:"GPSDestBearing"},"(0016,0089)":{tag:"(0016,0089)",vr:"CS",vm:"1",name:"GPSDestDistanceRef"},"(0016,008A)":{tag:"(0016,008A)",vr:"DS",vm:"1",name:"GPSDestDistance"},"(0016,008B)":{tag:"(0016,008B)",vr:"OB",vm:"1",name:"GPSProcessingMethod"},"(0016,008C)":{tag:"(0016,008C)",vr:"OB",vm:"1",name:"GPSAreaInformation"},"(0016,008D)":{tag:"(0016,008D)",vr:"DT",vm:"1",name:"GPSDateStamp"},"(0016,008E)":{tag:"(0016,008E)",vr:"IS",vm:"1",name:"GPSDifferential"},"(0016,1001)":{tag:"(0016,1001)",vr:"CS",vm:"1",name:"LightSourcePolarization"},"(0016,1002)":{tag:"(0016,1002)",vr:"DS",vm:"1",name:"EmitterColorTemperature"},"(0016,1003)":{tag:"(0016,1003)",vr:"CS",vm:"1",name:"ContactMethod"},"(0016,1004)":{tag:"(0016,1004)",vr:"CS",vm:"1-n",name:"ImmersionMedia"},"(0016,1005)":{tag:"(0016,1005)",vr:"DS",vm:"1",name:"OpticalMagnificationFactor"},"(0018,0010)":{tag:"(0018,0010)",vr:"LO",vm:"1",name:"ContrastBolusAgent"},"(0018,0012)":{tag:"(0018,0012)",vr:"SQ",vm:"1",name:"ContrastBolusAgentSequence"},"(0018,0013)":{tag:"(0018,0013)",vr:"FL",vm:"1",name:"ContrastBolusT1Relaxivity"},"(0018,0014)":{tag:"(0018,0014)",vr:"SQ",vm:"1",name:"ContrastBolusAdministrationRouteSequence"},"(0018,0015)":{tag:"(0018,0015)",vr:"CS",vm:"1",name:"BodyPartExamined"},"(0018,0020)":{tag:"(0018,0020)",vr:"CS",vm:"1-n",name:"ScanningSequence"},"(0018,0021)":{tag:"(0018,0021)",vr:"CS",vm:"1-n",name:"SequenceVariant"},"(0018,0022)":{tag:"(0018,0022)",vr:"CS",vm:"1-n",name:"ScanOptions"},"(0018,0023)":{tag:"(0018,0023)",vr:"CS",vm:"1",name:"MRAcquisitionType"},"(0018,0024)":{tag:"(0018,0024)",vr:"SH",vm:"1",name:"SequenceName"},"(0018,0025)":{tag:"(0018,0025)",vr:"CS",vm:"1",name:"AngioFlag"},"(0018,0026)":{tag:"(0018,0026)",vr:"SQ",vm:"1",name:"InterventionDrugInformationSequence"},"(0018,0027)":{tag:"(0018,0027)",vr:"TM",vm:"1",name:"InterventionDrugStopTime"},"(0018,0028)":{tag:"(0018,0028)",vr:"DS",vm:"1",name:"InterventionDrugDose"},"(0018,0029)":{tag:"(0018,0029)",vr:"SQ",vm:"1",name:"InterventionDrugCodeSequence"},"(0018,002A)":{tag:"(0018,002A)",vr:"SQ",vm:"1",name:"AdditionalDrugSequence"},"(0018,0030)":{tag:"(0018,0030)",vr:"LO",vm:"1-n",name:"Radionuclide"},"(0018,0031)":{tag:"(0018,0031)",vr:"LO",vm:"1",name:"Radiopharmaceutical"},"(0018,0032)":{tag:"(0018,0032)",vr:"DS",vm:"1",name:"EnergyWindowCenterline"},"(0018,0033)":{tag:"(0018,0033)",vr:"DS",vm:"1-n",name:"EnergyWindowTotalWidth"},"(0018,0034)":{tag:"(0018,0034)",vr:"LO",vm:"1",name:"InterventionDrugName"},"(0018,0035)":{tag:"(0018,0035)",vr:"TM",vm:"1",name:"InterventionDrugStartTime"},"(0018,0036)":{tag:"(0018,0036)",vr:"SQ",vm:"1",name:"InterventionSequence"},"(0018,0037)":{tag:"(0018,0037)",vr:"CS",vm:"1",name:"TherapyType"},"(0018,0038)":{tag:"(0018,0038)",vr:"CS",vm:"1",name:"InterventionStatus"},"(0018,0039)":{tag:"(0018,0039)",vr:"CS",vm:"1",name:"TherapyDescription"},"(0018,003A)":{tag:"(0018,003A)",vr:"ST",vm:"1",name:"InterventionDescription"},"(0018,0040)":{tag:"(0018,0040)",vr:"IS",vm:"1",name:"CineRate"},"(0018,0042)":{tag:"(0018,0042)",vr:"CS",vm:"1",name:"InitialCineRunState"},"(0018,0050)":{tag:"(0018,0050)",vr:"DS",vm:"1",name:"SliceThickness"},"(0018,0060)":{tag:"(0018,0060)",vr:"DS",vm:"1",name:"KVP"},"(0018,0061)":{tag:"(0018,0061)",vr:"DS",vm:"1",name:""},"(0018,0070)":{tag:"(0018,0070)",vr:"IS",vm:"1",name:"CountsAccumulated"},"(0018,0071)":{tag:"(0018,0071)",vr:"CS",vm:"1",name:"AcquisitionTerminationCondition"},"(0018,0072)":{tag:"(0018,0072)",vr:"DS",vm:"1",name:"EffectiveDuration"},"(0018,0073)":{tag:"(0018,0073)",vr:"CS",vm:"1",name:"AcquisitionStartCondition"},"(0018,0074)":{tag:"(0018,0074)",vr:"IS",vm:"1",name:"AcquisitionStartConditionData"},"(0018,0075)":{tag:"(0018,0075)",vr:"IS",vm:"1",name:"AcquisitionTerminationConditionData"},"(0018,0080)":{tag:"(0018,0080)",vr:"DS",vm:"1",name:"RepetitionTime"},"(0018,0081)":{tag:"(0018,0081)",vr:"DS",vm:"1",name:"EchoTime"},"(0018,0082)":{tag:"(0018,0082)",vr:"DS",vm:"1",name:"InversionTime"},"(0018,0083)":{tag:"(0018,0083)",vr:"DS",vm:"1",name:"NumberOfAverages"},"(0018,0084)":{tag:"(0018,0084)",vr:"DS",vm:"1",name:"ImagingFrequency"},"(0018,0085)":{tag:"(0018,0085)",vr:"SH",vm:"1",name:"ImagedNucleus"},"(0018,0086)":{tag:"(0018,0086)",vr:"IS",vm:"1-n",name:"EchoNumbers"},"(0018,0087)":{tag:"(0018,0087)",vr:"DS",vm:"1",name:"MagneticFieldStrength"},"(0018,0088)":{tag:"(0018,0088)",vr:"DS",vm:"1",name:"SpacingBetweenSlices"},"(0018,0089)":{tag:"(0018,0089)",vr:"IS",vm:"1",name:"NumberOfPhaseEncodingSteps"},"(0018,0090)":{tag:"(0018,0090)",vr:"DS",vm:"1",name:"DataCollectionDiameter"},"(0018,0091)":{tag:"(0018,0091)",vr:"IS",vm:"1",name:"EchoTrainLength"},"(0018,0093)":{tag:"(0018,0093)",vr:"DS",vm:"1",name:"PercentSampling"},"(0018,0094)":{tag:"(0018,0094)",vr:"DS",vm:"1",name:"PercentPhaseFieldOfView"},"(0018,0095)":{tag:"(0018,0095)",vr:"DS",vm:"1",name:"PixelBandwidth"},"(0018,1000)":{tag:"(0018,1000)",vr:"LO",vm:"1",name:"DeviceSerialNumber"},"(0018,1002)":{tag:"(0018,1002)",vr:"UI",vm:"1",name:"DeviceUID"},"(0018,1003)":{tag:"(0018,1003)",vr:"LO",vm:"1",name:"DeviceID"},"(0018,1004)":{tag:"(0018,1004)",vr:"LO",vm:"1",name:"PlateID"},"(0018,1005)":{tag:"(0018,1005)",vr:"LO",vm:"1",name:"GeneratorID"},"(0018,1006)":{tag:"(0018,1006)",vr:"LO",vm:"1",name:"GridID"},"(0018,1007)":{tag:"(0018,1007)",vr:"LO",vm:"1",name:"CassetteID"},"(0018,1008)":{tag:"(0018,1008)",vr:"LO",vm:"1",name:"GantryID"},"(0018,1009)":{tag:"(0018,1009)",vr:"UT",vm:"1",name:"UniqueDeviceIdentifier"},"(0018,100A)":{tag:"(0018,100A)",vr:"SQ",vm:"1",name:"UDISequence"},"(0018,100B)":{tag:"(0018,100B)",vr:"UI",vm:"1-n",name:"ManufacturerDeviceClassUID"},"(0018,1010)":{tag:"(0018,1010)",vr:"LO",vm:"1",name:"SecondaryCaptureDeviceID"},"(0018,1011)":{tag:"(0018,1011)",vr:"LO",vm:"1",name:"HardcopyCreationDeviceID"},"(0018,1012)":{tag:"(0018,1012)",vr:"DA",vm:"1",name:"DateOfSecondaryCapture"},"(0018,1014)":{tag:"(0018,1014)",vr:"TM",vm:"1",name:"TimeOfSecondaryCapture"},"(0018,1016)":{tag:"(0018,1016)",vr:"LO",vm:"1",name:"SecondaryCaptureDeviceManufacturer"},"(0018,1017)":{tag:"(0018,1017)",vr:"LO",vm:"1",name:"HardcopyDeviceManufacturer"},"(0018,1018)":{tag:"(0018,1018)",vr:"LO",vm:"1",name:"SecondaryCaptureDeviceManufacturerModelName"},"(0018,1019)":{tag:"(0018,1019)",vr:"LO",vm:"1-n",name:"SecondaryCaptureDeviceSoftwareVersions"},"(0018,101A)":{tag:"(0018,101A)",vr:"LO",vm:"1-n",name:"HardcopyDeviceSoftwareVersion"},"(0018,101B)":{tag:"(0018,101B)",vr:"LO",vm:"1",name:"HardcopyDeviceManufacturerModelName"},"(0018,1020)":{tag:"(0018,1020)",vr:"LO",vm:"1-n",name:"SoftwareVersions"},"(0018,1022)":{tag:"(0018,1022)",vr:"SH",vm:"1",name:"VideoImageFormatAcquired"},"(0018,1023)":{tag:"(0018,1023)",vr:"LO",vm:"1",name:"DigitalImageFormatAcquired"},"(0018,1030)":{tag:"(0018,1030)",vr:"LO",vm:"1",name:"ProtocolName"},"(0018,1040)":{tag:"(0018,1040)",vr:"LO",vm:"1",name:"ContrastBolusRoute"},"(0018,1041)":{tag:"(0018,1041)",vr:"DS",vm:"1",name:"ContrastBolusVolume"},"(0018,1042)":{tag:"(0018,1042)",vr:"TM",vm:"1",name:"ContrastBolusStartTime"},"(0018,1043)":{tag:"(0018,1043)",vr:"TM",vm:"1",name:"ContrastBolusStopTime"},"(0018,1044)":{tag:"(0018,1044)",vr:"DS",vm:"1",name:"ContrastBolusTotalDose"},"(0018,1045)":{tag:"(0018,1045)",vr:"IS",vm:"1",name:"SyringeCounts"},"(0018,1046)":{tag:"(0018,1046)",vr:"DS",vm:"1-n",name:"ContrastFlowRate"},"(0018,1047)":{tag:"(0018,1047)",vr:"DS",vm:"1-n",name:"ContrastFlowDuration"},"(0018,1048)":{tag:"(0018,1048)",vr:"CS",vm:"1",name:"ContrastBolusIngredient"},"(0018,1049)":{tag:"(0018,1049)",vr:"DS",vm:"1",name:"ContrastBolusIngredientConcentration"},"(0018,1050)":{tag:"(0018,1050)",vr:"DS",vm:"1",name:"SpatialResolution"},"(0018,1060)":{tag:"(0018,1060)",vr:"DS",vm:"1",name:"TriggerTime"},"(0018,1061)":{tag:"(0018,1061)",vr:"LO",vm:"1",name:"TriggerSourceOrType"},"(0018,1062)":{tag:"(0018,1062)",vr:"IS",vm:"1",name:"NominalInterval"},"(0018,1063)":{tag:"(0018,1063)",vr:"DS",vm:"1",name:"FrameTime"},"(0018,1064)":{tag:"(0018,1064)",vr:"LO",vm:"1",name:"CardiacFramingType"},"(0018,1065)":{tag:"(0018,1065)",vr:"DS",vm:"1-n",name:"FrameTimeVector"},"(0018,1066)":{tag:"(0018,1066)",vr:"DS",vm:"1",name:"FrameDelay"},"(0018,1067)":{tag:"(0018,1067)",vr:"DS",vm:"1",name:"ImageTriggerDelay"},"(0018,1068)":{tag:"(0018,1068)",vr:"DS",vm:"1",name:"MultiplexGroupTimeOffset"},"(0018,1069)":{tag:"(0018,1069)",vr:"DS",vm:"1",name:"TriggerTimeOffset"},"(0018,106A)":{tag:"(0018,106A)",vr:"CS",vm:"1",name:"SynchronizationTrigger"},"(0018,106C)":{tag:"(0018,106C)",vr:"US",vm:"2",name:"SynchronizationChannel"},"(0018,106E)":{tag:"(0018,106E)",vr:"UL",vm:"1",name:"TriggerSamplePosition"},"(0018,1070)":{tag:"(0018,1070)",vr:"LO",vm:"1",name:"RadiopharmaceuticalRoute"},"(0018,1071)":{tag:"(0018,1071)",vr:"DS",vm:"1",name:"RadiopharmaceuticalVolume"},"(0018,1072)":{tag:"(0018,1072)",vr:"TM",vm:"1",name:"RadiopharmaceuticalStartTime"},"(0018,1073)":{tag:"(0018,1073)",vr:"TM",vm:"1",name:"RadiopharmaceuticalStopTime"},"(0018,1074)":{tag:"(0018,1074)",vr:"DS",vm:"1",name:"RadionuclideTotalDose"},"(0018,1075)":{tag:"(0018,1075)",vr:"DS",vm:"1",name:"RadionuclideHalfLife"},"(0018,1076)":{tag:"(0018,1076)",vr:"DS",vm:"1",name:"RadionuclidePositronFraction"},"(0018,1077)":{tag:"(0018,1077)",vr:"DS",vm:"1",name:"RadiopharmaceuticalSpecificActivity"},"(0018,1078)":{tag:"(0018,1078)",vr:"DT",vm:"1",name:"RadiopharmaceuticalStartDateTime"},"(0018,1079)":{tag:"(0018,1079)",vr:"DT",vm:"1",name:"RadiopharmaceuticalStopDateTime"},"(0018,1080)":{tag:"(0018,1080)",vr:"CS",vm:"1",name:"BeatRejectionFlag"},"(0018,1081)":{tag:"(0018,1081)",vr:"IS",vm:"1",name:"LowRRValue"},"(0018,1082)":{tag:"(0018,1082)",vr:"IS",vm:"1",name:"HighRRValue"},"(0018,1083)":{tag:"(0018,1083)",vr:"IS",vm:"1",name:"IntervalsAcquired"},"(0018,1084)":{tag:"(0018,1084)",vr:"IS",vm:"1",name:"IntervalsRejected"},"(0018,1085)":{tag:"(0018,1085)",vr:"LO",vm:"1",name:"PVCRejection"},"(0018,1086)":{tag:"(0018,1086)",vr:"IS",vm:"1",name:"SkipBeats"},"(0018,1088)":{tag:"(0018,1088)",vr:"IS",vm:"1",name:"HeartRate"},"(0018,1090)":{tag:"(0018,1090)",vr:"IS",vm:"1",name:"CardiacNumberOfImages"},"(0018,1094)":{tag:"(0018,1094)",vr:"IS",vm:"1",name:"TriggerWindow"},"(0018,1100)":{tag:"(0018,1100)",vr:"DS",vm:"1",name:"ReconstructionDiameter"},"(0018,1110)":{tag:"(0018,1110)",vr:"DS",vm:"1",name:"DistanceSourceToDetector"},"(0018,1111)":{tag:"(0018,1111)",vr:"DS",vm:"1",name:"DistanceSourceToPatient"},"(0018,1114)":{tag:"(0018,1114)",vr:"DS",vm:"1",name:"EstimatedRadiographicMagnificationFactor"},"(0018,1120)":{tag:"(0018,1120)",vr:"DS",vm:"1",name:"GantryDetectorTilt"},"(0018,1121)":{tag:"(0018,1121)",vr:"DS",vm:"1",name:"GantryDetectorSlew"},"(0018,1130)":{tag:"(0018,1130)",vr:"DS",vm:"1",name:"TableHeight"},"(0018,1131)":{tag:"(0018,1131)",vr:"DS",vm:"1",name:"TableTraverse"},"(0018,1134)":{tag:"(0018,1134)",vr:"CS",vm:"1",name:"TableMotion"},"(0018,1135)":{tag:"(0018,1135)",vr:"DS",vm:"1-n",name:"TableVerticalIncrement"},"(0018,1136)":{tag:"(0018,1136)",vr:"DS",vm:"1-n",name:"TableLateralIncrement"},"(0018,1137)":{tag:"(0018,1137)",vr:"DS",vm:"1-n",name:"TableLongitudinalIncrement"},"(0018,1138)":{tag:"(0018,1138)",vr:"DS",vm:"1",name:"TableAngle"},"(0018,113A)":{tag:"(0018,113A)",vr:"CS",vm:"1",name:"TableType"},"(0018,1140)":{tag:"(0018,1140)",vr:"CS",vm:"1",name:"RotationDirection"},"(0018,1141)":{tag:"(0018,1141)",vr:"DS",vm:"1",name:"AngularPosition"},"(0018,1142)":{tag:"(0018,1142)",vr:"DS",vm:"1-n",name:"RadialPosition"},"(0018,1143)":{tag:"(0018,1143)",vr:"DS",vm:"1",name:"ScanArc"},"(0018,1144)":{tag:"(0018,1144)",vr:"DS",vm:"1",name:"AngularStep"},"(0018,1145)":{tag:"(0018,1145)",vr:"DS",vm:"1",name:"CenterOfRotationOffset"},"(0018,1146)":{tag:"(0018,1146)",vr:"DS",vm:"1-n",name:"RotationOffset"},"(0018,1147)":{tag:"(0018,1147)",vr:"CS",vm:"1",name:"FieldOfViewShape"},"(0018,1149)":{tag:"(0018,1149)",vr:"IS",vm:"1-2",name:"FieldOfViewDimensions"},"(0018,1150)":{tag:"(0018,1150)",vr:"IS",vm:"1",name:"ExposureTime"},"(0018,1151)":{tag:"(0018,1151)",vr:"IS",vm:"1",name:"XRayTubeCurrent"},"(0018,1152)":{tag:"(0018,1152)",vr:"IS",vm:"1",name:"Exposure"},"(0018,1153)":{tag:"(0018,1153)",vr:"IS",vm:"1",name:"ExposureInuAs"},"(0018,1154)":{tag:"(0018,1154)",vr:"DS",vm:"1",name:"AveragePulseWidth"},"(0018,1155)":{tag:"(0018,1155)",vr:"CS",vm:"1",name:"RadiationSetting"},"(0018,1156)":{tag:"(0018,1156)",vr:"CS",vm:"1",name:"RectificationType"},"(0018,115A)":{tag:"(0018,115A)",vr:"CS",vm:"1",name:"RadiationMode"},"(0018,115E)":{tag:"(0018,115E)",vr:"DS",vm:"1",name:"ImageAndFluoroscopyAreaDoseProduct"},"(0018,1160)":{tag:"(0018,1160)",vr:"SH",vm:"1",name:"FilterType"},"(0018,1161)":{tag:"(0018,1161)",vr:"LO",vm:"1-n",name:"TypeOfFilters"},"(0018,1162)":{tag:"(0018,1162)",vr:"DS",vm:"1",name:"IntensifierSize"},"(0018,1164)":{tag:"(0018,1164)",vr:"DS",vm:"2",name:"ImagerPixelSpacing"},"(0018,1166)":{tag:"(0018,1166)",vr:"CS",vm:"1-n",name:"Grid"},"(0018,1170)":{tag:"(0018,1170)",vr:"IS",vm:"1",name:"GeneratorPower"},"(0018,1180)":{tag:"(0018,1180)",vr:"SH",vm:"1",name:"CollimatorGridName"},"(0018,1181)":{tag:"(0018,1181)",vr:"CS",vm:"1",name:"CollimatorType"},"(0018,1182)":{tag:"(0018,1182)",vr:"IS",vm:"1-2",name:"FocalDistance"},"(0018,1183)":{tag:"(0018,1183)",vr:"DS",vm:"1-2",name:"XFocusCenter"},"(0018,1184)":{tag:"(0018,1184)",vr:"DS",vm:"1-2",name:"YFocusCenter"},"(0018,1190)":{tag:"(0018,1190)",vr:"DS",vm:"1-n",name:"FocalSpots"},"(0018,1191)":{tag:"(0018,1191)",vr:"CS",vm:"1",name:"AnodeTargetMaterial"},"(0018,11A0)":{tag:"(0018,11A0)",vr:"DS",vm:"1",name:"BodyPartThickness"},"(0018,11A2)":{tag:"(0018,11A2)",vr:"DS",vm:"1",name:"CompressionForce"},"(0018,11A3)":{tag:"(0018,11A3)",vr:"DS",vm:"1",name:"CompressionPressure"},"(0018,11A4)":{tag:"(0018,11A4)",vr:"LO",vm:"1",name:"PaddleDescription"},"(0018,11A5)":{tag:"(0018,11A5)",vr:"DS",vm:"1",name:"CompressionContactArea"},"(0018,11B0)":{tag:"(0018,11B0)",vr:"LO",vm:"1",name:"AcquisitionMode"},"(0018,11B1)":{tag:"(0018,11B1)",vr:"LO",vm:"1",name:"DoseModeName"},"(0018,11B2)":{tag:"(0018,11B2)",vr:"CS",vm:"1",name:"AcquiredSubtractionMaskFlag"},"(0018,11B3)":{tag:"(0018,11B3)",vr:"CS",vm:"1",name:"FluoroscopyPersistenceFlag"},"(0018,11B4)":{tag:"(0018,11B4)",vr:"CS",vm:"1",name:"FluoroscopyLastImageHoldPersistenceFlag"},"(0018,11B5)":{tag:"(0018,11B5)",vr:"IS",vm:"1",name:"UpperLimitNumberOfPersistentFluoroscopyFrames"},"(0018,11B6)":{tag:"(0018,11B6)",vr:"CS",vm:"1",name:"ContrastBolusAutoInjectionTriggerFlag"},"(0018,11B7)":{tag:"(0018,11B7)",vr:"FD",vm:"1",name:"ContrastBolusInjectionDelay"},"(0018,11B8)":{tag:"(0018,11B8)",vr:"SQ",vm:"1",name:"XAAcquisitionPhaseDetailsSequence"},"(0018,11B9)":{tag:"(0018,11B9)",vr:"FD",vm:"1",name:"XAAcquisitionFrameRate"},"(0018,11BA)":{tag:"(0018,11BA)",vr:"SQ",vm:"1",name:"XAPlaneDetailsSequence"},"(0018,11BB)":{tag:"(0018,11BB)",vr:"LO",vm:"1",name:"AcquisitionFieldOfViewLabel"},"(0018,11BC)":{tag:"(0018,11BC)",vr:"SQ",vm:"1",name:"XRayFilterDetailsSequence"},"(0018,11BD)":{tag:"(0018,11BD)",vr:"FD",vm:"1",name:"XAAcquisitionDuration"},"(0018,11BE)":{tag:"(0018,11BE)",vr:"CS",vm:"1",name:"ReconstructionPipelineType"},"(0018,11BF)":{tag:"(0018,11BF)",vr:"SQ",vm:"1",name:"ImageFilterDetailsSequence"},"(0018,11C0)":{tag:"(0018,11C0)",vr:"CS",vm:"1",name:"AppliedMaskSubtractionFlag"},"(0018,11C1)":{tag:"(0018,11C1)",vr:"SQ",vm:"1",name:"RequestedSeriesDescriptionCodeSequence"},"(0018,1200)":{tag:"(0018,1200)",vr:"DA",vm:"1-n",name:"DateOfLastCalibration"},"(0018,1201)":{tag:"(0018,1201)",vr:"TM",vm:"1-n",name:"TimeOfLastCalibration"},"(0018,1202)":{tag:"(0018,1202)",vr:"DT",vm:"1",name:"DateTimeOfLastCalibration"},"(0018,1203)":{tag:"(0018,1203)",vr:"DT",vm:"1",name:"CalibrationDateTime"},"(0018,1210)":{tag:"(0018,1210)",vr:"SH",vm:"1-n",name:"ConvolutionKernel"},"(0018,1240)":{tag:"(0018,1240)",vr:"IS",vm:"1-n",name:"UpperLowerPixelValues"},"(0018,1242)":{tag:"(0018,1242)",vr:"IS",vm:"1",name:"ActualFrameDuration"},"(0018,1243)":{tag:"(0018,1243)",vr:"IS",vm:"1",name:"CountRate"},"(0018,1244)":{tag:"(0018,1244)",vr:"US",vm:"1",name:"PreferredPlaybackSequencing"},"(0018,1250)":{tag:"(0018,1250)",vr:"SH",vm:"1",name:"ReceiveCoilName"},"(0018,1251)":{tag:"(0018,1251)",vr:"SH",vm:"1",name:"TransmitCoilName"},"(0018,1260)":{tag:"(0018,1260)",vr:"SH",vm:"1",name:"PlateType"},"(0018,1261)":{tag:"(0018,1261)",vr:"LO",vm:"1",name:"PhosphorType"},"(0018,1271)":{tag:"(0018,1271)",vr:"FD",vm:"1",name:"WaterEquivalentDiameter"},"(0018,1272)":{tag:"(0018,1272)",vr:"SQ",vm:"1",name:"WaterEquivalentDiameterCalculationMethodCodeSequence"},"(0018,1300)":{tag:"(0018,1300)",vr:"DS",vm:"1",name:"ScanVelocity"},"(0018,1301)":{tag:"(0018,1301)",vr:"CS",vm:"1-n",name:"WholeBodyTechnique"},"(0018,1302)":{tag:"(0018,1302)",vr:"IS",vm:"1",name:"ScanLength"},"(0018,1310)":{tag:"(0018,1310)",vr:"US",vm:"4",name:"AcquisitionMatrix"},"(0018,1312)":{tag:"(0018,1312)",vr:"CS",vm:"1",name:"InPlanePhaseEncodingDirection"},"(0018,1314)":{tag:"(0018,1314)",vr:"DS",vm:"1",name:"FlipAngle"},"(0018,1315)":{tag:"(0018,1315)",vr:"CS",vm:"1",name:"VariableFlipAngleFlag"},"(0018,1316)":{tag:"(0018,1316)",vr:"DS",vm:"1",name:"SAR"},"(0018,1318)":{tag:"(0018,1318)",vr:"DS",vm:"1",name:"dBdt"},"(0018,1320)":{tag:"(0018,1320)",vr:"FL",vm:"1",name:"B1rms"},"(0018,1400)":{tag:"(0018,1400)",vr:"LO",vm:"1",name:"AcquisitionDeviceProcessingDescription"},"(0018,1401)":{tag:"(0018,1401)",vr:"LO",vm:"1",name:"AcquisitionDeviceProcessingCode"},"(0018,1402)":{tag:"(0018,1402)",vr:"CS",vm:"1",name:"CassetteOrientation"},"(0018,1403)":{tag:"(0018,1403)",vr:"CS",vm:"1",name:"CassetteSize"},"(0018,1404)":{tag:"(0018,1404)",vr:"US",vm:"1",name:"ExposuresOnPlate"},"(0018,1405)":{tag:"(0018,1405)",vr:"IS",vm:"1",name:"RelativeXRayExposure"},"(0018,1411)":{tag:"(0018,1411)",vr:"DS",vm:"1",name:"ExposureIndex"},"(0018,1412)":{tag:"(0018,1412)",vr:"DS",vm:"1",name:"TargetExposureIndex"},"(0018,1413)":{tag:"(0018,1413)",vr:"DS",vm:"1",name:"DeviationIndex"},"(0018,1450)":{tag:"(0018,1450)",vr:"DS",vm:"1",name:"ColumnAngulation"},"(0018,1460)":{tag:"(0018,1460)",vr:"DS",vm:"1",name:"TomoLayerHeight"},"(0018,1470)":{tag:"(0018,1470)",vr:"DS",vm:"1",name:"TomoAngle"},"(0018,1480)":{tag:"(0018,1480)",vr:"DS",vm:"1",name:"TomoTime"},"(0018,1490)":{tag:"(0018,1490)",vr:"CS",vm:"1",name:"TomoType"},"(0018,1491)":{tag:"(0018,1491)",vr:"CS",vm:"1",name:"TomoClass"},"(0018,1495)":{tag:"(0018,1495)",vr:"IS",vm:"1",name:"NumberOfTomosynthesisSourceImages"},"(0018,1500)":{tag:"(0018,1500)",vr:"CS",vm:"1",name:"PositionerMotion"},"(0018,1508)":{tag:"(0018,1508)",vr:"CS",vm:"1",name:"PositionerType"},"(0018,1510)":{tag:"(0018,1510)",vr:"DS",vm:"1",name:"PositionerPrimaryAngle"},"(0018,1511)":{tag:"(0018,1511)",vr:"DS",vm:"1",name:"PositionerSecondaryAngle"},"(0018,1520)":{tag:"(0018,1520)",vr:"DS",vm:"1-n",name:"PositionerPrimaryAngleIncrement"},"(0018,1521)":{tag:"(0018,1521)",vr:"DS",vm:"1-n",name:"PositionerSecondaryAngleIncrement"},"(0018,1530)":{tag:"(0018,1530)",vr:"DS",vm:"1",name:"DetectorPrimaryAngle"},"(0018,1531)":{tag:"(0018,1531)",vr:"DS",vm:"1",name:"DetectorSecondaryAngle"},"(0018,1600)":{tag:"(0018,1600)",vr:"CS",vm:"1-3",name:"ShutterShape"},"(0018,1602)":{tag:"(0018,1602)",vr:"IS",vm:"1",name:"ShutterLeftVerticalEdge"},"(0018,1604)":{tag:"(0018,1604)",vr:"IS",vm:"1",name:"ShutterRightVerticalEdge"},"(0018,1606)":{tag:"(0018,1606)",vr:"IS",vm:"1",name:"ShutterUpperHorizontalEdge"},"(0018,1608)":{tag:"(0018,1608)",vr:"IS",vm:"1",name:"ShutterLowerHorizontalEdge"},"(0018,1610)":{tag:"(0018,1610)",vr:"IS",vm:"2",name:"CenterOfCircularShutter"},"(0018,1612)":{tag:"(0018,1612)",vr:"IS",vm:"1",name:"RadiusOfCircularShutter"},"(0018,1620)":{tag:"(0018,1620)",vr:"IS",vm:"2-2n",name:"VerticesOfThePolygonalShutter"},"(0018,1622)":{tag:"(0018,1622)",vr:"US",vm:"1",name:"ShutterPresentationValue"},"(0018,1623)":{tag:"(0018,1623)",vr:"US",vm:"1",name:"ShutterOverlayGroup"},"(0018,1624)":{tag:"(0018,1624)",vr:"US",vm:"3",name:"ShutterPresentationColorCIELabValue"},"(0018,1630)":{tag:"(0018,1630)",vr:"CS",vm:"1",name:"OutlineShapeType"},"(0018,1631)":{tag:"(0018,1631)",vr:"FD",vm:"1",name:"OutlineLeftVerticalEdge"},"(0018,1632)":{tag:"(0018,1632)",vr:"FD",vm:"1",name:"OutlineRightVerticalEdge"},"(0018,1633)":{tag:"(0018,1633)",vr:"FD",vm:"1",name:"OutlineUpperHorizontalEdge"},"(0018,1634)":{tag:"(0018,1634)",vr:"FD",vm:"1",name:"OutlineLowerHorizontalEdge"},"(0018,1635)":{tag:"(0018,1635)",vr:"FD",vm:"2",name:"CenterOfCircularOutline"},"(0018,1636)":{tag:"(0018,1636)",vr:"FD",vm:"1",name:"DiameterOfCircularOutline"},"(0018,1637)":{tag:"(0018,1637)",vr:"UL",vm:"1",name:"NumberOfPolygonalVertices"},"(0018,1638)":{tag:"(0018,1638)",vr:"OF",vm:"1",name:"VerticesOfThePolygonalOutline"},"(0018,1700)":{tag:"(0018,1700)",vr:"CS",vm:"1-3",name:"CollimatorShape"},"(0018,1702)":{tag:"(0018,1702)",vr:"IS",vm:"1",name:"CollimatorLeftVerticalEdge"},"(0018,1704)":{tag:"(0018,1704)",vr:"IS",vm:"1",name:"CollimatorRightVerticalEdge"},"(0018,1706)":{tag:"(0018,1706)",vr:"IS",vm:"1",name:"CollimatorUpperHorizontalEdge"},"(0018,1708)":{tag:"(0018,1708)",vr:"IS",vm:"1",name:"CollimatorLowerHorizontalEdge"},"(0018,1710)":{tag:"(0018,1710)",vr:"IS",vm:"2",name:"CenterOfCircularCollimator"},"(0018,1712)":{tag:"(0018,1712)",vr:"IS",vm:"1",name:"RadiusOfCircularCollimator"},"(0018,1720)":{tag:"(0018,1720)",vr:"IS",vm:"2-2n",name:"VerticesOfThePolygonalCollimator"},"(0018,1800)":{tag:"(0018,1800)",vr:"CS",vm:"1",name:"AcquisitionTimeSynchronized"},"(0018,1801)":{tag:"(0018,1801)",vr:"SH",vm:"1",name:"TimeSource"},"(0018,1802)":{tag:"(0018,1802)",vr:"CS",vm:"1",name:"TimeDistributionProtocol"},"(0018,1803)":{tag:"(0018,1803)",vr:"LO",vm:"1",name:"NTPSourceAddress"},"(0018,2001)":{tag:"(0018,2001)",vr:"IS",vm:"1-n",name:"PageNumberVector"},"(0018,2002)":{tag:"(0018,2002)",vr:"SH",vm:"1-n",name:"FrameLabelVector"},"(0018,2003)":{tag:"(0018,2003)",vr:"DS",vm:"1-n",name:"FramePrimaryAngleVector"},"(0018,2004)":{tag:"(0018,2004)",vr:"DS",vm:"1-n",name:"FrameSecondaryAngleVector"},"(0018,2005)":{tag:"(0018,2005)",vr:"DS",vm:"1-n",name:"SliceLocationVector"},"(0018,2006)":{tag:"(0018,2006)",vr:"SH",vm:"1-n",name:"DisplayWindowLabelVector"},"(0018,2010)":{tag:"(0018,2010)",vr:"DS",vm:"2",name:"NominalScannedPixelSpacing"},"(0018,2020)":{tag:"(0018,2020)",vr:"CS",vm:"1",name:"DigitizingDeviceTransportDirection"},"(0018,2030)":{tag:"(0018,2030)",vr:"DS",vm:"1",name:"RotationOfScannedFilm"},"(0018,2041)":{tag:"(0018,2041)",vr:"SQ",vm:"1",name:"BiopsyTargetSequence"},"(0018,2042)":{tag:"(0018,2042)",vr:"UI",vm:"1",name:"TargetUID"},"(0018,2043)":{tag:"(0018,2043)",vr:"FL",vm:"2",name:"LocalizingCursorPosition"},"(0018,2044)":{tag:"(0018,2044)",vr:"FL",vm:"3",name:"CalculatedTargetPosition"},"(0018,2045)":{tag:"(0018,2045)",vr:"SH",vm:"1",name:"TargetLabel"},"(0018,2046)":{tag:"(0018,2046)",vr:"FL",vm:"1",name:"DisplayedZValue"},"(0018,3100)":{tag:"(0018,3100)",vr:"CS",vm:"1",name:"IVUSAcquisition"},"(0018,3101)":{tag:"(0018,3101)",vr:"DS",vm:"1",name:"IVUSPullbackRate"},"(0018,3102)":{tag:"(0018,3102)",vr:"DS",vm:"1",name:"IVUSGatedRate"},"(0018,3103)":{tag:"(0018,3103)",vr:"IS",vm:"1",name:"IVUSPullbackStartFrameNumber"},"(0018,3104)":{tag:"(0018,3104)",vr:"IS",vm:"1",name:"IVUSPullbackStopFrameNumber"},"(0018,3105)":{tag:"(0018,3105)",vr:"IS",vm:"1-n",name:"LesionNumber"},"(0018,4000)":{tag:"(0018,4000)",vr:"LT",vm:"1",name:"AcquisitionComments"},"(0018,5000)":{tag:"(0018,5000)",vr:"SH",vm:"1-n",name:"OutputPower"},"(0018,5010)":{tag:"(0018,5010)",vr:"LO",vm:"1-n",name:"TransducerData"},"(0018,5011)":{tag:"(0018,5011)",vr:"SQ",vm:"1",name:"TransducerIdentificationSequence"},"(0018,5012)":{tag:"(0018,5012)",vr:"DS",vm:"1",name:"FocusDepth"},"(0018,5020)":{tag:"(0018,5020)",vr:"LO",vm:"1",name:"ProcessingFunction"},"(0018,5021)":{tag:"(0018,5021)",vr:"LO",vm:"1",name:"PostprocessingFunction"},"(0018,5022)":{tag:"(0018,5022)",vr:"DS",vm:"1",name:"MechanicalIndex"},"(0018,5024)":{tag:"(0018,5024)",vr:"DS",vm:"1",name:"BoneThermalIndex"},"(0018,5026)":{tag:"(0018,5026)",vr:"DS",vm:"1",name:"CranialThermalIndex"},"(0018,5027)":{tag:"(0018,5027)",vr:"DS",vm:"1",name:"SoftTissueThermalIndex"},"(0018,5028)":{tag:"(0018,5028)",vr:"DS",vm:"1",name:"SoftTissueFocusThermalIndex"},"(0018,5029)":{tag:"(0018,5029)",vr:"DS",vm:"1",name:"SoftTissueSurfaceThermalIndex"},"(0018,5030)":{tag:"(0018,5030)",vr:"DS",vm:"1",name:"DynamicRange"},"(0018,5040)":{tag:"(0018,5040)",vr:"DS",vm:"1",name:"TotalGain"},"(0018,5050)":{tag:"(0018,5050)",vr:"IS",vm:"1",name:"DepthOfScanField"},"(0018,5100)":{tag:"(0018,5100)",vr:"CS",vm:"1",name:"PatientPosition"},"(0018,5101)":{tag:"(0018,5101)",vr:"CS",vm:"1",name:"ViewPosition"},"(0018,5104)":{tag:"(0018,5104)",vr:"SQ",vm:"1",name:"ProjectionEponymousNameCodeSequence"},"(0018,5210)":{tag:"(0018,5210)",vr:"DS",vm:"6",name:"ImageTransformationMatrix"},"(0018,5212)":{tag:"(0018,5212)",vr:"DS",vm:"3",name:"ImageTranslationVector"},"(0018,6000)":{tag:"(0018,6000)",vr:"DS",vm:"1",name:"Sensitivity"},"(0018,6011)":{tag:"(0018,6011)",vr:"SQ",vm:"1",name:"SequenceOfUltrasoundRegions"},"(0018,6012)":{tag:"(0018,6012)",vr:"US",vm:"1",name:"RegionSpatialFormat"},"(0018,6014)":{tag:"(0018,6014)",vr:"US",vm:"1",name:"RegionDataType"},"(0018,6016)":{tag:"(0018,6016)",vr:"UL",vm:"1",name:"RegionFlags"},"(0018,6018)":{tag:"(0018,6018)",vr:"UL",vm:"1",name:"RegionLocationMinX0"},"(0018,601A)":{tag:"(0018,601A)",vr:"UL",vm:"1",name:"RegionLocationMinY0"},"(0018,601C)":{tag:"(0018,601C)",vr:"UL",vm:"1",name:"RegionLocationMaxX1"},"(0018,601E)":{tag:"(0018,601E)",vr:"UL",vm:"1",name:"RegionLocationMaxY1"},"(0018,6020)":{tag:"(0018,6020)",vr:"SL",vm:"1",name:"ReferencePixelX0"},"(0018,6022)":{tag:"(0018,6022)",vr:"SL",vm:"1",name:"ReferencePixelY0"},"(0018,6024)":{tag:"(0018,6024)",vr:"US",vm:"1",name:"PhysicalUnitsXDirection"},"(0018,6026)":{tag:"(0018,6026)",vr:"US",vm:"1",name:"PhysicalUnitsYDirection"},"(0018,6028)":{tag:"(0018,6028)",vr:"FD",vm:"1",name:"ReferencePixelPhysicalValueX"},"(0018,602A)":{tag:"(0018,602A)",vr:"FD",vm:"1",name:"ReferencePixelPhysicalValueY"},"(0018,602C)":{tag:"(0018,602C)",vr:"FD",vm:"1",name:"PhysicalDeltaX"},"(0018,602E)":{tag:"(0018,602E)",vr:"FD",vm:"1",name:"PhysicalDeltaY"},"(0018,6030)":{tag:"(0018,6030)",vr:"UL",vm:"1",name:"TransducerFrequency"},"(0018,6031)":{tag:"(0018,6031)",vr:"CS",vm:"1",name:"TransducerType"},"(0018,6032)":{tag:"(0018,6032)",vr:"UL",vm:"1",name:"PulseRepetitionFrequency"},"(0018,6034)":{tag:"(0018,6034)",vr:"FD",vm:"1",name:"DopplerCorrectionAngle"},"(0018,6036)":{tag:"(0018,6036)",vr:"FD",vm:"1",name:"SteeringAngle"},"(0018,6038)":{tag:"(0018,6038)",vr:"UL",vm:"1",name:"DopplerSampleVolumeXPositionRetired"},"(0018,6039)":{tag:"(0018,6039)",vr:"SL",vm:"1",name:"DopplerSampleVolumeXPosition"},"(0018,603A)":{tag:"(0018,603A)",vr:"UL",vm:"1",name:"DopplerSampleVolumeYPositionRetired"},"(0018,603B)":{tag:"(0018,603B)",vr:"SL",vm:"1",name:"DopplerSampleVolumeYPosition"},"(0018,603C)":{tag:"(0018,603C)",vr:"UL",vm:"1",name:"TMLinePositionX0Retired"},"(0018,603D)":{tag:"(0018,603D)",vr:"SL",vm:"1",name:"TMLinePositionX0"},"(0018,603E)":{tag:"(0018,603E)",vr:"UL",vm:"1",name:"TMLinePositionY0Retired"},"(0018,603F)":{tag:"(0018,603F)",vr:"SL",vm:"1",name:"TMLinePositionY0"},"(0018,6040)":{tag:"(0018,6040)",vr:"UL",vm:"1",name:"TMLinePositionX1Retired"},"(0018,6041)":{tag:"(0018,6041)",vr:"SL",vm:"1",name:"TMLinePositionX1"},"(0018,6042)":{tag:"(0018,6042)",vr:"UL",vm:"1",name:"TMLinePositionY1Retired"},"(0018,6043)":{tag:"(0018,6043)",vr:"SL",vm:"1",name:"TMLinePositionY1"},"(0018,6044)":{tag:"(0018,6044)",vr:"US",vm:"1",name:"PixelComponentOrganization"},"(0018,6046)":{tag:"(0018,6046)",vr:"UL",vm:"1",name:"PixelComponentMask"},"(0018,6048)":{tag:"(0018,6048)",vr:"UL",vm:"1",name:"PixelComponentRangeStart"},"(0018,604A)":{tag:"(0018,604A)",vr:"UL",vm:"1",name:"PixelComponentRangeStop"},"(0018,604C)":{tag:"(0018,604C)",vr:"US",vm:"1",name:"PixelComponentPhysicalUnits"},"(0018,604E)":{tag:"(0018,604E)",vr:"US",vm:"1",name:"PixelComponentDataType"},"(0018,6050)":{tag:"(0018,6050)",vr:"UL",vm:"1",name:"NumberOfTableBreakPoints"},"(0018,6052)":{tag:"(0018,6052)",vr:"UL",vm:"1-n",name:"TableOfXBreakPoints"},"(0018,6054)":{tag:"(0018,6054)",vr:"FD",vm:"1-n",name:"TableOfYBreakPoints"},"(0018,6056)":{tag:"(0018,6056)",vr:"UL",vm:"1",name:"NumberOfTableEntries"},"(0018,6058)":{tag:"(0018,6058)",vr:"UL",vm:"1-n",name:"TableOfPixelValues"},"(0018,605A)":{tag:"(0018,605A)",vr:"FL",vm:"1-n",name:"TableOfParameterValues"},"(0018,6060)":{tag:"(0018,6060)",vr:"FL",vm:"1-n",name:"RWaveTimeVector"},"(0018,6070)":{tag:"(0018,6070)",vr:"US",vm:"1",name:"ActiveImageAreaOverlayGroup"},"(0018,7000)":{tag:"(0018,7000)",vr:"CS",vm:"1",name:"DetectorConditionsNominalFlag"},"(0018,7001)":{tag:"(0018,7001)",vr:"DS",vm:"1",name:"DetectorTemperature"},"(0018,7004)":{tag:"(0018,7004)",vr:"CS",vm:"1",name:"DetectorType"},"(0018,7005)":{tag:"(0018,7005)",vr:"CS",vm:"1",name:"DetectorConfiguration"},"(0018,7006)":{tag:"(0018,7006)",vr:"LT",vm:"1",name:"DetectorDescription"},"(0018,7008)":{tag:"(0018,7008)",vr:"LT",vm:"1",name:"DetectorMode"},"(0018,700A)":{tag:"(0018,700A)",vr:"SH",vm:"1",name:"DetectorID"},"(0018,700C)":{tag:"(0018,700C)",vr:"DA",vm:"1",name:"DateOfLastDetectorCalibration"},"(0018,700E)":{tag:"(0018,700E)",vr:"TM",vm:"1",name:"TimeOfLastDetectorCalibration"},"(0018,7010)":{tag:"(0018,7010)",vr:"IS",vm:"1",name:"ExposuresOnDetectorSinceLastCalibration"},"(0018,7011)":{tag:"(0018,7011)",vr:"IS",vm:"1",name:"ExposuresOnDetectorSinceManufactured"},"(0018,7012)":{tag:"(0018,7012)",vr:"DS",vm:"1",name:"DetectorTimeSinceLastExposure"},"(0018,7014)":{tag:"(0018,7014)",vr:"DS",vm:"1",name:"DetectorActiveTime"},"(0018,7016)":{tag:"(0018,7016)",vr:"DS",vm:"1",name:"DetectorActivationOffsetFromExposure"},"(0018,701A)":{tag:"(0018,701A)",vr:"DS",vm:"2",name:"DetectorBinning"},"(0018,7020)":{tag:"(0018,7020)",vr:"DS",vm:"2",name:"DetectorElementPhysicalSize"},"(0018,7022)":{tag:"(0018,7022)",vr:"DS",vm:"2",name:"DetectorElementSpacing"},"(0018,7024)":{tag:"(0018,7024)",vr:"CS",vm:"1",name:"DetectorActiveShape"},"(0018,7026)":{tag:"(0018,7026)",vr:"DS",vm:"1-2",name:"DetectorActiveDimensions"},"(0018,7028)":{tag:"(0018,7028)",vr:"DS",vm:"2",name:"DetectorActiveOrigin"},"(0018,702A)":{tag:"(0018,702A)",vr:"LO",vm:"1",name:"DetectorManufacturerName"},"(0018,702B)":{tag:"(0018,702B)",vr:"LO",vm:"1",name:"DetectorManufacturerModelName"},"(0018,7030)":{tag:"(0018,7030)",vr:"DS",vm:"2",name:"FieldOfViewOrigin"},"(0018,7032)":{tag:"(0018,7032)",vr:"DS",vm:"1",name:"FieldOfViewRotation"},"(0018,7034)":{tag:"(0018,7034)",vr:"CS",vm:"1",name:"FieldOfViewHorizontalFlip"},"(0018,7036)":{tag:"(0018,7036)",vr:"FL",vm:"2",name:"PixelDataAreaOriginRelativeToFOV"},"(0018,7038)":{tag:"(0018,7038)",vr:"FL",vm:"1",name:"PixelDataAreaRotationAngleRelativeToFOV"},"(0018,7040)":{tag:"(0018,7040)",vr:"LT",vm:"1",name:"GridAbsorbingMaterial"},"(0018,7041)":{tag:"(0018,7041)",vr:"LT",vm:"1",name:"GridSpacingMaterial"},"(0018,7042)":{tag:"(0018,7042)",vr:"DS",vm:"1",name:"GridThickness"},"(0018,7044)":{tag:"(0018,7044)",vr:"DS",vm:"1",name:"GridPitch"},"(0018,7046)":{tag:"(0018,7046)",vr:"IS",vm:"2",name:"GridAspectRatio"},"(0018,7048)":{tag:"(0018,7048)",vr:"DS",vm:"1",name:"GridPeriod"},"(0018,704C)":{tag:"(0018,704C)",vr:"DS",vm:"1",name:"GridFocalDistance"},"(0018,7050)":{tag:"(0018,7050)",vr:"CS",vm:"1-n",name:"FilterMaterial"},"(0018,7052)":{tag:"(0018,7052)",vr:"DS",vm:"1-n",name:"FilterThicknessMinimum"},"(0018,7054)":{tag:"(0018,7054)",vr:"DS",vm:"1-n",name:"FilterThicknessMaximum"},"(0018,7056)":{tag:"(0018,7056)",vr:"FL",vm:"1-n",name:"FilterBeamPathLengthMinimum"},"(0018,7058)":{tag:"(0018,7058)",vr:"FL",vm:"1-n",name:"FilterBeamPathLengthMaximum"},"(0018,7060)":{tag:"(0018,7060)",vr:"CS",vm:"1",name:"ExposureControlMode"},"(0018,7062)":{tag:"(0018,7062)",vr:"LT",vm:"1",name:"ExposureControlModeDescription"},"(0018,7064)":{tag:"(0018,7064)",vr:"CS",vm:"1",name:"ExposureStatus"},"(0018,7065)":{tag:"(0018,7065)",vr:"DS",vm:"1",name:"PhototimerSetting"},"(0018,8150)":{tag:"(0018,8150)",vr:"DS",vm:"1",name:"ExposureTimeInuS"},"(0018,8151)":{tag:"(0018,8151)",vr:"DS",vm:"1",name:"XRayTubeCurrentInuA"},"(0018,9004)":{tag:"(0018,9004)",vr:"CS",vm:"1",name:"ContentQualification"},"(0018,9005)":{tag:"(0018,9005)",vr:"SH",vm:"1",name:"PulseSequenceName"},"(0018,9006)":{tag:"(0018,9006)",vr:"SQ",vm:"1",name:"MRImagingModifierSequence"},"(0018,9008)":{tag:"(0018,9008)",vr:"CS",vm:"1",name:"EchoPulseSequence"},"(0018,9009)":{tag:"(0018,9009)",vr:"CS",vm:"1",name:"InversionRecovery"},"(0018,9010)":{tag:"(0018,9010)",vr:"CS",vm:"1",name:"FlowCompensation"},"(0018,9011)":{tag:"(0018,9011)",vr:"CS",vm:"1",name:"MultipleSpinEcho"},"(0018,9012)":{tag:"(0018,9012)",vr:"CS",vm:"1",name:"MultiPlanarExcitation"},"(0018,9014)":{tag:"(0018,9014)",vr:"CS",vm:"1",name:"PhaseContrast"},"(0018,9015)":{tag:"(0018,9015)",vr:"CS",vm:"1",name:"TimeOfFlightContrast"},"(0018,9016)":{tag:"(0018,9016)",vr:"CS",vm:"1",name:"Spoiling"},"(0018,9017)":{tag:"(0018,9017)",vr:"CS",vm:"1",name:"SteadyStatePulseSequence"},"(0018,9018)":{tag:"(0018,9018)",vr:"CS",vm:"1",name:"EchoPlanarPulseSequence"},"(0018,9019)":{tag:"(0018,9019)",vr:"FD",vm:"1",name:"TagAngleFirstAxis"},"(0018,9020)":{tag:"(0018,9020)",vr:"CS",vm:"1",name:"MagnetizationTransfer"},"(0018,9021)":{tag:"(0018,9021)",vr:"CS",vm:"1",name:"T2Preparation"},"(0018,9022)":{tag:"(0018,9022)",vr:"CS",vm:"1",name:"BloodSignalNulling"},"(0018,9024)":{tag:"(0018,9024)",vr:"CS",vm:"1",name:"SaturationRecovery"},"(0018,9025)":{tag:"(0018,9025)",vr:"CS",vm:"1",name:"SpectrallySelectedSuppression"},"(0018,9026)":{tag:"(0018,9026)",vr:"CS",vm:"1",name:"SpectrallySelectedExcitation"},"(0018,9027)":{tag:"(0018,9027)",vr:"CS",vm:"1",name:"SpatialPresaturation"},"(0018,9028)":{tag:"(0018,9028)",vr:"CS",vm:"1",name:"Tagging"},"(0018,9029)":{tag:"(0018,9029)",vr:"CS",vm:"1",name:"OversamplingPhase"},"(0018,9030)":{tag:"(0018,9030)",vr:"FD",vm:"1",name:"TagSpacingFirstDimension"},"(0018,9032)":{tag:"(0018,9032)",vr:"CS",vm:"1",name:"GeometryOfKSpaceTraversal"},"(0018,9033)":{tag:"(0018,9033)",vr:"CS",vm:"1",name:"SegmentedKSpaceTraversal"},"(0018,9034)":{tag:"(0018,9034)",vr:"CS",vm:"1",name:"RectilinearPhaseEncodeReordering"},"(0018,9035)":{tag:"(0018,9035)",vr:"FD",vm:"1",name:"TagThickness"},"(0018,9036)":{tag:"(0018,9036)",vr:"CS",vm:"1",name:"PartialFourierDirection"},"(0018,9037)":{tag:"(0018,9037)",vr:"CS",vm:"1",name:"CardiacSynchronizationTechnique"},"(0018,9041)":{tag:"(0018,9041)",vr:"LO",vm:"1",name:"ReceiveCoilManufacturerName"},"(0018,9042)":{tag:"(0018,9042)",vr:"SQ",vm:"1",name:"MRReceiveCoilSequence"},"(0018,9043)":{tag:"(0018,9043)",vr:"CS",vm:"1",name:"ReceiveCoilType"},"(0018,9044)":{tag:"(0018,9044)",vr:"CS",vm:"1",name:"QuadratureReceiveCoil"},"(0018,9045)":{tag:"(0018,9045)",vr:"SQ",vm:"1",name:"MultiCoilDefinitionSequence"},"(0018,9046)":{tag:"(0018,9046)",vr:"LO",vm:"1",name:"MultiCoilConfiguration"},"(0018,9047)":{tag:"(0018,9047)",vr:"SH",vm:"1",name:"MultiCoilElementName"},"(0018,9048)":{tag:"(0018,9048)",vr:"CS",vm:"1",name:"MultiCoilElementUsed"},"(0018,9049)":{tag:"(0018,9049)",vr:"SQ",vm:"1",name:"MRTransmitCoilSequence"},"(0018,9050)":{tag:"(0018,9050)",vr:"LO",vm:"1",name:"TransmitCoilManufacturerName"},"(0018,9051)":{tag:"(0018,9051)",vr:"CS",vm:"1",name:"TransmitCoilType"},"(0018,9052)":{tag:"(0018,9052)",vr:"FD",vm:"1-2",name:"SpectralWidth"},"(0018,9053)":{tag:"(0018,9053)",vr:"FD",vm:"1-2",name:"ChemicalShiftReference"},"(0018,9054)":{tag:"(0018,9054)",vr:"CS",vm:"1",name:"VolumeLocalizationTechnique"},"(0018,9058)":{tag:"(0018,9058)",vr:"US",vm:"1",name:"MRAcquisitionFrequencyEncodingSteps"},"(0018,9059)":{tag:"(0018,9059)",vr:"CS",vm:"1",name:"Decoupling"},"(0018,9060)":{tag:"(0018,9060)",vr:"CS",vm:"1-2",name:"DecoupledNucleus"},"(0018,9061)":{tag:"(0018,9061)",vr:"FD",vm:"1-2",name:"DecouplingFrequency"},"(0018,9062)":{tag:"(0018,9062)",vr:"CS",vm:"1",name:"DecouplingMethod"},"(0018,9063)":{tag:"(0018,9063)",vr:"FD",vm:"1-2",name:"DecouplingChemicalShiftReference"},"(0018,9064)":{tag:"(0018,9064)",vr:"CS",vm:"1",name:"KSpaceFiltering"},"(0018,9065)":{tag:"(0018,9065)",vr:"CS",vm:"1-2",name:"TimeDomainFiltering"},"(0018,9066)":{tag:"(0018,9066)",vr:"US",vm:"1-2",name:"NumberOfZeroFills"},"(0018,9067)":{tag:"(0018,9067)",vr:"CS",vm:"1",name:"BaselineCorrection"},"(0018,9069)":{tag:"(0018,9069)",vr:"FD",vm:"1",name:"ParallelReductionFactorInPlane"},"(0018,9070)":{tag:"(0018,9070)",vr:"FD",vm:"1",name:"CardiacRRIntervalSpecified"},"(0018,9073)":{tag:"(0018,9073)",vr:"FD",vm:"1",name:"AcquisitionDuration"},"(0018,9074)":{tag:"(0018,9074)",vr:"DT",vm:"1",name:"FrameAcquisitionDateTime"},"(0018,9075)":{tag:"(0018,9075)",vr:"CS",vm:"1",name:"DiffusionDirectionality"},"(0018,9076)":{tag:"(0018,9076)",vr:"SQ",vm:"1",name:"DiffusionGradientDirectionSequence"},"(0018,9077)":{tag:"(0018,9077)",vr:"CS",vm:"1",name:"ParallelAcquisition"},"(0018,9078)":{tag:"(0018,9078)",vr:"CS",vm:"1",name:"ParallelAcquisitionTechnique"},"(0018,9079)":{tag:"(0018,9079)",vr:"FD",vm:"1-n",name:"InversionTimes"},"(0018,9080)":{tag:"(0018,9080)",vr:"ST",vm:"1",name:"MetaboliteMapDescription"},"(0018,9081)":{tag:"(0018,9081)",vr:"CS",vm:"1",name:"PartialFourier"},"(0018,9082)":{tag:"(0018,9082)",vr:"FD",vm:"1",name:"EffectiveEchoTime"},"(0018,9083)":{tag:"(0018,9083)",vr:"SQ",vm:"1",name:"MetaboliteMapCodeSequence"},"(0018,9084)":{tag:"(0018,9084)",vr:"SQ",vm:"1",name:"ChemicalShiftSequence"},"(0018,9085)":{tag:"(0018,9085)",vr:"CS",vm:"1",name:"CardiacSignalSource"},"(0018,9087)":{tag:"(0018,9087)",vr:"FD",vm:"1",name:"DiffusionBValue"},"(0018,9089)":{tag:"(0018,9089)",vr:"FD",vm:"3",name:"DiffusionGradientOrientation"},"(0018,9090)":{tag:"(0018,9090)",vr:"FD",vm:"3",name:"VelocityEncodingDirection"},"(0018,9091)":{tag:"(0018,9091)",vr:"FD",vm:"1",name:"VelocityEncodingMinimumValue"},"(0018,9092)":{tag:"(0018,9092)",vr:"SQ",vm:"1",name:"VelocityEncodingAcquisitionSequence"},"(0018,9093)":{tag:"(0018,9093)",vr:"US",vm:"1",name:"NumberOfKSpaceTrajectories"},"(0018,9094)":{tag:"(0018,9094)",vr:"CS",vm:"1",name:"CoverageOfKSpace"},"(0018,9095)":{tag:"(0018,9095)",vr:"UL",vm:"1",name:"SpectroscopyAcquisitionPhaseRows"},"(0018,9096)":{tag:"(0018,9096)",vr:"FD",vm:"1",name:"ParallelReductionFactorInPlaneRetired"},"(0018,9098)":{tag:"(0018,9098)",vr:"FD",vm:"1-2",name:"TransmitterFrequency"},"(0018,9100)":{tag:"(0018,9100)",vr:"CS",vm:"1-2",name:"ResonantNucleus"},"(0018,9101)":{tag:"(0018,9101)",vr:"CS",vm:"1",name:"FrequencyCorrection"},"(0018,9103)":{tag:"(0018,9103)",vr:"SQ",vm:"1",name:"MRSpectroscopyFOVGeometrySequence"},"(0018,9104)":{tag:"(0018,9104)",vr:"FD",vm:"1",name:"SlabThickness"},"(0018,9105)":{tag:"(0018,9105)",vr:"FD",vm:"3",name:"SlabOrientation"},"(0018,9106)":{tag:"(0018,9106)",vr:"FD",vm:"3",name:"MidSlabPosition"},"(0018,9107)":{tag:"(0018,9107)",vr:"SQ",vm:"1",name:"MRSpatialSaturationSequence"},"(0018,9112)":{tag:"(0018,9112)",vr:"SQ",vm:"1",name:"MRTimingAndRelatedParametersSequence"},"(0018,9114)":{tag:"(0018,9114)",vr:"SQ",vm:"1",name:"MREchoSequence"},"(0018,9115)":{tag:"(0018,9115)",vr:"SQ",vm:"1",name:"MRModifierSequence"},"(0018,9117)":{tag:"(0018,9117)",vr:"SQ",vm:"1",name:"MRDiffusionSequence"},"(0018,9118)":{tag:"(0018,9118)",vr:"SQ",vm:"1",name:"CardiacSynchronizationSequence"},"(0018,9119)":{tag:"(0018,9119)",vr:"SQ",vm:"1",name:"MRAveragesSequence"},"(0018,9125)":{tag:"(0018,9125)",vr:"SQ",vm:"1",name:"MRFOVGeometrySequence"},"(0018,9126)":{tag:"(0018,9126)",vr:"SQ",vm:"1",name:"VolumeLocalizationSequence"},"(0018,9127)":{tag:"(0018,9127)",vr:"UL",vm:"1",name:"SpectroscopyAcquisitionDataColumns"},"(0018,9147)":{tag:"(0018,9147)",vr:"CS",vm:"1",name:"DiffusionAnisotropyType"},"(0018,9151)":{tag:"(0018,9151)",vr:"DT",vm:"1",name:"FrameReferenceDateTime"},"(0018,9152)":{tag:"(0018,9152)",vr:"SQ",vm:"1",name:"MRMetaboliteMapSequence"},"(0018,9155)":{tag:"(0018,9155)",vr:"FD",vm:"1",name:"ParallelReductionFactorOutOfPlane"},"(0018,9159)":{tag:"(0018,9159)",vr:"UL",vm:"1",name:"SpectroscopyAcquisitionOutOfPlanePhaseSteps"},"(0018,9166)":{tag:"(0018,9166)",vr:"CS",vm:"1",name:"BulkMotionStatus"},"(0018,9168)":{tag:"(0018,9168)",vr:"FD",vm:"1",name:"ParallelReductionFactorSecondInPlane"},"(0018,9169)":{tag:"(0018,9169)",vr:"CS",vm:"1",name:"CardiacBeatRejectionTechnique"},"(0018,9170)":{tag:"(0018,9170)",vr:"CS",vm:"1",name:"RespiratoryMotionCompensationTechnique"},"(0018,9171)":{tag:"(0018,9171)",vr:"CS",vm:"1",name:"RespiratorySignalSource"},"(0018,9172)":{tag:"(0018,9172)",vr:"CS",vm:"1",name:"BulkMotionCompensationTechnique"},"(0018,9173)":{tag:"(0018,9173)",vr:"CS",vm:"1",name:"BulkMotionSignalSource"},"(0018,9174)":{tag:"(0018,9174)",vr:"CS",vm:"1",name:"ApplicableSafetyStandardAgency"},"(0018,9175)":{tag:"(0018,9175)",vr:"LO",vm:"1",name:"ApplicableSafetyStandardDescription"},"(0018,9176)":{tag:"(0018,9176)",vr:"SQ",vm:"1",name:"OperatingModeSequence"},"(0018,9177)":{tag:"(0018,9177)",vr:"CS",vm:"1",name:"OperatingModeType"},"(0018,9178)":{tag:"(0018,9178)",vr:"CS",vm:"1",name:"OperatingMode"},"(0018,9179)":{tag:"(0018,9179)",vr:"CS",vm:"1",name:"SpecificAbsorptionRateDefinition"},"(0018,9180)":{tag:"(0018,9180)",vr:"CS",vm:"1",name:"GradientOutputType"},"(0018,9181)":{tag:"(0018,9181)",vr:"FD",vm:"1",name:"SpecificAbsorptionRateValue"},"(0018,9182)":{tag:"(0018,9182)",vr:"FD",vm:"1",name:"GradientOutput"},"(0018,9183)":{tag:"(0018,9183)",vr:"CS",vm:"1",name:"FlowCompensationDirection"},"(0018,9184)":{tag:"(0018,9184)",vr:"FD",vm:"1",name:"TaggingDelay"},"(0018,9185)":{tag:"(0018,9185)",vr:"ST",vm:"1",name:"RespiratoryMotionCompensationTechniqueDescription"},"(0018,9186)":{tag:"(0018,9186)",vr:"SH",vm:"1",name:"RespiratorySignalSourceID"},"(0018,9195)":{tag:"(0018,9195)",vr:"FD",vm:"1",name:"ChemicalShiftMinimumIntegrationLimitInHz"},"(0018,9196)":{tag:"(0018,9196)",vr:"FD",vm:"1",name:"ChemicalShiftMaximumIntegrationLimitInHz"},"(0018,9197)":{tag:"(0018,9197)",vr:"SQ",vm:"1",name:"MRVelocityEncodingSequence"},"(0018,9198)":{tag:"(0018,9198)",vr:"CS",vm:"1",name:"FirstOrderPhaseCorrection"},"(0018,9199)":{tag:"(0018,9199)",vr:"CS",vm:"1",name:"WaterReferencedPhaseCorrection"},"(0018,9200)":{tag:"(0018,9200)",vr:"CS",vm:"1",name:"MRSpectroscopyAcquisitionType"},"(0018,9214)":{tag:"(0018,9214)",vr:"CS",vm:"1",name:"RespiratoryCyclePosition"},"(0018,9217)":{tag:"(0018,9217)",vr:"FD",vm:"1",name:"VelocityEncodingMaximumValue"},"(0018,9218)":{tag:"(0018,9218)",vr:"FD",vm:"1",name:"TagSpacingSecondDimension"},"(0018,9219)":{tag:"(0018,9219)",vr:"SS",vm:"1",name:"TagAngleSecondAxis"},"(0018,9220)":{tag:"(0018,9220)",vr:"FD",vm:"1",name:"FrameAcquisitionDuration"},"(0018,9226)":{tag:"(0018,9226)",vr:"SQ",vm:"1",name:"MRImageFrameTypeSequence"},"(0018,9227)":{tag:"(0018,9227)",vr:"SQ",vm:"1",name:"MRSpectroscopyFrameTypeSequence"},"(0018,9231)":{tag:"(0018,9231)",vr:"US",vm:"1",name:"MRAcquisitionPhaseEncodingStepsInPlane"},"(0018,9232)":{tag:"(0018,9232)",vr:"US",vm:"1",name:"MRAcquisitionPhaseEncodingStepsOutOfPlane"},"(0018,9234)":{tag:"(0018,9234)",vr:"UL",vm:"1",name:"SpectroscopyAcquisitionPhaseColumns"},"(0018,9236)":{tag:"(0018,9236)",vr:"CS",vm:"1",name:"CardiacCyclePosition"},"(0018,9239)":{tag:"(0018,9239)",vr:"SQ",vm:"1",name:"SpecificAbsorptionRateSequence"},"(0018,9240)":{tag:"(0018,9240)",vr:"US",vm:"1",name:"RFEchoTrainLength"},"(0018,9241)":{tag:"(0018,9241)",vr:"US",vm:"1",name:"GradientEchoTrainLength"},"(0018,9250)":{tag:"(0018,9250)",vr:"CS",vm:"1",name:"ArterialSpinLabelingContrast"},"(0018,9251)":{tag:"(0018,9251)",vr:"SQ",vm:"1",name:"MRArterialSpinLabelingSequence"},"(0018,9252)":{tag:"(0018,9252)",vr:"LO",vm:"1",name:"ASLTechniqueDescription"},"(0018,9253)":{tag:"(0018,9253)",vr:"US",vm:"1",name:"ASLSlabNumber"},"(0018,9254)":{tag:"(0018,9254)",vr:"FD",vm:"1",name:"ASLSlabThickness"},"(0018,9255)":{tag:"(0018,9255)",vr:"FD",vm:"3",name:"ASLSlabOrientation"},"(0018,9256)":{tag:"(0018,9256)",vr:"FD",vm:"3",name:"ASLMidSlabPosition"},"(0018,9257)":{tag:"(0018,9257)",vr:"CS",vm:"1",name:"ASLContext"},"(0018,9258)":{tag:"(0018,9258)",vr:"UL",vm:"1",name:"ASLPulseTrainDuration"},"(0018,9259)":{tag:"(0018,9259)",vr:"CS",vm:"1",name:"ASLCrusherFlag"},"(0018,925A)":{tag:"(0018,925A)",vr:"FD",vm:"1",name:"ASLCrusherFlowLimit"},"(0018,925B)":{tag:"(0018,925B)",vr:"LO",vm:"1",name:"ASLCrusherDescription"},"(0018,925C)":{tag:"(0018,925C)",vr:"CS",vm:"1",name:"ASLBolusCutoffFlag"},"(0018,925D)":{tag:"(0018,925D)",vr:"SQ",vm:"1",name:"ASLBolusCutoffTimingSequence"},"(0018,925E)":{tag:"(0018,925E)",vr:"LO",vm:"1",name:"ASLBolusCutoffTechnique"},"(0018,925F)":{tag:"(0018,925F)",vr:"UL",vm:"1",name:"ASLBolusCutoffDelayTime"},"(0018,9260)":{tag:"(0018,9260)",vr:"SQ",vm:"1",name:"ASLSlabSequence"},"(0018,9295)":{tag:"(0018,9295)",vr:"FD",vm:"1",name:"ChemicalShiftMinimumIntegrationLimitInppm"},"(0018,9296)":{tag:"(0018,9296)",vr:"FD",vm:"1",name:"ChemicalShiftMaximumIntegrationLimitInppm"},"(0018,9297)":{tag:"(0018,9297)",vr:"CS",vm:"1",name:"WaterReferenceAcquisition"},"(0018,9298)":{tag:"(0018,9298)",vr:"IS",vm:"1",name:"EchoPeakPosition"},"(0018,9301)":{tag:"(0018,9301)",vr:"SQ",vm:"1",name:"CTAcquisitionTypeSequence"},"(0018,9302)":{tag:"(0018,9302)",vr:"CS",vm:"1",name:"AcquisitionType"},"(0018,9303)":{tag:"(0018,9303)",vr:"FD",vm:"1",name:"TubeAngle"},"(0018,9304)":{tag:"(0018,9304)",vr:"SQ",vm:"1",name:"CTAcquisitionDetailsSequence"},"(0018,9305)":{tag:"(0018,9305)",vr:"FD",vm:"1",name:"RevolutionTime"},"(0018,9306)":{tag:"(0018,9306)",vr:"FD",vm:"1",name:"SingleCollimationWidth"},"(0018,9307)":{tag:"(0018,9307)",vr:"FD",vm:"1",name:"TotalCollimationWidth"},"(0018,9308)":{tag:"(0018,9308)",vr:"SQ",vm:"1",name:"CTTableDynamicsSequence"},"(0018,9309)":{tag:"(0018,9309)",vr:"FD",vm:"1",name:"TableSpeed"},"(0018,9310)":{tag:"(0018,9310)",vr:"FD",vm:"1",name:"TableFeedPerRotation"},"(0018,9311)":{tag:"(0018,9311)",vr:"FD",vm:"1",name:"SpiralPitchFactor"},"(0018,9312)":{tag:"(0018,9312)",vr:"SQ",vm:"1",name:"CTGeometrySequence"},"(0018,9313)":{tag:"(0018,9313)",vr:"FD",vm:"3",name:"DataCollectionCenterPatient"},"(0018,9314)":{tag:"(0018,9314)",vr:"SQ",vm:"1",name:"CTReconstructionSequence"},"(0018,9315)":{tag:"(0018,9315)",vr:"CS",vm:"1",name:"ReconstructionAlgorithm"},"(0018,9316)":{tag:"(0018,9316)",vr:"CS",vm:"1",name:"ConvolutionKernelGroup"},"(0018,9317)":{tag:"(0018,9317)",vr:"FD",vm:"2",name:"ReconstructionFieldOfView"},"(0018,9318)":{tag:"(0018,9318)",vr:"FD",vm:"3",name:"ReconstructionTargetCenterPatient"},"(0018,9319)":{tag:"(0018,9319)",vr:"FD",vm:"1",name:"ReconstructionAngle"},"(0018,9320)":{tag:"(0018,9320)",vr:"SH",vm:"1",name:"ImageFilter"},"(0018,9321)":{tag:"(0018,9321)",vr:"SQ",vm:"1",name:"CTExposureSequence"},"(0018,9322)":{tag:"(0018,9322)",vr:"FD",vm:"2",name:"ReconstructionPixelSpacing"},"(0018,9323)":{tag:"(0018,9323)",vr:"CS",vm:"1-n",name:"ExposureModulationType"},"(0018,9324)":{tag:"(0018,9324)",vr:"FD",vm:"1",name:"EstimatedDoseSaving"},"(0018,9325)":{tag:"(0018,9325)",vr:"SQ",vm:"1",name:"CTXRayDetailsSequence"},"(0018,9326)":{tag:"(0018,9326)",vr:"SQ",vm:"1",name:"CTPositionSequence"},"(0018,9327)":{tag:"(0018,9327)",vr:"FD",vm:"1",name:"TablePosition"},"(0018,9328)":{tag:"(0018,9328)",vr:"FD",vm:"1",name:"ExposureTimeInms"},"(0018,9329)":{tag:"(0018,9329)",vr:"SQ",vm:"1",name:"CTImageFrameTypeSequence"},"(0018,9330)":{tag:"(0018,9330)",vr:"FD",vm:"1",name:"XRayTubeCurrentInmA"},"(0018,9332)":{tag:"(0018,9332)",vr:"FD",vm:"1",name:"ExposureInmAs"},"(0018,9333)":{tag:"(0018,9333)",vr:"CS",vm:"1",name:"ConstantVolumeFlag"},"(0018,9334)":{tag:"(0018,9334)",vr:"CS",vm:"1",name:"FluoroscopyFlag"},"(0018,9335)":{tag:"(0018,9335)",vr:"FD",vm:"1",name:"DistanceSourceToDataCollectionCenter"},"(0018,9337)":{tag:"(0018,9337)",vr:"US",vm:"1",name:"ContrastBolusAgentNumber"},"(0018,9338)":{tag:"(0018,9338)",vr:"SQ",vm:"1",name:"ContrastBolusIngredientCodeSequence"},"(0018,9340)":{tag:"(0018,9340)",vr:"SQ",vm:"1",name:"ContrastAdministrationProfileSequence"},"(0018,9341)":{tag:"(0018,9341)",vr:"SQ",vm:"1",name:"ContrastBolusUsageSequence"},"(0018,9342)":{tag:"(0018,9342)",vr:"CS",vm:"1",name:"ContrastBolusAgentAdministered"},"(0018,9343)":{tag:"(0018,9343)",vr:"CS",vm:"1",name:"ContrastBolusAgentDetected"},"(0018,9344)":{tag:"(0018,9344)",vr:"CS",vm:"1",name:"ContrastBolusAgentPhase"},"(0018,9345)":{tag:"(0018,9345)",vr:"FD",vm:"1",name:"CTDIvol"},"(0018,9346)":{tag:"(0018,9346)",vr:"SQ",vm:"1",name:"CTDIPhantomTypeCodeSequence"},"(0018,9351)":{tag:"(0018,9351)",vr:"FL",vm:"1",name:"CalciumScoringMassFactorPatient"},"(0018,9352)":{tag:"(0018,9352)",vr:"FL",vm:"3",name:"CalciumScoringMassFactorDevice"},"(0018,9353)":{tag:"(0018,9353)",vr:"FL",vm:"1",name:"EnergyWeightingFactor"},"(0018,9360)":{tag:"(0018,9360)",vr:"SQ",vm:"1",name:"CTAdditionalXRaySourceSequence"},"(0018,9361)":{tag:"(0018,9361)",vr:"CS",vm:"1",name:"MultienergyCTAcquisition"},"(0018,9362)":{tag:"(0018,9362)",vr:"SQ",vm:"1",name:"MultienergyCTAcquisitionSequence"},"(0018,9363)":{tag:"(0018,9363)",vr:"SQ",vm:"1",name:"MultienergyCTProcessingSequence"},"(0018,9364)":{tag:"(0018,9364)",vr:"SQ",vm:"1",name:"MultienergyCTCharacteristicsSequence"},"(0018,9365)":{tag:"(0018,9365)",vr:"SQ",vm:"1",name:"MultienergyCTXRaySourceSequence"},"(0018,9366)":{tag:"(0018,9366)",vr:"US",vm:"1",name:"XRaySourceIndex"},"(0018,9367)":{tag:"(0018,9367)",vr:"UC",vm:"1",name:"XRaySourceID"},"(0018,9368)":{tag:"(0018,9368)",vr:"CS",vm:"1",name:"MultienergySourceTechnique"},"(0018,9369)":{tag:"(0018,9369)",vr:"DT",vm:"1",name:"SourceStartDateTime"},"(0018,936A)":{tag:"(0018,936A)",vr:"DT",vm:"1",name:"SourceEndDateTime"},"(0018,936B)":{tag:"(0018,936B)",vr:"US",vm:"1",name:"SwitchingPhaseNumber"},"(0018,936C)":{tag:"(0018,936C)",vr:"DS",vm:"1",name:"SwitchingPhaseNominalDuration"},"(0018,936D)":{tag:"(0018,936D)",vr:"DS",vm:"1",name:"SwitchingPhaseTransitionDuration"},"(0018,936E)":{tag:"(0018,936E)",vr:"DS",vm:"1",name:"EffectiveBinEnergy"},"(0018,936F)":{tag:"(0018,936F)",vr:"SQ",vm:"1",name:"MultienergyCTXRayDetectorSequence"},"(0018,9370)":{tag:"(0018,9370)",vr:"US",vm:"1",name:"XRayDetectorIndex"},"(0018,9371)":{tag:"(0018,9371)",vr:"UC",vm:"1",name:"XRayDetectorID"},"(0018,9372)":{tag:"(0018,9372)",vr:"CS",vm:"1",name:"MultienergyDetectorType"},"(0018,9373)":{tag:"(0018,9373)",vr:"ST",vm:"1",name:"XRayDetectorLabel"},"(0018,9374)":{tag:"(0018,9374)",vr:"DS",vm:"1",name:"NominalMaxEnergy"},"(0018,9375)":{tag:"(0018,9375)",vr:"DS",vm:"1",name:"NominalMinEnergy"},"(0018,9376)":{tag:"(0018,9376)",vr:"US",vm:"1-n",name:"ReferencedXRayDetectorIndex"},"(0018,9377)":{tag:"(0018,9377)",vr:"US",vm:"1-n",name:"ReferencedXRaySourceIndex"},"(0018,9378)":{tag:"(0018,9378)",vr:"US",vm:"1-n",name:"ReferencedPathIndex"},"(0018,9379)":{tag:"(0018,9379)",vr:"SQ",vm:"1",name:"MultienergyCTPathSequence"},"(0018,937A)":{tag:"(0018,937A)",vr:"US",vm:"1",name:"MultienergyCTPathIndex"},"(0018,937B)":{tag:"(0018,937B)",vr:"UT",vm:"1",name:"MultienergyAcquisitionDescription"},"(0018,937C)":{tag:"(0018,937C)",vr:"FD",vm:"1",name:"MonoenergeticEnergyEquivalent"},"(0018,937D)":{tag:"(0018,937D)",vr:"SQ",vm:"1",name:"MaterialCodeSequence"},"(0018,937E)":{tag:"(0018,937E)",vr:"CS",vm:"1",name:"DecompositionMethod"},"(0018,937F)":{tag:"(0018,937F)",vr:"UT",vm:"1",name:"DecompositionDescription"},"(0018,9380)":{tag:"(0018,9380)",vr:"SQ",vm:"1",name:"DecompositionAlgorithmIdentificationSequence"},"(0018,9381)":{tag:"(0018,9381)",vr:"SQ",vm:"1",name:"DecompositionMaterialSequence"},"(0018,9382)":{tag:"(0018,9382)",vr:"SQ",vm:"1",name:"MaterialAttenuationSequence"},"(0018,9383)":{tag:"(0018,9383)",vr:"DS",vm:"1",name:"PhotonEnergy"},"(0018,9384)":{tag:"(0018,9384)",vr:"DS",vm:"1",name:"XRayMassAttenuationCoefficient"},"(0018,9401)":{tag:"(0018,9401)",vr:"SQ",vm:"1",name:"ProjectionPixelCalibrationSequence"},"(0018,9402)":{tag:"(0018,9402)",vr:"FL",vm:"1",name:"DistanceSourceToIsocenter"},"(0018,9403)":{tag:"(0018,9403)",vr:"FL",vm:"1",name:"DistanceObjectToTableTop"},"(0018,9404)":{tag:"(0018,9404)",vr:"FL",vm:"2",name:"ObjectPixelSpacingInCenterOfBeam"},"(0018,9405)":{tag:"(0018,9405)",vr:"SQ",vm:"1",name:"PositionerPositionSequence"},"(0018,9406)":{tag:"(0018,9406)",vr:"SQ",vm:"1",name:"TablePositionSequence"},"(0018,9407)":{tag:"(0018,9407)",vr:"SQ",vm:"1",name:"CollimatorShapeSequence"},"(0018,9410)":{tag:"(0018,9410)",vr:"CS",vm:"1",name:"PlanesInAcquisition"},"(0018,9412)":{tag:"(0018,9412)",vr:"SQ",vm:"1",name:"XAXRFFrameCharacteristicsSequence"},"(0018,9417)":{tag:"(0018,9417)",vr:"SQ",vm:"1",name:"FrameAcquisitionSequence"},"(0018,9420)":{tag:"(0018,9420)",vr:"CS",vm:"1",name:"XRayReceptorType"},"(0018,9423)":{tag:"(0018,9423)",vr:"LO",vm:"1",name:"AcquisitionProtocolName"},"(0018,9424)":{tag:"(0018,9424)",vr:"LT",vm:"1",name:"AcquisitionProtocolDescription"},"(0018,9425)":{tag:"(0018,9425)",vr:"CS",vm:"1",name:"ContrastBolusIngredientOpaque"},"(0018,9426)":{tag:"(0018,9426)",vr:"FL",vm:"1",name:"DistanceReceptorPlaneToDetectorHousing"},"(0018,9427)":{tag:"(0018,9427)",vr:"CS",vm:"1",name:"IntensifierActiveShape"},"(0018,9428)":{tag:"(0018,9428)",vr:"FL",vm:"1-2",name:"IntensifierActiveDimensions"},"(0018,9429)":{tag:"(0018,9429)",vr:"FL",vm:"2",name:"PhysicalDetectorSize"},"(0018,9430)":{tag:"(0018,9430)",vr:"FL",vm:"2",name:"PositionOfIsocenterProjection"},"(0018,9432)":{tag:"(0018,9432)",vr:"SQ",vm:"1",name:"FieldOfViewSequence"},"(0018,9433)":{tag:"(0018,9433)",vr:"LO",vm:"1",name:"FieldOfViewDescription"},"(0018,9434)":{tag:"(0018,9434)",vr:"SQ",vm:"1",name:"ExposureControlSensingRegionsSequence"},"(0018,9435)":{tag:"(0018,9435)",vr:"CS",vm:"1",name:"ExposureControlSensingRegionShape"},"(0018,9436)":{tag:"(0018,9436)",vr:"SS",vm:"1",name:"ExposureControlSensingRegionLeftVerticalEdge"},"(0018,9437)":{tag:"(0018,9437)",vr:"SS",vm:"1",name:"ExposureControlSensingRegionRightVerticalEdge"},"(0018,9438)":{tag:"(0018,9438)",vr:"SS",vm:"1",name:"ExposureControlSensingRegionUpperHorizontalEdge"},"(0018,9439)":{tag:"(0018,9439)",vr:"SS",vm:"1",name:"ExposureControlSensingRegionLowerHorizontalEdge"},"(0018,9440)":{tag:"(0018,9440)",vr:"SS",vm:"2",name:"CenterOfCircularExposureControlSensingRegion"},"(0018,9441)":{tag:"(0018,9441)",vr:"US",vm:"1",name:"RadiusOfCircularExposureControlSensingRegion"},"(0018,9442)":{tag:"(0018,9442)",vr:"SS",vm:"2-n",name:"VerticesOfThePolygonalExposureControlSensingRegion"},"(0018,9445)":{tag:"(0018,9445)",vr:"",vm:"",name:""},"(0018,9447)":{tag:"(0018,9447)",vr:"FL",vm:"1",name:"ColumnAngulationPatient"},"(0018,9449)":{tag:"(0018,9449)",vr:"FL",vm:"1",name:"BeamAngle"},"(0018,9451)":{tag:"(0018,9451)",vr:"SQ",vm:"1",name:"FrameDetectorParametersSequence"},"(0018,9452)":{tag:"(0018,9452)",vr:"FL",vm:"1",name:"CalculatedAnatomyThickness"},"(0018,9455)":{tag:"(0018,9455)",vr:"SQ",vm:"1",name:"CalibrationSequence"},"(0018,9456)":{tag:"(0018,9456)",vr:"SQ",vm:"1",name:"ObjectThicknessSequence"},"(0018,9457)":{tag:"(0018,9457)",vr:"CS",vm:"1",name:"PlaneIdentification"},"(0018,9461)":{tag:"(0018,9461)",vr:"FL",vm:"1-2",name:"FieldOfViewDimensionsInFloat"},"(0018,9462)":{tag:"(0018,9462)",vr:"SQ",vm:"1",name:"IsocenterReferenceSystemSequence"},"(0018,9463)":{tag:"(0018,9463)",vr:"FL",vm:"1",name:"PositionerIsocenterPrimaryAngle"},"(0018,9464)":{tag:"(0018,9464)",vr:"FL",vm:"1",name:"PositionerIsocenterSecondaryAngle"},"(0018,9465)":{tag:"(0018,9465)",vr:"FL",vm:"1",name:"PositionerIsocenterDetectorRotationAngle"},"(0018,9466)":{tag:"(0018,9466)",vr:"FL",vm:"1",name:"TableXPositionToIsocenter"},"(0018,9467)":{tag:"(0018,9467)",vr:"FL",vm:"1",name:"TableYPositionToIsocenter"},"(0018,9468)":{tag:"(0018,9468)",vr:"FL",vm:"1",name:"TableZPositionToIsocenter"},"(0018,9469)":{tag:"(0018,9469)",vr:"FL",vm:"1",name:"TableHorizontalRotationAngle"},"(0018,9470)":{tag:"(0018,9470)",vr:"FL",vm:"1",name:"TableHeadTiltAngle"},"(0018,9471)":{tag:"(0018,9471)",vr:"FL",vm:"1",name:"TableCradleTiltAngle"},"(0018,9472)":{tag:"(0018,9472)",vr:"SQ",vm:"1",name:"FrameDisplayShutterSequence"},"(0018,9473)":{tag:"(0018,9473)",vr:"FL",vm:"1",name:"AcquiredImageAreaDoseProduct"},"(0018,9474)":{tag:"(0018,9474)",vr:"CS",vm:"1",name:"CArmPositionerTabletopRelationship"},"(0018,9476)":{tag:"(0018,9476)",vr:"SQ",vm:"1",name:"XRayGeometrySequence"},"(0018,9477)":{tag:"(0018,9477)",vr:"SQ",vm:"1",name:"IrradiationEventIdentificationSequence"},"(0018,9504)":{tag:"(0018,9504)",vr:"SQ",vm:"1",name:"XRay3DFrameTypeSequence"},"(0018,9506)":{tag:"(0018,9506)",vr:"SQ",vm:"1",name:"ContributingSourcesSequence"},"(0018,9507)":{tag:"(0018,9507)",vr:"SQ",vm:"1",name:"XRay3DAcquisitionSequence"},"(0018,9508)":{tag:"(0018,9508)",vr:"FL",vm:"1",name:"PrimaryPositionerScanArc"},"(0018,9509)":{tag:"(0018,9509)",vr:"FL",vm:"1",name:"SecondaryPositionerScanArc"},"(0018,9510)":{tag:"(0018,9510)",vr:"FL",vm:"1",name:"PrimaryPositionerScanStartAngle"},"(0018,9511)":{tag:"(0018,9511)",vr:"FL",vm:"1",name:"SecondaryPositionerScanStartAngle"},"(0018,9514)":{tag:"(0018,9514)",vr:"FL",vm:"1",name:"PrimaryPositionerIncrement"},"(0018,9515)":{tag:"(0018,9515)",vr:"FL",vm:"1",name:"SecondaryPositionerIncrement"},"(0018,9516)":{tag:"(0018,9516)",vr:"DT",vm:"1",name:"StartAcquisitionDateTime"},"(0018,9517)":{tag:"(0018,9517)",vr:"DT",vm:"1",name:"EndAcquisitionDateTime"},"(0018,9518)":{tag:"(0018,9518)",vr:"SS",vm:"1",name:"PrimaryPositionerIncrementSign"},"(0018,9519)":{tag:"(0018,9519)",vr:"SS",vm:"1",name:"SecondaryPositionerIncrementSign"},"(0018,9524)":{tag:"(0018,9524)",vr:"LO",vm:"1",name:"ApplicationName"},"(0018,9525)":{tag:"(0018,9525)",vr:"LO",vm:"1",name:"ApplicationVersion"},"(0018,9526)":{tag:"(0018,9526)",vr:"LO",vm:"1",name:"ApplicationManufacturer"},"(0018,9527)":{tag:"(0018,9527)",vr:"CS",vm:"1",name:"AlgorithmType"},"(0018,9528)":{tag:"(0018,9528)",vr:"LO",vm:"1",name:"AlgorithmDescription"},"(0018,9530)":{tag:"(0018,9530)",vr:"SQ",vm:"1",name:"XRay3DReconstructionSequence"},"(0018,9531)":{tag:"(0018,9531)",vr:"LO",vm:"1",name:"ReconstructionDescription"},"(0018,9538)":{tag:"(0018,9538)",vr:"SQ",vm:"1",name:"PerProjectionAcquisitionSequence"},"(0018,9541)":{tag:"(0018,9541)",vr:"SQ",vm:"1",name:"DetectorPositionSequence"},"(0018,9542)":{tag:"(0018,9542)",vr:"SQ",vm:"1",name:"XRayAcquisitionDoseSequence"},"(0018,9543)":{tag:"(0018,9543)",vr:"FD",vm:"1",name:"XRaySourceIsocenterPrimaryAngle"},"(0018,9544)":{tag:"(0018,9544)",vr:"FD",vm:"1",name:"XRaySourceIsocenterSecondaryAngle"},"(0018,9545)":{tag:"(0018,9545)",vr:"FD",vm:"1",name:"BreastSupportIsocenterPrimaryAngle"},"(0018,9546)":{tag:"(0018,9546)",vr:"FD",vm:"1",name:"BreastSupportIsocenterSecondaryAngle"},"(0018,9547)":{tag:"(0018,9547)",vr:"FD",vm:"1",name:"BreastSupportXPositionToIsocenter"},"(0018,9548)":{tag:"(0018,9548)",vr:"FD",vm:"1",name:"BreastSupportYPositionToIsocenter"},"(0018,9549)":{tag:"(0018,9549)",vr:"FD",vm:"1",name:"BreastSupportZPositionToIsocenter"},"(0018,9550)":{tag:"(0018,9550)",vr:"FD",vm:"1",name:"DetectorIsocenterPrimaryAngle"},"(0018,9551)":{tag:"(0018,9551)",vr:"FD",vm:"1",name:"DetectorIsocenterSecondaryAngle"},"(0018,9552)":{tag:"(0018,9552)",vr:"FD",vm:"1",name:"DetectorXPositionToIsocenter"},"(0018,9553)":{tag:"(0018,9553)",vr:"FD",vm:"1",name:"DetectorYPositionToIsocenter"},"(0018,9554)":{tag:"(0018,9554)",vr:"FD",vm:"1",name:"DetectorZPositionToIsocenter"},"(0018,9555)":{tag:"(0018,9555)",vr:"SQ",vm:"1",name:"XRayGridSequence"},"(0018,9556)":{tag:"(0018,9556)",vr:"SQ",vm:"1",name:"XRayFilterSequence"},"(0018,9557)":{tag:"(0018,9557)",vr:"FD",vm:"3",name:"DetectorActiveAreaTLHCPosition"},"(0018,9558)":{tag:"(0018,9558)",vr:"FD",vm:"6",name:"DetectorActiveAreaOrientation"},"(0018,9559)":{tag:"(0018,9559)",vr:"CS",vm:"1",name:"PositionerPrimaryAngleDirection"},"(0018,9601)":{tag:"(0018,9601)",vr:"SQ",vm:"1",name:"DiffusionBMatrixSequence"},"(0018,9602)":{tag:"(0018,9602)",vr:"FD",vm:"1",name:"DiffusionBValueXX"},"(0018,9603)":{tag:"(0018,9603)",vr:"FD",vm:"1",name:"DiffusionBValueXY"},"(0018,9604)":{tag:"(0018,9604)",vr:"FD",vm:"1",name:"DiffusionBValueXZ"},"(0018,9605)":{tag:"(0018,9605)",vr:"FD",vm:"1",name:"DiffusionBValueYY"},"(0018,9606)":{tag:"(0018,9606)",vr:"FD",vm:"1",name:"DiffusionBValueYZ"},"(0018,9607)":{tag:"(0018,9607)",vr:"FD",vm:"1",name:"DiffusionBValueZZ"},"(0018,9621)":{tag:"(0018,9621)",vr:"SQ",vm:"1",name:"FunctionalMRSequence"},"(0018,9622)":{tag:"(0018,9622)",vr:"CS",vm:"1",name:"FunctionalSettlingPhaseFramesPresent"},"(0018,9623)":{tag:"(0018,9623)",vr:"DT",vm:"1",name:"FunctionalSyncPulse"},"(0018,9624)":{tag:"(0018,9624)",vr:"CS",vm:"1",name:"SettlingPhaseFrame"},"(0018,9701)":{tag:"(0018,9701)",vr:"DT",vm:"1",name:"DecayCorrectionDateTime"},"(0018,9715)":{tag:"(0018,9715)",vr:"FD",vm:"1",name:"StartDensityThreshold"},"(0018,9716)":{tag:"(0018,9716)",vr:"FD",vm:"1",name:"StartRelativeDensityDifferenceThreshold"},"(0018,9717)":{tag:"(0018,9717)",vr:"FD",vm:"1",name:"StartCardiacTriggerCountThreshold"},"(0018,9718)":{tag:"(0018,9718)",vr:"FD",vm:"1",name:"StartRespiratoryTriggerCountThreshold"},"(0018,9719)":{tag:"(0018,9719)",vr:"FD",vm:"1",name:"TerminationCountsThreshold"},"(0018,9720)":{tag:"(0018,9720)",vr:"FD",vm:"1",name:"TerminationDensityThreshold"},"(0018,9721)":{tag:"(0018,9721)",vr:"FD",vm:"1",name:"TerminationRelativeDensityThreshold"},"(0018,9722)":{tag:"(0018,9722)",vr:"FD",vm:"1",name:"TerminationTimeThreshold"},"(0018,9723)":{tag:"(0018,9723)",vr:"FD",vm:"1",name:"TerminationCardiacTriggerCountThreshold"},"(0018,9724)":{tag:"(0018,9724)",vr:"FD",vm:"1",name:"TerminationRespiratoryTriggerCountThreshold"},"(0018,9725)":{tag:"(0018,9725)",vr:"CS",vm:"1",name:"DetectorGeometry"},"(0018,9726)":{tag:"(0018,9726)",vr:"FD",vm:"1",name:"TransverseDetectorSeparation"},"(0018,9727)":{tag:"(0018,9727)",vr:"FD",vm:"1",name:"AxialDetectorDimension"},"(0018,9729)":{tag:"(0018,9729)",vr:"US",vm:"1",name:"RadiopharmaceuticalAgentNumber"},"(0018,9732)":{tag:"(0018,9732)",vr:"SQ",vm:"1",name:"PETFrameAcquisitionSequence"},"(0018,9733)":{tag:"(0018,9733)",vr:"SQ",vm:"1",name:"PETDetectorMotionDetailsSequence"},"(0018,9734)":{tag:"(0018,9734)",vr:"SQ",vm:"1",name:"PETTableDynamicsSequence"},"(0018,9735)":{tag:"(0018,9735)",vr:"SQ",vm:"1",name:"PETPositionSequence"},"(0018,9736)":{tag:"(0018,9736)",vr:"SQ",vm:"1",name:"PETFrameCorrectionFactorsSequence"},"(0018,9737)":{tag:"(0018,9737)",vr:"SQ",vm:"1",name:"RadiopharmaceuticalUsageSequence"},"(0018,9738)":{tag:"(0018,9738)",vr:"CS",vm:"1",name:"AttenuationCorrectionSource"},"(0018,9739)":{tag:"(0018,9739)",vr:"US",vm:"1",name:"NumberOfIterations"},"(0018,9740)":{tag:"(0018,9740)",vr:"US",vm:"1",name:"NumberOfSubsets"},"(0018,9749)":{tag:"(0018,9749)",vr:"SQ",vm:"1",name:"PETReconstructionSequence"},"(0018,9751)":{tag:"(0018,9751)",vr:"SQ",vm:"1",name:"PETFrameTypeSequence"},"(0018,9755)":{tag:"(0018,9755)",vr:"CS",vm:"1",name:"TimeOfFlightInformationUsed"},"(0018,9756)":{tag:"(0018,9756)",vr:"CS",vm:"1",name:"ReconstructionType"},"(0018,9758)":{tag:"(0018,9758)",vr:"CS",vm:"1",name:"DecayCorrected"},"(0018,9759)":{tag:"(0018,9759)",vr:"CS",vm:"1",name:"AttenuationCorrected"},"(0018,9760)":{tag:"(0018,9760)",vr:"CS",vm:"1",name:"ScatterCorrected"},"(0018,9761)":{tag:"(0018,9761)",vr:"CS",vm:"1",name:"DeadTimeCorrected"},"(0018,9762)":{tag:"(0018,9762)",vr:"CS",vm:"1",name:"GantryMotionCorrected"},"(0018,9763)":{tag:"(0018,9763)",vr:"CS",vm:"1",name:"PatientMotionCorrected"},"(0018,9764)":{tag:"(0018,9764)",vr:"CS",vm:"1",name:"CountLossNormalizationCorrected"},"(0018,9765)":{tag:"(0018,9765)",vr:"CS",vm:"1",name:"RandomsCorrected"},"(0018,9766)":{tag:"(0018,9766)",vr:"CS",vm:"1",name:"NonUniformRadialSamplingCorrected"},"(0018,9767)":{tag:"(0018,9767)",vr:"CS",vm:"1",name:"SensitivityCalibrated"},"(0018,9768)":{tag:"(0018,9768)",vr:"CS",vm:"1",name:"DetectorNormalizationCorrection"},"(0018,9769)":{tag:"(0018,9769)",vr:"CS",vm:"1",name:"IterativeReconstructionMethod"},"(0018,9770)":{tag:"(0018,9770)",vr:"CS",vm:"1",name:"AttenuationCorrectionTemporalRelationship"},"(0018,9771)":{tag:"(0018,9771)",vr:"SQ",vm:"1",name:"PatientPhysiologicalStateSequence"},"(0018,9772)":{tag:"(0018,9772)",vr:"SQ",vm:"1",name:"PatientPhysiologicalStateCodeSequence"},"(0018,9801)":{tag:"(0018,9801)",vr:"FD",vm:"1-n",name:"DepthsOfFocus"},"(0018,9803)":{tag:"(0018,9803)",vr:"SQ",vm:"1",name:"ExcludedIntervalsSequence"},"(0018,9804)":{tag:"(0018,9804)",vr:"DT",vm:"1",name:"ExclusionStartDateTime"},"(0018,9805)":{tag:"(0018,9805)",vr:"FD",vm:"1",name:"ExclusionDuration"},"(0018,9806)":{tag:"(0018,9806)",vr:"SQ",vm:"1",name:"USImageDescriptionSequence"},"(0018,9807)":{tag:"(0018,9807)",vr:"SQ",vm:"1",name:"ImageDataTypeSequence"},"(0018,9808)":{tag:"(0018,9808)",vr:"CS",vm:"1",name:"DataType"},"(0018,9809)":{tag:"(0018,9809)",vr:"SQ",vm:"1",name:"TransducerScanPatternCodeSequence"},"(0018,980B)":{tag:"(0018,980B)",vr:"CS",vm:"1",name:"AliasedDataType"},"(0018,980C)":{tag:"(0018,980C)",vr:"CS",vm:"1",name:"PositionMeasuringDeviceUsed"},"(0018,980D)":{tag:"(0018,980D)",vr:"SQ",vm:"1",name:"TransducerGeometryCodeSequence"},"(0018,980E)":{tag:"(0018,980E)",vr:"SQ",vm:"1",name:"TransducerBeamSteeringCodeSequence"},"(0018,980F)":{tag:"(0018,980F)",vr:"SQ",vm:"1",name:"TransducerApplicationCodeSequence"},"(0018,9810)":{tag:"(0018,9810)",vr:"US|SS",vm:"1",name:"ZeroVelocityPixelValue"},"(0018,9900)":{tag:"(0018,9900)",vr:"LO",vm:"1",name:"ReferenceLocationLabel"},"(0018,9901)":{tag:"(0018,9901)",vr:"UT",vm:"1",name:"ReferenceLocationDescription"},"(0018,9902)":{tag:"(0018,9902)",vr:"SQ",vm:"1",name:"ReferenceBasisCodeSequence"},"(0018,9903)":{tag:"(0018,9903)",vr:"SQ",vm:"1",name:"ReferenceGeometryCodeSequence"},"(0018,9904)":{tag:"(0018,9904)",vr:"DS",vm:"1",name:"OffsetDistance"},"(0018,9905)":{tag:"(0018,9905)",vr:"CS",vm:"1",name:"OffsetDirection"},"(0018,9906)":{tag:"(0018,9906)",vr:"SQ",vm:"1",name:"PotentialScheduledProtocolCodeSequence"},"(0018,9907)":{tag:"(0018,9907)",vr:"SQ",vm:"1",name:"PotentialRequestedProcedureCodeSequence"},"(0018,9908)":{tag:"(0018,9908)",vr:"UC",vm:"1-n",name:"PotentialReasonsForProcedure"},"(0018,9909)":{tag:"(0018,9909)",vr:"SQ",vm:"1",name:"PotentialReasonsForProcedureCodeSequence"},"(0018,990A)":{tag:"(0018,990A)",vr:"UC",vm:"1-n",name:"PotentialDiagnosticTasks"},"(0018,990B)":{tag:"(0018,990B)",vr:"SQ",vm:"1",name:"ContraindicationsCodeSequence"},"(0018,990C)":{tag:"(0018,990C)",vr:"SQ",vm:"1",name:"ReferencedDefinedProtocolSequence"},"(0018,990D)":{tag:"(0018,990D)",vr:"SQ",vm:"1",name:"ReferencedPerformedProtocolSequence"},"(0018,990E)":{tag:"(0018,990E)",vr:"SQ",vm:"1",name:"PredecessorProtocolSequence"},"(0018,990F)":{tag:"(0018,990F)",vr:"UT",vm:"1",name:"ProtocolPlanningInformation"},"(0018,9910)":{tag:"(0018,9910)",vr:"UT",vm:"1",name:"ProtocolDesignRationale"},"(0018,9911)":{tag:"(0018,9911)",vr:"SQ",vm:"1",name:"PatientSpecificationSequence"},"(0018,9912)":{tag:"(0018,9912)",vr:"SQ",vm:"1",name:"ModelSpecificationSequence"},"(0018,9913)":{tag:"(0018,9913)",vr:"SQ",vm:"1",name:"ParametersSpecificationSequence"},"(0018,9914)":{tag:"(0018,9914)",vr:"SQ",vm:"1",name:"InstructionSequence"},"(0018,9915)":{tag:"(0018,9915)",vr:"US",vm:"1",name:"InstructionIndex"},"(0018,9916)":{tag:"(0018,9916)",vr:"LO",vm:"1",name:"InstructionText"},"(0018,9917)":{tag:"(0018,9917)",vr:"UT",vm:"1",name:"InstructionDescription"},"(0018,9918)":{tag:"(0018,9918)",vr:"CS",vm:"1",name:"InstructionPerformedFlag"},"(0018,9919)":{tag:"(0018,9919)",vr:"DT",vm:"1",name:"InstructionPerformedDateTime"},"(0018,991A)":{tag:"(0018,991A)",vr:"UT",vm:"1",name:"InstructionPerformanceComment"},"(0018,991B)":{tag:"(0018,991B)",vr:"SQ",vm:"1",name:"PatientPositioningInstructionSequence"},"(0018,991C)":{tag:"(0018,991C)",vr:"SQ",vm:"1",name:"PositioningMethodCodeSequence"},"(0018,991D)":{tag:"(0018,991D)",vr:"SQ",vm:"1",name:"PositioningLandmarkSequence"},"(0018,991E)":{tag:"(0018,991E)",vr:"UI",vm:"1",name:"TargetFrameOfReferenceUID"},"(0018,991F)":{tag:"(0018,991F)",vr:"SQ",vm:"1",name:"AcquisitionProtocolElementSpecificationSequence"},"(0018,9920)":{tag:"(0018,9920)",vr:"SQ",vm:"1",name:"AcquisitionProtocolElementSequence"},"(0018,9921)":{tag:"(0018,9921)",vr:"US",vm:"1",name:"ProtocolElementNumber"},"(0018,9922)":{tag:"(0018,9922)",vr:"LO",vm:"1",name:"ProtocolElementName"},"(0018,9923)":{tag:"(0018,9923)",vr:"UT",vm:"1",name:"ProtocolElementCharacteristicsSummary"},"(0018,9924)":{tag:"(0018,9924)",vr:"UT",vm:"1",name:"ProtocolElementPurpose"},"(0018,9930)":{tag:"(0018,9930)",vr:"CS",vm:"1",name:"AcquisitionMotion"},"(0018,9931)":{tag:"(0018,9931)",vr:"SQ",vm:"1",name:"AcquisitionStartLocationSequence"},"(0018,9932)":{tag:"(0018,9932)",vr:"SQ",vm:"1",name:"AcquisitionEndLocationSequence"},"(0018,9933)":{tag:"(0018,9933)",vr:"SQ",vm:"1",name:"ReconstructionProtocolElementSpecificationSequence"},"(0018,9934)":{tag:"(0018,9934)",vr:"SQ",vm:"1",name:"ReconstructionProtocolElementSequence"},"(0018,9935)":{tag:"(0018,9935)",vr:"SQ",vm:"1",name:"StorageProtocolElementSpecificationSequence"},"(0018,9936)":{tag:"(0018,9936)",vr:"SQ",vm:"1",name:"StorageProtocolElementSequence"},"(0018,9937)":{tag:"(0018,9937)",vr:"LO",vm:"1",name:"RequestedSeriesDescription"},"(0018,9938)":{tag:"(0018,9938)",vr:"US",vm:"1-n",name:"SourceAcquisitionProtocolElementNumber"},"(0018,9939)":{tag:"(0018,9939)",vr:"US",vm:"1-n",name:"SourceAcquisitionBeamNumber"},"(0018,993A)":{tag:"(0018,993A)",vr:"US",vm:"1-n",name:"SourceReconstructionProtocolElementNumber"},"(0018,993B)":{tag:"(0018,993B)",vr:"SQ",vm:"1",name:"ReconstructionStartLocationSequence"},"(0018,993C)":{tag:"(0018,993C)",vr:"SQ",vm:"1",name:"ReconstructionEndLocationSequence"},"(0018,993D)":{tag:"(0018,993D)",vr:"SQ",vm:"1",name:"ReconstructionAlgorithmSequence"},"(0018,993E)":{tag:"(0018,993E)",vr:"SQ",vm:"1",name:"ReconstructionTargetCenterLocationSequence"},"(0018,9941)":{tag:"(0018,9941)",vr:"UT",vm:"1",name:"ImageFilterDescription"},"(0018,9942)":{tag:"(0018,9942)",vr:"FD",vm:"1",name:"CTDIvolNotificationTrigger"},"(0018,9943)":{tag:"(0018,9943)",vr:"FD",vm:"1",name:"DLPNotificationTrigger"},"(0018,9944)":{tag:"(0018,9944)",vr:"CS",vm:"1",name:"AutoKVPSelectionType"},"(0018,9945)":{tag:"(0018,9945)",vr:"FD",vm:"1",name:"AutoKVPUpperBound"},"(0018,9946)":{tag:"(0018,9946)",vr:"FD",vm:"1",name:"AutoKVPLowerBound"},"(0018,9947)":{tag:"(0018,9947)",vr:"CS",vm:"1",name:"ProtocolDefinedPatientPosition"},"(0018,A001)":{tag:"(0018,A001)",vr:"SQ",vm:"1",name:"ContributingEquipmentSequence"},"(0018,A002)":{tag:"(0018,A002)",vr:"DT",vm:"1",name:"ContributionDateTime"},"(0018,A003)":{tag:"(0018,A003)",vr:"ST",vm:"1",name:"ContributionDescription"},"(0020,000D)":{tag:"(0020,000D)",vr:"UI",vm:"1",name:"StudyInstanceUID"},"(0020,000E)":{tag:"(0020,000E)",vr:"UI",vm:"1",name:"SeriesInstanceUID"},"(0020,0010)":{tag:"(0020,0010)",vr:"SH",vm:"1",name:"StudyID"},"(0020,0011)":{tag:"(0020,0011)",vr:"IS",vm:"1",name:"SeriesNumber"},"(0020,0012)":{tag:"(0020,0012)",vr:"IS",vm:"1",name:"AcquisitionNumber"},"(0020,0013)":{tag:"(0020,0013)",vr:"IS",vm:"1",name:"InstanceNumber"},"(0020,0014)":{tag:"(0020,0014)",vr:"IS",vm:"1",name:"IsotopeNumber"},"(0020,0015)":{tag:"(0020,0015)",vr:"IS",vm:"1",name:"PhaseNumber"},"(0020,0016)":{tag:"(0020,0016)",vr:"IS",vm:"1",name:"IntervalNumber"},"(0020,0017)":{tag:"(0020,0017)",vr:"IS",vm:"1",name:"TimeSlotNumber"},"(0020,0018)":{tag:"(0020,0018)",vr:"IS",vm:"1",name:"AngleNumber"},"(0020,0019)":{tag:"(0020,0019)",vr:"IS",vm:"1",name:"ItemNumber"},"(0020,0020)":{tag:"(0020,0020)",vr:"CS",vm:"2",name:"PatientOrientation"},"(0020,0022)":{tag:"(0020,0022)",vr:"IS",vm:"1",name:"OverlayNumber"},"(0020,0024)":{tag:"(0020,0024)",vr:"IS",vm:"1",name:"CurveNumber"},"(0020,0026)":{tag:"(0020,0026)",vr:"IS",vm:"1",name:"LUTNumber"},"(0020,0030)":{tag:"(0020,0030)",vr:"DS",vm:"3",name:"ImagePosition"},"(0020,0032)":{tag:"(0020,0032)",vr:"DS",vm:"3",name:"ImagePositionPatient"},"(0020,0035)":{tag:"(0020,0035)",vr:"DS",vm:"6",name:"ImageOrientation"},"(0020,0037)":{tag:"(0020,0037)",vr:"DS",vm:"6",name:"ImageOrientationPatient"},"(0020,0050)":{tag:"(0020,0050)",vr:"DS",vm:"1",name:"Location"},"(0020,0052)":{tag:"(0020,0052)",vr:"UI",vm:"1",name:"FrameOfReferenceUID"},"(0020,0060)":{tag:"(0020,0060)",vr:"CS",vm:"1",name:"Laterality"},"(0020,0062)":{tag:"(0020,0062)",vr:"CS",vm:"1",name:"ImageLaterality"},"(0020,0070)":{tag:"(0020,0070)",vr:"LO",vm:"1",name:"ImageGeometryType"},"(0020,0080)":{tag:"(0020,0080)",vr:"CS",vm:"1-n",name:"MaskingImage"},"(0020,00AA)":{tag:"(0020,00AA)",vr:"IS",vm:"1",name:"ReportNumber"},"(0020,0100)":{tag:"(0020,0100)",vr:"IS",vm:"1",name:"TemporalPositionIdentifier"},"(0020,0105)":{tag:"(0020,0105)",vr:"IS",vm:"1",name:"NumberOfTemporalPositions"},"(0020,0110)":{tag:"(0020,0110)",vr:"DS",vm:"1",name:"TemporalResolution"},"(0020,0200)":{tag:"(0020,0200)",vr:"UI",vm:"1",name:"SynchronizationFrameOfReferenceUID"},"(0020,0242)":{tag:"(0020,0242)",vr:"UI",vm:"1",name:"SOPInstanceUIDOfConcatenationSource"},"(0020,1000)":{tag:"(0020,1000)",vr:"IS",vm:"1",name:"SeriesInStudy"},"(0020,1001)":{tag:"(0020,1001)",vr:"IS",vm:"1",name:"AcquisitionsInSeries"},"(0020,1002)":{tag:"(0020,1002)",vr:"IS",vm:"1",name:"ImagesInAcquisition"},"(0020,1003)":{tag:"(0020,1003)",vr:"IS",vm:"1",name:"ImagesInSeries"},"(0020,1004)":{tag:"(0020,1004)",vr:"IS",vm:"1",name:"AcquisitionsInStudy"},"(0020,1005)":{tag:"(0020,1005)",vr:"IS",vm:"1",name:"ImagesInStudy"},"(0020,1020)":{tag:"(0020,1020)",vr:"LO",vm:"1-n",name:"Reference"},"(0020,103F)":{tag:"(0020,103F)",vr:"LO",vm:"1",name:"TargetPositionReferenceIndicator"},"(0020,1040)":{tag:"(0020,1040)",vr:"LO",vm:"1",name:"PositionReferenceIndicator"},"(0020,1041)":{tag:"(0020,1041)",vr:"DS",vm:"1",name:"SliceLocation"},"(0020,1070)":{tag:"(0020,1070)",vr:"IS",vm:"1-n",name:"OtherStudyNumbers"},"(0020,1200)":{tag:"(0020,1200)",vr:"IS",vm:"1",name:"NumberOfPatientRelatedStudies"},"(0020,1202)":{tag:"(0020,1202)",vr:"IS",vm:"1",name:"NumberOfPatientRelatedSeries"},"(0020,1204)":{tag:"(0020,1204)",vr:"IS",vm:"1",name:"NumberOfPatientRelatedInstances"},"(0020,1206)":{tag:"(0020,1206)",vr:"IS",vm:"1",name:"NumberOfStudyRelatedSeries"},"(0020,1208)":{tag:"(0020,1208)",vr:"IS",vm:"1",name:"NumberOfStudyRelatedInstances"},"(0020,1209)":{tag:"(0020,1209)",vr:"IS",vm:"1",name:"NumberOfSeriesRelatedInstances"},"(0020,31xx)":{tag:"(0020,31xx)",vr:"CS",vm:"1-n",name:"SourceImageIDs"},"(0020,3401)":{tag:"(0020,3401)",vr:"CS",vm:"1",name:"ModifyingDeviceID"},"(0020,3402)":{tag:"(0020,3402)",vr:"CS",vm:"1",name:"ModifiedImageID"},"(0020,3403)":{tag:"(0020,3403)",vr:"DA",vm:"1",name:"ModifiedImageDate"},"(0020,3404)":{tag:"(0020,3404)",vr:"LO",vm:"1",name:"ModifyingDeviceManufacturer"},"(0020,3405)":{tag:"(0020,3405)",vr:"TM",vm:"1",name:"ModifiedImageTime"},"(0020,3406)":{tag:"(0020,3406)",vr:"LO",vm:"1",name:"ModifiedImageDescription"},"(0020,4000)":{tag:"(0020,4000)",vr:"LT",vm:"1",name:"ImageComments"},"(0020,5000)":{tag:"(0020,5000)",vr:"AT",vm:"1-n",name:"OriginalImageIdentification"},"(0020,5002)":{tag:"(0020,5002)",vr:"LO",vm:"1-n",name:"OriginalImageIdentificationNomenclature"},"(0020,9056)":{tag:"(0020,9056)",vr:"SH",vm:"1",name:"StackID"},"(0020,9057)":{tag:"(0020,9057)",vr:"UL",vm:"1",name:"InStackPositionNumber"},"(0020,9071)":{tag:"(0020,9071)",vr:"SQ",vm:"1",name:"FrameAnatomySequence"},"(0020,9072)":{tag:"(0020,9072)",vr:"CS",vm:"1",name:"FrameLaterality"},"(0020,9111)":{tag:"(0020,9111)",vr:"SQ",vm:"1",name:"FrameContentSequence"},"(0020,9113)":{tag:"(0020,9113)",vr:"SQ",vm:"1",name:"PlanePositionSequence"},"(0020,9116)":{tag:"(0020,9116)",vr:"SQ",vm:"1",name:"PlaneOrientationSequence"},"(0020,9128)":{tag:"(0020,9128)",vr:"UL",vm:"1",name:"TemporalPositionIndex"},"(0020,9153)":{tag:"(0020,9153)",vr:"FD",vm:"1",name:"NominalCardiacTriggerDelayTime"},"(0020,9154)":{tag:"(0020,9154)",vr:"FL",vm:"1",name:"NominalCardiacTriggerTimePriorToRPeak"},"(0020,9155)":{tag:"(0020,9155)",vr:"FL",vm:"1",name:"ActualCardiacTriggerTimePriorToRPeak"},"(0020,9156)":{tag:"(0020,9156)",vr:"US",vm:"1",name:"FrameAcquisitionNumber"},"(0020,9157)":{tag:"(0020,9157)",vr:"UL",vm:"1-n",name:"DimensionIndexValues"},"(0020,9158)":{tag:"(0020,9158)",vr:"LT",vm:"1",name:"FrameComments"},"(0020,9161)":{tag:"(0020,9161)",vr:"UI",vm:"1",name:"ConcatenationUID"},"(0020,9162)":{tag:"(0020,9162)",vr:"US",vm:"1",name:"InConcatenationNumber"},"(0020,9163)":{tag:"(0020,9163)",vr:"US",vm:"1",name:"InConcatenationTotalNumber"},"(0020,9164)":{tag:"(0020,9164)",vr:"UI",vm:"1",name:"DimensionOrganizationUID"},"(0020,9165)":{tag:"(0020,9165)",vr:"AT",vm:"1",name:"DimensionIndexPointer"},"(0020,9167)":{tag:"(0020,9167)",vr:"AT",vm:"1",name:"FunctionalGroupPointer"},"(0020,9170)":{tag:"(0020,9170)",vr:"SQ",vm:"1",name:"UnassignedSharedConvertedAttributesSequence"},"(0020,9171)":{tag:"(0020,9171)",vr:"SQ",vm:"1",name:"UnassignedPerFrameConvertedAttributesSequence"},"(0020,9172)":{tag:"(0020,9172)",vr:"SQ",vm:"1",name:"ConversionSourceAttributesSequence"},"(0020,9213)":{tag:"(0020,9213)",vr:"LO",vm:"1",name:"DimensionIndexPrivateCreator"},"(0020,9221)":{tag:"(0020,9221)",vr:"SQ",vm:"1",name:"DimensionOrganizationSequence"},"(0020,9222)":{tag:"(0020,9222)",vr:"SQ",vm:"1",name:"DimensionIndexSequence"},"(0020,9228)":{tag:"(0020,9228)",vr:"UL",vm:"1",name:"ConcatenationFrameOffsetNumber"},"(0020,9238)":{tag:"(0020,9238)",vr:"LO",vm:"1",name:"FunctionalGroupPrivateCreator"},"(0020,9241)":{tag:"(0020,9241)",vr:"FL",vm:"1",name:"NominalPercentageOfCardiacPhase"},"(0020,9245)":{tag:"(0020,9245)",vr:"FL",vm:"1",name:"NominalPercentageOfRespiratoryPhase"},"(0020,9246)":{tag:"(0020,9246)",vr:"FL",vm:"1",name:"StartingRespiratoryAmplitude"},"(0020,9247)":{tag:"(0020,9247)",vr:"CS",vm:"1",name:"StartingRespiratoryPhase"},"(0020,9248)":{tag:"(0020,9248)",vr:"FL",vm:"1",name:"EndingRespiratoryAmplitude"},"(0020,9249)":{tag:"(0020,9249)",vr:"CS",vm:"1",name:"EndingRespiratoryPhase"},"(0020,9250)":{tag:"(0020,9250)",vr:"CS",vm:"1",name:"RespiratoryTriggerType"},"(0020,9251)":{tag:"(0020,9251)",vr:"FD",vm:"1",name:"RRIntervalTimeNominal"},"(0020,9252)":{tag:"(0020,9252)",vr:"FD",vm:"1",name:"ActualCardiacTriggerDelayTime"},"(0020,9253)":{tag:"(0020,9253)",vr:"SQ",vm:"1",name:"RespiratorySynchronizationSequence"},"(0020,9254)":{tag:"(0020,9254)",vr:"FD",vm:"1",name:"RespiratoryIntervalTime"},"(0020,9255)":{tag:"(0020,9255)",vr:"FD",vm:"1",name:"NominalRespiratoryTriggerDelayTime"},"(0020,9256)":{tag:"(0020,9256)",vr:"FD",vm:"1",name:"RespiratoryTriggerDelayThreshold"},"(0020,9257)":{tag:"(0020,9257)",vr:"FD",vm:"1",name:"ActualRespiratoryTriggerDelayTime"},"(0020,9301)":{tag:"(0020,9301)",vr:"FD",vm:"3",name:"ImagePositionVolume"},"(0020,9302)":{tag:"(0020,9302)",vr:"FD",vm:"6",name:"ImageOrientationVolume"},"(0020,9307)":{tag:"(0020,9307)",vr:"CS",vm:"1",name:"UltrasoundAcquisitionGeometry"},"(0020,9308)":{tag:"(0020,9308)",vr:"FD",vm:"3",name:"ApexPosition"},"(0020,9309)":{tag:"(0020,9309)",vr:"FD",vm:"16",name:"VolumeToTransducerMappingMatrix"},"(0020,930A)":{tag:"(0020,930A)",vr:"FD",vm:"16",name:"VolumeToTableMappingMatrix"},"(0020,930B)":{tag:"(0020,930B)",vr:"CS",vm:"1",name:"VolumeToTransducerRelationship"},"(0020,930C)":{tag:"(0020,930C)",vr:"CS",vm:"1",name:"PatientFrameOfReferenceSource"},"(0020,930D)":{tag:"(0020,930D)",vr:"FD",vm:"1",name:"TemporalPositionTimeOffset"},"(0020,930E)":{tag:"(0020,930E)",vr:"SQ",vm:"1",name:"PlanePositionVolumeSequence"},"(0020,930F)":{tag:"(0020,930F)",vr:"SQ",vm:"1",name:"PlaneOrientationVolumeSequence"},"(0020,9310)":{tag:"(0020,9310)",vr:"SQ",vm:"1",name:"TemporalPositionSequence"},"(0020,9311)":{tag:"(0020,9311)",vr:"CS",vm:"1",name:"DimensionOrganizationType"},"(0020,9312)":{tag:"(0020,9312)",vr:"UI",vm:"1",name:"VolumeFrameOfReferenceUID"},"(0020,9313)":{tag:"(0020,9313)",vr:"UI",vm:"1",name:"TableFrameOfReferenceUID"},"(0020,9421)":{tag:"(0020,9421)",vr:"LO",vm:"1",name:"DimensionDescriptionLabel"},"(0020,9450)":{tag:"(0020,9450)",vr:"SQ",vm:"1",name:"PatientOrientationInFrameSequence"},"(0020,9453)":{tag:"(0020,9453)",vr:"LO",vm:"1",name:"FrameLabel"},"(0020,9518)":{tag:"(0020,9518)",vr:"US",vm:"1-n",name:"AcquisitionIndex"},"(0020,9529)":{tag:"(0020,9529)",vr:"SQ",vm:"1",name:"ContributingSOPInstancesReferenceSequence"},"(0020,9536)":{tag:"(0020,9536)",vr:"US",vm:"1",name:"ReconstructionIndex"},"(0022,0001)":{tag:"(0022,0001)",vr:"US",vm:"1",name:"LightPathFilterPassThroughWavelength"},"(0022,0002)":{tag:"(0022,0002)",vr:"US",vm:"2",name:"LightPathFilterPassBand"},"(0022,0003)":{tag:"(0022,0003)",vr:"US",vm:"1",name:"ImagePathFilterPassThroughWavelength"},"(0022,0004)":{tag:"(0022,0004)",vr:"US",vm:"2",name:"ImagePathFilterPassBand"},"(0022,0005)":{tag:"(0022,0005)",vr:"CS",vm:"1",name:"PatientEyeMovementCommanded"},"(0022,0006)":{tag:"(0022,0006)",vr:"SQ",vm:"1",name:"PatientEyeMovementCommandCodeSequence"},"(0022,0007)":{tag:"(0022,0007)",vr:"FL",vm:"1",name:"SphericalLensPower"},"(0022,0008)":{tag:"(0022,0008)",vr:"FL",vm:"1",name:"CylinderLensPower"},"(0022,0009)":{tag:"(0022,0009)",vr:"FL",vm:"1",name:"CylinderAxis"},"(0022,000A)":{tag:"(0022,000A)",vr:"FL",vm:"1",name:"EmmetropicMagnification"},"(0022,000B)":{tag:"(0022,000B)",vr:"FL",vm:"1",name:"IntraOcularPressure"},"(0022,000C)":{tag:"(0022,000C)",vr:"FL",vm:"1",name:"HorizontalFieldOfView"},"(0022,000D)":{tag:"(0022,000D)",vr:"CS",vm:"1",name:"PupilDilated"},"(0022,000E)":{tag:"(0022,000E)",vr:"FL",vm:"1",name:"DegreeOfDilation"},"(0022,0010)":{tag:"(0022,0010)",vr:"FL",vm:"1",name:"StereoBaselineAngle"},"(0022,0011)":{tag:"(0022,0011)",vr:"FL",vm:"1",name:"StereoBaselineDisplacement"},"(0022,0012)":{tag:"(0022,0012)",vr:"FL",vm:"1",name:"StereoHorizontalPixelOffset"},"(0022,0013)":{tag:"(0022,0013)",vr:"FL",vm:"1",name:"StereoVerticalPixelOffset"},"(0022,0014)":{tag:"(0022,0014)",vr:"FL",vm:"1",name:"StereoRotation"},"(0022,0015)":{tag:"(0022,0015)",vr:"SQ",vm:"1",name:"AcquisitionDeviceTypeCodeSequence"},"(0022,0016)":{tag:"(0022,0016)",vr:"SQ",vm:"1",name:"IlluminationTypeCodeSequence"},"(0022,0017)":{tag:"(0022,0017)",vr:"SQ",vm:"1",name:"LightPathFilterTypeStackCodeSequence"},"(0022,0018)":{tag:"(0022,0018)",vr:"SQ",vm:"1",name:"ImagePathFilterTypeStackCodeSequence"},"(0022,0019)":{tag:"(0022,0019)",vr:"SQ",vm:"1",name:"LensesCodeSequence"},"(0022,001A)":{tag:"(0022,001A)",vr:"SQ",vm:"1",name:"ChannelDescriptionCodeSequence"},"(0022,001B)":{tag:"(0022,001B)",vr:"SQ",vm:"1",name:"RefractiveStateSequence"},"(0022,001C)":{tag:"(0022,001C)",vr:"SQ",vm:"1",name:"MydriaticAgentCodeSequence"},"(0022,001D)":{tag:"(0022,001D)",vr:"SQ",vm:"1",name:"RelativeImagePositionCodeSequence"},"(0022,001E)":{tag:"(0022,001E)",vr:"FL",vm:"1",name:"CameraAngleOfView"},"(0022,0020)":{tag:"(0022,0020)",vr:"SQ",vm:"1",name:"StereoPairsSequence"},"(0022,0021)":{tag:"(0022,0021)",vr:"SQ",vm:"1",name:"LeftImageSequence"},"(0022,0022)":{tag:"(0022,0022)",vr:"SQ",vm:"1",name:"RightImageSequence"},"(0022,0028)":{tag:"(0022,0028)",vr:"CS",vm:"1",name:"StereoPairsPresent"},"(0022,0030)":{tag:"(0022,0030)",vr:"FL",vm:"1",name:"AxialLengthOfTheEye"},"(0022,0031)":{tag:"(0022,0031)",vr:"SQ",vm:"1",name:"OphthalmicFrameLocationSequence"},"(0022,0032)":{tag:"(0022,0032)",vr:"FL",vm:"2-2n",name:"ReferenceCoordinates"},"(0022,0035)":{tag:"(0022,0035)",vr:"FL",vm:"1",name:"DepthSpatialResolution"},"(0022,0036)":{tag:"(0022,0036)",vr:"FL",vm:"1",name:"MaximumDepthDistortion"},"(0022,0037)":{tag:"(0022,0037)",vr:"FL",vm:"1",name:"AlongScanSpatialResolution"},"(0022,0038)":{tag:"(0022,0038)",vr:"FL",vm:"1",name:"MaximumAlongScanDistortion"},"(0022,0039)":{tag:"(0022,0039)",vr:"CS",vm:"1",name:"OphthalmicImageOrientation"},"(0022,0041)":{tag:"(0022,0041)",vr:"FL",vm:"1",name:"DepthOfTransverseImage"},"(0022,0042)":{tag:"(0022,0042)",vr:"SQ",vm:"1",name:"MydriaticAgentConcentrationUnitsSequence"},"(0022,0048)":{tag:"(0022,0048)",vr:"FL",vm:"1",name:"AcrossScanSpatialResolution"},"(0022,0049)":{tag:"(0022,0049)",vr:"FL",vm:"1",name:"MaximumAcrossScanDistortion"},"(0022,004E)":{tag:"(0022,004E)",vr:"DS",vm:"1",name:"MydriaticAgentConcentration"},"(0022,0055)":{tag:"(0022,0055)",vr:"FL",vm:"1",name:"IlluminationWaveLength"},"(0022,0056)":{tag:"(0022,0056)",vr:"FL",vm:"1",name:"IlluminationPower"},"(0022,0057)":{tag:"(0022,0057)",vr:"FL",vm:"1",name:"IlluminationBandwidth"},"(0022,0058)":{tag:"(0022,0058)",vr:"SQ",vm:"1",name:"MydriaticAgentSequence"},"(0022,1007)":{tag:"(0022,1007)",vr:"SQ",vm:"1",name:"OphthalmicAxialMeasurementsRightEyeSequence"},"(0022,1008)":{tag:"(0022,1008)",vr:"SQ",vm:"1",name:"OphthalmicAxialMeasurementsLeftEyeSequence"},"(0022,1009)":{tag:"(0022,1009)",vr:"CS",vm:"1",name:"OphthalmicAxialMeasurementsDeviceType"},"(0022,1010)":{tag:"(0022,1010)",vr:"CS",vm:"1",name:"OphthalmicAxialLengthMeasurementsType"},"(0022,1012)":{tag:"(0022,1012)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthSequence"},"(0022,1019)":{tag:"(0022,1019)",vr:"FL",vm:"1",name:"OphthalmicAxialLength"},"(0022,1024)":{tag:"(0022,1024)",vr:"SQ",vm:"1",name:"LensStatusCodeSequence"},"(0022,1025)":{tag:"(0022,1025)",vr:"SQ",vm:"1",name:"VitreousStatusCodeSequence"},"(0022,1028)":{tag:"(0022,1028)",vr:"SQ",vm:"1",name:"IOLFormulaCodeSequence"},"(0022,1029)":{tag:"(0022,1029)",vr:"LO",vm:"1",name:"IOLFormulaDetail"},"(0022,1033)":{tag:"(0022,1033)",vr:"FL",vm:"1",name:"KeratometerIndex"},"(0022,1035)":{tag:"(0022,1035)",vr:"SQ",vm:"1",name:"SourceOfOphthalmicAxialLengthCodeSequence"},"(0022,1036)":{tag:"(0022,1036)",vr:"SQ",vm:"1",name:"SourceOfCornealSizeDataCodeSequence"},"(0022,1037)":{tag:"(0022,1037)",vr:"FL",vm:"1",name:"TargetRefraction"},"(0022,1039)":{tag:"(0022,1039)",vr:"CS",vm:"1",name:"RefractiveProcedureOccurred"},"(0022,1040)":{tag:"(0022,1040)",vr:"SQ",vm:"1",name:"RefractiveSurgeryTypeCodeSequence"},"(0022,1044)":{tag:"(0022,1044)",vr:"SQ",vm:"1",name:"OphthalmicUltrasoundMethodCodeSequence"},"(0022,1045)":{tag:"(0022,1045)",vr:"SQ",vm:"1",name:"SurgicallyInducedAstigmatismSequence"},"(0022,1046)":{tag:"(0022,1046)",vr:"CS",vm:"1",name:"TypeOfOpticalCorrection"},"(0022,1047)":{tag:"(0022,1047)",vr:"SQ",vm:"1",name:"ToricIOLPowerSequence"},"(0022,1048)":{tag:"(0022,1048)",vr:"SQ",vm:"1",name:"PredictedToricErrorSequence"},"(0022,1049)":{tag:"(0022,1049)",vr:"CS",vm:"1",name:"PreSelectedForImplantation"},"(0022,104A)":{tag:"(0022,104A)",vr:"SQ",vm:"1",name:"ToricIOLPowerForExactEmmetropiaSequence"},"(0022,104B)":{tag:"(0022,104B)",vr:"SQ",vm:"1",name:"ToricIOLPowerForExactTargetRefractionSequence"},"(0022,1050)":{tag:"(0022,1050)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsSequence"},"(0022,1053)":{tag:"(0022,1053)",vr:"FL",vm:"1",name:"IOLPower"},"(0022,1054)":{tag:"(0022,1054)",vr:"FL",vm:"1",name:"PredictedRefractiveError"},"(0022,1059)":{tag:"(0022,1059)",vr:"FL",vm:"1",name:"OphthalmicAxialLengthVelocity"},"(0022,1065)":{tag:"(0022,1065)",vr:"LO",vm:"1",name:"LensStatusDescription"},"(0022,1066)":{tag:"(0022,1066)",vr:"LO",vm:"1",name:"VitreousStatusDescription"},"(0022,1090)":{tag:"(0022,1090)",vr:"SQ",vm:"1",name:"IOLPowerSequence"},"(0022,1092)":{tag:"(0022,1092)",vr:"SQ",vm:"1",name:"LensConstantSequence"},"(0022,1093)":{tag:"(0022,1093)",vr:"LO",vm:"1",name:"IOLManufacturer"},"(0022,1094)":{tag:"(0022,1094)",vr:"LO",vm:"1",name:"LensConstantDescription"},"(0022,1095)":{tag:"(0022,1095)",vr:"LO",vm:"1",name:"ImplantName"},"(0022,1096)":{tag:"(0022,1096)",vr:"SQ",vm:"1",name:"KeratometryMeasurementTypeCodeSequence"},"(0022,1097)":{tag:"(0022,1097)",vr:"LO",vm:"1",name:"ImplantPartNumber"},"(0022,1100)":{tag:"(0022,1100)",vr:"SQ",vm:"1",name:"ReferencedOphthalmicAxialMeasurementsSequence"},"(0022,1101)":{tag:"(0022,1101)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"},"(0022,1103)":{tag:"(0022,1103)",vr:"SQ",vm:"1",name:"RefractiveErrorBeforeRefractiveSurgeryCodeSequence"},"(0022,1121)":{tag:"(0022,1121)",vr:"FL",vm:"1",name:"IOLPowerForExactEmmetropia"},"(0022,1122)":{tag:"(0022,1122)",vr:"FL",vm:"1",name:"IOLPowerForExactTargetRefraction"},"(0022,1125)":{tag:"(0022,1125)",vr:"SQ",vm:"1",name:"AnteriorChamberDepthDefinitionCodeSequence"},"(0022,1127)":{tag:"(0022,1127)",vr:"SQ",vm:"1",name:"LensThicknessSequence"},"(0022,1128)":{tag:"(0022,1128)",vr:"SQ",vm:"1",name:"AnteriorChamberDepthSequence"},"(0022,112A)":{tag:"(0022,112A)",vr:"SQ",vm:"1",name:"CalculationCommentSequence"},"(0022,112B)":{tag:"(0022,112B)",vr:"CS",vm:"1",name:"CalculationCommentType"},"(0022,112C)":{tag:"(0022,112C)",vr:"LT",vm:"1",name:"CalculationComment"},"(0022,1130)":{tag:"(0022,1130)",vr:"FL",vm:"1",name:"LensThickness"},"(0022,1131)":{tag:"(0022,1131)",vr:"FL",vm:"1",name:"AnteriorChamberDepth"},"(0022,1132)":{tag:"(0022,1132)",vr:"SQ",vm:"1",name:"SourceOfLensThicknessDataCodeSequence"},"(0022,1133)":{tag:"(0022,1133)",vr:"SQ",vm:"1",name:"SourceOfAnteriorChamberDepthDataCodeSequence"},"(0022,1134)":{tag:"(0022,1134)",vr:"SQ",vm:"1",name:"SourceOfRefractiveMeasurementsSequence"},"(0022,1135)":{tag:"(0022,1135)",vr:"SQ",vm:"1",name:"SourceOfRefractiveMeasurementsCodeSequence"},"(0022,1140)":{tag:"(0022,1140)",vr:"CS",vm:"1",name:"OphthalmicAxialLengthMeasurementModified"},"(0022,1150)":{tag:"(0022,1150)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthDataSourceCodeSequence"},"(0022,1153)":{tag:"(0022,1153)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthAcquisitionMethodCodeSequence"},"(0022,1155)":{tag:"(0022,1155)",vr:"FL",vm:"1",name:"SignalToNoiseRatio"},"(0022,1159)":{tag:"(0022,1159)",vr:"LO",vm:"1",name:"OphthalmicAxialLengthDataSourceDescription"},"(0022,1210)":{tag:"(0022,1210)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsTotalLengthSequence"},"(0022,1211)":{tag:"(0022,1211)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"},"(0022,1212)":{tag:"(0022,1212)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsLengthSummationSequence"},"(0022,1220)":{tag:"(0022,1220)",vr:"SQ",vm:"1",name:"UltrasoundOphthalmicAxialLengthMeasurementsSequence"},"(0022,1225)":{tag:"(0022,1225)",vr:"SQ",vm:"1",name:"OpticalOphthalmicAxialLengthMeasurementsSequence"},"(0022,1230)":{tag:"(0022,1230)",vr:"SQ",vm:"1",name:"UltrasoundSelectedOphthalmicAxialLengthSequence"},"(0022,1250)":{tag:"(0022,1250)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthSelectionMethodCodeSequence"},"(0022,1255)":{tag:"(0022,1255)",vr:"SQ",vm:"1",name:"OpticalSelectedOphthalmicAxialLengthSequence"},"(0022,1257)":{tag:"(0022,1257)",vr:"SQ",vm:"1",name:"SelectedSegmentalOphthalmicAxialLengthSequence"},"(0022,1260)":{tag:"(0022,1260)",vr:"SQ",vm:"1",name:"SelectedTotalOphthalmicAxialLengthSequence"},"(0022,1262)":{tag:"(0022,1262)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthQualityMetricSequence"},"(0022,1265)":{tag:"(0022,1265)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthQualityMetricTypeCodeSequence"},"(0022,1273)":{tag:"(0022,1273)",vr:"LO",vm:"1",name:"OphthalmicAxialLengthQualityMetricTypeDescription"},"(0022,1300)":{tag:"(0022,1300)",vr:"SQ",vm:"1",name:"IntraocularLensCalculationsRightEyeSequence"},"(0022,1310)":{tag:"(0022,1310)",vr:"SQ",vm:"1",name:"IntraocularLensCalculationsLeftEyeSequence"},"(0022,1330)":{tag:"(0022,1330)",vr:"SQ",vm:"1",name:"ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"},"(0022,1415)":{tag:"(0022,1415)",vr:"CS",vm:"1",name:"OphthalmicMappingDeviceType"},"(0022,1420)":{tag:"(0022,1420)",vr:"SQ",vm:"1",name:"AcquisitionMethodCodeSequence"},"(0022,1423)":{tag:"(0022,1423)",vr:"SQ",vm:"1",name:"AcquisitionMethodAlgorithmSequence"},"(0022,1436)":{tag:"(0022,1436)",vr:"SQ",vm:"1",name:"OphthalmicThicknessMapTypeCodeSequence"},"(0022,1443)":{tag:"(0022,1443)",vr:"SQ",vm:"1",name:"OphthalmicThicknessMappingNormalsSequence"},"(0022,1445)":{tag:"(0022,1445)",vr:"SQ",vm:"1",name:"RetinalThicknessDefinitionCodeSequence"},"(0022,1450)":{tag:"(0022,1450)",vr:"SQ",vm:"1",name:"PixelValueMappingToCodedConceptSequence"},"(0022,1452)":{tag:"(0022,1452)",vr:"US|SS",vm:"1",name:"MappedPixelValue"},"(0022,1454)":{tag:"(0022,1454)",vr:"LO",vm:"1",name:"PixelValueMappingExplanation"},"(0022,1458)":{tag:"(0022,1458)",vr:"SQ",vm:"1",name:"OphthalmicThicknessMapQualityThresholdSequence"},"(0022,1460)":{tag:"(0022,1460)",vr:"FL",vm:"1",name:"OphthalmicThicknessMapThresholdQualityRating"},"(0022,1463)":{tag:"(0022,1463)",vr:"FL",vm:"2",name:"AnatomicStructureReferencePoint"},"(0022,1465)":{tag:"(0022,1465)",vr:"SQ",vm:"1",name:"RegistrationToLocalizerSequence"},"(0022,1466)":{tag:"(0022,1466)",vr:"CS",vm:"1",name:"RegisteredLocalizerUnits"},"(0022,1467)":{tag:"(0022,1467)",vr:"FL",vm:"2",name:"RegisteredLocalizerTopLeftHandCorner"},"(0022,1468)":{tag:"(0022,1468)",vr:"FL",vm:"2",name:"RegisteredLocalizerBottomRightHandCorner"},"(0022,1470)":{tag:"(0022,1470)",vr:"SQ",vm:"1",name:"OphthalmicThicknessMapQualityRatingSequence"},"(0022,1472)":{tag:"(0022,1472)",vr:"SQ",vm:"1",name:"RelevantOPTAttributesSequence"},"(0022,1512)":{tag:"(0022,1512)",vr:"SQ",vm:"1",name:"TransformationMethodCodeSequence"},"(0022,1513)":{tag:"(0022,1513)",vr:"SQ",vm:"1",name:"TransformationAlgorithmSequence"},"(0022,1515)":{tag:"(0022,1515)",vr:"CS",vm:"1",name:"OphthalmicAxialLengthMethod"},"(0022,1517)":{tag:"(0022,1517)",vr:"FL",vm:"1",name:"OphthalmicFOV"},"(0022,1518)":{tag:"(0022,1518)",vr:"SQ",vm:"1",name:"TwoDimensionalToThreeDimensionalMapSequence"},"(0022,1525)":{tag:"(0022,1525)",vr:"SQ",vm:"1",name:"WideFieldOphthalmicPhotographyQualityRatingSequence"},"(0022,1526)":{tag:"(0022,1526)",vr:"SQ",vm:"1",name:"WideFieldOphthalmicPhotographyQualityThresholdSequence"},"(0022,1527)":{tag:"(0022,1527)",vr:"FL",vm:"1",name:"WideFieldOphthalmicPhotographyThresholdQualityRating"},"(0022,1528)":{tag:"(0022,1528)",vr:"FL",vm:"1",name:"XCoordinatesCenterPixelViewAngle"},"(0022,1529)":{tag:"(0022,1529)",vr:"FL",vm:"1",name:"YCoordinatesCenterPixelViewAngle"},"(0022,1530)":{tag:"(0022,1530)",vr:"UL",vm:"1",name:"NumberOfMapPoints"},"(0022,1531)":{tag:"(0022,1531)",vr:"OF",vm:"1",name:"TwoDimensionalToThreeDimensionalMapData"},"(0022,1612)":{tag:"(0022,1612)",vr:"SQ",vm:"1",name:"DerivationAlgorithmSequence"},"(0022,1615)":{tag:"(0022,1615)",vr:"SQ",vm:"1",name:"OphthalmicImageTypeCodeSequence"},"(0022,1616)":{tag:"(0022,1616)",vr:"LO",vm:"1",name:"OphthalmicImageTypeDescription"},"(0022,1618)":{tag:"(0022,1618)",vr:"SQ",vm:"1",name:"ScanPatternTypeCodeSequence"},"(0022,1620)":{tag:"(0022,1620)",vr:"SQ",vm:"1",name:"ReferencedSurfaceMeshIdentificationSequence"},"(0022,1622)":{tag:"(0022,1622)",vr:"CS",vm:"1",name:"OphthalmicVolumetricPropertiesFlag"},"(0022,1624)":{tag:"(0022,1624)",vr:"FL",vm:"1",name:"OphthalmicAnatomicReferencePointXCoordinate"},"(0022,1626)":{tag:"(0022,1626)",vr:"FL",vm:"1",name:"OphthalmicAnatomicReferencePointYCoordinate"},"(0022,1628)":{tag:"(0022,1628)",vr:"SQ",vm:"1",name:"OphthalmicEnFaceImageQualityRatingSequence"},"(0022,1630)":{tag:"(0022,1630)",vr:"DS",vm:"1",name:"QualityThreshold"},"(0022,1640)":{tag:"(0022,1640)",vr:"SQ",vm:"1",name:"OCTBscanAnalysisAcquisitionParametersSequence"},"(0022,1642)":{tag:"(0022,1642)",vr:"UL",vm:"1",name:"NumberOfBscansPerFrame"},"(0022,1643)":{tag:"(0022,1643)",vr:"FL",vm:"1",name:"BscanSlabThickness"},"(0022,1644)":{tag:"(0022,1644)",vr:"FL",vm:"1",name:"DistanceBetweenBscanSlabs"},"(0022,1645)":{tag:"(0022,1645)",vr:"FL",vm:"1",name:"BscanCycleTime"},"(0022,1646)":{tag:"(0022,1646)",vr:"FL",vm:"1-n",name:"BscanCycleTimeVector"},"(0022,1649)":{tag:"(0022,1649)",vr:"FL",vm:"1",name:"AscanRate"},"(0022,1650)":{tag:"(0022,1650)",vr:"FL",vm:"1",name:"BscanRate"},"(0022,1658)":{tag:"(0022,1658)",vr:"UL",vm:"1",name:"SurfaceMeshZPixelOffset"},"(0024,0010)":{tag:"(0024,0010)",vr:"FL",vm:"1",name:"VisualFieldHorizontalExtent"},"(0024,0011)":{tag:"(0024,0011)",vr:"FL",vm:"1",name:"VisualFieldVerticalExtent"},"(0024,0012)":{tag:"(0024,0012)",vr:"CS",vm:"1",name:"VisualFieldShape"},"(0024,0016)":{tag:"(0024,0016)",vr:"SQ",vm:"1",name:"ScreeningTestModeCodeSequence"},"(0024,0018)":{tag:"(0024,0018)",vr:"FL",vm:"1",name:"MaximumStimulusLuminance"},"(0024,0020)":{tag:"(0024,0020)",vr:"FL",vm:"1",name:"BackgroundLuminance"},"(0024,0021)":{tag:"(0024,0021)",vr:"SQ",vm:"1",name:"StimulusColorCodeSequence"},"(0024,0024)":{tag:"(0024,0024)",vr:"SQ",vm:"1",name:"BackgroundIlluminationColorCodeSequence"},"(0024,0025)":{tag:"(0024,0025)",vr:"FL",vm:"1",name:"StimulusArea"},"(0024,0028)":{tag:"(0024,0028)",vr:"FL",vm:"1",name:"StimulusPresentationTime"},"(0024,0032)":{tag:"(0024,0032)",vr:"SQ",vm:"1",name:"FixationSequence"},"(0024,0033)":{tag:"(0024,0033)",vr:"SQ",vm:"1",name:"FixationMonitoringCodeSequence"},"(0024,0034)":{tag:"(0024,0034)",vr:"SQ",vm:"1",name:"VisualFieldCatchTrialSequence"},"(0024,0035)":{tag:"(0024,0035)",vr:"US",vm:"1",name:"FixationCheckedQuantity"},"(0024,0036)":{tag:"(0024,0036)",vr:"US",vm:"1",name:"PatientNotProperlyFixatedQuantity"},"(0024,0037)":{tag:"(0024,0037)",vr:"CS",vm:"1",name:"PresentedVisualStimuliDataFlag"},"(0024,0038)":{tag:"(0024,0038)",vr:"US",vm:"1",name:"NumberOfVisualStimuli"},"(0024,0039)":{tag:"(0024,0039)",vr:"CS",vm:"1",name:"ExcessiveFixationLossesDataFlag"},"(0024,0040)":{tag:"(0024,0040)",vr:"CS",vm:"1",name:"ExcessiveFixationLosses"},"(0024,0042)":{tag:"(0024,0042)",vr:"US",vm:"1",name:"StimuliRetestingQuantity"},"(0024,0044)":{tag:"(0024,0044)",vr:"LT",vm:"1",name:"CommentsOnPatientPerformanceOfVisualField"},"(0024,0045)":{tag:"(0024,0045)",vr:"CS",vm:"1",name:"FalseNegativesEstimateFlag"},"(0024,0046)":{tag:"(0024,0046)",vr:"FL",vm:"1",name:"FalseNegativesEstimate"},"(0024,0048)":{tag:"(0024,0048)",vr:"US",vm:"1",name:"NegativeCatchTrialsQuantity"},"(0024,0050)":{tag:"(0024,0050)",vr:"US",vm:"1",name:"FalseNegativesQuantity"},"(0024,0051)":{tag:"(0024,0051)",vr:"CS",vm:"1",name:"ExcessiveFalseNegativesDataFlag"},"(0024,0052)":{tag:"(0024,0052)",vr:"CS",vm:"1",name:"ExcessiveFalseNegatives"},"(0024,0053)":{tag:"(0024,0053)",vr:"CS",vm:"1",name:"FalsePositivesEstimateFlag"},"(0024,0054)":{tag:"(0024,0054)",vr:"FL",vm:"1",name:"FalsePositivesEstimate"},"(0024,0055)":{tag:"(0024,0055)",vr:"CS",vm:"1",name:"CatchTrialsDataFlag"},"(0024,0056)":{tag:"(0024,0056)",vr:"US",vm:"1",name:"PositiveCatchTrialsQuantity"},"(0024,0057)":{tag:"(0024,0057)",vr:"CS",vm:"1",name:"TestPointNormalsDataFlag"},"(0024,0058)":{tag:"(0024,0058)",vr:"SQ",vm:"1",name:"TestPointNormalsSequence"},"(0024,0059)":{tag:"(0024,0059)",vr:"CS",vm:"1",name:"GlobalDeviationProbabilityNormalsFlag"},"(0024,0060)":{tag:"(0024,0060)",vr:"US",vm:"1",name:"FalsePositivesQuantity"},"(0024,0061)":{tag:"(0024,0061)",vr:"CS",vm:"1",name:"ExcessiveFalsePositivesDataFlag"},"(0024,0062)":{tag:"(0024,0062)",vr:"CS",vm:"1",name:"ExcessiveFalsePositives"},"(0024,0063)":{tag:"(0024,0063)",vr:"CS",vm:"1",name:"VisualFieldTestNormalsFlag"},"(0024,0064)":{tag:"(0024,0064)",vr:"SQ",vm:"1",name:"ResultsNormalsSequence"},"(0024,0065)":{tag:"(0024,0065)",vr:"SQ",vm:"1",name:"AgeCorrectedSensitivityDeviationAlgorithmSequence"},"(0024,0066)":{tag:"(0024,0066)",vr:"FL",vm:"1",name:"GlobalDeviationFromNormal"},"(0024,0067)":{tag:"(0024,0067)",vr:"SQ",vm:"1",name:"GeneralizedDefectSensitivityDeviationAlgorithmSequence"},"(0024,0068)":{tag:"(0024,0068)",vr:"FL",vm:"1",name:"LocalizedDeviationFromNormal"},"(0024,0069)":{tag:"(0024,0069)",vr:"LO",vm:"1",name:"PatientReliabilityIndicator"},"(0024,0070)":{tag:"(0024,0070)",vr:"FL",vm:"1",name:"VisualFieldMeanSensitivity"},"(0024,0071)":{tag:"(0024,0071)",vr:"FL",vm:"1",name:"GlobalDeviationProbability"},"(0024,0072)":{tag:"(0024,0072)",vr:"CS",vm:"1",name:"LocalDeviationProbabilityNormalsFlag"},"(0024,0073)":{tag:"(0024,0073)",vr:"FL",vm:"1",name:"LocalizedDeviationProbability"},"(0024,0074)":{tag:"(0024,0074)",vr:"CS",vm:"1",name:"ShortTermFluctuationCalculated"},"(0024,0075)":{tag:"(0024,0075)",vr:"FL",vm:"1",name:"ShortTermFluctuation"},"(0024,0076)":{tag:"(0024,0076)",vr:"CS",vm:"1",name:"ShortTermFluctuationProbabilityCalculated"},"(0024,0077)":{tag:"(0024,0077)",vr:"FL",vm:"1",name:"ShortTermFluctuationProbability"},"(0024,0078)":{tag:"(0024,0078)",vr:"CS",vm:"1",name:"CorrectedLocalizedDeviationFromNormalCalculated"},"(0024,0079)":{tag:"(0024,0079)",vr:"FL",vm:"1",name:"CorrectedLocalizedDeviationFromNormal"},"(0024,0080)":{tag:"(0024,0080)",vr:"CS",vm:"1",name:"CorrectedLocalizedDeviationFromNormalProbabilityCalculated"},"(0024,0081)":{tag:"(0024,0081)",vr:"FL",vm:"1",name:"CorrectedLocalizedDeviationFromNormalProbability"},"(0024,0083)":{tag:"(0024,0083)",vr:"SQ",vm:"1",name:"GlobalDeviationProbabilitySequence"},"(0024,0085)":{tag:"(0024,0085)",vr:"SQ",vm:"1",name:"LocalizedDeviationProbabilitySequence"},"(0024,0086)":{tag:"(0024,0086)",vr:"CS",vm:"1",name:"FovealSensitivityMeasured"},"(0024,0087)":{tag:"(0024,0087)",vr:"FL",vm:"1",name:"FovealSensitivity"},"(0024,0088)":{tag:"(0024,0088)",vr:"FL",vm:"1",name:"VisualFieldTestDuration"},"(0024,0089)":{tag:"(0024,0089)",vr:"SQ",vm:"1",name:"VisualFieldTestPointSequence"},"(0024,0090)":{tag:"(0024,0090)",vr:"FL",vm:"1",name:"VisualFieldTestPointXCoordinate"},"(0024,0091)":{tag:"(0024,0091)",vr:"FL",vm:"1",name:"VisualFieldTestPointYCoordinate"},"(0024,0092)":{tag:"(0024,0092)",vr:"FL",vm:"1",name:"AgeCorrectedSensitivityDeviationValue"},"(0024,0093)":{tag:"(0024,0093)",vr:"CS",vm:"1",name:"StimulusResults"},"(0024,0094)":{tag:"(0024,0094)",vr:"FL",vm:"1",name:"SensitivityValue"},"(0024,0095)":{tag:"(0024,0095)",vr:"CS",vm:"1",name:"RetestStimulusSeen"},"(0024,0096)":{tag:"(0024,0096)",vr:"FL",vm:"1",name:"RetestSensitivityValue"},"(0024,0097)":{tag:"(0024,0097)",vr:"SQ",vm:"1",name:"VisualFieldTestPointNormalsSequence"},"(0024,0098)":{tag:"(0024,0098)",vr:"FL",vm:"1",name:"QuantifiedDefect"},"(0024,0100)":{tag:"(0024,0100)",vr:"FL",vm:"1",name:"AgeCorrectedSensitivityDeviationProbabilityValue"},"(0024,0102)":{tag:"(0024,0102)",vr:"CS",vm:"1",name:"GeneralizedDefectCorrectedSensitivityDeviationFlag"},"(0024,0103)":{tag:"(0024,0103)",vr:"FL",vm:"1",name:"GeneralizedDefectCorrectedSensitivityDeviationValue"},"(0024,0104)":{tag:"(0024,0104)",vr:"FL",vm:"1",name:"GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"},"(0024,0105)":{tag:"(0024,0105)",vr:"FL",vm:"1",name:"MinimumSensitivityValue"},"(0024,0106)":{tag:"(0024,0106)",vr:"CS",vm:"1",name:"BlindSpotLocalized"},"(0024,0107)":{tag:"(0024,0107)",vr:"FL",vm:"1",name:"BlindSpotXCoordinate"},"(0024,0108)":{tag:"(0024,0108)",vr:"FL",vm:"1",name:"BlindSpotYCoordinate"},"(0024,0110)":{tag:"(0024,0110)",vr:"SQ",vm:"1",name:"VisualAcuityMeasurementSequence"},"(0024,0112)":{tag:"(0024,0112)",vr:"SQ",vm:"1",name:"RefractiveParametersUsedOnPatientSequence"},"(0024,0113)":{tag:"(0024,0113)",vr:"CS",vm:"1",name:"MeasurementLaterality"},"(0024,0114)":{tag:"(0024,0114)",vr:"SQ",vm:"1",name:"OphthalmicPatientClinicalInformationLeftEyeSequence"},"(0024,0115)":{tag:"(0024,0115)",vr:"SQ",vm:"1",name:"OphthalmicPatientClinicalInformationRightEyeSequence"},"(0024,0117)":{tag:"(0024,0117)",vr:"CS",vm:"1",name:"FovealPointNormativeDataFlag"},"(0024,0118)":{tag:"(0024,0118)",vr:"FL",vm:"1",name:"FovealPointProbabilityValue"},"(0024,0120)":{tag:"(0024,0120)",vr:"CS",vm:"1",name:"ScreeningBaselineMeasured"},"(0024,0122)":{tag:"(0024,0122)",vr:"SQ",vm:"1",name:"ScreeningBaselineMeasuredSequence"},"(0024,0124)":{tag:"(0024,0124)",vr:"CS",vm:"1",name:"ScreeningBaselineType"},"(0024,0126)":{tag:"(0024,0126)",vr:"FL",vm:"1",name:"ScreeningBaselineValue"},"(0024,0202)":{tag:"(0024,0202)",vr:"LO",vm:"1",name:"AlgorithmSource"},"(0024,0306)":{tag:"(0024,0306)",vr:"LO",vm:"1",name:"DataSetName"},"(0024,0307)":{tag:"(0024,0307)",vr:"LO",vm:"1",name:"DataSetVersion"},"(0024,0308)":{tag:"(0024,0308)",vr:"LO",vm:"1",name:"DataSetSource"},"(0024,0309)":{tag:"(0024,0309)",vr:"LO",vm:"1",name:"DataSetDescription"},"(0024,0317)":{tag:"(0024,0317)",vr:"SQ",vm:"1",name:"VisualFieldTestReliabilityGlobalIndexSequence"},"(0024,0320)":{tag:"(0024,0320)",vr:"SQ",vm:"1",name:"VisualFieldGlobalResultsIndexSequence"},"(0024,0325)":{tag:"(0024,0325)",vr:"SQ",vm:"1",name:"DataObservationSequence"},"(0024,0338)":{tag:"(0024,0338)",vr:"CS",vm:"1",name:"IndexNormalsFlag"},"(0024,0341)":{tag:"(0024,0341)",vr:"FL",vm:"1",name:"IndexProbability"},"(0024,0344)":{tag:"(0024,0344)",vr:"SQ",vm:"1",name:"IndexProbabilitySequence"},"(0028,0002)":{tag:"(0028,0002)",vr:"US",vm:"1",name:"SamplesPerPixel"},"(0028,0003)":{tag:"(0028,0003)",vr:"US",vm:"1",name:"SamplesPerPixelUsed"},"(0028,0004)":{tag:"(0028,0004)",vr:"CS",vm:"1",name:"PhotometricInterpretation"},"(0028,0005)":{tag:"(0028,0005)",vr:"US",vm:"1",name:"ImageDimensions"},"(0028,0006)":{tag:"(0028,0006)",vr:"US",vm:"1",name:"PlanarConfiguration"},"(0028,0008)":{tag:"(0028,0008)",vr:"IS",vm:"1",name:"NumberOfFrames"},"(0028,0009)":{tag:"(0028,0009)",vr:"AT",vm:"1-n",name:"FrameIncrementPointer"},"(0028,000A)":{tag:"(0028,000A)",vr:"AT",vm:"1-n",name:"FrameDimensionPointer"},"(0028,0010)":{tag:"(0028,0010)",vr:"US",vm:"1",name:"Rows"},"(0028,0011)":{tag:"(0028,0011)",vr:"US",vm:"1",name:"Columns"},"(0028,0012)":{tag:"(0028,0012)",vr:"US",vm:"1",name:"Planes"},"(0028,0014)":{tag:"(0028,0014)",vr:"US",vm:"1",name:"UltrasoundColorDataPresent"},"(0028,0020)":{tag:"(0028,0020)",vr:"",vm:"",name:""},"(0028,0030)":{tag:"(0028,0030)",vr:"DS",vm:"2",name:"PixelSpacing"},"(0028,0031)":{tag:"(0028,0031)",vr:"DS",vm:"2",name:"ZoomFactor"},"(0028,0032)":{tag:"(0028,0032)",vr:"DS",vm:"2",name:"ZoomCenter"},"(0028,0034)":{tag:"(0028,0034)",vr:"IS",vm:"2",name:"PixelAspectRatio"},"(0028,0040)":{tag:"(0028,0040)",vr:"CS",vm:"1",name:"ImageFormat"},"(0028,0050)":{tag:"(0028,0050)",vr:"LO",vm:"1-n",name:"ManipulatedImage"},"(0028,0051)":{tag:"(0028,0051)",vr:"CS",vm:"1-n",name:"CorrectedImage"},"(0028,005F)":{tag:"(0028,005F)",vr:"LO",vm:"1",name:"CompressionRecognitionCode"},"(0028,0060)":{tag:"(0028,0060)",vr:"CS",vm:"1",name:"CompressionCode"},"(0028,0061)":{tag:"(0028,0061)",vr:"SH",vm:"1",name:"CompressionOriginator"},"(0028,0062)":{tag:"(0028,0062)",vr:"LO",vm:"1",name:"CompressionLabel"},"(0028,0063)":{tag:"(0028,0063)",vr:"SH",vm:"1",name:"CompressionDescription"},"(0028,0065)":{tag:"(0028,0065)",vr:"CS",vm:"1-n",name:"CompressionSequence"},"(0028,0066)":{tag:"(0028,0066)",vr:"AT",vm:"1-n",name:"CompressionStepPointers"},"(0028,0068)":{tag:"(0028,0068)",vr:"US",vm:"1",name:"RepeatInterval"},"(0028,0069)":{tag:"(0028,0069)",vr:"US",vm:"1",name:"BitsGrouped"},"(0028,0070)":{tag:"(0028,0070)",vr:"US",vm:"1-n",name:"PerimeterTable"},"(0028,0071)":{tag:"(0028,0071)",vr:"US|SS",vm:"1",name:"PerimeterValue"},"(0028,0080)":{tag:"(0028,0080)",vr:"US",vm:"1",name:"PredictorRows"},"(0028,0081)":{tag:"(0028,0081)",vr:"US",vm:"1",name:"PredictorColumns"},"(0028,0082)":{tag:"(0028,0082)",vr:"US",vm:"1-n",name:"PredictorConstants"},"(0028,0090)":{tag:"(0028,0090)",vr:"CS",vm:"1",name:"BlockedPixels"},"(0028,0091)":{tag:"(0028,0091)",vr:"US",vm:"1",name:"BlockRows"},"(0028,0092)":{tag:"(0028,0092)",vr:"US",vm:"1",name:"BlockColumns"},"(0028,0093)":{tag:"(0028,0093)",vr:"US",vm:"1",name:"RowOverlap"},"(0028,0094)":{tag:"(0028,0094)",vr:"US",vm:"1",name:"ColumnOverlap"},"(0028,0100)":{tag:"(0028,0100)",vr:"US",vm:"1",name:"BitsAllocated"},"(0028,0101)":{tag:"(0028,0101)",vr:"US",vm:"1",name:"BitsStored"},"(0028,0102)":{tag:"(0028,0102)",vr:"US",vm:"1",name:"HighBit"},"(0028,0103)":{tag:"(0028,0103)",vr:"US",vm:"1",name:"PixelRepresentation"},"(0028,0104)":{tag:"(0028,0104)",vr:"US|SS",vm:"1",name:"SmallestValidPixelValue"},"(0028,0105)":{tag:"(0028,0105)",vr:"US|SS",vm:"1",name:"LargestValidPixelValue"},"(0028,0106)":{tag:"(0028,0106)",vr:"US|SS",vm:"1",name:"SmallestImagePixelValue"},"(0028,0107)":{tag:"(0028,0107)",vr:"US|SS",vm:"1",name:"LargestImagePixelValue"},"(0028,0108)":{tag:"(0028,0108)",vr:"US|SS",vm:"1",name:"SmallestPixelValueInSeries"},"(0028,0109)":{tag:"(0028,0109)",vr:"US|SS",vm:"1",name:"LargestPixelValueInSeries"},"(0028,0110)":{tag:"(0028,0110)",vr:"US|SS",vm:"1",name:"SmallestImagePixelValueInPlane"},"(0028,0111)":{tag:"(0028,0111)",vr:"US|SS",vm:"1",name:"LargestImagePixelValueInPlane"},"(0028,0120)":{tag:"(0028,0120)",vr:"US|SS",vm:"1",name:"PixelPaddingValue"},"(0028,0121)":{tag:"(0028,0121)",vr:"US|SS",vm:"1",name:"PixelPaddingRangeLimit"},"(0028,0122)":{tag:"(0028,0122)",vr:"FL",vm:"1",name:"FloatPixelPaddingValue"},"(0028,0123)":{tag:"(0028,0123)",vr:"FD",vm:"1",name:"DoubleFloatPixelPaddingValue"},"(0028,0124)":{tag:"(0028,0124)",vr:"FL",vm:"1",name:"FloatPixelPaddingRangeLimit"},"(0028,0125)":{tag:"(0028,0125)",vr:"FD",vm:"1",name:"DoubleFloatPixelPaddingRangeLimit"},"(0028,0200)":{tag:"(0028,0200)",vr:"US",vm:"1",name:"ImageLocation"},"(0028,0300)":{tag:"(0028,0300)",vr:"CS",vm:"1",name:"QualityControlImage"},"(0028,0301)":{tag:"(0028,0301)",vr:"CS",vm:"1",name:"BurnedInAnnotation"},"(0028,0302)":{tag:"(0028,0302)",vr:"CS",vm:"1",name:"RecognizableVisualFeatures"},"(0028,0303)":{tag:"(0028,0303)",vr:"CS",vm:"1",name:"LongitudinalTemporalInformationModified"},"(0028,0304)":{tag:"(0028,0304)",vr:"UI",vm:"1",name:"ReferencedColorPaletteInstanceUID"},"(0028,0400)":{tag:"(0028,0400)",vr:"LO",vm:"1",name:"TransformLabel"},"(0028,0401)":{tag:"(0028,0401)",vr:"LO",vm:"1",name:"TransformVersionNumber"},"(0028,0402)":{tag:"(0028,0402)",vr:"US",vm:"1",name:"NumberOfTransformSteps"},"(0028,0403)":{tag:"(0028,0403)",vr:"LO",vm:"1-n",name:"SequenceOfCompressedData"},"(0028,0404)":{tag:"(0028,0404)",vr:"AT",vm:"1-n",name:"DetailsOfCoefficients"},"(0028,04x0)":{tag:"(0028,04x0)",vr:"US",vm:"1",name:"RowsForNthOrderCoefficients"},"(0028,04x1)":{tag:"(0028,04x1)",vr:"US",vm:"1",name:"ColumnsForNthOrderCoefficients"},"(0028,04x2)":{tag:"(0028,04x2)",vr:"LO",vm:"1-n",name:"CoefficientCoding"},"(0028,04x3)":{tag:"(0028,04x3)",vr:"AT",vm:"1-n",name:"CoefficientCodingPointers"},"(0028,0700)":{tag:"(0028,0700)",vr:"LO",vm:"1",name:"DCTLabel"},"(0028,0701)":{tag:"(0028,0701)",vr:"CS",vm:"1-n",name:"DataBlockDescription"},"(0028,0702)":{tag:"(0028,0702)",vr:"AT",vm:"1-n",name:"DataBlock"},"(0028,0710)":{tag:"(0028,0710)",vr:"US",vm:"1",name:"NormalizationFactorFormat"},"(0028,0720)":{tag:"(0028,0720)",vr:"US",vm:"1",name:"ZonalMapNumberFormat"},"(0028,0721)":{tag:"(0028,0721)",vr:"AT",vm:"1-n",name:"ZonalMapLocation"},"(0028,0722)":{tag:"(0028,0722)",vr:"US",vm:"1",name:"ZonalMapFormat"},"(0028,0730)":{tag:"(0028,0730)",vr:"US",vm:"1",name:"AdaptiveMapFormat"},"(0028,0740)":{tag:"(0028,0740)",vr:"US",vm:"1",name:"CodeNumberFormat"},"(0028,08x0)":{tag:"(0028,08x0)",vr:"CS",vm:"1-n",name:"CodeLabel"},"(0028,08x2)":{tag:"(0028,08x2)",vr:"US",vm:"1",name:"NumberOfTables"},"(0028,08x3)":{tag:"(0028,08x3)",vr:"AT",vm:"1-n",name:"CodeTableLocation"},"(0028,08x4)":{tag:"(0028,08x4)",vr:"US",vm:"1",name:"BitsForCodeWord"},"(0028,08x8)":{tag:"(0028,08x8)",vr:"AT",vm:"1-n",name:"ImageDataLocation"},"(0028,0A02)":{tag:"(0028,0A02)",vr:"CS",vm:"1",name:"PixelSpacingCalibrationType"},"(0028,0A04)":{tag:"(0028,0A04)",vr:"LO",vm:"1",name:"PixelSpacingCalibrationDescription"},"(0028,1040)":{tag:"(0028,1040)",vr:"CS",vm:"1",name:"PixelIntensityRelationship"},"(0028,1041)":{tag:"(0028,1041)",vr:"SS",vm:"1",name:"PixelIntensityRelationshipSign"},"(0028,1050)":{tag:"(0028,1050)",vr:"DS",vm:"1-n",name:"WindowCenter"},"(0028,1051)":{tag:"(0028,1051)",vr:"DS",vm:"1-n",name:"WindowWidth"},"(0028,1052)":{tag:"(0028,1052)",vr:"DS",vm:"1",name:"RescaleIntercept"},"(0028,1053)":{tag:"(0028,1053)",vr:"DS",vm:"1",name:"RescaleSlope"},"(0028,1054)":{tag:"(0028,1054)",vr:"LO",vm:"1",name:"RescaleType"},"(0028,1055)":{tag:"(0028,1055)",vr:"LO",vm:"1-n",name:"WindowCenterWidthExplanation"},"(0028,1056)":{tag:"(0028,1056)",vr:"CS",vm:"1",name:"VOILUTFunction"},"(0028,1080)":{tag:"(0028,1080)",vr:"CS",vm:"1",name:"GrayScale"},"(0028,1090)":{tag:"(0028,1090)",vr:"CS",vm:"1",name:"RecommendedViewingMode"},"(0028,1100)":{tag:"(0028,1100)",vr:"US|SS",vm:"3",name:"GrayLookupTableDescriptor"},"(0028,1101)":{tag:"(0028,1101)",vr:"US|SS",vm:"3",name:"RedPaletteColorLookupTableDescriptor"},"(0028,1102)":{tag:"(0028,1102)",vr:"US|SS",vm:"3",name:"GreenPaletteColorLookupTableDescriptor"},"(0028,1103)":{tag:"(0028,1103)",vr:"US|SS",vm:"3",name:"BluePaletteColorLookupTableDescriptor"},"(0028,1104)":{tag:"(0028,1104)",vr:"US",vm:"3",name:"AlphaPaletteColorLookupTableDescriptor"},"(0028,1111)":{tag:"(0028,1111)",vr:"US|SS",vm:"4",name:"LargeRedPaletteColorLookupTableDescriptor"},"(0028,1112)":{tag:"(0028,1112)",vr:"US|SS",vm:"4",name:"LargeGreenPaletteColorLookupTableDescriptor"},"(0028,1113)":{tag:"(0028,1113)",vr:"US|SS",vm:"4",name:"LargeBluePaletteColorLookupTableDescriptor"},"(0028,1199)":{tag:"(0028,1199)",vr:"UI",vm:"1",name:"PaletteColorLookupTableUID"},"(0028,1200)":{tag:"(0028,1200)",vr:"US|SS|OW",vm:"1-n or 1",name:"GrayLookupTableData"},"(0028,1201)":{tag:"(0028,1201)",vr:"OW",vm:"1",name:"RedPaletteColorLookupTableData"},"(0028,1202)":{tag:"(0028,1202)",vr:"OW",vm:"1",name:"GreenPaletteColorLookupTableData"},"(0028,1203)":{tag:"(0028,1203)",vr:"OW",vm:"1",name:"BluePaletteColorLookupTableData"},"(0028,1204)":{tag:"(0028,1204)",vr:"OW",vm:"1",name:"AlphaPaletteColorLookupTableData"},"(0028,1211)":{tag:"(0028,1211)",vr:"OW",vm:"1",name:"LargeRedPaletteColorLookupTableData"},"(0028,1212)":{tag:"(0028,1212)",vr:"OW",vm:"1",name:"LargeGreenPaletteColorLookupTableData"},"(0028,1213)":{tag:"(0028,1213)",vr:"OW",vm:"1",name:"LargeBluePaletteColorLookupTableData"},"(0028,1214)":{tag:"(0028,1214)",vr:"UI",vm:"1",name:"LargePaletteColorLookupTableUID"},"(0028,1221)":{tag:"(0028,1221)",vr:"OW",vm:"1",name:"SegmentedRedPaletteColorLookupTableData"},"(0028,1222)":{tag:"(0028,1222)",vr:"OW",vm:"1",name:"SegmentedGreenPaletteColorLookupTableData"},"(0028,1223)":{tag:"(0028,1223)",vr:"OW",vm:"1",name:"SegmentedBluePaletteColorLookupTableData"},"(0028,1224)":{tag:"(0028,1224)",vr:"OW",vm:"1",name:"SegmentedAlphaPaletteColorLookupTableData"},"(0028,1230)":{tag:"(0028,1230)",vr:"SQ",vm:"1",name:"StoredValueColorRangeSequence"},"(0028,1231)":{tag:"(0028,1231)",vr:"FD",vm:"1",name:"MinimumStoredValueMapped"},"(0028,1232)":{tag:"(0028,1232)",vr:"FD",vm:"1",name:"MaximumStoredValueMapped"},"(0028,1300)":{tag:"(0028,1300)",vr:"CS",vm:"1",name:"BreastImplantPresent"},"(0028,1350)":{tag:"(0028,1350)",vr:"CS",vm:"1",name:"PartialView"},"(0028,1351)":{tag:"(0028,1351)",vr:"ST",vm:"1",name:"PartialViewDescription"},"(0028,1352)":{tag:"(0028,1352)",vr:"SQ",vm:"1",name:"PartialViewCodeSequence"},"(0028,135A)":{tag:"(0028,135A)",vr:"CS",vm:"1",name:"SpatialLocationsPreserved"},"(0028,1401)":{tag:"(0028,1401)",vr:"SQ",vm:"1",name:"DataFrameAssignmentSequence"},"(0028,1402)":{tag:"(0028,1402)",vr:"CS",vm:"1",name:"DataPathAssignment"},"(0028,1403)":{tag:"(0028,1403)",vr:"US",vm:"1",name:"BitsMappedToColorLookupTable"},"(0028,1404)":{tag:"(0028,1404)",vr:"SQ",vm:"1",name:"BlendingLUT1Sequence"},"(0028,1405)":{tag:"(0028,1405)",vr:"CS",vm:"1",name:"BlendingLUT1TransferFunction"},"(0028,1406)":{tag:"(0028,1406)",vr:"FD",vm:"1",name:"BlendingWeightConstant"},"(0028,1407)":{tag:"(0028,1407)",vr:"US",vm:"3",name:"BlendingLookupTableDescriptor"},"(0028,1408)":{tag:"(0028,1408)",vr:"OW",vm:"1",name:"BlendingLookupTableData"},"(0028,140B)":{tag:"(0028,140B)",vr:"SQ",vm:"1",name:"EnhancedPaletteColorLookupTableSequence"},"(0028,140C)":{tag:"(0028,140C)",vr:"SQ",vm:"1",name:"BlendingLUT2Sequence"},"(0028,140D)":{tag:"(0028,140D)",vr:"CS",vm:"1",name:"BlendingLUT2TransferFunction"},"(0028,140E)":{tag:"(0028,140E)",vr:"CS",vm:"1",name:"DataPathID"},"(0028,140F)":{tag:"(0028,140F)",vr:"CS",vm:"1",name:"RGBLUTTransferFunction"},"(0028,1410)":{tag:"(0028,1410)",vr:"CS",vm:"1",name:"AlphaLUTTransferFunction"},"(0028,2000)":{tag:"(0028,2000)",vr:"OB",vm:"1",name:"ICCProfile"},"(0028,2002)":{tag:"(0028,2002)",vr:"CS",vm:"1",name:"ColorSpace"},"(0028,2110)":{tag:"(0028,2110)",vr:"CS",vm:"1",name:"LossyImageCompression"},"(0028,2112)":{tag:"(0028,2112)",vr:"DS",vm:"1-n",name:"LossyImageCompressionRatio"},"(0028,2114)":{tag:"(0028,2114)",vr:"CS",vm:"1-n",name:"LossyImageCompressionMethod"},"(0028,3000)":{tag:"(0028,3000)",vr:"SQ",vm:"1",name:"ModalityLUTSequence"},"(0028,3002)":{tag:"(0028,3002)",vr:"US|SS",vm:"3",name:"LUTDescriptor"},"(0028,3003)":{tag:"(0028,3003)",vr:"LO",vm:"1",name:"LUTExplanation"},"(0028,3004)":{tag:"(0028,3004)",vr:"LO",vm:"1",name:"ModalityLUTType"},"(0028,3006)":{tag:"(0028,3006)",vr:"US|OW",vm:"1-n or 1",name:"LUTData"},"(0028,3010)":{tag:"(0028,3010)",vr:"SQ",vm:"1",name:"VOILUTSequence"},"(0028,3110)":{tag:"(0028,3110)",vr:"SQ",vm:"1",name:"SoftcopyVOILUTSequence"},"(0028,4000)":{tag:"(0028,4000)",vr:"LT",vm:"1",name:"ImagePresentationComments"},"(0028,5000)":{tag:"(0028,5000)",vr:"SQ",vm:"1",name:"BiPlaneAcquisitionSequence"},"(0028,6010)":{tag:"(0028,6010)",vr:"US",vm:"1",name:"RepresentativeFrameNumber"},"(0028,6020)":{tag:"(0028,6020)",vr:"US",vm:"1-n",name:"FrameNumbersOfInterest"},"(0028,6022)":{tag:"(0028,6022)",vr:"LO",vm:"1-n",name:"FrameOfInterestDescription"},"(0028,6023)":{tag:"(0028,6023)",vr:"CS",vm:"1-n",name:"FrameOfInterestType"},"(0028,6030)":{tag:"(0028,6030)",vr:"US",vm:"1-n",name:"MaskPointers"},"(0028,6040)":{tag:"(0028,6040)",vr:"US",vm:"1-n",name:"RWavePointer"},"(0028,6100)":{tag:"(0028,6100)",vr:"SQ",vm:"1",name:"MaskSubtractionSequence"},"(0028,6101)":{tag:"(0028,6101)",vr:"CS",vm:"1",name:"MaskOperation"},"(0028,6102)":{tag:"(0028,6102)",vr:"US",vm:"2-2n",name:"ApplicableFrameRange"},"(0028,6110)":{tag:"(0028,6110)",vr:"US",vm:"1-n",name:"MaskFrameNumbers"},"(0028,6112)":{tag:"(0028,6112)",vr:"US",vm:"1",name:"ContrastFrameAveraging"},"(0028,6114)":{tag:"(0028,6114)",vr:"FL",vm:"2",name:"MaskSubPixelShift"},"(0028,6120)":{tag:"(0028,6120)",vr:"SS",vm:"1",name:"TIDOffset"},"(0028,6190)":{tag:"(0028,6190)",vr:"ST",vm:"1",name:"MaskOperationExplanation"},"(0028,7000)":{tag:"(0028,7000)",vr:"SQ",vm:"1",name:"EquipmentAdministratorSequence"},"(0028,7001)":{tag:"(0028,7001)",vr:"US",vm:"1",name:"NumberOfDisplaySubsystems"},"(0028,7002)":{tag:"(0028,7002)",vr:"US",vm:"1",name:"CurrentConfigurationID"},"(0028,7003)":{tag:"(0028,7003)",vr:"US",vm:"1",name:"DisplaySubsystemID"},"(0028,7004)":{tag:"(0028,7004)",vr:"SH",vm:"1",name:"DisplaySubsystemName"},"(0028,7005)":{tag:"(0028,7005)",vr:"LO",vm:"1",name:"DisplaySubsystemDescription"},"(0028,7006)":{tag:"(0028,7006)",vr:"CS",vm:"1",name:"SystemStatus"},"(0028,7007)":{tag:"(0028,7007)",vr:"LO",vm:"1",name:"SystemStatusComment"},"(0028,7008)":{tag:"(0028,7008)",vr:"SQ",vm:"1",name:"TargetLuminanceCharacteristicsSequence"},"(0028,7009)":{tag:"(0028,7009)",vr:"US",vm:"1",name:"LuminanceCharacteristicsID"},"(0028,700A)":{tag:"(0028,700A)",vr:"SQ",vm:"1",name:"DisplaySubsystemConfigurationSequence"},"(0028,700B)":{tag:"(0028,700B)",vr:"US",vm:"1",name:"ConfigurationID"},"(0028,700C)":{tag:"(0028,700C)",vr:"SH",vm:"1",name:"ConfigurationName"},"(0028,700D)":{tag:"(0028,700D)",vr:"LO",vm:"1",name:"ConfigurationDescription"},"(0028,700E)":{tag:"(0028,700E)",vr:"US",vm:"1",name:"ReferencedTargetLuminanceCharacteristicsID"},"(0028,700F)":{tag:"(0028,700F)",vr:"SQ",vm:"1",name:"QAResultsSequence"},"(0028,7010)":{tag:"(0028,7010)",vr:"SQ",vm:"1",name:"DisplaySubsystemQAResultsSequence"},"(0028,7011)":{tag:"(0028,7011)",vr:"SQ",vm:"1",name:"ConfigurationQAResultsSequence"},"(0028,7012)":{tag:"(0028,7012)",vr:"SQ",vm:"1",name:"MeasurementEquipmentSequence"},"(0028,7013)":{tag:"(0028,7013)",vr:"CS",vm:"1-n",name:"MeasurementFunctions"},"(0028,7014)":{tag:"(0028,7014)",vr:"CS",vm:"1",name:"MeasurementEquipmentType"},"(0028,7015)":{tag:"(0028,7015)",vr:"SQ",vm:"1",name:"VisualEvaluationResultSequence"},"(0028,7016)":{tag:"(0028,7016)",vr:"SQ",vm:"1",name:"DisplayCalibrationResultSequence"},"(0028,7017)":{tag:"(0028,7017)",vr:"US",vm:"1",name:"DDLValue"},"(0028,7018)":{tag:"(0028,7018)",vr:"FL",vm:"2",name:"CIExyWhitePoint"},"(0028,7019)":{tag:"(0028,7019)",vr:"CS",vm:"1",name:"DisplayFunctionType"},"(0028,701A)":{tag:"(0028,701A)",vr:"FL",vm:"1",name:"GammaValue"},"(0028,701B)":{tag:"(0028,701B)",vr:"US",vm:"1",name:"NumberOfLuminancePoints"},"(0028,701C)":{tag:"(0028,701C)",vr:"SQ",vm:"1",name:"LuminanceResponseSequence"},"(0028,701D)":{tag:"(0028,701D)",vr:"FL",vm:"1",name:"TargetMinimumLuminance"},"(0028,701E)":{tag:"(0028,701E)",vr:"FL",vm:"1",name:"TargetMaximumLuminance"},"(0028,701F)":{tag:"(0028,701F)",vr:"FL",vm:"1",name:"LuminanceValue"},"(0028,7020)":{tag:"(0028,7020)",vr:"LO",vm:"1",name:"LuminanceResponseDescription"},"(0028,7021)":{tag:"(0028,7021)",vr:"CS",vm:"1",name:"WhitePointFlag"},"(0028,7022)":{tag:"(0028,7022)",vr:"SQ",vm:"1",name:"DisplayDeviceTypeCodeSequence"},"(0028,7023)":{tag:"(0028,7023)",vr:"SQ",vm:"1",name:"DisplaySubsystemSequence"},"(0028,7024)":{tag:"(0028,7024)",vr:"SQ",vm:"1",name:"LuminanceResultSequence"},"(0028,7025)":{tag:"(0028,7025)",vr:"CS",vm:"1",name:"AmbientLightValueSource"},"(0028,7026)":{tag:"(0028,7026)",vr:"CS",vm:"1-n",name:"MeasuredCharacteristics"},"(0028,7027)":{tag:"(0028,7027)",vr:"SQ",vm:"1",name:"LuminanceUniformityResultSequence"},"(0028,7028)":{tag:"(0028,7028)",vr:"SQ",vm:"1",name:"VisualEvaluationTestSequence"},"(0028,7029)":{tag:"(0028,7029)",vr:"CS",vm:"1",name:"TestResult"},"(0028,702A)":{tag:"(0028,702A)",vr:"LO",vm:"1",name:"TestResultComment"},"(0028,702B)":{tag:"(0028,702B)",vr:"CS",vm:"1",name:"TestImageValidation"},"(0028,702C)":{tag:"(0028,702C)",vr:"SQ",vm:"1",name:"TestPatternCodeSequence"},"(0028,702D)":{tag:"(0028,702D)",vr:"SQ",vm:"1",name:"MeasurementPatternCodeSequence"},"(0028,702E)":{tag:"(0028,702E)",vr:"SQ",vm:"1",name:"VisualEvaluationMethodCodeSequence"},"(0028,7FE0)":{tag:"(0028,7FE0)",vr:"UR",vm:"1",name:"PixelDataProviderURL"},"(0028,9001)":{tag:"(0028,9001)",vr:"UL",vm:"1",name:"DataPointRows"},"(0028,9002)":{tag:"(0028,9002)",vr:"UL",vm:"1",name:"DataPointColumns"},"(0028,9003)":{tag:"(0028,9003)",vr:"CS",vm:"1",name:"SignalDomainColumns"},"(0028,9099)":{tag:"(0028,9099)",vr:"US",vm:"1",name:"LargestMonochromePixelValue"},"(0028,9108)":{tag:"(0028,9108)",vr:"CS",vm:"1",name:"DataRepresentation"},"(0028,9110)":{tag:"(0028,9110)",vr:"SQ",vm:"1",name:"PixelMeasuresSequence"},"(0028,9132)":{tag:"(0028,9132)",vr:"SQ",vm:"1",name:"FrameVOILUTSequence"},"(0028,9145)":{tag:"(0028,9145)",vr:"SQ",vm:"1",name:"PixelValueTransformationSequence"},"(0028,9235)":{tag:"(0028,9235)",vr:"CS",vm:"1",name:"SignalDomainRows"},"(0028,9411)":{tag:"(0028,9411)",vr:"FL",vm:"1",name:"DisplayFilterPercentage"},"(0028,9415)":{tag:"(0028,9415)",vr:"SQ",vm:"1",name:"FramePixelShiftSequence"},"(0028,9416)":{tag:"(0028,9416)",vr:"US",vm:"1",name:"SubtractionItemID"},"(0028,9422)":{tag:"(0028,9422)",vr:"SQ",vm:"1",name:"PixelIntensityRelationshipLUTSequence"},"(0028,9443)":{tag:"(0028,9443)",vr:"SQ",vm:"1",name:"FramePixelDataPropertiesSequence"},"(0028,9444)":{tag:"(0028,9444)",vr:"CS",vm:"1",name:"GeometricalProperties"},"(0028,9445)":{tag:"(0028,9445)",vr:"FL",vm:"1",name:"GeometricMaximumDistortion"},"(0028,9446)":{tag:"(0028,9446)",vr:"CS",vm:"1-n",name:"ImageProcessingApplied"},"(0028,9454)":{tag:"(0028,9454)",vr:"CS",vm:"1",name:"MaskSelectionMode"},"(0028,9474)":{tag:"(0028,9474)",vr:"CS",vm:"1",name:"LUTFunction"},"(0028,9478)":{tag:"(0028,9478)",vr:"FL",vm:"1",name:"MaskVisibilityPercentage"},"(0028,9501)":{tag:"(0028,9501)",vr:"SQ",vm:"1",name:"PixelShiftSequence"},"(0028,9502)":{tag:"(0028,9502)",vr:"SQ",vm:"1",name:"RegionPixelShiftSequence"},"(0028,9503)":{tag:"(0028,9503)",vr:"SS",vm:"2-2n",name:"VerticesOfTheRegion"},"(0028,9505)":{tag:"(0028,9505)",vr:"SQ",vm:"1",name:"MultiFramePresentationSequence"},"(0028,9506)":{tag:"(0028,9506)",vr:"US",vm:"2-2n",name:"PixelShiftFrameRange"},"(0028,9507)":{tag:"(0028,9507)",vr:"US",vm:"2-2n",name:"LUTFrameRange"},"(0028,9520)":{tag:"(0028,9520)",vr:"DS",vm:"16",name:"ImageToEquipmentMappingMatrix"},"(0028,9537)":{tag:"(0028,9537)",vr:"CS",vm:"1",name:"EquipmentCoordinateSystemIdentification"},"(0032,000A)":{tag:"(0032,000A)",vr:"CS",vm:"1",name:"StudyStatusID"},"(0032,000C)":{tag:"(0032,000C)",vr:"CS",vm:"1",name:"StudyPriorityID"},"(0032,0012)":{tag:"(0032,0012)",vr:"LO",vm:"1",name:"StudyIDIssuer"},"(0032,0032)":{tag:"(0032,0032)",vr:"DA",vm:"1",name:"StudyVerifiedDate"},"(0032,0033)":{tag:"(0032,0033)",vr:"TM",vm:"1",name:"StudyVerifiedTime"},"(0032,0034)":{tag:"(0032,0034)",vr:"DA",vm:"1",name:"StudyReadDate"},"(0032,0035)":{tag:"(0032,0035)",vr:"TM",vm:"1",name:"StudyReadTime"},"(0032,1000)":{tag:"(0032,1000)",vr:"DA",vm:"1",name:"ScheduledStudyStartDate"},"(0032,1001)":{tag:"(0032,1001)",vr:"TM",vm:"1",name:"ScheduledStudyStartTime"},"(0032,1010)":{tag:"(0032,1010)",vr:"DA",vm:"1",name:"ScheduledStudyStopDate"},"(0032,1011)":{tag:"(0032,1011)",vr:"TM",vm:"1",name:"ScheduledStudyStopTime"},"(0032,1020)":{tag:"(0032,1020)",vr:"LO",vm:"1",name:"ScheduledStudyLocation"},"(0032,1021)":{tag:"(0032,1021)",vr:"AE",vm:"1-n",name:"ScheduledStudyLocationAETitle"},"(0032,1030)":{tag:"(0032,1030)",vr:"LO",vm:"1",name:"ReasonForStudy"},"(0032,1031)":{tag:"(0032,1031)",vr:"SQ",vm:"1",name:"RequestingPhysicianIdentificationSequence"},"(0032,1032)":{tag:"(0032,1032)",vr:"PN",vm:"1",name:"RequestingPhysician"},"(0032,1033)":{tag:"(0032,1033)",vr:"LO",vm:"1",name:"RequestingService"},"(0032,1034)":{tag:"(0032,1034)",vr:"SQ",vm:"1",name:"RequestingServiceCodeSequence"},"(0032,1040)":{tag:"(0032,1040)",vr:"DA",vm:"1",name:"StudyArrivalDate"},"(0032,1041)":{tag:"(0032,1041)",vr:"TM",vm:"1",name:"StudyArrivalTime"},"(0032,1050)":{tag:"(0032,1050)",vr:"DA",vm:"1",name:"StudyCompletionDate"},"(0032,1051)":{tag:"(0032,1051)",vr:"TM",vm:"1",name:"StudyCompletionTime"},"(0032,1055)":{tag:"(0032,1055)",vr:"CS",vm:"1",name:"StudyComponentStatusID"},"(0032,1060)":{tag:"(0032,1060)",vr:"LO",vm:"1",name:"RequestedProcedureDescription"},"(0032,1064)":{tag:"(0032,1064)",vr:"SQ",vm:"1",name:"RequestedProcedureCodeSequence"},"(0032,1065)":{tag:"(0032,1065)",vr:"SQ",vm:"1",name:"RequestedLateralityCodeSequence"},"(0032,1066)":{tag:"(0032,1066)",vr:"UT",vm:"1",name:"ReasonForVisit"},"(0032,1067)":{tag:"(0032,1067)",vr:"SQ",vm:"1",name:"ReasonForVisitCodeSequence"},"(0032,1070)":{tag:"(0032,1070)",vr:"LO",vm:"1",name:"RequestedContrastAgent"},"(0032,4000)":{tag:"(0032,4000)",vr:"LT",vm:"1",name:"StudyComments"},"(0034,0001)":{tag:"(0034,0001)",vr:"SQ",vm:"1",name:"FlowIdentifierSequence"},"(0034,0002)":{tag:"(0034,0002)",vr:"OB",vm:"1",name:"FlowIdentifier"},"(0034,0003)":{tag:"(0034,0003)",vr:"UI",vm:"1",name:"FlowTransferSyntaxUID"},"(0034,0004)":{tag:"(0034,0004)",vr:"UL",vm:"1",name:"FlowRTPSamplingRate"},"(0034,0005)":{tag:"(0034,0005)",vr:"OB",vm:"1",name:"SourceIdentifier"},"(0034,0007)":{tag:"(0034,0007)",vr:"OB",vm:"1",name:"FrameOriginTimestamp"},"(0034,0008)":{tag:"(0034,0008)",vr:"CS",vm:"1",name:"IncludesImagingSubject"},"(0034,0009)":{tag:"(0034,0009)",vr:"SQ",vm:"1",name:"FrameUsefulnessGroupSequence"},"(0034,000A)":{tag:"(0034,000A)",vr:"SQ",vm:"1",name:"RealTimeBulkDataFlowSequence"},"(0034,000B)":{tag:"(0034,000B)",vr:"SQ",vm:"1",name:"CameraPositionGroupSequence"},"(0034,000C)":{tag:"(0034,000C)",vr:"CS",vm:"1",name:"IncludesInformation"},"(0034,000D)":{tag:"(0034,000D)",vr:"SQ",vm:"1",name:"TimeOfFrameGroupSequence"},"(0038,0004)":{tag:"(0038,0004)",vr:"SQ",vm:"1",name:"ReferencedPatientAliasSequence"},"(0038,0008)":{tag:"(0038,0008)",vr:"CS",vm:"1",name:"VisitStatusID"},"(0038,0010)":{tag:"(0038,0010)",vr:"LO",vm:"1",name:"AdmissionID"},"(0038,0011)":{tag:"(0038,0011)",vr:"LO",vm:"1",name:"IssuerOfAdmissionID"},"(0038,0014)":{tag:"(0038,0014)",vr:"SQ",vm:"1",name:"IssuerOfAdmissionIDSequence"},"(0038,0016)":{tag:"(0038,0016)",vr:"LO",vm:"1",name:"RouteOfAdmissions"},"(0038,001A)":{tag:"(0038,001A)",vr:"DA",vm:"1",name:"ScheduledAdmissionDate"},"(0038,001B)":{tag:"(0038,001B)",vr:"TM",vm:"1",name:"ScheduledAdmissionTime"},"(0038,001C)":{tag:"(0038,001C)",vr:"DA",vm:"1",name:"ScheduledDischargeDate"},"(0038,001D)":{tag:"(0038,001D)",vr:"TM",vm:"1",name:"ScheduledDischargeTime"},"(0038,001E)":{tag:"(0038,001E)",vr:"LO",vm:"1",name:"ScheduledPatientInstitutionResidence"},"(0038,0020)":{tag:"(0038,0020)",vr:"DA",vm:"1",name:"AdmittingDate"},"(0038,0021)":{tag:"(0038,0021)",vr:"TM",vm:"1",name:"AdmittingTime"},"(0038,0030)":{tag:"(0038,0030)",vr:"DA",vm:"1",name:"DischargeDate"},"(0038,0032)":{tag:"(0038,0032)",vr:"TM",vm:"1",name:"DischargeTime"},"(0038,0040)":{tag:"(0038,0040)",vr:"LO",vm:"1",name:"DischargeDiagnosisDescription"},"(0038,0044)":{tag:"(0038,0044)",vr:"SQ",vm:"1",name:"DischargeDiagnosisCodeSequence"},"(0038,0050)":{tag:"(0038,0050)",vr:"LO",vm:"1",name:"SpecialNeeds"},"(0038,0060)":{tag:"(0038,0060)",vr:"LO",vm:"1",name:"ServiceEpisodeID"},"(0038,0061)":{tag:"(0038,0061)",vr:"LO",vm:"1",name:"IssuerOfServiceEpisodeID"},"(0038,0062)":{tag:"(0038,0062)",vr:"LO",vm:"1",name:"ServiceEpisodeDescription"},"(0038,0064)":{tag:"(0038,0064)",vr:"SQ",vm:"1",name:"IssuerOfServiceEpisodeIDSequence"},"(0038,0100)":{tag:"(0038,0100)",vr:"SQ",vm:"1",name:"PertinentDocumentsSequence"},"(0038,0101)":{tag:"(0038,0101)",vr:"SQ",vm:"1",name:"PertinentResourcesSequence"},"(0038,0102)":{tag:"(0038,0102)",vr:"LO",vm:"1",name:"ResourceDescription"},"(0038,0300)":{tag:"(0038,0300)",vr:"LO",vm:"1",name:"CurrentPatientLocation"},"(0038,0400)":{tag:"(0038,0400)",vr:"LO",vm:"1",name:"PatientInstitutionResidence"},"(0038,0500)":{tag:"(0038,0500)",vr:"LO",vm:"1",name:"PatientState"},"(0038,0502)":{tag:"(0038,0502)",vr:"SQ",vm:"1",name:"PatientClinicalTrialParticipationSequence"},"(0038,4000)":{tag:"(0038,4000)",vr:"LT",vm:"1",name:"VisitComments"},"(003A,0004)":{tag:"(003A,0004)",vr:"CS",vm:"1",name:"WaveformOriginality"},"(003A,0005)":{tag:"(003A,0005)",vr:"US",vm:"1",name:"NumberOfWaveformChannels"},"(003A,0010)":{tag:"(003A,0010)",vr:"UL",vm:"1",name:"NumberOfWaveformSamples"},"(003A,001A)":{tag:"(003A,001A)",vr:"DS",vm:"1",name:"SamplingFrequency"},"(003A,0020)":{tag:"(003A,0020)",vr:"SH",vm:"1",name:"MultiplexGroupLabel"},"(003A,0200)":{tag:"(003A,0200)",vr:"SQ",vm:"1",name:"ChannelDefinitionSequence"},"(003A,0202)":{tag:"(003A,0202)",vr:"IS",vm:"1",name:"WaveformChannelNumber"},"(003A,0203)":{tag:"(003A,0203)",vr:"SH",vm:"1",name:"ChannelLabel"},"(003A,0205)":{tag:"(003A,0205)",vr:"CS",vm:"1-n",name:"ChannelStatus"},"(003A,0208)":{tag:"(003A,0208)",vr:"SQ",vm:"1",name:"ChannelSourceSequence"},"(003A,0209)":{tag:"(003A,0209)",vr:"SQ",vm:"1",name:"ChannelSourceModifiersSequence"},"(003A,020A)":{tag:"(003A,020A)",vr:"SQ",vm:"1",name:"SourceWaveformSequence"},"(003A,020C)":{tag:"(003A,020C)",vr:"LO",vm:"1",name:"ChannelDerivationDescription"},"(003A,0210)":{tag:"(003A,0210)",vr:"DS",vm:"1",name:"ChannelSensitivity"},"(003A,0211)":{tag:"(003A,0211)",vr:"SQ",vm:"1",name:"ChannelSensitivityUnitsSequence"},"(003A,0212)":{tag:"(003A,0212)",vr:"DS",vm:"1",name:"ChannelSensitivityCorrectionFactor"},"(003A,0213)":{tag:"(003A,0213)",vr:"DS",vm:"1",name:"ChannelBaseline"},"(003A,0214)":{tag:"(003A,0214)",vr:"DS",vm:"1",name:"ChannelTimeSkew"},"(003A,0215)":{tag:"(003A,0215)",vr:"DS",vm:"1",name:"ChannelSampleSkew"},"(003A,0218)":{tag:"(003A,0218)",vr:"DS",vm:"1",name:"ChannelOffset"},"(003A,021A)":{tag:"(003A,021A)",vr:"US",vm:"1",name:"WaveformBitsStored"},"(003A,0220)":{tag:"(003A,0220)",vr:"DS",vm:"1",name:"FilterLowFrequency"},"(003A,0221)":{tag:"(003A,0221)",vr:"DS",vm:"1",name:"FilterHighFrequency"},"(003A,0222)":{tag:"(003A,0222)",vr:"DS",vm:"1",name:"NotchFilterFrequency"},"(003A,0223)":{tag:"(003A,0223)",vr:"DS",vm:"1",name:"NotchFilterBandwidth"},"(003A,0230)":{tag:"(003A,0230)",vr:"FL",vm:"1",name:"WaveformDataDisplayScale"},"(003A,0231)":{tag:"(003A,0231)",vr:"US",vm:"3",name:"WaveformDisplayBackgroundCIELabValue"},"(003A,0240)":{tag:"(003A,0240)",vr:"SQ",vm:"1",name:"WaveformPresentationGroupSequence"},"(003A,0241)":{tag:"(003A,0241)",vr:"US",vm:"1",name:"PresentationGroupNumber"},"(003A,0242)":{tag:"(003A,0242)",vr:"SQ",vm:"1",name:"ChannelDisplaySequence"},"(003A,0244)":{tag:"(003A,0244)",vr:"US",vm:"3",name:"ChannelRecommendedDisplayCIELabValue"},"(003A,0245)":{tag:"(003A,0245)",vr:"FL",vm:"1",name:"ChannelPosition"},"(003A,0246)":{tag:"(003A,0246)",vr:"CS",vm:"1",name:"DisplayShadingFlag"},"(003A,0247)":{tag:"(003A,0247)",vr:"FL",vm:"1",name:"FractionalChannelDisplayScale"},"(003A,0248)":{tag:"(003A,0248)",vr:"FL",vm:"1",name:"AbsoluteChannelDisplayScale"},"(003A,0300)":{tag:"(003A,0300)",vr:"SQ",vm:"1",name:"MultiplexedAudioChannelsDescriptionCodeSequence"},"(003A,0301)":{tag:"(003A,0301)",vr:"IS",vm:"1",name:"ChannelIdentificationCode"},"(003A,0302)":{tag:"(003A,0302)",vr:"CS",vm:"1",name:"ChannelMode"},"(003A,0310)":{tag:"(003A,0310)",vr:"UI",vm:"1",name:"MultiplexGroupUID"},"(003A,0311)":{tag:"(003A,0311)",vr:"DS",vm:"1",name:"PowerlineFrequency"},"(003A,0312)":{tag:"(003A,0312)",vr:"SQ",vm:"1",name:"ChannelImpedanceSequence"},"(003A,0313)":{tag:"(003A,0313)",vr:"DS",vm:"1",name:"ImpedanceValue"},"(003A,0314)":{tag:"(003A,0314)",vr:"DT",vm:"1",name:"ImpedanceMeasurementDateTime"},"(003A,0315)":{tag:"(003A,0315)",vr:"DS",vm:"1",name:"ImpedanceMeasurementFrequency"},"(003A,0316)":{tag:"(003A,0316)",vr:"CS",vm:"1",name:"ImpedanceMeasurementCurrentType"},"(0040,0001)":{tag:"(0040,0001)",vr:"AE",vm:"1-n",name:"ScheduledStationAETitle"},"(0040,0002)":{tag:"(0040,0002)",vr:"DA",vm:"1",name:"ScheduledProcedureStepStartDate"},"(0040,0003)":{tag:"(0040,0003)",vr:"TM",vm:"1",name:"ScheduledProcedureStepStartTime"},"(0040,0004)":{tag:"(0040,0004)",vr:"DA",vm:"1",name:"ScheduledProcedureStepEndDate"},"(0040,0005)":{tag:"(0040,0005)",vr:"TM",vm:"1",name:"ScheduledProcedureStepEndTime"},"(0040,0006)":{tag:"(0040,0006)",vr:"PN",vm:"1",name:"ScheduledPerformingPhysicianName"},"(0040,0007)":{tag:"(0040,0007)",vr:"LO",vm:"1",name:"ScheduledProcedureStepDescription"},"(0040,0008)":{tag:"(0040,0008)",vr:"SQ",vm:"1",name:"ScheduledProtocolCodeSequence"},"(0040,0009)":{tag:"(0040,0009)",vr:"SH",vm:"1",name:"ScheduledProcedureStepID"},"(0040,000A)":{tag:"(0040,000A)",vr:"SQ",vm:"1",name:"StageCodeSequence"},"(0040,000B)":{tag:"(0040,000B)",vr:"SQ",vm:"1",name:"ScheduledPerformingPhysicianIdentificationSequence"},"(0040,0010)":{tag:"(0040,0010)",vr:"SH",vm:"1-n",name:"ScheduledStationName"},"(0040,0011)":{tag:"(0040,0011)",vr:"SH",vm:"1",name:"ScheduledProcedureStepLocation"},"(0040,0012)":{tag:"(0040,0012)",vr:"LO",vm:"1",name:"PreMedication"},"(0040,0020)":{tag:"(0040,0020)",vr:"CS",vm:"1",name:"ScheduledProcedureStepStatus"},"(0040,0026)":{tag:"(0040,0026)",vr:"SQ",vm:"1",name:"OrderPlacerIdentifierSequence"},"(0040,0027)":{tag:"(0040,0027)",vr:"SQ",vm:"1",name:"OrderFillerIdentifierSequence"},"(0040,0031)":{tag:"(0040,0031)",vr:"UT",vm:"1",name:"LocalNamespaceEntityID"},"(0040,0032)":{tag:"(0040,0032)",vr:"UT",vm:"1",name:"UniversalEntityID"},"(0040,0033)":{tag:"(0040,0033)",vr:"CS",vm:"1",name:"UniversalEntityIDType"},"(0040,0035)":{tag:"(0040,0035)",vr:"CS",vm:"1",name:"IdentifierTypeCode"},"(0040,0036)":{tag:"(0040,0036)",vr:"SQ",vm:"1",name:"AssigningFacilitySequence"},"(0040,0039)":{tag:"(0040,0039)",vr:"SQ",vm:"1",name:"AssigningJurisdictionCodeSequence"},"(0040,003A)":{tag:"(0040,003A)",vr:"SQ",vm:"1",name:"AssigningAgencyOrDepartmentCodeSequence"},"(0040,0100)":{tag:"(0040,0100)",vr:"SQ",vm:"1",name:"ScheduledProcedureStepSequence"},"(0040,0220)":{tag:"(0040,0220)",vr:"SQ",vm:"1",name:"ReferencedNonImageCompositeSOPInstanceSequence"},"(0040,0241)":{tag:"(0040,0241)",vr:"AE",vm:"1",name:"PerformedStationAETitle"},"(0040,0242)":{tag:"(0040,0242)",vr:"SH",vm:"1",name:"PerformedStationName"},"(0040,0243)":{tag:"(0040,0243)",vr:"SH",vm:"1",name:"PerformedLocation"},"(0040,0244)":{tag:"(0040,0244)",vr:"DA",vm:"1",name:"PerformedProcedureStepStartDate"},"(0040,0245)":{tag:"(0040,0245)",vr:"TM",vm:"1",name:"PerformedProcedureStepStartTime"},"(0040,0250)":{tag:"(0040,0250)",vr:"DA",vm:"1",name:"PerformedProcedureStepEndDate"},"(0040,0251)":{tag:"(0040,0251)",vr:"TM",vm:"1",name:"PerformedProcedureStepEndTime"},"(0040,0252)":{tag:"(0040,0252)",vr:"CS",vm:"1",name:"PerformedProcedureStepStatus"},"(0040,0253)":{tag:"(0040,0253)",vr:"SH",vm:"1",name:"PerformedProcedureStepID"},"(0040,0254)":{tag:"(0040,0254)",vr:"LO",vm:"1",name:"PerformedProcedureStepDescription"},"(0040,0255)":{tag:"(0040,0255)",vr:"LO",vm:"1",name:"PerformedProcedureTypeDescription"},"(0040,0260)":{tag:"(0040,0260)",vr:"SQ",vm:"1",name:"PerformedProtocolCodeSequence"},"(0040,0261)":{tag:"(0040,0261)",vr:"CS",vm:"1",name:"PerformedProtocolType"},"(0040,0270)":{tag:"(0040,0270)",vr:"SQ",vm:"1",name:"ScheduledStepAttributesSequence"},"(0040,0275)":{tag:"(0040,0275)",vr:"SQ",vm:"1",name:"RequestAttributesSequence"},"(0040,0280)":{tag:"(0040,0280)",vr:"ST",vm:"1",name:"CommentsOnThePerformedProcedureStep"},"(0040,0281)":{tag:"(0040,0281)",vr:"SQ",vm:"1",name:"PerformedProcedureStepDiscontinuationReasonCodeSequence"},"(0040,0293)":{tag:"(0040,0293)",vr:"SQ",vm:"1",name:"QuantitySequence"},"(0040,0294)":{tag:"(0040,0294)",vr:"DS",vm:"1",name:"Quantity"},"(0040,0295)":{tag:"(0040,0295)",vr:"SQ",vm:"1",name:"MeasuringUnitsSequence"},"(0040,0296)":{tag:"(0040,0296)",vr:"SQ",vm:"1",name:"BillingItemSequence"},"(0040,0300)":{tag:"(0040,0300)",vr:"US",vm:"1",name:"TotalTimeOfFluoroscopy"},"(0040,0301)":{tag:"(0040,0301)",vr:"US",vm:"1",name:"TotalNumberOfExposures"},"(0040,0302)":{tag:"(0040,0302)",vr:"US",vm:"1",name:"EntranceDose"},"(0040,0303)":{tag:"(0040,0303)",vr:"US",vm:"1-2",name:"ExposedArea"},"(0040,0306)":{tag:"(0040,0306)",vr:"DS",vm:"1",name:"DistanceSourceToEntrance"},"(0040,0307)":{tag:"(0040,0307)",vr:"DS",vm:"1",name:"DistanceSourceToSupport"},"(0040,030E)":{tag:"(0040,030E)",vr:"SQ",vm:"1",name:"ExposureDoseSequence"},"(0040,0310)":{tag:"(0040,0310)",vr:"ST",vm:"1",name:"CommentsOnRadiationDose"},"(0040,0312)":{tag:"(0040,0312)",vr:"DS",vm:"1",name:"XRayOutput"},"(0040,0314)":{tag:"(0040,0314)",vr:"DS",vm:"1",name:"HalfValueLayer"},"(0040,0316)":{tag:"(0040,0316)",vr:"DS",vm:"1",name:"OrganDose"},"(0040,0318)":{tag:"(0040,0318)",vr:"CS",vm:"1",name:"OrganExposed"},"(0040,0320)":{tag:"(0040,0320)",vr:"SQ",vm:"1",name:"BillingProcedureStepSequence"},"(0040,0321)":{tag:"(0040,0321)",vr:"SQ",vm:"1",name:"FilmConsumptionSequence"},"(0040,0324)":{tag:"(0040,0324)",vr:"SQ",vm:"1",name:"BillingSuppliesAndDevicesSequence"},"(0040,0330)":{tag:"(0040,0330)",vr:"SQ",vm:"1",name:"ReferencedProcedureStepSequence"},"(0040,0340)":{tag:"(0040,0340)",vr:"SQ",vm:"1",name:"PerformedSeriesSequence"},"(0040,0400)":{tag:"(0040,0400)",vr:"LT",vm:"1",name:"CommentsOnTheScheduledProcedureStep"},"(0040,0440)":{tag:"(0040,0440)",vr:"SQ",vm:"1",name:"ProtocolContextSequence"},"(0040,0441)":{tag:"(0040,0441)",vr:"SQ",vm:"1",name:"ContentItemModifierSequence"},"(0040,0500)":{tag:"(0040,0500)",vr:"SQ",vm:"1",name:"ScheduledSpecimenSequence"},"(0040,050A)":{tag:"(0040,050A)",vr:"LO",vm:"1",name:"SpecimenAccessionNumber"},"(0040,0512)":{tag:"(0040,0512)",vr:"LO",vm:"1",name:"ContainerIdentifier"},"(0040,0513)":{tag:"(0040,0513)",vr:"SQ",vm:"1",name:"IssuerOfTheContainerIdentifierSequence"},"(0040,0515)":{tag:"(0040,0515)",vr:"SQ",vm:"1",name:"AlternateContainerIdentifierSequence"},"(0040,0518)":{tag:"(0040,0518)",vr:"SQ",vm:"1",name:"ContainerTypeCodeSequence"},"(0040,051A)":{tag:"(0040,051A)",vr:"LO",vm:"1",name:"ContainerDescription"},"(0040,0520)":{tag:"(0040,0520)",vr:"SQ",vm:"1",name:"ContainerComponentSequence"},"(0040,0550)":{tag:"(0040,0550)",vr:"SQ",vm:"1",name:"SpecimenSequence"},"(0040,0551)":{tag:"(0040,0551)",vr:"LO",vm:"1",name:"SpecimenIdentifier"},"(0040,0552)":{tag:"(0040,0552)",vr:"SQ",vm:"1",name:"SpecimenDescriptionSequenceTrial"},"(0040,0553)":{tag:"(0040,0553)",vr:"ST",vm:"1",name:"SpecimenDescriptionTrial"},"(0040,0554)":{tag:"(0040,0554)",vr:"UI",vm:"1",name:"SpecimenUID"},"(0040,0555)":{tag:"(0040,0555)",vr:"SQ",vm:"1",name:"AcquisitionContextSequence"},"(0040,0556)":{tag:"(0040,0556)",vr:"ST",vm:"1",name:"AcquisitionContextDescription"},"(0040,0560)":{tag:"(0040,0560)",vr:"SQ",vm:"1",name:"SpecimenDescriptionSequence"},"(0040,0562)":{tag:"(0040,0562)",vr:"SQ",vm:"1",name:"IssuerOfTheSpecimenIdentifierSequence"},"(0040,059A)":{tag:"(0040,059A)",vr:"SQ",vm:"1",name:"SpecimenTypeCodeSequence"},"(0040,0600)":{tag:"(0040,0600)",vr:"LO",vm:"1",name:"SpecimenShortDescription"},"(0040,0602)":{tag:"(0040,0602)",vr:"UT",vm:"1",name:"SpecimenDetailedDescription"},"(0040,0610)":{tag:"(0040,0610)",vr:"SQ",vm:"1",name:"SpecimenPreparationSequence"},"(0040,0612)":{tag:"(0040,0612)",vr:"SQ",vm:"1",name:"SpecimenPreparationStepContentItemSequence"},"(0040,0620)":{tag:"(0040,0620)",vr:"SQ",vm:"1",name:"SpecimenLocalizationContentItemSequence"},"(0040,06FA)":{tag:"(0040,06FA)",vr:"LO",vm:"1",name:"SlideIdentifier"},"(0040,0710)":{tag:"(0040,0710)",vr:"SQ",vm:"1",name:"WholeSlideMicroscopyImageFrameTypeSequence"},"(0040,071A)":{tag:"(0040,071A)",vr:"SQ",vm:"1",name:"ImageCenterPointCoordinatesSequence"},"(0040,072A)":{tag:"(0040,072A)",vr:"DS",vm:"1",name:"XOffsetInSlideCoordinateSystem"},"(0040,073A)":{tag:"(0040,073A)",vr:"DS",vm:"1",name:"YOffsetInSlideCoordinateSystem"},"(0040,074A)":{tag:"(0040,074A)",vr:"DS",vm:"1",name:"ZOffsetInSlideCoordinateSystem"},"(0040,08D8)":{tag:"(0040,08D8)",vr:"SQ",vm:"1",name:"PixelSpacingSequence"},"(0040,08DA)":{tag:"(0040,08DA)",vr:"SQ",vm:"1",name:"CoordinateSystemAxisCodeSequence"},"(0040,08EA)":{tag:"(0040,08EA)",vr:"SQ",vm:"1",name:"MeasurementUnitsCodeSequence"},"(0040,09F8)":{tag:"(0040,09F8)",vr:"SQ",vm:"1",name:"VitalStainCodeSequenceTrial"},"(0040,1001)":{tag:"(0040,1001)",vr:"SH",vm:"1",name:"RequestedProcedureID"},"(0040,1002)":{tag:"(0040,1002)",vr:"LO",vm:"1",name:"ReasonForTheRequestedProcedure"},"(0040,1003)":{tag:"(0040,1003)",vr:"SH",vm:"1",name:"RequestedProcedurePriority"},"(0040,1004)":{tag:"(0040,1004)",vr:"LO",vm:"1",name:"PatientTransportArrangements"},"(0040,1005)":{tag:"(0040,1005)",vr:"LO",vm:"1",name:"RequestedProcedureLocation"},"(0040,1006)":{tag:"(0040,1006)",vr:"SH",vm:"1",name:"PlacerOrderNumberProcedure"},"(0040,1007)":{tag:"(0040,1007)",vr:"SH",vm:"1",name:"FillerOrderNumberProcedure"},"(0040,1008)":{tag:"(0040,1008)",vr:"LO",vm:"1",name:"ConfidentialityCode"},"(0040,1009)":{tag:"(0040,1009)",vr:"SH",vm:"1",name:"ReportingPriority"},"(0040,100A)":{tag:"(0040,100A)",vr:"SQ",vm:"1",name:"ReasonForRequestedProcedureCodeSequence"},"(0040,1010)":{tag:"(0040,1010)",vr:"PN",vm:"1-n",name:"NamesOfIntendedRecipientsOfResults"},"(0040,1011)":{tag:"(0040,1011)",vr:"SQ",vm:"1",name:"IntendedRecipientsOfResultsIdentificationSequence"},"(0040,1012)":{tag:"(0040,1012)",vr:"SQ",vm:"1",name:"ReasonForPerformedProcedureCodeSequence"},"(0040,1060)":{tag:"(0040,1060)",vr:"LO",vm:"1",name:"RequestedProcedureDescriptionTrial"},"(0040,1101)":{tag:"(0040,1101)",vr:"SQ",vm:"1",name:"PersonIdentificationCodeSequence"},"(0040,1102)":{tag:"(0040,1102)",vr:"ST",vm:"1",name:"PersonAddress"},"(0040,1103)":{tag:"(0040,1103)",vr:"LO",vm:"1-n",name:"PersonTelephoneNumbers"},"(0040,1104)":{tag:"(0040,1104)",vr:"LT",vm:"1",name:"PersonTelecomInformation"},"(0040,1400)":{tag:"(0040,1400)",vr:"LT",vm:"1",name:"RequestedProcedureComments"},"(0040,2001)":{tag:"(0040,2001)",vr:"LO",vm:"1",name:"ReasonForTheImagingServiceRequest"},"(0040,2004)":{tag:"(0040,2004)",vr:"DA",vm:"1",name:"IssueDateOfImagingServiceRequest"},"(0040,2005)":{tag:"(0040,2005)",vr:"TM",vm:"1",name:"IssueTimeOfImagingServiceRequest"},"(0040,2006)":{tag:"(0040,2006)",vr:"SH",vm:"1",name:"PlacerOrderNumberImagingServiceRequestRetired"},"(0040,2007)":{tag:"(0040,2007)",vr:"SH",vm:"1",name:"FillerOrderNumberImagingServiceRequestRetired"},"(0040,2008)":{tag:"(0040,2008)",vr:"PN",vm:"1",name:"OrderEnteredBy"},"(0040,2009)":{tag:"(0040,2009)",vr:"SH",vm:"1",name:"OrderEntererLocation"},"(0040,2010)":{tag:"(0040,2010)",vr:"SH",vm:"1",name:"OrderCallbackPhoneNumber"},"(0040,2011)":{tag:"(0040,2011)",vr:"LT",vm:"1",name:"OrderCallbackTelecomInformation"},"(0040,2016)":{tag:"(0040,2016)",vr:"LO",vm:"1",name:"PlacerOrderNumberImagingServiceRequest"},"(0040,2017)":{tag:"(0040,2017)",vr:"LO",vm:"1",name:"FillerOrderNumberImagingServiceRequest"},"(0040,2400)":{tag:"(0040,2400)",vr:"LT",vm:"1",name:"ImagingServiceRequestComments"},"(0040,3001)":{tag:"(0040,3001)",vr:"LO",vm:"1",name:"ConfidentialityConstraintOnPatientDataDescription"},"(0040,4001)":{tag:"(0040,4001)",vr:"CS",vm:"1",name:"GeneralPurposeScheduledProcedureStepStatus"},"(0040,4002)":{tag:"(0040,4002)",vr:"CS",vm:"1",name:"GeneralPurposePerformedProcedureStepStatus"},"(0040,4003)":{tag:"(0040,4003)",vr:"CS",vm:"1",name:"GeneralPurposeScheduledProcedureStepPriority"},"(0040,4004)":{tag:"(0040,4004)",vr:"SQ",vm:"1",name:"ScheduledProcessingApplicationsCodeSequence"},"(0040,4005)":{tag:"(0040,4005)",vr:"DT",vm:"1",name:"ScheduledProcedureStepStartDateTime"},"(0040,4006)":{tag:"(0040,4006)",vr:"CS",vm:"1",name:"MultipleCopiesFlag"},"(0040,4007)":{tag:"(0040,4007)",vr:"SQ",vm:"1",name:"PerformedProcessingApplicationsCodeSequence"},"(0040,4008)":{tag:"(0040,4008)",vr:"DT",vm:"1",name:"ScheduledProcedureStepExpirationDateTime"},"(0040,4009)":{tag:"(0040,4009)",vr:"SQ",vm:"1",name:"HumanPerformerCodeSequence"},"(0040,4010)":{tag:"(0040,4010)",vr:"DT",vm:"1",name:"ScheduledProcedureStepModificationDateTime"},"(0040,4011)":{tag:"(0040,4011)",vr:"DT",vm:"1",name:"ExpectedCompletionDateTime"},"(0040,4015)":{tag:"(0040,4015)",vr:"SQ",vm:"1",name:"ResultingGeneralPurposePerformedProcedureStepsSequence"},"(0040,4016)":{tag:"(0040,4016)",vr:"SQ",vm:"1",name:"ReferencedGeneralPurposeScheduledProcedureStepSequence"},"(0040,4018)":{tag:"(0040,4018)",vr:"SQ",vm:"1",name:"ScheduledWorkitemCodeSequence"},"(0040,4019)":{tag:"(0040,4019)",vr:"SQ",vm:"1",name:"PerformedWorkitemCodeSequence"},"(0040,4020)":{tag:"(0040,4020)",vr:"CS",vm:"1",name:"InputAvailabilityFlag"},"(0040,4021)":{tag:"(0040,4021)",vr:"SQ",vm:"1",name:"InputInformationSequence"},"(0040,4022)":{tag:"(0040,4022)",vr:"SQ",vm:"1",name:"RelevantInformationSequence"},"(0040,4023)":{tag:"(0040,4023)",vr:"UI",vm:"1",name:"ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"},"(0040,4025)":{tag:"(0040,4025)",vr:"SQ",vm:"1",name:"ScheduledStationNameCodeSequence"},"(0040,4026)":{tag:"(0040,4026)",vr:"SQ",vm:"1",name:"ScheduledStationClassCodeSequence"},"(0040,4027)":{tag:"(0040,4027)",vr:"SQ",vm:"1",name:"ScheduledStationGeographicLocationCodeSequence"},"(0040,4028)":{tag:"(0040,4028)",vr:"SQ",vm:"1",name:"PerformedStationNameCodeSequence"},"(0040,4029)":{tag:"(0040,4029)",vr:"SQ",vm:"1",name:"PerformedStationClassCodeSequence"},"(0040,4030)":{tag:"(0040,4030)",vr:"SQ",vm:"1",name:"PerformedStationGeographicLocationCodeSequence"},"(0040,4031)":{tag:"(0040,4031)",vr:"SQ",vm:"1",name:"RequestedSubsequentWorkitemCodeSequence"},"(0040,4032)":{tag:"(0040,4032)",vr:"SQ",vm:"1",name:"NonDICOMOutputCodeSequence"},"(0040,4033)":{tag:"(0040,4033)",vr:"SQ",vm:"1",name:"OutputInformationSequence"},"(0040,4034)":{tag:"(0040,4034)",vr:"SQ",vm:"1",name:"ScheduledHumanPerformersSequence"},"(0040,4035)":{tag:"(0040,4035)",vr:"SQ",vm:"1",name:"ActualHumanPerformersSequence"},"(0040,4036)":{tag:"(0040,4036)",vr:"LO",vm:"1",name:"HumanPerformerOrganization"},"(0040,4037)":{tag:"(0040,4037)",vr:"PN",vm:"1",name:"HumanPerformerName"},"(0040,4040)":{tag:"(0040,4040)",vr:"CS",vm:"1",name:"RawDataHandling"},"(0040,4041)":{tag:"(0040,4041)",vr:"CS",vm:"1",name:"InputReadinessState"},"(0040,4050)":{tag:"(0040,4050)",vr:"DT",vm:"1",name:"PerformedProcedureStepStartDateTime"},"(0040,4051)":{tag:"(0040,4051)",vr:"DT",vm:"1",name:"PerformedProcedureStepEndDateTime"},"(0040,4052)":{tag:"(0040,4052)",vr:"DT",vm:"1",name:"ProcedureStepCancellationDateTime"},"(0040,4070)":{tag:"(0040,4070)",vr:"SQ",vm:"1",name:"OutputDestinationSequence"},"(0040,4071)":{tag:"(0040,4071)",vr:"SQ",vm:"1",name:"DICOMStorageSequence"},"(0040,4072)":{tag:"(0040,4072)",vr:"SQ",vm:"1",name:"STOWRSStorageSequence"},"(0040,4073)":{tag:"(0040,4073)",vr:"UR",vm:"1",name:"StorageURL"},"(0040,4074)":{tag:"(0040,4074)",vr:"SQ",vm:"1",name:"XDSStorageSequence"},"(0040,8302)":{tag:"(0040,8302)",vr:"DS",vm:"1",name:"EntranceDoseInmGy"},"(0040,8303)":{tag:"(0040,8303)",vr:"CS",vm:"1",name:"EntranceDoseDerivation"},"(0040,9092)":{tag:"(0040,9092)",vr:"SQ",vm:"1",name:"ParametricMapFrameTypeSequence"},"(0040,9094)":{tag:"(0040,9094)",vr:"SQ",vm:"1",name:"ReferencedImageRealWorldValueMappingSequence"},"(0040,9096)":{tag:"(0040,9096)",vr:"SQ",vm:"1",name:"RealWorldValueMappingSequence"},"(0040,9098)":{tag:"(0040,9098)",vr:"SQ",vm:"1",name:"PixelValueMappingCodeSequence"},"(0040,9210)":{tag:"(0040,9210)",vr:"SH",vm:"1",name:"LUTLabel"},"(0040,9211)":{tag:"(0040,9211)",vr:"US|SS",vm:"1",name:"RealWorldValueLastValueMapped"},"(0040,9212)":{tag:"(0040,9212)",vr:"FD",vm:"1-n",name:"RealWorldValueLUTData"},"(0040,9213)":{tag:"(0040,9213)",vr:"FD",vm:"1",name:"DoubleFloatRealWorldValueLastValueMapped"},"(0040,9214)":{tag:"(0040,9214)",vr:"FD",vm:"1",name:"DoubleFloatRealWorldValueFirstValueMapped"},"(0040,9216)":{tag:"(0040,9216)",vr:"US|SS",vm:"1",name:"RealWorldValueFirstValueMapped"},"(0040,9220)":{tag:"(0040,9220)",vr:"SQ",vm:"1",name:"QuantityDefinitionSequence"},"(0040,9224)":{tag:"(0040,9224)",vr:"FD",vm:"1",name:"RealWorldValueIntercept"},"(0040,9225)":{tag:"(0040,9225)",vr:"FD",vm:"1",name:"RealWorldValueSlope"},"(0040,A007)":{tag:"(0040,A007)",vr:"CS",vm:"1",name:"FindingsFlagTrial"},"(0040,A010)":{tag:"(0040,A010)",vr:"CS",vm:"1",name:"RelationshipType"},"(0040,A020)":{tag:"(0040,A020)",vr:"SQ",vm:"1",name:"FindingsSequenceTrial"},"(0040,A021)":{tag:"(0040,A021)",vr:"UI",vm:"1",name:"FindingsGroupUIDTrial"},"(0040,A022)":{tag:"(0040,A022)",vr:"UI",vm:"1",name:"ReferencedFindingsGroupUIDTrial"},"(0040,A023)":{tag:"(0040,A023)",vr:"DA",vm:"1",name:"FindingsGroupRecordingDateTrial"},"(0040,A024)":{tag:"(0040,A024)",vr:"TM",vm:"1",name:"FindingsGroupRecordingTimeTrial"},"(0040,A026)":{tag:"(0040,A026)",vr:"SQ",vm:"1",name:"FindingsSourceCategoryCodeSequenceTrial"},"(0040,A027)":{tag:"(0040,A027)",vr:"LO",vm:"1",name:"VerifyingOrganization"},"(0040,A028)":{tag:"(0040,A028)",vr:"SQ",vm:"1",name:"DocumentingOrganizationIdentifierCodeSequenceTrial"},"(0040,A030)":{tag:"(0040,A030)",vr:"DT",vm:"1",name:"VerificationDateTime"},"(0040,A032)":{tag:"(0040,A032)",vr:"DT",vm:"1",name:"ObservationDateTime"},"(0040,A033)":{tag:"(0040,A033)",vr:"DT",vm:"1",name:"ObservationStartDateTime"},"(0040,A040)":{tag:"(0040,A040)",vr:"CS",vm:"1",name:"ValueType"},"(0040,A043)":{tag:"(0040,A043)",vr:"SQ",vm:"1",name:"ConceptNameCodeSequence"},"(0040,A047)":{tag:"(0040,A047)",vr:"LO",vm:"1",name:"MeasurementPrecisionDescriptionTrial"},"(0040,A050)":{tag:"(0040,A050)",vr:"CS",vm:"1",name:"ContinuityOfContent"},"(0040,A057)":{tag:"(0040,A057)",vr:"CS",vm:"1-n",name:"UrgencyOrPriorityAlertsTrial"},"(0040,A060)":{tag:"(0040,A060)",vr:"LO",vm:"1",name:"SequencingIndicatorTrial"},"(0040,A066)":{tag:"(0040,A066)",vr:"SQ",vm:"1",name:"DocumentIdentifierCodeSequenceTrial"},"(0040,A067)":{tag:"(0040,A067)",vr:"PN",vm:"1",name:"DocumentAuthorTrial"},"(0040,A068)":{tag:"(0040,A068)",vr:"SQ",vm:"1",name:"DocumentAuthorIdentifierCodeSequenceTrial"},"(0040,A070)":{tag:"(0040,A070)",vr:"SQ",vm:"1",name:"IdentifierCodeSequenceTrial"},"(0040,A073)":{tag:"(0040,A073)",vr:"SQ",vm:"1",name:"VerifyingObserverSequence"},"(0040,A074)":{tag:"(0040,A074)",vr:"OB",vm:"1",name:"ObjectBinaryIdentifierTrial"},"(0040,A075)":{tag:"(0040,A075)",vr:"PN",vm:"1",name:"VerifyingObserverName"},"(0040,A076)":{tag:"(0040,A076)",vr:"SQ",vm:"1",name:"DocumentingObserverIdentifierCodeSequenceTrial"},"(0040,A078)":{tag:"(0040,A078)",vr:"SQ",vm:"1",name:"AuthorObserverSequence"},"(0040,A07A)":{tag:"(0040,A07A)",vr:"SQ",vm:"1",name:"ParticipantSequence"},"(0040,A07C)":{tag:"(0040,A07C)",vr:"SQ",vm:"1",name:"CustodialOrganizationSequence"},"(0040,A080)":{tag:"(0040,A080)",vr:"CS",vm:"1",name:"ParticipationType"},"(0040,A082)":{tag:"(0040,A082)",vr:"DT",vm:"1",name:"ParticipationDateTime"},"(0040,A084)":{tag:"(0040,A084)",vr:"CS",vm:"1",name:"ObserverType"},"(0040,A085)":{tag:"(0040,A085)",vr:"SQ",vm:"1",name:"ProcedureIdentifierCodeSequenceTrial"},"(0040,A088)":{tag:"(0040,A088)",vr:"SQ",vm:"1",name:"VerifyingObserverIdentificationCodeSequence"},"(0040,A089)":{tag:"(0040,A089)",vr:"OB",vm:"1",name:"ObjectDirectoryBinaryIdentifierTrial"},"(0040,A090)":{tag:"(0040,A090)",vr:"SQ",vm:"1",name:"EquivalentCDADocumentSequence"},"(0040,A0B0)":{tag:"(0040,A0B0)",vr:"US",vm:"2-2n",name:"ReferencedWaveformChannels"},"(0040,A110)":{tag:"(0040,A110)",vr:"DA",vm:"1",name:"DateOfDocumentOrVerbalTransactionTrial"},"(0040,A112)":{tag:"(0040,A112)",vr:"TM",vm:"1",name:"TimeOfDocumentCreationOrVerbalTransactionTrial"},"(0040,A120)":{tag:"(0040,A120)",vr:"DT",vm:"1",name:"DateTime"},"(0040,A121)":{tag:"(0040,A121)",vr:"DA",vm:"1",name:"Date"},"(0040,A122)":{tag:"(0040,A122)",vr:"TM",vm:"1",name:"Time"},"(0040,A123)":{tag:"(0040,A123)",vr:"PN",vm:"1",name:"PersonName"},"(0040,A124)":{tag:"(0040,A124)",vr:"UI",vm:"1",name:"UID"},"(0040,A125)":{tag:"(0040,A125)",vr:"CS",vm:"2",name:"ReportStatusIDTrial"},"(0040,A130)":{tag:"(0040,A130)",vr:"CS",vm:"1",name:"TemporalRangeType"},"(0040,A132)":{tag:"(0040,A132)",vr:"UL",vm:"1-n",name:"ReferencedSamplePositions"},"(0040,A136)":{tag:"(0040,A136)",vr:"US",vm:"1-n",name:"ReferencedFrameNumbers"},"(0040,A138)":{tag:"(0040,A138)",vr:"DS",vm:"1-n",name:"ReferencedTimeOffsets"},"(0040,A13A)":{tag:"(0040,A13A)",vr:"DT",vm:"1-n",name:"ReferencedDateTime"},"(0040,A160)":{tag:"(0040,A160)",vr:"UT",vm:"1",name:"TextValue"},"(0040,A161)":{tag:"(0040,A161)",vr:"FD",vm:"1-n",name:"FloatingPointValue"},"(0040,A162)":{tag:"(0040,A162)",vr:"SL",vm:"1-n",name:"RationalNumeratorValue"},"(0040,A163)":{tag:"(0040,A163)",vr:"UL",vm:"1-n",name:"RationalDenominatorValue"},"(0040,A167)":{tag:"(0040,A167)",vr:"SQ",vm:"1",name:"ObservationCategoryCodeSequenceTrial"},"(0040,A168)":{tag:"(0040,A168)",vr:"SQ",vm:"1",name:"ConceptCodeSequence"},"(0040,A16A)":{tag:"(0040,A16A)",vr:"ST",vm:"1",name:"BibliographicCitationTrial"},"(0040,A170)":{tag:"(0040,A170)",vr:"SQ",vm:"1",name:"PurposeOfReferenceCodeSequence"},"(0040,A171)":{tag:"(0040,A171)",vr:"UI",vm:"1",name:"ObservationUID"},"(0040,A172)":{tag:"(0040,A172)",vr:"UI",vm:"1",name:"ReferencedObservationUIDTrial"},"(0040,A173)":{tag:"(0040,A173)",vr:"CS",vm:"1",name:"ReferencedObservationClassTrial"},"(0040,A174)":{tag:"(0040,A174)",vr:"CS",vm:"1",name:"ReferencedObjectObservationClassTrial"},"(0040,A180)":{tag:"(0040,A180)",vr:"US",vm:"1",name:"AnnotationGroupNumber"},"(0040,A192)":{tag:"(0040,A192)",vr:"DA",vm:"1",name:"ObservationDateTrial"},"(0040,A193)":{tag:"(0040,A193)",vr:"TM",vm:"1",name:"ObservationTimeTrial"},"(0040,A194)":{tag:"(0040,A194)",vr:"CS",vm:"1",name:"MeasurementAutomationTrial"},"(0040,A195)":{tag:"(0040,A195)",vr:"SQ",vm:"1",name:"ModifierCodeSequence"},"(0040,A224)":{tag:"(0040,A224)",vr:"ST",vm:"1",name:"IdentificationDescriptionTrial"},"(0040,A290)":{tag:"(0040,A290)",vr:"CS",vm:"1",name:"CoordinatesSetGeometricTypeTrial"},"(0040,A296)":{tag:"(0040,A296)",vr:"SQ",vm:"1",name:"AlgorithmCodeSequenceTrial"},"(0040,A297)":{tag:"(0040,A297)",vr:"ST",vm:"1",name:"AlgorithmDescriptionTrial"},"(0040,A29A)":{tag:"(0040,A29A)",vr:"SL",vm:"2-2n",name:"PixelCoordinatesSetTrial"},"(0040,A300)":{tag:"(0040,A300)",vr:"SQ",vm:"1",name:"MeasuredValueSequence"},"(0040,A301)":{tag:"(0040,A301)",vr:"SQ",vm:"1",name:"NumericValueQualifierCodeSequence"},"(0040,A307)":{tag:"(0040,A307)",vr:"PN",vm:"1",name:"CurrentObserverTrial"},"(0040,A30A)":{tag:"(0040,A30A)",vr:"DS",vm:"1-n",name:"NumericValue"},"(0040,A313)":{tag:"(0040,A313)",vr:"SQ",vm:"1",name:"ReferencedAccessionSequenceTrial"},"(0040,A33A)":{tag:"(0040,A33A)",vr:"ST",vm:"1",name:"ReportStatusCommentTrial"},"(0040,A340)":{tag:"(0040,A340)",vr:"SQ",vm:"1",name:"ProcedureContextSequenceTrial"},"(0040,A352)":{tag:"(0040,A352)",vr:"PN",vm:"1",name:"VerbalSourceTrial"},"(0040,A353)":{tag:"(0040,A353)",vr:"ST",vm:"1",name:"AddressTrial"},"(0040,A354)":{tag:"(0040,A354)",vr:"LO",vm:"1",name:"TelephoneNumberTrial"},"(0040,A358)":{tag:"(0040,A358)",vr:"SQ",vm:"1",name:"VerbalSourceIdentifierCodeSequenceTrial"},"(0040,A360)":{tag:"(0040,A360)",vr:"SQ",vm:"1",name:"PredecessorDocumentsSequence"},"(0040,A370)":{tag:"(0040,A370)",vr:"SQ",vm:"1",name:"ReferencedRequestSequence"},"(0040,A372)":{tag:"(0040,A372)",vr:"SQ",vm:"1",name:"PerformedProcedureCodeSequence"},"(0040,A375)":{tag:"(0040,A375)",vr:"SQ",vm:"1",name:"CurrentRequestedProcedureEvidenceSequence"},"(0040,A380)":{tag:"(0040,A380)",vr:"SQ",vm:"1",name:"ReportDetailSequenceTrial"},"(0040,A385)":{tag:"(0040,A385)",vr:"SQ",vm:"1",name:"PertinentOtherEvidenceSequence"},"(0040,A390)":{tag:"(0040,A390)",vr:"SQ",vm:"1",name:"HL7StructuredDocumentReferenceSequence"},"(0040,A402)":{tag:"(0040,A402)",vr:"UI",vm:"1",name:"ObservationSubjectUIDTrial"},"(0040,A403)":{tag:"(0040,A403)",vr:"CS",vm:"1",name:"ObservationSubjectClassTrial"},"(0040,A404)":{tag:"(0040,A404)",vr:"SQ",vm:"1",name:"ObservationSubjectTypeCodeSequenceTrial"},"(0040,A491)":{tag:"(0040,A491)",vr:"CS",vm:"1",name:"CompletionFlag"},"(0040,A492)":{tag:"(0040,A492)",vr:"LO",vm:"1",name:"CompletionFlagDescription"},"(0040,A493)":{tag:"(0040,A493)",vr:"CS",vm:"1",name:"VerificationFlag"},"(0040,A494)":{tag:"(0040,A494)",vr:"CS",vm:"1",name:"ArchiveRequested"},"(0040,A496)":{tag:"(0040,A496)",vr:"CS",vm:"1",name:"PreliminaryFlag"},"(0040,A504)":{tag:"(0040,A504)",vr:"SQ",vm:"1",name:"ContentTemplateSequence"},"(0040,A525)":{tag:"(0040,A525)",vr:"SQ",vm:"1",name:"IdenticalDocumentsSequence"},"(0040,A600)":{tag:"(0040,A600)",vr:"CS",vm:"1",name:"ObservationSubjectContextFlagTrial"},"(0040,A601)":{tag:"(0040,A601)",vr:"CS",vm:"1",name:"ObserverContextFlagTrial"},"(0040,A603)":{tag:"(0040,A603)",vr:"CS",vm:"1",name:"ProcedureContextFlagTrial"},"(0040,A730)":{tag:"(0040,A730)",vr:"SQ",vm:"1",name:"ContentSequence"},"(0040,A731)":{tag:"(0040,A731)",vr:"SQ",vm:"1",name:"RelationshipSequenceTrial"},"(0040,A732)":{tag:"(0040,A732)",vr:"SQ",vm:"1",name:"RelationshipTypeCodeSequenceTrial"},"(0040,A744)":{tag:"(0040,A744)",vr:"SQ",vm:"1",name:"LanguageCodeSequenceTrial"},"(0040,A801)":{tag:"(0040,A801)",vr:"SQ",vm:"1",name:"TabulatedValuesSequence"},"(0040,A802)":{tag:"(0040,A802)",vr:"UL",vm:"1",name:"NumberOfTableRows"},"(0040,A803)":{tag:"(0040,A803)",vr:"UL",vm:"1",name:"NumberOfTableColumns"},"(0040,A804)":{tag:"(0040,A804)",vr:"UL",vm:"1",name:"TableRowNumber"},"(0040,A805)":{tag:"(0040,A805)",vr:"UL",vm:"1",name:"TableColumnNumber"},"(0040,A806)":{tag:"(0040,A806)",vr:"SQ",vm:"1",name:"TableRowDefinitionSequence"},"(0040,A807)":{tag:"(0040,A807)",vr:"SQ",vm:"1",name:"TableColumnDefinitionSequence"},"(0040,A808)":{tag:"(0040,A808)",vr:"SQ",vm:"1",name:"CellValuesSequence"},"(0040,A992)":{tag:"(0040,A992)",vr:"ST",vm:"1",name:"UniformResourceLocatorTrial"},"(0040,B020)":{tag:"(0040,B020)",vr:"SQ",vm:"1",name:"WaveformAnnotationSequence"},"(0040,DB00)":{tag:"(0040,DB00)",vr:"CS",vm:"1",name:"TemplateIdentifier"},"(0040,DB06)":{tag:"(0040,DB06)",vr:"DT",vm:"1",name:"TemplateVersion"},"(0040,DB07)":{tag:"(0040,DB07)",vr:"DT",vm:"1",name:"TemplateLocalVersion"},"(0040,DB0B)":{tag:"(0040,DB0B)",vr:"CS",vm:"1",name:"TemplateExtensionFlag"},"(0040,DB0C)":{tag:"(0040,DB0C)",vr:"UI",vm:"1",name:"TemplateExtensionOrganizationUID"},"(0040,DB0D)":{tag:"(0040,DB0D)",vr:"UI",vm:"1",name:"TemplateExtensionCreatorUID"},"(0040,DB73)":{tag:"(0040,DB73)",vr:"UL",vm:"1-n",name:"ReferencedContentItemIdentifier"},"(0040,E001)":{tag:"(0040,E001)",vr:"ST",vm:"1",name:"HL7InstanceIdentifier"},"(0040,E004)":{tag:"(0040,E004)",vr:"DT",vm:"1",name:"HL7DocumentEffectiveTime"},"(0040,E006)":{tag:"(0040,E006)",vr:"SQ",vm:"1",name:"HL7DocumentTypeCodeSequence"},"(0040,E008)":{tag:"(0040,E008)",vr:"SQ",vm:"1",name:"DocumentClassCodeSequence"},"(0040,E010)":{tag:"(0040,E010)",vr:"UR",vm:"1",name:"RetrieveURI"},"(0040,E011)":{tag:"(0040,E011)",vr:"UI",vm:"1",name:"RetrieveLocationUID"},"(0040,E020)":{tag:"(0040,E020)",vr:"CS",vm:"1",name:"TypeOfInstances"},"(0040,E021)":{tag:"(0040,E021)",vr:"SQ",vm:"1",name:"DICOMRetrievalSequence"},"(0040,E022)":{tag:"(0040,E022)",vr:"SQ",vm:"1",name:"DICOMMediaRetrievalSequence"},"(0040,E023)":{tag:"(0040,E023)",vr:"SQ",vm:"1",name:"WADORetrievalSequence"},"(0040,E024)":{tag:"(0040,E024)",vr:"SQ",vm:"1",name:"XDSRetrievalSequence"},"(0040,E025)":{tag:"(0040,E025)",vr:"SQ",vm:"1",name:"WADORSRetrievalSequence"},"(0040,E030)":{tag:"(0040,E030)",vr:"UI",vm:"1",name:"RepositoryUniqueID"},"(0040,E031)":{tag:"(0040,E031)",vr:"UI",vm:"1",name:"HomeCommunityID"},"(0042,0010)":{tag:"(0042,0010)",vr:"ST",vm:"1",name:"DocumentTitle"},"(0042,0011)":{tag:"(0042,0011)",vr:"OB",vm:"1",name:"EncapsulatedDocument"},"(0042,0012)":{tag:"(0042,0012)",vr:"LO",vm:"1",name:"MIMETypeOfEncapsulatedDocument"},"(0042,0013)":{tag:"(0042,0013)",vr:"SQ",vm:"1",name:"SourceInstanceSequence"},"(0042,0014)":{tag:"(0042,0014)",vr:"LO",vm:"1-n",name:"ListOfMIMETypes"},"(0042,0015)":{tag:"(0042,0015)",vr:"UL",vm:"1",name:"EncapsulatedDocumentLength"},"(0044,0001)":{tag:"(0044,0001)",vr:"ST",vm:"1",name:"ProductPackageIdentifier"},"(0044,0002)":{tag:"(0044,0002)",vr:"CS",vm:"1",name:"SubstanceAdministrationApproval"},"(0044,0003)":{tag:"(0044,0003)",vr:"LT",vm:"1",name:"ApprovalStatusFurtherDescription"},"(0044,0004)":{tag:"(0044,0004)",vr:"DT",vm:"1",name:"ApprovalStatusDateTime"},"(0044,0007)":{tag:"(0044,0007)",vr:"SQ",vm:"1",name:"ProductTypeCodeSequence"},"(0044,0008)":{tag:"(0044,0008)",vr:"LO",vm:"1-n",name:"ProductName"},"(0044,0009)":{tag:"(0044,0009)",vr:"LT",vm:"1",name:"ProductDescription"},"(0044,000A)":{tag:"(0044,000A)",vr:"LO",vm:"1",name:"ProductLotIdentifier"},"(0044,000B)":{tag:"(0044,000B)",vr:"DT",vm:"1",name:"ProductExpirationDateTime"},"(0044,0010)":{tag:"(0044,0010)",vr:"DT",vm:"1",name:"SubstanceAdministrationDateTime"},"(0044,0011)":{tag:"(0044,0011)",vr:"LO",vm:"1",name:"SubstanceAdministrationNotes"},"(0044,0012)":{tag:"(0044,0012)",vr:"LO",vm:"1",name:"SubstanceAdministrationDeviceID"},"(0044,0013)":{tag:"(0044,0013)",vr:"SQ",vm:"1",name:"ProductParameterSequence"},"(0044,0019)":{tag:"(0044,0019)",vr:"SQ",vm:"1",name:"SubstanceAdministrationParameterSequence"},"(0044,0100)":{tag:"(0044,0100)",vr:"SQ",vm:"1",name:"ApprovalSequence"},"(0044,0101)":{tag:"(0044,0101)",vr:"SQ",vm:"1",name:"AssertionCodeSequence"},"(0044,0102)":{tag:"(0044,0102)",vr:"UI",vm:"1",name:"AssertionUID"},"(0044,0103)":{tag:"(0044,0103)",vr:"SQ",vm:"1",name:"AsserterIdentificationSequence"},"(0044,0104)":{tag:"(0044,0104)",vr:"DT",vm:"1",name:"AssertionDateTime"},"(0044,0105)":{tag:"(0044,0105)",vr:"DT",vm:"1",name:"AssertionExpirationDateTime"},"(0044,0106)":{tag:"(0044,0106)",vr:"UT",vm:"1",name:"AssertionComments"},"(0044,0107)":{tag:"(0044,0107)",vr:"SQ",vm:"1",name:"RelatedAssertionSequence"},"(0044,0108)":{tag:"(0044,0108)",vr:"UI",vm:"1",name:"ReferencedAssertionUID"},"(0044,0109)":{tag:"(0044,0109)",vr:"SQ",vm:"1",name:"ApprovalSubjectSequence"},"(0044,010A)":{tag:"(0044,010A)",vr:"SQ",vm:"1",name:"OrganizationalRoleCodeSequence"},"(0046,0012)":{tag:"(0046,0012)",vr:"LO",vm:"1",name:"LensDescription"},"(0046,0014)":{tag:"(0046,0014)",vr:"SQ",vm:"1",name:"RightLensSequence"},"(0046,0015)":{tag:"(0046,0015)",vr:"SQ",vm:"1",name:"LeftLensSequence"},"(0046,0016)":{tag:"(0046,0016)",vr:"SQ",vm:"1",name:"UnspecifiedLateralityLensSequence"},"(0046,0018)":{tag:"(0046,0018)",vr:"SQ",vm:"1",name:"CylinderSequence"},"(0046,0028)":{tag:"(0046,0028)",vr:"SQ",vm:"1",name:"PrismSequence"},"(0046,0030)":{tag:"(0046,0030)",vr:"FD",vm:"1",name:"HorizontalPrismPower"},"(0046,0032)":{tag:"(0046,0032)",vr:"CS",vm:"1",name:"HorizontalPrismBase"},"(0046,0034)":{tag:"(0046,0034)",vr:"FD",vm:"1",name:"VerticalPrismPower"},"(0046,0036)":{tag:"(0046,0036)",vr:"CS",vm:"1",name:"VerticalPrismBase"},"(0046,0038)":{tag:"(0046,0038)",vr:"CS",vm:"1",name:"LensSegmentType"},"(0046,0040)":{tag:"(0046,0040)",vr:"FD",vm:"1",name:"OpticalTransmittance"},"(0046,0042)":{tag:"(0046,0042)",vr:"FD",vm:"1",name:"ChannelWidth"},"(0046,0044)":{tag:"(0046,0044)",vr:"FD",vm:"1",name:"PupilSize"},"(0046,0046)":{tag:"(0046,0046)",vr:"FD",vm:"1",name:"CornealSize"},"(0046,0047)":{tag:"(0046,0047)",vr:"SQ",vm:"1",name:"CornealSizeSequence"},"(0046,0050)":{tag:"(0046,0050)",vr:"SQ",vm:"1",name:"AutorefractionRightEyeSequence"},"(0046,0052)":{tag:"(0046,0052)",vr:"SQ",vm:"1",name:"AutorefractionLeftEyeSequence"},"(0046,0060)":{tag:"(0046,0060)",vr:"FD",vm:"1",name:"DistancePupillaryDistance"},"(0046,0062)":{tag:"(0046,0062)",vr:"FD",vm:"1",name:"NearPupillaryDistance"},"(0046,0063)":{tag:"(0046,0063)",vr:"FD",vm:"1",name:"IntermediatePupillaryDistance"},"(0046,0064)":{tag:"(0046,0064)",vr:"FD",vm:"1",name:"OtherPupillaryDistance"},"(0046,0070)":{tag:"(0046,0070)",vr:"SQ",vm:"1",name:"KeratometryRightEyeSequence"},"(0046,0071)":{tag:"(0046,0071)",vr:"SQ",vm:"1",name:"KeratometryLeftEyeSequence"},"(0046,0074)":{tag:"(0046,0074)",vr:"SQ",vm:"1",name:"SteepKeratometricAxisSequence"},"(0046,0075)":{tag:"(0046,0075)",vr:"FD",vm:"1",name:"RadiusOfCurvature"},"(0046,0076)":{tag:"(0046,0076)",vr:"FD",vm:"1",name:"KeratometricPower"},"(0046,0077)":{tag:"(0046,0077)",vr:"FD",vm:"1",name:"KeratometricAxis"},"(0046,0080)":{tag:"(0046,0080)",vr:"SQ",vm:"1",name:"FlatKeratometricAxisSequence"},"(0046,0092)":{tag:"(0046,0092)",vr:"CS",vm:"1",name:"BackgroundColor"},"(0046,0094)":{tag:"(0046,0094)",vr:"CS",vm:"1",name:"Optotype"},"(0046,0095)":{tag:"(0046,0095)",vr:"CS",vm:"1",name:"OptotypePresentation"},"(0046,0097)":{tag:"(0046,0097)",vr:"SQ",vm:"1",name:"SubjectiveRefractionRightEyeSequence"},"(0046,0098)":{tag:"(0046,0098)",vr:"SQ",vm:"1",name:"SubjectiveRefractionLeftEyeSequence"},"(0046,0100)":{tag:"(0046,0100)",vr:"SQ",vm:"1",name:"AddNearSequence"},"(0046,0101)":{tag:"(0046,0101)",vr:"SQ",vm:"1",name:"AddIntermediateSequence"},"(0046,0102)":{tag:"(0046,0102)",vr:"SQ",vm:"1",name:"AddOtherSequence"},"(0046,0104)":{tag:"(0046,0104)",vr:"FD",vm:"1",name:"AddPower"},"(0046,0106)":{tag:"(0046,0106)",vr:"FD",vm:"1",name:"ViewingDistance"},"(0046,0110)":{tag:"(0046,0110)",vr:"SQ",vm:"1",name:"CorneaMeasurementsSequence"},"(0046,0111)":{tag:"(0046,0111)",vr:"SQ",vm:"1",name:"SourceOfCorneaMeasurementDataCodeSequence"},"(0046,0112)":{tag:"(0046,0112)",vr:"SQ",vm:"1",name:"SteepCornealAxisSequence"},"(0046,0113)":{tag:"(0046,0113)",vr:"SQ",vm:"1",name:"FlatCornealAxisSequence"},"(0046,0114)":{tag:"(0046,0114)",vr:"FD",vm:"1",name:"CornealPower"},"(0046,0115)":{tag:"(0046,0115)",vr:"FD",vm:"1",name:"CornealAxis"},"(0046,0116)":{tag:"(0046,0116)",vr:"SQ",vm:"1",name:"CorneaMeasurementMethodCodeSequence"},"(0046,0117)":{tag:"(0046,0117)",vr:"FL",vm:"1",name:"RefractiveIndexOfCornea"},"(0046,0118)":{tag:"(0046,0118)",vr:"FL",vm:"1",name:"RefractiveIndexOfAqueousHumor"},"(0046,0121)":{tag:"(0046,0121)",vr:"SQ",vm:"1",name:"VisualAcuityTypeCodeSequence"},"(0046,0122)":{tag:"(0046,0122)",vr:"SQ",vm:"1",name:"VisualAcuityRightEyeSequence"},"(0046,0123)":{tag:"(0046,0123)",vr:"SQ",vm:"1",name:"VisualAcuityLeftEyeSequence"},"(0046,0124)":{tag:"(0046,0124)",vr:"SQ",vm:"1",name:"VisualAcuityBothEyesOpenSequence"},"(0046,0125)":{tag:"(0046,0125)",vr:"CS",vm:"1",name:"ViewingDistanceType"},"(0046,0135)":{tag:"(0046,0135)",vr:"SS",vm:"2",name:"VisualAcuityModifiers"},"(0046,0137)":{tag:"(0046,0137)",vr:"FD",vm:"1",name:"DecimalVisualAcuity"},"(0046,0139)":{tag:"(0046,0139)",vr:"LO",vm:"1",name:"OptotypeDetailedDefinition"},"(0046,0145)":{tag:"(0046,0145)",vr:"SQ",vm:"1",name:"ReferencedRefractiveMeasurementsSequence"},"(0046,0146)":{tag:"(0046,0146)",vr:"FD",vm:"1",name:"SpherePower"},"(0046,0147)":{tag:"(0046,0147)",vr:"FD",vm:"1",name:"CylinderPower"},"(0046,0201)":{tag:"(0046,0201)",vr:"CS",vm:"1",name:"CornealTopographySurface"},"(0046,0202)":{tag:"(0046,0202)",vr:"FL",vm:"2",name:"CornealVertexLocation"},"(0046,0203)":{tag:"(0046,0203)",vr:"FL",vm:"1",name:"PupilCentroidXCoordinate"},"(0046,0204)":{tag:"(0046,0204)",vr:"FL",vm:"1",name:"PupilCentroidYCoordinate"},"(0046,0205)":{tag:"(0046,0205)",vr:"FL",vm:"1",name:"EquivalentPupilRadius"},"(0046,0207)":{tag:"(0046,0207)",vr:"SQ",vm:"1",name:"CornealTopographyMapTypeCodeSequence"},"(0046,0208)":{tag:"(0046,0208)",vr:"IS",vm:"2-2n",name:"VerticesOfTheOutlineOfPupil"},"(0046,0210)":{tag:"(0046,0210)",vr:"SQ",vm:"1",name:"CornealTopographyMappingNormalsSequence"},"(0046,0211)":{tag:"(0046,0211)",vr:"SQ",vm:"1",name:"MaximumCornealCurvatureSequence"},"(0046,0212)":{tag:"(0046,0212)",vr:"FL",vm:"1",name:"MaximumCornealCurvature"},"(0046,0213)":{tag:"(0046,0213)",vr:"FL",vm:"2",name:"MaximumCornealCurvatureLocation"},"(0046,0215)":{tag:"(0046,0215)",vr:"SQ",vm:"1",name:"MinimumKeratometricSequence"},"(0046,0218)":{tag:"(0046,0218)",vr:"SQ",vm:"1",name:"SimulatedKeratometricCylinderSequence"},"(0046,0220)":{tag:"(0046,0220)",vr:"FL",vm:"1",name:"AverageCornealPower"},"(0046,0224)":{tag:"(0046,0224)",vr:"FL",vm:"1",name:"CornealISValue"},"(0046,0227)":{tag:"(0046,0227)",vr:"FL",vm:"1",name:"AnalyzedArea"},"(0046,0230)":{tag:"(0046,0230)",vr:"FL",vm:"1",name:"SurfaceRegularityIndex"},"(0046,0232)":{tag:"(0046,0232)",vr:"FL",vm:"1",name:"SurfaceAsymmetryIndex"},"(0046,0234)":{tag:"(0046,0234)",vr:"FL",vm:"1",name:"CornealEccentricityIndex"},"(0046,0236)":{tag:"(0046,0236)",vr:"FL",vm:"1",name:"KeratoconusPredictionIndex"},"(0046,0238)":{tag:"(0046,0238)",vr:"FL",vm:"1",name:"DecimalPotentialVisualAcuity"},"(0046,0242)":{tag:"(0046,0242)",vr:"CS",vm:"1",name:"CornealTopographyMapQualityEvaluation"},"(0046,0244)":{tag:"(0046,0244)",vr:"SQ",vm:"1",name:"SourceImageCornealProcessedDataSequence"},"(0046,0247)":{tag:"(0046,0247)",vr:"FL",vm:"3",name:"CornealPointLocation"},"(0046,0248)":{tag:"(0046,0248)",vr:"CS",vm:"1",name:"CornealPointEstimated"},"(0046,0249)":{tag:"(0046,0249)",vr:"FL",vm:"1",name:"AxialPower"},"(0046,0250)":{tag:"(0046,0250)",vr:"FL",vm:"1",name:"TangentialPower"},"(0046,0251)":{tag:"(0046,0251)",vr:"FL",vm:"1",name:"RefractivePower"},"(0046,0252)":{tag:"(0046,0252)",vr:"FL",vm:"1",name:"RelativeElevation"},"(0046,0253)":{tag:"(0046,0253)",vr:"FL",vm:"1",name:"CornealWavefront"},"(0048,0001)":{tag:"(0048,0001)",vr:"FL",vm:"1",name:"ImagedVolumeWidth"},"(0048,0002)":{tag:"(0048,0002)",vr:"FL",vm:"1",name:"ImagedVolumeHeight"},"(0048,0003)":{tag:"(0048,0003)",vr:"FL",vm:"1",name:"ImagedVolumeDepth"},"(0048,0006)":{tag:"(0048,0006)",vr:"UL",vm:"1",name:"TotalPixelMatrixColumns"},"(0048,0007)":{tag:"(0048,0007)",vr:"UL",vm:"1",name:"TotalPixelMatrixRows"},"(0048,0008)":{tag:"(0048,0008)",vr:"SQ",vm:"1",name:"TotalPixelMatrixOriginSequence"},"(0048,0010)":{tag:"(0048,0010)",vr:"CS",vm:"1",name:"SpecimenLabelInImage"},"(0048,0011)":{tag:"(0048,0011)",vr:"CS",vm:"1",name:"FocusMethod"},"(0048,0012)":{tag:"(0048,0012)",vr:"CS",vm:"1",name:"ExtendedDepthOfField"},"(0048,0013)":{tag:"(0048,0013)",vr:"US",vm:"1",name:"NumberOfFocalPlanes"},"(0048,0014)":{tag:"(0048,0014)",vr:"FL",vm:"1",name:"DistanceBetweenFocalPlanes"},"(0048,0015)":{tag:"(0048,0015)",vr:"US",vm:"3",name:"RecommendedAbsentPixelCIELabValue"},"(0048,0100)":{tag:"(0048,0100)",vr:"SQ",vm:"1",name:"IlluminatorTypeCodeSequence"},"(0048,0102)":{tag:"(0048,0102)",vr:"DS",vm:"6",name:"ImageOrientationSlide"},"(0048,0105)":{tag:"(0048,0105)",vr:"SQ",vm:"1",name:"OpticalPathSequence"},"(0048,0106)":{tag:"(0048,0106)",vr:"SH",vm:"1",name:"OpticalPathIdentifier"},"(0048,0107)":{tag:"(0048,0107)",vr:"ST",vm:"1",name:"OpticalPathDescription"},"(0048,0108)":{tag:"(0048,0108)",vr:"SQ",vm:"1",name:"IlluminationColorCodeSequence"},"(0048,0110)":{tag:"(0048,0110)",vr:"SQ",vm:"1",name:"SpecimenReferenceSequence"},"(0048,0111)":{tag:"(0048,0111)",vr:"DS",vm:"1",name:"CondenserLensPower"},"(0048,0112)":{tag:"(0048,0112)",vr:"DS",vm:"1",name:"ObjectiveLensPower"},"(0048,0113)":{tag:"(0048,0113)",vr:"DS",vm:"1",name:"ObjectiveLensNumericalAperture"},"(0048,0120)":{tag:"(0048,0120)",vr:"SQ",vm:"1",name:"PaletteColorLookupTableSequence"},"(0048,0200)":{tag:"(0048,0200)",vr:"SQ",vm:"1",name:"ReferencedImageNavigationSequence"},"(0048,0201)":{tag:"(0048,0201)",vr:"US",vm:"2",name:"TopLeftHandCornerOfLocalizerArea"},"(0048,0202)":{tag:"(0048,0202)",vr:"US",vm:"2",name:"BottomRightHandCornerOfLocalizerArea"},"(0048,0207)":{tag:"(0048,0207)",vr:"SQ",vm:"1",name:"OpticalPathIdentificationSequence"},"(0048,021A)":{tag:"(0048,021A)",vr:"SQ",vm:"1",name:"PlanePositionSlideSequence"},"(0048,021E)":{tag:"(0048,021E)",vr:"SL",vm:"1",name:"ColumnPositionInTotalImagePixelMatrix"},"(0048,021F)":{tag:"(0048,021F)",vr:"SL",vm:"1",name:"RowPositionInTotalImagePixelMatrix"},"(0048,0301)":{tag:"(0048,0301)",vr:"CS",vm:"1",name:"PixelOriginInterpretation"},"(0048,0302)":{tag:"(0048,0302)",vr:"UL",vm:"1",name:"NumberOfOpticalPaths"},"(0048,0303)":{tag:"(0048,0303)",vr:"UL",vm:"1",name:"TotalPixelMatrixFocalPlanes"},"(0050,0004)":{tag:"(0050,0004)",vr:"CS",vm:"1",name:"CalibrationImage"},"(0050,0010)":{tag:"(0050,0010)",vr:"SQ",vm:"1",name:"DeviceSequence"},"(0050,0012)":{tag:"(0050,0012)",vr:"SQ",vm:"1",name:"ContainerComponentTypeCodeSequence"},"(0050,0013)":{tag:"(0050,0013)",vr:"FD",vm:"1",name:"ContainerComponentThickness"},"(0050,0014)":{tag:"(0050,0014)",vr:"DS",vm:"1",name:"DeviceLength"},"(0050,0015)":{tag:"(0050,0015)",vr:"FD",vm:"1",name:"ContainerComponentWidth"},"(0050,0016)":{tag:"(0050,0016)",vr:"DS",vm:"1",name:"DeviceDiameter"},"(0050,0017)":{tag:"(0050,0017)",vr:"CS",vm:"1",name:"DeviceDiameterUnits"},"(0050,0018)":{tag:"(0050,0018)",vr:"DS",vm:"1",name:"DeviceVolume"},"(0050,0019)":{tag:"(0050,0019)",vr:"DS",vm:"1",name:"InterMarkerDistance"},"(0050,001A)":{tag:"(0050,001A)",vr:"CS",vm:"1",name:"ContainerComponentMaterial"},"(0050,001B)":{tag:"(0050,001B)",vr:"LO",vm:"1",name:"ContainerComponentID"},"(0050,001C)":{tag:"(0050,001C)",vr:"FD",vm:"1",name:"ContainerComponentLength"},"(0050,001D)":{tag:"(0050,001D)",vr:"FD",vm:"1",name:"ContainerComponentDiameter"},"(0050,001E)":{tag:"(0050,001E)",vr:"LO",vm:"1",name:"ContainerComponentDescription"},"(0050,0020)":{tag:"(0050,0020)",vr:"LO",vm:"1",name:"DeviceDescription"},"(0050,0021)":{tag:"(0050,0021)",vr:"ST",vm:"1",name:"LongDeviceDescription"},"(0052,0001)":{tag:"(0052,0001)",vr:"FL",vm:"1",name:"ContrastBolusIngredientPercentByVolume"},"(0052,0002)":{tag:"(0052,0002)",vr:"FD",vm:"1",name:"OCTFocalDistance"},"(0052,0003)":{tag:"(0052,0003)",vr:"FD",vm:"1",name:"BeamSpotSize"},"(0052,0004)":{tag:"(0052,0004)",vr:"FD",vm:"1",name:"EffectiveRefractiveIndex"},"(0052,0006)":{tag:"(0052,0006)",vr:"CS",vm:"1",name:"OCTAcquisitionDomain"},"(0052,0007)":{tag:"(0052,0007)",vr:"FD",vm:"1",name:"OCTOpticalCenterWavelength"},"(0052,0008)":{tag:"(0052,0008)",vr:"FD",vm:"1",name:"AxialResolution"},"(0052,0009)":{tag:"(0052,0009)",vr:"FD",vm:"1",name:"RangingDepth"},"(0052,0011)":{tag:"(0052,0011)",vr:"FD",vm:"1",name:"ALineRate"},"(0052,0012)":{tag:"(0052,0012)",vr:"US",vm:"1",name:"ALinesPerFrame"},"(0052,0013)":{tag:"(0052,0013)",vr:"FD",vm:"1",name:"CatheterRotationalRate"},"(0052,0014)":{tag:"(0052,0014)",vr:"FD",vm:"1",name:"ALinePixelSpacing"},"(0052,0016)":{tag:"(0052,0016)",vr:"SQ",vm:"1",name:"ModeOfPercutaneousAccessSequence"},"(0052,0025)":{tag:"(0052,0025)",vr:"SQ",vm:"1",name:"IntravascularOCTFrameTypeSequence"},"(0052,0026)":{tag:"(0052,0026)",vr:"CS",vm:"1",name:"OCTZOffsetApplied"},"(0052,0027)":{tag:"(0052,0027)",vr:"SQ",vm:"1",name:"IntravascularFrameContentSequence"},"(0052,0028)":{tag:"(0052,0028)",vr:"FD",vm:"1",name:"IntravascularLongitudinalDistance"},"(0052,0029)":{tag:"(0052,0029)",vr:"SQ",vm:"1",name:"IntravascularOCTFrameContentSequence"},"(0052,0030)":{tag:"(0052,0030)",vr:"SS",vm:"1",name:"OCTZOffsetCorrection"},"(0052,0031)":{tag:"(0052,0031)",vr:"CS",vm:"1",name:"CatheterDirectionOfRotation"},"(0052,0033)":{tag:"(0052,0033)",vr:"FD",vm:"1",name:"SeamLineLocation"},"(0052,0034)":{tag:"(0052,0034)",vr:"FD",vm:"1",name:"FirstALineLocation"},"(0052,0036)":{tag:"(0052,0036)",vr:"US",vm:"1",name:"SeamLineIndex"},"(0052,0038)":{tag:"(0052,0038)",vr:"US",vm:"1",name:"NumberOfPaddedALines"},"(0052,0039)":{tag:"(0052,0039)",vr:"CS",vm:"1",name:"InterpolationType"},"(0052,003A)":{tag:"(0052,003A)",vr:"CS",vm:"1",name:"RefractiveIndexApplied"},"(0054,0010)":{tag:"(0054,0010)",vr:"US",vm:"1-n",name:"EnergyWindowVector"},"(0054,0011)":{tag:"(0054,0011)",vr:"US",vm:"1",name:"NumberOfEnergyWindows"},"(0054,0012)":{tag:"(0054,0012)",vr:"SQ",vm:"1",name:"EnergyWindowInformationSequence"},"(0054,0013)":{tag:"(0054,0013)",vr:"SQ",vm:"1",name:"EnergyWindowRangeSequence"},"(0054,0014)":{tag:"(0054,0014)",vr:"DS",vm:"1",name:"EnergyWindowLowerLimit"},"(0054,0015)":{tag:"(0054,0015)",vr:"DS",vm:"1",name:"EnergyWindowUpperLimit"},"(0054,0016)":{tag:"(0054,0016)",vr:"SQ",vm:"1",name:"RadiopharmaceuticalInformationSequence"},"(0054,0017)":{tag:"(0054,0017)",vr:"IS",vm:"1",name:"ResidualSyringeCounts"},"(0054,0018)":{tag:"(0054,0018)",vr:"SH",vm:"1",name:"EnergyWindowName"},"(0054,0020)":{tag:"(0054,0020)",vr:"US",vm:"1-n",name:"DetectorVector"},"(0054,0021)":{tag:"(0054,0021)",vr:"US",vm:"1",name:"NumberOfDetectors"},"(0054,0022)":{tag:"(0054,0022)",vr:"SQ",vm:"1",name:"DetectorInformationSequence"},"(0054,0030)":{tag:"(0054,0030)",vr:"US",vm:"1-n",name:"PhaseVector"},"(0054,0031)":{tag:"(0054,0031)",vr:"US",vm:"1",name:"NumberOfPhases"},"(0054,0032)":{tag:"(0054,0032)",vr:"SQ",vm:"1",name:"PhaseInformationSequence"},"(0054,0033)":{tag:"(0054,0033)",vr:"US",vm:"1",name:"NumberOfFramesInPhase"},"(0054,0036)":{tag:"(0054,0036)",vr:"IS",vm:"1",name:"PhaseDelay"},"(0054,0038)":{tag:"(0054,0038)",vr:"IS",vm:"1",name:"PauseBetweenFrames"},"(0054,0039)":{tag:"(0054,0039)",vr:"CS",vm:"1",name:"PhaseDescription"},"(0054,0050)":{tag:"(0054,0050)",vr:"US",vm:"1-n",name:"RotationVector"},"(0054,0051)":{tag:"(0054,0051)",vr:"US",vm:"1",name:"NumberOfRotations"},"(0054,0052)":{tag:"(0054,0052)",vr:"SQ",vm:"1",name:"RotationInformationSequence"},"(0054,0053)":{tag:"(0054,0053)",vr:"US",vm:"1",name:"NumberOfFramesInRotation"},"(0054,0060)":{tag:"(0054,0060)",vr:"US",vm:"1-n",name:"RRIntervalVector"},"(0054,0061)":{tag:"(0054,0061)",vr:"US",vm:"1",name:"NumberOfRRIntervals"},"(0054,0062)":{tag:"(0054,0062)",vr:"SQ",vm:"1",name:"GatedInformationSequence"},"(0054,0063)":{tag:"(0054,0063)",vr:"SQ",vm:"1",name:"DataInformationSequence"},"(0054,0070)":{tag:"(0054,0070)",vr:"US",vm:"1-n",name:"TimeSlotVector"},"(0054,0071)":{tag:"(0054,0071)",vr:"US",vm:"1",name:"NumberOfTimeSlots"},"(0054,0072)":{tag:"(0054,0072)",vr:"SQ",vm:"1",name:"TimeSlotInformationSequence"},"(0054,0073)":{tag:"(0054,0073)",vr:"DS",vm:"1",name:"TimeSlotTime"},"(0054,0080)":{tag:"(0054,0080)",vr:"US",vm:"1-n",name:"SliceVector"},"(0054,0081)":{tag:"(0054,0081)",vr:"US",vm:"1",name:"NumberOfSlices"},"(0054,0090)":{tag:"(0054,0090)",vr:"US",vm:"1-n",name:"AngularViewVector"},"(0054,0100)":{tag:"(0054,0100)",vr:"US",vm:"1-n",name:"TimeSliceVector"},"(0054,0101)":{tag:"(0054,0101)",vr:"US",vm:"1",name:"NumberOfTimeSlices"},"(0054,0200)":{tag:"(0054,0200)",vr:"DS",vm:"1",name:"StartAngle"},"(0054,0202)":{tag:"(0054,0202)",vr:"CS",vm:"1",name:"TypeOfDetectorMotion"},"(0054,0210)":{tag:"(0054,0210)",vr:"IS",vm:"1-n",name:"TriggerVector"},"(0054,0211)":{tag:"(0054,0211)",vr:"US",vm:"1",name:"NumberOfTriggersInPhase"},"(0054,0220)":{tag:"(0054,0220)",vr:"SQ",vm:"1",name:"ViewCodeSequence"},"(0054,0222)":{tag:"(0054,0222)",vr:"SQ",vm:"1",name:"ViewModifierCodeSequence"},"(0054,0300)":{tag:"(0054,0300)",vr:"SQ",vm:"1",name:"RadionuclideCodeSequence"},"(0054,0302)":{tag:"(0054,0302)",vr:"SQ",vm:"1",name:"AdministrationRouteCodeSequence"},"(0054,0304)":{tag:"(0054,0304)",vr:"SQ",vm:"1",name:"RadiopharmaceuticalCodeSequence"},"(0054,0306)":{tag:"(0054,0306)",vr:"SQ",vm:"1",name:"CalibrationDataSequence"},"(0054,0308)":{tag:"(0054,0308)",vr:"US",vm:"1",name:"EnergyWindowNumber"},"(0054,0400)":{tag:"(0054,0400)",vr:"SH",vm:"1",name:"ImageID"},"(0054,0410)":{tag:"(0054,0410)",vr:"SQ",vm:"1",name:"PatientOrientationCodeSequence"},"(0054,0412)":{tag:"(0054,0412)",vr:"SQ",vm:"1",name:"PatientOrientationModifierCodeSequence"},"(0054,0414)":{tag:"(0054,0414)",vr:"SQ",vm:"1",name:"PatientGantryRelationshipCodeSequence"},"(0054,0500)":{tag:"(0054,0500)",vr:"CS",vm:"1",name:"SliceProgressionDirection"},"(0054,0501)":{tag:"(0054,0501)",vr:"CS",vm:"1",name:"ScanProgressionDirection"},"(0054,1000)":{tag:"(0054,1000)",vr:"CS",vm:"2",name:"SeriesType"},"(0054,1001)":{tag:"(0054,1001)",vr:"CS",vm:"1",name:"Units"},"(0054,1002)":{tag:"(0054,1002)",vr:"CS",vm:"1",name:"CountsSource"},"(0054,1004)":{tag:"(0054,1004)",vr:"CS",vm:"1",name:"ReprojectionMethod"},"(0054,1006)":{tag:"(0054,1006)",vr:"CS",vm:"1",name:"SUVType"},"(0054,1100)":{tag:"(0054,1100)",vr:"CS",vm:"1",name:"RandomsCorrectionMethod"},"(0054,1101)":{tag:"(0054,1101)",vr:"LO",vm:"1",name:"AttenuationCorrectionMethod"},"(0054,1102)":{tag:"(0054,1102)",vr:"CS",vm:"1",name:"DecayCorrection"},"(0054,1103)":{tag:"(0054,1103)",vr:"LO",vm:"1",name:"ReconstructionMethod"},"(0054,1104)":{tag:"(0054,1104)",vr:"LO",vm:"1",name:"DetectorLinesOfResponseUsed"},"(0054,1105)":{tag:"(0054,1105)",vr:"LO",vm:"1",name:"ScatterCorrectionMethod"},"(0054,1200)":{tag:"(0054,1200)",vr:"DS",vm:"1",name:"AxialAcceptance"},"(0054,1201)":{tag:"(0054,1201)",vr:"IS",vm:"2",name:"AxialMash"},"(0054,1202)":{tag:"(0054,1202)",vr:"IS",vm:"1",name:"TransverseMash"},"(0054,1203)":{tag:"(0054,1203)",vr:"DS",vm:"2",name:"DetectorElementSize"},"(0054,1210)":{tag:"(0054,1210)",vr:"DS",vm:"1",name:"CoincidenceWindowWidth"},"(0054,1220)":{tag:"(0054,1220)",vr:"CS",vm:"1-n",name:"SecondaryCountsType"},"(0054,1300)":{tag:"(0054,1300)",vr:"DS",vm:"1",name:"FrameReferenceTime"},"(0054,1310)":{tag:"(0054,1310)",vr:"IS",vm:"1",name:"PrimaryPromptsCountsAccumulated"},"(0054,1311)":{tag:"(0054,1311)",vr:"IS",vm:"1-n",name:"SecondaryCountsAccumulated"},"(0054,1320)":{tag:"(0054,1320)",vr:"DS",vm:"1",name:"SliceSensitivityFactor"},"(0054,1321)":{tag:"(0054,1321)",vr:"DS",vm:"1",name:"DecayFactor"},"(0054,1322)":{tag:"(0054,1322)",vr:"DS",vm:"1",name:"DoseCalibrationFactor"},"(0054,1323)":{tag:"(0054,1323)",vr:"DS",vm:"1",name:"ScatterFractionFactor"},"(0054,1324)":{tag:"(0054,1324)",vr:"DS",vm:"1",name:"DeadTimeFactor"},"(0054,1330)":{tag:"(0054,1330)",vr:"US",vm:"1",name:"ImageIndex"},"(0054,1400)":{tag:"(0054,1400)",vr:"CS",vm:"1-n",name:"CountsIncluded"},"(0054,1401)":{tag:"(0054,1401)",vr:"CS",vm:"1",name:"DeadTimeCorrectionFlag"},"(0060,3000)":{tag:"(0060,3000)",vr:"SQ",vm:"1",name:"HistogramSequence"},"(0060,3002)":{tag:"(0060,3002)",vr:"US",vm:"1",name:"HistogramNumberOfBins"},"(0060,3004)":{tag:"(0060,3004)",vr:"US|SS",vm:"1",name:"HistogramFirstBinValue"},"(0060,3006)":{tag:"(0060,3006)",vr:"US|SS",vm:"1",name:"HistogramLastBinValue"},"(0060,3008)":{tag:"(0060,3008)",vr:"US",vm:"1",name:"HistogramBinWidth"},"(0060,3010)":{tag:"(0060,3010)",vr:"LO",vm:"1",name:"HistogramExplanation"},"(0060,3020)":{tag:"(0060,3020)",vr:"UL",vm:"1-n",name:"HistogramData"},"(0062,0001)":{tag:"(0062,0001)",vr:"CS",vm:"1",name:"SegmentationType"},"(0062,0002)":{tag:"(0062,0002)",vr:"SQ",vm:"1",name:"SegmentSequence"},"(0062,0003)":{tag:"(0062,0003)",vr:"SQ",vm:"1",name:"SegmentedPropertyCategoryCodeSequence"},"(0062,0004)":{tag:"(0062,0004)",vr:"US",vm:"1",name:"SegmentNumber"},"(0062,0005)":{tag:"(0062,0005)",vr:"LO",vm:"1",name:"SegmentLabel"},"(0062,0006)":{tag:"(0062,0006)",vr:"ST",vm:"1",name:"SegmentDescription"},"(0062,0007)":{tag:"(0062,0007)",vr:"SQ",vm:"1",name:"SegmentationAlgorithmIdentificationSequence"},"(0062,0008)":{tag:"(0062,0008)",vr:"CS",vm:"1",name:"SegmentAlgorithmType"},"(0062,0009)":{tag:"(0062,0009)",vr:"LO",vm:"1-n",name:"SegmentAlgorithmName"},"(0062,000A)":{tag:"(0062,000A)",vr:"SQ",vm:"1",name:"SegmentIdentificationSequence"},"(0062,000B)":{tag:"(0062,000B)",vr:"US",vm:"1-n",name:"ReferencedSegmentNumber"},"(0062,000C)":{tag:"(0062,000C)",vr:"US",vm:"1",name:"RecommendedDisplayGrayscaleValue"},"(0062,000D)":{tag:"(0062,000D)",vr:"US",vm:"3",name:"RecommendedDisplayCIELabValue"},"(0062,000E)":{tag:"(0062,000E)",vr:"US",vm:"1",name:"MaximumFractionalValue"},"(0062,000F)":{tag:"(0062,000F)",vr:"SQ",vm:"1",name:"SegmentedPropertyTypeCodeSequence"},"(0062,0010)":{tag:"(0062,0010)",vr:"CS",vm:"1",name:"SegmentationFractionalType"},"(0062,0011)":{tag:"(0062,0011)",vr:"SQ",vm:"1",name:"SegmentedPropertyTypeModifierCodeSequence"},"(0062,0012)":{tag:"(0062,0012)",vr:"SQ",vm:"1",name:"UsedSegmentsSequence"},"(0062,0013)":{tag:"(0062,0013)",vr:"CS",vm:"1",name:"SegmentsOverlap"},"(0062,0020)":{tag:"(0062,0020)",vr:"UT",vm:"1",name:"TrackingID"},"(0062,0021)":{tag:"(0062,0021)",vr:"UI",vm:"1",name:"TrackingUID"},"(0064,0002)":{tag:"(0064,0002)",vr:"SQ",vm:"1",name:"DeformableRegistrationSequence"},"(0064,0003)":{tag:"(0064,0003)",vr:"UI",vm:"1",name:"SourceFrameOfReferenceUID"},"(0064,0005)":{tag:"(0064,0005)",vr:"SQ",vm:"1",name:"DeformableRegistrationGridSequence"},"(0064,0007)":{tag:"(0064,0007)",vr:"UL",vm:"3",name:"GridDimensions"},"(0064,0008)":{tag:"(0064,0008)",vr:"FD",vm:"3",name:"GridResolution"},"(0064,0009)":{tag:"(0064,0009)",vr:"OF",vm:"1",name:"VectorGridData"},"(0064,000F)":{tag:"(0064,000F)",vr:"SQ",vm:"1",name:"PreDeformationMatrixRegistrationSequence"},"(0064,0010)":{tag:"(0064,0010)",vr:"SQ",vm:"1",name:"PostDeformationMatrixRegistrationSequence"},"(0066,0001)":{tag:"(0066,0001)",vr:"UL",vm:"1",name:"NumberOfSurfaces"},"(0066,0002)":{tag:"(0066,0002)",vr:"SQ",vm:"1",name:"SurfaceSequence"},"(0066,0003)":{tag:"(0066,0003)",vr:"UL",vm:"1",name:"SurfaceNumber"},"(0066,0004)":{tag:"(0066,0004)",vr:"LT",vm:"1",name:"SurfaceComments"},"(0066,0009)":{tag:"(0066,0009)",vr:"CS",vm:"1",name:"SurfaceProcessing"},"(0066,000A)":{tag:"(0066,000A)",vr:"FL",vm:"1",name:"SurfaceProcessingRatio"},"(0066,000B)":{tag:"(0066,000B)",vr:"LO",vm:"1",name:"SurfaceProcessingDescription"},"(0066,000C)":{tag:"(0066,000C)",vr:"FL",vm:"1",name:"RecommendedPresentationOpacity"},"(0066,000D)":{tag:"(0066,000D)",vr:"CS",vm:"1",name:"RecommendedPresentationType"},"(0066,000E)":{tag:"(0066,000E)",vr:"CS",vm:"1",name:"FiniteVolume"},"(0066,0010)":{tag:"(0066,0010)",vr:"CS",vm:"1",name:"Manifold"},"(0066,0011)":{tag:"(0066,0011)",vr:"SQ",vm:"1",name:"SurfacePointsSequence"},"(0066,0012)":{tag:"(0066,0012)",vr:"SQ",vm:"1",name:"SurfacePointsNormalsSequence"},"(0066,0013)":{tag:"(0066,0013)",vr:"SQ",vm:"1",name:"SurfaceMeshPrimitivesSequence"},"(0066,0015)":{tag:"(0066,0015)",vr:"UL",vm:"1",name:"NumberOfSurfacePoints"},"(0066,0016)":{tag:"(0066,0016)",vr:"OF",vm:"1",name:"PointCoordinatesData"},"(0066,0017)":{tag:"(0066,0017)",vr:"FL",vm:"3",name:"PointPositionAccuracy"},"(0066,0018)":{tag:"(0066,0018)",vr:"FL",vm:"1",name:"MeanPointDistance"},"(0066,0019)":{tag:"(0066,0019)",vr:"FL",vm:"1",name:"MaximumPointDistance"},"(0066,001A)":{tag:"(0066,001A)",vr:"FL",vm:"6",name:"PointsBoundingBoxCoordinates"},"(0066,001B)":{tag:"(0066,001B)",vr:"FL",vm:"3",name:"AxisOfRotation"},"(0066,001C)":{tag:"(0066,001C)",vr:"FL",vm:"3",name:"CenterOfRotation"},"(0066,001E)":{tag:"(0066,001E)",vr:"UL",vm:"1",name:"NumberOfVectors"},"(0066,001F)":{tag:"(0066,001F)",vr:"US",vm:"1",name:"VectorDimensionality"},"(0066,0020)":{tag:"(0066,0020)",vr:"FL",vm:"1-n",name:"VectorAccuracy"},"(0066,0021)":{tag:"(0066,0021)",vr:"OF",vm:"1",name:"VectorCoordinateData"},"(0066,0022)":{tag:"(0066,0022)",vr:"OD",vm:"1",name:"DoublePointCoordinatesData"},"(0066,0023)":{tag:"(0066,0023)",vr:"OW",vm:"1",name:"TrianglePointIndexList"},"(0066,0024)":{tag:"(0066,0024)",vr:"OW",vm:"1",name:"EdgePointIndexList"},"(0066,0025)":{tag:"(0066,0025)",vr:"OW",vm:"1",name:"VertexPointIndexList"},"(0066,0026)":{tag:"(0066,0026)",vr:"SQ",vm:"1",name:"TriangleStripSequence"},"(0066,0027)":{tag:"(0066,0027)",vr:"SQ",vm:"1",name:"TriangleFanSequence"},"(0066,0028)":{tag:"(0066,0028)",vr:"SQ",vm:"1",name:"LineSequence"},"(0066,0029)":{tag:"(0066,0029)",vr:"OW",vm:"1",name:"PrimitivePointIndexList"},"(0066,002A)":{tag:"(0066,002A)",vr:"UL",vm:"1",name:"SurfaceCount"},"(0066,002B)":{tag:"(0066,002B)",vr:"SQ",vm:"1",name:"ReferencedSurfaceSequence"},"(0066,002C)":{tag:"(0066,002C)",vr:"UL",vm:"1",name:"ReferencedSurfaceNumber"},"(0066,002D)":{tag:"(0066,002D)",vr:"SQ",vm:"1",name:"SegmentSurfaceGenerationAlgorithmIdentificationSequence"},"(0066,002E)":{tag:"(0066,002E)",vr:"SQ",vm:"1",name:"SegmentSurfaceSourceInstanceSequence"},"(0066,002F)":{tag:"(0066,002F)",vr:"SQ",vm:"1",name:"AlgorithmFamilyCodeSequence"},"(0066,0030)":{tag:"(0066,0030)",vr:"SQ",vm:"1",name:"AlgorithmNameCodeSequence"},"(0066,0031)":{tag:"(0066,0031)",vr:"LO",vm:"1",name:"AlgorithmVersion"},"(0066,0032)":{tag:"(0066,0032)",vr:"LT",vm:"1",name:"AlgorithmParameters"},"(0066,0034)":{tag:"(0066,0034)",vr:"SQ",vm:"1",name:"FacetSequence"},"(0066,0035)":{tag:"(0066,0035)",vr:"SQ",vm:"1",name:"SurfaceProcessingAlgorithmIdentificationSequence"},"(0066,0036)":{tag:"(0066,0036)",vr:"LO",vm:"1",name:"AlgorithmName"},"(0066,0037)":{tag:"(0066,0037)",vr:"FL",vm:"1",name:"RecommendedPointRadius"},"(0066,0038)":{tag:"(0066,0038)",vr:"FL",vm:"1",name:"RecommendedLineThickness"},"(0066,0040)":{tag:"(0066,0040)",vr:"OL",vm:"1",name:"LongPrimitivePointIndexList"},"(0066,0041)":{tag:"(0066,0041)",vr:"OL",vm:"1",name:"LongTrianglePointIndexList"},"(0066,0042)":{tag:"(0066,0042)",vr:"OL",vm:"1",name:"LongEdgePointIndexList"},"(0066,0043)":{tag:"(0066,0043)",vr:"OL",vm:"1",name:"LongVertexPointIndexList"},"(0066,0101)":{tag:"(0066,0101)",vr:"SQ",vm:"1",name:"TrackSetSequence"},"(0066,0102)":{tag:"(0066,0102)",vr:"SQ",vm:"1",name:"TrackSequence"},"(0066,0103)":{tag:"(0066,0103)",vr:"OW",vm:"1",name:"RecommendedDisplayCIELabValueList"},"(0066,0104)":{tag:"(0066,0104)",vr:"SQ",vm:"1",name:"TrackingAlgorithmIdentificationSequence"},"(0066,0105)":{tag:"(0066,0105)",vr:"UL",vm:"1",name:"TrackSetNumber"},"(0066,0106)":{tag:"(0066,0106)",vr:"LO",vm:"1",name:"TrackSetLabel"},"(0066,0107)":{tag:"(0066,0107)",vr:"UT",vm:"1",name:"TrackSetDescription"},"(0066,0108)":{tag:"(0066,0108)",vr:"SQ",vm:"1",name:"TrackSetAnatomicalTypeCodeSequence"},"(0066,0121)":{tag:"(0066,0121)",vr:"SQ",vm:"1",name:"MeasurementsSequence"},"(0066,0124)":{tag:"(0066,0124)",vr:"SQ",vm:"1",name:"TrackSetStatisticsSequence"},"(0066,0125)":{tag:"(0066,0125)",vr:"OF",vm:"1",name:"FloatingPointValues"},"(0066,0129)":{tag:"(0066,0129)",vr:"OL",vm:"1",name:"TrackPointIndexList"},"(0066,0130)":{tag:"(0066,0130)",vr:"SQ",vm:"1",name:"TrackStatisticsSequence"},"(0066,0132)":{tag:"(0066,0132)",vr:"SQ",vm:"1",name:"MeasurementValuesSequence"},"(0066,0133)":{tag:"(0066,0133)",vr:"SQ",vm:"1",name:"DiffusionAcquisitionCodeSequence"},"(0066,0134)":{tag:"(0066,0134)",vr:"SQ",vm:"1",name:"DiffusionModelCodeSequence"},"(0068,6210)":{tag:"(0068,6210)",vr:"LO",vm:"1",name:"ImplantSize"},"(0068,6221)":{tag:"(0068,6221)",vr:"LO",vm:"1",name:"ImplantTemplateVersion"},"(0068,6222)":{tag:"(0068,6222)",vr:"SQ",vm:"1",name:"ReplacedImplantTemplateSequence"},"(0068,6223)":{tag:"(0068,6223)",vr:"CS",vm:"1",name:"ImplantType"},"(0068,6224)":{tag:"(0068,6224)",vr:"SQ",vm:"1",name:"DerivationImplantTemplateSequence"},"(0068,6225)":{tag:"(0068,6225)",vr:"SQ",vm:"1",name:"OriginalImplantTemplateSequence"},"(0068,6226)":{tag:"(0068,6226)",vr:"DT",vm:"1",name:"EffectiveDateTime"},"(0068,6230)":{tag:"(0068,6230)",vr:"SQ",vm:"1",name:"ImplantTargetAnatomySequence"},"(0068,6260)":{tag:"(0068,6260)",vr:"SQ",vm:"1",name:"InformationFromManufacturerSequence"},"(0068,6265)":{tag:"(0068,6265)",vr:"SQ",vm:"1",name:"NotificationFromManufacturerSequence"},"(0068,6270)":{tag:"(0068,6270)",vr:"DT",vm:"1",name:"InformationIssueDateTime"},"(0068,6280)":{tag:"(0068,6280)",vr:"ST",vm:"1",name:"InformationSummary"},"(0068,62A0)":{tag:"(0068,62A0)",vr:"SQ",vm:"1",name:"ImplantRegulatoryDisapprovalCodeSequence"},"(0068,62A5)":{tag:"(0068,62A5)",vr:"FD",vm:"1",name:"OverallTemplateSpatialTolerance"},"(0068,62C0)":{tag:"(0068,62C0)",vr:"SQ",vm:"1",name:"HPGLDocumentSequence"},"(0068,62D0)":{tag:"(0068,62D0)",vr:"US",vm:"1",name:"HPGLDocumentID"},"(0068,62D5)":{tag:"(0068,62D5)",vr:"LO",vm:"1",name:"HPGLDocumentLabel"},"(0068,62E0)":{tag:"(0068,62E0)",vr:"SQ",vm:"1",name:"ViewOrientationCodeSequence"},"(0068,62F0)":{tag:"(0068,62F0)",vr:"SQ",vm:"1",name:"ViewOrientationModifierCodeSequence"},"(0068,62F2)":{tag:"(0068,62F2)",vr:"FD",vm:"1",name:"HPGLDocumentScaling"},"(0068,6300)":{tag:"(0068,6300)",vr:"OB",vm:"1",name:"HPGLDocument"},"(0068,6310)":{tag:"(0068,6310)",vr:"US",vm:"1",name:"HPGLContourPenNumber"},"(0068,6320)":{tag:"(0068,6320)",vr:"SQ",vm:"1",name:"HPGLPenSequence"},"(0068,6330)":{tag:"(0068,6330)",vr:"US",vm:"1",name:"HPGLPenNumber"},"(0068,6340)":{tag:"(0068,6340)",vr:"LO",vm:"1",name:"HPGLPenLabel"},"(0068,6345)":{tag:"(0068,6345)",vr:"ST",vm:"1",name:"HPGLPenDescription"},"(0068,6346)":{tag:"(0068,6346)",vr:"FD",vm:"2",name:"RecommendedRotationPoint"},"(0068,6347)":{tag:"(0068,6347)",vr:"FD",vm:"4",name:"BoundingRectangle"},"(0068,6350)":{tag:"(0068,6350)",vr:"US",vm:"1-n",name:"ImplantTemplate3DModelSurfaceNumber"},"(0068,6360)":{tag:"(0068,6360)",vr:"SQ",vm:"1",name:"SurfaceModelDescriptionSequence"},"(0068,6380)":{tag:"(0068,6380)",vr:"LO",vm:"1",name:"SurfaceModelLabel"},"(0068,6390)":{tag:"(0068,6390)",vr:"FD",vm:"1",name:"SurfaceModelScalingFactor"},"(0068,63A0)":{tag:"(0068,63A0)",vr:"SQ",vm:"1",name:"MaterialsCodeSequence"},"(0068,63A4)":{tag:"(0068,63A4)",vr:"SQ",vm:"1",name:"CoatingMaterialsCodeSequence"},"(0068,63A8)":{tag:"(0068,63A8)",vr:"SQ",vm:"1",name:"ImplantTypeCodeSequence"},"(0068,63AC)":{tag:"(0068,63AC)",vr:"SQ",vm:"1",name:"FixationMethodCodeSequence"},"(0068,63B0)":{tag:"(0068,63B0)",vr:"SQ",vm:"1",name:"MatingFeatureSetsSequence"},"(0068,63C0)":{tag:"(0068,63C0)",vr:"US",vm:"1",name:"MatingFeatureSetID"},"(0068,63D0)":{tag:"(0068,63D0)",vr:"LO",vm:"1",name:"MatingFeatureSetLabel"},"(0068,63E0)":{tag:"(0068,63E0)",vr:"SQ",vm:"1",name:"MatingFeatureSequence"},"(0068,63F0)":{tag:"(0068,63F0)",vr:"US",vm:"1",name:"MatingFeatureID"},"(0068,6400)":{tag:"(0068,6400)",vr:"SQ",vm:"1",name:"MatingFeatureDegreeOfFreedomSequence"},"(0068,6410)":{tag:"(0068,6410)",vr:"US",vm:"1",name:"DegreeOfFreedomID"},"(0068,6420)":{tag:"(0068,6420)",vr:"CS",vm:"1",name:"DegreeOfFreedomType"},"(0068,6430)":{tag:"(0068,6430)",vr:"SQ",vm:"1",name:"TwoDMatingFeatureCoordinatesSequence"},"(0068,6440)":{tag:"(0068,6440)",vr:"US",vm:"1",name:"ReferencedHPGLDocumentID"},"(0068,6450)":{tag:"(0068,6450)",vr:"FD",vm:"2",name:"TwoDMatingPoint"},"(0068,6460)":{tag:"(0068,6460)",vr:"FD",vm:"4",name:"TwoDMatingAxes"},"(0068,6470)":{tag:"(0068,6470)",vr:"SQ",vm:"1",name:"TwoDDegreeOfFreedomSequence"},"(0068,6490)":{tag:"(0068,6490)",vr:"FD",vm:"3",name:"ThreeDDegreeOfFreedomAxis"},"(0068,64A0)":{tag:"(0068,64A0)",vr:"FD",vm:"2",name:"RangeOfFreedom"},"(0068,64C0)":{tag:"(0068,64C0)",vr:"FD",vm:"3",name:"ThreeDMatingPoint"},"(0068,64D0)":{tag:"(0068,64D0)",vr:"FD",vm:"9",name:"ThreeDMatingAxes"},"(0068,64F0)":{tag:"(0068,64F0)",vr:"FD",vm:"3",name:"TwoDDegreeOfFreedomAxis"},"(0068,6500)":{tag:"(0068,6500)",vr:"SQ",vm:"1",name:"PlanningLandmarkPointSequence"},"(0068,6510)":{tag:"(0068,6510)",vr:"SQ",vm:"1",name:"PlanningLandmarkLineSequence"},"(0068,6520)":{tag:"(0068,6520)",vr:"SQ",vm:"1",name:"PlanningLandmarkPlaneSequence"},"(0068,6530)":{tag:"(0068,6530)",vr:"US",vm:"1",name:"PlanningLandmarkID"},"(0068,6540)":{tag:"(0068,6540)",vr:"LO",vm:"1",name:"PlanningLandmarkDescription"},"(0068,6545)":{tag:"(0068,6545)",vr:"SQ",vm:"1",name:"PlanningLandmarkIdentificationCodeSequence"},"(0068,6550)":{tag:"(0068,6550)",vr:"SQ",vm:"1",name:"TwoDPointCoordinatesSequence"},"(0068,6560)":{tag:"(0068,6560)",vr:"FD",vm:"2",name:"TwoDPointCoordinates"},"(0068,6590)":{tag:"(0068,6590)",vr:"FD",vm:"3",name:"ThreeDPointCoordinates"},"(0068,65A0)":{tag:"(0068,65A0)",vr:"SQ",vm:"1",name:"TwoDLineCoordinatesSequence"},"(0068,65B0)":{tag:"(0068,65B0)",vr:"FD",vm:"4",name:"TwoDLineCoordinates"},"(0068,65D0)":{tag:"(0068,65D0)",vr:"FD",vm:"6",name:"ThreeDLineCoordinates"},"(0068,65E0)":{tag:"(0068,65E0)",vr:"SQ",vm:"1",name:"TwoDPlaneCoordinatesSequence"},"(0068,65F0)":{tag:"(0068,65F0)",vr:"FD",vm:"4",name:"TwoDPlaneIntersection"},"(0068,6610)":{tag:"(0068,6610)",vr:"FD",vm:"3",name:"ThreeDPlaneOrigin"},"(0068,6620)":{tag:"(0068,6620)",vr:"FD",vm:"3",name:"ThreeDPlaneNormal"},"(0068,7001)":{tag:"(0068,7001)",vr:"CS",vm:"1",name:"ModelModification"},"(0068,7002)":{tag:"(0068,7002)",vr:"CS",vm:"1",name:"ModelMirroring"},"(0068,7003)":{tag:"(0068,7003)",vr:"SQ",vm:"1",name:"ModelUsageCodeSequence"},"(0068,7004)":{tag:"(0068,7004)",vr:"UI",vm:"1",name:"ModelGroupUID"},"(0068,7005)":{tag:"(0068,7005)",vr:"UR",vm:"1",name:"RelativeURIReferenceWithinEncapsulatedDocument"},"(006A,0001)":{tag:"(006A,0001)",vr:"CS",vm:"1",name:"AnnotationCoordinateType"},"(006A,0002)":{tag:"(006A,0002)",vr:"SQ",vm:"1",name:"AnnotationGroupSequence"},"(006A,0003)":{tag:"(006A,0003)",vr:"UI",vm:"1",name:"AnnotationGroupUID"},"(006A,0005)":{tag:"(006A,0005)",vr:"LO",vm:"1",name:"AnnotationGroupLabel"},"(006A,0006)":{tag:"(006A,0006)",vr:"UT",vm:"1",name:"AnnotationGroupDescription"},"(006A,0007)":{tag:"(006A,0007)",vr:"CS",vm:"1",name:"AnnotationGroupGenerationType"},"(006A,0008)":{tag:"(006A,0008)",vr:"SQ",vm:"1",name:"AnnotationGroupAlgorithmIdentificationSequence"},"(006A,0009)":{tag:"(006A,0009)",vr:"SQ",vm:"1",name:"AnnotationPropertyCategoryCodeSequence"},"(006A,000A)":{tag:"(006A,000A)",vr:"SQ",vm:"1",name:"AnnotationPropertyTypeCodeSequence"},"(006A,000B)":{tag:"(006A,000B)",vr:"SQ",vm:"1",name:"AnnotationPropertyTypeModifierCodeSequence"},"(006A,000C)":{tag:"(006A,000C)",vr:"UL",vm:"1",name:"NumberOfAnnotations"},"(006A,000D)":{tag:"(006A,000D)",vr:"CS",vm:"1",name:"AnnotationAppliesToAllOpticalPaths"},"(006A,000E)":{tag:"(006A,000E)",vr:"SH",vm:"1-n",name:"ReferencedOpticalPathIdentifier"},"(006A,000F)":{tag:"(006A,000F)",vr:"CS",vm:"1",name:"AnnotationAppliesToAllZPlanes"},"(006A,0010)":{tag:"(006A,0010)",vr:"FD",vm:"1-n",name:"CommonZCoordinateValue"},"(006A,0011)":{tag:"(006A,0011)",vr:"OL",vm:"1",name:"AnnotationIndexList"},"(0070,0001)":{tag:"(0070,0001)",vr:"SQ",vm:"1",name:"GraphicAnnotationSequence"},"(0070,0002)":{tag:"(0070,0002)",vr:"CS",vm:"1",name:"GraphicLayer"},"(0070,0003)":{tag:"(0070,0003)",vr:"CS",vm:"1",name:"BoundingBoxAnnotationUnits"},"(0070,0004)":{tag:"(0070,0004)",vr:"CS",vm:"1",name:"AnchorPointAnnotationUnits"},"(0070,0005)":{tag:"(0070,0005)",vr:"CS",vm:"1",name:"GraphicAnnotationUnits"},"(0070,0006)":{tag:"(0070,0006)",vr:"ST",vm:"1",name:"UnformattedTextValue"},"(0070,0008)":{tag:"(0070,0008)",vr:"SQ",vm:"1",name:"TextObjectSequence"},"(0070,0009)":{tag:"(0070,0009)",vr:"SQ",vm:"1",name:"GraphicObjectSequence"},"(0070,0010)":{tag:"(0070,0010)",vr:"FL",vm:"2",name:"BoundingBoxTopLeftHandCorner"},"(0070,0011)":{tag:"(0070,0011)",vr:"FL",vm:"2",name:"BoundingBoxBottomRightHandCorner"},"(0070,0012)":{tag:"(0070,0012)",vr:"CS",vm:"1",name:"BoundingBoxTextHorizontalJustification"},"(0070,0014)":{tag:"(0070,0014)",vr:"FL",vm:"2",name:"AnchorPoint"},"(0070,0015)":{tag:"(0070,0015)",vr:"CS",vm:"1",name:"AnchorPointVisibility"},"(0070,0020)":{tag:"(0070,0020)",vr:"US",vm:"1",name:"GraphicDimensions"},"(0070,0021)":{tag:"(0070,0021)",vr:"US",vm:"1",name:"NumberOfGraphicPoints"},"(0070,0022)":{tag:"(0070,0022)",vr:"FL",vm:"2-n",name:"GraphicData"},"(0070,0023)":{tag:"(0070,0023)",vr:"CS",vm:"1",name:"GraphicType"},"(0070,0024)":{tag:"(0070,0024)",vr:"CS",vm:"1",name:"GraphicFilled"},"(0070,0040)":{tag:"(0070,0040)",vr:"IS",vm:"1",name:"ImageRotationRetired"},"(0070,0041)":{tag:"(0070,0041)",vr:"CS",vm:"1",name:"ImageHorizontalFlip"},"(0070,0042)":{tag:"(0070,0042)",vr:"US",vm:"1",name:"ImageRotation"},"(0070,0050)":{tag:"(0070,0050)",vr:"US",vm:"2",name:"DisplayedAreaTopLeftHandCornerTrial"},"(0070,0051)":{tag:"(0070,0051)",vr:"US",vm:"2",name:"DisplayedAreaBottomRightHandCornerTrial"},"(0070,0052)":{tag:"(0070,0052)",vr:"SL",vm:"2",name:"DisplayedAreaTopLeftHandCorner"},"(0070,0053)":{tag:"(0070,0053)",vr:"SL",vm:"2",name:"DisplayedAreaBottomRightHandCorner"},"(0070,005A)":{tag:"(0070,005A)",vr:"SQ",vm:"1",name:"DisplayedAreaSelectionSequence"},"(0070,0060)":{tag:"(0070,0060)",vr:"SQ",vm:"1",name:"GraphicLayerSequence"},"(0070,0062)":{tag:"(0070,0062)",vr:"IS",vm:"1",name:"GraphicLayerOrder"},"(0070,0066)":{tag:"(0070,0066)",vr:"US",vm:"1",name:"GraphicLayerRecommendedDisplayGrayscaleValue"},"(0070,0067)":{tag:"(0070,0067)",vr:"US",vm:"3",name:"GraphicLayerRecommendedDisplayRGBValue"},"(0070,0068)":{tag:"(0070,0068)",vr:"LO",vm:"1",name:"GraphicLayerDescription"},"(0070,0080)":{tag:"(0070,0080)",vr:"CS",vm:"1",name:"ContentLabel"},"(0070,0081)":{tag:"(0070,0081)",vr:"LO",vm:"1",name:"ContentDescription"},"(0070,0082)":{tag:"(0070,0082)",vr:"DA",vm:"1",name:"PresentationCreationDate"},"(0070,0083)":{tag:"(0070,0083)",vr:"TM",vm:"1",name:"PresentationCreationTime"},"(0070,0084)":{tag:"(0070,0084)",vr:"PN",vm:"1",name:"ContentCreatorName"},"(0070,0086)":{tag:"(0070,0086)",vr:"SQ",vm:"1",name:"ContentCreatorIdentificationCodeSequence"},"(0070,0087)":{tag:"(0070,0087)",vr:"SQ",vm:"1",name:"AlternateContentDescriptionSequence"},"(0070,0100)":{tag:"(0070,0100)",vr:"CS",vm:"1",name:"PresentationSizeMode"},"(0070,0101)":{tag:"(0070,0101)",vr:"DS",vm:"2",name:"PresentationPixelSpacing"},"(0070,0102)":{tag:"(0070,0102)",vr:"IS",vm:"2",name:"PresentationPixelAspectRatio"},"(0070,0103)":{tag:"(0070,0103)",vr:"FL",vm:"1",name:"PresentationPixelMagnificationRatio"},"(0070,0207)":{tag:"(0070,0207)",vr:"LO",vm:"1",name:"GraphicGroupLabel"},"(0070,0208)":{tag:"(0070,0208)",vr:"ST",vm:"1",name:"GraphicGroupDescription"},"(0070,0209)":{tag:"(0070,0209)",vr:"SQ",vm:"1",name:"CompoundGraphicSequence"},"(0070,0226)":{tag:"(0070,0226)",vr:"UL",vm:"1",name:"CompoundGraphicInstanceID"},"(0070,0227)":{tag:"(0070,0227)",vr:"LO",vm:"1",name:"FontName"},"(0070,0228)":{tag:"(0070,0228)",vr:"CS",vm:"1",name:"FontNameType"},"(0070,0229)":{tag:"(0070,0229)",vr:"LO",vm:"1",name:"CSSFontName"},"(0070,0230)":{tag:"(0070,0230)",vr:"FD",vm:"1",name:"RotationAngle"},"(0070,0231)":{tag:"(0070,0231)",vr:"SQ",vm:"1",name:"TextStyleSequence"},"(0070,0232)":{tag:"(0070,0232)",vr:"SQ",vm:"1",name:"LineStyleSequence"},"(0070,0233)":{tag:"(0070,0233)",vr:"SQ",vm:"1",name:"FillStyleSequence"},"(0070,0234)":{tag:"(0070,0234)",vr:"SQ",vm:"1",name:"GraphicGroupSequence"},"(0070,0241)":{tag:"(0070,0241)",vr:"US",vm:"3",name:"TextColorCIELabValue"},"(0070,0242)":{tag:"(0070,0242)",vr:"CS",vm:"1",name:"HorizontalAlignment"},"(0070,0243)":{tag:"(0070,0243)",vr:"CS",vm:"1",name:"VerticalAlignment"},"(0070,0244)":{tag:"(0070,0244)",vr:"CS",vm:"1",name:"ShadowStyle"},"(0070,0245)":{tag:"(0070,0245)",vr:"FL",vm:"1",name:"ShadowOffsetX"},"(0070,0246)":{tag:"(0070,0246)",vr:"FL",vm:"1",name:"ShadowOffsetY"},"(0070,0247)":{tag:"(0070,0247)",vr:"US",vm:"3",name:"ShadowColorCIELabValue"},"(0070,0248)":{tag:"(0070,0248)",vr:"CS",vm:"1",name:"Underlined"},"(0070,0249)":{tag:"(0070,0249)",vr:"CS",vm:"1",name:"Bold"},"(0070,0250)":{tag:"(0070,0250)",vr:"CS",vm:"1",name:"Italic"},"(0070,0251)":{tag:"(0070,0251)",vr:"US",vm:"3",name:"PatternOnColorCIELabValue"},"(0070,0252)":{tag:"(0070,0252)",vr:"US",vm:"3",name:"PatternOffColorCIELabValue"},"(0070,0253)":{tag:"(0070,0253)",vr:"FL",vm:"1",name:"LineThickness"},"(0070,0254)":{tag:"(0070,0254)",vr:"CS",vm:"1",name:"LineDashingStyle"},"(0070,0255)":{tag:"(0070,0255)",vr:"UL",vm:"1",name:"LinePattern"},"(0070,0256)":{tag:"(0070,0256)",vr:"OB",vm:"1",name:"FillPattern"},"(0070,0257)":{tag:"(0070,0257)",vr:"CS",vm:"1",name:"FillMode"},"(0070,0258)":{tag:"(0070,0258)",vr:"FL",vm:"1",name:"ShadowOpacity"},"(0070,0261)":{tag:"(0070,0261)",vr:"FL",vm:"1",name:"GapLength"},"(0070,0262)":{tag:"(0070,0262)",vr:"FL",vm:"1",name:"DiameterOfVisibility"},"(0070,0273)":{tag:"(0070,0273)",vr:"FL",vm:"2",name:"RotationPoint"},"(0070,0274)":{tag:"(0070,0274)",vr:"CS",vm:"1",name:"TickAlignment"},"(0070,0278)":{tag:"(0070,0278)",vr:"CS",vm:"1",name:"ShowTickLabel"},"(0070,0279)":{tag:"(0070,0279)",vr:"CS",vm:"1",name:"TickLabelAlignment"},"(0070,0282)":{tag:"(0070,0282)",vr:"CS",vm:"1",name:"CompoundGraphicUnits"},"(0070,0284)":{tag:"(0070,0284)",vr:"FL",vm:"1",name:"PatternOnOpacity"},"(0070,0285)":{tag:"(0070,0285)",vr:"FL",vm:"1",name:"PatternOffOpacity"},"(0070,0287)":{tag:"(0070,0287)",vr:"SQ",vm:"1",name:"MajorTicksSequence"},"(0070,0288)":{tag:"(0070,0288)",vr:"FL",vm:"1",name:"TickPosition"},"(0070,0289)":{tag:"(0070,0289)",vr:"SH",vm:"1",name:"TickLabel"},"(0070,0294)":{tag:"(0070,0294)",vr:"CS",vm:"1",name:"CompoundGraphicType"},"(0070,0295)":{tag:"(0070,0295)",vr:"UL",vm:"1",name:"GraphicGroupID"},"(0070,0306)":{tag:"(0070,0306)",vr:"CS",vm:"1",name:"ShapeType"},"(0070,0308)":{tag:"(0070,0308)",vr:"SQ",vm:"1",name:"RegistrationSequence"},"(0070,0309)":{tag:"(0070,0309)",vr:"SQ",vm:"1",name:"MatrixRegistrationSequence"},"(0070,030A)":{tag:"(0070,030A)",vr:"SQ",vm:"1",name:"MatrixSequence"},"(0070,030B)":{tag:"(0070,030B)",vr:"FD",vm:"16",name:"FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"},"(0070,030C)":{tag:"(0070,030C)",vr:"CS",vm:"1",name:"FrameOfReferenceTransformationMatrixType"},"(0070,030D)":{tag:"(0070,030D)",vr:"SQ",vm:"1",name:"RegistrationTypeCodeSequence"},"(0070,030F)":{tag:"(0070,030F)",vr:"ST",vm:"1",name:"FiducialDescription"},"(0070,0310)":{tag:"(0070,0310)",vr:"SH",vm:"1",name:"FiducialIdentifier"},"(0070,0311)":{tag:"(0070,0311)",vr:"SQ",vm:"1",name:"FiducialIdentifierCodeSequence"},"(0070,0312)":{tag:"(0070,0312)",vr:"FD",vm:"1",name:"ContourUncertaintyRadius"},"(0070,0314)":{tag:"(0070,0314)",vr:"SQ",vm:"1",name:"UsedFiducialsSequence"},"(0070,0318)":{tag:"(0070,0318)",vr:"SQ",vm:"1",name:"GraphicCoordinatesDataSequence"},"(0070,031A)":{tag:"(0070,031A)",vr:"UI",vm:"1",name:"FiducialUID"},"(0070,031B)":{tag:"(0070,031B)",vr:"UI",vm:"1",name:"ReferencedFiducialUID"},"(0070,031C)":{tag:"(0070,031C)",vr:"SQ",vm:"1",name:"FiducialSetSequence"},"(0070,031E)":{tag:"(0070,031E)",vr:"SQ",vm:"1",name:"FiducialSequence"},"(0070,031F)":{tag:"(0070,031F)",vr:"SQ",vm:"1",name:"FiducialsPropertyCategoryCodeSequence"},"(0070,0401)":{tag:"(0070,0401)",vr:"US",vm:"3",name:"GraphicLayerRecommendedDisplayCIELabValue"},"(0070,0402)":{tag:"(0070,0402)",vr:"SQ",vm:"1",name:"BlendingSequence"},"(0070,0403)":{tag:"(0070,0403)",vr:"FL",vm:"1",name:"RelativeOpacity"},"(0070,0404)":{tag:"(0070,0404)",vr:"SQ",vm:"1",name:"ReferencedSpatialRegistrationSequence"},"(0070,0405)":{tag:"(0070,0405)",vr:"CS",vm:"1",name:"BlendingPosition"},"(0070,1101)":{tag:"(0070,1101)",vr:"UI",vm:"1",name:"PresentationDisplayCollectionUID"},"(0070,1102)":{tag:"(0070,1102)",vr:"UI",vm:"1",name:"PresentationSequenceCollectionUID"},"(0070,1103)":{tag:"(0070,1103)",vr:"US",vm:"1",name:"PresentationSequencePositionIndex"},"(0070,1104)":{tag:"(0070,1104)",vr:"SQ",vm:"1",name:"RenderedImageReferenceSequence"},"(0070,1201)":{tag:"(0070,1201)",vr:"SQ",vm:"1",name:"VolumetricPresentationStateInputSequence"},"(0070,1202)":{tag:"(0070,1202)",vr:"CS",vm:"1",name:"PresentationInputType"},"(0070,1203)":{tag:"(0070,1203)",vr:"US",vm:"1",name:"InputSequencePositionIndex"},"(0070,1204)":{tag:"(0070,1204)",vr:"CS",vm:"1",name:"Crop"},"(0070,1205)":{tag:"(0070,1205)",vr:"US",vm:"1-n",name:"CroppingSpecificationIndex"},"(0070,1206)":{tag:"(0070,1206)",vr:"CS",vm:"1",name:"CompositingMethod"},"(0070,1207)":{tag:"(0070,1207)",vr:"US",vm:"1",name:"VolumetricPresentationInputNumber"},"(0070,1208)":{tag:"(0070,1208)",vr:"CS",vm:"1",name:"ImageVolumeGeometry"},"(0070,1209)":{tag:"(0070,1209)",vr:"UI",vm:"1",name:"VolumetricPresentationInputSetUID"},"(0070,120A)":{tag:"(0070,120A)",vr:"SQ",vm:"1",name:"VolumetricPresentationInputSetSequence"},"(0070,120B)":{tag:"(0070,120B)",vr:"CS",vm:"1",name:"GlobalCrop"},"(0070,120C)":{tag:"(0070,120C)",vr:"US",vm:"1-n",name:"GlobalCroppingSpecificationIndex"},"(0070,120D)":{tag:"(0070,120D)",vr:"CS",vm:"1",name:"RenderingMethod"},"(0070,1301)":{tag:"(0070,1301)",vr:"SQ",vm:"1",name:"VolumeCroppingSequence"},"(0070,1302)":{tag:"(0070,1302)",vr:"CS",vm:"1",name:"VolumeCroppingMethod"},"(0070,1303)":{tag:"(0070,1303)",vr:"FD",vm:"6",name:"BoundingBoxCrop"},"(0070,1304)":{tag:"(0070,1304)",vr:"SQ",vm:"1",name:"ObliqueCroppingPlaneSequence"},"(0070,1305)":{tag:"(0070,1305)",vr:"FD",vm:"4",name:"Plane"},"(0070,1306)":{tag:"(0070,1306)",vr:"FD",vm:"3",name:"PlaneNormal"},"(0070,1309)":{tag:"(0070,1309)",vr:"US",vm:"1",name:"CroppingSpecificationNumber"},"(0070,1501)":{tag:"(0070,1501)",vr:"CS",vm:"1",name:"MultiPlanarReconstructionStyle"},"(0070,1502)":{tag:"(0070,1502)",vr:"CS",vm:"1",name:"MPRThicknessType"},"(0070,1503)":{tag:"(0070,1503)",vr:"FD",vm:"1",name:"MPRSlabThickness"},"(0070,1505)":{tag:"(0070,1505)",vr:"FD",vm:"3",name:"MPRTopLeftHandCorner"},"(0070,1507)":{tag:"(0070,1507)",vr:"FD",vm:"3",name:"MPRViewWidthDirection"},"(0070,1508)":{tag:"(0070,1508)",vr:"FD",vm:"1",name:"MPRViewWidth"},"(0070,150C)":{tag:"(0070,150C)",vr:"UL",vm:"1",name:"NumberOfVolumetricCurvePoints"},"(0070,150D)":{tag:"(0070,150D)",vr:"OD",vm:"1",name:"VolumetricCurvePoints"},"(0070,1511)":{tag:"(0070,1511)",vr:"FD",vm:"3",name:"MPRViewHeightDirection"},"(0070,1512)":{tag:"(0070,1512)",vr:"FD",vm:"1",name:"MPRViewHeight"},"(0070,1602)":{tag:"(0070,1602)",vr:"CS",vm:"1",name:"RenderProjection"},"(0070,1603)":{tag:"(0070,1603)",vr:"FD",vm:"3",name:"ViewpointPosition"},"(0070,1604)":{tag:"(0070,1604)",vr:"FD",vm:"3",name:"ViewpointLookAtPoint"},"(0070,1605)":{tag:"(0070,1605)",vr:"FD",vm:"3",name:"ViewpointUpDirection"},"(0070,1606)":{tag:"(0070,1606)",vr:"FD",vm:"6",name:"RenderFieldOfView"},"(0070,1607)":{tag:"(0070,1607)",vr:"FD",vm:"1",name:"SamplingStepSize"},"(0070,1701)":{tag:"(0070,1701)",vr:"CS",vm:"1",name:"ShadingStyle"},"(0070,1702)":{tag:"(0070,1702)",vr:"FD",vm:"1",name:"AmbientReflectionIntensity"},"(0070,1703)":{tag:"(0070,1703)",vr:"FD",vm:"3",name:"LightDirection"},"(0070,1704)":{tag:"(0070,1704)",vr:"FD",vm:"1",name:"DiffuseReflectionIntensity"},"(0070,1705)":{tag:"(0070,1705)",vr:"FD",vm:"1",name:"SpecularReflectionIntensity"},"(0070,1706)":{tag:"(0070,1706)",vr:"FD",vm:"1",name:"Shininess"},"(0070,1801)":{tag:"(0070,1801)",vr:"SQ",vm:"1",name:"PresentationStateClassificationComponentSequence"},"(0070,1802)":{tag:"(0070,1802)",vr:"CS",vm:"1",name:"ComponentType"},"(0070,1803)":{tag:"(0070,1803)",vr:"SQ",vm:"1",name:"ComponentInputSequence"},"(0070,1804)":{tag:"(0070,1804)",vr:"US",vm:"1",name:"VolumetricPresentationInputIndex"},"(0070,1805)":{tag:"(0070,1805)",vr:"SQ",vm:"1",name:"PresentationStateCompositorComponentSequence"},"(0070,1806)":{tag:"(0070,1806)",vr:"SQ",vm:"1",name:"WeightingTransferFunctionSequence"},"(0070,1807)":{tag:"(0070,1807)",vr:"US",vm:"3",name:"WeightingLookupTableDescriptor"},"(0070,1808)":{tag:"(0070,1808)",vr:"OB",vm:"1",name:"WeightingLookupTableData"},"(0070,1901)":{tag:"(0070,1901)",vr:"SQ",vm:"1",name:"VolumetricAnnotationSequence"},"(0070,1903)":{tag:"(0070,1903)",vr:"SQ",vm:"1",name:"ReferencedStructuredContextSequence"},"(0070,1904)":{tag:"(0070,1904)",vr:"UI",vm:"1",name:"ReferencedContentItem"},"(0070,1905)":{tag:"(0070,1905)",vr:"SQ",vm:"1",name:"VolumetricPresentationInputAnnotationSequence"},"(0070,1907)":{tag:"(0070,1907)",vr:"CS",vm:"1",name:"AnnotationClipping"},"(0070,1A01)":{tag:"(0070,1A01)",vr:"CS",vm:"1",name:"PresentationAnimationStyle"},"(0070,1A03)":{tag:"(0070,1A03)",vr:"FD",vm:"1",name:"RecommendedAnimationRate"},"(0070,1A04)":{tag:"(0070,1A04)",vr:"SQ",vm:"1",name:"AnimationCurveSequence"},"(0070,1A05)":{tag:"(0070,1A05)",vr:"FD",vm:"1",name:"AnimationStepSize"},"(0070,1A06)":{tag:"(0070,1A06)",vr:"FD",vm:"1",name:"SwivelRange"},"(0070,1A07)":{tag:"(0070,1A07)",vr:"OD",vm:"1",name:"VolumetricCurveUpDirections"},"(0070,1A08)":{tag:"(0070,1A08)",vr:"SQ",vm:"1",name:"VolumeStreamSequence"},"(0070,1A09)":{tag:"(0070,1A09)",vr:"LO",vm:"1",name:"RGBATransferFunctionDescription"},"(0070,1B01)":{tag:"(0070,1B01)",vr:"SQ",vm:"1",name:"AdvancedBlendingSequence"},"(0070,1B02)":{tag:"(0070,1B02)",vr:"US",vm:"1",name:"BlendingInputNumber"},"(0070,1B03)":{tag:"(0070,1B03)",vr:"SQ",vm:"1",name:"BlendingDisplayInputSequence"},"(0070,1B04)":{tag:"(0070,1B04)",vr:"SQ",vm:"1",name:"BlendingDisplaySequence"},"(0070,1B06)":{tag:"(0070,1B06)",vr:"CS",vm:"1",name:"BlendingMode"},"(0070,1B07)":{tag:"(0070,1B07)",vr:"CS",vm:"1",name:"TimeSeriesBlending"},"(0070,1B08)":{tag:"(0070,1B08)",vr:"CS",vm:"1",name:"GeometryForDisplay"},"(0070,1B11)":{tag:"(0070,1B11)",vr:"SQ",vm:"1",name:"ThresholdSequence"},"(0070,1B12)":{tag:"(0070,1B12)",vr:"SQ",vm:"1",name:"ThresholdValueSequence"},"(0070,1B13)":{tag:"(0070,1B13)",vr:"CS",vm:"1",name:"ThresholdType"},"(0070,1B14)":{tag:"(0070,1B14)",vr:"FD",vm:"1",name:"ThresholdValue"},"(0072,0002)":{tag:"(0072,0002)",vr:"SH",vm:"1",name:"HangingProtocolName"},"(0072,0004)":{tag:"(0072,0004)",vr:"LO",vm:"1",name:"HangingProtocolDescription"},"(0072,0006)":{tag:"(0072,0006)",vr:"CS",vm:"1",name:"HangingProtocolLevel"},"(0072,0008)":{tag:"(0072,0008)",vr:"LO",vm:"1",name:"HangingProtocolCreator"},"(0072,000A)":{tag:"(0072,000A)",vr:"DT",vm:"1",name:"HangingProtocolCreationDateTime"},"(0072,000C)":{tag:"(0072,000C)",vr:"SQ",vm:"1",name:"HangingProtocolDefinitionSequence"},"(0072,000E)":{tag:"(0072,000E)",vr:"SQ",vm:"1",name:"HangingProtocolUserIdentificationCodeSequence"},"(0072,0010)":{tag:"(0072,0010)",vr:"LO",vm:"1",name:"HangingProtocolUserGroupName"},"(0072,0012)":{tag:"(0072,0012)",vr:"SQ",vm:"1",name:"SourceHangingProtocolSequence"},"(0072,0014)":{tag:"(0072,0014)",vr:"US",vm:"1",name:"NumberOfPriorsReferenced"},"(0072,0020)":{tag:"(0072,0020)",vr:"SQ",vm:"1",name:"ImageSetsSequence"},"(0072,0022)":{tag:"(0072,0022)",vr:"SQ",vm:"1",name:"ImageSetSelectorSequence"},"(0072,0024)":{tag:"(0072,0024)",vr:"CS",vm:"1",name:"ImageSetSelectorUsageFlag"},"(0072,0026)":{tag:"(0072,0026)",vr:"AT",vm:"1",name:"SelectorAttribute"},"(0072,0028)":{tag:"(0072,0028)",vr:"US",vm:"1",name:"SelectorValueNumber"},"(0072,0030)":{tag:"(0072,0030)",vr:"SQ",vm:"1",name:"TimeBasedImageSetsSequence"},"(0072,0032)":{tag:"(0072,0032)",vr:"US",vm:"1",name:"ImageSetNumber"},"(0072,0034)":{tag:"(0072,0034)",vr:"CS",vm:"1",name:"ImageSetSelectorCategory"},"(0072,0038)":{tag:"(0072,0038)",vr:"US",vm:"2",name:"RelativeTime"},"(0072,003A)":{tag:"(0072,003A)",vr:"CS",vm:"1",name:"RelativeTimeUnits"},"(0072,003C)":{tag:"(0072,003C)",vr:"SS",vm:"2",name:"AbstractPriorValue"},"(0072,003E)":{tag:"(0072,003E)",vr:"SQ",vm:"1",name:"AbstractPriorCodeSequence"},"(0072,0040)":{tag:"(0072,0040)",vr:"LO",vm:"1",name:"ImageSetLabel"},"(0072,0050)":{tag:"(0072,0050)",vr:"CS",vm:"1",name:"SelectorAttributeVR"},"(0072,0052)":{tag:"(0072,0052)",vr:"AT",vm:"1-n",name:"SelectorSequencePointer"},"(0072,0054)":{tag:"(0072,0054)",vr:"LO",vm:"1-n",name:"SelectorSequencePointerPrivateCreator"},"(0072,0056)":{tag:"(0072,0056)",vr:"LO",vm:"1",name:"SelectorAttributePrivateCreator"},"(0072,005E)":{tag:"(0072,005E)",vr:"AE",vm:"1-n",name:"SelectorAEValue"},"(0072,005F)":{tag:"(0072,005F)",vr:"AS",vm:"1-n",name:"SelectorASValue"},"(0072,0060)":{tag:"(0072,0060)",vr:"AT",vm:"1-n",name:"SelectorATValue"},"(0072,0061)":{tag:"(0072,0061)",vr:"DA",vm:"1-n",name:"SelectorDAValue"},"(0072,0062)":{tag:"(0072,0062)",vr:"CS",vm:"1-n",name:"SelectorCSValue"},"(0072,0063)":{tag:"(0072,0063)",vr:"DT",vm:"1-n",name:"SelectorDTValue"},"(0072,0064)":{tag:"(0072,0064)",vr:"IS",vm:"1-n",name:"SelectorISValue"},"(0072,0065)":{tag:"(0072,0065)",vr:"OB",vm:"1",name:"SelectorOBValue"},"(0072,0066)":{tag:"(0072,0066)",vr:"LO",vm:"1-n",name:"SelectorLOValue"},"(0072,0067)":{tag:"(0072,0067)",vr:"OF",vm:"1",name:"SelectorOFValue"},"(0072,0068)":{tag:"(0072,0068)",vr:"LT",vm:"1",name:"SelectorLTValue"},"(0072,0069)":{tag:"(0072,0069)",vr:"OW",vm:"1",name:"SelectorOWValue"},"(0072,006A)":{tag:"(0072,006A)",vr:"PN",vm:"1-n",name:"SelectorPNValue"},"(0072,006B)":{tag:"(0072,006B)",vr:"TM",vm:"1-n",name:"SelectorTMValue"},"(0072,006C)":{tag:"(0072,006C)",vr:"SH",vm:"1-n",name:"SelectorSHValue"},"(0072,006D)":{tag:"(0072,006D)",vr:"UN",vm:"1",name:"SelectorUNValue"},"(0072,006E)":{tag:"(0072,006E)",vr:"ST",vm:"1",name:"SelectorSTValue"},"(0072,006F)":{tag:"(0072,006F)",vr:"UC",vm:"1-n",name:"SelectorUCValue"},"(0072,0070)":{tag:"(0072,0070)",vr:"UT",vm:"1",name:"SelectorUTValue"},"(0072,0071)":{tag:"(0072,0071)",vr:"UR",vm:"1",name:"SelectorURValue"},"(0072,0072)":{tag:"(0072,0072)",vr:"DS",vm:"1-n",name:"SelectorDSValue"},"(0072,0073)":{tag:"(0072,0073)",vr:"OD",vm:"1",name:"SelectorODValue"},"(0072,0074)":{tag:"(0072,0074)",vr:"FD",vm:"1-n",name:"SelectorFDValue"},"(0072,0075)":{tag:"(0072,0075)",vr:"OL",vm:"1",name:"SelectorOLValue"},"(0072,0076)":{tag:"(0072,0076)",vr:"FL",vm:"1-n",name:"SelectorFLValue"},"(0072,0078)":{tag:"(0072,0078)",vr:"UL",vm:"1-n",name:"SelectorULValue"},"(0072,007A)":{tag:"(0072,007A)",vr:"US",vm:"1-n",name:"SelectorUSValue"},"(0072,007C)":{tag:"(0072,007C)",vr:"SL",vm:"1-n",name:"SelectorSLValue"},"(0072,007E)":{tag:"(0072,007E)",vr:"SS",vm:"1-n",name:"SelectorSSValue"},"(0072,007F)":{tag:"(0072,007F)",vr:"UI",vm:"1-n",name:"SelectorUIValue"},"(0072,0080)":{tag:"(0072,0080)",vr:"SQ",vm:"1",name:"SelectorCodeSequenceValue"},"(0072,0081)":{tag:"(0072,0081)",vr:"OV",vm:"1",name:"SelectorOVValue"},"(0072,0082)":{tag:"(0072,0082)",vr:"SV",vm:"1-n",name:"SelectorSVValue"},"(0072,0083)":{tag:"(0072,0083)",vr:"UV",vm:"1-n",name:"SelectorUVValue"},"(0072,0100)":{tag:"(0072,0100)",vr:"US",vm:"1",name:"NumberOfScreens"},"(0072,0102)":{tag:"(0072,0102)",vr:"SQ",vm:"1",name:"NominalScreenDefinitionSequence"},"(0072,0104)":{tag:"(0072,0104)",vr:"US",vm:"1",name:"NumberOfVerticalPixels"},"(0072,0106)":{tag:"(0072,0106)",vr:"US",vm:"1",name:"NumberOfHorizontalPixels"},"(0072,0108)":{tag:"(0072,0108)",vr:"FD",vm:"4",name:"DisplayEnvironmentSpatialPosition"},"(0072,010A)":{tag:"(0072,010A)",vr:"US",vm:"1",name:"ScreenMinimumGrayscaleBitDepth"},"(0072,010C)":{tag:"(0072,010C)",vr:"US",vm:"1",name:"ScreenMinimumColorBitDepth"},"(0072,010E)":{tag:"(0072,010E)",vr:"US",vm:"1",name:"ApplicationMaximumRepaintTime"},"(0072,0200)":{tag:"(0072,0200)",vr:"SQ",vm:"1",name:"DisplaySetsSequence"},"(0072,0202)":{tag:"(0072,0202)",vr:"US",vm:"1",name:"DisplaySetNumber"},"(0072,0203)":{tag:"(0072,0203)",vr:"LO",vm:"1",name:"DisplaySetLabel"},"(0072,0204)":{tag:"(0072,0204)",vr:"US",vm:"1",name:"DisplaySetPresentationGroup"},"(0072,0206)":{tag:"(0072,0206)",vr:"LO",vm:"1",name:"DisplaySetPresentationGroupDescription"},"(0072,0208)":{tag:"(0072,0208)",vr:"CS",vm:"1",name:"PartialDataDisplayHandling"},"(0072,0210)":{tag:"(0072,0210)",vr:"SQ",vm:"1",name:"SynchronizedScrollingSequence"},"(0072,0212)":{tag:"(0072,0212)",vr:"US",vm:"2-n",name:"DisplaySetScrollingGroup"},"(0072,0214)":{tag:"(0072,0214)",vr:"SQ",vm:"1",name:"NavigationIndicatorSequence"},"(0072,0216)":{tag:"(0072,0216)",vr:"US",vm:"1",name:"NavigationDisplaySet"},"(0072,0218)":{tag:"(0072,0218)",vr:"US",vm:"1-n",name:"ReferenceDisplaySets"},"(0072,0300)":{tag:"(0072,0300)",vr:"SQ",vm:"1",name:"ImageBoxesSequence"},"(0072,0302)":{tag:"(0072,0302)",vr:"US",vm:"1",name:"ImageBoxNumber"},"(0072,0304)":{tag:"(0072,0304)",vr:"CS",vm:"1",name:"ImageBoxLayoutType"},"(0072,0306)":{tag:"(0072,0306)",vr:"US",vm:"1",name:"ImageBoxTileHorizontalDimension"},"(0072,0308)":{tag:"(0072,0308)",vr:"US",vm:"1",name:"ImageBoxTileVerticalDimension"},"(0072,0310)":{tag:"(0072,0310)",vr:"CS",vm:"1",name:"ImageBoxScrollDirection"},"(0072,0312)":{tag:"(0072,0312)",vr:"CS",vm:"1",name:"ImageBoxSmallScrollType"},"(0072,0314)":{tag:"(0072,0314)",vr:"US",vm:"1",name:"ImageBoxSmallScrollAmount"},"(0072,0316)":{tag:"(0072,0316)",vr:"CS",vm:"1",name:"ImageBoxLargeScrollType"},"(0072,0318)":{tag:"(0072,0318)",vr:"US",vm:"1",name:"ImageBoxLargeScrollAmount"},"(0072,0320)":{tag:"(0072,0320)",vr:"US",vm:"1",name:"ImageBoxOverlapPriority"},"(0072,0330)":{tag:"(0072,0330)",vr:"FD",vm:"1",name:"CineRelativeToRealTime"},"(0072,0400)":{tag:"(0072,0400)",vr:"SQ",vm:"1",name:"FilterOperationsSequence"},"(0072,0402)":{tag:"(0072,0402)",vr:"CS",vm:"1",name:"FilterByCategory"},"(0072,0404)":{tag:"(0072,0404)",vr:"CS",vm:"1",name:"FilterByAttributePresence"},"(0072,0406)":{tag:"(0072,0406)",vr:"CS",vm:"1",name:"FilterByOperator"},"(0072,0420)":{tag:"(0072,0420)",vr:"US",vm:"3",name:"StructuredDisplayBackgroundCIELabValue"},"(0072,0421)":{tag:"(0072,0421)",vr:"US",vm:"3",name:"EmptyImageBoxCIELabValue"},"(0072,0422)":{tag:"(0072,0422)",vr:"SQ",vm:"1",name:"StructuredDisplayImageBoxSequence"},"(0072,0424)":{tag:"(0072,0424)",vr:"SQ",vm:"1",name:"StructuredDisplayTextBoxSequence"},"(0072,0427)":{tag:"(0072,0427)",vr:"SQ",vm:"1",name:"ReferencedFirstFrameSequence"},"(0072,0430)":{tag:"(0072,0430)",vr:"SQ",vm:"1",name:"ImageBoxSynchronizationSequence"},"(0072,0432)":{tag:"(0072,0432)",vr:"US",vm:"2-n",name:"SynchronizedImageBoxList"},"(0072,0434)":{tag:"(0072,0434)",vr:"CS",vm:"1",name:"TypeOfSynchronization"},"(0072,0500)":{tag:"(0072,0500)",vr:"CS",vm:"1",name:"BlendingOperationType"},"(0072,0510)":{tag:"(0072,0510)",vr:"CS",vm:"1",name:"ReformattingOperationType"},"(0072,0512)":{tag:"(0072,0512)",vr:"FD",vm:"1",name:"ReformattingThickness"},"(0072,0514)":{tag:"(0072,0514)",vr:"FD",vm:"1",name:"ReformattingInterval"},"(0072,0516)":{tag:"(0072,0516)",vr:"CS",vm:"1",name:"ReformattingOperationInitialViewDirection"},"(0072,0520)":{tag:"(0072,0520)",vr:"CS",vm:"1-n",name:"ThreeDRenderingType"},"(0072,0600)":{tag:"(0072,0600)",vr:"SQ",vm:"1",name:"SortingOperationsSequence"},"(0072,0602)":{tag:"(0072,0602)",vr:"CS",vm:"1",name:"SortByCategory"},"(0072,0604)":{tag:"(0072,0604)",vr:"CS",vm:"1",name:"SortingDirection"},"(0072,0700)":{tag:"(0072,0700)",vr:"CS",vm:"2",name:"DisplaySetPatientOrientation"},"(0072,0702)":{tag:"(0072,0702)",vr:"CS",vm:"1",name:"VOIType"},"(0072,0704)":{tag:"(0072,0704)",vr:"CS",vm:"1",name:"PseudoColorType"},"(0072,0705)":{tag:"(0072,0705)",vr:"SQ",vm:"1",name:"PseudoColorPaletteInstanceReferenceSequence"},"(0072,0706)":{tag:"(0072,0706)",vr:"CS",vm:"1",name:"ShowGrayscaleInverted"},"(0072,0710)":{tag:"(0072,0710)",vr:"CS",vm:"1",name:"ShowImageTrueSizeFlag"},"(0072,0712)":{tag:"(0072,0712)",vr:"CS",vm:"1",name:"ShowGraphicAnnotationFlag"},"(0072,0714)":{tag:"(0072,0714)",vr:"CS",vm:"1",name:"ShowPatientDemographicsFlag"},"(0072,0716)":{tag:"(0072,0716)",vr:"CS",vm:"1",name:"ShowAcquisitionTechniquesFlag"},"(0072,0717)":{tag:"(0072,0717)",vr:"CS",vm:"1",name:"DisplaySetHorizontalJustification"},"(0072,0718)":{tag:"(0072,0718)",vr:"CS",vm:"1",name:"DisplaySetVerticalJustification"},"(0074,0120)":{tag:"(0074,0120)",vr:"FD",vm:"1",name:"ContinuationStartMeterset"},"(0074,0121)":{tag:"(0074,0121)",vr:"FD",vm:"1",name:"ContinuationEndMeterset"},"(0074,1000)":{tag:"(0074,1000)",vr:"CS",vm:"1",name:"ProcedureStepState"},"(0074,1002)":{tag:"(0074,1002)",vr:"SQ",vm:"1",name:"ProcedureStepProgressInformationSequence"},"(0074,1004)":{tag:"(0074,1004)",vr:"DS",vm:"1",name:"ProcedureStepProgress"},"(0074,1006)":{tag:"(0074,1006)",vr:"ST",vm:"1",name:"ProcedureStepProgressDescription"},"(0074,1007)":{tag:"(0074,1007)",vr:"SQ",vm:"1",name:"ProcedureStepProgressParametersSequence"},"(0074,1008)":{tag:"(0074,1008)",vr:"SQ",vm:"1",name:"ProcedureStepCommunicationsURISequence"},"(0074,100A)":{tag:"(0074,100A)",vr:"UR",vm:"1",name:"ContactURI"},"(0074,100C)":{tag:"(0074,100C)",vr:"LO",vm:"1",name:"ContactDisplayName"},"(0074,100E)":{tag:"(0074,100E)",vr:"SQ",vm:"1",name:"ProcedureStepDiscontinuationReasonCodeSequence"},"(0074,1020)":{tag:"(0074,1020)",vr:"SQ",vm:"1",name:"BeamTaskSequence"},"(0074,1022)":{tag:"(0074,1022)",vr:"CS",vm:"1",name:"BeamTaskType"},"(0074,1024)":{tag:"(0074,1024)",vr:"IS",vm:"1",name:"BeamOrderIndexTrial"},"(0074,1025)":{tag:"(0074,1025)",vr:"CS",vm:"1",name:"AutosequenceFlag"},"(0074,1026)":{tag:"(0074,1026)",vr:"FD",vm:"1",name:"TableTopVerticalAdjustedPosition"},"(0074,1027)":{tag:"(0074,1027)",vr:"FD",vm:"1",name:"TableTopLongitudinalAdjustedPosition"},"(0074,1028)":{tag:"(0074,1028)",vr:"FD",vm:"1",name:"TableTopLateralAdjustedPosition"},"(0074,102A)":{tag:"(0074,102A)",vr:"FD",vm:"1",name:"PatientSupportAdjustedAngle"},"(0074,102B)":{tag:"(0074,102B)",vr:"FD",vm:"1",name:"TableTopEccentricAdjustedAngle"},"(0074,102C)":{tag:"(0074,102C)",vr:"FD",vm:"1",name:"TableTopPitchAdjustedAngle"},"(0074,102D)":{tag:"(0074,102D)",vr:"FD",vm:"1",name:"TableTopRollAdjustedAngle"},"(0074,1030)":{tag:"(0074,1030)",vr:"SQ",vm:"1",name:"DeliveryVerificationImageSequence"},"(0074,1032)":{tag:"(0074,1032)",vr:"CS",vm:"1",name:"VerificationImageTiming"},"(0074,1034)":{tag:"(0074,1034)",vr:"CS",vm:"1",name:"DoubleExposureFlag"},"(0074,1036)":{tag:"(0074,1036)",vr:"CS",vm:"1",name:"DoubleExposureOrdering"},"(0074,1038)":{tag:"(0074,1038)",vr:"DS",vm:"1",name:"DoubleExposureMetersetTrial"},"(0074,103A)":{tag:"(0074,103A)",vr:"DS",vm:"4",name:"DoubleExposureFieldDeltaTrial"},"(0074,1040)":{tag:"(0074,1040)",vr:"SQ",vm:"1",name:"RelatedReferenceRTImageSequence"},"(0074,1042)":{tag:"(0074,1042)",vr:"SQ",vm:"1",name:"GeneralMachineVerificationSequence"},"(0074,1044)":{tag:"(0074,1044)",vr:"SQ",vm:"1",name:"ConventionalMachineVerificationSequence"},"(0074,1046)":{tag:"(0074,1046)",vr:"SQ",vm:"1",name:"IonMachineVerificationSequence"},"(0074,1048)":{tag:"(0074,1048)",vr:"SQ",vm:"1",name:"FailedAttributesSequence"},"(0074,104A)":{tag:"(0074,104A)",vr:"SQ",vm:"1",name:"OverriddenAttributesSequence"},"(0074,104C)":{tag:"(0074,104C)",vr:"SQ",vm:"1",name:"ConventionalControlPointVerificationSequence"},"(0074,104E)":{tag:"(0074,104E)",vr:"SQ",vm:"1",name:"IonControlPointVerificationSequence"},"(0074,1050)":{tag:"(0074,1050)",vr:"SQ",vm:"1",name:"AttributeOccurrenceSequence"},"(0074,1052)":{tag:"(0074,1052)",vr:"AT",vm:"1",name:"AttributeOccurrencePointer"},"(0074,1054)":{tag:"(0074,1054)",vr:"UL",vm:"1",name:"AttributeItemSelector"},"(0074,1056)":{tag:"(0074,1056)",vr:"LO",vm:"1",name:"AttributeOccurrencePrivateCreator"},"(0074,1057)":{tag:"(0074,1057)",vr:"IS",vm:"1-n",name:"SelectorSequencePointerItems"},"(0074,1200)":{tag:"(0074,1200)",vr:"CS",vm:"1",name:"ScheduledProcedureStepPriority"},"(0074,1202)":{tag:"(0074,1202)",vr:"LO",vm:"1",name:"WorklistLabel"},"(0074,1204)":{tag:"(0074,1204)",vr:"LO",vm:"1",name:"ProcedureStepLabel"},"(0074,1210)":{tag:"(0074,1210)",vr:"SQ",vm:"1",name:"ScheduledProcessingParametersSequence"},"(0074,1212)":{tag:"(0074,1212)",vr:"SQ",vm:"1",name:"PerformedProcessingParametersSequence"},"(0074,1216)":{tag:"(0074,1216)",vr:"SQ",vm:"1",name:"UnifiedProcedureStepPerformedProcedureSequence"},"(0074,1220)":{tag:"(0074,1220)",vr:"SQ",vm:"1",name:"RelatedProcedureStepSequence"},"(0074,1222)":{tag:"(0074,1222)",vr:"LO",vm:"1",name:"ProcedureStepRelationshipType"},"(0074,1224)":{tag:"(0074,1224)",vr:"SQ",vm:"1",name:"ReplacedProcedureStepSequence"},"(0074,1230)":{tag:"(0074,1230)",vr:"LO",vm:"1",name:"DeletionLock"},"(0074,1234)":{tag:"(0074,1234)",vr:"AE",vm:"1",name:"ReceivingAE"},"(0074,1236)":{tag:"(0074,1236)",vr:"AE",vm:"1",name:"RequestingAE"},"(0074,1238)":{tag:"(0074,1238)",vr:"LT",vm:"1",name:"ReasonForCancellation"},"(0074,1242)":{tag:"(0074,1242)",vr:"CS",vm:"1",name:"SCPStatus"},"(0074,1244)":{tag:"(0074,1244)",vr:"CS",vm:"1",name:"SubscriptionListStatus"},"(0074,1246)":{tag:"(0074,1246)",vr:"CS",vm:"1",name:"UnifiedProcedureStepListStatus"},"(0074,1324)":{tag:"(0074,1324)",vr:"UL",vm:"1",name:"BeamOrderIndex"},"(0074,1338)":{tag:"(0074,1338)",vr:"FD",vm:"1",name:"DoubleExposureMeterset"},"(0074,133A)":{tag:"(0074,133A)",vr:"FD",vm:"4",name:"DoubleExposureFieldDelta"},"(0074,1401)":{tag:"(0074,1401)",vr:"SQ",vm:"1",name:"BrachyTaskSequence"},"(0074,1402)":{tag:"(0074,1402)",vr:"DS",vm:"1",name:"ContinuationStartTotalReferenceAirKerma"},"(0074,1403)":{tag:"(0074,1403)",vr:"DS",vm:"1",name:"ContinuationEndTotalReferenceAirKerma"},"(0074,1404)":{tag:"(0074,1404)",vr:"IS",vm:"1",name:"ContinuationPulseNumber"},"(0074,1405)":{tag:"(0074,1405)",vr:"SQ",vm:"1",name:"ChannelDeliveryOrderSequence"},"(0074,1406)":{tag:"(0074,1406)",vr:"IS",vm:"1",name:"ReferencedChannelNumber"},"(0074,1407)":{tag:"(0074,1407)",vr:"DS",vm:"1",name:"StartCumulativeTimeWeight"},"(0074,1408)":{tag:"(0074,1408)",vr:"DS",vm:"1",name:"EndCumulativeTimeWeight"},"(0074,1409)":{tag:"(0074,1409)",vr:"SQ",vm:"1",name:"OmittedChannelSequence"},"(0074,140A)":{tag:"(0074,140A)",vr:"CS",vm:"1",name:"ReasonForChannelOmission"},"(0074,140B)":{tag:"(0074,140B)",vr:"LO",vm:"1",name:"ReasonForChannelOmissionDescription"},"(0074,140C)":{tag:"(0074,140C)",vr:"IS",vm:"1",name:"ChannelDeliveryOrderIndex"},"(0074,140D)":{tag:"(0074,140D)",vr:"SQ",vm:"1",name:"ChannelDeliveryContinuationSequence"},"(0074,140E)":{tag:"(0074,140E)",vr:"SQ",vm:"1",name:"OmittedApplicationSetupSequence"},"(0076,0001)":{tag:"(0076,0001)",vr:"LO",vm:"1",name:"ImplantAssemblyTemplateName"},"(0076,0003)":{tag:"(0076,0003)",vr:"LO",vm:"1",name:"ImplantAssemblyTemplateIssuer"},"(0076,0006)":{tag:"(0076,0006)",vr:"LO",vm:"1",name:"ImplantAssemblyTemplateVersion"},"(0076,0008)":{tag:"(0076,0008)",vr:"SQ",vm:"1",name:"ReplacedImplantAssemblyTemplateSequence"},"(0076,000A)":{tag:"(0076,000A)",vr:"CS",vm:"1",name:"ImplantAssemblyTemplateType"},"(0076,000C)":{tag:"(0076,000C)",vr:"SQ",vm:"1",name:"OriginalImplantAssemblyTemplateSequence"},"(0076,000E)":{tag:"(0076,000E)",vr:"SQ",vm:"1",name:"DerivationImplantAssemblyTemplateSequence"},"(0076,0010)":{tag:"(0076,0010)",vr:"SQ",vm:"1",name:"ImplantAssemblyTemplateTargetAnatomySequence"},"(0076,0020)":{tag:"(0076,0020)",vr:"SQ",vm:"1",name:"ProcedureTypeCodeSequence"},"(0076,0030)":{tag:"(0076,0030)",vr:"LO",vm:"1",name:"SurgicalTechnique"},"(0076,0032)":{tag:"(0076,0032)",vr:"SQ",vm:"1",name:"ComponentTypesSequence"},"(0076,0034)":{tag:"(0076,0034)",vr:"SQ",vm:"1",name:"ComponentTypeCodeSequence"},"(0076,0036)":{tag:"(0076,0036)",vr:"CS",vm:"1",name:"ExclusiveComponentType"},"(0076,0038)":{tag:"(0076,0038)",vr:"CS",vm:"1",name:"MandatoryComponentType"},"(0076,0040)":{tag:"(0076,0040)",vr:"SQ",vm:"1",name:"ComponentSequence"},"(0076,0055)":{tag:"(0076,0055)",vr:"US",vm:"1",name:"ComponentID"},"(0076,0060)":{tag:"(0076,0060)",vr:"SQ",vm:"1",name:"ComponentAssemblySequence"},"(0076,0070)":{tag:"(0076,0070)",vr:"US",vm:"1",name:"Component1ReferencedID"},"(0076,0080)":{tag:"(0076,0080)",vr:"US",vm:"1",name:"Component1ReferencedMatingFeatureSetID"},"(0076,0090)":{tag:"(0076,0090)",vr:"US",vm:"1",name:"Component1ReferencedMatingFeatureID"},"(0076,00A0)":{tag:"(0076,00A0)",vr:"US",vm:"1",name:"Component2ReferencedID"},"(0076,00B0)":{tag:"(0076,00B0)",vr:"US",vm:"1",name:"Component2ReferencedMatingFeatureSetID"},"(0076,00C0)":{tag:"(0076,00C0)",vr:"US",vm:"1",name:"Component2ReferencedMatingFeatureID"},"(0078,0001)":{tag:"(0078,0001)",vr:"LO",vm:"1",name:"ImplantTemplateGroupName"},"(0078,0010)":{tag:"(0078,0010)",vr:"ST",vm:"1",name:"ImplantTemplateGroupDescription"},"(0078,0020)":{tag:"(0078,0020)",vr:"LO",vm:"1",name:"ImplantTemplateGroupIssuer"},"(0078,0024)":{tag:"(0078,0024)",vr:"LO",vm:"1",name:"ImplantTemplateGroupVersion"},"(0078,0026)":{tag:"(0078,0026)",vr:"SQ",vm:"1",name:"ReplacedImplantTemplateGroupSequence"},"(0078,0028)":{tag:"(0078,0028)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupTargetAnatomySequence"},"(0078,002A)":{tag:"(0078,002A)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupMembersSequence"},"(0078,002E)":{tag:"(0078,002E)",vr:"US",vm:"1",name:"ImplantTemplateGroupMemberID"},"(0078,0050)":{tag:"(0078,0050)",vr:"FD",vm:"3",name:"ThreeDImplantTemplateGroupMemberMatchingPoint"},"(0078,0060)":{tag:"(0078,0060)",vr:"FD",vm:"9",name:"ThreeDImplantTemplateGroupMemberMatchingAxes"},"(0078,0070)":{tag:"(0078,0070)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupMemberMatching2DCoordinatesSequence"},"(0078,0090)":{tag:"(0078,0090)",vr:"FD",vm:"2",name:"TwoDImplantTemplateGroupMemberMatchingPoint"},"(0078,00A0)":{tag:"(0078,00A0)",vr:"FD",vm:"4",name:"TwoDImplantTemplateGroupMemberMatchingAxes"},"(0078,00B0)":{tag:"(0078,00B0)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupVariationDimensionSequence"},"(0078,00B2)":{tag:"(0078,00B2)",vr:"LO",vm:"1",name:"ImplantTemplateGroupVariationDimensionName"},"(0078,00B4)":{tag:"(0078,00B4)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupVariationDimensionRankSequence"},"(0078,00B6)":{tag:"(0078,00B6)",vr:"US",vm:"1",name:"ReferencedImplantTemplateGroupMemberID"},"(0078,00B8)":{tag:"(0078,00B8)",vr:"US",vm:"1",name:"ImplantTemplateGroupVariationDimensionRank"},"(0080,0001)":{tag:"(0080,0001)",vr:"SQ",vm:"1",name:"SurfaceScanAcquisitionTypeCodeSequence"},"(0080,0002)":{tag:"(0080,0002)",vr:"SQ",vm:"1",name:"SurfaceScanModeCodeSequence"},"(0080,0003)":{tag:"(0080,0003)",vr:"SQ",vm:"1",name:"RegistrationMethodCodeSequence"},"(0080,0004)":{tag:"(0080,0004)",vr:"FD",vm:"1",name:"ShotDurationTime"},"(0080,0005)":{tag:"(0080,0005)",vr:"FD",vm:"1",name:"ShotOffsetTime"},"(0080,0006)":{tag:"(0080,0006)",vr:"US",vm:"1-n",name:"SurfacePointPresentationValueData"},"(0080,0007)":{tag:"(0080,0007)",vr:"US",vm:"3-3n",name:"SurfacePointColorCIELabValueData"},"(0080,0008)":{tag:"(0080,0008)",vr:"SQ",vm:"1",name:"UVMappingSequence"},"(0080,0009)":{tag:"(0080,0009)",vr:"SH",vm:"1",name:"TextureLabel"},"(0080,0010)":{tag:"(0080,0010)",vr:"OF",vm:"1",name:"UValueData"},"(0080,0011)":{tag:"(0080,0011)",vr:"OF",vm:"1",name:"VValueData"},"(0080,0012)":{tag:"(0080,0012)",vr:"SQ",vm:"1",name:"ReferencedTextureSequence"},"(0080,0013)":{tag:"(0080,0013)",vr:"SQ",vm:"1",name:"ReferencedSurfaceDataSequence"},"(0082,0001)":{tag:"(0082,0001)",vr:"CS",vm:"1",name:"AssessmentSummary"},"(0082,0003)":{tag:"(0082,0003)",vr:"UT",vm:"1",name:"AssessmentSummaryDescription"},"(0082,0004)":{tag:"(0082,0004)",vr:"SQ",vm:"1",name:"AssessedSOPInstanceSequence"},"(0082,0005)":{tag:"(0082,0005)",vr:"SQ",vm:"1",name:"ReferencedComparisonSOPInstanceSequence"},"(0082,0006)":{tag:"(0082,0006)",vr:"UL",vm:"1",name:"NumberOfAssessmentObservations"},"(0082,0007)":{tag:"(0082,0007)",vr:"SQ",vm:"1",name:"AssessmentObservationsSequence"},"(0082,0008)":{tag:"(0082,0008)",vr:"CS",vm:"1",name:"ObservationSignificance"},"(0082,000A)":{tag:"(0082,000A)",vr:"UT",vm:"1",name:"ObservationDescription"},"(0082,000C)":{tag:"(0082,000C)",vr:"SQ",vm:"1",name:"StructuredConstraintObservationSequence"},"(0082,0010)":{tag:"(0082,0010)",vr:"SQ",vm:"1",name:"AssessedAttributeValueSequence"},"(0082,0016)":{tag:"(0082,0016)",vr:"LO",vm:"1",name:"AssessmentSetID"},"(0082,0017)":{tag:"(0082,0017)",vr:"SQ",vm:"1",name:"AssessmentRequesterSequence"},"(0082,0018)":{tag:"(0082,0018)",vr:"LO",vm:"1",name:"SelectorAttributeName"},"(0082,0019)":{tag:"(0082,0019)",vr:"LO",vm:"1",name:"SelectorAttributeKeyword"},"(0082,0021)":{tag:"(0082,0021)",vr:"SQ",vm:"1",name:"AssessmentTypeCodeSequence"},"(0082,0022)":{tag:"(0082,0022)",vr:"SQ",vm:"1",name:"ObservationBasisCodeSequence"},"(0082,0023)":{tag:"(0082,0023)",vr:"LO",vm:"1",name:"AssessmentLabel"},"(0082,0032)":{tag:"(0082,0032)",vr:"CS",vm:"1",name:"ConstraintType"},"(0082,0033)":{tag:"(0082,0033)",vr:"UT",vm:"1",name:"SpecificationSelectionGuidance"},"(0082,0034)":{tag:"(0082,0034)",vr:"SQ",vm:"1",name:"ConstraintValueSequence"},"(0082,0035)":{tag:"(0082,0035)",vr:"SQ",vm:"1",name:"RecommendedDefaultValueSequence"},"(0082,0036)":{tag:"(0082,0036)",vr:"CS",vm:"1",name:"ConstraintViolationSignificance"},"(0082,0037)":{tag:"(0082,0037)",vr:"UT",vm:"1",name:"ConstraintViolationCondition"},"(0082,0038)":{tag:"(0082,0038)",vr:"CS",vm:"1",name:"ModifiableConstraintFlag"},"(0088,0130)":{tag:"(0088,0130)",vr:"SH",vm:"1",name:"StorageMediaFileSetID"},"(0088,0140)":{tag:"(0088,0140)",vr:"UI",vm:"1",name:"StorageMediaFileSetUID"},"(0088,0200)":{tag:"(0088,0200)",vr:"SQ",vm:"1",name:"IconImageSequence"},"(0088,0904)":{tag:"(0088,0904)",vr:"LO",vm:"1",name:"TopicTitle"},"(0088,0906)":{tag:"(0088,0906)",vr:"ST",vm:"1",name:"TopicSubject"},"(0088,0910)":{tag:"(0088,0910)",vr:"LO",vm:"1",name:"TopicAuthor"},"(0088,0912)":{tag:"(0088,0912)",vr:"LO",vm:"1-32",name:"TopicKeywords"},"(0100,0410)":{tag:"(0100,0410)",vr:"CS",vm:"1",name:"SOPInstanceStatus"},"(0100,0420)":{tag:"(0100,0420)",vr:"DT",vm:"1",name:"SOPAuthorizationDateTime"},"(0100,0424)":{tag:"(0100,0424)",vr:"LT",vm:"1",name:"SOPAuthorizationComment"},"(0100,0426)":{tag:"(0100,0426)",vr:"LO",vm:"1",name:"AuthorizationEquipmentCertificationNumber"},"(0400,0005)":{tag:"(0400,0005)",vr:"US",vm:"1",name:"MACIDNumber"},"(0400,0010)":{tag:"(0400,0010)",vr:"UI",vm:"1",name:"MACCalculationTransferSyntaxUID"},"(0400,0015)":{tag:"(0400,0015)",vr:"CS",vm:"1",name:"MACAlgorithm"},"(0400,0020)":{tag:"(0400,0020)",vr:"AT",vm:"1-n",name:"DataElementsSigned"},"(0400,0100)":{tag:"(0400,0100)",vr:"UI",vm:"1",name:"DigitalSignatureUID"},"(0400,0105)":{tag:"(0400,0105)",vr:"DT",vm:"1",name:"DigitalSignatureDateTime"},"(0400,0110)":{tag:"(0400,0110)",vr:"CS",vm:"1",name:"CertificateType"},"(0400,0115)":{tag:"(0400,0115)",vr:"OB",vm:"1",name:"CertificateOfSigner"},"(0400,0120)":{tag:"(0400,0120)",vr:"OB",vm:"1",name:"Signature"},"(0400,0305)":{tag:"(0400,0305)",vr:"CS",vm:"1",name:"CertifiedTimestampType"},"(0400,0310)":{tag:"(0400,0310)",vr:"OB",vm:"1",name:"CertifiedTimestamp"},"(0400,0315)":{tag:"(0400,0315)",vr:"FL",vm:"1",name:""},"(0400,0401)":{tag:"(0400,0401)",vr:"SQ",vm:"1",name:"DigitalSignaturePurposeCodeSequence"},"(0400,0402)":{tag:"(0400,0402)",vr:"SQ",vm:"1",name:"ReferencedDigitalSignatureSequence"},"(0400,0403)":{tag:"(0400,0403)",vr:"SQ",vm:"1",name:"ReferencedSOPInstanceMACSequence"},"(0400,0404)":{tag:"(0400,0404)",vr:"OB",vm:"1",name:"MAC"},"(0400,0500)":{tag:"(0400,0500)",vr:"SQ",vm:"1",name:"EncryptedAttributesSequence"},"(0400,0510)":{tag:"(0400,0510)",vr:"UI",vm:"1",name:"EncryptedContentTransferSyntaxUID"},"(0400,0520)":{tag:"(0400,0520)",vr:"OB",vm:"1",name:"EncryptedContent"},"(0400,0550)":{tag:"(0400,0550)",vr:"SQ",vm:"1",name:"ModifiedAttributesSequence"},"(0400,0551)":{tag:"(0400,0551)",vr:"SQ",vm:"1",name:"NonconformingModifiedAttributesSequence"},"(0400,0552)":{tag:"(0400,0552)",vr:"OB",vm:"1",name:"NonconformingDataElementValue"},"(0400,0561)":{tag:"(0400,0561)",vr:"SQ",vm:"1",name:"OriginalAttributesSequence"},"(0400,0562)":{tag:"(0400,0562)",vr:"DT",vm:"1",name:"AttributeModificationDateTime"},"(0400,0563)":{tag:"(0400,0563)",vr:"LO",vm:"1",name:"ModifyingSystem"},"(0400,0564)":{tag:"(0400,0564)",vr:"LO",vm:"1",name:"SourceOfPreviousValues"},"(0400,0565)":{tag:"(0400,0565)",vr:"CS",vm:"1",name:"ReasonForTheAttributeModification"},"(0400,0600)":{tag:"(0400,0600)",vr:"CS",vm:"1",name:"InstanceOriginStatus"},"(1000,xxx0)":{tag:"(1000,xxx0)",vr:"US",vm:"3",name:"EscapeTriplet"},"(1000,xxx1)":{tag:"(1000,xxx1)",vr:"US",vm:"3",name:"RunLengthTriplet"},"(1000,xxx2)":{tag:"(1000,xxx2)",vr:"US",vm:"1",name:"HuffmanTableSize"},"(1000,xxx3)":{tag:"(1000,xxx3)",vr:"US",vm:"3",name:"HuffmanTableTriplet"},"(1000,xxx4)":{tag:"(1000,xxx4)",vr:"US",vm:"1",name:"ShiftTableSize"},"(1000,xxx5)":{tag:"(1000,xxx5)",vr:"US",vm:"3",name:"ShiftTableTriplet"},"(1010,xxxx)":{tag:"(1010,xxxx)",vr:"US",vm:"1-n",name:"ZonalMap"},"(2000,0010)":{tag:"(2000,0010)",vr:"IS",vm:"1",name:"NumberOfCopies"},"(2000,001E)":{tag:"(2000,001E)",vr:"SQ",vm:"1",name:"PrinterConfigurationSequence"},"(2000,0020)":{tag:"(2000,0020)",vr:"CS",vm:"1",name:"PrintPriority"},"(2000,0030)":{tag:"(2000,0030)",vr:"CS",vm:"1",name:"MediumType"},"(2000,0040)":{tag:"(2000,0040)",vr:"CS",vm:"1",name:"FilmDestination"},"(2000,0050)":{tag:"(2000,0050)",vr:"LO",vm:"1",name:"FilmSessionLabel"},"(2000,0060)":{tag:"(2000,0060)",vr:"IS",vm:"1",name:"MemoryAllocation"},"(2000,0061)":{tag:"(2000,0061)",vr:"IS",vm:"1",name:"MaximumMemoryAllocation"},"(2000,0062)":{tag:"(2000,0062)",vr:"CS",vm:"1",name:"ColorImagePrintingFlag"},"(2000,0063)":{tag:"(2000,0063)",vr:"CS",vm:"1",name:"CollationFlag"},"(2000,0065)":{tag:"(2000,0065)",vr:"CS",vm:"1",name:"AnnotationFlag"},"(2000,0067)":{tag:"(2000,0067)",vr:"CS",vm:"1",name:"ImageOverlayFlag"},"(2000,0069)":{tag:"(2000,0069)",vr:"CS",vm:"1",name:"PresentationLUTFlag"},"(2000,006A)":{tag:"(2000,006A)",vr:"CS",vm:"1",name:"ImageBoxPresentationLUTFlag"},"(2000,00A0)":{tag:"(2000,00A0)",vr:"US",vm:"1",name:"MemoryBitDepth"},"(2000,00A1)":{tag:"(2000,00A1)",vr:"US",vm:"1",name:"PrintingBitDepth"},"(2000,00A2)":{tag:"(2000,00A2)",vr:"SQ",vm:"1",name:"MediaInstalledSequence"},"(2000,00A4)":{tag:"(2000,00A4)",vr:"SQ",vm:"1",name:"OtherMediaAvailableSequence"},"(2000,00A8)":{tag:"(2000,00A8)",vr:"SQ",vm:"1",name:"SupportedImageDisplayFormatsSequence"},"(2000,0500)":{tag:"(2000,0500)",vr:"SQ",vm:"1",name:"ReferencedFilmBoxSequence"},"(2000,0510)":{tag:"(2000,0510)",vr:"SQ",vm:"1",name:"ReferencedStoredPrintSequence"},"(2010,0010)":{tag:"(2010,0010)",vr:"ST",vm:"1",name:"ImageDisplayFormat"},"(2010,0030)":{tag:"(2010,0030)",vr:"CS",vm:"1",name:"AnnotationDisplayFormatID"},"(2010,0040)":{tag:"(2010,0040)",vr:"CS",vm:"1",name:"FilmOrientation"},"(2010,0050)":{tag:"(2010,0050)",vr:"CS",vm:"1",name:"FilmSizeID"},"(2010,0052)":{tag:"(2010,0052)",vr:"CS",vm:"1",name:"PrinterResolutionID"},"(2010,0054)":{tag:"(2010,0054)",vr:"CS",vm:"1",name:"DefaultPrinterResolutionID"},"(2010,0060)":{tag:"(2010,0060)",vr:"CS",vm:"1",name:"MagnificationType"},"(2010,0080)":{tag:"(2010,0080)",vr:"CS",vm:"1",name:"SmoothingType"},"(2010,00A6)":{tag:"(2010,00A6)",vr:"CS",vm:"1",name:"DefaultMagnificationType"},"(2010,00A7)":{tag:"(2010,00A7)",vr:"CS",vm:"1-n",name:"OtherMagnificationTypesAvailable"},"(2010,00A8)":{tag:"(2010,00A8)",vr:"CS",vm:"1",name:"DefaultSmoothingType"},"(2010,00A9)":{tag:"(2010,00A9)",vr:"CS",vm:"1-n",name:"OtherSmoothingTypesAvailable"},"(2010,0100)":{tag:"(2010,0100)",vr:"CS",vm:"1",name:"BorderDensity"},"(2010,0110)":{tag:"(2010,0110)",vr:"CS",vm:"1",name:"EmptyImageDensity"},"(2010,0120)":{tag:"(2010,0120)",vr:"US",vm:"1",name:"MinDensity"},"(2010,0130)":{tag:"(2010,0130)",vr:"US",vm:"1",name:"MaxDensity"},"(2010,0140)":{tag:"(2010,0140)",vr:"CS",vm:"1",name:"Trim"},"(2010,0150)":{tag:"(2010,0150)",vr:"ST",vm:"1",name:"ConfigurationInformation"},"(2010,0152)":{tag:"(2010,0152)",vr:"LT",vm:"1",name:"ConfigurationInformationDescription"},"(2010,0154)":{tag:"(2010,0154)",vr:"IS",vm:"1",name:"MaximumCollatedFilms"},"(2010,015E)":{tag:"(2010,015E)",vr:"US",vm:"1",name:"Illumination"},"(2010,0160)":{tag:"(2010,0160)",vr:"US",vm:"1",name:"ReflectedAmbientLight"},"(2010,0376)":{tag:"(2010,0376)",vr:"DS",vm:"2",name:"PrinterPixelSpacing"},"(2010,0500)":{tag:"(2010,0500)",vr:"SQ",vm:"1",name:"ReferencedFilmSessionSequence"},"(2010,0510)":{tag:"(2010,0510)",vr:"SQ",vm:"1",name:"ReferencedImageBoxSequence"},"(2010,0520)":{tag:"(2010,0520)",vr:"SQ",vm:"1",name:"ReferencedBasicAnnotationBoxSequence"},"(2020,0010)":{tag:"(2020,0010)",vr:"US",vm:"1",name:"ImageBoxPosition"},"(2020,0020)":{tag:"(2020,0020)",vr:"CS",vm:"1",name:"Polarity"},"(2020,0030)":{tag:"(2020,0030)",vr:"DS",vm:"1",name:"RequestedImageSize"},"(2020,0040)":{tag:"(2020,0040)",vr:"CS",vm:"1",name:"RequestedDecimateCropBehavior"},"(2020,0050)":{tag:"(2020,0050)",vr:"CS",vm:"1",name:"RequestedResolutionID"},"(2020,00A0)":{tag:"(2020,00A0)",vr:"CS",vm:"1",name:"RequestedImageSizeFlag"},"(2020,00A2)":{tag:"(2020,00A2)",vr:"CS",vm:"1",name:"DecimateCropResult"},"(2020,0110)":{tag:"(2020,0110)",vr:"SQ",vm:"1",name:"BasicGrayscaleImageSequence"},"(2020,0111)":{tag:"(2020,0111)",vr:"SQ",vm:"1",name:"BasicColorImageSequence"},"(2020,0130)":{tag:"(2020,0130)",vr:"SQ",vm:"1",name:"ReferencedImageOverlayBoxSequence"},"(2020,0140)":{tag:"(2020,0140)",vr:"SQ",vm:"1",name:"ReferencedVOILUTBoxSequence"},"(2030,0010)":{tag:"(2030,0010)",vr:"US",vm:"1",name:"AnnotationPosition"},"(2030,0020)":{tag:"(2030,0020)",vr:"LO",vm:"1",name:"TextString"},"(2040,0010)":{tag:"(2040,0010)",vr:"SQ",vm:"1",name:"ReferencedOverlayPlaneSequence"},"(2040,0011)":{tag:"(2040,0011)",vr:"US",vm:"1-99",name:"ReferencedOverlayPlaneGroups"},"(2040,0020)":{tag:"(2040,0020)",vr:"SQ",vm:"1",name:"OverlayPixelDataSequence"},"(2040,0060)":{tag:"(2040,0060)",vr:"CS",vm:"1",name:"OverlayMagnificationType"},"(2040,0070)":{tag:"(2040,0070)",vr:"CS",vm:"1",name:"OverlaySmoothingType"},"(2040,0072)":{tag:"(2040,0072)",vr:"CS",vm:"1",name:"OverlayOrImageMagnification"},"(2040,0074)":{tag:"(2040,0074)",vr:"US",vm:"1",name:"MagnifyToNumberOfColumns"},"(2040,0080)":{tag:"(2040,0080)",vr:"CS",vm:"1",name:"OverlayForegroundDensity"},"(2040,0082)":{tag:"(2040,0082)",vr:"CS",vm:"1",name:"OverlayBackgroundDensity"},"(2040,0090)":{tag:"(2040,0090)",vr:"CS",vm:"1",name:"OverlayMode"},"(2040,0100)":{tag:"(2040,0100)",vr:"CS",vm:"1",name:"ThresholdDensity"},"(2040,0500)":{tag:"(2040,0500)",vr:"SQ",vm:"1",name:"ReferencedImageBoxSequenceRetired"},"(2050,0010)":{tag:"(2050,0010)",vr:"SQ",vm:"1",name:"PresentationLUTSequence"},"(2050,0020)":{tag:"(2050,0020)",vr:"CS",vm:"1",name:"PresentationLUTShape"},"(2050,0500)":{tag:"(2050,0500)",vr:"SQ",vm:"1",name:"ReferencedPresentationLUTSequence"},"(2100,0010)":{tag:"(2100,0010)",vr:"SH",vm:"1",name:"PrintJobID"},"(2100,0020)":{tag:"(2100,0020)",vr:"CS",vm:"1",name:"ExecutionStatus"},"(2100,0030)":{tag:"(2100,0030)",vr:"CS",vm:"1",name:"ExecutionStatusInfo"},"(2100,0040)":{tag:"(2100,0040)",vr:"DA",vm:"1",name:"CreationDate"},"(2100,0050)":{tag:"(2100,0050)",vr:"TM",vm:"1",name:"CreationTime"},"(2100,0070)":{tag:"(2100,0070)",vr:"AE",vm:"1",name:"Originator"},"(2100,0140)":{tag:"(2100,0140)",vr:"AE",vm:"1",name:"DestinationAE"},"(2100,0160)":{tag:"(2100,0160)",vr:"SH",vm:"1",name:"OwnerID"},"(2100,0170)":{tag:"(2100,0170)",vr:"IS",vm:"1",name:"NumberOfFilms"},"(2100,0500)":{tag:"(2100,0500)",vr:"SQ",vm:"1",name:"ReferencedPrintJobSequencePullStoredPrint"},"(2110,0010)":{tag:"(2110,0010)",vr:"CS",vm:"1",name:"PrinterStatus"},"(2110,0020)":{tag:"(2110,0020)",vr:"CS",vm:"1",name:"PrinterStatusInfo"},"(2110,0030)":{tag:"(2110,0030)",vr:"LO",vm:"1",name:"PrinterName"},"(2110,0099)":{tag:"(2110,0099)",vr:"SH",vm:"1",name:"PrintQueueID"},"(2120,0010)":{tag:"(2120,0010)",vr:"CS",vm:"1",name:"QueueStatus"},"(2120,0050)":{tag:"(2120,0050)",vr:"SQ",vm:"1",name:"PrintJobDescriptionSequence"},"(2120,0070)":{tag:"(2120,0070)",vr:"SQ",vm:"1",name:"ReferencedPrintJobSequence"},"(2130,0010)":{tag:"(2130,0010)",vr:"SQ",vm:"1",name:"PrintManagementCapabilitiesSequence"},"(2130,0015)":{tag:"(2130,0015)",vr:"SQ",vm:"1",name:"PrinterCharacteristicsSequence"},"(2130,0030)":{tag:"(2130,0030)",vr:"SQ",vm:"1",name:"FilmBoxContentSequence"},"(2130,0040)":{tag:"(2130,0040)",vr:"SQ",vm:"1",name:"ImageBoxContentSequence"},"(2130,0050)":{tag:"(2130,0050)",vr:"SQ",vm:"1",name:"AnnotationContentSequence"},"(2130,0060)":{tag:"(2130,0060)",vr:"SQ",vm:"1",name:"ImageOverlayBoxContentSequence"},"(2130,0080)":{tag:"(2130,0080)",vr:"SQ",vm:"1",name:"PresentationLUTContentSequence"},"(2130,00A0)":{tag:"(2130,00A0)",vr:"SQ",vm:"1",name:"ProposedStudySequence"},"(2130,00C0)":{tag:"(2130,00C0)",vr:"SQ",vm:"1",name:"OriginalImageSequence"},"(2200,0001)":{tag:"(2200,0001)",vr:"CS",vm:"1",name:"LabelUsingInformationExtractedFromInstances"},"(2200,0002)":{tag:"(2200,0002)",vr:"UT",vm:"1",name:"LabelText"},"(2200,0003)":{tag:"(2200,0003)",vr:"CS",vm:"1",name:"LabelStyleSelection"},"(2200,0004)":{tag:"(2200,0004)",vr:"LT",vm:"1",name:"MediaDisposition"},"(2200,0005)":{tag:"(2200,0005)",vr:"LT",vm:"1",name:"BarcodeValue"},"(2200,0006)":{tag:"(2200,0006)",vr:"CS",vm:"1",name:"BarcodeSymbology"},"(2200,0007)":{tag:"(2200,0007)",vr:"CS",vm:"1",name:"AllowMediaSplitting"},"(2200,0008)":{tag:"(2200,0008)",vr:"CS",vm:"1",name:"IncludeNonDICOMObjects"},"(2200,0009)":{tag:"(2200,0009)",vr:"CS",vm:"1",name:"IncludeDisplayApplication"},"(2200,000A)":{tag:"(2200,000A)",vr:"CS",vm:"1",name:"PreserveCompositeInstancesAfterMediaCreation"},"(2200,000B)":{tag:"(2200,000B)",vr:"US",vm:"1",name:"TotalNumberOfPiecesOfMediaCreated"},"(2200,000C)":{tag:"(2200,000C)",vr:"LO",vm:"1",name:"RequestedMediaApplicationProfile"},"(2200,000D)":{tag:"(2200,000D)",vr:"SQ",vm:"1",name:"ReferencedStorageMediaSequence"},"(2200,000E)":{tag:"(2200,000E)",vr:"AT",vm:"1-n",name:"FailureAttributes"},"(2200,000F)":{tag:"(2200,000F)",vr:"CS",vm:"1",name:"AllowLossyCompression"},"(2200,0020)":{tag:"(2200,0020)",vr:"CS",vm:"1",name:"RequestPriority"},"(3002,0002)":{tag:"(3002,0002)",vr:"SH",vm:"1",name:"RTImageLabel"},"(3002,0003)":{tag:"(3002,0003)",vr:"LO",vm:"1",name:"RTImageName"},"(3002,0004)":{tag:"(3002,0004)",vr:"ST",vm:"1",name:"RTImageDescription"},"(3002,000A)":{tag:"(3002,000A)",vr:"CS",vm:"1",name:"ReportedValuesOrigin"},"(3002,000C)":{tag:"(3002,000C)",vr:"CS",vm:"1",name:"RTImagePlane"},"(3002,000D)":{tag:"(3002,000D)",vr:"DS",vm:"3",name:"XRayImageReceptorTranslation"},"(3002,000E)":{tag:"(3002,000E)",vr:"DS",vm:"1",name:"XRayImageReceptorAngle"},"(3002,0010)":{tag:"(3002,0010)",vr:"DS",vm:"6",name:"RTImageOrientation"},"(3002,0011)":{tag:"(3002,0011)",vr:"DS",vm:"2",name:"ImagePlanePixelSpacing"},"(3002,0012)":{tag:"(3002,0012)",vr:"DS",vm:"2",name:"RTImagePosition"},"(3002,0020)":{tag:"(3002,0020)",vr:"SH",vm:"1",name:"RadiationMachineName"},"(3002,0022)":{tag:"(3002,0022)",vr:"DS",vm:"1",name:"RadiationMachineSAD"},"(3002,0024)":{tag:"(3002,0024)",vr:"DS",vm:"1",name:"RadiationMachineSSD"},"(3002,0026)":{tag:"(3002,0026)",vr:"DS",vm:"1",name:"RTImageSID"},"(3002,0028)":{tag:"(3002,0028)",vr:"DS",vm:"1",name:"SourceToReferenceObjectDistance"},"(3002,0029)":{tag:"(3002,0029)",vr:"IS",vm:"1",name:"FractionNumber"},"(3002,0030)":{tag:"(3002,0030)",vr:"SQ",vm:"1",name:"ExposureSequence"},"(3002,0032)":{tag:"(3002,0032)",vr:"DS",vm:"1",name:"MetersetExposure"},"(3002,0034)":{tag:"(3002,0034)",vr:"DS",vm:"4",name:"DiaphragmPosition"},"(3002,0040)":{tag:"(3002,0040)",vr:"SQ",vm:"1",name:"FluenceMapSequence"},"(3002,0041)":{tag:"(3002,0041)",vr:"CS",vm:"1",name:"FluenceDataSource"},"(3002,0042)":{tag:"(3002,0042)",vr:"DS",vm:"1",name:"FluenceDataScale"},"(3002,0050)":{tag:"(3002,0050)",vr:"SQ",vm:"1",name:"PrimaryFluenceModeSequence"},"(3002,0051)":{tag:"(3002,0051)",vr:"CS",vm:"1",name:"FluenceMode"},"(3002,0052)":{tag:"(3002,0052)",vr:"SH",vm:"1",name:"FluenceModeID"},"(3004,0001)":{tag:"(3004,0001)",vr:"CS",vm:"1",name:"DVHType"},"(3004,0002)":{tag:"(3004,0002)",vr:"CS",vm:"1",name:"DoseUnits"},"(3004,0004)":{tag:"(3004,0004)",vr:"CS",vm:"1",name:"DoseType"},"(3004,0005)":{tag:"(3004,0005)",vr:"CS",vm:"1",name:"SpatialTransformOfDose"},"(3004,0006)":{tag:"(3004,0006)",vr:"LO",vm:"1",name:"DoseComment"},"(3004,0008)":{tag:"(3004,0008)",vr:"DS",vm:"3",name:"NormalizationPoint"},"(3004,000A)":{tag:"(3004,000A)",vr:"CS",vm:"1",name:"DoseSummationType"},"(3004,000C)":{tag:"(3004,000C)",vr:"DS",vm:"2-n",name:"GridFrameOffsetVector"},"(3004,000E)":{tag:"(3004,000E)",vr:"DS",vm:"1",name:"DoseGridScaling"},"(3004,0010)":{tag:"(3004,0010)",vr:"SQ",vm:"1",name:"RTDoseROISequence"},"(3004,0012)":{tag:"(3004,0012)",vr:"DS",vm:"1",name:"DoseValue"},"(3004,0014)":{tag:"(3004,0014)",vr:"CS",vm:"1-3",name:"TissueHeterogeneityCorrection"},"(3004,0040)":{tag:"(3004,0040)",vr:"DS",vm:"3",name:"DVHNormalizationPoint"},"(3004,0042)":{tag:"(3004,0042)",vr:"DS",vm:"1",name:"DVHNormalizationDoseValue"},"(3004,0050)":{tag:"(3004,0050)",vr:"SQ",vm:"1",name:"DVHSequence"},"(3004,0052)":{tag:"(3004,0052)",vr:"DS",vm:"1",name:"DVHDoseScaling"},"(3004,0054)":{tag:"(3004,0054)",vr:"CS",vm:"1",name:"DVHVolumeUnits"},"(3004,0056)":{tag:"(3004,0056)",vr:"IS",vm:"1",name:"DVHNumberOfBins"},"(3004,0058)":{tag:"(3004,0058)",vr:"DS",vm:"2-2n",name:"DVHData"},"(3004,0060)":{tag:"(3004,0060)",vr:"SQ",vm:"1",name:"DVHReferencedROISequence"},"(3004,0062)":{tag:"(3004,0062)",vr:"CS",vm:"1",name:"DVHROIContributionType"},"(3004,0070)":{tag:"(3004,0070)",vr:"DS",vm:"1",name:"DVHMinimumDose"},"(3004,0072)":{tag:"(3004,0072)",vr:"DS",vm:"1",name:"DVHMaximumDose"},"(3004,0074)":{tag:"(3004,0074)",vr:"DS",vm:"1",name:"DVHMeanDose"},"(3006,0002)":{tag:"(3006,0002)",vr:"SH",vm:"1",name:"StructureSetLabel"},"(3006,0004)":{tag:"(3006,0004)",vr:"LO",vm:"1",name:"StructureSetName"},"(3006,0006)":{tag:"(3006,0006)",vr:"ST",vm:"1",name:"StructureSetDescription"},"(3006,0008)":{tag:"(3006,0008)",vr:"DA",vm:"1",name:"StructureSetDate"},"(3006,0009)":{tag:"(3006,0009)",vr:"TM",vm:"1",name:"StructureSetTime"},"(3006,0010)":{tag:"(3006,0010)",vr:"SQ",vm:"1",name:"ReferencedFrameOfReferenceSequence"},"(3006,0012)":{tag:"(3006,0012)",vr:"SQ",vm:"1",name:"RTReferencedStudySequence"},"(3006,0014)":{tag:"(3006,0014)",vr:"SQ",vm:"1",name:"RTReferencedSeriesSequence"},"(3006,0016)":{tag:"(3006,0016)",vr:"SQ",vm:"1",name:"ContourImageSequence"},"(3006,0018)":{tag:"(3006,0018)",vr:"SQ",vm:"1",name:"PredecessorStructureSetSequence"},"(3006,0020)":{tag:"(3006,0020)",vr:"SQ",vm:"1",name:"StructureSetROISequence"},"(3006,0022)":{tag:"(3006,0022)",vr:"IS",vm:"1",name:"ROINumber"},"(3006,0024)":{tag:"(3006,0024)",vr:"UI",vm:"1",name:"ReferencedFrameOfReferenceUID"},"(3006,0026)":{tag:"(3006,0026)",vr:"LO",vm:"1",name:"ROIName"},"(3006,0028)":{tag:"(3006,0028)",vr:"ST",vm:"1",name:"ROIDescription"},"(3006,002A)":{tag:"(3006,002A)",vr:"IS",vm:"3",name:"ROIDisplayColor"},"(3006,002C)":{tag:"(3006,002C)",vr:"DS",vm:"1",name:"ROIVolume"},"(3006,0030)":{tag:"(3006,0030)",vr:"SQ",vm:"1",name:"RTRelatedROISequence"},"(3006,0033)":{tag:"(3006,0033)",vr:"CS",vm:"1",name:"RTROIRelationship"},"(3006,0036)":{tag:"(3006,0036)",vr:"CS",vm:"1",name:"ROIGenerationAlgorithm"},"(3006,0037)":{tag:"(3006,0037)",vr:"SQ",vm:"1",name:"ROIDerivationAlgorithmIdentificationSequence"},"(3006,0038)":{tag:"(3006,0038)",vr:"LO",vm:"1",name:"ROIGenerationDescription"},"(3006,0039)":{tag:"(3006,0039)",vr:"SQ",vm:"1",name:"ROIContourSequence"},"(3006,0040)":{tag:"(3006,0040)",vr:"SQ",vm:"1",name:"ContourSequence"},"(3006,0042)":{tag:"(3006,0042)",vr:"CS",vm:"1",name:"ContourGeometricType"},"(3006,0044)":{tag:"(3006,0044)",vr:"DS",vm:"1",name:"ContourSlabThickness"},"(3006,0045)":{tag:"(3006,0045)",vr:"DS",vm:"3",name:"ContourOffsetVector"},"(3006,0046)":{tag:"(3006,0046)",vr:"IS",vm:"1",name:"NumberOfContourPoints"},"(3006,0048)":{tag:"(3006,0048)",vr:"IS",vm:"1",name:"ContourNumber"},"(3006,0049)":{tag:"(3006,0049)",vr:"IS",vm:"1-n",name:"AttachedContours"},"(3006,004A)":{tag:"(3006,004A)",vr:"SQ",vm:"1",name:"SourcePixelPlanesCharacteristicsSequence"},"(3006,0050)":{tag:"(3006,0050)",vr:"DS",vm:"3-3n",name:"ContourData"},"(3006,0080)":{tag:"(3006,0080)",vr:"SQ",vm:"1",name:"RTROIObservationsSequence"},"(3006,0082)":{tag:"(3006,0082)",vr:"IS",vm:"1",name:"ObservationNumber"},"(3006,0084)":{tag:"(3006,0084)",vr:"IS",vm:"1",name:"ReferencedROINumber"},"(3006,0085)":{tag:"(3006,0085)",vr:"SH",vm:"1",name:"ROIObservationLabel"},"(3006,0086)":{tag:"(3006,0086)",vr:"SQ",vm:"1",name:"RTROIIdentificationCodeSequence"},"(3006,0088)":{tag:"(3006,0088)",vr:"ST",vm:"1",name:"ROIObservationDescription"},"(3006,00A0)":{tag:"(3006,00A0)",vr:"SQ",vm:"1",name:"RelatedRTROIObservationsSequence"},"(3006,00A4)":{tag:"(3006,00A4)",vr:"CS",vm:"1",name:"RTROIInterpretedType"},"(3006,00A6)":{tag:"(3006,00A6)",vr:"PN",vm:"1",name:"ROIInterpreter"},"(3006,00B0)":{tag:"(3006,00B0)",vr:"SQ",vm:"1",name:"ROIPhysicalPropertiesSequence"},"(3006,00B2)":{tag:"(3006,00B2)",vr:"CS",vm:"1",name:"ROIPhysicalProperty"},"(3006,00B4)":{tag:"(3006,00B4)",vr:"DS",vm:"1",name:"ROIPhysicalPropertyValue"},"(3006,00B6)":{tag:"(3006,00B6)",vr:"SQ",vm:"1",name:"ROIElementalCompositionSequence"},"(3006,00B7)":{tag:"(3006,00B7)",vr:"US",vm:"1",name:"ROIElementalCompositionAtomicNumber"},"(3006,00B8)":{tag:"(3006,00B8)",vr:"FL",vm:"1",name:"ROIElementalCompositionAtomicMassFraction"},"(3006,00B9)":{tag:"(3006,00B9)",vr:"SQ",vm:"1",name:"AdditionalRTROIIdentificationCodeSequence"},"(3006,00C0)":{tag:"(3006,00C0)",vr:"SQ",vm:"1",name:"FrameOfReferenceRelationshipSequence"},"(3006,00C2)":{tag:"(3006,00C2)",vr:"UI",vm:"1",name:"RelatedFrameOfReferenceUID"},"(3006,00C4)":{tag:"(3006,00C4)",vr:"CS",vm:"1",name:"FrameOfReferenceTransformationType"},"(3006,00C6)":{tag:"(3006,00C6)",vr:"DS",vm:"16",name:"FrameOfReferenceTransformationMatrix"},"(3006,00C8)":{tag:"(3006,00C8)",vr:"LO",vm:"1",name:"FrameOfReferenceTransformationComment"},"(3006,00C9)":{tag:"(3006,00C9)",vr:"SQ",vm:"1",name:"PatientLocationCoordinatesSequence"},"(3006,00CA)":{tag:"(3006,00CA)",vr:"SQ",vm:"1",name:"PatientLocationCoordinatesCodeSequence"},"(3006,00CB)":{tag:"(3006,00CB)",vr:"SQ",vm:"1",name:"PatientSupportPositionSequence"},"(3008,0010)":{tag:"(3008,0010)",vr:"SQ",vm:"1",name:"MeasuredDoseReferenceSequence"},"(3008,0012)":{tag:"(3008,0012)",vr:"ST",vm:"1",name:"MeasuredDoseDescription"},"(3008,0014)":{tag:"(3008,0014)",vr:"CS",vm:"1",name:"MeasuredDoseType"},"(3008,0016)":{tag:"(3008,0016)",vr:"DS",vm:"1",name:"MeasuredDoseValue"},"(3008,0020)":{tag:"(3008,0020)",vr:"SQ",vm:"1",name:"TreatmentSessionBeamSequence"},"(3008,0021)":{tag:"(3008,0021)",vr:"SQ",vm:"1",name:"TreatmentSessionIonBeamSequence"},"(3008,0022)":{tag:"(3008,0022)",vr:"IS",vm:"1",name:"CurrentFractionNumber"},"(3008,0024)":{tag:"(3008,0024)",vr:"DA",vm:"1",name:"TreatmentControlPointDate"},"(3008,0025)":{tag:"(3008,0025)",vr:"TM",vm:"1",name:"TreatmentControlPointTime"},"(3008,002A)":{tag:"(3008,002A)",vr:"CS",vm:"1",name:"TreatmentTerminationStatus"},"(3008,002B)":{tag:"(3008,002B)",vr:"SH",vm:"1",name:"TreatmentTerminationCode"},"(3008,002C)":{tag:"(3008,002C)",vr:"CS",vm:"1",name:"TreatmentVerificationStatus"},"(3008,0030)":{tag:"(3008,0030)",vr:"SQ",vm:"1",name:"ReferencedTreatmentRecordSequence"},"(3008,0032)":{tag:"(3008,0032)",vr:"DS",vm:"1",name:"SpecifiedPrimaryMeterset"},"(3008,0033)":{tag:"(3008,0033)",vr:"DS",vm:"1",name:"SpecifiedSecondaryMeterset"},"(3008,0036)":{tag:"(3008,0036)",vr:"DS",vm:"1",name:"DeliveredPrimaryMeterset"},"(3008,0037)":{tag:"(3008,0037)",vr:"DS",vm:"1",name:"DeliveredSecondaryMeterset"},"(3008,003A)":{tag:"(3008,003A)",vr:"DS",vm:"1",name:"SpecifiedTreatmentTime"},"(3008,003B)":{tag:"(3008,003B)",vr:"DS",vm:"1",name:"DeliveredTreatmentTime"},"(3008,0040)":{tag:"(3008,0040)",vr:"SQ",vm:"1",name:"ControlPointDeliverySequence"},"(3008,0041)":{tag:"(3008,0041)",vr:"SQ",vm:"1",name:"IonControlPointDeliverySequence"},"(3008,0042)":{tag:"(3008,0042)",vr:"DS",vm:"1",name:"SpecifiedMeterset"},"(3008,0044)":{tag:"(3008,0044)",vr:"DS",vm:"1",name:"DeliveredMeterset"},"(3008,0045)":{tag:"(3008,0045)",vr:"FL",vm:"1",name:"MetersetRateSet"},"(3008,0046)":{tag:"(3008,0046)",vr:"FL",vm:"1",name:"MetersetRateDelivered"},"(3008,0047)":{tag:"(3008,0047)",vr:"FL",vm:"1-n",name:"ScanSpotMetersetsDelivered"},"(3008,0048)":{tag:"(3008,0048)",vr:"DS",vm:"1",name:"DoseRateDelivered"},"(3008,0050)":{tag:"(3008,0050)",vr:"SQ",vm:"1",name:"TreatmentSummaryCalculatedDoseReferenceSequence"},"(3008,0052)":{tag:"(3008,0052)",vr:"DS",vm:"1",name:"CumulativeDoseToDoseReference"},"(3008,0054)":{tag:"(3008,0054)",vr:"DA",vm:"1",name:"FirstTreatmentDate"},"(3008,0056)":{tag:"(3008,0056)",vr:"DA",vm:"1",name:"MostRecentTreatmentDate"},"(3008,005A)":{tag:"(3008,005A)",vr:"IS",vm:"1",name:"NumberOfFractionsDelivered"},"(3008,0060)":{tag:"(3008,0060)",vr:"SQ",vm:"1",name:"OverrideSequence"},"(3008,0061)":{tag:"(3008,0061)",vr:"AT",vm:"1",name:"ParameterSequencePointer"},"(3008,0062)":{tag:"(3008,0062)",vr:"AT",vm:"1",name:"OverrideParameterPointer"},"(3008,0063)":{tag:"(3008,0063)",vr:"IS",vm:"1",name:"ParameterItemIndex"},"(3008,0064)":{tag:"(3008,0064)",vr:"IS",vm:"1",name:"MeasuredDoseReferenceNumber"},"(3008,0065)":{tag:"(3008,0065)",vr:"AT",vm:"1",name:"ParameterPointer"},"(3008,0066)":{tag:"(3008,0066)",vr:"ST",vm:"1",name:"OverrideReason"},"(3008,0067)":{tag:"(3008,0067)",vr:"US",vm:"1",name:"ParameterValueNumber"},"(3008,0068)":{tag:"(3008,0068)",vr:"SQ",vm:"1",name:"CorrectedParameterSequence"},"(3008,006A)":{tag:"(3008,006A)",vr:"FL",vm:"1",name:"CorrectionValue"},"(3008,0070)":{tag:"(3008,0070)",vr:"SQ",vm:"1",name:"CalculatedDoseReferenceSequence"},"(3008,0072)":{tag:"(3008,0072)",vr:"IS",vm:"1",name:"CalculatedDoseReferenceNumber"},"(3008,0074)":{tag:"(3008,0074)",vr:"ST",vm:"1",name:"CalculatedDoseReferenceDescription"},"(3008,0076)":{tag:"(3008,0076)",vr:"DS",vm:"1",name:"CalculatedDoseReferenceDoseValue"},"(3008,0078)":{tag:"(3008,0078)",vr:"DS",vm:"1",name:"StartMeterset"},"(3008,007A)":{tag:"(3008,007A)",vr:"DS",vm:"1",name:"EndMeterset"},"(3008,0080)":{tag:"(3008,0080)",vr:"SQ",vm:"1",name:"ReferencedMeasuredDoseReferenceSequence"},"(3008,0082)":{tag:"(3008,0082)",vr:"IS",vm:"1",name:"ReferencedMeasuredDoseReferenceNumber"},"(3008,0090)":{tag:"(3008,0090)",vr:"SQ",vm:"1",name:"ReferencedCalculatedDoseReferenceSequence"},"(3008,0092)":{tag:"(3008,0092)",vr:"IS",vm:"1",name:"ReferencedCalculatedDoseReferenceNumber"},"(3008,00A0)":{tag:"(3008,00A0)",vr:"SQ",vm:"1",name:"BeamLimitingDeviceLeafPairsSequence"},"(3008,00B0)":{tag:"(3008,00B0)",vr:"SQ",vm:"1",name:"RecordedWedgeSequence"},"(3008,00C0)":{tag:"(3008,00C0)",vr:"SQ",vm:"1",name:"RecordedCompensatorSequence"},"(3008,00D0)":{tag:"(3008,00D0)",vr:"SQ",vm:"1",name:"RecordedBlockSequence"},"(3008,00D1)":{tag:"(3008,00D1)",vr:"SQ",vm:"1",name:"RecordedBlockSlabSequence"},"(3008,00E0)":{tag:"(3008,00E0)",vr:"SQ",vm:"1",name:"TreatmentSummaryMeasuredDoseReferenceSequence"},"(3008,00F0)":{tag:"(3008,00F0)",vr:"SQ",vm:"1",name:"RecordedSnoutSequence"},"(3008,00F2)":{tag:"(3008,00F2)",vr:"SQ",vm:"1",name:"RecordedRangeShifterSequence"},"(3008,00F4)":{tag:"(3008,00F4)",vr:"SQ",vm:"1",name:"RecordedLateralSpreadingDeviceSequence"},"(3008,00F6)":{tag:"(3008,00F6)",vr:"SQ",vm:"1",name:"RecordedRangeModulatorSequence"},"(3008,0100)":{tag:"(3008,0100)",vr:"SQ",vm:"1",name:"RecordedSourceSequence"},"(3008,0105)":{tag:"(3008,0105)",vr:"LO",vm:"1",name:"SourceSerialNumber"},"(3008,0110)":{tag:"(3008,0110)",vr:"SQ",vm:"1",name:"TreatmentSessionApplicationSetupSequence"},"(3008,0116)":{tag:"(3008,0116)",vr:"CS",vm:"1",name:"ApplicationSetupCheck"},"(3008,0120)":{tag:"(3008,0120)",vr:"SQ",vm:"1",name:"RecordedBrachyAccessoryDeviceSequence"},"(3008,0122)":{tag:"(3008,0122)",vr:"IS",vm:"1",name:"ReferencedBrachyAccessoryDeviceNumber"},"(3008,0130)":{tag:"(3008,0130)",vr:"SQ",vm:"1",name:"RecordedChannelSequence"},"(3008,0132)":{tag:"(3008,0132)",vr:"DS",vm:"1",name:"SpecifiedChannelTotalTime"},"(3008,0134)":{tag:"(3008,0134)",vr:"DS",vm:"1",name:"DeliveredChannelTotalTime"},"(3008,0136)":{tag:"(3008,0136)",vr:"IS",vm:"1",name:"SpecifiedNumberOfPulses"},"(3008,0138)":{tag:"(3008,0138)",vr:"IS",vm:"1",name:"DeliveredNumberOfPulses"},"(3008,013A)":{tag:"(3008,013A)",vr:"DS",vm:"1",name:"SpecifiedPulseRepetitionInterval"},"(3008,013C)":{tag:"(3008,013C)",vr:"DS",vm:"1",name:"DeliveredPulseRepetitionInterval"},"(3008,0140)":{tag:"(3008,0140)",vr:"SQ",vm:"1",name:"RecordedSourceApplicatorSequence"},"(3008,0142)":{tag:"(3008,0142)",vr:"IS",vm:"1",name:"ReferencedSourceApplicatorNumber"},"(3008,0150)":{tag:"(3008,0150)",vr:"SQ",vm:"1",name:"RecordedChannelShieldSequence"},"(3008,0152)":{tag:"(3008,0152)",vr:"IS",vm:"1",name:"ReferencedChannelShieldNumber"},"(3008,0160)":{tag:"(3008,0160)",vr:"SQ",vm:"1",name:"BrachyControlPointDeliveredSequence"},"(3008,0162)":{tag:"(3008,0162)",vr:"DA",vm:"1",name:"SafePositionExitDate"},"(3008,0164)":{tag:"(3008,0164)",vr:"TM",vm:"1",name:"SafePositionExitTime"},"(3008,0166)":{tag:"(3008,0166)",vr:"DA",vm:"1",name:"SafePositionReturnDate"},"(3008,0168)":{tag:"(3008,0168)",vr:"TM",vm:"1",name:"SafePositionReturnTime"},"(3008,0171)":{tag:"(3008,0171)",vr:"SQ",vm:"1",name:"PulseSpecificBrachyControlPointDeliveredSequence"},"(3008,0172)":{tag:"(3008,0172)",vr:"US",vm:"1",name:"PulseNumber"},"(3008,0173)":{tag:"(3008,0173)",vr:"SQ",vm:"1",name:"BrachyPulseControlPointDeliveredSequence"},"(3008,0200)":{tag:"(3008,0200)",vr:"CS",vm:"1",name:"CurrentTreatmentStatus"},"(3008,0202)":{tag:"(3008,0202)",vr:"ST",vm:"1",name:"TreatmentStatusComment"},"(3008,0220)":{tag:"(3008,0220)",vr:"SQ",vm:"1",name:"FractionGroupSummarySequence"},"(3008,0223)":{tag:"(3008,0223)",vr:"IS",vm:"1",name:"ReferencedFractionNumber"},"(3008,0224)":{tag:"(3008,0224)",vr:"CS",vm:"1",name:"FractionGroupType"},"(3008,0230)":{tag:"(3008,0230)",vr:"CS",vm:"1",name:"BeamStopperPosition"},"(3008,0240)":{tag:"(3008,0240)",vr:"SQ",vm:"1",name:"FractionStatusSummarySequence"},"(3008,0250)":{tag:"(3008,0250)",vr:"DA",vm:"1",name:"TreatmentDate"},"(3008,0251)":{tag:"(3008,0251)",vr:"TM",vm:"1",name:"TreatmentTime"},"(300A,0002)":{tag:"(300A,0002)",vr:"SH",vm:"1",name:"RTPlanLabel"},"(300A,0003)":{tag:"(300A,0003)",vr:"LO",vm:"1",name:"RTPlanName"},"(300A,0004)":{tag:"(300A,0004)",vr:"ST",vm:"1",name:"RTPlanDescription"},"(300A,0006)":{tag:"(300A,0006)",vr:"DA",vm:"1",name:"RTPlanDate"},"(300A,0007)":{tag:"(300A,0007)",vr:"TM",vm:"1",name:"RTPlanTime"},"(300A,0009)":{tag:"(300A,0009)",vr:"LO",vm:"1-n",name:"TreatmentProtocols"},"(300A,000A)":{tag:"(300A,000A)",vr:"CS",vm:"1",name:"PlanIntent"},"(300A,000B)":{tag:"(300A,000B)",vr:"LO",vm:"1-n",name:"TreatmentSites"},"(300A,000C)":{tag:"(300A,000C)",vr:"CS",vm:"1",name:"RTPlanGeometry"},"(300A,000E)":{tag:"(300A,000E)",vr:"ST",vm:"1",name:"PrescriptionDescription"},"(300A,0010)":{tag:"(300A,0010)",vr:"SQ",vm:"1",name:"DoseReferenceSequence"},"(300A,0012)":{tag:"(300A,0012)",vr:"IS",vm:"1",name:"DoseReferenceNumber"},"(300A,0013)":{tag:"(300A,0013)",vr:"UI",vm:"1",name:"DoseReferenceUID"},"(300A,0014)":{tag:"(300A,0014)",vr:"CS",vm:"1",name:"DoseReferenceStructureType"},"(300A,0015)":{tag:"(300A,0015)",vr:"CS",vm:"1",name:"NominalBeamEnergyUnit"},"(300A,0016)":{tag:"(300A,0016)",vr:"LO",vm:"1",name:"DoseReferenceDescription"},"(300A,0018)":{tag:"(300A,0018)",vr:"DS",vm:"3",name:"DoseReferencePointCoordinates"},"(300A,001A)":{tag:"(300A,001A)",vr:"DS",vm:"1",name:"NominalPriorDose"},"(300A,0020)":{tag:"(300A,0020)",vr:"CS",vm:"1",name:"DoseReferenceType"},"(300A,0021)":{tag:"(300A,0021)",vr:"DS",vm:"1",name:"ConstraintWeight"},"(300A,0022)":{tag:"(300A,0022)",vr:"DS",vm:"1",name:"DeliveryWarningDose"},"(300A,0023)":{tag:"(300A,0023)",vr:"DS",vm:"1",name:"DeliveryMaximumDose"},"(300A,0025)":{tag:"(300A,0025)",vr:"DS",vm:"1",name:"TargetMinimumDose"},"(300A,0026)":{tag:"(300A,0026)",vr:"DS",vm:"1",name:"TargetPrescriptionDose"},"(300A,0027)":{tag:"(300A,0027)",vr:"DS",vm:"1",name:"TargetMaximumDose"},"(300A,0028)":{tag:"(300A,0028)",vr:"DS",vm:"1",name:"TargetUnderdoseVolumeFraction"},"(300A,002A)":{tag:"(300A,002A)",vr:"DS",vm:"1",name:"OrganAtRiskFullVolumeDose"},"(300A,002B)":{tag:"(300A,002B)",vr:"DS",vm:"1",name:"OrganAtRiskLimitDose"},"(300A,002C)":{tag:"(300A,002C)",vr:"DS",vm:"1",name:"OrganAtRiskMaximumDose"},"(300A,002D)":{tag:"(300A,002D)",vr:"DS",vm:"1",name:"OrganAtRiskOverdoseVolumeFraction"},"(300A,0040)":{tag:"(300A,0040)",vr:"SQ",vm:"1",name:"ToleranceTableSequence"},"(300A,0042)":{tag:"(300A,0042)",vr:"IS",vm:"1",name:"ToleranceTableNumber"},"(300A,0043)":{tag:"(300A,0043)",vr:"SH",vm:"1",name:"ToleranceTableLabel"},"(300A,0044)":{tag:"(300A,0044)",vr:"DS",vm:"1",name:"GantryAngleTolerance"},"(300A,0046)":{tag:"(300A,0046)",vr:"DS",vm:"1",name:"BeamLimitingDeviceAngleTolerance"},"(300A,0048)":{tag:"(300A,0048)",vr:"SQ",vm:"1",name:"BeamLimitingDeviceToleranceSequence"},"(300A,004A)":{tag:"(300A,004A)",vr:"DS",vm:"1",name:"BeamLimitingDevicePositionTolerance"},"(300A,004B)":{tag:"(300A,004B)",vr:"FL",vm:"1",name:"SnoutPositionTolerance"},"(300A,004C)":{tag:"(300A,004C)",vr:"DS",vm:"1",name:"PatientSupportAngleTolerance"},"(300A,004E)":{tag:"(300A,004E)",vr:"DS",vm:"1",name:"TableTopEccentricAngleTolerance"},"(300A,004F)":{tag:"(300A,004F)",vr:"FL",vm:"1",name:"TableTopPitchAngleTolerance"},"(300A,0050)":{tag:"(300A,0050)",vr:"FL",vm:"1",name:"TableTopRollAngleTolerance"},"(300A,0051)":{tag:"(300A,0051)",vr:"DS",vm:"1",name:"TableTopVerticalPositionTolerance"},"(300A,0052)":{tag:"(300A,0052)",vr:"DS",vm:"1",name:"TableTopLongitudinalPositionTolerance"},"(300A,0053)":{tag:"(300A,0053)",vr:"DS",vm:"1",name:"TableTopLateralPositionTolerance"},"(300A,0055)":{tag:"(300A,0055)",vr:"CS",vm:"1",name:"RTPlanRelationship"},"(300A,0070)":{tag:"(300A,0070)",vr:"SQ",vm:"1",name:"FractionGroupSequence"},"(300A,0071)":{tag:"(300A,0071)",vr:"IS",vm:"1",name:"FractionGroupNumber"},"(300A,0072)":{tag:"(300A,0072)",vr:"LO",vm:"1",name:"FractionGroupDescription"},"(300A,0078)":{tag:"(300A,0078)",vr:"IS",vm:"1",name:"NumberOfFractionsPlanned"},"(300A,0079)":{tag:"(300A,0079)",vr:"IS",vm:"1",name:"NumberOfFractionPatternDigitsPerDay"},"(300A,007A)":{tag:"(300A,007A)",vr:"IS",vm:"1",name:"RepeatFractionCycleLength"},"(300A,007B)":{tag:"(300A,007B)",vr:"LT",vm:"1",name:"FractionPattern"},"(300A,0080)":{tag:"(300A,0080)",vr:"IS",vm:"1",name:"NumberOfBeams"},"(300A,0082)":{tag:"(300A,0082)",vr:"DS",vm:"3",name:"BeamDoseSpecificationPoint"},"(300A,0083)":{tag:"(300A,0083)",vr:"UI",vm:"1",name:"ReferencedDoseReferenceUID"},"(300A,0084)":{tag:"(300A,0084)",vr:"DS",vm:"1",name:"BeamDose"},"(300A,0086)":{tag:"(300A,0086)",vr:"DS",vm:"1",name:"BeamMeterset"},"(300A,0088)":{tag:"(300A,0088)",vr:"FL",vm:"1",name:"BeamDosePointDepth"},"(300A,0089)":{tag:"(300A,0089)",vr:"FL",vm:"1",name:"BeamDosePointEquivalentDepth"},"(300A,008A)":{tag:"(300A,008A)",vr:"FL",vm:"1",name:"BeamDosePointSSD"},"(300A,008B)":{tag:"(300A,008B)",vr:"CS",vm:"1",name:"BeamDoseMeaning"},"(300A,008C)":{tag:"(300A,008C)",vr:"SQ",vm:"1",name:"BeamDoseVerificationControlPointSequence"},"(300A,008D)":{tag:"(300A,008D)",vr:"FL",vm:"1",name:"AverageBeamDosePointDepth"},"(300A,008E)":{tag:"(300A,008E)",vr:"FL",vm:"1",name:"AverageBeamDosePointEquivalentDepth"},"(300A,008F)":{tag:"(300A,008F)",vr:"FL",vm:"1",name:"AverageBeamDosePointSSD"},"(300A,0090)":{tag:"(300A,0090)",vr:"CS",vm:"1",name:"BeamDoseType"},"(300A,0091)":{tag:"(300A,0091)",vr:"DS",vm:"1",name:"AlternateBeamDose"},"(300A,0092)":{tag:"(300A,0092)",vr:"CS",vm:"1",name:"AlternateBeamDoseType"},"(300A,0093)":{tag:"(300A,0093)",vr:"CS",vm:"1",name:"DepthValueAveragingFlag"},"(300A,0094)":{tag:"(300A,0094)",vr:"DS",vm:"1",name:"BeamDosePointSourceToExternalContourDistance"},"(300A,00A0)":{tag:"(300A,00A0)",vr:"IS",vm:"1",name:"NumberOfBrachyApplicationSetups"},"(300A,00A2)":{tag:"(300A,00A2)",vr:"DS",vm:"3",name:"BrachyApplicationSetupDoseSpecificationPoint"},"(300A,00A4)":{tag:"(300A,00A4)",vr:"DS",vm:"1",name:"BrachyApplicationSetupDose"},"(300A,00B0)":{tag:"(300A,00B0)",vr:"SQ",vm:"1",name:"BeamSequence"},"(300A,00B2)":{tag:"(300A,00B2)",vr:"SH",vm:"1",name:"TreatmentMachineName"},"(300A,00B3)":{tag:"(300A,00B3)",vr:"CS",vm:"1",name:"PrimaryDosimeterUnit"},"(300A,00B4)":{tag:"(300A,00B4)",vr:"DS",vm:"1",name:"SourceAxisDistance"},"(300A,00B6)":{tag:"(300A,00B6)",vr:"SQ",vm:"1",name:"BeamLimitingDeviceSequence"},"(300A,00B8)":{tag:"(300A,00B8)",vr:"CS",vm:"1",name:"RTBeamLimitingDeviceType"},"(300A,00BA)":{tag:"(300A,00BA)",vr:"DS",vm:"1",name:"SourceToBeamLimitingDeviceDistance"},"(300A,00BB)":{tag:"(300A,00BB)",vr:"FL",vm:"1",name:"IsocenterToBeamLimitingDeviceDistance"},"(300A,00BC)":{tag:"(300A,00BC)",vr:"IS",vm:"1",name:"NumberOfLeafJawPairs"},"(300A,00BE)":{tag:"(300A,00BE)",vr:"DS",vm:"3-n",name:"LeafPositionBoundaries"},"(300A,00C0)":{tag:"(300A,00C0)",vr:"IS",vm:"1",name:"BeamNumber"},"(300A,00C2)":{tag:"(300A,00C2)",vr:"LO",vm:"1",name:"BeamName"},"(300A,00C3)":{tag:"(300A,00C3)",vr:"ST",vm:"1",name:"BeamDescription"},"(300A,00C4)":{tag:"(300A,00C4)",vr:"CS",vm:"1",name:"BeamType"},"(300A,00C5)":{tag:"(300A,00C5)",vr:"FD",vm:"1",name:"BeamDeliveryDurationLimit"},"(300A,00C6)":{tag:"(300A,00C6)",vr:"CS",vm:"1",name:"RadiationType"},"(300A,00C7)":{tag:"(300A,00C7)",vr:"CS",vm:"1",name:"HighDoseTechniqueType"},"(300A,00C8)":{tag:"(300A,00C8)",vr:"IS",vm:"1",name:"ReferenceImageNumber"},"(300A,00CA)":{tag:"(300A,00CA)",vr:"SQ",vm:"1",name:"PlannedVerificationImageSequence"},"(300A,00CC)":{tag:"(300A,00CC)",vr:"LO",vm:"1-n",name:"ImagingDeviceSpecificAcquisitionParameters"},"(300A,00CE)":{tag:"(300A,00CE)",vr:"CS",vm:"1",name:"TreatmentDeliveryType"},"(300A,00D0)":{tag:"(300A,00D0)",vr:"IS",vm:"1",name:"NumberOfWedges"},"(300A,00D1)":{tag:"(300A,00D1)",vr:"SQ",vm:"1",name:"WedgeSequence"},"(300A,00D2)":{tag:"(300A,00D2)",vr:"IS",vm:"1",name:"WedgeNumber"},"(300A,00D3)":{tag:"(300A,00D3)",vr:"CS",vm:"1",name:"WedgeType"},"(300A,00D4)":{tag:"(300A,00D4)",vr:"SH",vm:"1",name:"WedgeID"},"(300A,00D5)":{tag:"(300A,00D5)",vr:"IS",vm:"1",name:"WedgeAngle"},"(300A,00D6)":{tag:"(300A,00D6)",vr:"DS",vm:"1",name:"WedgeFactor"},"(300A,00D7)":{tag:"(300A,00D7)",vr:"FL",vm:"1",name:"TotalWedgeTrayWaterEquivalentThickness"},"(300A,00D8)":{tag:"(300A,00D8)",vr:"DS",vm:"1",name:"WedgeOrientation"},"(300A,00D9)":{tag:"(300A,00D9)",vr:"FL",vm:"1",name:"IsocenterToWedgeTrayDistance"},"(300A,00DA)":{tag:"(300A,00DA)",vr:"DS",vm:"1",name:"SourceToWedgeTrayDistance"},"(300A,00DB)":{tag:"(300A,00DB)",vr:"FL",vm:"1",name:"WedgeThinEdgePosition"},"(300A,00DC)":{tag:"(300A,00DC)",vr:"SH",vm:"1",name:"BolusID"},"(300A,00DD)":{tag:"(300A,00DD)",vr:"ST",vm:"1",name:"BolusDescription"},"(300A,00DE)":{tag:"(300A,00DE)",vr:"DS",vm:"1",name:"EffectiveWedgeAngle"},"(300A,00E0)":{tag:"(300A,00E0)",vr:"IS",vm:"1",name:"NumberOfCompensators"},"(300A,00E1)":{tag:"(300A,00E1)",vr:"SH",vm:"1",name:"MaterialID"},"(300A,00E2)":{tag:"(300A,00E2)",vr:"DS",vm:"1",name:"TotalCompensatorTrayFactor"},"(300A,00E3)":{tag:"(300A,00E3)",vr:"SQ",vm:"1",name:"CompensatorSequence"},"(300A,00E4)":{tag:"(300A,00E4)",vr:"IS",vm:"1",name:"CompensatorNumber"},"(300A,00E5)":{tag:"(300A,00E5)",vr:"SH",vm:"1",name:"CompensatorID"},"(300A,00E6)":{tag:"(300A,00E6)",vr:"DS",vm:"1",name:"SourceToCompensatorTrayDistance"},"(300A,00E7)":{tag:"(300A,00E7)",vr:"IS",vm:"1",name:"CompensatorRows"},"(300A,00E8)":{tag:"(300A,00E8)",vr:"IS",vm:"1",name:"CompensatorColumns"},"(300A,00E9)":{tag:"(300A,00E9)",vr:"DS",vm:"2",name:"CompensatorPixelSpacing"},"(300A,00EA)":{tag:"(300A,00EA)",vr:"DS",vm:"2",name:"CompensatorPosition"},"(300A,00EB)":{tag:"(300A,00EB)",vr:"DS",vm:"1-n",name:"CompensatorTransmissionData"},"(300A,00EC)":{tag:"(300A,00EC)",vr:"DS",vm:"1-n",name:"CompensatorThicknessData"},"(300A,00ED)":{tag:"(300A,00ED)",vr:"IS",vm:"1",name:"NumberOfBoli"},"(300A,00EE)":{tag:"(300A,00EE)",vr:"CS",vm:"1",name:"CompensatorType"},"(300A,00EF)":{tag:"(300A,00EF)",vr:"SH",vm:"1",name:"CompensatorTrayID"},"(300A,00F0)":{tag:"(300A,00F0)",vr:"IS",vm:"1",name:"NumberOfBlocks"},"(300A,00F2)":{tag:"(300A,00F2)",vr:"DS",vm:"1",name:"TotalBlockTrayFactor"},"(300A,00F3)":{tag:"(300A,00F3)",vr:"FL",vm:"1",name:"TotalBlockTrayWaterEquivalentThickness"},"(300A,00F4)":{tag:"(300A,00F4)",vr:"SQ",vm:"1",name:"BlockSequence"},"(300A,00F5)":{tag:"(300A,00F5)",vr:"SH",vm:"1",name:"BlockTrayID"},"(300A,00F6)":{tag:"(300A,00F6)",vr:"DS",vm:"1",name:"SourceToBlockTrayDistance"},"(300A,00F7)":{tag:"(300A,00F7)",vr:"FL",vm:"1",name:"IsocenterToBlockTrayDistance"},"(300A,00F8)":{tag:"(300A,00F8)",vr:"CS",vm:"1",name:"BlockType"},"(300A,00F9)":{tag:"(300A,00F9)",vr:"LO",vm:"1",name:"AccessoryCode"},"(300A,00FA)":{tag:"(300A,00FA)",vr:"CS",vm:"1",name:"BlockDivergence"},"(300A,00FB)":{tag:"(300A,00FB)",vr:"CS",vm:"1",name:"BlockMountingPosition"},"(300A,00FC)":{tag:"(300A,00FC)",vr:"IS",vm:"1",name:"BlockNumber"},"(300A,00FE)":{tag:"(300A,00FE)",vr:"LO",vm:"1",name:"BlockName"},"(300A,0100)":{tag:"(300A,0100)",vr:"DS",vm:"1",name:"BlockThickness"},"(300A,0102)":{tag:"(300A,0102)",vr:"DS",vm:"1",name:"BlockTransmission"},"(300A,0104)":{tag:"(300A,0104)",vr:"IS",vm:"1",name:"BlockNumberOfPoints"},"(300A,0106)":{tag:"(300A,0106)",vr:"DS",vm:"2-2n",name:"BlockData"},"(300A,0107)":{tag:"(300A,0107)",vr:"SQ",vm:"1",name:"ApplicatorSequence"},"(300A,0108)":{tag:"(300A,0108)",vr:"SH",vm:"1",name:"ApplicatorID"},"(300A,0109)":{tag:"(300A,0109)",vr:"CS",vm:"1",name:"ApplicatorType"},"(300A,010A)":{tag:"(300A,010A)",vr:"LO",vm:"1",name:"ApplicatorDescription"},"(300A,010C)":{tag:"(300A,010C)",vr:"DS",vm:"1",name:"CumulativeDoseReferenceCoefficient"},"(300A,010E)":{tag:"(300A,010E)",vr:"DS",vm:"1",name:"FinalCumulativeMetersetWeight"},"(300A,0110)":{tag:"(300A,0110)",vr:"IS",vm:"1",name:"NumberOfControlPoints"},"(300A,0111)":{tag:"(300A,0111)",vr:"SQ",vm:"1",name:"ControlPointSequence"},"(300A,0112)":{tag:"(300A,0112)",vr:"IS",vm:"1",name:"ControlPointIndex"},"(300A,0114)":{tag:"(300A,0114)",vr:"DS",vm:"1",name:"NominalBeamEnergy"},"(300A,0115)":{tag:"(300A,0115)",vr:"DS",vm:"1",name:"DoseRateSet"},"(300A,0116)":{tag:"(300A,0116)",vr:"SQ",vm:"1",name:"WedgePositionSequence"},"(300A,0118)":{tag:"(300A,0118)",vr:"CS",vm:"1",name:"WedgePosition"},"(300A,011A)":{tag:"(300A,011A)",vr:"SQ",vm:"1",name:"BeamLimitingDevicePositionSequence"},"(300A,011C)":{tag:"(300A,011C)",vr:"DS",vm:"2-2n",name:"LeafJawPositions"},"(300A,011E)":{tag:"(300A,011E)",vr:"DS",vm:"1",name:"GantryAngle"},"(300A,011F)":{tag:"(300A,011F)",vr:"CS",vm:"1",name:"GantryRotationDirection"},"(300A,0120)":{tag:"(300A,0120)",vr:"DS",vm:"1",name:"BeamLimitingDeviceAngle"},"(300A,0121)":{tag:"(300A,0121)",vr:"CS",vm:"1",name:"BeamLimitingDeviceRotationDirection"},"(300A,0122)":{tag:"(300A,0122)",vr:"DS",vm:"1",name:"PatientSupportAngle"},"(300A,0123)":{tag:"(300A,0123)",vr:"CS",vm:"1",name:"PatientSupportRotationDirection"},"(300A,0124)":{tag:"(300A,0124)",vr:"DS",vm:"1",name:"TableTopEccentricAxisDistance"},"(300A,0125)":{tag:"(300A,0125)",vr:"DS",vm:"1",name:"TableTopEccentricAngle"},"(300A,0126)":{tag:"(300A,0126)",vr:"CS",vm:"1",name:"TableTopEccentricRotationDirection"},"(300A,0128)":{tag:"(300A,0128)",vr:"DS",vm:"1",name:"TableTopVerticalPosition"},"(300A,0129)":{tag:"(300A,0129)",vr:"DS",vm:"1",name:"TableTopLongitudinalPosition"},"(300A,012A)":{tag:"(300A,012A)",vr:"DS",vm:"1",name:"TableTopLateralPosition"},"(300A,012C)":{tag:"(300A,012C)",vr:"DS",vm:"3",name:"IsocenterPosition"},"(300A,012E)":{tag:"(300A,012E)",vr:"DS",vm:"3",name:"SurfaceEntryPoint"},"(300A,0130)":{tag:"(300A,0130)",vr:"DS",vm:"1",name:"SourceToSurfaceDistance"},"(300A,0131)":{tag:"(300A,0131)",vr:"FL",vm:"1",name:"AverageBeamDosePointSourceToExternalContourDistance"},"(300A,0132)":{tag:"(300A,0132)",vr:"FL",vm:"1",name:"SourceToExternalContourDistance"},"(300A,0133)":{tag:"(300A,0133)",vr:"FL",vm:"3",name:"ExternalContourEntryPoint"},"(300A,0134)":{tag:"(300A,0134)",vr:"DS",vm:"1",name:"CumulativeMetersetWeight"},"(300A,0140)":{tag:"(300A,0140)",vr:"FL",vm:"1",name:"TableTopPitchAngle"},"(300A,0142)":{tag:"(300A,0142)",vr:"CS",vm:"1",name:"TableTopPitchRotationDirection"},"(300A,0144)":{tag:"(300A,0144)",vr:"FL",vm:"1",name:"TableTopRollAngle"},"(300A,0146)":{tag:"(300A,0146)",vr:"CS",vm:"1",name:"TableTopRollRotationDirection"},"(300A,0148)":{tag:"(300A,0148)",vr:"FL",vm:"1",name:"HeadFixationAngle"},"(300A,014A)":{tag:"(300A,014A)",vr:"FL",vm:"1",name:"GantryPitchAngle"},"(300A,014C)":{tag:"(300A,014C)",vr:"CS",vm:"1",name:"GantryPitchRotationDirection"},"(300A,014E)":{tag:"(300A,014E)",vr:"FL",vm:"1",name:"GantryPitchAngleTolerance"},"(300A,0150)":{tag:"(300A,0150)",vr:"CS",vm:"1",name:"FixationEye"},"(300A,0151)":{tag:"(300A,0151)",vr:"DS",vm:"1",name:"ChairHeadFramePosition"},"(300A,0152)":{tag:"(300A,0152)",vr:"DS",vm:"1",name:"HeadFixationAngleTolerance"},"(300A,0153)":{tag:"(300A,0153)",vr:"DS",vm:"1",name:"ChairHeadFramePositionTolerance"},"(300A,0154)":{tag:"(300A,0154)",vr:"DS",vm:"1",name:"FixationLightAzimuthalAngleTolerance"},"(300A,0155)":{tag:"(300A,0155)",vr:"DS",vm:"1",name:"FixationLightPolarAngleTolerance"},"(300A,0180)":{tag:"(300A,0180)",vr:"SQ",vm:"1",name:"PatientSetupSequence"},"(300A,0182)":{tag:"(300A,0182)",vr:"IS",vm:"1",name:"PatientSetupNumber"},"(300A,0183)":{tag:"(300A,0183)",vr:"LO",vm:"1",name:"PatientSetupLabel"},"(300A,0184)":{tag:"(300A,0184)",vr:"LO",vm:"1",name:"PatientAdditionalPosition"},"(300A,0190)":{tag:"(300A,0190)",vr:"SQ",vm:"1",name:"FixationDeviceSequence"},"(300A,0192)":{tag:"(300A,0192)",vr:"CS",vm:"1",name:"FixationDeviceType"},"(300A,0194)":{tag:"(300A,0194)",vr:"SH",vm:"1",name:"FixationDeviceLabel"},"(300A,0196)":{tag:"(300A,0196)",vr:"ST",vm:"1",name:"FixationDeviceDescription"},"(300A,0198)":{tag:"(300A,0198)",vr:"SH",vm:"1",name:"FixationDevicePosition"},"(300A,0199)":{tag:"(300A,0199)",vr:"FL",vm:"1",name:"FixationDevicePitchAngle"},"(300A,019A)":{tag:"(300A,019A)",vr:"FL",vm:"1",name:"FixationDeviceRollAngle"},"(300A,01A0)":{tag:"(300A,01A0)",vr:"SQ",vm:"1",name:"ShieldingDeviceSequence"},"(300A,01A2)":{tag:"(300A,01A2)",vr:"CS",vm:"1",name:"ShieldingDeviceType"},"(300A,01A4)":{tag:"(300A,01A4)",vr:"SH",vm:"1",name:"ShieldingDeviceLabel"},"(300A,01A6)":{tag:"(300A,01A6)",vr:"ST",vm:"1",name:"ShieldingDeviceDescription"},"(300A,01A8)":{tag:"(300A,01A8)",vr:"SH",vm:"1",name:"ShieldingDevicePosition"},"(300A,01B0)":{tag:"(300A,01B0)",vr:"CS",vm:"1",name:"SetupTechnique"},"(300A,01B2)":{tag:"(300A,01B2)",vr:"ST",vm:"1",name:"SetupTechniqueDescription"},"(300A,01B4)":{tag:"(300A,01B4)",vr:"SQ",vm:"1",name:"SetupDeviceSequence"},"(300A,01B6)":{tag:"(300A,01B6)",vr:"CS",vm:"1",name:"SetupDeviceType"},"(300A,01B8)":{tag:"(300A,01B8)",vr:"SH",vm:"1",name:"SetupDeviceLabel"},"(300A,01BA)":{tag:"(300A,01BA)",vr:"ST",vm:"1",name:"SetupDeviceDescription"},"(300A,01BC)":{tag:"(300A,01BC)",vr:"DS",vm:"1",name:"SetupDeviceParameter"},"(300A,01D0)":{tag:"(300A,01D0)",vr:"ST",vm:"1",name:"SetupReferenceDescription"},"(300A,01D2)":{tag:"(300A,01D2)",vr:"DS",vm:"1",name:"TableTopVerticalSetupDisplacement"},"(300A,01D4)":{tag:"(300A,01D4)",vr:"DS",vm:"1",name:"TableTopLongitudinalSetupDisplacement"},"(300A,01D6)":{tag:"(300A,01D6)",vr:"DS",vm:"1",name:"TableTopLateralSetupDisplacement"},"(300A,0200)":{tag:"(300A,0200)",vr:"CS",vm:"1",name:"BrachyTreatmentTechnique"},"(300A,0202)":{tag:"(300A,0202)",vr:"CS",vm:"1",name:"BrachyTreatmentType"},"(300A,0206)":{tag:"(300A,0206)",vr:"SQ",vm:"1",name:"TreatmentMachineSequence"},"(300A,0210)":{tag:"(300A,0210)",vr:"SQ",vm:"1",name:"SourceSequence"},"(300A,0212)":{tag:"(300A,0212)",vr:"IS",vm:"1",name:"SourceNumber"},"(300A,0214)":{tag:"(300A,0214)",vr:"CS",vm:"1",name:"SourceType"},"(300A,0216)":{tag:"(300A,0216)",vr:"LO",vm:"1",name:"SourceManufacturer"},"(300A,0218)":{tag:"(300A,0218)",vr:"DS",vm:"1",name:"ActiveSourceDiameter"},"(300A,021A)":{tag:"(300A,021A)",vr:"DS",vm:"1",name:"ActiveSourceLength"},"(300A,021B)":{tag:"(300A,021B)",vr:"SH",vm:"1",name:"SourceModelID"},"(300A,021C)":{tag:"(300A,021C)",vr:"LO",vm:"1",name:"SourceDescription"},"(300A,0222)":{tag:"(300A,0222)",vr:"DS",vm:"1",name:"SourceEncapsulationNominalThickness"},"(300A,0224)":{tag:"(300A,0224)",vr:"DS",vm:"1",name:"SourceEncapsulationNominalTransmission"},"(300A,0226)":{tag:"(300A,0226)",vr:"LO",vm:"1",name:"SourceIsotopeName"},"(300A,0228)":{tag:"(300A,0228)",vr:"DS",vm:"1",name:"SourceIsotopeHalfLife"},"(300A,0229)":{tag:"(300A,0229)",vr:"CS",vm:"1",name:"SourceStrengthUnits"},"(300A,022A)":{tag:"(300A,022A)",vr:"DS",vm:"1",name:"ReferenceAirKermaRate"},"(300A,022B)":{tag:"(300A,022B)",vr:"DS",vm:"1",name:"SourceStrength"},"(300A,022C)":{tag:"(300A,022C)",vr:"DA",vm:"1",name:"SourceStrengthReferenceDate"},"(300A,022E)":{tag:"(300A,022E)",vr:"TM",vm:"1",name:"SourceStrengthReferenceTime"},"(300A,0230)":{tag:"(300A,0230)",vr:"SQ",vm:"1",name:"ApplicationSetupSequence"},"(300A,0232)":{tag:"(300A,0232)",vr:"CS",vm:"1",name:"ApplicationSetupType"},"(300A,0234)":{tag:"(300A,0234)",vr:"IS",vm:"1",name:"ApplicationSetupNumber"},"(300A,0236)":{tag:"(300A,0236)",vr:"LO",vm:"1",name:"ApplicationSetupName"},"(300A,0238)":{tag:"(300A,0238)",vr:"LO",vm:"1",name:"ApplicationSetupManufacturer"},"(300A,0240)":{tag:"(300A,0240)",vr:"IS",vm:"1",name:"TemplateNumber"},"(300A,0242)":{tag:"(300A,0242)",vr:"SH",vm:"1",name:"TemplateType"},"(300A,0244)":{tag:"(300A,0244)",vr:"LO",vm:"1",name:"TemplateName"},"(300A,0250)":{tag:"(300A,0250)",vr:"DS",vm:"1",name:"TotalReferenceAirKerma"},"(300A,0260)":{tag:"(300A,0260)",vr:"SQ",vm:"1",name:"BrachyAccessoryDeviceSequence"},"(300A,0262)":{tag:"(300A,0262)",vr:"IS",vm:"1",name:"BrachyAccessoryDeviceNumber"},"(300A,0263)":{tag:"(300A,0263)",vr:"SH",vm:"1",name:"BrachyAccessoryDeviceID"},"(300A,0264)":{tag:"(300A,0264)",vr:"CS",vm:"1",name:"BrachyAccessoryDeviceType"},"(300A,0266)":{tag:"(300A,0266)",vr:"LO",vm:"1",name:"BrachyAccessoryDeviceName"},"(300A,026A)":{tag:"(300A,026A)",vr:"DS",vm:"1",name:"BrachyAccessoryDeviceNominalThickness"},"(300A,026C)":{tag:"(300A,026C)",vr:"DS",vm:"1",name:"BrachyAccessoryDeviceNominalTransmission"},"(300A,0271)":{tag:"(300A,0271)",vr:"DS",vm:"1",name:"ChannelEffectiveLength"},"(300A,0272)":{tag:"(300A,0272)",vr:"DS",vm:"1",name:"ChannelInnerLength"},"(300A,0273)":{tag:"(300A,0273)",vr:"SH",vm:"1",name:"AfterloaderChannelID"},"(300A,0274)":{tag:"(300A,0274)",vr:"DS",vm:"1",name:"SourceApplicatorTipLength"},"(300A,0280)":{tag:"(300A,0280)",vr:"SQ",vm:"1",name:"ChannelSequence"},"(300A,0282)":{tag:"(300A,0282)",vr:"IS",vm:"1",name:"ChannelNumber"},"(300A,0284)":{tag:"(300A,0284)",vr:"DS",vm:"1",name:"ChannelLength"},"(300A,0286)":{tag:"(300A,0286)",vr:"DS",vm:"1",name:"ChannelTotalTime"},"(300A,0288)":{tag:"(300A,0288)",vr:"CS",vm:"1",name:"SourceMovementType"},"(300A,028A)":{tag:"(300A,028A)",vr:"IS",vm:"1",name:"NumberOfPulses"},"(300A,028C)":{tag:"(300A,028C)",vr:"DS",vm:"1",name:"PulseRepetitionInterval"},"(300A,0290)":{tag:"(300A,0290)",vr:"IS",vm:"1",name:"SourceApplicatorNumber"},"(300A,0291)":{tag:"(300A,0291)",vr:"SH",vm:"1",name:"SourceApplicatorID"},"(300A,0292)":{tag:"(300A,0292)",vr:"CS",vm:"1",name:"SourceApplicatorType"},"(300A,0294)":{tag:"(300A,0294)",vr:"LO",vm:"1",name:"SourceApplicatorName"},"(300A,0296)":{tag:"(300A,0296)",vr:"DS",vm:"1",name:"SourceApplicatorLength"},"(300A,0298)":{tag:"(300A,0298)",vr:"LO",vm:"1",name:"SourceApplicatorManufacturer"},"(300A,029C)":{tag:"(300A,029C)",vr:"DS",vm:"1",name:"SourceApplicatorWallNominalThickness"},"(300A,029E)":{tag:"(300A,029E)",vr:"DS",vm:"1",name:"SourceApplicatorWallNominalTransmission"},"(300A,02A0)":{tag:"(300A,02A0)",vr:"DS",vm:"1",name:"SourceApplicatorStepSize"},"(300A,02A1)":{tag:"(300A,02A1)",vr:"IS",vm:"1",name:"ApplicatorShapeReferencedROINumber"},"(300A,02A2)":{tag:"(300A,02A2)",vr:"IS",vm:"1",name:"TransferTubeNumber"},"(300A,02A4)":{tag:"(300A,02A4)",vr:"DS",vm:"1",name:"TransferTubeLength"},"(300A,02B0)":{tag:"(300A,02B0)",vr:"SQ",vm:"1",name:"ChannelShieldSequence"},"(300A,02B2)":{tag:"(300A,02B2)",vr:"IS",vm:"1",name:"ChannelShieldNumber"},"(300A,02B3)":{tag:"(300A,02B3)",vr:"SH",vm:"1",name:"ChannelShieldID"},"(300A,02B4)":{tag:"(300A,02B4)",vr:"LO",vm:"1",name:"ChannelShieldName"},"(300A,02B8)":{tag:"(300A,02B8)",vr:"DS",vm:"1",name:"ChannelShieldNominalThickness"},"(300A,02BA)":{tag:"(300A,02BA)",vr:"DS",vm:"1",name:"ChannelShieldNominalTransmission"},"(300A,02C8)":{tag:"(300A,02C8)",vr:"DS",vm:"1",name:"FinalCumulativeTimeWeight"},"(300A,02D0)":{tag:"(300A,02D0)",vr:"SQ",vm:"1",name:"BrachyControlPointSequence"},"(300A,02D2)":{tag:"(300A,02D2)",vr:"DS",vm:"1",name:"ControlPointRelativePosition"},"(300A,02D4)":{tag:"(300A,02D4)",vr:"DS",vm:"3",name:"ControlPoint3DPosition"},"(300A,02D6)":{tag:"(300A,02D6)",vr:"DS",vm:"1",name:"CumulativeTimeWeight"},"(300A,02E0)":{tag:"(300A,02E0)",vr:"CS",vm:"1",name:"CompensatorDivergence"},"(300A,02E1)":{tag:"(300A,02E1)",vr:"CS",vm:"1",name:"CompensatorMountingPosition"},"(300A,02E2)":{tag:"(300A,02E2)",vr:"DS",vm:"1-n",name:"SourceToCompensatorDistance"},"(300A,02E3)":{tag:"(300A,02E3)",vr:"FL",vm:"1",name:"TotalCompensatorTrayWaterEquivalentThickness"},"(300A,02E4)":{tag:"(300A,02E4)",vr:"FL",vm:"1",name:"IsocenterToCompensatorTrayDistance"},"(300A,02E5)":{tag:"(300A,02E5)",vr:"FL",vm:"1",name:"CompensatorColumnOffset"},"(300A,02E6)":{tag:"(300A,02E6)",vr:"FL",vm:"1-n",name:"IsocenterToCompensatorDistances"},"(300A,02E7)":{tag:"(300A,02E7)",vr:"FL",vm:"1",name:"CompensatorRelativeStoppingPowerRatio"},"(300A,02E8)":{tag:"(300A,02E8)",vr:"FL",vm:"1",name:"CompensatorMillingToolDiameter"},"(300A,02EA)":{tag:"(300A,02EA)",vr:"SQ",vm:"1",name:"IonRangeCompensatorSequence"},"(300A,02EB)":{tag:"(300A,02EB)",vr:"LT",vm:"1",name:"CompensatorDescription"},"(300A,0302)":{tag:"(300A,0302)",vr:"IS",vm:"1",name:"RadiationMassNumber"},"(300A,0304)":{tag:"(300A,0304)",vr:"IS",vm:"1",name:"RadiationAtomicNumber"},"(300A,0306)":{tag:"(300A,0306)",vr:"SS",vm:"1",name:"RadiationChargeState"},"(300A,0308)":{tag:"(300A,0308)",vr:"CS",vm:"1",name:"ScanMode"},"(300A,0309)":{tag:"(300A,0309)",vr:"CS",vm:"1",name:"ModulatedScanModeType"},"(300A,030A)":{tag:"(300A,030A)",vr:"FL",vm:"2",name:"VirtualSourceAxisDistances"},"(300A,030C)":{tag:"(300A,030C)",vr:"SQ",vm:"1",name:"SnoutSequence"},"(300A,030D)":{tag:"(300A,030D)",vr:"FL",vm:"1",name:"SnoutPosition"},"(300A,030F)":{tag:"(300A,030F)",vr:"SH",vm:"1",name:"SnoutID"},"(300A,0312)":{tag:"(300A,0312)",vr:"IS",vm:"1",name:"NumberOfRangeShifters"},"(300A,0314)":{tag:"(300A,0314)",vr:"SQ",vm:"1",name:"RangeShifterSequence"},"(300A,0316)":{tag:"(300A,0316)",vr:"IS",vm:"1",name:"RangeShifterNumber"},"(300A,0318)":{tag:"(300A,0318)",vr:"SH",vm:"1",name:"RangeShifterID"},"(300A,0320)":{tag:"(300A,0320)",vr:"CS",vm:"1",name:"RangeShifterType"},"(300A,0322)":{tag:"(300A,0322)",vr:"LO",vm:"1",name:"RangeShifterDescription"},"(300A,0330)":{tag:"(300A,0330)",vr:"IS",vm:"1",name:"NumberOfLateralSpreadingDevices"},"(300A,0332)":{tag:"(300A,0332)",vr:"SQ",vm:"1",name:"LateralSpreadingDeviceSequence"},"(300A,0334)":{tag:"(300A,0334)",vr:"IS",vm:"1",name:"LateralSpreadingDeviceNumber"},"(300A,0336)":{tag:"(300A,0336)",vr:"SH",vm:"1",name:"LateralSpreadingDeviceID"},"(300A,0338)":{tag:"(300A,0338)",vr:"CS",vm:"1",name:"LateralSpreadingDeviceType"},"(300A,033A)":{tag:"(300A,033A)",vr:"LO",vm:"1",name:"LateralSpreadingDeviceDescription"},"(300A,033C)":{tag:"(300A,033C)",vr:"FL",vm:"1",name:"LateralSpreadingDeviceWaterEquivalentThickness"},"(300A,0340)":{tag:"(300A,0340)",vr:"IS",vm:"1",name:"NumberOfRangeModulators"},"(300A,0342)":{tag:"(300A,0342)",vr:"SQ",vm:"1",name:"RangeModulatorSequence"},"(300A,0344)":{tag:"(300A,0344)",vr:"IS",vm:"1",name:"RangeModulatorNumber"},"(300A,0346)":{tag:"(300A,0346)",vr:"SH",vm:"1",name:"RangeModulatorID"},"(300A,0348)":{tag:"(300A,0348)",vr:"CS",vm:"1",name:"RangeModulatorType"},"(300A,034A)":{tag:"(300A,034A)",vr:"LO",vm:"1",name:"RangeModulatorDescription"},"(300A,034C)":{tag:"(300A,034C)",vr:"SH",vm:"1",name:"BeamCurrentModulationID"},"(300A,0350)":{tag:"(300A,0350)",vr:"CS",vm:"1",name:"PatientSupportType"},"(300A,0352)":{tag:"(300A,0352)",vr:"SH",vm:"1",name:"PatientSupportID"},"(300A,0354)":{tag:"(300A,0354)",vr:"LO",vm:"1",name:"PatientSupportAccessoryCode"},"(300A,0355)":{tag:"(300A,0355)",vr:"LO",vm:"1",name:"TrayAccessoryCode"},"(300A,0356)":{tag:"(300A,0356)",vr:"FL",vm:"1",name:"FixationLightAzimuthalAngle"},"(300A,0358)":{tag:"(300A,0358)",vr:"FL",vm:"1",name:"FixationLightPolarAngle"},"(300A,035A)":{tag:"(300A,035A)",vr:"FL",vm:"1",name:"MetersetRate"},"(300A,0360)":{tag:"(300A,0360)",vr:"SQ",vm:"1",name:"RangeShifterSettingsSequence"},"(300A,0362)":{tag:"(300A,0362)",vr:"LO",vm:"1",name:"RangeShifterSetting"},"(300A,0364)":{tag:"(300A,0364)",vr:"FL",vm:"1",name:"IsocenterToRangeShifterDistance"},"(300A,0366)":{tag:"(300A,0366)",vr:"FL",vm:"1",name:"RangeShifterWaterEquivalentThickness"},"(300A,0370)":{tag:"(300A,0370)",vr:"SQ",vm:"1",name:"LateralSpreadingDeviceSettingsSequence"},"(300A,0372)":{tag:"(300A,0372)",vr:"LO",vm:"1",name:"LateralSpreadingDeviceSetting"},"(300A,0374)":{tag:"(300A,0374)",vr:"FL",vm:"1",name:"IsocenterToLateralSpreadingDeviceDistance"},"(300A,0380)":{tag:"(300A,0380)",vr:"SQ",vm:"1",name:"RangeModulatorSettingsSequence"},"(300A,0382)":{tag:"(300A,0382)",vr:"FL",vm:"1",name:"RangeModulatorGatingStartValue"},"(300A,0384)":{tag:"(300A,0384)",vr:"FL",vm:"1",name:"RangeModulatorGatingStopValue"},"(300A,0386)":{tag:"(300A,0386)",vr:"FL",vm:"1",name:"RangeModulatorGatingStartWaterEquivalentThickness"},"(300A,0388)":{tag:"(300A,0388)",vr:"FL",vm:"1",name:"RangeModulatorGatingStopWaterEquivalentThickness"},"(300A,038A)":{tag:"(300A,038A)",vr:"FL",vm:"1",name:"IsocenterToRangeModulatorDistance"},"(300A,038F)":{tag:"(300A,038F)",vr:"FL",vm:"1-n",name:"ScanSpotTimeOffset"},"(300A,0390)":{tag:"(300A,0390)",vr:"SH",vm:"1",name:"ScanSpotTuneID"},"(300A,0391)":{tag:"(300A,0391)",vr:"IS",vm:"1-n",name:"ScanSpotPrescribedIndices"},"(300A,0392)":{tag:"(300A,0392)",vr:"IS",vm:"1",name:"NumberOfScanSpotPositions"},"(300A,0393)":{tag:"(300A,0393)",vr:"CS",vm:"1",name:"ScanSpotReordered"},"(300A,0394)":{tag:"(300A,0394)",vr:"FL",vm:"1-n",name:"ScanSpotPositionMap"},"(300A,0395)":{tag:"(300A,0395)",vr:"CS",vm:"1",name:"ScanSpotReorderingAllowed"},"(300A,0396)":{tag:"(300A,0396)",vr:"FL",vm:"1-n",name:"ScanSpotMetersetWeights"},"(300A,0398)":{tag:"(300A,0398)",vr:"FL",vm:"2",name:"ScanningSpotSize"},"(300A,0399)":{tag:"(300A,0399)",vr:"FL",vm:"2-2n",name:"ScanSpotSizesDelivered"},"(300A,039A)":{tag:"(300A,039A)",vr:"IS",vm:"1",name:"NumberOfPaintings"},"(300A,03A0)":{tag:"(300A,03A0)",vr:"SQ",vm:"1",name:"IonToleranceTableSequence"},"(300A,03A2)":{tag:"(300A,03A2)",vr:"SQ",vm:"1",name:"IonBeamSequence"},"(300A,03A4)":{tag:"(300A,03A4)",vr:"SQ",vm:"1",name:"IonBeamLimitingDeviceSequence"},"(300A,03A6)":{tag:"(300A,03A6)",vr:"SQ",vm:"1",name:"IonBlockSequence"},"(300A,03A8)":{tag:"(300A,03A8)",vr:"SQ",vm:"1",name:"IonControlPointSequence"},"(300A,03AA)":{tag:"(300A,03AA)",vr:"SQ",vm:"1",name:"IonWedgeSequence"},"(300A,03AC)":{tag:"(300A,03AC)",vr:"SQ",vm:"1",name:"IonWedgePositionSequence"},"(300A,0401)":{tag:"(300A,0401)",vr:"SQ",vm:"1",name:"ReferencedSetupImageSequence"},"(300A,0402)":{tag:"(300A,0402)",vr:"ST",vm:"1",name:"SetupImageComment"},"(300A,0410)":{tag:"(300A,0410)",vr:"SQ",vm:"1",name:"MotionSynchronizationSequence"},"(300A,0412)":{tag:"(300A,0412)",vr:"FL",vm:"3",name:"ControlPointOrientation"},"(300A,0420)":{tag:"(300A,0420)",vr:"SQ",vm:"1",name:"GeneralAccessorySequence"},"(300A,0421)":{tag:"(300A,0421)",vr:"SH",vm:"1",name:"GeneralAccessoryID"},"(300A,0422)":{tag:"(300A,0422)",vr:"ST",vm:"1",name:"GeneralAccessoryDescription"},"(300A,0423)":{tag:"(300A,0423)",vr:"CS",vm:"1",name:"GeneralAccessoryType"},"(300A,0424)":{tag:"(300A,0424)",vr:"IS",vm:"1",name:"GeneralAccessoryNumber"},"(300A,0425)":{tag:"(300A,0425)",vr:"FL",vm:"1",name:"SourceToGeneralAccessoryDistance"},"(300A,0426)":{tag:"(300A,0426)",vr:"DS",vm:"1",name:"IsocenterToGeneralAccessoryDistance"},"(300A,0431)":{tag:"(300A,0431)",vr:"SQ",vm:"1",name:"ApplicatorGeometrySequence"},"(300A,0432)":{tag:"(300A,0432)",vr:"CS",vm:"1",name:"ApplicatorApertureShape"},"(300A,0433)":{tag:"(300A,0433)",vr:"FL",vm:"1",name:"ApplicatorOpening"},"(300A,0434)":{tag:"(300A,0434)",vr:"FL",vm:"1",name:"ApplicatorOpeningX"},"(300A,0435)":{tag:"(300A,0435)",vr:"FL",vm:"1",name:"ApplicatorOpeningY"},"(300A,0436)":{tag:"(300A,0436)",vr:"FL",vm:"1",name:"SourceToApplicatorMountingPositionDistance"},"(300A,0440)":{tag:"(300A,0440)",vr:"IS",vm:"1",name:"NumberOfBlockSlabItems"},"(300A,0441)":{tag:"(300A,0441)",vr:"SQ",vm:"1",name:"BlockSlabSequence"},"(300A,0442)":{tag:"(300A,0442)",vr:"DS",vm:"1",name:"BlockSlabThickness"},"(300A,0443)":{tag:"(300A,0443)",vr:"US",vm:"1",name:"BlockSlabNumber"},"(300A,0450)":{tag:"(300A,0450)",vr:"SQ",vm:"1",name:"DeviceMotionControlSequence"},"(300A,0451)":{tag:"(300A,0451)",vr:"CS",vm:"1",name:"DeviceMotionExecutionMode"},"(300A,0452)":{tag:"(300A,0452)",vr:"CS",vm:"1",name:"DeviceMotionObservationMode"},"(300A,0453)":{tag:"(300A,0453)",vr:"SQ",vm:"1",name:"DeviceMotionParameterCodeSequence"},"(300A,0501)":{tag:"(300A,0501)",vr:"FL",vm:"1",name:"DistalDepthFraction"},"(300A,0502)":{tag:"(300A,0502)",vr:"FL",vm:"1",name:"DistalDepth"},"(300A,0503)":{tag:"(300A,0503)",vr:"FL",vm:"2",name:"NominalRangeModulationFractions"},"(300A,0504)":{tag:"(300A,0504)",vr:"FL",vm:"2",name:"NominalRangeModulatedRegionDepths"},"(300A,0505)":{tag:"(300A,0505)",vr:"SQ",vm:"1",name:"DepthDoseParametersSequence"},"(300A,0506)":{tag:"(300A,0506)",vr:"SQ",vm:"1",name:"DeliveredDepthDoseParametersSequence"},"(300A,0507)":{tag:"(300A,0507)",vr:"FL",vm:"1",name:"DeliveredDistalDepthFraction"},"(300A,0508)":{tag:"(300A,0508)",vr:"FL",vm:"1",name:"DeliveredDistalDepth"},"(300A,0509)":{tag:"(300A,0509)",vr:"FL",vm:"2",name:"DeliveredNominalRangeModulationFractions"},"(300A,0510)":{tag:"(300A,0510)",vr:"FL",vm:"2",name:"DeliveredNominalRangeModulatedRegionDepths"},"(300A,0511)":{tag:"(300A,0511)",vr:"CS",vm:"1",name:"DeliveredReferenceDoseDefinition"},"(300A,0512)":{tag:"(300A,0512)",vr:"CS",vm:"1",name:"ReferenceDoseDefinition"},"(300A,0600)":{tag:"(300A,0600)",vr:"US",vm:"1",name:"RTControlPointIndex"},"(300A,0601)":{tag:"(300A,0601)",vr:"US",vm:"1",name:"RadiationGenerationModeIndex"},"(300A,0602)":{tag:"(300A,0602)",vr:"US",vm:"1",name:"ReferencedDefinedDeviceIndex"},"(300A,0603)":{tag:"(300A,0603)",vr:"US",vm:"1",name:"RadiationDoseIdentificationIndex"},"(300A,0604)":{tag:"(300A,0604)",vr:"US",vm:"1",name:"NumberOfRTControlPoints"},"(300A,0605)":{tag:"(300A,0605)",vr:"US",vm:"1",name:"ReferencedRadiationGenerationModeIndex"},"(300A,0606)":{tag:"(300A,0606)",vr:"US",vm:"1",name:"TreatmentPositionIndex"},"(300A,0607)":{tag:"(300A,0607)",vr:"US",vm:"1",name:"ReferencedDeviceIndex"},"(300A,0608)":{tag:"(300A,0608)",vr:"LO",vm:"1",name:"TreatmentPositionGroupLabel"},"(300A,0609)":{tag:"(300A,0609)",vr:"UI",vm:"1",name:"TreatmentPositionGroupUID"},"(300A,060A)":{tag:"(300A,060A)",vr:"SQ",vm:"1",name:"TreatmentPositionGroupSequence"},"(300A,060B)":{tag:"(300A,060B)",vr:"US",vm:"1",name:"ReferencedTreatmentPositionIndex"},"(300A,060C)":{tag:"(300A,060C)",vr:"US",vm:"1",name:"ReferencedRadiationDoseIdentificationIndex"},"(300A,060D)":{tag:"(300A,060D)",vr:"FD",vm:"1",name:"RTAccessoryHolderWaterEquivalentThickness"},"(300A,060E)":{tag:"(300A,060E)",vr:"US",vm:"1",name:"ReferencedRTAccessoryHolderDeviceIndex"},"(300A,060F)":{tag:"(300A,060F)",vr:"CS",vm:"1",name:"RTAccessoryHolderSlotExistenceFlag"},"(300A,0610)":{tag:"(300A,0610)",vr:"SQ",vm:"1",name:"RTAccessoryHolderSlotSequence"},"(300A,0611)":{tag:"(300A,0611)",vr:"LO",vm:"1",name:"RTAccessoryHolderSlotID"},"(300A,0612)":{tag:"(300A,0612)",vr:"FD",vm:"1",name:"RTAccessoryHolderSlotDistance"},"(300A,0613)":{tag:"(300A,0613)",vr:"FD",vm:"1",name:"RTAccessorySlotDistance"},"(300A,0614)":{tag:"(300A,0614)",vr:"SQ",vm:"1",name:"RTAccessoryHolderDefinitionSequence"},"(300A,0615)":{tag:"(300A,0615)",vr:"LO",vm:"1",name:"RTAccessoryDeviceSlotID"},"(300A,0616)":{tag:"(300A,0616)",vr:"SQ",vm:"1",name:"RTRadiationSequence"},"(300A,0617)":{tag:"(300A,0617)",vr:"SQ",vm:"1",name:"RadiationDoseSequence"},"(300A,0618)":{tag:"(300A,0618)",vr:"SQ",vm:"1",name:"RadiationDoseIdentificationSequence"},"(300A,0619)":{tag:"(300A,0619)",vr:"LO",vm:"1",name:"RadiationDoseIdentificationLabel"},"(300A,061A)":{tag:"(300A,061A)",vr:"CS",vm:"1",name:"ReferenceDoseType"},"(300A,061B)":{tag:"(300A,061B)",vr:"CS",vm:"1",name:"PrimaryDoseValueIndicator"},"(300A,061C)":{tag:"(300A,061C)",vr:"SQ",vm:"1",name:"DoseValuesSequence"},"(300A,061D)":{tag:"(300A,061D)",vr:"CS",vm:"1-n",name:"DoseValuePurpose"},"(300A,061E)":{tag:"(300A,061E)",vr:"FD",vm:"3",name:"ReferenceDosePointCoordinates"},"(300A,061F)":{tag:"(300A,061F)",vr:"SQ",vm:"1",name:"RadiationDoseValuesParametersSequence"},"(300A,0620)":{tag:"(300A,0620)",vr:"SQ",vm:"1",name:"MetersetToDoseMappingSequence"},"(300A,0621)":{tag:"(300A,0621)",vr:"SQ",vm:"1",name:"ExpectedInVivoMeasurementValuesSequence"},"(300A,0622)":{tag:"(300A,0622)",vr:"US",vm:"1",name:"ExpectedInVivoMeasurementValueIndex"},"(300A,0623)":{tag:"(300A,0623)",vr:"LO",vm:"1",name:"RadiationDoseInVivoMeasurementLabel"},"(300A,0624)":{tag:"(300A,0624)",vr:"FD",vm:"2",name:"RadiationDoseCentralAxisDisplacement"},"(300A,0625)":{tag:"(300A,0625)",vr:"FD",vm:"1",name:"RadiationDoseValue"},"(300A,0626)":{tag:"(300A,0626)",vr:"FD",vm:"1",name:"RadiationDoseSourceToSkinDistance"},"(300A,0627)":{tag:"(300A,0627)",vr:"FD",vm:"3",name:"RadiationDoseMeasurementPointCoordinates"},"(300A,0628)":{tag:"(300A,0628)",vr:"FD",vm:"1",name:"RadiationDoseSourceToExternalContourDistance"},"(300A,0629)":{tag:"(300A,0629)",vr:"SQ",vm:"1",name:"RTToleranceSetSequence"},"(300A,062A)":{tag:"(300A,062A)",vr:"LO",vm:"1",name:"RTToleranceSetLabel"},"(300A,062B)":{tag:"(300A,062B)",vr:"SQ",vm:"1",name:"AttributeToleranceValuesSequence"},"(300A,062C)":{tag:"(300A,062C)",vr:"FD",vm:"1",name:"ToleranceValue"},"(300A,062D)":{tag:"(300A,062D)",vr:"SQ",vm:"1",name:"PatientSupportPositionToleranceSequence"},"(300A,062E)":{tag:"(300A,062E)",vr:"FD",vm:"1",name:"TreatmentTimeLimit"},"(300A,062F)":{tag:"(300A,062F)",vr:"SQ",vm:"1",name:"CArmPhotonElectronControlPointSequence"},"(300A,0630)":{tag:"(300A,0630)",vr:"SQ",vm:"1",name:"ReferencedRTRadiationSequence"},"(300A,0631)":{tag:"(300A,0631)",vr:"SQ",vm:"1",name:"ReferencedRTInstanceSequence"},"(300A,0632)":{tag:"(300A,0632)",vr:"SQ",vm:"1",name:"ReferencedRTPatientSetupSequence"},"(300A,0634)":{tag:"(300A,0634)",vr:"FD",vm:"1",name:"SourceToPatientSurfaceDistance"},"(300A,0635)":{tag:"(300A,0635)",vr:"SQ",vm:"1",name:"TreatmentMachineSpecialModeCodeSequence"},"(300A,0636)":{tag:"(300A,0636)",vr:"US",vm:"1",name:"IntendedNumberOfFractions"},"(300A,0637)":{tag:"(300A,0637)",vr:"CS",vm:"1",name:"RTRadiationSetIntent"},"(300A,0638)":{tag:"(300A,0638)",vr:"CS",vm:"1",name:"RTRadiationPhysicalAndGeometricContentDetailFlag"},"(300A,0639)":{tag:"(300A,0639)",vr:"CS",vm:"1",name:"RTRecordFlag"},"(300A,063A)":{tag:"(300A,063A)",vr:"SQ",vm:"1",name:"TreatmentDeviceIdentificationSequence"},"(300A,063B)":{tag:"(300A,063B)",vr:"SQ",vm:"1",name:"ReferencedRTPhysicianIntentSequence"},"(300A,063C)":{tag:"(300A,063C)",vr:"FD",vm:"1",name:"CumulativeMeterset"},"(300A,063D)":{tag:"(300A,063D)",vr:"FD",vm:"1",name:"DeliveryRate"},"(300A,063E)":{tag:"(300A,063E)",vr:"SQ",vm:"1",name:"DeliveryRateUnitSequence"},"(300A,063F)":{tag:"(300A,063F)",vr:"SQ",vm:"1",name:"TreatmentPositionSequence"},"(300A,0640)":{tag:"(300A,0640)",vr:"FD",vm:"1",name:"RadiationSourceAxisDistance"},"(300A,0641)":{tag:"(300A,0641)",vr:"US",vm:"1",name:"NumberOfRTBeamLimitingDevices"},"(300A,0642)":{tag:"(300A,0642)",vr:"FD",vm:"1",name:"RTBeamLimitingDeviceProximalDistance"},"(300A,0643)":{tag:"(300A,0643)",vr:"FD",vm:"1",name:"RTBeamLimitingDeviceDistalDistance"},"(300A,0644)":{tag:"(300A,0644)",vr:"SQ",vm:"1",name:"ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"},"(300A,0645)":{tag:"(300A,0645)",vr:"FD",vm:"1",name:"BeamModifierOrientationAngle"},"(300A,0646)":{tag:"(300A,0646)",vr:"SQ",vm:"1",name:"FixedRTBeamDelimiterDeviceSequence"},"(300A,0647)":{tag:"(300A,0647)",vr:"SQ",vm:"1",name:"ParallelRTBeamDelimiterDeviceSequence"},"(300A,0648)":{tag:"(300A,0648)",vr:"US",vm:"1",name:"NumberOfParallelRTBeamDelimiters"},"(300A,0649)":{tag:"(300A,0649)",vr:"FD",vm:"2-n",name:"ParallelRTBeamDelimiterBoundaries"},"(300A,064A)":{tag:"(300A,064A)",vr:"FD",vm:"2-n",name:"ParallelRTBeamDelimiterPositions"},"(300A,064B)":{tag:"(300A,064B)",vr:"FD",vm:"2",name:"RTBeamLimitingDeviceOffset"},"(300A,064C)":{tag:"(300A,064C)",vr:"SQ",vm:"1",name:"RTBeamDelimiterGeometrySequence"},"(300A,064D)":{tag:"(300A,064D)",vr:"SQ",vm:"1",name:"RTBeamLimitingDeviceDefinitionSequence"},"(300A,064E)":{tag:"(300A,064E)",vr:"CS",vm:"1",name:"ParallelRTBeamDelimiterOpeningMode"},"(300A,064F)":{tag:"(300A,064F)",vr:"CS",vm:"1-n",name:"ParallelRTBeamDelimiterLeafMountingSide"},"(300A,0650)":{tag:"(300A,0650)",vr:"UI",vm:"1",name:"PatientSetupUID"},"(300A,0651)":{tag:"(300A,0651)",vr:"SQ",vm:"1",name:"WedgeDefinitionSequence"},"(300A,0652)":{tag:"(300A,0652)",vr:"FD",vm:"1",name:"RadiationBeamWedgeAngle"},"(300A,0653)":{tag:"(300A,0653)",vr:"FD",vm:"1",name:"RadiationBeamWedgeThinEdgeDistance"},"(300A,0654)":{tag:"(300A,0654)",vr:"FD",vm:"1",name:"RadiationBeamEffectiveWedgeAngle"},"(300A,0655)":{tag:"(300A,0655)",vr:"US",vm:"1",name:"NumberOfWedgePositions"},"(300A,0656)":{tag:"(300A,0656)",vr:"SQ",vm:"1",name:"RTBeamLimitingDeviceOpeningSequence"},"(300A,0657)":{tag:"(300A,0657)",vr:"US",vm:"1",name:"NumberOfRTBeamLimitingDeviceOpenings"},"(300A,0658)":{tag:"(300A,0658)",vr:"SQ",vm:"1",name:"RadiationDosimeterUnitSequence"},"(300A,0659)":{tag:"(300A,0659)",vr:"SQ",vm:"1",name:"RTDeviceDistanceReferenceLocationCodeSequence"},"(300A,065A)":{tag:"(300A,065A)",vr:"SQ",vm:"1",name:"RadiationDeviceConfigurationAndCommissioningKeySequence"},"(300A,065B)":{tag:"(300A,065B)",vr:"SQ",vm:"1",name:"PatientSupportPositionParameterSequence"},"(300A,065C)":{tag:"(300A,065C)",vr:"CS",vm:"1",name:"PatientSupportPositionSpecificationMethod"},"(300A,065D)":{tag:"(300A,065D)",vr:"SQ",vm:"1",name:"PatientSupportPositionDeviceParameterSequence"},"(300A,065E)":{tag:"(300A,065E)",vr:"US",vm:"1",name:"DeviceOrderIndex"},"(300A,065F)":{tag:"(300A,065F)",vr:"US",vm:"1",name:"PatientSupportPositionParameterOrderIndex"},"(300A,0660)":{tag:"(300A,0660)",vr:"SQ",vm:"1",name:"PatientSupportPositionDeviceToleranceSequence"},"(300A,0661)":{tag:"(300A,0661)",vr:"US",vm:"1",name:"PatientSupportPositionToleranceOrderIndex"},"(300A,0662)":{tag:"(300A,0662)",vr:"SQ",vm:"1",name:"CompensatorDefinitionSequence"},"(300A,0663)":{tag:"(300A,0663)",vr:"CS",vm:"1",name:"CompensatorMapOrientation"},"(300A,0664)":{tag:"(300A,0664)",vr:"OF",vm:"1",name:"CompensatorProximalThicknessMap"},"(300A,0665)":{tag:"(300A,0665)",vr:"OF",vm:"1",name:"CompensatorDistalThicknessMap"},"(300A,0666)":{tag:"(300A,0666)",vr:"FD",vm:"1",name:"CompensatorBasePlaneOffset"},"(300A,0667)":{tag:"(300A,0667)",vr:"SQ",vm:"1",name:"CompensatorShapeFabricationCodeSequence"},"(300A,0668)":{tag:"(300A,0668)",vr:"SQ",vm:"1",name:"CompensatorShapeSequence"},"(300A,0669)":{tag:"(300A,0669)",vr:"FD",vm:"1",name:"RadiationBeamCompensatorMillingToolDiameter"},"(300A,066A)":{tag:"(300A,066A)",vr:"SQ",vm:"1",name:"BlockDefinitionSequence"},"(300A,066B)":{tag:"(300A,066B)",vr:"OF",vm:"1",name:"BlockEdgeData"},"(300A,066C)":{tag:"(300A,066C)",vr:"CS",vm:"1",name:"BlockOrientation"},"(300A,066D)":{tag:"(300A,066D)",vr:"FD",vm:"1",name:"RadiationBeamBlockThickness"},"(300A,066E)":{tag:"(300A,066E)",vr:"FD",vm:"1",name:"RadiationBeamBlockSlabThickness"},"(300A,066F)":{tag:"(300A,066F)",vr:"SQ",vm:"1",name:"BlockEdgeDataSequence"},"(300A,0670)":{tag:"(300A,0670)",vr:"US",vm:"1",name:"NumberOfRTAccessoryHolders"},"(300A,0671)":{tag:"(300A,0671)",vr:"SQ",vm:"1",name:"GeneralAccessoryDefinitionSequence"},"(300A,0672)":{tag:"(300A,0672)",vr:"US",vm:"1",name:"NumberOfGeneralAccessories"},"(300A,0673)":{tag:"(300A,0673)",vr:"SQ",vm:"1",name:"BolusDefinitionSequence"},"(300A,0674)":{tag:"(300A,0674)",vr:"US",vm:"1",name:"NumberOfBoluses"},"(300A,0675)":{tag:"(300A,0675)",vr:"UI",vm:"1",name:"EquipmentFrameOfReferenceUID"},"(300A,0676)":{tag:"(300A,0676)",vr:"ST",vm:"1",name:"EquipmentFrameOfReferenceDescription"},"(300A,0677)":{tag:"(300A,0677)",vr:"SQ",vm:"1",name:"EquipmentReferencePointCoordinatesSequence"},"(300A,0678)":{tag:"(300A,0678)",vr:"SQ",vm:"1",name:"EquipmentReferencePointCodeSequence"},"(300A,0679)":{tag:"(300A,0679)",vr:"FD",vm:"1",name:"RTBeamLimitingDeviceAngle"},"(300A,067A)":{tag:"(300A,067A)",vr:"FD",vm:"1",name:"SourceRollAngle"},"(300A,067B)":{tag:"(300A,067B)",vr:"SQ",vm:"1",name:"RadiationGenerationModeSequence"},"(300A,067C)":{tag:"(300A,067C)",vr:"SH",vm:"1",name:"RadiationGenerationModeLabel"},"(300A,067D)":{tag:"(300A,067D)",vr:"ST",vm:"1",name:"RadiationGenerationModeDescription"},"(300A,067E)":{tag:"(300A,067E)",vr:"SQ",vm:"1",name:"RadiationGenerationModeMachineCodeSequence"},"(300A,067F)":{tag:"(300A,067F)",vr:"SQ",vm:"1",name:"RadiationTypeCodeSequence"},"(300A,0680)":{tag:"(300A,0680)",vr:"DS",vm:"1",name:"NominalEnergy"},"(300A,0681)":{tag:"(300A,0681)",vr:"DS",vm:"1",name:"MinimumNominalEnergy"},"(300A,0682)":{tag:"(300A,0682)",vr:"DS",vm:"1",name:"MaximumNominalEnergy"},"(300A,0683)":{tag:"(300A,0683)",vr:"SQ",vm:"1",name:"RadiationFluenceModifierCodeSequence"},"(300A,0684)":{tag:"(300A,0684)",vr:"SQ",vm:"1",name:"EnergyUnitCodeSequence"},"(300A,0685)":{tag:"(300A,0685)",vr:"US",vm:"1",name:"NumberOfRadiationGenerationModes"},"(300A,0686)":{tag:"(300A,0686)",vr:"SQ",vm:"1",name:"PatientSupportDevicesSequence"},"(300A,0687)":{tag:"(300A,0687)",vr:"US",vm:"1",name:"NumberOfPatientSupportDevices"},"(300A,0688)":{tag:"(300A,0688)",vr:"FD",vm:"1",name:"RTBeamModifierDefinitionDistance"},"(300A,0689)":{tag:"(300A,0689)",vr:"SQ",vm:"1",name:"BeamAreaLimitSequence"},"(300A,068A)":{tag:"(300A,068A)",vr:"SQ",vm:"1",name:"ReferencedRTPrescriptionSequence"},"(300A,0700)":{tag:"(300A,0700)",vr:"UI",vm:"1",name:"TreatmentSessionUID"},"(300A,0701)":{tag:"(300A,0701)",vr:"CS",vm:"1",name:"RTRadiationUsage"},"(300A,0702)":{tag:"(300A,0702)",vr:"SQ",vm:"1",name:"ReferencedRTRadiationSetSequence"},"(300A,0703)":{tag:"(300A,0703)",vr:"SQ",vm:"1",name:"ReferencedRTRadiationRecordSequence"},"(300A,0704)":{tag:"(300A,0704)",vr:"US",vm:"1",name:"RTRadiationSetDeliveryNumber"},"(300A,0705)":{tag:"(300A,0705)",vr:"US",vm:"1",name:"ClinicalFractionNumber"},"(300A,0706)":{tag:"(300A,0706)",vr:"CS",vm:"1",name:"RTTreatmentFractionCompletionStatus"},"(300A,0707)":{tag:"(300A,0707)",vr:"CS",vm:"1",name:"RTRadiationSetUsage"},"(300A,0708)":{tag:"(300A,0708)",vr:"CS",vm:"1",name:"TreatmentDeliveryContinuationFlag"},"(300A,0709)":{tag:"(300A,0709)",vr:"CS",vm:"1",name:"TreatmentRecordContentOrigin"},"(300A,0714)":{tag:"(300A,0714)",vr:"CS",vm:"1",name:"RTTreatmentTerminationStatus"},"(300A,0715)":{tag:"(300A,0715)",vr:"SQ",vm:"1",name:"RTTreatmentTerminationReasonCodeSequence"},"(300A,0716)":{tag:"(300A,0716)",vr:"SQ",vm:"1",name:"MachineSpecificTreatmentTerminationCodeSequence"},"(300A,0722)":{tag:"(300A,0722)",vr:"SQ",vm:"1",name:"RTRadiationSalvageRecordControlPointSequence"},"(300A,0723)":{tag:"(300A,0723)",vr:"CS",vm:"1",name:"StartingMetersetValueKnownFlag"},"(300A,0730)":{tag:"(300A,0730)",vr:"ST",vm:"1",name:"TreatmentTerminationDescription"},"(300A,0731)":{tag:"(300A,0731)",vr:"SQ",vm:"1",name:"TreatmentToleranceViolationSequence"},"(300A,0732)":{tag:"(300A,0732)",vr:"CS",vm:"1",name:"TreatmentToleranceViolationCategory"},"(300A,0733)":{tag:"(300A,0733)",vr:"SQ",vm:"1",name:"TreatmentToleranceViolationAttributeSequence"},"(300A,0734)":{tag:"(300A,0734)",vr:"ST",vm:"1",name:"TreatmentToleranceViolationDescription"},"(300A,0735)":{tag:"(300A,0735)",vr:"ST",vm:"1",name:"TreatmentToleranceViolationIdentification"},"(300A,0736)":{tag:"(300A,0736)",vr:"DT",vm:"1",name:"TreatmentToleranceViolationDateTime"},"(300A,073A)":{tag:"(300A,073A)",vr:"DT",vm:"1",name:"RecordedRTControlPointDateTime"},"(300A,073B)":{tag:"(300A,073B)",vr:"US",vm:"1",name:"ReferencedRadiationRTControlPointIndex"},"(300A,073E)":{tag:"(300A,073E)",vr:"SQ",vm:"1",name:"AlternateValueSequence"},"(300A,073F)":{tag:"(300A,073F)",vr:"SQ",vm:"1",name:"ConfirmationSequence"},"(300A,0740)":{tag:"(300A,0740)",vr:"SQ",vm:"1",name:"InterlockSequence"},"(300A,0741)":{tag:"(300A,0741)",vr:"DT",vm:"1",name:"InterlockDateTime"},"(300A,0742)":{tag:"(300A,0742)",vr:"ST",vm:"1",name:"InterlockDescription"},"(300A,0743)":{tag:"(300A,0743)",vr:"SQ",vm:"1",name:"InterlockOriginatingDeviceSequence"},"(300A,0744)":{tag:"(300A,0744)",vr:"SQ",vm:"1",name:"InterlockCodeSequence"},"(300A,0745)":{tag:"(300A,0745)",vr:"SQ",vm:"1",name:"InterlockResolutionCodeSequence"},"(300A,0746)":{tag:"(300A,0746)",vr:"SQ",vm:"1",name:"InterlockResolutionUserSequence"},"(300A,0760)":{tag:"(300A,0760)",vr:"DT",vm:"1",name:"OverrideDateTime"},"(300A,0761)":{tag:"(300A,0761)",vr:"SQ",vm:"1",name:"TreatmentToleranceViolationTypeCodeSequence"},"(300A,0762)":{tag:"(300A,0762)",vr:"SQ",vm:"1",name:"TreatmentToleranceViolationCauseCodeSequence"},"(300A,0772)":{tag:"(300A,0772)",vr:"SQ",vm:"1",name:"MeasuredMetersetToDoseMappingSequence"},"(300A,0773)":{tag:"(300A,0773)",vr:"US",vm:"1",name:"ReferencedExpectedInVivoMeasurementValueIndex"},"(300A,0774)":{tag:"(300A,0774)",vr:"SQ",vm:"1",name:"DoseMeasurementDeviceCodeSequence"},"(300A,0780)":{tag:"(300A,0780)",vr:"SQ",vm:"1",name:"AdditionalParameterRecordingInstanceSequence"},"(300A,0782)":{tag:"(300A,0782)",vr:"US",vm:"1",name:""},"(300A,0783)":{tag:"(300A,0783)",vr:"ST",vm:"1",name:"InterlockOriginDescription"},"(300A,0784)":{tag:"(300A,0784)",vr:"SQ",vm:"1",name:"RTPatientPositionScopeSequence"},"(300A,0785)":{tag:"(300A,0785)",vr:"UI",vm:"1",name:"ReferencedTreatmentPositionGroupUID"},"(300A,0786)":{tag:"(300A,0786)",vr:"US",vm:"1",name:"RadiationOrderIndex"},"(300A,0787)":{tag:"(300A,0787)",vr:"SQ",vm:"1",name:"OmittedRadiationSequence"},"(300A,0788)":{tag:"(300A,0788)",vr:"SQ",vm:"1",name:"ReasonForOmissionCodeSequence"},"(300A,0789)":{tag:"(300A,0789)",vr:"SQ",vm:"1",name:"RTDeliveryStartPatientPositionSequence"},"(300A,078A)":{tag:"(300A,078A)",vr:"SQ",vm:"1",name:"RTTreatmentPreparationPatientPositionSequence"},"(300A,078B)":{tag:"(300A,078B)",vr:"SQ",vm:"1",name:"ReferencedRTTreatmentPreparationSequence"},"(300A,078C)":{tag:"(300A,078C)",vr:"SQ",vm:"1",name:"ReferencedPatientSetupPhotoSequence"},"(300A,078D)":{tag:"(300A,078D)",vr:"SQ",vm:"1",name:"PatientTreatmentPreparationMethodCodeSequence"},"(300A,078E)":{tag:"(300A,078E)",vr:"LT",vm:"1",name:"PatientTreatmentPreparationProcedureParameterDescription"},"(300A,078F)":{tag:"(300A,078F)",vr:"SQ",vm:"1",name:"PatientTreatmentPreparationDeviceSequence"},"(300A,0790)":{tag:"(300A,0790)",vr:"SQ",vm:"1",name:"PatientTreatmentPreparationProcedureSequence"},"(300A,0791)":{tag:"(300A,0791)",vr:"SQ",vm:"1",name:"PatientTreatmentPreparationProcedureCodeSequence"},"(300A,0792)":{tag:"(300A,0792)",vr:"LT",vm:"1",name:"PatientTreatmentPreparationMethodDescription"},"(300A,0793)":{tag:"(300A,0793)",vr:"SQ",vm:"1",name:"PatientTreatmentPreparationProcedureParameterSequence"},"(300A,0794)":{tag:"(300A,0794)",vr:"LT",vm:"1",name:"PatientSetupPhotoDescription"},"(300A,0795)":{tag:"(300A,0795)",vr:"US",vm:"1",name:"PatientTreatmentPreparationProcedureIndex"},"(300A,0796)":{tag:"(300A,0796)",vr:"US",vm:"1",name:"ReferencedPatientSetupProcedureIndex"},"(300A,0797)":{tag:"(300A,0797)",vr:"SQ",vm:"1",name:"RTRadiationTaskSequence"},"(300A,0798)":{tag:"(300A,0798)",vr:"SQ",vm:"1",name:"RTPatientPositionDisplacementSequence"},"(300A,0799)":{tag:"(300A,0799)",vr:"SQ",vm:"1",name:"RTPatientPositionSequence"},"(300A,079A)":{tag:"(300A,079A)",vr:"LO",vm:"1",name:"DisplacementReferenceLabel"},"(300A,079B)":{tag:"(300A,079B)",vr:"FD",vm:"16",name:"DisplacementMatrix"},"(300A,079C)":{tag:"(300A,079C)",vr:"SQ",vm:"1",name:"PatientSupportDisplacementSequence"},"(300A,079D)":{tag:"(300A,079D)",vr:"SQ",vm:"1",name:"DisplacementReferenceLocationCodeSequence"},"(300A,079E)":{tag:"(300A,079E)",vr:"CS",vm:"1",name:"RTRadiationSetDeliveryUsage"},"(300C,0002)":{tag:"(300C,0002)",vr:"SQ",vm:"1",name:"ReferencedRTPlanSequence"},"(300C,0004)":{tag:"(300C,0004)",vr:"SQ",vm:"1",name:"ReferencedBeamSequence"},"(300C,0006)":{tag:"(300C,0006)",vr:"IS",vm:"1",name:"ReferencedBeamNumber"},"(300C,0007)":{tag:"(300C,0007)",vr:"IS",vm:"1",name:"ReferencedReferenceImageNumber"},"(300C,0008)":{tag:"(300C,0008)",vr:"DS",vm:"1",name:"StartCumulativeMetersetWeight"},"(300C,0009)":{tag:"(300C,0009)",vr:"DS",vm:"1",name:"EndCumulativeMetersetWeight"},"(300C,000A)":{tag:"(300C,000A)",vr:"SQ",vm:"1",name:"ReferencedBrachyApplicationSetupSequence"},"(300C,000C)":{tag:"(300C,000C)",vr:"IS",vm:"1",name:"ReferencedBrachyApplicationSetupNumber"},"(300C,000E)":{tag:"(300C,000E)",vr:"IS",vm:"1",name:"ReferencedSourceNumber"},"(300C,0020)":{tag:"(300C,0020)",vr:"SQ",vm:"1",name:"ReferencedFractionGroupSequence"},"(300C,0022)":{tag:"(300C,0022)",vr:"IS",vm:"1",name:"ReferencedFractionGroupNumber"},"(300C,0040)":{tag:"(300C,0040)",vr:"SQ",vm:"1",name:"ReferencedVerificationImageSequence"},"(300C,0042)":{tag:"(300C,0042)",vr:"SQ",vm:"1",name:"ReferencedReferenceImageSequence"},"(300C,0050)":{tag:"(300C,0050)",vr:"SQ",vm:"1",name:"ReferencedDoseReferenceSequence"},"(300C,0051)":{tag:"(300C,0051)",vr:"IS",vm:"1",name:"ReferencedDoseReferenceNumber"},"(300C,0055)":{tag:"(300C,0055)",vr:"SQ",vm:"1",name:"BrachyReferencedDoseReferenceSequence"},"(300C,0060)":{tag:"(300C,0060)",vr:"SQ",vm:"1",name:"ReferencedStructureSetSequence"},"(300C,006A)":{tag:"(300C,006A)",vr:"IS",vm:"1",name:"ReferencedPatientSetupNumber"},"(300C,0080)":{tag:"(300C,0080)",vr:"SQ",vm:"1",name:"ReferencedDoseSequence"},"(300C,00A0)":{tag:"(300C,00A0)",vr:"IS",vm:"1",name:"ReferencedToleranceTableNumber"},"(300C,00B0)":{tag:"(300C,00B0)",vr:"SQ",vm:"1",name:"ReferencedBolusSequence"},"(300C,00C0)":{tag:"(300C,00C0)",vr:"IS",vm:"1",name:"ReferencedWedgeNumber"},"(300C,00D0)":{tag:"(300C,00D0)",vr:"IS",vm:"1",name:"ReferencedCompensatorNumber"},"(300C,00E0)":{tag:"(300C,00E0)",vr:"IS",vm:"1",name:"ReferencedBlockNumber"},"(300C,00F0)":{tag:"(300C,00F0)",vr:"IS",vm:"1",name:"ReferencedControlPointIndex"},"(300C,00F2)":{tag:"(300C,00F2)",vr:"SQ",vm:"1",name:"ReferencedControlPointSequence"},"(300C,00F4)":{tag:"(300C,00F4)",vr:"IS",vm:"1",name:"ReferencedStartControlPointIndex"},"(300C,00F6)":{tag:"(300C,00F6)",vr:"IS",vm:"1",name:"ReferencedStopControlPointIndex"},"(300C,0100)":{tag:"(300C,0100)",vr:"IS",vm:"1",name:"ReferencedRangeShifterNumber"},"(300C,0102)":{tag:"(300C,0102)",vr:"IS",vm:"1",name:"ReferencedLateralSpreadingDeviceNumber"},"(300C,0104)":{tag:"(300C,0104)",vr:"IS",vm:"1",name:"ReferencedRangeModulatorNumber"},"(300C,0111)":{tag:"(300C,0111)",vr:"SQ",vm:"1",name:"OmittedBeamTaskSequence"},"(300C,0112)":{tag:"(300C,0112)",vr:"CS",vm:"1",name:"ReasonForOmission"},"(300C,0113)":{tag:"(300C,0113)",vr:"LO",vm:"1",name:"ReasonForOmissionDescription"},"(300C,0114)":{tag:"(300C,0114)",vr:"SQ",vm:"1",name:"PrescriptionOverviewSequence"},"(300C,0115)":{tag:"(300C,0115)",vr:"FL",vm:"1",name:"TotalPrescriptionDose"},"(300C,0116)":{tag:"(300C,0116)",vr:"SQ",vm:"1",name:"PlanOverviewSequence"},"(300C,0117)":{tag:"(300C,0117)",vr:"US",vm:"1",name:"PlanOverviewIndex"},"(300C,0118)":{tag:"(300C,0118)",vr:"US",vm:"1",name:"ReferencedPlanOverviewIndex"},"(300C,0119)":{tag:"(300C,0119)",vr:"US",vm:"1",name:"NumberOfFractionsIncluded"},"(300C,0120)":{tag:"(300C,0120)",vr:"SQ",vm:"1",name:"DoseCalibrationConditionsSequence"},"(300C,0121)":{tag:"(300C,0121)",vr:"FD",vm:"1",name:"AbsorbedDoseToMetersetRatio"},"(300C,0122)":{tag:"(300C,0122)",vr:"FD",vm:"2",name:"DelineatedRadiationFieldSize"},"(300C,0123)":{tag:"(300C,0123)",vr:"CS",vm:"1",name:"DoseCalibrationConditionsVerifiedFlag"},"(300C,0124)":{tag:"(300C,0124)",vr:"FD",vm:"1",name:"CalibrationReferencePointDepth"},"(300C,0125)":{tag:"(300C,0125)",vr:"SQ",vm:"1",name:"GatingBeamHoldTransitionSequence"},"(300C,0126)":{tag:"(300C,0126)",vr:"CS",vm:"1",name:"BeamHoldTransition"},"(300C,0127)":{tag:"(300C,0127)",vr:"DT",vm:"1",name:"BeamHoldTransitionDateTime"},"(300C,0128)":{tag:"(300C,0128)",vr:"SQ",vm:"1",name:"BeamHoldOriginatingDeviceSequence"},"(300E,0002)":{tag:"(300E,0002)",vr:"CS",vm:"1",name:"ApprovalStatus"},"(300E,0004)":{tag:"(300E,0004)",vr:"DA",vm:"1",name:"ReviewDate"},"(300E,0005)":{tag:"(300E,0005)",vr:"TM",vm:"1",name:"ReviewTime"},"(300E,0008)":{tag:"(300E,0008)",vr:"PN",vm:"1",name:"ReviewerName"},"(3010,0001)":{tag:"(3010,0001)",vr:"SQ",vm:"1",name:"RadiobiologicalDoseEffectSequence"},"(3010,0002)":{tag:"(3010,0002)",vr:"CS",vm:"1",name:"RadiobiologicalDoseEffectFlag"},"(3010,0003)":{tag:"(3010,0003)",vr:"SQ",vm:"1",name:"EffectiveDoseCalculationMethodCategoryCodeSequence"},"(3010,0004)":{tag:"(3010,0004)",vr:"SQ",vm:"1",name:"EffectiveDoseCalculationMethodCodeSequence"},"(3010,0005)":{tag:"(3010,0005)",vr:"LO",vm:"1",name:"EffectiveDoseCalculationMethodDescription"},"(3010,0006)":{tag:"(3010,0006)",vr:"UI",vm:"1",name:"ConceptualVolumeUID"},"(3010,0007)":{tag:"(3010,0007)",vr:"SQ",vm:"1",name:"OriginatingSOPInstanceReferenceSequence"},"(3010,0008)":{tag:"(3010,0008)",vr:"SQ",vm:"1",name:"ConceptualVolumeConstituentSequence"},"(3010,0009)":{tag:"(3010,0009)",vr:"SQ",vm:"1",name:"EquivalentConceptualVolumeInstanceReferenceSequence"},"(3010,000A)":{tag:"(3010,000A)",vr:"SQ",vm:"1",name:"EquivalentConceptualVolumesSequence"},"(3010,000B)":{tag:"(3010,000B)",vr:"UI",vm:"1",name:"ReferencedConceptualVolumeUID"},"(3010,000C)":{tag:"(3010,000C)",vr:"UT",vm:"1",name:"ConceptualVolumeCombinationExpression"},"(3010,000D)":{tag:"(3010,000D)",vr:"US",vm:"1",name:"ConceptualVolumeConstituentIndex"},"(3010,000E)":{tag:"(3010,000E)",vr:"CS",vm:"1",name:"ConceptualVolumeCombinationFlag"},"(3010,000F)":{tag:"(3010,000F)",vr:"ST",vm:"1",name:"ConceptualVolumeCombinationDescription"},"(3010,0010)":{tag:"(3010,0010)",vr:"CS",vm:"1",name:"ConceptualVolumeSegmentationDefinedFlag"},"(3010,0011)":{tag:"(3010,0011)",vr:"SQ",vm:"1",name:"ConceptualVolumeSegmentationReferenceSequence"},"(3010,0012)":{tag:"(3010,0012)",vr:"SQ",vm:"1",name:"ConceptualVolumeConstituentSegmentationReferenceSequence"},"(3010,0013)":{tag:"(3010,0013)",vr:"UI",vm:"1",name:"ConstituentConceptualVolumeUID"},"(3010,0014)":{tag:"(3010,0014)",vr:"SQ",vm:"1",name:"DerivationConceptualVolumeSequence"},"(3010,0015)":{tag:"(3010,0015)",vr:"UI",vm:"1",name:"SourceConceptualVolumeUID"},"(3010,0016)":{tag:"(3010,0016)",vr:"SQ",vm:"1",name:"ConceptualVolumeDerivationAlgorithmSequence"},"(3010,0017)":{tag:"(3010,0017)",vr:"ST",vm:"1",name:"ConceptualVolumeDescription"},"(3010,0018)":{tag:"(3010,0018)",vr:"SQ",vm:"1",name:"SourceConceptualVolumeSequence"},"(3010,0019)":{tag:"(3010,0019)",vr:"SQ",vm:"1",name:"AuthorIdentificationSequence"},"(3010,001A)":{tag:"(3010,001A)",vr:"LO",vm:"1",name:"ManufacturerModelVersion"},"(3010,001B)":{tag:"(3010,001B)",vr:"UC",vm:"1",name:"DeviceAlternateIdentifier"},"(3010,001C)":{tag:"(3010,001C)",vr:"CS",vm:"1",name:"DeviceAlternateIdentifierType"},"(3010,001D)":{tag:"(3010,001D)",vr:"LT",vm:"1",name:"DeviceAlternateIdentifierFormat"},"(3010,001E)":{tag:"(3010,001E)",vr:"LO",vm:"1",name:"SegmentationCreationTemplateLabel"},"(3010,001F)":{tag:"(3010,001F)",vr:"UI",vm:"1",name:"SegmentationTemplateUID"},"(3010,0020)":{tag:"(3010,0020)",vr:"US",vm:"1",name:"ReferencedSegmentReferenceIndex"},"(3010,0021)":{tag:"(3010,0021)",vr:"SQ",vm:"1",name:"SegmentReferenceSequence"},"(3010,0022)":{tag:"(3010,0022)",vr:"US",vm:"1",name:"SegmentReferenceIndex"},"(3010,0023)":{tag:"(3010,0023)",vr:"SQ",vm:"1",name:"DirectSegmentReferenceSequence"},"(3010,0024)":{tag:"(3010,0024)",vr:"SQ",vm:"1",name:"CombinationSegmentReferenceSequence"},"(3010,0025)":{tag:"(3010,0025)",vr:"SQ",vm:"1",name:"ConceptualVolumeSequence"},"(3010,0026)":{tag:"(3010,0026)",vr:"SQ",vm:"1",name:"SegmentedRTAccessoryDeviceSequence"},"(3010,0027)":{tag:"(3010,0027)",vr:"SQ",vm:"1",name:"SegmentCharacteristicsSequence"},"(3010,0028)":{tag:"(3010,0028)",vr:"SQ",vm:"1",name:"RelatedSegmentCharacteristicsSequence"},"(3010,0029)":{tag:"(3010,0029)",vr:"US",vm:"1",name:"SegmentCharacteristicsPrecedence"},"(3010,002A)":{tag:"(3010,002A)",vr:"SQ",vm:"1",name:"RTSegmentAnnotationSequence"},"(3010,002B)":{tag:"(3010,002B)",vr:"SQ",vm:"1",name:"SegmentAnnotationCategoryCodeSequence"},"(3010,002C)":{tag:"(3010,002C)",vr:"SQ",vm:"1",name:"SegmentAnnotationTypeCodeSequence"},"(3010,002D)":{tag:"(3010,002D)",vr:"LO",vm:"1",name:"DeviceLabel"},"(3010,002E)":{tag:"(3010,002E)",vr:"SQ",vm:"1",name:"DeviceTypeCodeSequence"},"(3010,002F)":{tag:"(3010,002F)",vr:"SQ",vm:"1",name:"SegmentAnnotationTypeModifierCodeSequence"},"(3010,0030)":{tag:"(3010,0030)",vr:"SQ",vm:"1",name:"PatientEquipmentRelationshipCodeSequence"},"(3010,0031)":{tag:"(3010,0031)",vr:"UI",vm:"1",name:"ReferencedFiducialsUID"},"(3010,0032)":{tag:"(3010,0032)",vr:"SQ",vm:"1",name:"PatientTreatmentOrientationSequence"},"(3010,0033)":{tag:"(3010,0033)",vr:"SH",vm:"1",name:"UserContentLabel"},"(3010,0034)":{tag:"(3010,0034)",vr:"LO",vm:"1",name:"UserContentLongLabel"},"(3010,0035)":{tag:"(3010,0035)",vr:"SH",vm:"1",name:"EntityLabel"},"(3010,0036)":{tag:"(3010,0036)",vr:"LO",vm:"1",name:"EntityName"},"(3010,0037)":{tag:"(3010,0037)",vr:"ST",vm:"1",name:"EntityDescription"},"(3010,0038)":{tag:"(3010,0038)",vr:"LO",vm:"1",name:"EntityLongLabel"},"(3010,0039)":{tag:"(3010,0039)",vr:"US",vm:"1",name:"DeviceIndex"},"(3010,003A)":{tag:"(3010,003A)",vr:"US",vm:"1",name:"RTTreatmentPhaseIndex"},"(3010,003B)":{tag:"(3010,003B)",vr:"UI",vm:"1",name:"RTTreatmentPhaseUID"},"(3010,003C)":{tag:"(3010,003C)",vr:"US",vm:"1",name:"RTPrescriptionIndex"},"(3010,003D)":{tag:"(3010,003D)",vr:"US",vm:"1",name:"RTSegmentAnnotationIndex"},"(3010,003E)":{tag:"(3010,003E)",vr:"US",vm:"1",name:"BasisRTTreatmentPhaseIndex"},"(3010,003F)":{tag:"(3010,003F)",vr:"US",vm:"1",name:"RelatedRTTreatmentPhaseIndex"},"(3010,0040)":{tag:"(3010,0040)",vr:"US",vm:"1",name:"ReferencedRTTreatmentPhaseIndex"},"(3010,0041)":{tag:"(3010,0041)",vr:"US",vm:"1",name:"ReferencedRTPrescriptionIndex"},"(3010,0042)":{tag:"(3010,0042)",vr:"US",vm:"1",name:"ReferencedParentRTPrescriptionIndex"},"(3010,0043)":{tag:"(3010,0043)",vr:"ST",vm:"1",name:"ManufacturerDeviceIdentifier"},"(3010,0044)":{tag:"(3010,0044)",vr:"SQ",vm:"1",name:"InstanceLevelReferencedPerformedProcedureStepSequence"},"(3010,0045)":{tag:"(3010,0045)",vr:"CS",vm:"1",name:"RTTreatmentPhaseIntentPresenceFlag"},"(3010,0046)":{tag:"(3010,0046)",vr:"CS",vm:"1",name:"RadiotherapyTreatmentType"},"(3010,0047)":{tag:"(3010,0047)",vr:"CS",vm:"1-n",name:"TeletherapyRadiationType"},"(3010,0048)":{tag:"(3010,0048)",vr:"CS",vm:"1-n",name:"BrachytherapySourceType"},"(3010,0049)":{tag:"(3010,0049)",vr:"SQ",vm:"1",name:"ReferencedRTTreatmentPhaseSequence"},"(3010,004A)":{tag:"(3010,004A)",vr:"SQ",vm:"1",name:"ReferencedDirectSegmentInstanceSequence"},"(3010,004B)":{tag:"(3010,004B)",vr:"SQ",vm:"1",name:"IntendedRTTreatmentPhaseSequence"},"(3010,004C)":{tag:"(3010,004C)",vr:"DA",vm:"1",name:"IntendedPhaseStartDate"},"(3010,004D)":{tag:"(3010,004D)",vr:"DA",vm:"1",name:"IntendedPhaseEndDate"},"(3010,004E)":{tag:"(3010,004E)",vr:"SQ",vm:"1",name:"RTTreatmentPhaseIntervalSequence"},"(3010,004F)":{tag:"(3010,004F)",vr:"CS",vm:"1",name:"TemporalRelationshipIntervalAnchor"},"(3010,0050)":{tag:"(3010,0050)",vr:"FD",vm:"1",name:"MinimumNumberOfIntervalDays"},"(3010,0051)":{tag:"(3010,0051)",vr:"FD",vm:"1",name:"MaximumNumberOfIntervalDays"},"(3010,0052)":{tag:"(3010,0052)",vr:"UI",vm:"1-n",name:"PertinentSOPClassesInStudy"},"(3010,0053)":{tag:"(3010,0053)",vr:"UI",vm:"1-n",name:"PertinentSOPClassesInSeries"},"(3010,0054)":{tag:"(3010,0054)",vr:"LO",vm:"1",name:"RTPrescriptionLabel"},"(3010,0055)":{tag:"(3010,0055)",vr:"SQ",vm:"1",name:"RTPhysicianIntentPredecessorSequence"},"(3010,0056)":{tag:"(3010,0056)",vr:"LO",vm:"1",name:"RTTreatmentApproachLabel"},"(3010,0057)":{tag:"(3010,0057)",vr:"SQ",vm:"1",name:"RTPhysicianIntentSequence"},"(3010,0058)":{tag:"(3010,0058)",vr:"US",vm:"1",name:"RTPhysicianIntentIndex"},"(3010,0059)":{tag:"(3010,0059)",vr:"CS",vm:"1",name:"RTTreatmentIntentType"},"(3010,005A)":{tag:"(3010,005A)",vr:"UT",vm:"1",name:"RTPhysicianIntentNarrative"},"(3010,005B)":{tag:"(3010,005B)",vr:"SQ",vm:"1",name:"RTProtocolCodeSequence"},"(3010,005C)":{tag:"(3010,005C)",vr:"ST",vm:"1",name:"ReasonForSuperseding"},"(3010,005D)":{tag:"(3010,005D)",vr:"SQ",vm:"1",name:"RTDiagnosisCodeSequence"},"(3010,005E)":{tag:"(3010,005E)",vr:"US",vm:"1",name:"ReferencedRTPhysicianIntentIndex"},"(3010,005F)":{tag:"(3010,005F)",vr:"SQ",vm:"1",name:"RTPhysicianIntentInputInstanceSequence"},"(3010,0060)":{tag:"(3010,0060)",vr:"SQ",vm:"1",name:"RTAnatomicPrescriptionSequence"},"(3010,0061)":{tag:"(3010,0061)",vr:"UT",vm:"1",name:"PriorTreatmentDoseDescription"},"(3010,0062)":{tag:"(3010,0062)",vr:"SQ",vm:"1",name:"PriorTreatmentReferenceSequence"},"(3010,0063)":{tag:"(3010,0063)",vr:"CS",vm:"1",name:"DosimetricObjectiveEvaluationScope"},"(3010,0064)":{tag:"(3010,0064)",vr:"SQ",vm:"1",name:"TherapeuticRoleCategoryCodeSequence"},"(3010,0065)":{tag:"(3010,0065)",vr:"SQ",vm:"1",name:"TherapeuticRoleTypeCodeSequence"},"(3010,0066)":{tag:"(3010,0066)",vr:"US",vm:"1",name:"ConceptualVolumeOptimizationPrecedence"},"(3010,0067)":{tag:"(3010,0067)",vr:"SQ",vm:"1",name:"ConceptualVolumeCategoryCodeSequence"},"(3010,0068)":{tag:"(3010,0068)",vr:"CS",vm:"1",name:"ConceptualVolumeBlockingConstraint"},"(3010,0069)":{tag:"(3010,0069)",vr:"SQ",vm:"1",name:"ConceptualVolumeTypeCodeSequence"},"(3010,006A)":{tag:"(3010,006A)",vr:"SQ",vm:"1",name:"ConceptualVolumeTypeModifierCodeSequence"},"(3010,006B)":{tag:"(3010,006B)",vr:"SQ",vm:"1",name:"RTPrescriptionSequence"},"(3010,006C)":{tag:"(3010,006C)",vr:"SQ",vm:"1",name:"DosimetricObjectiveSequence"},"(3010,006D)":{tag:"(3010,006D)",vr:"SQ",vm:"1",name:"DosimetricObjectiveTypeCodeSequence"},"(3010,006E)":{tag:"(3010,006E)",vr:"UI",vm:"1",name:"DosimetricObjectiveUID"},"(3010,006F)":{tag:"(3010,006F)",vr:"UI",vm:"1",name:"ReferencedDosimetricObjectiveUID"},"(3010,0070)":{tag:"(3010,0070)",vr:"SQ",vm:"1",name:"DosimetricObjectiveParameterSequence"},"(3010,0071)":{tag:"(3010,0071)",vr:"SQ",vm:"1",name:"ReferencedDosimetricObjectivesSequence"},"(3010,0073)":{tag:"(3010,0073)",vr:"CS",vm:"1",name:"AbsoluteDosimetricObjectiveFlag"},"(3010,0074)":{tag:"(3010,0074)",vr:"FD",vm:"1",name:"DosimetricObjectiveWeight"},"(3010,0075)":{tag:"(3010,0075)",vr:"CS",vm:"1",name:"DosimetricObjectivePurpose"},"(3010,0076)":{tag:"(3010,0076)",vr:"SQ",vm:"1",name:"PlanningInputInformationSequence"},"(3010,0077)":{tag:"(3010,0077)",vr:"LO",vm:"1",name:"TreatmentSite"},"(3010,0078)":{tag:"(3010,0078)",vr:"SQ",vm:"1",name:"TreatmentSiteCodeSequence"},"(3010,0079)":{tag:"(3010,0079)",vr:"SQ",vm:"1",name:"FractionPatternSequence"},"(3010,007A)":{tag:"(3010,007A)",vr:"UT",vm:"1",name:"TreatmentTechniqueNotes"},"(3010,007B)":{tag:"(3010,007B)",vr:"UT",vm:"1",name:"PrescriptionNotes"},"(3010,007C)":{tag:"(3010,007C)",vr:"IS",vm:"1",name:"NumberOfIntervalFractions"},"(3010,007D)":{tag:"(3010,007D)",vr:"US",vm:"1",name:"NumberOfFractions"},"(3010,007E)":{tag:"(3010,007E)",vr:"US",vm:"1",name:"IntendedDeliveryDuration"},"(3010,007F)":{tag:"(3010,007F)",vr:"UT",vm:"1",name:"FractionationNotes"},"(3010,0080)":{tag:"(3010,0080)",vr:"SQ",vm:"1",name:"RTTreatmentTechniqueCodeSequence"},"(3010,0081)":{tag:"(3010,0081)",vr:"SQ",vm:"1",name:"PrescriptionNotesSequence"},"(3010,0082)":{tag:"(3010,0082)",vr:"SQ",vm:"1",name:"FractionBasedRelationshipSequence"},"(3010,0083)":{tag:"(3010,0083)",vr:"CS",vm:"1",name:"FractionBasedRelationshipIntervalAnchor"},"(3010,0084)":{tag:"(3010,0084)",vr:"FD",vm:"1",name:"MinimumHoursBetweenFractions"},"(3010,0085)":{tag:"(3010,0085)",vr:"TM",vm:"1-n",name:"IntendedFractionStartTime"},"(3010,0086)":{tag:"(3010,0086)",vr:"LT",vm:"1",name:"IntendedStartDayOfWeek"},"(3010,0087)":{tag:"(3010,0087)",vr:"SQ",vm:"1",name:"WeekdayFractionPatternSequence"},"(3010,0088)":{tag:"(3010,0088)",vr:"SQ",vm:"1",name:"DeliveryTimeStructureCodeSequence"},"(3010,0089)":{tag:"(3010,0089)",vr:"SQ",vm:"1",name:"TreatmentSiteModifierCodeSequence"},"(3010,0090)":{tag:"(3010,0090)",vr:"CS",vm:"1",name:"RoboticBaseLocationIndicator"},"(3010,0091)":{tag:"(3010,0091)",vr:"SQ",vm:"1",name:"RoboticPathNodeSetCodeSequence"},"(3010,0092)":{tag:"(3010,0092)",vr:"UL",vm:"1",name:"RoboticNodeIdentifier"},"(3010,0093)":{tag:"(3010,0093)",vr:"FD",vm:"3",name:"RTTreatmentSourceCoordinates"},"(3010,0094)":{tag:"(3010,0094)",vr:"FD",vm:"1",name:"RadiationSourceCoordinateSystemYawAngle"},"(3010,0095)":{tag:"(3010,0095)",vr:"FD",vm:"1",name:"RadiationSourceCoordinateSystemRollAngle"},"(3010,0096)":{tag:"(3010,0096)",vr:"FD",vm:"1",name:"RadiationSourceCoordinateSystemPitchAngle"},"(3010,0097)":{tag:"(3010,0097)",vr:"SQ",vm:"1",name:"RoboticPathControlPointSequence"},"(3010,0098)":{tag:"(3010,0098)",vr:"SQ",vm:"1",name:"TomotherapeuticControlPointSequence"},"(3010,0099)":{tag:"(3010,0099)",vr:"FD",vm:"1-n",name:"TomotherapeuticLeafOpenDurations"},"(3010,009A)":{tag:"(3010,009A)",vr:"FD",vm:"1-n",name:"TomotherapeuticLeafInitialClosedDurations"},"(4000,0010)":{tag:"(4000,0010)",vr:"LT",vm:"1",name:"Arbitrary"},"(4000,4000)":{tag:"(4000,4000)",vr:"LT",vm:"1",name:"TextComments"},"(4008,0040)":{tag:"(4008,0040)",vr:"SH",vm:"1",name:"ResultsID"},"(4008,0042)":{tag:"(4008,0042)",vr:"LO",vm:"1",name:"ResultsIDIssuer"},"(4008,0050)":{tag:"(4008,0050)",vr:"SQ",vm:"1",name:"ReferencedInterpretationSequence"},"(4008,00FF)":{tag:"(4008,00FF)",vr:"CS",vm:"1",name:"ReportProductionStatusTrial"},"(4008,0100)":{tag:"(4008,0100)",vr:"DA",vm:"1",name:"InterpretationRecordedDate"},"(4008,0101)":{tag:"(4008,0101)",vr:"TM",vm:"1",name:"InterpretationRecordedTime"},"(4008,0102)":{tag:"(4008,0102)",vr:"PN",vm:"1",name:"InterpretationRecorder"},"(4008,0103)":{tag:"(4008,0103)",vr:"LO",vm:"1",name:"ReferenceToRecordedSound"},"(4008,0108)":{tag:"(4008,0108)",vr:"DA",vm:"1",name:"InterpretationTranscriptionDate"},"(4008,0109)":{tag:"(4008,0109)",vr:"TM",vm:"1",name:"InterpretationTranscriptionTime"},"(4008,010A)":{tag:"(4008,010A)",vr:"PN",vm:"1",name:"InterpretationTranscriber"},"(4008,010B)":{tag:"(4008,010B)",vr:"ST",vm:"1",name:"InterpretationText"},"(4008,010C)":{tag:"(4008,010C)",vr:"PN",vm:"1",name:"InterpretationAuthor"},"(4008,0111)":{tag:"(4008,0111)",vr:"SQ",vm:"1",name:"InterpretationApproverSequence"},"(4008,0112)":{tag:"(4008,0112)",vr:"DA",vm:"1",name:"InterpretationApprovalDate"},"(4008,0113)":{tag:"(4008,0113)",vr:"TM",vm:"1",name:"InterpretationApprovalTime"},"(4008,0114)":{tag:"(4008,0114)",vr:"PN",vm:"1",name:"PhysicianApprovingInterpretation"},"(4008,0115)":{tag:"(4008,0115)",vr:"LT",vm:"1",name:"InterpretationDiagnosisDescription"},"(4008,0117)":{tag:"(4008,0117)",vr:"SQ",vm:"1",name:"InterpretationDiagnosisCodeSequence"},"(4008,0118)":{tag:"(4008,0118)",vr:"SQ",vm:"1",name:"ResultsDistributionListSequence"},"(4008,0119)":{tag:"(4008,0119)",vr:"PN",vm:"1",name:"DistributionName"},"(4008,011A)":{tag:"(4008,011A)",vr:"LO",vm:"1",name:"DistributionAddress"},"(4008,0200)":{tag:"(4008,0200)",vr:"SH",vm:"1",name:"InterpretationID"},"(4008,0202)":{tag:"(4008,0202)",vr:"LO",vm:"1",name:"InterpretationIDIssuer"},"(4008,0210)":{tag:"(4008,0210)",vr:"CS",vm:"1",name:"InterpretationTypeID"},"(4008,0212)":{tag:"(4008,0212)",vr:"CS",vm:"1",name:"InterpretationStatusID"},"(4008,0300)":{tag:"(4008,0300)",vr:"ST",vm:"1",name:"Impressions"},"(4008,4000)":{tag:"(4008,4000)",vr:"ST",vm:"1",name:"ResultsComments"},"(4010,0001)":{tag:"(4010,0001)",vr:"CS",vm:"1",name:"LowEnergyDetectors"},"(4010,0002)":{tag:"(4010,0002)",vr:"CS",vm:"1",name:"HighEnergyDetectors"},"(4010,0004)":{tag:"(4010,0004)",vr:"SQ",vm:"1",name:"DetectorGeometrySequence"},"(4010,1001)":{tag:"(4010,1001)",vr:"SQ",vm:"1",name:"ThreatROIVoxelSequence"},"(4010,1004)":{tag:"(4010,1004)",vr:"FL",vm:"3",name:"ThreatROIBase"},"(4010,1005)":{tag:"(4010,1005)",vr:"FL",vm:"3",name:"ThreatROIExtents"},"(4010,1006)":{tag:"(4010,1006)",vr:"OB",vm:"1",name:"ThreatROIBitmap"},"(4010,1007)":{tag:"(4010,1007)",vr:"SH",vm:"1",name:"RouteSegmentID"},"(4010,1008)":{tag:"(4010,1008)",vr:"CS",vm:"1",name:"GantryType"},"(4010,1009)":{tag:"(4010,1009)",vr:"CS",vm:"1",name:"OOIOwnerType"},"(4010,100A)":{tag:"(4010,100A)",vr:"SQ",vm:"1",name:"RouteSegmentSequence"},"(4010,1010)":{tag:"(4010,1010)",vr:"US",vm:"1",name:"PotentialThreatObjectID"},"(4010,1011)":{tag:"(4010,1011)",vr:"SQ",vm:"1",name:"ThreatSequence"},"(4010,1012)":{tag:"(4010,1012)",vr:"CS",vm:"1",name:"ThreatCategory"},"(4010,1013)":{tag:"(4010,1013)",vr:"LT",vm:"1",name:"ThreatCategoryDescription"},"(4010,1014)":{tag:"(4010,1014)",vr:"CS",vm:"1",name:"ATDAbilityAssessment"},"(4010,1015)":{tag:"(4010,1015)",vr:"CS",vm:"1",name:"ATDAssessmentFlag"},"(4010,1016)":{tag:"(4010,1016)",vr:"FL",vm:"1",name:"ATDAssessmentProbability"},"(4010,1017)":{tag:"(4010,1017)",vr:"FL",vm:"1",name:"Mass"},"(4010,1018)":{tag:"(4010,1018)",vr:"FL",vm:"1",name:"Density"},"(4010,1019)":{tag:"(4010,1019)",vr:"FL",vm:"1",name:"ZEffective"},"(4010,101A)":{tag:"(4010,101A)",vr:"SH",vm:"1",name:"BoardingPassID"},"(4010,101B)":{tag:"(4010,101B)",vr:"FL",vm:"3",name:"CenterOfMass"},"(4010,101C)":{tag:"(4010,101C)",vr:"FL",vm:"3",name:"CenterOfPTO"},"(4010,101D)":{tag:"(4010,101D)",vr:"FL",vm:"6-n",name:"BoundingPolygon"},"(4010,101E)":{tag:"(4010,101E)",vr:"SH",vm:"1",name:"RouteSegmentStartLocationID"},"(4010,101F)":{tag:"(4010,101F)",vr:"SH",vm:"1",name:"RouteSegmentEndLocationID"},"(4010,1020)":{tag:"(4010,1020)",vr:"CS",vm:"1",name:"RouteSegmentLocationIDType"},"(4010,1021)":{tag:"(4010,1021)",vr:"CS",vm:"1-n",name:"AbortReason"},"(4010,1023)":{tag:"(4010,1023)",vr:"FL",vm:"1",name:"VolumeOfPTO"},"(4010,1024)":{tag:"(4010,1024)",vr:"CS",vm:"1",name:"AbortFlag"},"(4010,1025)":{tag:"(4010,1025)",vr:"DT",vm:"1",name:"RouteSegmentStartTime"},"(4010,1026)":{tag:"(4010,1026)",vr:"DT",vm:"1",name:"RouteSegmentEndTime"},"(4010,1027)":{tag:"(4010,1027)",vr:"CS",vm:"1",name:"TDRType"},"(4010,1028)":{tag:"(4010,1028)",vr:"CS",vm:"1",name:"InternationalRouteSegment"},"(4010,1029)":{tag:"(4010,1029)",vr:"LO",vm:"1-n",name:"ThreatDetectionAlgorithmAndVersion"},"(4010,102A)":{tag:"(4010,102A)",vr:"SH",vm:"1",name:"AssignedLocation"},"(4010,102B)":{tag:"(4010,102B)",vr:"DT",vm:"1",name:"AlarmDecisionTime"},"(4010,1031)":{tag:"(4010,1031)",vr:"CS",vm:"1",name:"AlarmDecision"},"(4010,1033)":{tag:"(4010,1033)",vr:"US",vm:"1",name:"NumberOfTotalObjects"},"(4010,1034)":{tag:"(4010,1034)",vr:"US",vm:"1",name:"NumberOfAlarmObjects"},"(4010,1037)":{tag:"(4010,1037)",vr:"SQ",vm:"1",name:"PTORepresentationSequence"},"(4010,1038)":{tag:"(4010,1038)",vr:"SQ",vm:"1",name:"ATDAssessmentSequence"},"(4010,1039)":{tag:"(4010,1039)",vr:"CS",vm:"1",name:"TIPType"},"(4010,103A)":{tag:"(4010,103A)",vr:"CS",vm:"1",name:"DICOSVersion"},"(4010,1041)":{tag:"(4010,1041)",vr:"DT",vm:"1",name:"OOIOwnerCreationTime"},"(4010,1042)":{tag:"(4010,1042)",vr:"CS",vm:"1",name:"OOIType"},"(4010,1043)":{tag:"(4010,1043)",vr:"FL",vm:"3",name:"OOISize"},"(4010,1044)":{tag:"(4010,1044)",vr:"CS",vm:"1",name:"AcquisitionStatus"},"(4010,1045)":{tag:"(4010,1045)",vr:"SQ",vm:"1",name:"BasisMaterialsCodeSequence"},"(4010,1046)":{tag:"(4010,1046)",vr:"CS",vm:"1",name:"PhantomType"},"(4010,1047)":{tag:"(4010,1047)",vr:"SQ",vm:"1",name:"OOIOwnerSequence"},"(4010,1048)":{tag:"(4010,1048)",vr:"CS",vm:"1",name:"ScanType"},"(4010,1051)":{tag:"(4010,1051)",vr:"LO",vm:"1",name:"ItineraryID"},"(4010,1052)":{tag:"(4010,1052)",vr:"SH",vm:"1",name:"ItineraryIDType"},"(4010,1053)":{tag:"(4010,1053)",vr:"LO",vm:"1",name:"ItineraryIDAssigningAuthority"},"(4010,1054)":{tag:"(4010,1054)",vr:"SH",vm:"1",name:"RouteID"},"(4010,1055)":{tag:"(4010,1055)",vr:"SH",vm:"1",name:"RouteIDAssigningAuthority"},"(4010,1056)":{tag:"(4010,1056)",vr:"CS",vm:"1",name:"InboundArrivalType"},"(4010,1058)":{tag:"(4010,1058)",vr:"SH",vm:"1",name:"CarrierID"},"(4010,1059)":{tag:"(4010,1059)",vr:"CS",vm:"1",name:"CarrierIDAssigningAuthority"},"(4010,1060)":{tag:"(4010,1060)",vr:"FL",vm:"3",name:"SourceOrientation"},"(4010,1061)":{tag:"(4010,1061)",vr:"FL",vm:"3",name:"SourcePosition"},"(4010,1062)":{tag:"(4010,1062)",vr:"FL",vm:"1",name:"BeltHeight"},"(4010,1064)":{tag:"(4010,1064)",vr:"SQ",vm:"1",name:"AlgorithmRoutingCodeSequence"},"(4010,1067)":{tag:"(4010,1067)",vr:"CS",vm:"1",name:"TransportClassification"},"(4010,1068)":{tag:"(4010,1068)",vr:"LT",vm:"1",name:"OOITypeDescriptor"},"(4010,1069)":{tag:"(4010,1069)",vr:"FL",vm:"1",name:"TotalProcessingTime"},"(4010,106C)":{tag:"(4010,106C)",vr:"OB",vm:"1",name:"DetectorCalibrationData"},"(4010,106D)":{tag:"(4010,106D)",vr:"CS",vm:"1",name:"AdditionalScreeningPerformed"},"(4010,106E)":{tag:"(4010,106E)",vr:"CS",vm:"1",name:"AdditionalInspectionSelectionCriteria"},"(4010,106F)":{tag:"(4010,106F)",vr:"SQ",vm:"1",name:"AdditionalInspectionMethodSequence"},"(4010,1070)":{tag:"(4010,1070)",vr:"CS",vm:"1",name:"AITDeviceType"},"(4010,1071)":{tag:"(4010,1071)",vr:"SQ",vm:"1",name:"QRMeasurementsSequence"},"(4010,1072)":{tag:"(4010,1072)",vr:"SQ",vm:"1",name:"TargetMaterialSequence"},"(4010,1073)":{tag:"(4010,1073)",vr:"FD",vm:"1",name:"SNRThreshold"},"(4010,1075)":{tag:"(4010,1075)",vr:"DS",vm:"1",name:"ImageScaleRepresentation"},"(4010,1076)":{tag:"(4010,1076)",vr:"SQ",vm:"1",name:"ReferencedPTOSequence"},"(4010,1077)":{tag:"(4010,1077)",vr:"SQ",vm:"1",name:"ReferencedTDRInstanceSequence"},"(4010,1078)":{tag:"(4010,1078)",vr:"ST",vm:"1",name:"PTOLocationDescription"},"(4010,1079)":{tag:"(4010,1079)",vr:"SQ",vm:"1",name:"AnomalyLocatorIndicatorSequence"},"(4010,107A)":{tag:"(4010,107A)",vr:"FL",vm:"3",name:"AnomalyLocatorIndicator"},"(4010,107B)":{tag:"(4010,107B)",vr:"SQ",vm:"1",name:"PTORegionSequence"},"(4010,107C)":{tag:"(4010,107C)",vr:"CS",vm:"1",name:"InspectionSelectionCriteria"},"(4010,107D)":{tag:"(4010,107D)",vr:"SQ",vm:"1",name:"SecondaryInspectionMethodSequence"},"(4010,107E)":{tag:"(4010,107E)",vr:"DS",vm:"6",name:"PRCSToRCSOrientation"},"(4FFE,0001)":{tag:"(4FFE,0001)",vr:"SQ",vm:"1",name:"MACParametersSequence"},"(50xx,0005)":{tag:"(50xx,0005)",vr:"US",vm:"1",name:"CurveDimensions"},"(50xx,0010)":{tag:"(50xx,0010)",vr:"US",vm:"1",name:"NumberOfPoints"},"(50xx,0020)":{tag:"(50xx,0020)",vr:"CS",vm:"1",name:"TypeOfData"},"(50xx,0022)":{tag:"(50xx,0022)",vr:"LO",vm:"1",name:"CurveDescription"},"(50xx,0030)":{tag:"(50xx,0030)",vr:"SH",vm:"1-n",name:"AxisUnits"},"(50xx,0040)":{tag:"(50xx,0040)",vr:"SH",vm:"1-n",name:"AxisLabels"},"(50xx,0103)":{tag:"(50xx,0103)",vr:"US",vm:"1",name:"DataValueRepresentation"},"(50xx,0104)":{tag:"(50xx,0104)",vr:"US",vm:"1-n",name:"MinimumCoordinateValue"},"(50xx,0105)":{tag:"(50xx,0105)",vr:"US",vm:"1-n",name:"MaximumCoordinateValue"},"(50xx,0106)":{tag:"(50xx,0106)",vr:"SH",vm:"1-n",name:"CurveRange"},"(50xx,0110)":{tag:"(50xx,0110)",vr:"US",vm:"1-n",name:"CurveDataDescriptor"},"(50xx,0112)":{tag:"(50xx,0112)",vr:"US",vm:"1-n",name:"CoordinateStartValue"},"(50xx,0114)":{tag:"(50xx,0114)",vr:"US",vm:"1-n",name:"CoordinateStepValue"},"(50xx,1001)":{tag:"(50xx,1001)",vr:"CS",vm:"1",name:"CurveActivationLayer"},"(50xx,2000)":{tag:"(50xx,2000)",vr:"US",vm:"1",name:"AudioType"},"(50xx,2002)":{tag:"(50xx,2002)",vr:"US",vm:"1",name:"AudioSampleFormat"},"(50xx,2004)":{tag:"(50xx,2004)",vr:"US",vm:"1",name:"NumberOfChannels"},"(50xx,2006)":{tag:"(50xx,2006)",vr:"UL",vm:"1",name:"NumberOfSamples"},"(50xx,2008)":{tag:"(50xx,2008)",vr:"UL",vm:"1",name:"SampleRate"},"(50xx,200A)":{tag:"(50xx,200A)",vr:"UL",vm:"1",name:"TotalTime"},"(50xx,200C)":{tag:"(50xx,200C)",vr:"OB|OW",vm:"1",name:"AudioSampleData"},"(50xx,200E)":{tag:"(50xx,200E)",vr:"LT",vm:"1",name:"AudioComments"},"(50xx,2500)":{tag:"(50xx,2500)",vr:"LO",vm:"1",name:"CurveLabel"},"(50xx,2600)":{tag:"(50xx,2600)",vr:"SQ",vm:"1",name:"CurveReferencedOverlaySequence"},"(50xx,2610)":{tag:"(50xx,2610)",vr:"US",vm:"1",name:"CurveReferencedOverlayGroup"},"(50xx,3000)":{tag:"(50xx,3000)",vr:"OB|OW",vm:"1",name:"CurveData"},"(5200,9229)":{tag:"(5200,9229)",vr:"SQ",vm:"1",name:"SharedFunctionalGroupsSequence"},"(5200,9230)":{tag:"(5200,9230)",vr:"SQ",vm:"1",name:"PerFrameFunctionalGroupsSequence"},"(5400,0100)":{tag:"(5400,0100)",vr:"SQ",vm:"1",name:"WaveformSequence"},"(5400,0110)":{tag:"(5400,0110)",vr:"OB|OW",vm:"1",name:"ChannelMinimumValue"},"(5400,0112)":{tag:"(5400,0112)",vr:"OB|OW",vm:"1",name:"ChannelMaximumValue"},"(5400,1004)":{tag:"(5400,1004)",vr:"US",vm:"1",name:"WaveformBitsAllocated"},"(5400,1006)":{tag:"(5400,1006)",vr:"CS",vm:"1",name:"WaveformSampleInterpretation"},"(5400,100A)":{tag:"(5400,100A)",vr:"OB|OW",vm:"1",name:"WaveformPaddingValue"},"(5400,1010)":{tag:"(5400,1010)",vr:"OB|OW",vm:"1",name:"WaveformData"},"(5600,0010)":{tag:"(5600,0010)",vr:"OF",vm:"1",name:"FirstOrderPhaseCorrectionAngle"},"(5600,0020)":{tag:"(5600,0020)",vr:"OF",vm:"1",name:"SpectroscopyData"},"(60xx,0010)":{tag:"(60xx,0010)",vr:"US",vm:"1",name:"OverlayRows"},"(60xx,0011)":{tag:"(60xx,0011)",vr:"US",vm:"1",name:"OverlayColumns"},"(60xx,0012)":{tag:"(60xx,0012)",vr:"US",vm:"1",name:"OverlayPlanes"},"(60xx,0015)":{tag:"(60xx,0015)",vr:"IS",vm:"1",name:"NumberOfFramesInOverlay"},"(60xx,0022)":{tag:"(60xx,0022)",vr:"LO",vm:"1",name:"OverlayDescription"},"(60xx,0040)":{tag:"(60xx,0040)",vr:"CS",vm:"1",name:"OverlayType"},"(60xx,0045)":{tag:"(60xx,0045)",vr:"LO",vm:"1",name:"OverlaySubtype"},"(60xx,0050)":{tag:"(60xx,0050)",vr:"SS",vm:"2",name:"OverlayOrigin"},"(60xx,0051)":{tag:"(60xx,0051)",vr:"US",vm:"1",name:"ImageFrameOrigin"},"(60xx,0052)":{tag:"(60xx,0052)",vr:"US",vm:"1",name:"OverlayPlaneOrigin"},"(60xx,0060)":{tag:"(60xx,0060)",vr:"CS",vm:"1",name:"OverlayCompressionCode"},"(60xx,0061)":{tag:"(60xx,0061)",vr:"SH",vm:"1",name:"OverlayCompressionOriginator"},"(60xx,0062)":{tag:"(60xx,0062)",vr:"SH",vm:"1",name:"OverlayCompressionLabel"},"(60xx,0063)":{tag:"(60xx,0063)",vr:"CS",vm:"1",name:"OverlayCompressionDescription"},"(60xx,0066)":{tag:"(60xx,0066)",vr:"AT",vm:"1-n",name:"OverlayCompressionStepPointers"},"(60xx,0068)":{tag:"(60xx,0068)",vr:"US",vm:"1",name:"OverlayRepeatInterval"},"(60xx,0069)":{tag:"(60xx,0069)",vr:"US",vm:"1",name:"OverlayBitsGrouped"},"(60xx,0100)":{tag:"(60xx,0100)",vr:"US",vm:"1",name:"OverlayBitsAllocated"},"(60xx,0102)":{tag:"(60xx,0102)",vr:"US",vm:"1",name:"OverlayBitPosition"},"(60xx,0110)":{tag:"(60xx,0110)",vr:"CS",vm:"1",name:"OverlayFormat"},"(60xx,0200)":{tag:"(60xx,0200)",vr:"US",vm:"1",name:"OverlayLocation"},"(60xx,0800)":{tag:"(60xx,0800)",vr:"CS",vm:"1-n",name:"OverlayCodeLabel"},"(60xx,0802)":{tag:"(60xx,0802)",vr:"US",vm:"1",name:"OverlayNumberOfTables"},"(60xx,0803)":{tag:"(60xx,0803)",vr:"AT",vm:"1-n",name:"OverlayCodeTableLocation"},"(60xx,0804)":{tag:"(60xx,0804)",vr:"US",vm:"1",name:"OverlayBitsForCodeWord"},"(60xx,1001)":{tag:"(60xx,1001)",vr:"CS",vm:"1",name:"OverlayActivationLayer"},"(60xx,1100)":{tag:"(60xx,1100)",vr:"US",vm:"1",name:"OverlayDescriptorGray"},"(60xx,1101)":{tag:"(60xx,1101)",vr:"US",vm:"1",name:"OverlayDescriptorRed"},"(60xx,1102)":{tag:"(60xx,1102)",vr:"US",vm:"1",name:"OverlayDescriptorGreen"},"(60xx,1103)":{tag:"(60xx,1103)",vr:"US",vm:"1",name:"OverlayDescriptorBlue"},"(60xx,1200)":{tag:"(60xx,1200)",vr:"US",vm:"1-n",name:"OverlaysGray"},"(60xx,1201)":{tag:"(60xx,1201)",vr:"US",vm:"1-n",name:"OverlaysRed"},"(60xx,1202)":{tag:"(60xx,1202)",vr:"US",vm:"1-n",name:"OverlaysGreen"},"(60xx,1203)":{tag:"(60xx,1203)",vr:"US",vm:"1-n",name:"OverlaysBlue"},"(60xx,1301)":{tag:"(60xx,1301)",vr:"IS",vm:"1",name:"ROIArea"},"(60xx,1302)":{tag:"(60xx,1302)",vr:"DS",vm:"1",name:"ROIMean"},"(60xx,1303)":{tag:"(60xx,1303)",vr:"DS",vm:"1",name:"ROIStandardDeviation"},"(60xx,1500)":{tag:"(60xx,1500)",vr:"LO",vm:"1",name:"OverlayLabel"},"(60xx,3000)":{tag:"(60xx,3000)",vr:"OB|OW",vm:"1",name:"OverlayData"},"(60xx,4000)":{tag:"(60xx,4000)",vr:"LT",vm:"1",name:"OverlayComments"},"(7FE0,0001)":{tag:"(7FE0,0001)",vr:"OV",vm:"1",name:"ExtendedOffsetTable"},"(7FE0,0002)":{tag:"(7FE0,0002)",vr:"OV",vm:"1",name:"ExtendedOffsetTableLengths"},"(7FE0,0008)":{tag:"(7FE0,0008)",vr:"OF",vm:"1",name:"FloatPixelData"},"(7FE0,0009)":{tag:"(7FE0,0009)",vr:"OD",vm:"1",name:"DoubleFloatPixelData"},"(7FE0,0010)":{tag:"(7FE0,0010)",vr:"OB|OW",vm:"1",name:"PixelData"},"(7FE0,0020)":{tag:"(7FE0,0020)",vr:"OW",vm:"1",name:"CoefficientsSDVN"},"(7FE0,0030)":{tag:"(7FE0,0030)",vr:"OW",vm:"1",name:"CoefficientsSDHN"},"(7FE0,0040)":{tag:"(7FE0,0040)",vr:"OW",vm:"1",name:"CoefficientsSDDN"},"(7Fxx,0010)":{tag:"(7Fxx,0010)",vr:"OB|OW",vm:"1",name:"VariablePixelData"},"(7Fxx,0011)":{tag:"(7Fxx,0011)",vr:"US",vm:"1",name:"VariableNextDataGroup"},"(7Fxx,0020)":{tag:"(7Fxx,0020)",vr:"OW",vm:"1",name:"VariableCoefficientsSDVN"},"(7Fxx,0030)":{tag:"(7Fxx,0030)",vr:"OW",vm:"1",name:"VariableCoefficientsSDHN"},"(7Fxx,0040)":{tag:"(7Fxx,0040)",vr:"OW",vm:"1",name:"VariableCoefficientsSDDN"},"(FFFA,FFFA)":{tag:"(FFFA,FFFA)",vr:"SQ",vm:"1",name:"DigitalSignaturesSequence"},"(FFFC,FFFC)":{tag:"(FFFC,FFFC)",vr:"OB",vm:"1",name:"DataSetTrailingPadding"},"(FFFE,E000)":{tag:"(FFFE,E000)",vr:"",vm:"1",name:"Item"},"(FFFE,E00D)":{tag:"(FFFE,E00D)",vr:"",vm:"1",name:"ItemDelimitationItem"},"(FFFE,E0DD)":{tag:"(FFFE,E0DD)",vr:"",vm:"1",name:"SequenceDelimitationItem"}},{Search:ehe}=wf;function the({tags:t}){const[e,n]=S.useState(""),r=[{title:"Tag",dataIndex:"tag",key:"tag",width:80},{title:"VR",dataIndex:"vr",key:"vr",width:40},{title:"Name",dataIndex:"name",key:"name",width:160,render:s=>s||"Unknown"},{title:"Value",dataIndex:"value",key:"value",width:200,render:s=>kn.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:s})}],a=S.useMemo(()=>Object.entries(t).map(([s,{vr:l,value:c}])=>{var u;const f=`(${s.slice(1,5)},${s.slice(5)})`;return{key:s,tag:s,vr:l,name:((u=Jpe[f])==null?void 0:u.name)||"Unknown",value:c||"N/A"}}),[t]),i=S.useMemo(()=>e?a.filter(s=>s.tag.toLowerCase().includes(e.toLowerCase())||s.name.toLowerCase().includes(e.toLowerCase())||s.value&&s.value.toLowerCase().includes(e.toLowerCase())):a,[a,e]);if(!t)return kn.jsx("div",{children:"No DICOM tags available"});const o=s=>{n(s)};return kn.jsxs("div",{children:[kn.jsx(ehe,{placeholder:"搜索 Tag、名称或值",onSearch:o,style:{marginBottom:16}}),kn.jsx(dl,{columns:r,dataSource:i,scroll:{y:400},pagination:{pageSize:50}})]})}var It;(function(t){t.ERROR_EVENT="CORNERSTONE_ERROR",t.CACHE_SIZE_EXCEEDED="CACHE_SIZE_EXCEEDED",t.IMAGE_LOAD_ERROR="IMAGE_LOAD_ERROR",t.CAMERA_MODIFIED="CORNERSTONE_CAMERA_MODIFIED",t.CAMERA_RESET="CORNERSTONE_CAMERA_RESET",t.VOI_MODIFIED="CORNERSTONE_VOI_MODIFIED",t.PRESET_MODIFIED="CORNERSTONE_VIEWPORT_RENDERING_PRESET_MODIFIED",t.DISPLAY_AREA_MODIFIED="CORNERSTONE_DISPLAY_AREA_MODIFIED",t.ELEMENT_DISABLED="CORNERSTONE_ELEMENT_DISABLED",t.ELEMENT_ENABLED="CORNERSTONE_ELEMENT_ENABLED",t.IMAGE_RENDERED="CORNERSTONE_IMAGE_RENDERED",t.IMAGE_VOLUME_MODIFIED="CORNERSTONE_IMAGE_VOLUME_MODIFIED",t.IMAGE_VOLUME_LOADING_COMPLETED="CORNERSTONE_IMAGE_VOLUME_LOADING_COMPLETED",t.IMAGE_LOADED="CORNERSTONE_IMAGE_LOADED",t.IMAGE_RETRIEVAL_STAGE="CORNERSTONE_IMAGE_RETRIEVAL_STAGE",t.IMAGE_LOAD_FAILED="CORNERSTONE_IMAGE_LOAD_FAILED",t.VOLUME_VIEWPORT_NEW_VOLUME="CORNERSTONE_VOLUME_VIEWPORT_NEW_VOLUME",t.VOLUME_LOADED="CORNERSTONE_VOLUME_LOADED",t.VOLUME_LOADED_FAILED="CORNERSTONE_VOLUME_LOADED_FAILED",t.IMAGE_CACHE_IMAGE_ADDED="CORNERSTONE_IMAGE_CACHE_IMAGE_ADDED",t.IMAGE_CACHE_IMAGE_REMOVED="CORNERSTONE_IMAGE_CACHE_IMAGE_REMOVED",t.VOLUME_CACHE_VOLUME_ADDED="CORNERSTONE_VOLUME_CACHE_VOLUME_ADDED",t.VOLUME_CACHE_VOLUME_REMOVED="CORNERSTONE_VOLUME_CACHE_VOLUME_REMOVED",t.STACK_NEW_IMAGE="CORNERSTONE_STACK_NEW_IMAGE",t.VOLUME_NEW_IMAGE="CORNERSTONE_VOLUME_NEW_IMAGE",t.PRE_STACK_NEW_IMAGE="CORNERSTONE_PRE_STACK_NEW_IMAGE",t.IMAGE_SPACING_CALIBRATED="CORNERSTONE_IMAGE_SPACING_CALIBRATED",t.VIEWPORT_NEW_IMAGE_SET="CORNERSTONE_VIEWPORT_NEW_IMAGE_SET",t.STACK_VIEWPORT_SCROLL="CORNERSTONE_STACK_VIEWPORT_SCROLL",t.STACK_SCROLL_OUT_OF_BOUNDS="STACK_SCROLL_OUT_OF_BOUNDS",t.GEOMETRY_CACHE_GEOMETRY_ADDED="CORNERSTONE_GEOMETRY_CACHE_GEOMETRY_ADDED",t.GEOMETRY_CACHE_GEOMETRY_REMOVED="CORNERSTONE_GEOMETRY_CACHE_GEOMETRY_REMOVED",t.VOLUME_VIEWPORT_SCROLL_OUT_OF_BOUNDS="VOLUME_VIEWPORT_SCROLL_OUT_OF_BOUNDS",t.VOLUME_VIEWPORT_SCROLL="VOLUME_VIEWPORT_SCROLL",t.CLIPPING_PLANES_UPDATED="CORNERSTONE_CLIPPING_PLANES_UPDATED",t.WEB_WORKER_PROGRESS="CORNERSTONE_WEB_WORKER_PROGRESS",t.COLORMAP_MODIFIED="CORNERSTONE_COLORMAP_MODIFIED",t.DYNAMIC_VOLUME_DIMENSION_GROUP_CHANGED="DYNAMIC_VOLUME_DIMENSION_GROUP_CHANGED",t.DYNAMIC_VOLUME_TIME_POINT_INDEX_CHANGED="DYNAMIC_VOLUME_TIME_POINT_INDEX_CHANGED",t.DYNAMIC_VOLUME_DIMENSION_GROUP_LOADED="DYNAMIC_VOLUME_DIMENSION_GROUP_LOADED",t.DYNAMIC_VOLUME_TIME_POINT_LOADED="DYNAMIC_VOLUME_TIME_POINT_LOADED",t.GEOMETRY_LOADED="GEOMETRY_LOADED",t.GEOMETRY_LOADED_FAILED="GEOMETRY_LOADED_FAILED"})(It||(It={}));var Vn;(function(t){t.Interaction="interaction",t.Thumbnail="thumbnail",t.Prefetch="prefetch",t.Compute="compute"})(Vn||(Vn={}));var ya;(function(t){t.STACK="stack",t.ORTHOGRAPHIC="orthographic",t.PERSPECTIVE="perspective",t.VOLUME_3D="volume3d",t.VIDEO="video",t.WHOLE_SLIDE="wholeSlide"})(ya||(ya={}));var G0;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t[t.FAST_LINEAR=2]="FAST_LINEAR"})(G0||(G0={}));const E2={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4,RADON_TRANSFORM_BLEND:5,LABELMAP_EDGE_PROJECTION_BLEND:6},nhe={OFF:0,NORMALIZED:1,RAW:2};var dU={BlendMode:E2,FilterMode:nhe};const{BlendMode:$g}=dU;var b9;(function(t){t[t.COMPOSITE=$g.COMPOSITE_BLEND]="COMPOSITE",t[t.MAXIMUM_INTENSITY_BLEND=$g.MAXIMUM_INTENSITY_BLEND]="MAXIMUM_INTENSITY_BLEND",t[t.MINIMUM_INTENSITY_BLEND=$g.MINIMUM_INTENSITY_BLEND]="MINIMUM_INTENSITY_BLEND",t[t.AVERAGE_INTENSITY_BLEND=$g.AVERAGE_INTENSITY_BLEND]="AVERAGE_INTENSITY_BLEND",t[t.LABELMAP_EDGE_PROJECTION_BLEND=$g.LABELMAP_EDGE_PROJECTION_BLEND]="LABELMAP_EDGE_PROJECTION_BLEND"})(b9||(b9={}));const zd=b9;var O1;(function(t){t.AXIAL="axial",t.CORONAL="coronal",t.SAGITTAL="sagittal",t.ACQUISITION="acquisition"})(O1||(O1={}));var E9;(function(t){t.CONTOUR="CONTOUR",t.SURFACE="SURFACE"})(E9||(E9={}));const gU=E9;var D9;(function(t){t.CLOSED_PLANAR="CLOSED_PLANAR",t.OPEN_PLANAR="OPEN_PLANAR"})(D9||(D9={}));const rhe=D9;var zi;(function(t){t.LINEAR="LINEAR",t.SAMPLED_SIGMOID="SIGMOID",t.LINEAR_EXACT="LINEAR_EXACT"})(zi||(zi={}));var O9;(function(t){t.SUM="SUM",t.AVERAGE="AVERAGE",t.SUBTRACT="SUBTRACT"})(O9||(O9={}));const ahe=O9;var R9;(function(t){t.NOT_APPLICABLE="",t.ERMF="ERMF",t.USER="User",t.PROJECTION="Proj",t.REGION="Region",t.ERROR="Error",t.UNCALIBRATED="Uncalibrated"})(R9||(R9={}));const ihe=R9;var Bi;(function(t){t.NO_DATA="noData",t.LOADING="loading",t.PRE_RENDER="preRender",t.RESIZE="resize",t.RENDERED="rendered"})(Bi||(Bi={}));var Mo;(function(t){t[t.FAR_REPLICATE=1]="FAR_REPLICATE",t[t.ADJACENT_REPLICATE=3]="ADJACENT_REPLICATE",t[t.SUBRESOLUTION=6]="SUBRESOLUTION",t[t.LOSSY=7]="LOSSY",t[t.FULL_RESOLUTION=8]="FULL_RESOLUTION"})(Mo||(Mo={}));var $v;(function(t){t.FRAME="f",t.SECOND="s"})($v||($v={}));const ohe=Object.freeze(Object.defineProperty({__proto__:null,get SpeedUnit(){return $v}},Symbol.toStringTag,{value:"Module"}));var io;(function(t){t.CALIBRATION="calibrationModule",t.CINE="cineModule",t.GENERAL_IMAGE="generalImageModule",t.GENERAL_SERIES="generalSeriesModule",t.GENERAL_STUDY="generalStudyModule",t.IMAGE_PIXEL="imagePixelModule",t.IMAGE_PLANE="imagePlaneModule",t.IMAGE_URL="imageUrlModule",t.MODALITY_LUT="modalityLutModule",t.MULTIFRAME="multiframeModule",t.NM_MULTIFRAME_GEOMETRY="nmMultiframeGeometryModule",t.OVERLAY_PLANE="overlayPlaneModule",t.PATIENT="patientModule",t.PATIENT_STUDY="patientStudyModule",t.PET_IMAGE="petImageModule",t.PET_ISOTOPE="petIsotopeModule",t.PET_SERIES="petSeriesModule",t.SOP_COMMON="sopCommonModule",t.ULTRASOUND_ENHANCED_REGION="ultrasoundEnhancedRegionModule",t.VOI_LUT="voiLutModule",t.WADO_WEB_CLIENT="wadoWebClient"})(io||(io={}));var I9;(function(t){t.SUM="SUM",t.SUBTRACT="SUBTRACT",t.AVERAGE="AVERAGE"})(I9||(I9={}));var A9;(function(t){t.RLE="RLE",t.Volume="Volume"})(A9||(A9={}));const mU=A9,v0=Object.freeze(Object.defineProperty({__proto__:null,BlendModes:zd,CalibrationTypes:ihe,ContourType:rhe,DynamicOperatorType:ahe,Events:It,get GenerateImageType(){return I9},GeometryType:gU,ImageQualityStatus:Mo,InterpolationType:G0,MetadataModules:io,OrientationAxis:O1,RequestType:Vn,VOILUTFunctionType:zi,VideoEnums:ohe,ViewportStatus:Bi,ViewportType:ya,VoxelManagerEnum:mU},Symbol.toStringTag,{value:"Module"})),M9={hotIron:{name:"Hot Iron",numOfColors:256,colors:[[0,0,0,255],[2,0,0,255],[4,0,0,255],[6,0,0,255],[8,0,0,255],[10,0,0,255],[12,0,0,255],[14,0,0,255],[16,0,0,255],[18,0,0,255],[20,0,0,255],[22,0,0,255],[24,0,0,255],[26,0,0,255],[28,0,0,255],[30,0,0,255],[32,0,0,255],[34,0,0,255],[36,0,0,255],[38,0,0,255],[40,0,0,255],[42,0,0,255],[44,0,0,255],[46,0,0,255],[48,0,0,255],[50,0,0,255],[52,0,0,255],[54,0,0,255],[56,0,0,255],[58,0,0,255],[60,0,0,255],[62,0,0,255],[64,0,0,255],[66,0,0,255],[68,0,0,255],[70,0,0,255],[72,0,0,255],[74,0,0,255],[76,0,0,255],[78,0,0,255],[80,0,0,255],[82,0,0,255],[84,0,0,255],[86,0,0,255],[88,0,0,255],[90,0,0,255],[92,0,0,255],[94,0,0,255],[96,0,0,255],[98,0,0,255],[100,0,0,255],[102,0,0,255],[104,0,0,255],[106,0,0,255],[108,0,0,255],[110,0,0,255],[112,0,0,255],[114,0,0,255],[116,0,0,255],[118,0,0,255],[120,0,0,255],[122,0,0,255],[124,0,0,255],[126,0,0,255],[128,0,0,255],[130,0,0,255],[132,0,0,255],[134,0,0,255],[136,0,0,255],[138,0,0,255],[140,0,0,255],[142,0,0,255],[144,0,0,255],[146,0,0,255],[148,0,0,255],[150,0,0,255],[152,0,0,255],[154,0,0,255],[156,0,0,255],[158,0,0,255],[160,0,0,255],[162,0,0,255],[164,0,0,255],[166,0,0,255],[168,0,0,255],[170,0,0,255],[172,0,0,255],[174,0,0,255],[176,0,0,255],[178,0,0,255],[180,0,0,255],[182,0,0,255],[184,0,0,255],[186,0,0,255],[188,0,0,255],[190,0,0,255],[192,0,0,255],[194,0,0,255],[196,0,0,255],[198,0,0,255],[200,0,0,255],[202,0,0,255],[204,0,0,255],[206,0,0,255],[208,0,0,255],[210,0,0,255],[212,0,0,255],[214,0,0,255],[216,0,0,255],[218,0,0,255],[220,0,0,255],[222,0,0,255],[224,0,0,255],[226,0,0,255],[228,0,0,255],[230,0,0,255],[232,0,0,255],[234,0,0,255],[236,0,0,255],[238,0,0,255],[240,0,0,255],[242,0,0,255],[244,0,0,255],[246,0,0,255],[248,0,0,255],[250,0,0,255],[252,0,0,255],[254,0,0,255],[255,0,0,255],[255,2,0,255],[255,4,0,255],[255,6,0,255],[255,8,0,255],[255,10,0,255],[255,12,0,255],[255,14,0,255],[255,16,0,255],[255,18,0,255],[255,20,0,255],[255,22,0,255],[255,24,0,255],[255,26,0,255],[255,28,0,255],[255,30,0,255],[255,32,0,255],[255,34,0,255],[255,36,0,255],[255,38,0,255],[255,40,0,255],[255,42,0,255],[255,44,0,255],[255,46,0,255],[255,48,0,255],[255,50,0,255],[255,52,0,255],[255,54,0,255],[255,56,0,255],[255,58,0,255],[255,60,0,255],[255,62,0,255],[255,64,0,255],[255,66,0,255],[255,68,0,255],[255,70,0,255],[255,72,0,255],[255,74,0,255],[255,76,0,255],[255,78,0,255],[255,80,0,255],[255,82,0,255],[255,84,0,255],[255,86,0,255],[255,88,0,255],[255,90,0,255],[255,92,0,255],[255,94,0,255],[255,96,0,255],[255,98,0,255],[255,100,0,255],[255,102,0,255],[255,104,0,255],[255,106,0,255],[255,108,0,255],[255,110,0,255],[255,112,0,255],[255,114,0,255],[255,116,0,255],[255,118,0,255],[255,120,0,255],[255,122,0,255],[255,124,0,255],[255,126,0,255],[255,128,4,255],[255,130,8,255],[255,132,12,255],[255,134,16,255],[255,136,20,255],[255,138,24,255],[255,140,28,255],[255,142,32,255],[255,144,36,255],[255,146,40,255],[255,148,44,255],[255,150,48,255],[255,152,52,255],[255,154,56,255],[255,156,60,255],[255,158,64,255],[255,160,68,255],[255,162,72,255],[255,164,76,255],[255,166,80,255],[255,168,84,255],[255,170,88,255],[255,172,92,255],[255,174,96,255],[255,176,100,255],[255,178,104,255],[255,180,108,255],[255,182,112,255],[255,184,116,255],[255,186,120,255],[255,188,124,255],[255,190,128,255],[255,192,132,255],[255,194,136,255],[255,196,140,255],[255,198,144,255],[255,200,148,255],[255,202,152,255],[255,204,156,255],[255,206,160,255],[255,208,164,255],[255,210,168,255],[255,212,172,255],[255,214,176,255],[255,216,180,255],[255,218,184,255],[255,220,188,255],[255,222,192,255],[255,224,196,255],[255,226,200,255],[255,228,204,255],[255,230,208,255],[255,232,212,255],[255,234,216,255],[255,236,220,255],[255,238,224,255],[255,240,228,255],[255,242,232,255],[255,244,236,255],[255,246,240,255],[255,248,244,255],[255,250,248,255],[255,252,252,255],[255,255,255,255]]},pet:{name:"PET",numColors:256,colors:[[0,0,0,255],[0,2,1,255],[0,4,3,255],[0,6,5,255],[0,8,7,255],[0,10,9,255],[0,12,11,255],[0,14,13,255],[0,16,15,255],[0,18,17,255],[0,20,19,255],[0,22,21,255],[0,24,23,255],[0,26,25,255],[0,28,27,255],[0,30,29,255],[0,32,31,255],[0,34,33,255],[0,36,35,255],[0,38,37,255],[0,40,39,255],[0,42,41,255],[0,44,43,255],[0,46,45,255],[0,48,47,255],[0,50,49,255],[0,52,51,255],[0,54,53,255],[0,56,55,255],[0,58,57,255],[0,60,59,255],[0,62,61,255],[0,65,63,255],[0,67,65,255],[0,69,67,255],[0,71,69,255],[0,73,71,255],[0,75,73,255],[0,77,75,255],[0,79,77,255],[0,81,79,255],[0,83,81,255],[0,85,83,255],[0,87,85,255],[0,89,87,255],[0,91,89,255],[0,93,91,255],[0,95,93,255],[0,97,95,255],[0,99,97,255],[0,101,99,255],[0,103,101,255],[0,105,103,255],[0,107,105,255],[0,109,107,255],[0,111,109,255],[0,113,111,255],[0,115,113,255],[0,117,115,255],[0,119,117,255],[0,121,119,255],[0,123,121,255],[0,125,123,255],[0,128,125,255],[1,126,127,255],[3,124,129,255],[5,122,131,255],[7,120,133,255],[9,118,135,255],[11,116,137,255],[13,114,139,255],[15,112,141,255],[17,110,143,255],[19,108,145,255],[21,106,147,255],[23,104,149,255],[25,102,151,255],[27,100,153,255],[29,98,155,255],[31,96,157,255],[33,94,159,255],[35,92,161,255],[37,90,163,255],[39,88,165,255],[41,86,167,255],[43,84,169,255],[45,82,171,255],[47,80,173,255],[49,78,175,255],[51,76,177,255],[53,74,179,255],[55,72,181,255],[57,70,183,255],[59,68,185,255],[61,66,187,255],[63,64,189,255],[65,63,191,255],[67,61,193,255],[69,59,195,255],[71,57,197,255],[73,55,199,255],[75,53,201,255],[77,51,203,255],[79,49,205,255],[81,47,207,255],[83,45,209,255],[85,43,211,255],[86,41,213,255],[88,39,215,255],[90,37,217,255],[92,35,219,255],[94,33,221,255],[96,31,223,255],[98,29,225,255],[100,27,227,255],[102,25,229,255],[104,23,231,255],[106,21,233,255],[108,19,235,255],[110,17,237,255],[112,15,239,255],[114,13,241,255],[116,11,243,255],[118,9,245,255],[120,7,247,255],[122,5,249,255],[124,3,251,255],[126,1,253,255],[128,0,255,255],[130,2,252,255],[132,4,248,255],[134,6,244,255],[136,8,240,255],[138,10,236,255],[140,12,232,255],[142,14,228,255],[144,16,224,255],[146,18,220,255],[148,20,216,255],[150,22,212,255],[152,24,208,255],[154,26,204,255],[156,28,200,255],[158,30,196,255],[160,32,192,255],[162,34,188,255],[164,36,184,255],[166,38,180,255],[168,40,176,255],[170,42,172,255],[171,44,168,255],[173,46,164,255],[175,48,160,255],[177,50,156,255],[179,52,152,255],[181,54,148,255],[183,56,144,255],[185,58,140,255],[187,60,136,255],[189,62,132,255],[191,64,128,255],[193,66,124,255],[195,68,120,255],[197,70,116,255],[199,72,112,255],[201,74,108,255],[203,76,104,255],[205,78,100,255],[207,80,96,255],[209,82,92,255],[211,84,88,255],[213,86,84,255],[215,88,80,255],[217,90,76,255],[219,92,72,255],[221,94,68,255],[223,96,64,255],[225,98,60,255],[227,100,56,255],[229,102,52,255],[231,104,48,255],[233,106,44,255],[235,108,40,255],[237,110,36,255],[239,112,32,255],[241,114,28,255],[243,116,24,255],[245,118,20,255],[247,120,16,255],[249,122,12,255],[251,124,8,255],[253,126,4,255],[255,128,0,255],[255,130,4,255],[255,132,8,255],[255,134,12,255],[255,136,16,255],[255,138,20,255],[255,140,24,255],[255,142,28,255],[255,144,32,255],[255,146,36,255],[255,148,40,255],[255,150,44,255],[255,152,48,255],[255,154,52,255],[255,156,56,255],[255,158,60,255],[255,160,64,255],[255,162,68,255],[255,164,72,255],[255,166,76,255],[255,168,80,255],[255,170,85,255],[255,172,89,255],[255,174,93,255],[255,176,97,255],[255,178,101,255],[255,180,105,255],[255,182,109,255],[255,184,113,255],[255,186,117,255],[255,188,121,255],[255,190,125,255],[255,192,129,255],[255,194,133,255],[255,196,137,255],[255,198,141,255],[255,200,145,255],[255,202,149,255],[255,204,153,255],[255,206,157,255],[255,208,161,255],[255,210,165,255],[255,212,170,255],[255,214,174,255],[255,216,178,255],[255,218,182,255],[255,220,186,255],[255,222,190,255],[255,224,194,255],[255,226,198,255],[255,228,202,255],[255,230,206,255],[255,232,210,255],[255,234,214,255],[255,236,218,255],[255,238,222,255],[255,240,226,255],[255,242,230,255],[255,244,234,255],[255,246,238,255],[255,248,242,255],[255,250,246,255],[255,252,250,255],[255,255,255,255]]},hotMetalBlue:{name:"Hot Metal Blue",numColors:256,colors:[[0,0,0,255],[0,0,2,255],[0,0,4,255],[0,0,6,255],[0,0,8,255],[0,0,10,255],[0,0,12,255],[0,0,14,255],[0,0,16,255],[0,0,17,255],[0,0,19,255],[0,0,21,255],[0,0,23,255],[0,0,25,255],[0,0,27,255],[0,0,29,255],[0,0,31,255],[0,0,33,255],[0,0,35,255],[0,0,37,255],[0,0,39,255],[0,0,41,255],[0,0,43,255],[0,0,45,255],[0,0,47,255],[0,0,49,255],[0,0,51,255],[0,0,53,255],[0,0,55,255],[0,0,57,255],[0,0,59,255],[0,0,61,255],[0,0,63,255],[0,0,65,255],[0,0,67,255],[0,0,69,255],[0,0,71,255],[0,0,73,255],[0,0,75,255],[0,0,77,255],[0,0,79,255],[0,0,81,255],[0,0,83,255],[0,0,84,255],[0,0,86,255],[0,0,88,255],[0,0,90,255],[0,0,92,255],[0,0,94,255],[0,0,96,255],[0,0,98,255],[0,0,100,255],[0,0,102,255],[0,0,104,255],[0,0,106,255],[0,0,108,255],[0,0,110,255],[0,0,112,255],[0,0,114,255],[0,0,116,255],[0,0,117,255],[0,0,119,255],[0,0,121,255],[0,0,123,255],[0,0,125,255],[0,0,127,255],[0,0,129,255],[0,0,131,255],[0,0,133,255],[0,0,135,255],[0,0,137,255],[0,0,139,255],[0,0,141,255],[0,0,143,255],[0,0,145,255],[0,0,147,255],[0,0,149,255],[0,0,151,255],[0,0,153,255],[0,0,155,255],[0,0,157,255],[0,0,159,255],[0,0,161,255],[0,0,163,255],[0,0,165,255],[0,0,167,255],[3,0,169,255],[6,0,171,255],[9,0,173,255],[12,0,175,255],[15,0,177,255],[18,0,179,255],[21,0,181,255],[24,0,183,255],[26,0,184,255],[29,0,186,255],[32,0,188,255],[35,0,190,255],[38,0,192,255],[41,0,194,255],[44,0,196,255],[47,0,198,255],[50,0,200,255],[52,0,197,255],[55,0,194,255],[57,0,191,255],[59,0,188,255],[62,0,185,255],[64,0,182,255],[66,0,179,255],[69,0,176,255],[71,0,174,255],[74,0,171,255],[76,0,168,255],[78,0,165,255],[81,0,162,255],[83,0,159,255],[85,0,156,255],[88,0,153,255],[90,0,150,255],[93,2,144,255],[96,4,138,255],[99,6,132,255],[102,8,126,255],[105,9,121,255],[108,11,115,255],[111,13,109,255],[114,15,103,255],[116,17,97,255],[119,19,91,255],[122,21,85,255],[125,23,79,255],[128,24,74,255],[131,26,68,255],[134,28,62,255],[137,30,56,255],[140,32,50,255],[143,34,47,255],[146,36,44,255],[149,38,41,255],[152,40,38,255],[155,41,35,255],[158,43,32,255],[161,45,29,255],[164,47,26,255],[166,49,24,255],[169,51,21,255],[172,53,18,255],[175,55,15,255],[178,56,12,255],[181,58,9,255],[184,60,6,255],[187,62,3,255],[190,64,0,255],[194,66,0,255],[198,68,0,255],[201,70,0,255],[205,72,0,255],[209,73,0,255],[213,75,0,255],[217,77,0,255],[221,79,0,255],[224,81,0,255],[228,83,0,255],[232,85,0,255],[236,87,0,255],[240,88,0,255],[244,90,0,255],[247,92,0,255],[251,94,0,255],[255,96,0,255],[255,98,3,255],[255,100,6,255],[255,102,9,255],[255,104,12,255],[255,105,15,255],[255,107,18,255],[255,109,21,255],[255,111,24,255],[255,113,26,255],[255,115,29,255],[255,117,32,255],[255,119,35,255],[255,120,38,255],[255,122,41,255],[255,124,44,255],[255,126,47,255],[255,128,50,255],[255,130,53,255],[255,132,56,255],[255,134,59,255],[255,136,62,255],[255,137,65,255],[255,139,68,255],[255,141,71,255],[255,143,74,255],[255,145,76,255],[255,147,79,255],[255,149,82,255],[255,151,85,255],[255,152,88,255],[255,154,91,255],[255,156,94,255],[255,158,97,255],[255,160,100,255],[255,162,103,255],[255,164,106,255],[255,166,109,255],[255,168,112,255],[255,169,115,255],[255,171,118,255],[255,173,121,255],[255,175,124,255],[255,177,126,255],[255,179,129,255],[255,181,132,255],[255,183,135,255],[255,184,138,255],[255,186,141,255],[255,188,144,255],[255,190,147,255],[255,192,150,255],[255,194,153,255],[255,196,156,255],[255,198,159,255],[255,200,162,255],[255,201,165,255],[255,203,168,255],[255,205,171,255],[255,207,174,255],[255,209,176,255],[255,211,179,255],[255,213,182,255],[255,215,185,255],[255,216,188,255],[255,218,191,255],[255,220,194,255],[255,222,197,255],[255,224,200,255],[255,226,203,255],[255,228,206,255],[255,229,210,255],[255,231,213,255],[255,233,216,255],[255,235,219,255],[255,237,223,255],[255,239,226,255],[255,240,229,255],[255,242,232,255],[255,244,236,255],[255,246,239,255],[255,248,242,255],[255,250,245,255],[255,251,249,255],[255,253,252,255],[255,255,255,255]]},pet20Step:{name:"PET 20 Step",numColors:256,colors:[[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255]]},gray:{name:"Gray",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,1,1]]}},jet:{name:"Jet",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.35,0,0],[.66,1,1],[.89,1,1],[1,.5,.5]],green:[[0,0,0],[.125,0,0],[.375,1,1],[.64,1,1],[.91,0,0],[1,0,0]],blue:[[0,.5,.5],[.11,1,1],[.34,1,1],[.65,0,0],[1,0,0]]}},hsv:{name:"HSV",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[.15873,1,1],[.174603,.96875,.96875],[.333333,.03125,.03125],[.349206,0,0],[.666667,0,0],[.68254,.03125,.03125],[.84127,.96875,.96875],[.857143,1,1],[1,1,1]],green:[[0,0,0],[.15873,.9375,.9375],[.174603,1,1],[.507937,1,1],[.666667,.0625,.0625],[.68254,0,0],[1,0,0]],blue:[[0,0,0],[.333333,0,0],[.349206,.0625,.0625],[.507937,1,1],[.84127,1,1],[.857143,.9375,.9375],[1,.09375,.09375]]}},hot:{name:"Hot",numColors:256,gamma:1,segmentedData:{red:[[0,.0416,.0416],[.365079,1,1],[1,1,1]],green:[[0,0,0],[.365079,0,0],[.746032,1,1],[1,1,1]],blue:[[0,0,0],[.746032,0,0],[1,1,1]]}},cool:{name:"Cool",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,1,1],[1,0,0]],blue:[[0,1,1],[1,1,1]]}},spring:{name:"Spring",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,0,0]]}},summer:{name:"Summer",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,.5,.5],[1,1,1]],blue:[[0,.4,.4],[1,.4,.4]]}},autumn:{name:"Autumn",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,0,0]]}},winter:{name:"Winter",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,0,0]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,.5,.5]]}},bone:{name:"Bone",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.746032,.652778,.652778],[1,1,1]],green:[[0,0,0],[.365079,.319444,.319444],[.746032,.777778,.777778],[1,1,1]],blue:[[0,0,0],[.365079,.444444,.444444],[1,1,1]]}},copper:{name:"Copper",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.809524,1,1],[1,1,1]],green:[[0,0,0],[1,.7812,.7812]],blue:[[0,0,0],[1,.4975,.4975]]}},spectral:{name:"Spectral",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.05,.4667,.4667],[.1,.5333,.5333],[.15,0,0],[.2,0,0],[.25,0,0],[.3,0,0],[.35,0,0],[.4,0,0],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,.7333,.7333],[.7,.9333,.9333],[.75,1,1],[.8,1,1],[.85,1,1],[.9,.8667,.8667],[.95,.8,.8],[1,.8,.8]],green:[[0,0,0],[.05,0,0],[.1,0,0],[.15,0,0],[.2,0,0],[.25,.4667,.4667],[.3,.6,.6],[.35,.6667,.6667],[.4,.6667,.6667],[.45,.6,.6],[.5,.7333,.7333],[.55,.8667,.8667],[.6,1,1],[.65,1,1],[.7,.9333,.9333],[.75,.8,.8],[.8,.6,.6],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]],blue:[[0,0,0],[.05,.5333,.5333],[.1,.6,.6],[.15,.6667,.6667],[.2,.8667,.8667],[.25,.8667,.8667],[.3,.8667,.8667],[.35,.6667,.6667],[.4,.5333,.5333],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,0,0],[.7,0,0],[.75,0,0],[.8,0,0],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]]}},coolwarm:{name:"CoolWarm",numColors:256,gamma:1,segmentedData:{red:[[0,.2298057,.2298057],[.03125,.26623388,.26623388],[.0625,.30386891,.30386891],[.09375,.342804478,.342804478],[.125,.38301334,.38301334],[.15625,.424369608,.424369608],[.1875,.46666708,.46666708],[.21875,.509635204,.509635204],[.25,.552953156,.552953156],[.28125,.596262162,.596262162],[.3125,.639176211,.639176211],[.34375,.681291281,.681291281],[.375,.722193294,.722193294],[.40625,.761464949,.761464949],[.4375,.798691636,.798691636],[.46875,.833466556,.833466556],[.5,.865395197,.865395197],[.53125,.897787179,.897787179],[.5625,.924127593,.924127593],[.59375,.944468518,.944468518],[.625,.958852946,.958852946],[.65625,.96732803,.96732803],[.6875,.969954137,.969954137],[.71875,.966811177,.966811177],[.75,.958003065,.958003065],[.78125,.943660866,.943660866],[.8125,.923944917,.923944917],[.84375,.89904617,.89904617],[.875,.869186849,.869186849],[.90625,.834620542,.834620542],[.9375,.795631745,.795631745],[.96875,.752534934,.752534934],[1,.705673158,.705673158]],green:[[0,.298717966,.298717966],[.03125,.353094838,.353094838],[.0625,.406535296,.406535296],[.09375,.458757618,.458757618],[.125,.50941904,.50941904],[.15625,.558148092,.558148092],[.1875,.604562568,.604562568],[.21875,.648280772,.648280772],[.25,.688929332,.688929332],[.28125,.726149107,.726149107],[.3125,.759599947,.759599947],[.34375,.788964712,.788964712],[.375,.813952739,.813952739],[.40625,.834302879,.834302879],[.4375,.849786142,.849786142],[.46875,.860207984,.860207984],[.5,.86541021,.86541021],[.53125,.848937047,.848937047],[.5625,.827384882,.827384882],[.59375,.800927443,.800927443],[.625,.769767752,.769767752],[.65625,.734132809,.734132809],[.6875,.694266682,.694266682],[.71875,.650421156,.650421156],[.75,.602842431,.602842431],[.78125,.551750968,.551750968],[.8125,.49730856,.49730856],[.84375,.439559467,.439559467],[.875,.378313092,.378313092],[.90625,.312874446,.312874446],[.9375,.24128379,.24128379],[.96875,.157246067,.157246067],[1,.01555616,.01555616]],blue:[[0,.753683153,.753683153],[.03125,.801466763,.801466763],[.0625,.84495867,.84495867],[.09375,.883725899,.883725899],[.125,.917387822,.917387822],[.15625,.945619588,.945619588],[.1875,.968154911,.968154911],[.21875,.98478814,.98478814],[.25,.995375608,.995375608],[.28125,.999836203,.999836203],[.3125,.998151185,.998151185],[.34375,.990363227,.990363227],[.375,.976574709,.976574709],[.40625,.956945269,.956945269],[.4375,.931688648,.931688648],[.46875,.901068838,.901068838],[.5,.865395561,.865395561],[.53125,.820880546,.820880546],[.5625,.774508472,.774508472],[.59375,.726736146,.726736146],[.625,.678007945,.678007945],[.65625,.628751763,.628751763],[.6875,.579375448,.579375448],[.71875,.530263762,.530263762],[.75,.481775914,.481775914],[.78125,.434243684,.434243684],[.8125,.387970225,.387970225],[.84375,.343229596,.343229596],[.875,.300267182,.300267182],[.90625,.259301199,.259301199],[.9375,.220525627,.220525627],[.96875,.184115123,.184115123],[1,.150232812,.150232812]]}},blues:{name:"Blues",numColors:256,gamma:1,segmentedData:{red:[[0,.9686274528503418,.9686274528503418],[.125,.8705882430076599,.8705882430076599],[.25,.7764706015586853,.7764706015586853],[.375,.6196078658103943,.6196078658103943],[.5,.41960784792900085,.41960784792900085],[.625,.25882354378700256,.25882354378700256],[.75,.12941177189350128,.12941177189350128],[.875,.0313725508749485,.0313725508749485],[1,.0313725508749485,.0313725508749485]],green:[[0,.9843137264251709,.9843137264251709],[.125,.9215686321258545,.9215686321258545],[.25,.8588235378265381,.8588235378265381],[.375,.7921568751335144,.7921568751335144],[.5,.6823529601097107,.6823529601097107],[.625,.572549045085907,.572549045085907],[.75,.4431372582912445,.4431372582912445],[.875,.3176470696926117,.3176470696926117],[1,.1882352977991104,.1882352977991104]],blue:[[0,1,1],[.125,.9686274528503418,.9686274528503418],[.25,.9372549057006836,.9372549057006836],[.375,.8823529481887817,.8823529481887817],[.5,.8392156958580017,.8392156958580017],[.625,.7764706015586853,.7764706015586853],[.75,.7098039388656616,.7098039388656616],[.875,.6117647290229797,.6117647290229797],[1,.41960784792900085,.41960784792900085]]}}},va={MINIMUM_SLAB_THICKNESS:.05,MAXIMUM_RAY_DISTANCE:1e6};Object.freeze(va);const l0=.001;function vU(t){const e=Object.getOwnPropertyNames(t);for(const n of e){const r=t[n];r&&typeof r=="object"&&vU(r)}return Object.freeze(t)}const she={axial:{viewPlaneNormal:[0,0,-1],viewUp:[0,-1,0],viewRight:[1,0,0]},sagittal:{viewPlaneNormal:[1,0,0],viewUp:[0,0,1],viewRight:[0,1,0]},coronal:{viewPlaneNormal:[0,-1,0],viewUp:[0,0,1],viewRight:[1,0,0]}},uc=vU(she),pU=[{name:"CT-AAA",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"12 -3024 0 143.556 0 166.222 0.686275 214.389 0.696078 419.736 0.833333 3071 0.803922",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"24 -3024 0 0 0 143.556 0.615686 0.356863 0.184314 166.222 0.882353 0.603922 0.290196 214.389 1 1 1 419.736 1 0.937033 0.954531 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-AAA2",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"16 -3024 0 129.542 0 145.244 0.166667 157.02 0.5 169.918 0.627451 395.575 0.8125 1578.73 0.8125 3071 0.8125",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"32 -3024 0 0 0 129.542 0.54902 0.25098 0.14902 145.244 0.6 0.627451 0.843137 157.02 0.890196 0.47451 0.6 169.918 0.992157 0.870588 0.392157 395.575 1 0.886275 0.658824 1578.73 1 0.829256 0.957922 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Bone",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"8 -3024 0 -16.4458 0 641.385 0.715686 3071 0.705882",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"16 -3024 0 0 0 -16.4458 0.729412 0.254902 0.301961 641.385 0.905882 0.815686 0.552941 3071 1 1 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Bones",gradientOpacity:"4 0 1 985.12 1",specularPower:"1",scalarOpacity:"8 -1000 0 152.19 0 278.93 0.190476 952 0.2",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"20 -1000 0.3 0.3 1 -488 0.3 1 0.3 463.28 1 0 0 659.15 1 0.912535 0.0374849 953 1 0.3 0.3",diffuse:"1",interpolation:"1"},{name:"CT-Cardiac",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"12 -3024 0 -77.6875 0 94.9518 0.285714 179.052 0.553571 260.439 0.848214 3071 0.875",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"24 -3024 0 0 0 -77.6875 0.54902 0.25098 0.14902 94.9518 0.882353 0.603922 0.290196 179.052 1 0.937033 0.954531 260.439 0.615686 0 0 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Cardiac2",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"12 -3024 0 42.8964 0 163.488 0.428571 277.642 0.776786 1587 0.754902 3071 0.754902",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"24 -3024 0 0 0 42.8964 0.54902 0.25098 0.14902 163.488 0.917647 0.639216 0.0588235 277.642 1 0.878431 0.623529 1587 1 1 1 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Cardiac3",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"14 -3024 0 -86.9767 0 45.3791 0.169643 139.919 0.589286 347.907 0.607143 1224.16 0.607143 3071 0.616071",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"28 -3024 0 0 0 -86.9767 0 0.25098 1 45.3791 1 0 0 139.919 1 0.894893 0.894893 347.907 1 1 0.25098 1224.16 1 1 1 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Chest-Contrast-Enhanced",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"10 -3024 0 67.0106 0 251.105 0.446429 439.291 0.625 3071 0.616071",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"20 -3024 0 0 0 67.0106 0.54902 0.25098 0.14902 251.105 0.882353 0.603922 0.290196 439.291 1 0.937033 0.954531 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Chest-Vessels",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"10 -3024 0 -1278.35 0 22.8277 0.428571 439.291 0.625 3071 0.616071",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"20 -3024 0 0 0 -1278.35 0.54902 0.25098 0.14902 22.8277 0.882353 0.603922 0.290196 439.291 1 0.937033 0.954531 3071 0.827451 0.658824 1",diffuse:"1",interpolation:"1"},{name:"CT-Coronary-Arteries",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"12 -2048 0 136.47 0 159.215 0.258929 318.43 0.571429 478.693 0.776786 3661 1",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"24 -2048 0 0 0 136.47 0 0 0 159.215 0.159804 0.159804 0.159804 318.43 0.764706 0.764706 0.764706 478.693 1 1 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Coronary-Arteries-2",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"14 -2048 0 142.677 0 145.016 0.116071 192.174 0.5625 217.24 0.776786 384.347 0.830357 3661 0.830357",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"28 -2048 0 0 0 142.677 0 0 0 145.016 0.615686 0 0.0156863 192.174 0.909804 0.454902 0 217.24 0.972549 0.807843 0.611765 384.347 0.909804 0.909804 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Coronary-Arteries-3",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"14 -2048 0 128.643 0 129.982 0.0982143 173.636 0.669643 255.884 0.857143 584.878 0.866071 3661 1",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"28 -2048 0 0 0 128.643 0 0 0 129.982 0.615686 0 0.0156863 173.636 0.909804 0.454902 0 255.884 0.886275 0.886275 0.886275 584.878 0.968627 0.968627 0.968627 3661 1 1 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Cropped-Volume-Bone",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"10 -2048 0 -451 0 -450 1 1050 1 3661 1",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"20 -2048 0 0 0 -451 0 0 0 -450 0.0556356 0.0556356 0.0556356 1050 1 1 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Fat",gradientOpacity:"6 0 1 985.12 1 988 1",specularPower:"1",scalarOpacity:"14 -1000 0 -100 0 -99 0.15 -60 0.15 -59 0 101.2 0 952 0",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"36 -1000 0.3 0.3 1 -497.5 0.3 1 0.3 -99 0 0 1 -76.946 0 1 0 -65.481 0.835431 0.888889 0.0165387 83.89 1 0 0 463.28 1 0 0 659.15 1 0.912535 0.0374849 2952 1 0.300267 0.299886",diffuse:"1",interpolation:"1"},{name:"CT-Liver-Vasculature",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"14 -2048 0 149.113 0 157.884 0.482143 339.96 0.660714 388.526 0.830357 1197.95 0.839286 3661 0.848214",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"28 -2048 0 0 0 149.113 0 0 0 157.884 0.501961 0.25098 0 339.96 0.695386 0.59603 0.36886 388.526 0.854902 0.85098 0.827451 1197.95 1 1 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Lung",gradientOpacity:"6 0 1 985.12 1 988 1",specularPower:"1",scalarOpacity:"12 -1000 0 -600 0 -599 0.15 -400 0.15 -399 0 2952 0",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"24 -1000 0.3 0.3 1 -600 0 0 1 -530 0.134704 0.781726 0.0724558 -460 0.929244 1 0.109473 -400 0.888889 0.254949 0.0240258 2952 1 0.3 0.3",diffuse:"1",interpolation:"1"},{name:"CT-MIP",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"8 -3024 0 -637.62 0 700 1 3071 1",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"16 -3024 0 0 0 -637.62 1 1 1 700 1 1 1 3071 1 1 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Muscle",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"10 -3024 0 -155.407 0 217.641 0.676471 419.736 0.833333 3071 0.803922",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"20 -3024 0 0 0 -155.407 0.54902 0.25098 0.14902 217.641 0.882353 0.603922 0.290196 419.736 1 0.937033 0.954531 3071 0.827451 0.658824 1",diffuse:"0.9",interpolation:"1"},{name:"CT-Pulmonary-Arteries",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"14 -2048 0 -568.625 0 -364.081 0.0714286 -244.813 0.401786 18.2775 0.607143 447.798 0.830357 3592.73 0.839286",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"28 -2048 0 0 0 -568.625 0 0 0 -364.081 0.396078 0.301961 0.180392 -244.813 0.611765 0.352941 0.0705882 18.2775 0.843137 0.0156863 0.156863 447.798 0.752941 0.752941 0.752941 3592.73 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Soft-Tissue",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"10 -2048 0 -167.01 0 -160 1 240 1 3661 1",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"20 -2048 0 0 0 -167.01 0 0 0 -160 0.0556356 0.0556356 0.0556356 240 1 1 1 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"CT-Air",gradientOpacity:"4 0 1 255 1",specularPower:"10",scalarOpacity:"8 -3024 0.705882 -900.0 0.715686 -500.0 0 3071 0",specular:"0.2",shade:"1",ambient:"0.1",colorTransfer:"16 -3024 1 1 1 -900.0 0.2 1.0 1.0 -500.0 0.3 0.3 1.0 3071 0 0 0 ",diffuse:"0.9",interpolation:"1"},{name:"MR-Angio",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"12 -2048 0 151.354 0 158.279 0.4375 190.112 0.580357 200.873 0.732143 3661 0.741071",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"24 -2048 0 0 0 151.354 0 0 0 158.279 0.74902 0.376471 0 190.112 1 0.866667 0.733333 200.873 0.937255 0.937255 0.937255 3661 1 1 1",diffuse:"1",interpolation:"1"},{name:"MR-Default",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"12 0 0 20 0 40 0.15 120 0.3 220 0.375 1024 0.5",specular:"0",shade:"1",ambient:"0.2",colorTransfer:"24 0 0 0 0 20 0.168627 0 0 40 0.403922 0.145098 0.0784314 120 0.780392 0.607843 0.380392 220 0.847059 0.835294 0.788235 1024 1 1 1",diffuse:"1",interpolation:"1"},{name:"MR-MIP",gradientOpacity:"4 0 1 255 1",specularPower:"1",scalarOpacity:"8 0 0 98.3725 0 416.637 1 2800 1",specular:"0",shade:"0",ambient:"0.2",colorTransfer:"16 0 1 1 1 98.3725 1 1 1 416.637 1 1 1 2800 1 1 1",diffuse:"1",interpolation:"1"},{name:"MR-T2-Brain",gradientOpacity:"4 0 1 160.25 1",specularPower:"40",scalarOpacity:"10 0 0 36.05 0 218.302 0.171429 412.406 1 641 1",specular:"0.5",shade:"1",ambient:"0.3",colorTransfer:"16 0 0 0 0 98.7223 0.956863 0.839216 0.192157 412.406 0 0.592157 0.807843 641 1 1 1",diffuse:"0.6",interpolation:"1"},{name:"DTI-FA-Brain",gradientOpacity:"4 0 1 0.9950 1",specularPower:"40",scalarOpacity:"16 0 0 0 0 0.3501 0.0158 0.49379 0.7619 0.6419 1 0.9920 1 0.9950 0 0.9950 0",specular:"0.5",shade:"1",ambient:"0.3",colorTransfer:"28 0 1 0 0 0 1 0 0 0.24974 0.4941 1 0 0.49949 0 0.9882 1 0.7492 0.51764 0 1 0.9950 1 0 0 0.9950 1 0 0",diffuse:"0.9",interpolation:"1"}],lhe={slicer3D:[160/255,164/255,217/255]},hU=Object.freeze(Object.defineProperty({__proto__:null,BACKGROUND_COLORS:lhe,CPU_COLORMAPS:M9,EPSILON:l0,MPR_CAMERA_VALUES:uc,RENDERING_DEFAULTS:va,VIEWPORT_PRESETS:pU},Symbol.toStringTag,{value:"Module"})),Vg={},Vv={get:t=>Vg[t],set:t=>{const e=t.id;Vg[e]=t},delete:t=>delete Vg[t],getAll:()=>{const e=Object.keys(Vg).map(n=>Vg[n]);return e.sort((n,r)=>n.id[0]==="_"&&r.id[0]!=="_"?1:n.id[0]!=="_"&&r.id[0]==="_"?-1:0),e}};class che{constructor(){this.listeners={},this.debouncedListeners={}}reset(){this.listeners={},this.debouncedListeners={}}addEventListenerOnce(e,n){const r=a=>{this.removeEventListener(e,r),n.call(this,a)};this.addEventListener(e,r)}addEventListener(e,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].indexOf(n)===-1&&this.listeners[e].push(n)}addEventListenerDebounced(e,n,r){this.debouncedListeners[e]=this.debouncedListeners[e]||{};const a=this.debouncedListeners[e];if(!a[n]){const i=o=>{a[n]&&clearTimeout(a[n].timeoutId),a[n].timeoutId=setTimeout(()=>{n.call(this,o)},r)};a[n]={original:n,handle:i,timeoutId:null},this.addEventListener(e,i)}}removeEventListenerDebounced(e,n){var r;if((r=this.debouncedListeners[e])!=null&&r[n]){const a=this.debouncedListeners[e][n];this.removeEventListener(e,a.handle),clearTimeout(a.timeoutId),delete this.debouncedListeners[e][n]}}removeEventListener(e,n){if(!this.listeners[e])return;const r=this.listeners[e],a=r.length;for(let i=0;i<a;i++)if(r[i]===n){r.splice(i,1);return}}dispatchEvent(e){if(!this.listeners[e.type])return!e.defaultPrevented;const n=this.listeners[e.type].slice(),r=n.length;for(let a=0;a<r;a++)try{n[a].call(this,e)}catch(i){console.error(`error in event listener of type:  ${e.type}`,i)}return!e.defaultPrevented}}const Vt=new che;function Li(){return typeof crypto.randomUUID=="function"?crypto.randomUUID():("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}function _t(t=Vt,e,n=null){if(!e)throw new Error("Event type was not defined");const r=new CustomEvent(e,{detail:n,cancelable:!0});return t==null?void 0:t.dispatchEvent(r)}var uhe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;a--!==0;){var o=i[a];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const SU=No(uhe);var QI=Object.prototype.toString,yU=function(e){var n=QI.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&QI.call(e.callee)==="[object Function]"),r},u8,XI;function fhe(){if(XI)return u8;XI=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=yU,a=Object.prototype.propertyIsEnumerable,i=!a.call({toString:null},"toString"),o=a.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var g=d.constructor;return g&&g.prototype===d},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!c["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch{return!0}}catch{return!0}return!1}(),u=function(d){if(typeof window>"u"||!f)return l(d);try{return l(d)}catch{return!1}};t=function(g){var v=g!==null&&typeof g=="object",m=n.call(g)==="[object Function]",p=r(g),h=v&&n.call(g)==="[object String]",y=[];if(!v&&!m&&!p)throw new TypeError("Object.keys called on a non-object");var C=o&&m;if(h&&g.length>0&&!e.call(g,0))for(var x=0;x<g.length;++x)y.push(String(x));if(p&&g.length>0)for(var T=0;T<g.length;++T)y.push(String(T));else for(var w in g)!(C&&w==="prototype")&&e.call(g,w)&&y.push(String(w));if(i)for(var b=u(g),E=0;E<s.length;++E)!(b&&s[E]==="constructor")&&e.call(g,s[E])&&y.push(s[E]);return y}}return u8=t,u8}var dhe=Array.prototype.slice,ghe=yU,YI=Object.keys,D2=YI?function(e){return YI(e)}:fhe(),ZI=Object.keys;D2.shim=function(){if(Object.keys){var e=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);e||(Object.keys=function(r){return ghe(r)?ZI(dhe.call(r)):ZI(r)})}else Object.keys=D2;return Object.keys||D2};var mhe=D2,vhe=Error,phe=EvalError,hhe=RangeError,She=ReferenceError,CU=SyntaxError,xU=TypeError,yhe=URIError,Che=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var a=42;e[n]=a;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==a||o.enumerable!==!0)return!1}return!0},JI=typeof Symbol<"u"&&Symbol,xhe=Che,The=function(){return typeof JI!="function"||typeof Symbol!="function"||typeof JI("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:xhe()},f8={__proto__:null,foo:{}},whe=Object,bhe=function(){return{__proto__:f8}.foo===f8.foo&&!(f8 instanceof whe)},Ehe="Function.prototype.bind called on incompatible ",Dhe=Object.prototype.toString,Ohe=Math.max,Rhe="[object Function]",eA=function(e,n){for(var r=[],a=0;a<e.length;a+=1)r[a]=e[a];for(var i=0;i<n.length;i+=1)r[i+e.length]=n[i];return r},Ihe=function(e,n){for(var r=[],a=n,i=0;a<e.length;a+=1,i+=1)r[i]=e[a];return r},Ahe=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},Mhe=function(e){var n=this;if(typeof n!="function"||Dhe.apply(n)!==Rhe)throw new TypeError(Ehe+n);for(var r=Ihe(arguments,1),a,i=function(){if(this instanceof a){var f=n.apply(this,eA(r,arguments));return Object(f)===f?f:this}return n.apply(e,eA(r,arguments))},o=Ohe(0,n.length-r.length),s=[],l=0;l<o;l++)s[l]="$"+l;if(a=Function("binder","return function ("+Ahe(s,",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var c=function(){};c.prototype=n.prototype,a.prototype=new c,c.prototype=null}return a},Phe=Mhe,TU=Function.prototype.bind||Phe,Lhe=Function.prototype.call,_he=Object.prototype.hasOwnProperty,Nhe=TU,Fhe=Nhe.call(Lhe,_he),or,$he=vhe,Vhe=phe,khe=hhe,Uhe=She,R1=CU,Wd=xU,Bhe=yhe,wU=Function,d8=function(t){try{return wU('"use strict"; return ('+t+").constructor;")()}catch{}},Hu=Object.getOwnPropertyDescriptor;if(Hu)try{Hu({},"")}catch{Hu=null}var g8=function(){throw new Wd},Ghe=Hu?function(){try{return arguments.callee,g8}catch{try{return Hu(arguments,"callee").get}catch{return g8}}}():g8,Gf=The(),zhe=bhe(),oi=Object.getPrototypeOf||(zhe?function(t){return t.__proto__}:null),rd={},Whe=typeof Uint8Array>"u"||!oi?or:oi(Uint8Array),qu={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?or:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?or:ArrayBuffer,"%ArrayIteratorPrototype%":Gf&&oi?oi([][Symbol.iterator]()):or,"%AsyncFromSyncIteratorPrototype%":or,"%AsyncFunction%":rd,"%AsyncGenerator%":rd,"%AsyncGeneratorFunction%":rd,"%AsyncIteratorPrototype%":rd,"%Atomics%":typeof Atomics>"u"?or:Atomics,"%BigInt%":typeof BigInt>"u"?or:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?or:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?or:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?or:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$he,"%eval%":eval,"%EvalError%":Vhe,"%Float32Array%":typeof Float32Array>"u"?or:Float32Array,"%Float64Array%":typeof Float64Array>"u"?or:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?or:FinalizationRegistry,"%Function%":wU,"%GeneratorFunction%":rd,"%Int8Array%":typeof Int8Array>"u"?or:Int8Array,"%Int16Array%":typeof Int16Array>"u"?or:Int16Array,"%Int32Array%":typeof Int32Array>"u"?or:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gf&&oi?oi(oi([][Symbol.iterator]())):or,"%JSON%":typeof JSON=="object"?JSON:or,"%Map%":typeof Map>"u"?or:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gf||!oi?or:oi(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?or:Promise,"%Proxy%":typeof Proxy>"u"?or:Proxy,"%RangeError%":khe,"%ReferenceError%":Uhe,"%Reflect%":typeof Reflect>"u"?or:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?or:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gf||!oi?or:oi(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?or:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gf&&oi?oi(""[Symbol.iterator]()):or,"%Symbol%":Gf?Symbol:or,"%SyntaxError%":R1,"%ThrowTypeError%":Ghe,"%TypedArray%":Whe,"%TypeError%":Wd,"%Uint8Array%":typeof Uint8Array>"u"?or:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?or:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?or:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?or:Uint32Array,"%URIError%":Bhe,"%WeakMap%":typeof WeakMap>"u"?or:WeakMap,"%WeakRef%":typeof WeakRef>"u"?or:WeakRef,"%WeakSet%":typeof WeakSet>"u"?or:WeakSet};if(oi)try{null.error}catch(t){var jhe=oi(oi(t));qu["%Error.prototype%"]=jhe}var Hhe=function t(e){var n;if(e==="%AsyncFunction%")n=d8("async function () {}");else if(e==="%GeneratorFunction%")n=d8("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=d8("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&oi&&(n=oi(a.prototype))}return qu[e]=n,n},tA={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Tp=TU,KS=Fhe,qhe=Tp.call(Function.call,Array.prototype.concat),Khe=Tp.call(Function.apply,Array.prototype.splice),nA=Tp.call(Function.call,String.prototype.replace),QS=Tp.call(Function.call,String.prototype.slice),Qhe=Tp.call(Function.call,RegExp.prototype.exec),Xhe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Yhe=/\\(\\)?/g,Zhe=function(e){var n=QS(e,0,1),r=QS(e,-1);if(n==="%"&&r!=="%")throw new R1("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new R1("invalid intrinsic syntax, expected opening `%`");var a=[];return nA(e,Xhe,function(i,o,s,l){a[a.length]=s?nA(l,Yhe,"$1"):o||i}),a},Jhe=function(e,n){var r=e,a;if(KS(tA,r)&&(a=tA[r],r="%"+a[0]+"%"),KS(qu,r)){var i=qu[r];if(i===rd&&(i=Hhe(r)),typeof i>"u"&&!n)throw new Wd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:r,value:i}}throw new R1("intrinsic "+e+" does not exist!")},bU=function(e,n){if(typeof e!="string"||e.length===0)throw new Wd("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Wd('"allowMissing" argument must be a boolean');if(Qhe(/^%?[^%]*%?$/,e)===null)throw new R1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Zhe(e),a=r.length>0?r[0]:"",i=Jhe("%"+a+"%",n),o=i.name,s=i.value,l=!1,c=i.alias;c&&(a=c[0],Khe(r,qhe([0,1],c)));for(var f=1,u=!0;f<r.length;f+=1){var d=r[f],g=QS(d,0,1),v=QS(d,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new R1("property names with quotes must have matching quotes");if((d==="constructor"||!u)&&(l=!0),a+="."+d,o="%"+a+"%",KS(qu,o))s=qu[o];else if(s!=null){if(!(d in s)){if(!n)throw new Wd("base intrinsic for "+e+" exists, but the property is not available.");return}if(Hu&&f+1>=r.length){var m=Hu(s,d);u=!!m,u&&"get"in m&&!("originalValue"in m.get)?s=m.get:s=s[d]}else u=KS(s,d),s=s[d];u&&!l&&(qu[o]=s)}}return s},e2e=bU,O2=e2e("%Object.defineProperty%",!0)||!1;if(O2)try{O2({},"a",{value:1})}catch{O2=!1}var EU=O2,t2e=bU,R2=t2e("%Object.getOwnPropertyDescriptor%",!0);if(R2)try{R2([],"length")}catch{R2=null}var n2e=R2,rA=EU,r2e=CU,zf=xU,aA=n2e,a2e=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new zf("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new zf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new zf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new zf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new zf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new zf("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!aA&&aA(e,n);if(rA)rA(e,n,{configurable:o===null&&l?l.configurable:!o,enumerable:a===null&&l?l.enumerable:!a,value:r,writable:i===null&&l?l.writable:!i});else if(s||!a&&!i&&!o)e[n]=r;else throw new r2e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},P9=EU,DU=function(){return!!P9};DU.hasArrayLengthDefineBug=function(){if(!P9)return null;try{return P9([],"length",{value:1}).length!==1}catch{return!0}};var i2e=DU,o2e=mhe,s2e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",l2e=Object.prototype.toString,c2e=Array.prototype.concat,iA=a2e,u2e=function(t){return typeof t=="function"&&l2e.call(t)==="[object Function]"},OU=i2e(),f2e=function(t,e,n,r){if(e in t){if(r===!0){if(t[e]===n)return}else if(!u2e(r)||!r())return}OU?iA(t,e,n,!0):iA(t,e,n)},RU=function(t,e){var n=arguments.length>2?arguments[2]:{},r=o2e(e);s2e&&(r=c2e.call(r,Object.getOwnPropertySymbols(e)));for(var a=0;a<r.length;a+=1)f2e(t,r[a],e[r[a]],n[r[a]])};RU.supportsDescriptors=!!OU;var IU=RU,I2={exports:{}};typeof self<"u"?I2.exports=self:typeof window<"u"?I2.exports=window:I2.exports=Function("return this")();var AU=I2.exports,d2e=AU,MU=function(){return typeof hi!="object"||!hi||hi.Math!==Math||hi.Array!==Array?d2e:hi},g2e=IU,m2e=MU,v2e=function(){var e=m2e();if(g2e.supportsDescriptors){var n=Object.getOwnPropertyDescriptor(e,"globalThis");(!n||n.configurable&&(n.enumerable||!n.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!0})}else(typeof globalThis!="object"||globalThis!==e)&&(e.globalThis=e);return e},p2e=IU,h2e=AU,PU=MU,S2e=v2e,y2e=PU(),LU=function(){return y2e};p2e(LU,{getPolyfill:PU,implementation:h2e,shim:S2e});var C2e=LU;const x2e=No(C2e),bs=x2e(),_U={vtkObject:()=>null};function Os(t){if(t==null||t.isA)return t;if(!t.vtkClass)return bs.console&&bs.console.error&&bs.console.error("Invalid VTK object"),null;const e=_U[t.vtkClass];if(!e)return bs.console&&bs.console.error&&bs.console.error(`No vtk class found for Object of type ${t.vtkClass}`),null;const n={...t};Object.keys(n).forEach(a=>{n[a]&&typeof n[a]=="object"&&n[a].vtkClass&&(n[a]=Os(n[a]))});const r=e(n);return r&&r.modified&&r.modified(),r}function T2e(t,e){_U[t]=e}Os.register=T2e;class m8 extends Array{push(){for(let e=0;e<arguments.length;e++)this.includes(arguments[e])||super.push(arguments[e]);return this.length}}let L9=0;const NU=Symbol("void");function w2e(){return L9}const FU={};function Eu(){}const b2e=["log","debug","info","warn","error","time","timeEnd","group","groupEnd"];b2e.forEach(t=>{FU[t]=Eu});bs.console=console.hasOwnProperty("log")?console:FU;const Rc={debug:Eu,error:bs.console.error||Eu,info:bs.console.info||Eu,log:bs.console.log||Eu,warn:bs.console.warn||Eu};function $U(t,e){Rc[t]&&(Rc[t]=e||Eu)}function VU(){Rc.log(...arguments)}function kU(){Rc.info(...arguments)}function XS(){Rc.debug(...arguments)}function Yn(){Rc.error(...arguments)}function H5(){Rc.warn(...arguments)}const oA={};function UU(t){oA[t]||(Rc.error(t),oA[t]=!0)}const _i=Object.create(null);_i.Float32Array=Float32Array;_i.Float64Array=Float64Array;_i.Uint8Array=Uint8Array;_i.Int8Array=Int8Array;_i.Uint16Array=Uint16Array;_i.Int16Array=Int16Array;_i.Uint32Array=Uint32Array;_i.Int32Array=Int32Array;_i.Uint8ClampedArray=Uint8ClampedArray;try{_i.BigInt64Array=BigInt64Array,_i.BigUint64Array=BigUint64Array}catch{}function og(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new(_i[t]||Float64Array)(...n)}function q5(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(_i[t]||Float64Array).from(...n)}function K5(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Oa(t){return K5(t[0]==="_"?t.slice(1):t)}function BU(t){return t.charAt(0).toLowerCase()+t.slice(1)}function GU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;const r=["TB","GB","MB","KB"];let a=Number(t),i="B";for(;a>n;)a/=n,i=r.pop();return`${a.toFixed(e)} ${i}`}function zU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";const n=[];let r=t;for(;r>1e3;)n.push(`000${r%1e3}`.slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(e)}function WU(t){Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=[].concat(t[e]))})}function E2e(t){return Object.values(_i).some(e=>t instanceof e)}function D2e(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}function O2e(t,e){return Object.keys(t).find(n=>t[n]===e)}function jU(t){return t&&t.isA?t.getState():t}function WT(t){setTimeout(t,0)}function HU(t,e){const n=performance.now();t.finally(()=>{const r=performance.now()-n;e(r)})}function ea(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};WU(e);const n=[];if(Number.isInteger(e.mtime)||(e.mtime=++L9),!("classHierarchy"in e))e.classHierarchy=new m8("vtkObject");else if(!(e.classHierarchy instanceof m8)){const i=new m8;for(let o=0;o<e.classHierarchy.length;o++)i.push(e.classHierarchy[o]);e.classHierarchy=i}function r(i){n[i]=null}function a(i){function o(){r(i)}return Object.freeze({unsubscribe:o})}return t.isDeleted=()=>!!e.deleted,t.modified=i=>{if(e.deleted){Yn("instance deleted - cannot call any method");return}i&&i<t.getMTime()||(e.mtime=++L9,n.forEach(o=>o&&o(t)))},t.onModified=i=>{if(e.deleted)return Yn("instance deleted - cannot call any method"),null;const o=n.length;return n.push(i),a(o)},t.getMTime=()=>e.mtime,t.isA=i=>{let o=e.classHierarchy.length;for(;o--;)if(e.classHierarchy[o]===i)return!0;return!1},t.getClassName=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-i]},t.set=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=!1;return Object.keys(i).forEach(c=>{const f=s?null:t[`set${K5(c)}`];f&&Array.isArray(i[c])&&f.length>1?l=f(...i[c])||l:f?l=f(i[c])||l:(["mtime"].indexOf(c)===-1&&!o&&H5(`Warning: Set value to model directly ${c}, ${i[c]}`),l=e[c]!==i[c]||l,e[c]=i[c])}),l},t.get=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!o.length)return e;const l={};return o.forEach(c=>{l[c]=e[c]}),l},t.getReferenceByName=i=>e[i],t.delete=()=>{Object.keys(e).forEach(i=>delete e[i]),n.forEach((i,o)=>r(o)),e.deleted=!0},t.getState=()=>{if(e.deleted)return null;const i={...e,vtkClass:t.getClassName()};Object.keys(i).forEach(s=>{i[s]===null||i[s]===void 0||s[0]==="_"?delete i[s]:i[s].isA?i[s]=i[s].getState():Array.isArray(i[s])?i[s]=i[s].map(jU):E2e(i[s])&&(i[s]=Array.from(i[s]))});const o={};return Object.keys(i).sort().forEach(s=>{o[s]=i[s]}),o.mtime&&delete o.mtime,o},t.shallowCopy=function(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i.getClassName()!==t.getClassName())throw new Error(`Cannot ShallowCopy ${i.getClassName()} into ${t.getClassName()}`);const s=i.get(),l=Object.keys(e).sort();Object.keys(s).sort().forEach(f=>{const u=l.indexOf(f);u===-1?o&&XS(`add ${f} in shallowCopy`):l.splice(u,1),e[f]=s[f]}),l.length&&o&&XS(`Untouched keys: ${l.join(", ")}`),t.modified()},t.toJSON=function(){return t.getState()},t}const R2e={object(t,e,n){return function(){return{...e[n.name]}}}};function Zi(t,e,n){n.forEach(r=>{if(typeof r=="object"){const a=R2e[r.type];a?t[`get${Oa(r.name)}`]=a(t,e,r):t[`get${Oa(r.name)}`]=()=>e[r.name]}else t[`get${Oa(r)}`]=()=>e[r]})}const qU={enum(t,e,n){const r=`_on${Oa(n.name)}Changed`;return a=>{var i;if(typeof a=="string"){if(n.enum[a]!==void 0)return e[n.name]!==n.enum[a]?(e[n.name]=n.enum[a],t.modified(),!0):!1;throw Yn(`Set Enum with invalid argument ${n}, ${a}`),new RangeError("Set Enum with invalid string argument")}if(typeof a=="number"){if(e[n.name]!==a){if(Object.keys(n.enum).map(o=>n.enum[o]).indexOf(a)!==-1){const o=e[n.name];return e[n.name]=a,(i=e[r])==null||i.call(e,t,e,a,o),t.modified(),!0}throw Yn(`Set Enum outside numeric range ${n}, ${a}`),new RangeError("Set Enum outside numeric range")}return!1}throw Yn(`Set Enum with invalid argument (String/Number) ${n}, ${a}`),new TypeError("Set Enum with invalid argument (String/Number)")}},object(t,e,n){var a;((a=n.params)==null?void 0:a.length)===1&&H5('Setter of type "object" with a single "param" field is not supported');const r=`_on${Oa(n.name)}Changed`;return function(){var c,f;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];let l;if(o.length>1&&((c=n.params)!=null&&c.length)?l=n.params.reduce((u,d,g)=>Object.assign(u,{[d]:o[g]}),{}):l=o[0],!SU(e[n.name],l)){const u=e[n.name];return e[n.name]=l,(f=e[r])==null||f.call(e,t,e,l,u),t.modified(),!0}return!1}}};function sA(t){if(typeof t=="object"){const e=qU[t.type];if(e)return(n,r)=>e(n,r,t);throw Yn(`No setter for field ${t}`),new TypeError("No setter for field")}return function(n,r){const a=`_on${Oa(t)}Changed`;return function(o){var s;if(r.deleted)return Yn("instance deleted - cannot call any method"),!1;if(r[t]!==o){const l=r[t.name];return r[t]=o,(s=r[a])==null||s.call(r,n,r,o,l),n.modified(),!0}return!1}}}function wp(t,e,n){n.forEach(r=>{typeof r=="object"?t[`set${Oa(r.name)}`]=sA(r)(t,e):t[`set${Oa(r)}`]=sA(r)(t,e)})}function Ka(t,e,n){Zi(t,e,n),wp(t,e,n)}function sg(t,e,n){n.forEach(r=>{t[`get${Oa(r)}`]=()=>e[r]?Array.from(e[r]):e[r],t[`get${Oa(r)}ByReference`]=()=>e[r]})}function jT(t,e,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;n.forEach(i=>{if(e[i]&&r&&e[i].length!==r)throw new RangeError(`Invalid initial number of values for array (${i})`);const o=`_on${Oa(i)}Changed`;t[`set${Oa(i)}`]=function(){var g;if(e.deleted)return Yn("instance deleted - cannot call any method"),!1;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];let f=l,u,d=!1;if(f.length===1&&(f[0]==null||f[0].length>=0)&&(f=f[0],d=!0),f==null)u=e[i]!==f;else{if(r&&f.length!==r)if(f.length<r&&a!==void 0)for(f=Array.from(f),d=!1;f.length<r;)f.push(a);else throw new RangeError(`Invalid number of values for array setter (${i})`);u=e[i]==null||e[i].length!==f.length;for(let v=0;!u&&v<f.length;++v)u=e[i][v]!==f[v];u&&d&&(f=Array.from(f))}if(u){const v=e[i.name];e[i]=f,(g=e[o])==null||g.call(e,t,e,f,v),t.modified()}return u},t[`set${Oa(i)}From`]=s=>{const l=e[i];s.forEach((c,f)=>{l[f]=c})}})}function HT(t,e,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;sg(t,e,n),jT(t,e,n,r,a)}function bp(t,e,n){for(let r=0;r<n.length;r++){const a=n[r];e[a]!==void 0&&(e[`_${a}`]=e[a],delete e[a])}}function qT(t,e,n,r){e.inputData?e.inputData=e.inputData.map(Os):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(Os):e.inputConnection=[],e.output?e.output=e.output.map(Os):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(Os):e.inputArrayToProcess=[],e.numberOfInputs=n;function a(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){Yn("instance deleted - cannot call any method");return}if(v>=e.numberOfInputs){Yn(`algorithm ${t.getClassName()} only has ${e.numberOfInputs} input ports. To add more input ports, use addInputData()`);return}(e.inputData[v]!==g||e.inputConnection[v])&&(e.inputData[v]=g,e.inputConnection[v]=null,t.modified&&t.modified())}function i(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[g]&&(e.inputData[g]=e.inputConnection[g]()),e.inputData[g]}function o(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){Yn("instance deleted - cannot call any method");return}if(v>=e.numberOfInputs){let m=`algorithm ${t.getClassName()} only has `;m+=`${e.numberOfInputs}`,m+=" input ports. To add more input ports, use addInputConnection()",Yn(m);return}e.inputData[v]=null,e.inputConnection[v]=g}function s(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[g]}function l(){let g=e.numberOfInputs;for(;g&&!e.inputData[g-1]&&!e.inputConnection[g-1];)g--;return g===e.numberOfInputs&&e.numberOfInputs++,g}function c(g){if(e.deleted){Yn("instance deleted - cannot call any method");return}o(g,l())}function f(g){if(e.deleted){Yn("instance deleted - cannot call any method");return}a(g,l())}function u(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.deleted?(Yn("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[g])}t.shouldUpdate=()=>{var p,h;const g=t.getMTime();let v=1/0,m=r;for(;m--;){if(!e.output[m]||e.output[m].isDeleted())return!0;const y=e.output[m].getMTime();if(y<g)return!0;y<v&&(v=y)}for(m=e.numberOfInputs;m--;)if((p=e.inputConnection[m])!=null&&p.filter.shouldUpdate()||((h=t.getInputData(m))==null?void 0:h.getMTime())>v)return!0;return!1};function d(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const v=()=>u(g);return v.filter=t,v}if(e.numberOfInputs){let g=e.numberOfInputs;for(;g--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=a,t.setInputConnection=o,t.addInputData=f,t.addInputConnection=c,t.getInputData=i,t.getInputConnection=s}r&&(t.getOutputData=u,t.getOutputPort=d),t.update=()=>{const g=[];if(e.numberOfInputs){let v=0;for(;v<e.numberOfInputs;)g[v]=t.getInputData(v),v++}t.shouldUpdate()&&t.requestData&&t.requestData(g,e.output)},t.getNumberOfInputPorts=()=>e.numberOfInputs,t.getNumberOfOutputPorts=()=>r||e.output.length,t.getInputArrayToProcess=g=>{const v=e.inputArrayToProcess[g],m=e.inputData[g];return v&&m?m[`get${v.fieldAssociation}`]().getArray(v.arrayName):null},t.setInputArrayToProcess=function(g,v,m){let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Scalars";for(;e.inputArrayToProcess.length<g;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[g]={arrayName:v,fieldAssociation:m,attributeType:p}}}const KT=Symbol("Event abort");function KU(t,e,n){const r=[],a=t.delete;let i=1;function o(c){for(let f=0;f<r.length;++f){const[u]=r[f];if(u===c){r.splice(f,1);return}}}function s(c){function f(){o(c)}return Object.freeze({unsubscribe:f})}function l(){if(e.deleted){Yn("instance deleted - cannot call any method");return}const c=r.slice();for(let f=0;f<c.length;++f){const[,u,d]=c[f];if(u){if(d<0)setTimeout(()=>u.apply(t,arguments),1-d);else if(u.apply(t,arguments)===KT)break}}}t[`invoke${Oa(n)}`]=l,t[`on${Oa(n)}`]=function(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!c.apply)return console.error(`Invalid callback for event ${n}`),null;if(e.deleted)return Yn("instance deleted - cannot call any method"),null;const u=i++;return r.push([u,c,f]),r.sort((d,g)=>g[2]-d[2]),s(u)},t.delete=()=>{a(),r.forEach(c=>{let[f]=c;return o(f)})}}function Vr(t,e){const n=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a={},i={};return t(i,a,r),Object.freeze(i)};return e&&Os.register(e,n),n}function Ep(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e.filter(o=>!!o).map(o=>o(...a))}}function QT(t){return t&&t.isA&&t.isA("vtkObject")}function YS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(QT(t)){if(r.indexOf(t)>=0)return n;r.push(t);const a=e(t);a!==void 0&&n.push(a);const i=t.get();Object.keys(i).forEach(o=>{const s=i[o];Array.isArray(s)?s.forEach(l=>{YS(l,e,n,r)}):YS(s,e,n,r)})}return n}function QU(t,e,n){var r=this;let a;const i=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];const c=r,f=()=>{a=null,n||t.apply(c,s)},u=n&&!a;clearTimeout(a),a=setTimeout(f,e),u&&t.apply(c,s)};return i.cancel=()=>clearTimeout(a),i}function XU(t,e){let n=!1,r=null;function a(){n=!1,r!==null&&(i(...r),r=null)}function i(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];if(n){r=s;return}n=!0,t(...s),setTimeout(a,e)}return i}function XT(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},n),t.setKey=(r,a)=>{e.keystore[r]=a},t.getKey=r=>e.keystore[r],t.getAllKeys=()=>Object.keys(e.keystore),t.deleteKey=r=>delete e.keystore[r],t.clearKeystore=()=>t.getAllKeys().forEach(r=>delete e.keystore[r])}let I2e=1;const xh="__root__";function YU(t,e){XT(t,e);const n=t.delete;e.proxyId=`${I2e++}`,e.ui=JSON.parse(JSON.stringify(e.ui||[])),Zi(t,e,["proxyId","proxyGroup","proxyName"]),Ka(t,e,["proxyManager"]);const r={},a={};function i(c,f){a[f]||(a[f]=[]);const u=a[f];for(let d=0;d<c.length;d++)u.push(c[d].name),r[c[d].name]=c[d],c[d].children&&c[d].children.length&&i(c[d].children,c[d].name)}i(e.ui,xh),t.updateUI=c=>{e.ui=JSON.parse(JSON.stringify(c||[])),Object.keys(r).forEach(f=>delete r[f]),Object.keys(a).forEach(f=>delete a[f]),i(e.ui,xh),t.modified()};function o(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xh;return a[c]}t.updateProxyProperty=(c,f)=>{const u=r[c];u?Object.assign(u,f):r[c]={...f}},t.activate=()=>{if(e.proxyManager){const c=`setActive${Oa(t.getProxyGroup().slice(0,-1))}`;e.proxyManager[c]&&e.proxyManager[c](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=(c,f)=>{f in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[f]=[]),e.propertyLinkSubscribers[f].push(c)},t.gcPropertyLinks=c=>{const f=e.propertyLinkSubscribers[c]||[];for(;f.length;)f.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.propertyLinkMap[c])return e.propertyLinkMap[c];let u=null;const d=[];let g=0,v=!1;function m(x){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(v)return null;const w=[];let b=null;for(g=d.length;g--;){const O=d[g];O.instance===x?b=O:w.push(O)}if(!b)return null;const E=b.instance[`get${Oa(b.propertyName)}`]();if(!D2e(E,u)||T){for(u=E,v=!0;w.length;){const O=w.pop();O.instance.set({[O.propertyName]:u})}v=!1}return e.propertyLinkMap[c].persistent&&(e.propertyLinkMap[c].value=E),E}function p(x,T){const w=[];for(g=d.length;g--;){const b=d[g];b.instance===x&&(b.propertyName===T||T===void 0)&&(b.subscription.unsubscribe(),w.push(g))}for(;w.length;)d.splice(w.pop(),1)}function h(x,T){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=x.onModified(m),E=d[0];return d.push({instance:x,propertyName:T,subscription:b}),w&&(e.propertyLinkMap[c].persistent&&e.propertyLinkMap[c].value!==void 0?x.set({[T]:e.propertyLinkMap[c].value}):E&&m(E.instance,!0)),{unsubscribe:()=>p(x,T)}}function y(){for(;d.length;)d.pop().subscription.unsubscribe()}const C={bind:h,unbind:p,unsubscribe:y,persistent:f};return e.propertyLinkMap[c]=C,C};function s(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xh;const f=[],u=e.proxyId,d=o(c)||[];for(let g=0;g<d.length;g++){const v=d[g],m=t[`get${Oa(v)}`],p=m?m():void 0,h={id:u,name:v,value:p},y=s(v);y.length&&(h.children=y),f.push(h)}return f}t.listPropertyNames=()=>s().map(c=>c.name),t.getPropertyByName=c=>s().find(f=>f.name===c),t.getPropertyDomainByName=c=>(r[c]||{}).domain,t.getProxySection=()=>({id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:s()}),t.delete=()=>{const c=Object.keys(e.propertyLinkMap);let f=c.length;for(;f--;)e.propertyLinkMap[c[f]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),n()},t.getState=()=>null;function l(){if(e.links)for(let c=0;c<e.links.length;c++){const{link:f,property:u,persistent:d,updateOnBind:g,type:v}=e.links[c];if(v==="application"){const m=e.proxyManager.getPropertyLink(f,d);t.registerPropertyLinkForGC(m,"application"),m.bind(t,u,g)}}}WT(l)}function ZU(t,e,n){const r=t.delete,a=[],i=Object.keys(n);let o=i.length;for(;o--;){const s=i[o],{modelKey:l,property:c,modified:f=!0}=n[s],u=Oa(c),d=Oa(s);t[`get${d}`]=e[l][`get${u}`],t[`set${d}`]=e[l][`set${u}`],f&&a.push(e[l].onModified(t.modified))}t.delete=()=>{for(;a.length;)a.pop().unsubscribe();r()}}function JU(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};e.this=t;function a(s){const l=Object.keys(s);let c=l.length;for(;c--;){const f=l[c];e[f].set(s[f])}}const i=Object.keys(r);let o=i.length;for(;o--;){const s=i[o];e[s]=r[s];const l=n[s];t[`set${Oa(s)}`]=c=>{if(c!==e[s]){e[s]=c;const f=l[c];a(f),t.modified()}}}i.length&&Zi(t,e,i)}const lA=10,cA=40,uA=800;function eB(t){let e=0,n=0,r=0,a=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*lA,a=n*lA,"deltaY"in t&&(a=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||a)&&t.deltaMode&&(t.deltaMode===1?(r*=cA,a*=cA):(r*=uA,a*=uA)),r&&!e&&(e=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:e,spinY:n||e,pixelX:r,pixelY:a||r}}var ne={algo:qT,capitalize:K5,chain:Ep,debounce:QU,enumToString:O2e,event:KU,EVENT_ABORT:KT,formatBytesToProperUnit:GU,formatNumbersWithThousandSeparator:zU,get:Zi,getArray:sg,getCurrentGlobalMTime:w2e,getStateArrayMapFunc:jU,isVtkObject:QT,keystore:XT,measurePromiseExecution:HU,moveToProtected:bp,newInstance:Vr,newTypedArray:og,newTypedArrayFrom:q5,normalizeWheel:eB,obj:ea,proxy:YU,proxyPropertyMapping:ZU,proxyPropertyState:JU,safeArrays:WU,set:wp,setArray:jT,setGet:Ka,setGetArray:HT,setImmediate:WT,setLoggerFunction:$U,throttle:XU,traverseInstanceTree:YS,TYPED_ARRAYS:_i,uncapitalize:BU,VOID:NU,vtkDebugMacro:XS,vtkErrorMacro:Yn,vtkInfoMacro:kU,vtkLogMacro:VU,vtkOnceErrorMacro:UU,vtkWarningMacro:H5,objectSetterMap:qU},Ni=Object.freeze({__proto__:null,VOID:NU,setLoggerFunction:$U,vtkLogMacro:VU,vtkInfoMacro:kU,vtkDebugMacro:XS,vtkErrorMacro:Yn,vtkWarningMacro:H5,vtkOnceErrorMacro:UU,TYPED_ARRAYS:_i,newTypedArray:og,newTypedArrayFrom:q5,capitalize:K5,_capitalize:Oa,uncapitalize:BU,formatBytesToProperUnit:GU,formatNumbersWithThousandSeparator:zU,setImmediateVTK:WT,measurePromiseExecution:HU,obj:ea,get:Zi,set:wp,setGet:Ka,getArray:sg,setArray:jT,setGetArray:HT,moveToProtected:bp,algo:qT,EVENT_ABORT:KT,event:KU,newInstance:Vr,chain:Ep,isVtkObject:QT,traverseInstanceTree:YS,debounce:QU,throttle:XU,keystore:XT,proxy:YU,proxyPropertyMapping:ZU,proxyPropertyState:JU,normalizeWheel:eB,default:ne});const A2e={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},qn={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",UNSIGNED_CHAR_CLAMPED:"Uint8ClampedArray",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},M2e=qn.FLOAT;var tB={DefaultDataType:M2e,DataTypeByteSize:A2e,VtkDataTypes:qn};const P2e="WebGL",ZS=Object.create(null);function nB(t,e){ZS[t]=e}function L2e(){return Object.keys(ZS)}function rB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ZS[t]&&ZS[t](e)}function _2e(t,e){e.classHierarchy.push("vtkRenderWindow"),t.addRenderer=n=>{t.hasRenderer(n)||(n.setRenderWindow(t),e.renderers.push(n),t.modified())},t.removeRenderer=n=>{e.renderers=e.renderers.filter(r=>r!==n),t.modified()},t.hasRenderer=n=>e.renderers.indexOf(n)!==-1,t.newAPISpecificView=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return rB(n||e.defaultViewAPI,r)},t.addView=n=>{t.hasView(n)||(n.setRenderable(t),e._views.push(n),t.modified())},t.removeView=n=>{e._views=e._views.filter(r=>r!==n),t.modified()},t.hasView=n=>e._views.indexOf(n)!==-1,t.preRender=()=>{e.renderers.forEach(n=>{n.isActiveCameraCreated()||n.resetCamera()})},t.render=()=>{t.preRender(),e.interactor?e.interactor.render():e._views.forEach(n=>n.traverseAllPasses())},t.getStatistics=()=>{const n={propCount:0,invisiblePropCount:0,gpuMemoryMB:0};return e._views.forEach(r=>{r.getGraphicsMemoryInfo&&(n.gpuMemoryMB+=r.getGraphicsMemoryInfo()/1e6)}),e.renderers.forEach(r=>{const a=r.getViewProps(),i=e._views[0].getViewNodeFor(r);a.forEach(o=>{if(o.getVisibility()){n.propCount+=1;const s=o.getMapper&&o.getMapper();if(s&&s.getPrimitiveCount){const l=i.getViewNodeFor(s);if(l){l.getAllocatedGPUMemoryInBytes&&(n.gpuMemoryMB+=l.getAllocatedGPUMemoryInBytes()/1e6);const c=s.getPrimitiveCount();Object.keys(c).forEach(f=>{n[f]||(n[f]=0),n[f]+=c[f]})}}}else n.invisiblePropCount+=1})}),n.str=Object.keys(n).map(r=>`${r}: ${n[r]}`).join(`
`),n},t.captureImages=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ne.setImmediate(t.render),e._views.map(a=>a.captureNextImage?a.captureNextImage(n,r):void 0).filter(a=>!!a)},t.addRenderWindow=n=>e.childRenderWindows.includes(n)?!1:(e.childRenderWindows.push(n),t.modified(),!0),t.removeRenderWindow=n=>{const r=e.childRenderWindows.findIndex(a=>a===n);return r<0?!1:(e.childRenderWindows.splice(r,1),t.modified(),!0)}}const N2e={defaultViewAPI:P2e,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1,childRenderWindows:[]};function aB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,N2e,n),ne.obj(t,e),ne.setGet(t,e,["interactor","numberOfLayers","_views","defaultViewAPI"]),ne.get(t,e,["neverRendered"]),ne.getArray(t,e,["renderers","childRenderWindows"]),ne.moveToProtected(t,e,["views"]),ne.event(t,e,"completion"),_2e(t,e)}const F2e=ne.newInstance(aB,"vtkRenderWindow");var $2e={newInstance:F2e,extend:aB,registerViewConstructor:nB,listViewAPIs:L2e,newAPISpecificView:rB};const kv={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},Sn={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5};var iB={Wrap:kv,Filter:Sn};const oB=new Float32Array(1),V2e=new Int32Array(oB.buffer);function k2e(t){oB[0]=t;const e=V2e[0];let n=e>>16&32768,r=e>>12&2047;const a=e>>23&255;return a<103?n:a>142?(n|=31744,n|=(a===255?0:1)&&e&8388607,n):a<113?(r|=2048,n|=(r>>114-a)+(r>>113-a&1),n):(n|=a-112<<10|r>>1,n+=r&1,n)}function U2e(t){const e=(t&32768)>>15,n=(t&31744)>>10,r=t&1023;return n===0?(e?-1:1)*2**-14*(r/2**10):n===31?r?NaN:(e?-1:1)*(1/0):(e?-1:1)*2**(n-15)*(1+r/2**10)}var ad={fromHalf:U2e,toHalf:k2e},YT={exports:{}};YT.exports;(function(t){(function(e,n,r){function a(l){var c=this,f=s();c.next=function(){var u=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=u-(c.c=u|0)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(l),c.s0<0&&(c.s0+=1),c.s1-=f(l),c.s1<0&&(c.s1+=1),c.s2-=f(l),c.s2<0&&(c.s2+=1),f=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var f=new a(l),u=c&&c.state,d=f.next;return d.int32=function(){return f.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,u&&(typeof u=="object"&&i(u,f),d.state=function(){return i(f,{})}),d}function s(){var l=4022871197,c=function(f){f=String(f);for(var u=0;u<f.length;u++){l+=f.charCodeAt(u);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=o:this.alea=o})(hi,t)})(YT);var B2e=YT.exports,ZT={exports:{}};ZT.exports;(function(t){(function(e,n,r){function a(s){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var u=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^u^u>>>8},s===(s|0)?l.x=s:c+=s;for(var f=0;f<c.length+64;f++)l.x^=c.charCodeAt(f)|0,l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var c=new a(s),f=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,g=(c.next()>>>0)/4294967296,v=(d+g)/(1<<21);while(v===0);return v},u.int32=c.next,u.quick=u,f&&(typeof f=="object"&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:this.xor128=o})(hi,t)})(ZT);var G2e=ZT.exports,JT={exports:{}};JT.exports;(function(t){(function(e,n,r){function a(s){var l=this,c="";l.next=function(){var u=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(u^u<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:c+=s;for(var f=0;f<c.length+64;f++)l.x^=c.charCodeAt(f)|0,f==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var c=new a(s),f=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,g=(c.next()>>>0)/4294967296,v=(d+g)/(1<<21);while(v===0);return v},u.int32=c.next,u.quick=u,f&&(typeof f=="object"&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:this.xorwow=o})(hi,t)})(JT);var z2e=JT.exports,ew={exports:{}};ew.exports;(function(t){(function(e,n,r){function a(s){var l=this;l.next=function(){var f=l.x,u=l.i,d,g;return d=f[u],d^=d>>>7,g=d^d<<24,d=f[u+1&7],g^=d^d>>>10,d=f[u+3&7],g^=d^d>>>3,d=f[u+4&7],g^=d^d<<7,d=f[u+7&7],d=d^d<<13,g^=d^d<<9,f[u]=g,l.i=u+1&7,g};function c(f,u){var d,g=[];if(u===(u|0))g[0]=u;else for(u=""+u,d=0;d<u.length;++d)g[d&7]=g[d&7]<<15^u.charCodeAt(d)+g[d+1&7]<<13;for(;g.length<8;)g.push(0);for(d=0;d<8&&g[d]===0;++d);for(d==8?g[7]=-1:g[d],f.x=g,f.i=0,d=256;d>0;--d)f.next()}c(l,s)}function i(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var c=new a(s),f=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,g=(c.next()>>>0)/4294967296,v=(d+g)/(1<<21);while(v===0);return v},u.int32=c.next,u.quick=u,f&&(f.x&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:this.xorshift7=o})(hi,t)})(ew);var W2e=ew.exports,tw={exports:{}};tw.exports;(function(t){(function(e,n,r){function a(s){var l=this;l.next=function(){var f=l.w,u=l.X,d=l.i,g,v;return l.w=f=f+1640531527|0,v=u[d+34&127],g=u[d=d+1&127],v^=v<<13,g^=g<<17,v^=v>>>15,g^=g>>>12,v=u[d]=v^g,l.i=d,v+(f^f>>>16)|0};function c(f,u){var d,g,v,m,p,h=[],y=128;for(u===(u|0)?(g=u,u=null):(u=u+"\0",g=0,y=Math.max(y,u.length)),v=0,m=-32;m<y;++m)u&&(g^=u.charCodeAt((m+32)%u.length)),m===0&&(p=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,m>=0&&(p=p+1640531527|0,d=h[m&127]^=g+p,v=d==0?v+1:0);for(v>=128&&(h[(u&&u.length||0)&127]=-1),v=127,m=4*128;m>0;--m)g=h[v+34&127],d=h[v=v+1&127],g^=g<<13,d^=d<<17,g^=g>>>15,d^=d>>>12,h[v]=g^d;f.w=p,f.X=h,f.i=v}c(l,s)}function i(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var c=new a(s),f=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,g=(c.next()>>>0)/4294967296,v=(d+g)/(1<<21);while(v===0);return v},u.int32=c.next,u.quick=u,f&&(f.X&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:this.xor4096=o})(hi,t)})(tw);var j2e=tw.exports,nw={exports:{}};nw.exports;(function(t){(function(e,n,r){function a(s){var l=this,c="";l.next=function(){var u=l.b,d=l.c,g=l.d,v=l.a;return u=u<<25^u>>>7^d,d=d-g|0,g=g<<24^g>>>8^v,v=v-u|0,l.b=u=u<<20^u>>>12^d,l.c=d=d-g|0,l.d=g<<16^d>>>16^v,l.a=v-u|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):c+=s;for(var f=0;f<c.length+20;f++)l.b^=c.charCodeAt(f)|0,l.next()}function i(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var c=new a(s),f=l&&l.state,u=function(){return(c.next()>>>0)/4294967296};return u.double=function(){do var d=c.next()>>>11,g=(c.next()>>>0)/4294967296,v=(d+g)/(1<<21);while(v===0);return v},u.int32=c.next,u.quick=u,f&&(typeof f=="object"&&i(f,c),u.state=function(){return i(c,{})}),u}n&&n.exports?n.exports=o:this.tychei=o})(hi,t)})(nw);var H2e=nw.exports,sB={exports:{}};const q2e={},K2e=Object.freeze(Object.defineProperty({__proto__:null,default:q2e},Symbol.toStringTag,{value:"Module"})),c0=aQ(K2e);(function(t){(function(e,n,r){var a=256,i=6,o=52,s="random",l=r.pow(a,i),c=r.pow(2,o),f=c*2,u=a-1,d;function g(x,T,w){var b=[];T=T==!0?{entropy:!0}:T||{};var E=h(p(T.entropy?[x,C(n)]:x??y(),3),b),O=new v(b),D=function(){for(var R=O.g(i),I=l,M=0;R<c;)R=(R+M)*a,I*=a,M=O.g(1);for(;R>=f;)R/=2,I/=2,M>>>=1;return(R+M)/I};return D.int32=function(){return O.g(4)|0},D.quick=function(){return O.g(4)/4294967296},D.double=D,h(C(O.S),n),(T.pass||w||function(R,I,M,A){return A&&(A.S&&m(A,O),R.state=function(){return m(O,{})}),M?(r[s]=R,I):R})(D,E,"global"in T?T.global:this==r,T.state)}function v(x){var T,w=x.length,b=this,E=0,O=b.i=b.j=0,D=b.S=[];for(w||(x=[w++]);E<a;)D[E]=E++;for(E=0;E<a;E++)D[E]=D[O=u&O+x[E%w]+(T=D[E])],D[O]=T;(b.g=function(R){for(var I,M=0,A=b.i,B=b.j,L=b.S;R--;)I=L[A=u&A+1],M=M*a+L[u&(L[A]=L[B=u&B+I])+(L[B]=I)];return b.i=A,b.j=B,M})(a)}function m(x,T){return T.i=x.i,T.j=x.j,T.S=x.S.slice(),T}function p(x,T){var w=[],b=typeof x,E;if(T&&b=="object")for(E in x)try{w.push(p(x[E],T-1))}catch{}return w.length?w:b=="string"?x:x+"\0"}function h(x,T){for(var w=x+"",b,E=0;E<w.length;)T[u&E]=u&(b^=T[u&E]*19)+w.charCodeAt(E++);return C(T)}function y(){try{var x;return d&&(x=d.randomBytes)?x=x(a):(x=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(x)),C(x)}catch{var T=e.navigator,w=T&&T.plugins;return[+new Date,e,w,e.screen,C(n)]}}function C(x){return String.fromCharCode.apply(0,x)}if(h(r.random(),n),t.exports){t.exports=g;try{d=c0}catch{}}else r["seed"+s]=g})(typeof self<"u"?self:hi,[],Math)})(sB);var Q2e=sB.exports,X2e=B2e,Y2e=G2e,Z2e=z2e,J2e=W2e,eSe=j2e,tSe=H2e,Df=Q2e;Df.alea=X2e;Df.xor128=Y2e;Df.xorwow=Z2e;Df.xorshift7=J2e;Df.xor4096=eSe;Df.tychei=tSe;var nSe=Df;const rSe=No(nSe),rw=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],aSe=[1,0,0,0,1,0,0,0,1],aw=1e-6,iw=1e-12,{vtkErrorMacro:lB,vtkWarningMacro:lf}=ne;let cB=0;const fA=20;function Dp(t){return()=>lB(`vtkMath::${t} - NOT IMPLEMENTED`)}function Fm(t,e,n,r){let a;for(let i=0;i<e;i++)a=t[n*e+i],t[n*e+i]=t[r*e+i],t[r*e+i]=a}function om(t,e,n,r){let a;for(let i=0;i<e;i++)a=t[i*e+n],t[i*e+n]=t[i*e+r],t[i*e+r]=a}function Qr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3;const e=Array(t);for(let n=0;n<t;++n)e[n]=0;return e}const iSe=()=>Math.PI;function oSe(t,e){return e>1023?t*2**1023*2**(e-1023):e<-1074?t*2**-1074*2**(e+1074):t*2**e}function ma(t){return t/180*Math.PI}function JS(t){return t*180/Math.PI}const{round:sSe,floor:ow,ceil:lSe,min:cSe,max:uSe}=Math;function fSe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0;for(let a=e,i=t.length;a<i;a+=n)t[a]<r&&(r=t[a]);return r}function dSe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=-1/0;for(let a=e,i=t.length;a<i;a+=n)r<t[a]&&(r=t[a]);return r}function gSe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0,a=-1/0;for(let i=e,o=t.length;i<o;i+=n)t[i]<r&&(r=t[i]),a<t[i]&&(a=t[i]);return[r,a]}const mSe=Dp("ceilLog2"),vSe=Dp("factorial");function Kl(t){let e=1;for(;e<t;)e*=2;return e}function sm(t){return t===Kl(t)}function pSe(t,e){let n=1;for(let r=1;r<=e;++r)n*=(t-r+1)/r;return Math.floor(n)}function hSe(t,e){if(t<e)return 0;const n=Qr(e);for(let r=0;r<e;++r)n[r]=r;return n}function SSe(t,e,n){let r=0;for(let a=e-1;a>=0;--a)if(n[a]<t-e+a){let i=n[a]+1;for(;a<e;)n[a++]=i++;r=1;break}return r}function ySe(t){rSe(`${t}`,{global:!0}),cB=t}function CSe(){return cB}function xSe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:1)-t;return t+n*Math.random()}const TSe=Dp("gaussian");function e3(t,e,n){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function H0(t,e,n){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function uB(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t}function fB(t,e){return t[0]*=e,t[1]*=e,t}function _9(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r}function wSe(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function Wn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function bSe(t,e,n){n[0]=t[0]*e[0],n[1]=t[0]*e[1],n[2]=t[0]*e[2],n[3]=t[1]*e[0],n[4]=t[1]*e[1],n[5]=t[1]*e[2],n[6]=t[2]*e[0],n[7]=t[2]*e[1],n[8]=t[2]*e[2]}function u0(t,e,n){const r=t[1]*e[2]-t[2]*e[1],a=t[2]*e[0]-t[0]*e[2],i=t[0]*e[1]-t[1]*e[0];return n[0]=r,n[1]=a,n[2]=i,n}function fc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;switch(e){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{let n=0;for(let r=0;r<e;r++)n+=t[r]*t[r];return Math.sqrt(n)}}}function cf(t){const e=fc(t);return e!==0&&(t[0]/=e,t[1]/=e,t[2]/=e),e}function ESe(t,e,n,r){const a=t[0]*t[0],i=t[1]*t[1],o=t[2]*t[2],s=Math.sqrt(a+i+o);let l,c,f;a>i&&a>o?(l=0,c=1,f=2):i>o?(l=1,c=2,f=0):(l=2,c=0,f=1);const u=t[l]/s,d=t[c]/s,g=t[f]/s,v=Math.sqrt(u*u+g*g);if(r!==0){const m=Math.sin(r),p=Math.cos(r);e&&(e[l]=(g*p-u*d*m)/v,e[c]=m*v,e[f]=(-(u*p)-d*g*m)/v),n&&(n[l]=(-(g*m)-u*d*p)/v,n[c]=p*v,n[f]=(u*m-d*g*p)/v)}else e&&(e[l]=g/v,e[c]=0,e[f]=-u/v),n&&(n[l]=-u*d/v,n[c]=v,n[f]=-d*g/v)}function DSe(t,e,n){const r=Wn(e,e);if(r===0)return n[0]=0,n[1]=0,n[2]=0,!1;const a=Wn(t,e)/r;for(let i=0;i<3;i++)n[i]=e[i];return uB(n,a),!0}function N9(t,e){return t[0]*e[0]+t[1]*e[1]}function OSe(t,e,n){const r=N9(e,e);if(r===0)return n[0]=0,n[1]=0,!1;const a=N9(t,e)/r;for(let i=0;i<2;i++)n[i]=e[i];return fB(n,a),!0}function Ys(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}function RSe(t,e){const n=[0,0,0];return u0(t,e,n),Math.atan2(fc(n),Wn(t,e))}function ISe(t,e,n){const r=Math.abs(t-n);return 1/Math.sqrt(2*Math.PI*e)*Math.exp(-(r**2)/(2*e))}function ASe(t,e,n){const r=Math.abs(t-n);return Math.exp(-(r**2)/(2*e))}function MSe(t,e,n){n[0]=t[0]*e[0],n[1]=t[0]*e[1],n[2]=t[1]*e[0],n[3]=t[1]*e[1]}function dB(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function PSe(t){const e=dB(t);return e!==0&&(t[0]/=e,t[1]/=e),e}function pa(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===2?e[0][0]*e[1][1]-e[1][0]*e[0][1]:e.length===4?e[0]*e[3]-e[1]*e[2]:Number.NaN}function LSe(t,e){let n,r,a;const i=[0,0,0];for(let o=0;o<3;o++)a=Math.abs(t[o*3]),(r=Math.abs(t[o*3+1]))>a&&(a=r),(r=Math.abs(t[o*3+2]))>a&&(a=r),i[o]=1/a;a=i[0]*Math.abs(t[0]),n=0,(r=i[1]*Math.abs(t[3]))>=a&&(a=r,n=1),(r=i[2]*Math.abs(t[6]))>=a&&(n=2),n!==0&&(Fm(t,3,n,0),i[n]=i[0]),e[0]=n,t[3]/=t[0],t[6]/=t[0],t[4]-=t[3]*t[1],t[7]-=t[6]*t[1],a=i[1]*Math.abs(t[4]),n=1,(r=i[2]*Math.abs(t[7]))>=a&&(n=2,Fm(t,3,1,2),i[2]=i[1]),e[1]=n,t[7]/=t[4],t[5]-=t[3]*t[2],t[8]-=t[6]*t[2]+t[7]*t[5],e[2]=2}function _Se(t,e,n){let r=n[e[0]];n[e[0]]=n[0],n[0]=r,r=n[e[1]],n[e[1]]=n[1],n[1]=r-t[3]*n[0],r=n[e[2]],n[e[2]]=n[2],n[2]=r-t[6]*n[0]-t[7]*n[1],n[2]/=t[8],n[1]=(n[1]-t[5]*n[2])/t[4],n[0]=(n[0]-t[1]*n[1]-t[2]*n[2])/t[0]}function NSe(t,e,n){const r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],l=t[5],c=t[6],f=t[7],u=t[8],d=+pa(s,f,l,u),g=-pa(o,c,l,u),v=+pa(o,c,s,f),m=-pa(a,f,i,u),p=+pa(r,c,i,u),h=-pa(r,c,a,f),y=+pa(a,s,i,l),C=-pa(r,o,i,l),x=+pa(r,o,a,s),T=r*d+a*g+i*v,w=d*e[0]+m*e[1]+y*e[2],b=g*e[0]+p*e[1]+C*e[2],E=v*e[0]+h*e[1]+x*e[2];n[0]=w/T,n[1]=b/T,n[2]=E/T}function A2(t,e,n){const r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2],a=t[3]*e[0]+t[4]*e[1]+t[5]*e[2],i=t[6]*e[0]+t[7]*e[1]+t[8]*e[2];n[0]=r,n[1]=a,n[2]=i}function F9(t,e,n){const r=[...t],a=[...e];for(let i=0;i<3;i++)n[i]=r[0]*a[i]+r[1]*a[i+3]+r[2]*a[i+6],n[i+3]=r[3]*a[i]+r[4]*a[i+3]+r[5]*a[i+6],n[i+6]=r[6]*a[i]+r[7]*a[i+3]+r[8]*a[i+6]}function FSe(t,e,n,r,a,i,o){r!==a&&lB("Number of columns of A must match number of rows of B.");const s=[...t],l=[...e];for(let c=0;c<n;c++)for(let f=0;f<i;f++){o[c*i+f]=0;for(let u=0;u<r;u++)o[c*i+f]+=s[c*r+u]*l[f+i*u]}}function jd(t,e){let n;n=t[3],e[3]=t[1],e[1]=n,n=t[6],e[6]=t[2],e[2]=n,n=t[7],e[7]=t[5],e[5]=n,e[0]=t[0],e[4]=t[4],e[8]=t[8]}function $Se(t,e){const n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],f=t[8],u=+pa(o,c,s,f),d=-pa(i,l,s,f),g=+pa(i,l,o,c),v=-pa(r,c,a,f),m=+pa(n,l,a,f),p=-pa(n,l,r,c),h=+pa(r,o,a,s),y=-pa(n,i,a,s),C=+pa(n,i,r,o),x=n*u+r*d+a*g;x===0&&lf("Matrix has 0 determinant"),e[0]=u/x,e[3]=d/x,e[6]=g/x,e[1]=v/x,e[4]=m/x,e[7]=p/x,e[2]=h/x,e[5]=y/x,e[8]=C/x}function Q5(t){return t[0]*t[4]*t[8]+t[3]*t[7]*t[2]+t[6]*t[1]*t[5]-t[0]*t[7]*t[5]-t[3]*t[1]*t[8]-t[6]*t[4]*t[2]}function gB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:aw;if(t.length!==e.length)return!1;function r(a,i){return Math.abs(a-e[i])<=n}return t.every(r)}const Op=gB;function mB(t){for(let e=0;e<3;e++)t[e*3]=t[e*3+1]=t[e*3+2]=0,t[e*3+e]=1}function vB(t,e){for(let n=0;n<t;n++){for(let r=0;r<t;r++)e[n*t+r]=0;e[n*t+n]=1}return e}function VSe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aw;return Op(t,rw,e)}function kSe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aw;return Op(t,aSe,e)}function pB(t,e){const n=t[0]*t[0],r=t[0]*t[1],a=t[0]*t[2],i=t[0]*t[3],o=t[1]*t[1],s=t[2]*t[2],l=t[3]*t[3],c=t[1]*t[2],f=t[1]*t[3],u=t[2]*t[3],d=o+s+l;let g=1/(n+d);const v=(n-d)*g;g*=2,e[0]=o*g+v,e[3]=(c+i)*g,e[6]=(f-a)*g,e[1]=(c-i)*g,e[4]=s*g+v,e[7]=(u+r)*g,e[2]=(f+a)*g,e[5]=(u-r)*g,e[8]=l*g+v}function M2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!`${t}`.includes("e"))return+`${Math.round(`${t}e+${e}`)}e-${e}`;const n=`${t}`.split("e");let r="";return+n[1]+e>0&&(r="+"),+`${Math.round(`${+n[0]}e${r}${+n[1]+e}`)}e-${e}`}function $9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e[0]=M2(t[0],n),e[1]=M2(t[1],n),e[2]=M2(t[2],n),e}function Rp(t,e,n,r){let a,i,o,s,l,c,f,u,d,g,v,m,p,h,y,C;const x=Qr(e),T=Qr(e),w=(E,O,D)=>{h=E[O],p=E[D],E[O]=h-m*(p+h*g),E[D]=p+m*(h-p*g)};for(vB(e,r),l=0;l<e;l++)x[l]=n[l]=t[l+l*e],T[l]=0;for(a=0;a<fA;a++){for(v=0,l=0;l<e-1;l++)for(s=l+1;s<e;s++)v+=Math.abs(t[l*e+s]);if(v===0)break;for(a<3?f=.2*v/(e*e):f=0,l=0;l<e-1;l++)for(s=l+1;s<e;s++)if(h=100*Math.abs(t[l*e+s]),a>3&&Math.abs(n[l])+h===Math.abs(n[l])&&Math.abs(n[s])+h===Math.abs(n[s]))t[l*e+s]=0;else if(Math.abs(t[l*e+s])>f){for(p=n[s]-n[l],Math.abs(p)+h===Math.abs(p)?d=t[l*e+s]/p:(u=.5*p/t[l*e+s],d=1/(Math.abs(u)+Math.sqrt(1+u*u)),u<0&&(d=-d)),y=1/Math.sqrt(1+d*d),m=d*y,g=m/(1+y),p=d*t[l*e+s],T[l]-=p,T[s]+=p,n[l]-=p,n[s]+=p,t[l*e+s]=0,i=0;i<=l-1;i++)w(t,i*e+l,i*e+s);for(i=l+1;i<=s-1;i++)w(t,l*e+i,i*e+s);for(i=s+1;i<e;i++)w(t,l*e+i,s*e+i);for(i=0;i<e;i++)w(r,i*e+l,i*e+s)}for(l=0;l<e;l++)x[l]+=T[l],n[l]=x[l],T[l]=0}if(a>=fA)return lf("vtkMath::Jacobi: Error extracting eigenfunctions"),0;for(i=0;i<e-1;i++){for(o=i,C=n[o],a=i+1;a<e;a++)(n[a]>=C||Math.abs(n[a]-C)<iw)&&(o=a,C=n[o]);o!==i&&(n[o]=n[i],n[i]=C,om(r,e,i,o))}const b=(e>>1)+(e&1);for(c=0,a=0;a<e*e;a++)r[a]>=0&&c++;if(c<b)for(a=0;a<e;a++)r[a*e+i]*=-1;return 1}function hB(t,e){const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];n[0]=t[0]+t[4]+t[8],n[5]=t[0]-t[4]-t[8],n[10]=-t[0]+t[4]-t[8],n[15]=-t[0]-t[4]+t[8],n[1]=n[4]=t[7]-t[5],n[2]=n[8]=t[2]-t[6],n[3]=n[12]=t[3]-t[1],n[6]=n[9]=t[3]+t[1],n[7]=n[13]=t[2]+t[6],n[11]=n[14]=t[7]+t[5];const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0],i=[...n];Rp(i,4,a,r),e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12]}function USe(t,e,n){const r=t[0]*e[0],a=t[0]*e[1],i=t[0]*e[2],o=t[0]*e[3],s=t[1]*e[0],l=t[1]*e[1],c=t[1]*e[2],f=t[1]*e[3],u=t[2]*e[0],d=t[2]*e[1],g=t[2]*e[2],v=t[2]*e[3],m=t[3]*e[0],p=t[3]*e[1],h=t[3]*e[2],y=t[3]*e[3];n[0]=r-l-g-y,n[1]=a+s+v-h,n[2]=i-f+u+p,n[3]=o+c-d+m}function SB(t,e){for(let d=0;d<9;d++)e[d]=t[d];const n=Qr(3),r=Qr(3);let a;for(let d=0;d<3;d++){const g=Math.abs(e[d*3]),v=Math.abs(e[d*3+1]),m=Math.abs(e[d*3+2]);a=v>g?v:g,a=m>a?m:a,n[d]=1,a!==0&&(n[d]/=a)}const i=Math.abs(e[0])*n[0],o=Math.abs(e[3])*n[1],s=Math.abs(e[6])*n[2];r[0]=0,a=i,o>=a&&(a=o,r[0]=1),s>=a&&(r[0]=2),r[0]!==0&&(om(e,3,r[0],0),n[r[0]]=n[0]);const l=Math.abs(e[4])*n[1],c=Math.abs(e[7])*n[2];r[1]=1,a=l,c>=a&&(r[1]=2,om(e,3,1,2)),r[2]=2;let f=0;if(Q5(e)<0){f=1;for(let d=0;d<9;d++)e[d]=-e[d]}const u=Qr(4);if(hB(e,u),pB(u,e),f)for(let d=0;d<9;d++)e[d]=-e[d];r[1]!==1&&om(e,3,r[1],1),r[0]!==0&&om(e,3,r[0],0)}function yB(t,e,n){let r,a,i,o,s,l;const c=[...t];if(Rp(c,3,e,n),e[0]===e[1]&&e[0]===e[2]){mB(n);return}for(jd(n,n),r=0;r<3;r++)if(e[(r+1)%3]===e[(r+2)%3]){for(l=Math.abs(n[r*3]),o=0,a=1;a<3;a++)l<(s=Math.abs(n[r*3+a]))&&(l=s,o=a);o!==r&&(s=e[o],e[o]=e[r],e[r]=s,Fm(n,3,r,o)),n[o*3+o]<0&&(n[o*3]=-n[o*3],n[o*3+1]=-n[o*3+1],n[o*3+2]=-n[o*3+2]),a=(o+1)%3,i=(o+2)%3,n[a*3]=0,n[a*3+1]=0,n[a*3+2]=0,n[a*3+a]=1;const f=u0([n[o*3],n[o*3+1],n[o*3+2]],[n[a*3],n[a*3+1],n[a*3+2]],[]);cf(f);const u=u0(f,[n[o*3],n[o*3+1],n[o*3+2]],[]);for(let d=0;d<3;d++)n[i*3+d]=f[d],n[a*3+d]=u[d];jd(n,n);return}for(l=Math.abs(n[0]),o=0,r=1;r<3;r++)l<(s=Math.abs(n[r*3]))&&(l=s,o=r);if(o!==0){const f=e[o];e[o]=e[0],e[0]=f,Fm(n,3,o,0)}if(Math.abs(n[4])<Math.abs(n[7])){const f=e[2];e[2]=e[1],e[1]=f,Fm(n,3,1,2)}for(r=0;r<2;r++)n[r*3+r]<0&&(n[r*3]=-n[r*3],n[r*3+1]=-n[r*3+1],n[r*3+2]=-n[r*3+2]);Q5(n)<0&&(n[6]=-n[6],n[7]=-n[7],n[8]=-n[8]),jd(n,n)}function BSe(t,e,n,r){let a;const i=[...t],o=Q5(i);if(o<0)for(a=0;a<9;a++)i[a]=-i[a];SB(i,e),jd(i,i),F9(i,e,r),yB(r,n,r),F9(e,r,e),jd(r,r),o<0&&(n[0]=-n[0],n[1]=-n[1],n[2]=-n[2])}function sw(t,e,n){let r,a,i,o,s=0,l,c,f;const u=Qr(n);for(r=0;r<n;r++){for(o=0,a=0;a<n;a++)(f=Math.abs(t[r*n+a]))>o&&(o=f);if(o===0)return lf("Unable to factor linear system"),0;u[r]=1/o}for(a=0;a<n;a++){for(r=0;r<a;r++){for(l=t[r*n+a],i=0;i<r;i++)l-=t[r*n+i]*t[i*n+a];t[r*n+a]=l}for(o=0,r=a;r<n;r++){for(l=t[r*n+a],i=0;i<a;i++)l-=t[r*n+i]*t[i*n+a];t[r*n+a]=l,(c=u[r]*Math.abs(l))>=o&&(o=c,s=r)}if(a!==s){for(i=0;i<n;i++)c=t[s*n+i],t[s*n+i]=t[a*n+i],t[a*n+i]=c;u[s]=u[a]}if(e[a]=s,Math.abs(t[a*n+a])<=iw)return lf("Unable to factor linear system"),0;if(a!==n-1)for(c=1/t[a*n+a],r=a+1;r<n;r++)t[r*n+a]*=c}return 1}function lw(t,e,n,r){let a,i,o,s,l;for(o=-1,a=0;a<r;a++){if(s=e[a],l=n[s],n[s]=n[a],o>=0)for(i=o;i<=a-1;i++)l-=t[a*r+i]*n[i];else l!==0&&(o=a);n[a]=l}for(a=r-1;a>=0;a--){for(l=n[a],i=a+1;i<r;i++)l-=t[a*r+i]*n[i];n[a]=l/t[a*r+a]}}function CB(t,e,n){if(n===2){const a=Qr(2),i=pa(t[0],t[1],t[2],t[3]);return i===0?0:(a[0]=(t[3]*e[0]-t[1]*e[1])/i,a[1]=(-(t[2]*e[0])+t[0]*e[1])/i,e[0]=a[0],e[1]=a[1],1)}if(n===1)return t[0]===0?0:(e[0]/=t[0],1);const r=Qr(n);return sw(t,r,n)===0?0:(lw(t,r,e,n),1)}function xB(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;const i=r||Qr(n),o=a||Qr(n);if(sw(t,i,n)===0)return null;for(let s=0;s<n;s++){for(let l=0;l<n;l++)o[l]=0;o[s]=1,lw(t,i,o,n);for(let l=0;l<n;l++)e[l*n+s]=o[l]}return e}function GSe(t,e){let n=+Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let a=0;a<e;a++)for(let i=a;i<e;i++)Math.abs(t[a*e+i])>r&&(r=Math.abs(t[a*e+i]));for(let a=0;a<e;a++)Math.abs(t[a*e+a])<n&&(n=Math.abs(t[a*e+a]));return n===0?Number.MAX_VALUE:r/n}function zSe(t,e,n){return Rp(t,3,e,n)}function V9(t,e,n,r){if(t<n)return lf("Insufficient number of samples. Underdetermined."),0;let a,i,o;const s=Qr(n*n),l=Qr(n),c=Qr(n*n);for(o=0;o<t;o++)for(a=0;a<n;a++)for(i=a;i<n;i++)s[a*n+i]+=e[o*n+a]*e[o*n+i];for(a=0;a<n;a++)for(i=0;i<a;i++)s[a*n+i]=s[i*n+a];for(Rp(s,n,l,c),a=0;a<n;a++)r[a]=c[a*n+n-1];return 1}function WSe(t,e,n,r,a,i){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0;if(t<n||t<a)return lf("Insufficient number of samples. Underdetermined."),0;const s=Qr(a);let l=1,c,f=0,u,d,g,v=0;if(o){for(d=0;d<a;d++)s[d]=1;for(u=0;u<t;u++)for(d=0;d<a;d++)Math.abs(r[u*a+d])>iw&&(l=0,s[d]=0);if(l&&a===1)return lf("Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()"),V9(t,e,n,i);if(l)v=1;else for(d=0;d<a;d++)s[d]&&(v=1)}v&&(c=Qr(n),f=V9(t,e,n,c));const m=Qr(n*n),p=Qr(n*n),h=Qr(n*a);for(g=0;g<t;g++)for(u=0;u<n;u++){for(d=u;d<n;d++)m[u*n+d]+=e[g*n+u]*e[g*n+d];for(d=0;d<a;d++)h[u*a+d]+=e[g*n+u]*r[g*a+d]}for(u=0;u<n;u++)for(d=0;d<u;d++)m[u*n+d]=m[d*n+u];const y=xB(m,p,n);if(y)for(u=0;u<n;u++)for(d=0;d<a;d++)for(i[u*a+d]=0,g=0;g<n;g++)i[u*a+d]+=p[u*n+g]*h[g*a+d];if(v){for(d=0;d<a;d++)if(s[d])for(u=0;u<n;u++)i[u*a+d]=c[u*a]}return v?f&&y:y}function jSe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,.5,1];switch(t.length){case 3:return e[0]=parseInt(t[0],16)*17/255,e[1]=parseInt(t[1],16)*17/255,e[2]=parseInt(t[2],16)*17/255,e;case 4:return e[0]=parseInt(t[1],16)*17/255,e[1]=parseInt(t[2],16)*17/255,e[2]=parseInt(t[3],16)*17/255,e;case 6:return e[0]=parseInt(t.substr(0,2),16)/255,e[1]=parseInt(t.substr(2,2),16)/255,e[2]=parseInt(t.substr(4,2),16)/255,e;case 7:return e[0]=parseInt(t.substr(1,2),16)/255,e[1]=parseInt(t.substr(3,2),16)/255,e[2]=parseInt(t.substr(5,2),16)/255,e;case 9:return e[0]=parseInt(t.substr(1,2),16)/255,e[1]=parseInt(t.substr(3,2),16)/255,e[2]=parseInt(t.substr(5,2),16)/255,e[3]=parseInt(t.substr(7,2),16)/255,e;default:return e}}function lm(t,e){let n,r;const[a,i,o]=t,s=1/3,l=1/6,c=2/3;let f=a,u=a;i>f?f=i:i<u&&(u=i),o>f?f=o:o<u&&(u=o);const d=f;d>0?r=(f-u)/f:r=0,r>0?(a===f?n=l*(i-o)/(f-u):i===f?n=s+l*(o-a)/(f-u):n=c+l*(a-i)/(f-u),n<0&&(n+=1)):n=0,e[0]=n,e[1]=r,e[2]=d}function Du(t,e){const[n,r,a]=t,i=1/3,o=1/6,s=2/3,l=5/6;let c,f,u;n>o&&n<=i?(f=1,c=(i-n)/o,u=0):n>i&&n<=.5?(f=1,u=(n-i)/o,c=0):n>.5&&n<=s?(u=1,f=(s-n)/o,c=0):n>s&&n<=l?(u=1,c=(n-s)/o,f=0):n>l&&n<=1?(c=1,u=(1-n)/o,f=0):(c=1,f=n/o,u=0),c=r*c+(1-r),f=r*f+(1-r),u=r*u+(1-r),c*=a,f*=a,u*=a,e[0]=c,e[1]=f,e[2]=u}function TB(t,e){const[n,r,a]=t;let i=(n+16)/116,o=r/500+i,s=i-a/200;i**3>.008856?i**=3:i=(i-16/116)/7.787,o**3>.008856?o**=3:o=(o-16/116)/7.787,s**3>.008856?s**=3:s=(s-16/116)/7.787;const l=.9505,c=1,f=1.089;e[0]=l*o,e[1]=c*i,e[2]=f*s}function wB(t,e){const[n,r,a]=t,i=.9505,o=1,s=1.089;let l=n/i,c=r/o,f=a/s;l>.008856?l**=1/3:l=7.787*l+16/116,c>.008856?c**=1/3:c=7.787*c+16/116,f>.008856?f**=1/3:f=7.787*f+16/116,e[0]=116*c-16,e[1]=500*(l-c),e[2]=200*(c-f)}function bB(t,e){const[n,r,a]=t;let i=n*3.2406+r*-1.5372+a*-.4986,o=n*-.9689+r*1.8758+a*.0415,s=n*.0557+r*-.204+a*1.057;i>.0031308?i=1.055*i**(1/2.4)-.055:i*=12.92,o>.0031308?o=1.055*o**(1/2.4)-.055:o*=12.92,s>.0031308?s=1.055*s**(1/2.4)-.055:s*=12.92;let l=i;l<o&&(l=o),l<s&&(l=s),l>1&&(i/=l,o/=l,s/=l),i<0&&(i=0),o<0&&(o=0),s<0&&(s=0),e[0]=i,e[1]=o,e[2]=s}function EB(t,e){let[n,r,a]=t;n>.04045?n=((n+.055)/1.055)**2.4:n/=12.92,r>.04045?r=((r+.055)/1.055)**2.4:r/=12.92,a>.04045?a=((a+.055)/1.055)**2.4:a/=12.92,e[0]=n*.4124+r*.3576+a*.1805,e[1]=n*.2126+r*.7152+a*.0722,e[2]=n*.0193+r*.1192+a*.9505}function $u(t,e){const n=[0,0,0];EB(t,n),wB(n,e)}function t3(t,e){const n=[0,0,0];TB(t,n),bB(n,e)}function lg(t){return t[0]=1,t[1]=-1,t[2]=1,t[3]=-1,t[4]=1,t[5]=-1,t}function P2(t){return!(t[1]-t[0]<0)}function HSe(t,e,n){return n[0]=Math.min(t[0],e[0]),n[1]=Math.max(t[0],e[0]),n[2]=Math.min(t[1],e[1]),n[3]=Math.max(t[1],e[1]),n[4]=Math.min(t[2],e[2]),n[5]=Math.max(t[2],e[2]),n}function Rs(t,e,n){return t<e?e:t>n?n:t}function k9(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,0,0];return r[0]=Rs(t[0],e[0],n[0]),r[1]=Rs(t[1],e[1],n[1]),r[2]=Rs(t[2],e[2],n[2]),r}function qSe(t,e){let n=0;return e[0]!==e[1]&&(t<e[0]?n=e[0]:t>e[1]?n=e[1]:n=t,n=(n-e[0])/(e[1]-e[0])),n}const KSe=Dp("GetScalarTypeFittingRange"),QSe=Dp("GetAdjustedScalarRange");function XSe(t,e){if(!t||!e)return 0;for(let n=0;n<6;n+=2)if(t[n]<e[n]||t[n]>e[n+1]||t[n+1]<e[n]||t[n+1]>e[n+1])return 0;return 1}function YSe(t,e,n){if(!t||!e)return 0;for(let r=0;r<6;r+=2)if(t[r]+n[r/2]<e[r]||t[r]-n[r/2]>e[r+1]||t[r+1]+n[r/2]<e[r]||t[r+1]-n[r/2]>e[r+1])return 0;return 1}function ZSe(t,e,n){if(!t||!e||!n)return 0;for(let r=0;r<3;r++)if(t[r]+n[r]<e[2*r]||t[r]-n[r]>e[2*r+1])return 0;return 1}function JSe(t,e,n,r){const a=Qr(3),i=Qr(3),o=Qr(3),s=Qr(3),l=Qr(3),c=Qr(3);for(let x=0;x<3;++x)a[x]=t[x]-e[x],i[x]=e[x]-n[x],o[x]=n[x]-t[x],s[x]=-a[x],l[x]=-i[x],c[x]=-o[x];const f=fc(s),u=fc(l),d=fc(o),g=Qr(3);u0(a,i,g);const v=fc(g),m=f*u*d/(2*v),p=2*v*v,h=u*u*Wn(a,c)/p,y=d*d*Wn(s,i)/p,C=f*f*Wn(o,l)/p;for(let x=0;x<3;++x)r[x]=h*t[x]+y*e[x]+C*n[x];return m}const e3e=1/0,t3e=-1/0,DB=t=>!Number.isFinite(t),{isFinite:n3e,isNaN:U9}=Number,n3=U9;function Ic(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function r3e(t){let e=-1,n=-1;for(let r=0;r<t.length;r++){const a=Math.abs(t[r]);a>e&&(n=r,e=a)}return n}function OB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;const n=new Array(e),r=new Array(e);for(let i=0;i<e;++i)n[i]=i,r[i]=i;for(let i=e-1;i>0;i--){let o=-1/0,s=0,l=0;for(let c=0;c<=i;++c){const f=n[c];for(let u=0;u<=i;++u){const d=r[u],g=Math.abs(t[f+e*d]);g>o&&(o=g,s=c,l=u)}}[n[i],n[s]]=[n[s],n[i]],[r[i],r[l]]=[r[l],r[i]]}const a=new Array(e*e).fill(0);for(let i=0;i<e;++i){const o=n[i]+e*r[i];a[o]=t[o]<0?-1:1}return a}function RB(t){const e=Math.floor(t*255);return e>15?e.toString(16):`0${e.toString(16)}`}function a3e(t){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#"}${t.map(RB).join("")}`}function Th(t){return Math.round(t*255)}function i3e(t){return t.length===3?`rgb(${t.map(Th).join(", ")})`:`rgba(${Th(t[0]||0)}, ${Th(t[1]||0)}, ${Th(t[2]||0)}, ${t[3]||0})`}var Jo={Pi:iSe,ldexp:oSe,radiansFromDegrees:ma,degreesFromRadians:JS,round:sSe,floor:ow,ceil:lSe,ceilLog2:mSe,min:cSe,max:uSe,arrayMin:fSe,arrayMax:dSe,arrayRange:gSe,isPowerOfTwo:sm,nearestPowerOfTwo:Kl,factorial:vSe,binomial:pSe,beginCombination:hSe,nextCombination:SSe,randomSeed:ySe,getSeed:CSe,random:xSe,gaussian:TSe,add:e3,subtract:H0,multiplyScalar:uB,multiplyScalar2D:fB,multiplyAccumulate:_9,multiplyAccumulate2D:wSe,dot:Wn,outer:bSe,cross:u0,norm:fc,normalize:cf,perpendiculars:ESe,projectVector:DSe,projectVector2D:OSe,distance2BetweenPoints:Ys,angleBetweenVectors:RSe,gaussianAmplitude:ISe,gaussianWeight:ASe,dot2D:N9,outer2D:MSe,norm2D:dB,normalize2D:PSe,determinant2x2:pa,LUFactor3x3:LSe,LUSolve3x3:_Se,linearSolve3x3:NSe,multiply3x3_vect3:A2,multiply3x3_mat3:F9,multiplyMatrix:FSe,transpose3x3:jd,invert3x3:$Se,identity3x3:mB,identity:vB,isIdentity:VSe,isIdentity3x3:kSe,determinant3x3:Q5,quaternionToMatrix3x3:pB,areEquals:gB,areMatricesEqual:Op,roundNumber:M2,roundVector:$9,matrix3x3ToQuaternion:hB,multiplyQuaternion:USe,orthogonalize3x3:SB,diagonalize3x3:yB,singularValueDecomposition3x3:BSe,solveLinearSystem:CB,invertMatrix:xB,luFactorLinearSystem:sw,luSolveLinearSystem:lw,estimateMatrixCondition:GSe,jacobi:zSe,jacobiN:Rp,solveHomogeneousLeastSquares:V9,solveLeastSquares:WSe,hex2float:jSe,rgb2hsv:lm,hsv2rgb:Du,lab2xyz:TB,xyz2lab:wB,xyz2rgb:bB,rgb2xyz:EB,rgb2lab:$u,lab2rgb:t3,uninitializeBounds:lg,areBoundsInitialized:P2,computeBoundsFromPoints:HSe,clampValue:Rs,clampVector:k9,clampAndNormalizeValue:qSe,getScalarTypeFittingRange:KSe,getAdjustedScalarRange:QSe,extentIsWithinOtherExtent:XSe,boundsIsWithinOtherBounds:YSe,pointIsWithinBounds:ZSe,solve3PointCircle:JSe,inf:e3e,negInf:t3e,isInf:DB,isNan:U9,isNaN:U9,isFinite:n3e,createUninitializedBounds:Ic,getMajorAxisIndex:r3e,getSparseOrthogonalMatrix:OB,floatToHex2:RB,floatRGB2HexCode:a3e,float2CssRGBA:i3e};const{vtkErrorMacro:o3e}=Ni,{DefaultDataType:s3e}=tB,l3e=1e-6;function B9(t,e,n){const r=t.length;let a=Number.MAX_VALUE,i=-Number.MAX_VALUE,o,s;for(s=e;s<r;s+=n)if(!Number.isNaN(t[s])){a=t[s],i=a;break}for(;s<r;s+=n)o=t[s],o<a?a=o:o>i&&(i=o);return{min:a,max:i}}function c3e(){let t=Number.MAX_VALUE,e=-Number.MAX_VALUE,n=0,r=0;return{add(a){t>a&&(t=a),e<a&&(e=a),n++,r+=a},get(){return{min:t,max:e,count:n,sum:r,mean:r/n}},getRange(){return{min:t,max:e}}}}function IB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(e<0&&n>1){const a=t.length/n,i=new Float64Array(a);for(let o=0,s=0;o<a;++o){for(let l=s+n;s<l;++s)i[o]+=t[s]*t[s];i[o]**=.5}return B9(i,0,1)}return B9(t,e<0?0:e,n)}function dA(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=t||[];for(;n.length<=e;)n.push(null);return n}function cw(t){return Object.prototype.toString.call(t).slice(8,-1)}function u3e(t){const e=t.getNumberOfComponents();let n=0;const r=new Array(e);for(let a=0;a<t.getNumberOfTuples();++a){t.getTuple(a,r);const i=fc(r,e);i>n&&(n=i)}return n}const f3e={computeRange:IB,createRangeHelper:c3e,fastComputeRange:B9,getDataType:cw,getMaxNorm:u3e};function d3e(t,e){e.classHierarchy.push("vtkDataArray");function n(r){if(r<0)return!1;const a=t.getNumberOfComponents(),i=e.values.length/(a>0?a:1);if(r===i)return!0;if(r>i){const o=e.values;return e.values=og(e.dataType,(r+i)*a),e.values.set(o),!0}return e.size>r*a&&(e.size=r*a,t.dataChange()),!0}t.dataChange=()=>{e.ranges=null,t.modified()},t.resize=r=>{n(r);const a=r*t.getNumberOfComponents();return e.size!==a?(e.size=a,t.dataChange(),!0):!1},t.initialize=()=>{t.resize(0)},t.getElementComponentSize=()=>e.values.BYTES_PER_ELEMENT,t.getComponent=function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.values[r*e.numberOfComponents+a]},t.setComponent=(r,a,i)=>{i!==e.values[r*e.numberOfComponents+a]&&(e.values[r*e.numberOfComponents+a]=i,t.dataChange())},t.getValue=r=>{const a=r/e.numberOfComponents,i=r%e.numberOfComponents;return t.getComponent(a,i)},t.setValue=(r,a)=>{const i=r/e.numberOfComponents,o=r%e.numberOfComponents;t.setComponent(i,o,a)},t.getData=()=>e.size===e.values.length?e.values:e.values.subarray(0,e.size),t.getRange=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,a=r;a<0&&(a=e.numberOfComponents===1?0:e.numberOfComponents);let i=null;return e.ranges||(e.ranges=dA(e.ranges,e.numberOfComponents)),i=e.ranges[a],i?(e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple):(i=IB(t.getData(),r,e.numberOfComponents),e.ranges[a]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple)},t.setRange=(r,a)=>{e.ranges||(e.ranges=dA(e.ranges,e.numberOfComponents));const i={min:r.min,max:r.max};return e.ranges[a]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple},t.setTuple=(r,a)=>{const i=r*e.numberOfComponents;for(let o=0;o<e.numberOfComponents;o++)e.values[i+o]=a[o]},t.setTuples=(r,a)=>{let i=r*e.numberOfComponents;const o=Math.min(a.length,e.size-i);for(let s=0;s<o;)e.values[i++]=a[s++]},t.insertTuple=(r,a)=>(e.size<=r*e.numberOfComponents&&(e.size=(r+1)*e.numberOfComponents,n(r+1)),t.setTuple(r,a),r),t.insertTuples=(r,a)=>{const i=r+a.length/e.numberOfComponents;return e.size<i*e.numberOfComponents&&(e.size=i*e.numberOfComponents,n(i)),t.setTuples(r,a),i},t.insertNextTuple=r=>{const a=e.size/e.numberOfComponents;return t.insertTuple(a,r)},t.insertNextTuples=r=>{const a=e.size/e.numberOfComponents;return t.insertTuples(a,r)},t.findTuple=function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l3e;for(let i=0;i<e.size;i+=e.numberOfComponents)if(Math.abs(r[0]-e.values[i])<=a){let o=!0;for(let s=1;s<e.numberOfComponents;++s)if(Math.abs(r[s]-e.values[i+s])>a){o=!1;break}if(o)return i/e.numberOfComponents}return-1},t.getTuple=function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=e.numberOfComponents||1,o=r*i;switch(i){case 4:a[3]=e.values[o+3];case 3:a[2]=e.values[o+2];case 2:a[1]=e.values[o+1];case 1:a[0]=e.values[o];break;default:for(let s=i-1;s>=0;--s)a[s]=e.values[o+s]}return a},t.getTuples=(r,a)=>{const i=(r??0)*e.numberOfComponents,o=(a??t.getNumberOfTuples())*e.numberOfComponents,s=t.getData().subarray(i,o);return s.length>0?s:null},t.getTupleLocation=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*e.numberOfComponents},t.getNumberOfComponents=()=>e.numberOfComponents,t.getNumberOfValues=()=>e.size,t.getNumberOfTuples=()=>e.size/e.numberOfComponents,t.getDataType=()=>e.dataType,t.newClone=()=>MB({empty:!0,name:e.name,dataType:e.dataType,numberOfComponents:e.numberOfComponents}),t.getName=()=>(e.name||(t.modified(),e.name=`vtkDataArray${t.getMTime()}`),e.name),t.setData=(r,a)=>{e.values=r,e.size=r.length,e.dataType=cw(r),a&&(e.numberOfComponents=a),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),t.dataChange()},t.getState=()=>{if(e.deleted)return null;const r={...e,vtkClass:t.getClassName()};r.values=Array.from(r.values),delete r.buffer,Object.keys(r).forEach(i=>{r[i]||delete r[i]});const a={};return Object.keys(r).sort().forEach(i=>{a[i]=r[i]}),a.mtime&&delete a.mtime,a},t.deepCopy=r=>{const a=t.getDataType(),i=e.values;t.shallowCopy(r),(i==null?void 0:i.length)>=r.getNumberOfValues()&&a===r.getDataType()?(i.set(r.getData()),e.values=i,t.dataChange()):t.setData(r.getData().slice())},t.interpolateTuple=(r,a,i,o,s,l)=>{const c=e.numberOfComponents||1;(c!==a.getNumberOfComponents()||c!==o.getNumberOfComponents())&&o3e("numberOfComponents must match");const f=a.getTuple(i),u=o.getTuple(s),d=[];switch(d.length=c,c){case 4:d[3]=f[3]+(u[3]-f[3])*l;case 3:d[2]=f[2]+(u[2]-f[2])*l;case 2:d[1]=f[1]+(u[1]-f[1])*l;case 1:d[0]=f[0]+(u[0]-f[0])*l;break;default:for(let g=0;g<c;g++)d[g]=f[g]+(u[g]-f[g])*l}return t.insertTuple(r,d)}}const g3e={name:"",numberOfComponents:1,dataType:s3e,rangeTuple:[0,0]};function AB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,g3e,n),Array.isArray(n.values)&&n.dataType===void 0&&console.warn("vtkDataArray.newInstance: no dataType provided, converting to Float32Array"),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");if(e.values?Array.isArray(e.values)&&(e.values=q5(e.dataType,e.values)):e.values=og(e.dataType,e.size),e.values&&(e.size=e.size??e.values.length,e.dataType=cw(e.values)),ea(t,e),wp(t,e,["name","numberOfComponents"]),e.size%e.numberOfComponents!==0)throw new RangeError("model.size is not a multiple of model.numberOfComponents");d3e(t,e)}const MB=Vr(AB,"vtkDataArray");var Bn={newInstance:MB,extend:AB,...f3e,...tB};const{vtkErrorMacro:m3e}=ne,v3e=["Build","Render"];function p3e(t,e){e.classHierarchy.push("vtkViewNode"),t.build=r=>{},t.render=r=>{},t.traverse=r=>{const a=r.getTraverseOperation(),i=t[a];if(i){i(r);return}t.apply(r,!0);for(let o=0;o<e.children.length;o++)e.children[o].traverse(r);t.apply(r,!1)},t.apply=(r,a)=>{const i=t[r.getOperation()];i&&i(a,r)},t.getViewNodeFor=r=>{if(e.renderable===r)return t;for(let a=0;a<e.children.length;++a){const o=e.children[a].getViewNodeFor(r);if(o)return o}},t.getFirstAncestorOfType=r=>e._parent?e._parent.isA(r)?e._parent:e._parent.getFirstAncestorOfType(r):null,t.getLastAncestorOfType=r=>{if(!e._parent)return null;const a=e._parent.getLastAncestorOfType(r);return a||(e._parent.isA(r)?e._parent:null)},t.addMissingNode=r=>{if(!r)return;const a=e._renderableChildMap.get(r);if(a!==void 0)return a.setVisited(!0),a;const i=t.createViewNode(r);if(i)return i.setParent(t),i.setVisited(!0),e._renderableChildMap.set(r,i),e.children.push(i),i},t.addMissingNodes=r=>{if(!(!r||!r.length))for(let a=0;a<r.length;++a){const i=r[a];t.addMissingNode(i)}},t.addMissingChildren=r=>{if(!(!r||!r.length))for(let a=0;a<r.length;++a){const i=r[a];if(e.children.indexOf(i)===-1){i.setParent(t),e.children.push(i);const s=i.getRenderable();s&&e._renderableChildMap.set(s,i)}i.setVisited(!0)}},t.removeNode=r=>{const a=e.children.findIndex(o=>o===r);if(a<0)return!1;const i=r.getRenderable();return i&&e._renderableChildMap.delete(i),r.delete(),e.children.splice(a,1),!0},t.prepareNodes=()=>{for(let r=0;r<e.children.length;++r)e.children[r].setVisited(!1)},t.setVisited=r=>{e.visited=r},t.removeUnusedNodes=()=>{let r=0;for(let a=0;a<e.children.length;++a){const i=e.children[a];if(i.getVisited())e.children[r++]=i,i.setVisited(!1);else{const s=i.getRenderable();s&&e._renderableChildMap.delete(s),i.delete()}}e.children.length=r},t.createViewNode=r=>{if(!e.myFactory)return m3e("Cannot create view nodes without my own factory"),null;const a=e.myFactory.createNode(r);return a&&a.setRenderable(r),a};const n=t.delete;t.delete=()=>{for(let r=0;r<e.children.length;r++)e.children[r].delete();n()}}const h3e={renderable:null,myFactory:null,children:[],visited:!1};function PB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,h3e,n),ne.obj(t,e),ne.event(t,e,"event"),e._renderableChildMap=new Map,ne.get(t,e,["visited"]),ne.setGet(t,e,["_parent","renderable","myFactory"]),ne.getArray(t,e,["children"]),ne.moveToProtected(t,e,["parent"]),p3e(t,e)}const S3e=ne.newInstance(PB,"vtkViewNode");var Va={newInstance:S3e,extend:PB,PASS_TYPES:v3e};function y3e(t,e){e.overrides||(e.overrides={}),e.classHierarchy.push("vtkViewNodeFactory"),t.createNode=n=>{if(n.isDeleted())return null;let r=0,a=n.getClassName(r++),i=!1;const o=Object.keys(e.overrides);for(;a&&!i;)o.indexOf(a)!==-1?i=!0:a=n.getClassName(r++);if(!i)return null;const s=e.overrides[a]();return s.setMyFactory(t),s}}const C3e={};function LB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,C3e,n),ne.obj(t,e),y3e(t,e)}const x3e=ne.newInstance(LB,"vtkViewNodeFactory");var uw={newInstance:x3e,extend:LB};const _B=Object.create(null);function di(t,e){_B[t]=e}function T3e(t,e){e.classHierarchy.push("vtkOpenGLViewNodeFactory")}const w3e={};function NB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,w3e,n),e.overrides=_B,uw.extend(t,e,n),T3e(t,e)}const b3e=ne.newInstance(NB,"vtkOpenGLViewNodeFactory");var E3e={newInstance:b3e,extend:NB};function D3e(){try{const r=new Int16Array([0,32767]),a=[1,1],i=document.createElement("canvas");i.width=4,i.height=4;const o=i.getContext("webgl2");if(!o)return!1;const s=o.getExtension("EXT_texture_norm16");if(!s)return!1;const l=`#version 300 es
    void main() {
      gl_PointSize = ${4 .toFixed(1)};
      gl_Position = vec4(0, 0, 0, 1);
    }
  `,c=`#version 300 es
    precision highp float;
    precision highp int;
    precision highp sampler2D;

    uniform sampler2D u_image;

    out vec4 color;

    void main() {
        vec4 intColor = texture(u_image, gl_PointCoord.xy);
        color = vec4(vec3(intColor.rrr), 1);
    }
    `,f=o.createShader(o.VERTEX_SHADER);if(o.shaderSource(f,l),o.compileShader(f),!o.getShaderParameter(f,o.COMPILE_STATUS))return!1;const u=o.createShader(o.FRAGMENT_SHADER);if(o.shaderSource(u,c),o.compileShader(u),!o.getShaderParameter(u,o.COMPILE_STATUS))return!1;const d=o.createProgram();if(o.attachShader(d,f),o.attachShader(d,u),o.linkProgram(d),!o.getProgramParameter(d,o.LINK_STATUS))return!1;const g=o.createTexture();o.bindTexture(o.TEXTURE_2D,g),o.texImage2D(o.TEXTURE_2D,0,s.R16_SNORM_EXT,2,1,0,o.RED,o.SHORT,r),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.useProgram(d),o.drawArrays(o.POINTS,0,1);const v=new Uint8Array(4);o.readPixels(a[0],a[1],1,1,o.RGBA,o.UNSIGNED_BYTE,v);const[m,p,h]=v,y=o.getExtension("WEBGL_lose_context");return y&&y.loseContext(),m===p&&p===h&&m!==0}catch{return!1}}let v8;function O3e(){return v8===void 0&&(v8=D3e()),v8}const{Wrap:_0,Filter:Ya}=iB,{VtkDataTypes:vr}=Bn,{vtkDebugMacro:p8,vtkErrorMacro:Wf,vtkWarningMacro:gA}=Ni,{toHalf:R3e}=ad;function I3e(t,e){e.classHierarchy.push("vtkOpenGLTexture"),t.render=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(c?e._openGLRenderWindow=c:(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getLastAncestorOfType("vtkOpenGLRenderWindow")),e.context=e._openGLRenderWindow.getContext(),e.renderable.getInterpolate()?(e.generateMipmap?t.setMinificationFilter(Ya.LINEAR_MIPMAP_LINEAR):t.setMinificationFilter(Ya.LINEAR),t.setMagnificationFilter(Ya.LINEAR)):(t.setMinificationFilter(Ya.NEAREST),t.setMagnificationFilter(Ya.NEAREST)),e.renderable.getRepeat()&&(t.setWrapR(_0.REPEAT),t.setWrapS(_0.REPEAT),t.setWrapT(_0.REPEAT)),e.renderable.getInputData()&&e.renderable.setImage(null),!e.handle||e.renderable.getMTime()>e.textureBuildTime.getMTime()){if(e.renderable.getImage()!==null&&(e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(Ya.LINEAR_MIPMAP_LINEAR)),e.renderable.getImage()&&e.renderable.getImageLoaded()&&(t.create2DFromImage(e.renderable.getImage()),t.activate(),t.sendParameters(),e.textureBuildTime.modified())),e.renderable.getCanvas()!==null){e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(Ya.LINEAR_MIPMAP_LINEAR));const u=e.renderable.getCanvas();t.create2DFromRaw(u.width,u.height,4,vr.UNSIGNED_CHAR,u,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}if(e.renderable.getJsImageData()!==null){const u=e.renderable.getJsImageData();e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(Ya.LINEAR_MIPMAP_LINEAR)),t.create2DFromRaw(u.width,u.height,4,vr.UNSIGNED_CHAR,u.data,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}const f=e.renderable.getInputData(0);if(f&&f.getPointData().getScalars()){const u=f.getExtent(),d=f.getPointData().getScalars(),g=[];for(let v=0;v<e.renderable.getNumberOfInputPorts();++v){const m=e.renderable.getInputData(v),p=m?m.getPointData().getScalars().getData():null;p&&g.push(p)}e.renderable.getInterpolate()&&d.getNumberOfComponents()===4&&(e.generateMipmap=!0,t.setMinificationFilter(Ya.LINEAR_MIPMAP_LINEAR)),g.length%6===0?t.createCubeFromRaw(u[1]-u[0]+1,u[3]-u[2]+1,d.getNumberOfComponents(),d.getDataType(),g):t.create2DFromRaw(u[1]-u[0]+1,u[3]-u[2]+1,d.getNumberOfComponents(),d.getDataType(),d.getData()),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}}e.handle&&t.activate()};const n=()=>{if(!((e.minificationFilter===Ya.LINEAR||e.magnificationFilter===Ya.LINEAR)&&!O3e()))return e.oglNorm16Ext};t.destroyTexture=()=>{t.deactivate(),e.context&&e.handle&&e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.components=0,e.width=0,e.height=0,e.depth=0,t.resetFormatAndType()},t.createTexture=()=>{e.handle||(e.handle=e.context.createTexture(),e.target&&(e.context.bindTexture(e.target,e.handle),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.bindTexture(e.target,null)))},t.getTextureUnit=()=>e._openGLRenderWindow?e._openGLRenderWindow.getTextureUnitForTexture(t):-1,t.activate=()=>{e._openGLRenderWindow.activateTexture(t),t.bind()},t.deactivate=()=>{e._openGLRenderWindow&&e._openGLRenderWindow.deactivateTexture(t)},t.releaseGraphicsResources=c=>{c&&e.handle&&(c.activateTexture(t),c.deactivateTexture(t),e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.internalFormat=0,e.format=0,e.openGLDataType=0,e.components=0,e.width=0,e.height=0,e.depth=0,e.allocatedGPUMemoryInBytes=0),e.shaderProgram&&(e.shaderProgram.releaseGraphicsResources(c),e.shaderProgram=null)},t.bind=()=>{e.context.bindTexture(e.target,e.handle),e.autoParameters&&t.getMTime()>e.sendParametersTime.getMTime()&&t.sendParameters()},t.isBound=()=>{let c=!1;if(e.context&&e.handle){let f=0;switch(e.target){case e.context.TEXTURE_2D:f=e.context.TEXTURE_BINDING_2D;break;default:gA("impossible case");break}c=e.context.getIntegerv(f)===e.handle}return c},t.sendParameters=()=>{e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e._openGLRenderWindow.getWebgl2()&&(e.context.texParameteri(e.target,e.context.TEXTURE_BASE_LEVEL,e.baseLevel),e.context.texParameteri(e.target,e.context.TEXTURE_MAX_LEVEL,e.maxLevel)),e.sendParametersTime.modified()},t.getInternalFormat=(c,f)=>(e._forceInternalFormat||(e.internalFormat=t.getDefaultInternalFormat(c,f)),e.internalFormat||p8(`Unable to find suitable internal format for T=${c} NC= ${f}`),[e.context.R32F,e.context.RG32F,e.context.RGB32F,e.context.RGBA32F].includes(e.internalFormat)&&!e.context.getExtension("OES_texture_float_linear")&&gA("Failed to load OES_texture_float_linear. Texture filtering is not available for *32F internal formats."),e.internalFormat),t.getDefaultInternalFormat=(c,f)=>{let u=0;return u=e._openGLRenderWindow.getDefaultTextureInternalFormat(c,f,n(),t.useHalfFloat()),u||(u||(p8("Unsupported internal texture type!"),p8(`Unable to find suitable internal format for T=${c} NC= ${f}`)),u)},t.useHalfFloat=()=>e.enableUseHalfFloat&&e.canUseHalfFloat,t.setInternalFormat=c=>{e._forceInternalFormat=!0,c!==e.internalFormat&&(e.internalFormat=c,t.modified())},t.getFormat=(c,f)=>(e.format=t.getDefaultFormat(c,f),e.format),t.getDefaultFormat=(c,f)=>{if(e._openGLRenderWindow.getWebgl2())switch(f){case 1:return e.context.RED;case 2:return e.context.RG;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}else switch(f){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}},t.resetFormatAndType=()=>{e.format=0,e.internalFormat=0,e._forceInternalFormat=!1,e.openGLDataType=0},t.getDefaultDataType=c=>{const f=t.useHalfFloat();if(e._openGLRenderWindow.getWebgl2())switch(c){case vr.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case(n()&&!f&&vr.SHORT):return e.context.SHORT;case(n()&&!f&&vr.UNSIGNED_SHORT):return e.context.UNSIGNED_SHORT;case(f&&vr.SHORT):return e.context.HALF_FLOAT;case(f&&vr.UNSIGNED_SHORT):return e.context.HALF_FLOAT;case vr.FLOAT:case vr.VOID:default:return e.context.FLOAT}switch(c){case vr.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case vr.FLOAT:case vr.VOID:default:if(e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))return e.context.FLOAT;{const u=e.context.getExtension("OES_texture_half_float");if(u&&e.context.getExtension("OES_texture_half_float_linear"))return u.HALF_FLOAT_OES}return e.context.UNSIGNED_BYTE}},t.getOpenGLDataType=function(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(!e.openGLDataType||f)&&(e.openGLDataType=t.getDefaultDataType(c)),e.openGLDataType},t.getShiftAndScale=()=>{let c=0,f=1;switch(e.openGLDataType){case e.context.BYTE:f=127.5,c=f-128;break;case e.context.UNSIGNED_BYTE:f=255,c=0;break;case e.context.SHORT:f=32767.5,c=f-32768;break;case e.context.UNSIGNED_SHORT:f=65536,c=0;break;case e.context.INT:f=21474836475e-1,c=f-2147483648;break;case e.context.UNSIGNED_INT:f=4294967295,c=0;break;case e.context.FLOAT:}return{shift:c,scale:f}},t.getOpenGLFilterMode=c=>{switch(c){case Ya.NEAREST:return e.context.NEAREST;case Ya.LINEAR:return e.context.LINEAR;case Ya.NEAREST_MIPMAP_NEAREST:return e.context.NEAREST_MIPMAP_NEAREST;case Ya.NEAREST_MIPMAP_LINEAR:return e.context.NEAREST_MIPMAP_LINEAR;case Ya.LINEAR_MIPMAP_NEAREST:return e.context.LINEAR_MIPMAP_NEAREST;case Ya.LINEAR_MIPMAP_LINEAR:return e.context.LINEAR_MIPMAP_LINEAR;default:return e.context.NEAREST}},t.getOpenGLWrapMode=c=>{switch(c){case _0.CLAMP_TO_EDGE:return e.context.CLAMP_TO_EDGE;case _0.REPEAT:return e.context.REPEAT;case _0.MIRRORED_REPEAT:return e.context.MIRRORED_REPEAT;default:return e.context.CLAMP_TO_EDGE}},t.updateArrayDataTypeForGL=function(c,f){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const d=[];let g=e.width*e.height*e.components;if(u&&(g*=e.depth),c!==vr.FLOAT&&e.openGLDataType===e.context.FLOAT)for(let m=0;m<f.length;m++)if(f[m]){const p=f[m].length>g?f[m].subarray(0,g):f[m];d.push(new Float32Array(p))}else d.push(null);if(c!==vr.UNSIGNED_CHAR&&e.openGLDataType===e.context.UNSIGNED_BYTE)for(let m=0;m<f.length;m++)if(f[m]){const p=f[m].length>g?f[m].subarray(0,g):f[m];d.push(new Uint8Array(p))}else d.push(null);let v=!1;if(e._openGLRenderWindow.getWebgl2())v=e.openGLDataType===e.context.HALF_FLOAT;else{const m=e.context.getExtension("OES_texture_half_float");v=m&&e.openGLDataType===m.HALF_FLOAT_OES}if(v)for(let m=0;m<f.length;m++)if(f[m]){const p=new Uint16Array(g),h=f[m];for(let y=0;y<g;y++)p[y]=R3e(h[y]);d.push(p)}else d.push(null);if(d.length===0)for(let m=0;m<f.length;m++)d.push(f[m]);return d};function r(c){if(e._openGLRenderWindow.getWebgl2())return c;const f=[],u=e.width,d=e.height,g=e.components;if(c&&(!sm(u)||!sm(d))){const v=e.context.getExtension("OES_texture_half_float"),m=Kl(u),p=Kl(d),h=m*p*e.components;for(let y=0;y<c.length;y++)if(c[y]!==null){let C=null;const x=d/p,T=u/m;let w=!1;e.openGLDataType===e.context.FLOAT?C=new Float32Array(h):v&&e.openGLDataType===v.HALF_FLOAT_OES?(C=new Uint16Array(h),w=!0):C=new Uint8Array(h);for(let b=0;b<p;b++){const E=b*m*g,O=b*x;let D=Math.floor(O),R=Math.ceil(O);R>=d&&(R=d-1);const I=O-D,M=1-I;D=D*u*g,R=R*u*g;for(let A=0;A<m;A++){const B=A*g,L=A*T;let F=Math.floor(L),_=Math.ceil(L);_>=u&&(_=u-1);const P=L-F;F*=g,_*=g;for(let N=0;N<g;N++)w?C[E+B+N]=ad.toHalf(ad.fromHalf(c[y][D+F+N])*M*(1-P)+ad.fromHalf(c[y][D+_+N])*M*P+ad.fromHalf(c[y][R+F+N])*I*(1-P)+ad.fromHalf(c[y][R+_+N])*I*P):C[E+B+N]=c[y][D+F+N]*M*(1-P)+c[y][D+_+N]*M*P+c[y][R+F+N]*I*(1-P)+c[y][R+_+N]*I*P}}f.push(C),e.width=m,e.height=p}else f.push(null)}if(f.length===0)for(let v=0;v<c.length;v++)f.push(c[v]);return f}function a(c){var f;return e._openGLRenderWindow?e.resizable||(f=e.renderable)!=null&&f.getResizable()?!1:e._openGLRenderWindow.getWebgl2()?!(e._openGLRenderWindow.getGLInformations().RENDERER.value.match(/WebKit/gi)&&navigator.platform.match(/Mac/gi)&&n()&&(c===vr.UNSIGNED_SHORT||c===vr.SHORT)):!1:!1}t.create2DFromRaw=function(c,f,u,d,g){let v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(t.getOpenGLDataType(d,!0),t.getInternalFormat(d,u),t.getFormat(d,u),!e.internalFormat||!e.format||!e.openGLDataType)return Wf("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=u,e.width=c,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();const m=[g],p=t.updateArrayDataTypeForGL(d,m),h=r(p);return e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,v),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),a(d)?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),h[0]!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,h[0])):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,h[0]),e.generateMipmap&&e.context.generateMipmap(e.target),v&&e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,!1),e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*u*e._openGLRenderWindow.getDefaultTextureByteSize(d,n(),t.useHalfFloat()),t.deactivate(),!0},t.createCubeFromRaw=(c,f,u,d,g)=>{if(t.getOpenGLDataType(d),t.getInternalFormat(d,u),t.getFormat(d,u),!e.internalFormat||!e.format||!e.openGLDataType)return Wf("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_CUBE_MAP,e.components=u,e.width=c,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),e.maxLevel=g.length/6-1,t.createTexture(),t.bind();const v=t.updateArrayDataTypeForGL(d,g),m=r(v),p=[];let h=e.width,y=e.height;for(let C=0;C<m.length;C++){C%6===0&&C!==0&&(h/=2,y/=2),p[C]=og(d,y*h*e.components);for(let x=0;x<y;++x){const T=x*h*e.components,w=(y-x-1)*h*e.components;p[C].set(m[C].slice(w,w+h*e.components),T)}}e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),a(d)&&e.context.texStorage2D(e.target,6,e.internalFormat,e.width,e.height);for(let C=0;C<6;C++){let x=0,T=e.width,w=e.height;for(;T>=1&&w>=1;){let b=null;x<=e.maxLevel&&(b=p[6*x+C]),a(d)?b!=null&&e.context.texSubImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+C,x,0,0,T,w,e.format,e.openGLDataType,b):e.context.texImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+C,x,e.internalFormat,T,w,0,e.format,e.openGLDataType,b),x++,T/=2,w/=2}}return e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*u*e._openGLRenderWindow.getDefaultTextureByteSize(d,n(),t.useHalfFloat()),t.deactivate(),!0},t.createDepthFromRaw=(c,f,u,d)=>(t.getOpenGLDataType(u),e.format=e.context.DEPTH_COMPONENT,e._openGLRenderWindow.getWebgl2()?u===vr.FLOAT?e.internalFormat=e.context.DEPTH_COMPONENT32F:e.internalFormat=e.context.DEPTH_COMPONENT16:e.internalFormat=e.context.DEPTH_COMPONENT,!e.internalFormat||!e.format||!e.openGLDataType?(Wf("Failed to determine texture parameters."),!1):(e.target=e.context.TEXTURE_2D,e.components=1,e.width=c,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),a(u)?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),d!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,d)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,d),e.generateMipmap&&e.context.generateMipmap(e.target),e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*e.components*e._openGLRenderWindow.getDefaultTextureByteSize(u,n(),t.useHalfFloat()),t.deactivate(),!0)),t.create2DFromImage=c=>{if(t.getOpenGLDataType(vr.UNSIGNED_CHAR),t.getInternalFormat(vr.UNSIGNED_CHAR,4),t.getFormat(vr.UNSIGNED_CHAR,4),!e.internalFormat||!e.format||!e.openGLDataType)return Wf("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=4,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);const f=!e._openGLRenderWindow.getWebgl2()&&(!sm(c.width)||!sm(c.height)),u=document.createElement("canvas");u.width=f?Kl(c.width):c.width,u.height=f?Kl(c.height):c.height,e.width=u.width,e.height=u.height;const d=u.getContext("2d");d.translate(0,u.height),d.scale(1,-1),d.drawImage(c,0,0,c.width,c.height,0,0,u.width,u.height);const g=u;return a(vr.UNSIGNED_CHAR)?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),g!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,g)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,g),e.generateMipmap&&e.context.generateMipmap(e.target),e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*e.components*e._openGLRenderWindow.getDefaultTextureByteSize(vr.UNSIGNED_CHAR,n(),t.useHalfFloat()),t.deactivate(),!0};function i(c,f,u){const d=new Array(u),g=new Array(u);for(let v=0;v<u;++v)d[v]=c[v],g[v]=f[v]-c[v]||1;return{scale:g,offset:d}}function o(c,f){for(let u=0;u<c.length;u++){const d=c[u],g=f[u]+d;if(d<-2048||d>2048||g<-2048||g>2048)return!1}return!0}function s(c,f,u,d){t.getOpenGLDataType(c);const g=o(f,u)||d;let v=!1;if(e._openGLRenderWindow.getWebgl2())v=e.openGLDataType===e.context.FLOAT&&e.context.getExtension("OES_texture_float_linear")===null&&g||e.openGLDataType===e.context.HALF_FLOAT;else{const m=e.context.getExtension("OES_texture_half_float");v=m&&e.openGLDataType===m.HALF_FLOAT_OES}e.canUseHalfFloat=v&&g}function l(c,f){const u=c.getNumberOfComponents(),d=c.getDataType(),g=c.getData(),v=new Array(u),m=new Array(u);for(let h=0;h<u;++h){const[y,C]=c.getRange(h);v[h]=y,m[h]=C}const p=i(v,m,u);return s(d,p.offset,p.scale,f),t.useHalfFloat()||t.getOpenGLDataType(d,!0),{numComps:u,dataType:d,data:g,scaleOffsets:p}}t.create2DFilterableFromRaw=function(c,f,u,d,g){let v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;return t.create2DFilterableFromDataArray(c,f,Bn.newInstance({numberOfComponents:u,dataType:d,values:g}),v)},t.create2DFilterableFromDataArray=function(c,f,u){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{numComps:g,dataType:v,data:m}=l(u,d);t.create2DFromRaw(c,f,g,v,m)},t.updateVolumeInfoForGL=(c,f)=>{var g,v;let u=!1;const d=t.useHalfFloat();(!((g=e.volumeInfo)!=null&&g.scale)||!((v=e.volumeInfo)!=null&&v.offset))&&(e.volumeInfo={scale:new Array(f),offset:new Array(f)});for(let m=0;m<f;++m)e.volumeInfo.scale[m]=1,e.volumeInfo.offset[m]=0;if(n()&&!d&&c===vr.SHORT){for(let m=0;m<f;++m)e.volumeInfo.scale[m]=32767;u=!0}if(n()&&!d&&c===vr.UNSIGNED_SHORT){for(let m=0;m<f;++m)e.volumeInfo.scale[m]=65535;u=!0}if(c===vr.UNSIGNED_CHAR){for(let m=0;m<f;++m)e.volumeInfo.scale[m]=255;u=!0}return(c===vr.FLOAT||d&&(c===vr.SHORT||c===vr.UNSIGNED_SHORT))&&(u=!0),u},t.create3DFromRaw=(c,f,u,d,g,v)=>{let m=g,p=v;if(!t.updateVolumeInfoForGL(m,d)&&p){const T=c*f*u,w=structuredClone(e.volumeInfo),b=new Float32Array(T*d);e.volumeInfo.offset=w.offset,e.volumeInfo.scale=w.scale;let E=0;const O=w.scale.map(D=>1/D);for(let D=0;D<T;D++)for(let R=0;R<d;R++)b[E]=(p[E]-w.offset[R])*O[R],E++;m=vr.FLOAT,p=b}if(t.getOpenGLDataType(m),t.getInternalFormat(m,d),t.getFormat(m,d),!e.internalFormat||!e.format||!e.openGLDataType)return Wf("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_3D,e.components=d,e.width=c,e.height=f,e.depth=u,e.numberOfDimensions=3,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();const h=[p],C=t.updateArrayDataTypeForGL(m,h,!0),x=r(C);return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),a(m)?(e.context.texStorage3D(e.target,1,e.internalFormat,e.width,e.height,e.depth),x[0]!=null&&e.context.texSubImage3D(e.target,0,0,0,0,e.width,e.height,e.depth,e.format,e.openGLDataType,x[0])):e.context.texImage3D(e.target,0,e.internalFormat,e.width,e.height,e.depth,0,e.format,e.openGLDataType,x[0]),e.generateMipmap&&e.context.generateMipmap(e.target),e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*e.components*e._openGLRenderWindow.getDefaultTextureByteSize(m,n(),t.useHalfFloat()),t.deactivate(),!0},t.create3DFilterableFromRaw=function(c,f,u,d,g,v){let m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return t.create3DFilterableFromDataArray(c,f,u,Bn.newInstance({numberOfComponents:d,dataType:g,values:v}),m)},t.create3DFilterableFromDataArray=function(c,f,u,d){let g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const{numComps:v,dataType:m,data:p,scaleOffsets:h}=l(d,g),y=[],C=[];for(let N=0;N<v;++N)y[N]=0,C[N]=1;if(e.volumeInfo={scale:C,offset:y,dataComputedScale:h.scale,dataComputedOffset:h.offset,width:c,height:f,depth:u},e._openGLRenderWindow.getWebgl2())return t.create3DFromRaw(c,f,u,v,m,p);const x=c*f*u,T=structuredClone(h);let w=(N,k,H,K,te)=>{N[k]=H},b=vr.UNSIGNED_CHAR;if(m===vr.UNSIGNED_CHAR)for(let N=0;N<v;++N)T.offset[N]=0,T.scale[N]=255;else e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear")?(b=vr.FLOAT,w=(N,k,H,K,te)=>{N[k]=(H-K)/te}):(b=vr.UNSIGNED_CHAR,w=(N,k,H,K,te)=>{N[k]=255*(H-K)/te});if(t.getOpenGLDataType(b),t.getInternalFormat(b,v),t.getFormat(b,v),!e.internalFormat||!e.format||!e.openGLDataType)return Wf("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=v,e.depth=1,e.numberOfDimensions=2;let E=e.context.getParameter(e.context.MAX_TEXTURE_SIZE);E>4096&&(b===vr.FLOAT||v>=3)&&(E=4096);let O=1,D=1;x>E*E&&(O=Math.ceil(Math.sqrt(x/(E*E))),D=O);let R=Math.sqrt(x)/O;R=Kl(R);const I=Math.floor(R*O/c),M=Math.ceil(u/I),A=Kl(f*M/D);e.width=R,e.height=A,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.volumeInfo.xreps=I,e.volumeInfo.yreps=M,e.volumeInfo.xstride=O,e.volumeInfo.ystride=D,e.volumeInfo.offset=T.offset,e.volumeInfo.scale=T.scale;let B;const L=R*A*v;b===vr.FLOAT?B=new Float32Array(L):B=new Uint8Array(L);let F=0;const _=Math.floor(c/O),P=Math.floor(f/D);for(let N=0;N<M;N++){const k=Math.min(I,u-N*I),H=v*(e.width-k*Math.floor(c/O));for(let K=0;K<P;K++){for(let te=0;te<k;te++){const se=v*((N*I+te)*c*f+D*K*c);for(let pe=0;pe<_;pe++)for(let ve=0;ve<v;ve++)w(B,F,p[se+O*pe*v+ve],T.offset[ve],T.scale[ve]),F++}F+=H}}return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),a(b)?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),B!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,B)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,B),t.deactivate(),!0},t.setOpenGLRenderWindow=c=>{e._openGLRenderWindow!==c&&(t.releaseGraphicsResources(),e._openGLRenderWindow=c,e.context=null,c&&(e.context=e._openGLRenderWindow.getContext()))},t.getMaximumTextureSize=c=>c&&c.isCurrent()?c.getIntegerv(c.MAX_TEXTURE_SIZE):-1,t.enableUseHalfFloat=c=>{e.enableUseHalfFloat=c}}const A3e={_openGLRenderWindow:null,_forceInternalFormat:!1,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:_0.CLAMP_TO_EDGE,wrapT:_0.CLAMP_TO_EDGE,wrapR:_0.CLAMP_TO_EDGE,minificationFilter:Ya.NEAREST,magnificationFilter:Ya.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1,oglNorm16Ext:null,allocatedGPUMemoryInBytes:0,enableUseHalfFloat:!0,canUseHalfFloat:!1};function FB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,A3e,n),Va.extend(t,e,n),e.sendParametersTime={},ea(e.sendParametersTime,{mtime:0}),e.textureBuildTime={},ea(e.textureBuildTime,{mtime:0}),wp(t,e,["format","openGLDataType"]),Ka(t,e,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap","oglNorm16Ext"]),Zi(t,e,["width","height","volumeInfo","components","handle","target","allocatedGPUMemoryInBytes"]),bp(t,e,["openGLRenderWindow"]),I3e(t,e)}const $B=Vr(FB,"vtkOpenGLTexture");var Zr={newInstance:$B,extend:FB,...iB};di("vtkTexture",$B);function M3e(t,e){e.classHierarchy.push("vtkFramebuffer"),t.getBothMode=()=>e.context.FRAMEBUFFER,t.saveCurrentBindingsAndBuffers=n=>{const r=typeof n<"u"?n:t.getBothMode();t.saveCurrentBindings(r),t.saveCurrentBuffers(r)},t.saveCurrentBindings=n=>{if(!e.context){Yn("you must set the OpenGLRenderWindow before calling saveCurrentBindings");return}const r=e.context;e.previousDrawBinding=r.getParameter(e.context.FRAMEBUFFER_BINDING),e.previousActiveFramebuffer=e._openGLRenderWindow.getActiveFramebuffer()},t.saveCurrentBuffers=n=>{},t.restorePreviousBindingsAndBuffers=n=>{const r=typeof n<"u"?n:t.getBothMode();t.restorePreviousBindings(r),t.restorePreviousBuffers(r)},t.restorePreviousBindings=n=>{if(!e.context){Yn("you must set the OpenGLRenderWindow before calling restorePreviousBindings");return}const r=e.context;r.bindFramebuffer(r.FRAMEBUFFER,e.previousDrawBinding),e._openGLRenderWindow.setActiveFramebuffer(e.previousActiveFramebuffer)},t.restorePreviousBuffers=n=>{},t.bind=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;r===null&&(r=e.context.FRAMEBUFFER),e.context.bindFramebuffer(r,e.glFramebuffer);for(let a=0;a<e.colorBuffers.length;a++)e.colorBuffers[a].bind();e._openGLRenderWindow.setActiveFramebuffer(t)},t.create=(n,r)=>{if(!e.context){Yn("you must set the OpenGLRenderWindow before calling create");return}e.glFramebuffer=e.context.createFramebuffer(),e.glFramebuffer.width=n,e.glFramebuffer.height=r},t.setColorBuffer=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const a=e.context;if(!a){Yn("you must set the OpenGLRenderWindow before calling setColorBuffer");return}let i=a.COLOR_ATTACHMENT0;if(r>0)if(e._openGLRenderWindow.getWebgl2())i+=r;else{Yn("Using multiple framebuffer attachments requires WebGL 2");return}e.colorBuffers[r]=n,a.framebufferTexture2D(a.FRAMEBUFFER,i,a.TEXTURE_2D,n.getHandle(),0)},t.removeColorBuffer=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const r=e.context;if(!r){Yn("you must set the OpenGLRenderWindow before calling removeColorBuffer");return}let a=r.COLOR_ATTACHMENT0;if(n>0)if(e._openGLRenderWindow.getWebgl2())a+=n;else{Yn("Using multiple framebuffer attachments requires WebGL 2");return}r.framebufferTexture2D(r.FRAMEBUFFER,a,r.TEXTURE_2D,null,0),e.colorBuffers=e.colorBuffers.splice(n,1)},t.setDepthBuffer=n=>{if(!e.context){Yn("you must set the OpenGLRenderWindow before calling setDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){const r=e.context;r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n.getHandle(),0)}else Yn("Attaching depth buffer textures to fbo requires WebGL 2")},t.removeDepthBuffer=()=>{if(!e.context){Yn("you must set the OpenGLRenderWindow before calling removeDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){const n=e.context;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,null,0)}else Yn("Attaching depth buffer textures to framebuffers requires WebGL 2")},t.getGLFramebuffer=()=>e.glFramebuffer,t.setOpenGLRenderWindow=n=>{e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))},t.releaseGraphicsResources=()=>{e.glFramebuffer&&e.context.deleteFramebuffer(e.glFramebuffer)},t.getSize=()=>e.glFramebuffer==null?null:[e.glFramebuffer.width,e.glFramebuffer.height],t.populateFramebuffer=()=>{if(!e.context){Yn("you must set the OpenGLRenderWindow before calling populateFrameBuffer");return}t.bind();const n=e.context,r=Zr.newInstance();r.setOpenGLRenderWindow(e._openGLRenderWindow),r.setMinificationFilter(Sn.LINEAR),r.setMagnificationFilter(Sn.LINEAR),r.create2DFromRaw(e.glFramebuffer.width,e.glFramebuffer.height,4,qn.UNSIGNED_CHAR,null),t.setColorBuffer(r),e.depthTexture=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,e.depthTexture),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e.glFramebuffer.width,e.glFramebuffer.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,e.depthTexture)},t.getColorTexture=()=>e.colorBuffers[0]}const P3e={glFramebuffer:null,colorBuffers:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function VB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,P3e,n),ea(t,e),e.colorBuffers&&Yn("you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead."),e.colorBuffers=[],sg(t,e,["colorBuffers"]),M3e(t,e)}const L3e=Vr(VB,"vtkFramebuffer");var X5={newInstance:L3e,extend:VB};function _3e(t,e){e.classHierarchy.push("vtkRenderPass"),t.getOperation=()=>e.currentOperation,t.setCurrentOperation=n=>{e.currentOperation=n,e.currentTraverseOperation=`traverse${ne.capitalize(e.currentOperation)}`},t.getTraverseOperation=()=>e.currentTraverseOperation,t.traverse=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.deleted||(e._currentParent=r,e.preDelegateOperations.forEach(a=>{t.setCurrentOperation(a),n.traverse(t)}),e.delegates.forEach(a=>{a.traverse(n,t)}),e.postDelegateOperations.forEach(a=>{t.setCurrentOperation(a),n.traverse(t)}))}}const N3e={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function kB(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,N3e,n),ne.obj(t,e),ne.get(t,e,["currentOperation"]),ne.setGet(t,e,["delegates","_currentParent","preDelegateOperations","postDelegateOperations"]),ne.moveToProtected(t,e,["currentParent"]),_3e(t,e)}const F3e=ne.newInstance(kB,"vtkRenderPass");var fw={newInstance:F3e,extend:kB},lr=1e-6,Fa=typeof Float32Array<"u"?Float32Array:Array,$3e=Math.PI/180;function V3e(t){return t*$3e}function Uv(t,e){return Math.abs(t-e)<=lr*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function dw(){var t=new Fa(9);return Fa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Y5(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function k3e(t){var e=new Fa(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function U3e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function cm(t,e,n,r,a,i,o,s,l){var c=new Fa(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=a,c[5]=i,c[6]=o,c[7]=s,c[8]=l,c}function UB(t,e,n,r,a,i,o,s,l,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=l,t[8]=c,t}function $s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function gw(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Ip(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8],u=f*o-s*c,d=-f*i+s*l,g=c*i-o*l,v=n*u+r*d+a*g;return v?(v=1/v,t[0]=u*v,t[1]=(-f*r+a*c)*v,t[2]=(s*r-a*o)*v,t[3]=d*v,t[4]=(f*n-a*l)*v,t[5]=(-s*n+a*i)*v,t[6]=g*v,t[7]=(-c*n+r*l)*v,t[8]=(o*n-r*i)*v,t):null}function B3e(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8];return t[0]=o*f-s*c,t[1]=a*c-r*f,t[2]=r*s-a*o,t[3]=s*l-i*f,t[4]=n*f-a*l,t[5]=a*i-n*s,t[6]=i*c-o*l,t[7]=r*l-n*c,t[8]=n*o-r*i,t}function Su(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=t[6],l=t[7],c=t[8];return e*(c*i-o*l)+n*(-c*a+o*s)+r*(l*a-i*s)}function I1(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],c=e[6],f=e[7],u=e[8],d=n[0],g=n[1],v=n[2],m=n[3],p=n[4],h=n[5],y=n[6],C=n[7],x=n[8];return t[0]=d*r+g*o+v*c,t[1]=d*a+g*s+v*f,t[2]=d*i+g*l+v*u,t[3]=m*r+p*o+h*c,t[4]=m*a+p*s+h*f,t[5]=m*i+p*l+h*u,t[6]=y*r+C*o+x*c,t[7]=y*a+C*s+x*f,t[8]=y*i+C*l+x*u,t}function G3e(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],c=e[6],f=e[7],u=e[8],d=n[0],g=n[1];return t[0]=r,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=l,t[6]=d*r+g*o+c,t[7]=d*a+g*s+f,t[8]=d*i+g*l+u,t}function z3e(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],c=e[6],f=e[7],u=e[8],d=Math.sin(n),g=Math.cos(n);return t[0]=g*r+d*o,t[1]=g*a+d*s,t[2]=g*i+d*l,t[3]=g*o-d*r,t[4]=g*s-d*a,t[5]=g*l-d*i,t[6]=c,t[7]=f,t[8]=u,t}function W3e(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function j3e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function H3e(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function q3e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function K3e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Q3e(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,l=a+a,c=n*o,f=r*o,u=r*s,d=a*o,g=a*s,v=a*l,m=i*o,p=i*s,h=i*l;return t[0]=1-u-v,t[3]=f-h,t[6]=d+p,t[1]=f+h,t[4]=1-c-v,t[7]=g-m,t[2]=d-p,t[5]=g+m,t[8]=1-c-u,t}function X3e(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8],u=e[9],d=e[10],g=e[11],v=e[12],m=e[13],p=e[14],h=e[15],y=n*s-r*o,C=n*l-a*o,x=n*c-i*o,T=r*l-a*s,w=r*c-i*s,b=a*c-i*l,E=f*m-u*v,O=f*p-d*v,D=f*h-g*v,R=u*p-d*m,I=u*h-g*m,M=d*h-g*p,A=y*M-C*I+x*R+T*D-w*O+b*E;return A?(A=1/A,t[0]=(s*M-l*I+c*R)*A,t[1]=(l*D-o*M-c*O)*A,t[2]=(o*I-s*D+c*E)*A,t[3]=(a*I-r*M-i*R)*A,t[4]=(n*M-a*D+i*O)*A,t[5]=(r*D-n*I-i*E)*A,t[6]=(m*b-p*w+h*T)*A,t[7]=(p*x-v*b-h*C)*A,t[8]=(v*w-m*x+h*y)*A,t):null}function Y3e(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Z3e(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function J3e(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function e5e(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function BB(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function t5e(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function n5e(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function r5e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function a5e(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],f=t[8],u=e[0],d=e[1],g=e[2],v=e[3],m=e[4],p=e[5],h=e[6],y=e[7],C=e[8];return Math.abs(n-u)<=lr*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-d)<=lr*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(a-g)<=lr*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(i-v)<=lr*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(o-m)<=lr*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(s-p)<=lr*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(l-h)<=lr*Math.max(1,Math.abs(l),Math.abs(h))&&Math.abs(c-y)<=lr*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-C)<=lr*Math.max(1,Math.abs(f),Math.abs(C))}var i5e=I1,o5e=BB;const s5e=Object.freeze(Object.defineProperty({__proto__:null,add:e5e,adjoint:B3e,clone:k3e,copy:U3e,create:dw,determinant:Su,equals:a5e,exactEquals:r5e,frob:J3e,fromMat2d:K3e,fromMat4:Y5,fromQuat:Q3e,fromRotation:H3e,fromScaling:q3e,fromTranslation:j3e,fromValues:cm,identity:$s,invert:Ip,mul:i5e,multiply:I1,multiplyScalar:t5e,multiplyScalarAndAdd:n5e,normalFromMat4:X3e,projection:Y3e,rotate:z3e,scale:W3e,set:UB,str:Z3e,sub:o5e,subtract:BB,translate:G3e,transpose:gw},Symbol.toStringTag,{value:"Module"}));function kc(){var t=new Fa(16);return Fa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function l5e(t){var e=new Fa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ea(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function GB(t,e,n,r,a,i,o,s,l,c,f,u,d,g,v,m){var p=new Fa(16);return p[0]=t,p[1]=e,p[2]=n,p[3]=r,p[4]=a,p[5]=i,p[6]=o,p[7]=s,p[8]=l,p[9]=c,p[10]=f,p[11]=u,p[12]=d,p[13]=g,p[14]=v,p[15]=m,p}function c5e(t,e,n,r,a,i,o,s,l,c,f,u,d,g,v,m,p){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=o,t[6]=s,t[7]=l,t[8]=c,t[9]=f,t[10]=u,t[11]=d,t[12]=g,t[13]=v,t[14]=m,t[15]=p,t}function Dn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function tr(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function qa(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8],u=e[9],d=e[10],g=e[11],v=e[12],m=e[13],p=e[14],h=e[15],y=n*s-r*o,C=n*l-a*o,x=n*c-i*o,T=r*l-a*s,w=r*c-i*s,b=a*c-i*l,E=f*m-u*v,O=f*p-d*v,D=f*h-g*v,R=u*p-d*m,I=u*h-g*m,M=d*h-g*p,A=y*M-C*I+x*R+T*D-w*O+b*E;return A?(A=1/A,t[0]=(s*M-l*I+c*R)*A,t[1]=(a*I-r*M-i*R)*A,t[2]=(m*b-p*w+h*T)*A,t[3]=(d*w-u*b-g*T)*A,t[4]=(l*D-o*M-c*O)*A,t[5]=(n*M-a*D+i*O)*A,t[6]=(p*x-v*b-h*C)*A,t[7]=(f*b-d*x+g*C)*A,t[8]=(o*I-s*D+c*E)*A,t[9]=(r*D-n*I-i*E)*A,t[10]=(v*w-m*x+h*y)*A,t[11]=(u*x-f*w-g*y)*A,t[12]=(s*O-o*R-l*E)*A,t[13]=(n*R-r*O+a*E)*A,t[14]=(m*C-v*T-p*y)*A,t[15]=(f*T-u*C+d*y)*A,t):null}function u5e(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],c=e[7],f=e[8],u=e[9],d=e[10],g=e[11],v=e[12],m=e[13],p=e[14],h=e[15];return t[0]=s*(d*h-g*p)-u*(l*h-c*p)+m*(l*g-c*d),t[1]=-(r*(d*h-g*p)-u*(a*h-i*p)+m*(a*g-i*d)),t[2]=r*(l*h-c*p)-s*(a*h-i*p)+m*(a*c-i*l),t[3]=-(r*(l*g-c*d)-s*(a*g-i*d)+u*(a*c-i*l)),t[4]=-(o*(d*h-g*p)-f*(l*h-c*p)+v*(l*g-c*d)),t[5]=n*(d*h-g*p)-f*(a*h-i*p)+v*(a*g-i*d),t[6]=-(n*(l*h-c*p)-o*(a*h-i*p)+v*(a*c-i*l)),t[7]=n*(l*g-c*d)-o*(a*g-i*d)+f*(a*c-i*l),t[8]=o*(u*h-g*m)-f*(s*h-c*m)+v*(s*g-c*u),t[9]=-(n*(u*h-g*m)-f*(r*h-i*m)+v*(r*g-i*u)),t[10]=n*(s*h-c*m)-o*(r*h-i*m)+v*(r*c-i*s),t[11]=-(n*(s*g-c*u)-o*(r*g-i*u)+f*(r*c-i*s)),t[12]=-(o*(u*p-d*m)-f*(s*p-l*m)+v*(s*d-l*u)),t[13]=n*(u*p-d*m)-f*(r*p-a*m)+v*(r*d-a*u),t[14]=-(n*(s*p-l*m)-o*(r*p-a*m)+v*(r*l-a*s)),t[15]=n*(s*d-l*u)-o*(r*d-a*u)+f*(r*l-a*s),t}function f5e(t){var e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=t[6],l=t[7],c=t[8],f=t[9],u=t[10],d=t[11],g=t[12],v=t[13],m=t[14],p=t[15],h=e*o-n*i,y=e*s-r*i,C=e*l-a*i,x=n*s-r*o,T=n*l-a*o,w=r*l-a*s,b=c*v-f*g,E=c*m-u*g,O=c*p-d*g,D=f*m-u*v,R=f*p-d*v,I=u*p-d*m;return h*I-y*R+C*D+x*O-T*E+w*b}function Zn(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],l=e[5],c=e[6],f=e[7],u=e[8],d=e[9],g=e[10],v=e[11],m=e[12],p=e[13],h=e[14],y=e[15],C=n[0],x=n[1],T=n[2],w=n[3];return t[0]=C*r+x*s+T*u+w*m,t[1]=C*a+x*l+T*d+w*p,t[2]=C*i+x*c+T*g+w*h,t[3]=C*o+x*f+T*v+w*y,C=n[4],x=n[5],T=n[6],w=n[7],t[4]=C*r+x*s+T*u+w*m,t[5]=C*a+x*l+T*d+w*p,t[6]=C*i+x*c+T*g+w*h,t[7]=C*o+x*f+T*v+w*y,C=n[8],x=n[9],T=n[10],w=n[11],t[8]=C*r+x*s+T*u+w*m,t[9]=C*a+x*l+T*d+w*p,t[10]=C*i+x*c+T*g+w*h,t[11]=C*o+x*f+T*v+w*y,C=n[12],x=n[13],T=n[14],w=n[15],t[12]=C*r+x*s+T*u+w*m,t[13]=C*a+x*l+T*d+w*p,t[14]=C*i+x*c+T*g+w*h,t[15]=C*o+x*f+T*v+w*y,t}function La(t,e,n){var r=n[0],a=n[1],i=n[2],o,s,l,c,f,u,d,g,v,m,p,h;return e===t?(t[12]=e[0]*r+e[4]*a+e[8]*i+e[12],t[13]=e[1]*r+e[5]*a+e[9]*i+e[13],t[14]=e[2]*r+e[6]*a+e[10]*i+e[14],t[15]=e[3]*r+e[7]*a+e[11]*i+e[15]):(o=e[0],s=e[1],l=e[2],c=e[3],f=e[4],u=e[5],d=e[6],g=e[7],v=e[8],m=e[9],p=e[10],h=e[11],t[0]=o,t[1]=s,t[2]=l,t[3]=c,t[4]=f,t[5]=u,t[6]=d,t[7]=g,t[8]=v,t[9]=m,t[10]=p,t[11]=h,t[12]=o*r+f*a+v*i+e[12],t[13]=s*r+u*a+m*i+e[13],t[14]=l*r+d*a+p*i+e[14],t[15]=c*r+g*a+h*i+e[15]),t}function ol(t,e,n){var r=n[0],a=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function vs(t,e,n,r){var a=r[0],i=r[1],o=r[2],s=Math.hypot(a,i,o),l,c,f,u,d,g,v,m,p,h,y,C,x,T,w,b,E,O,D,R,I,M,A,B;return s<lr?null:(s=1/s,a*=s,i*=s,o*=s,l=Math.sin(n),c=Math.cos(n),f=1-c,u=e[0],d=e[1],g=e[2],v=e[3],m=e[4],p=e[5],h=e[6],y=e[7],C=e[8],x=e[9],T=e[10],w=e[11],b=a*a*f+c,E=i*a*f+o*l,O=o*a*f-i*l,D=a*i*f-o*l,R=i*i*f+c,I=o*i*f+a*l,M=a*o*f+i*l,A=i*o*f-a*l,B=o*o*f+c,t[0]=u*b+m*E+C*O,t[1]=d*b+p*E+x*O,t[2]=g*b+h*E+T*O,t[3]=v*b+y*E+w*O,t[4]=u*D+m*R+C*I,t[5]=d*D+p*R+x*I,t[6]=g*D+h*R+T*I,t[7]=v*D+y*R+w*I,t[8]=u*M+m*A+C*B,t[9]=d*M+p*A+x*B,t[10]=g*M+h*A+T*B,t[11]=v*M+y*A+w*B,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function mw(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[4],o=e[5],s=e[6],l=e[7],c=e[8],f=e[9],u=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+c*r,t[5]=o*a+f*r,t[6]=s*a+u*r,t[7]=l*a+d*r,t[8]=c*a-i*r,t[9]=f*a-o*r,t[10]=u*a-s*r,t[11]=d*a-l*r,t}function vw(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],l=e[3],c=e[8],f=e[9],u=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-c*r,t[1]=o*a-f*r,t[2]=s*a-u*r,t[3]=l*a-d*r,t[8]=i*r+c*a,t[9]=o*r+f*a,t[10]=s*r+u*a,t[11]=l*r+d*a,t}function pw(t,e,n){var r=Math.sin(n),a=Math.cos(n),i=e[0],o=e[1],s=e[2],l=e[3],c=e[4],f=e[5],u=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+c*r,t[1]=o*a+f*r,t[2]=s*a+u*r,t[3]=l*a+d*r,t[4]=c*a-i*r,t[5]=f*a-o*r,t[6]=u*a-s*r,t[7]=d*a-l*r,t}function Z5(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function hw(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Sw(t,e,n){var r=n[0],a=n[1],i=n[2],o=Math.hypot(r,a,i),s,l,c;return o<lr?null:(o=1/o,r*=o,a*=o,i*=o,s=Math.sin(e),l=Math.cos(e),c=1-l,t[0]=r*r*c+l,t[1]=a*r*c+i*s,t[2]=i*r*c-a*s,t[3]=0,t[4]=r*a*c-i*s,t[5]=a*a*c+l,t[6]=i*a*c+r*s,t[7]=0,t[8]=r*i*c+a*s,t[9]=a*i*c-r*s,t[10]=i*i*c+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function d5e(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function g5e(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function m5e(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zB(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=r+r,l=a+a,c=i+i,f=r*s,u=r*l,d=r*c,g=a*l,v=a*c,m=i*c,p=o*s,h=o*l,y=o*c;return t[0]=1-(g+m),t[1]=u+y,t[2]=d-h,t[3]=0,t[4]=u-y,t[5]=1-(f+m),t[6]=v+p,t[7]=0,t[8]=d+h,t[9]=v-p,t[10]=1-(f+g),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function v5e(t,e){var n=new Fa(3),r=-e[0],a=-e[1],i=-e[2],o=e[3],s=e[4],l=e[5],c=e[6],f=e[7],u=r*r+a*a+i*i+o*o;return u>0?(n[0]=(s*o+f*r+l*i-c*a)*2/u,n[1]=(l*o+f*a+c*r-s*i)*2/u,n[2]=(c*o+f*i+s*a-l*r)*2/u):(n[0]=(s*o+f*r+l*i-c*a)*2,n[1]=(l*o+f*a+c*r-s*i)*2,n[2]=(c*o+f*i+s*a-l*r)*2),zB(t,e,n),t}function p5e(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function WB(t,e){var n=e[0],r=e[1],a=e[2],i=e[4],o=e[5],s=e[6],l=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(n,r,a),t[1]=Math.hypot(i,o,s),t[2]=Math.hypot(l,c,f),t}function G9(t,e){var n=new Fa(3);WB(n,e);var r=1/n[0],a=1/n[1],i=1/n[2],o=e[0]*r,s=e[1]*a,l=e[2]*i,c=e[4]*r,f=e[5]*a,u=e[6]*i,d=e[8]*r,g=e[9]*a,v=e[10]*i,m=o+f+v,p=0;return m>0?(p=Math.sqrt(m+1)*2,t[3]=.25*p,t[0]=(u-g)/p,t[1]=(d-l)/p,t[2]=(s-c)/p):o>f&&o>v?(p=Math.sqrt(1+o-f-v)*2,t[3]=(u-g)/p,t[0]=.25*p,t[1]=(s+c)/p,t[2]=(d+l)/p):f>v?(p=Math.sqrt(1+f-o-v)*2,t[3]=(d-l)/p,t[0]=(s+c)/p,t[1]=.25*p,t[2]=(u+g)/p):(p=Math.sqrt(1+v-o-f)*2,t[3]=(s-c)/p,t[0]=(d+l)/p,t[1]=(u+g)/p,t[2]=.25*p),t}function jB(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=e[3],l=a+a,c=i+i,f=o+o,u=a*l,d=a*c,g=a*f,v=i*c,m=i*f,p=o*f,h=s*l,y=s*c,C=s*f,x=r[0],T=r[1],w=r[2];return t[0]=(1-(v+p))*x,t[1]=(d+C)*x,t[2]=(g-y)*x,t[3]=0,t[4]=(d-C)*T,t[5]=(1-(u+p))*T,t[6]=(m+h)*T,t[7]=0,t[8]=(g+y)*w,t[9]=(m-h)*w,t[10]=(1-(u+v))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function h5e(t,e,n,r,a){var i=e[0],o=e[1],s=e[2],l=e[3],c=i+i,f=o+o,u=s+s,d=i*c,g=i*f,v=i*u,m=o*f,p=o*u,h=s*u,y=l*c,C=l*f,x=l*u,T=r[0],w=r[1],b=r[2],E=a[0],O=a[1],D=a[2],R=(1-(m+h))*T,I=(g+x)*T,M=(v-C)*T,A=(g-x)*w,B=(1-(d+h))*w,L=(p+y)*w,F=(v+C)*b,_=(p-y)*b,P=(1-(d+m))*b;return t[0]=R,t[1]=I,t[2]=M,t[3]=0,t[4]=A,t[5]=B,t[6]=L,t[7]=0,t[8]=F,t[9]=_,t[10]=P,t[11]=0,t[12]=n[0]+E-(R*E+A*O+F*D),t[13]=n[1]+O-(I*E+B*O+_*D),t[14]=n[2]+D-(M*E+L*O+P*D),t[15]=1,t}function r3(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,l=a+a,c=n*o,f=r*o,u=r*s,d=a*o,g=a*s,v=a*l,m=i*o,p=i*s,h=i*l;return t[0]=1-u-v,t[1]=f+h,t[2]=d-p,t[3]=0,t[4]=f-h,t[5]=1-c-v,t[6]=g+m,t[7]=0,t[8]=d+p,t[9]=g-m,t[10]=1-c-u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S5e(t,e,n,r,a,i,o){var s=1/(n-e),l=1/(a-r),c=1/(i-o);return t[0]=i*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i*2*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(a+r)*l,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t}function HB(t,e,n,r,a){var i=1/Math.tan(e/2),o;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(o=1/(r-a),t[10]=(a+r)*o,t[14]=2*a*r*o):(t[10]=-1,t[14]=-2*r),t}var y5e=HB;function C5e(t,e,n,r,a){var i=1/Math.tan(e/2),o;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(o=1/(r-a),t[10]=a*o,t[14]=a*r*o):(t[10]=-1,t[14]=-r),t}function x5e(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(a+i);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((o-s)*l*.5),t[9]=(a-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function qB(t,e,n,r,a,i,o){var s=1/(e-n),l=1/(r-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(a+r)*l,t[14]=(o+i)*c,t[15]=1,t}var yw=qB;function T5e(t,e,n,r,a,i,o){var s=1/(e-n),l=1/(r-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(a+r)*l,t[14]=i*c,t[15]=1,t}function KB(t,e,n,r){var a,i,o,s,l,c,f,u,d,g,v=e[0],m=e[1],p=e[2],h=r[0],y=r[1],C=r[2],x=n[0],T=n[1],w=n[2];return Math.abs(v-x)<lr&&Math.abs(m-T)<lr&&Math.abs(p-w)<lr?Dn(t):(f=v-x,u=m-T,d=p-w,g=1/Math.hypot(f,u,d),f*=g,u*=g,d*=g,a=y*d-C*u,i=C*f-h*d,o=h*u-y*f,g=Math.hypot(a,i,o),g?(g=1/g,a*=g,i*=g,o*=g):(a=0,i=0,o=0),s=u*o-d*i,l=d*a-f*o,c=f*i-u*a,g=Math.hypot(s,l,c),g?(g=1/g,s*=g,l*=g,c*=g):(s=0,l=0,c=0),t[0]=a,t[1]=s,t[2]=f,t[3]=0,t[4]=i,t[5]=l,t[6]=u,t[7]=0,t[8]=o,t[9]=c,t[10]=d,t[11]=0,t[12]=-(a*v+i*m+o*p),t[13]=-(s*v+l*m+c*p),t[14]=-(f*v+u*m+d*p),t[15]=1,t)}function w5e(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=r[0],l=r[1],c=r[2],f=a-n[0],u=i-n[1],d=o-n[2],g=f*f+u*u+d*d;g>0&&(g=1/Math.sqrt(g),f*=g,u*=g,d*=g);var v=l*d-c*u,m=c*f-s*d,p=s*u-l*f;return g=v*v+m*m+p*p,g>0&&(g=1/Math.sqrt(g),v*=g,m*=g,p*=g),t[0]=v,t[1]=m,t[2]=p,t[3]=0,t[4]=u*p-d*m,t[5]=d*v-f*p,t[6]=f*m-u*v,t[7]=0,t[8]=f,t[9]=u,t[10]=d,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t}function b5e(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function E5e(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function D5e(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function QB(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function O5e(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function R5e(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function I5e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function A5e(t,e){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],l=t[6],c=t[7],f=t[8],u=t[9],d=t[10],g=t[11],v=t[12],m=t[13],p=t[14],h=t[15],y=e[0],C=e[1],x=e[2],T=e[3],w=e[4],b=e[5],E=e[6],O=e[7],D=e[8],R=e[9],I=e[10],M=e[11],A=e[12],B=e[13],L=e[14],F=e[15];return Math.abs(n-y)<=lr*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-C)<=lr*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(a-x)<=lr*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(i-T)<=lr*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(o-w)<=lr*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-b)<=lr*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(l-E)<=lr*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(c-O)<=lr*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-D)<=lr*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(u-R)<=lr*Math.max(1,Math.abs(u),Math.abs(R))&&Math.abs(d-I)<=lr*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(g-M)<=lr*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(v-A)<=lr*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(m-B)<=lr*Math.max(1,Math.abs(m),Math.abs(B))&&Math.abs(p-L)<=lr*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(h-F)<=lr*Math.max(1,Math.abs(h),Math.abs(F))}var a3=Zn,M5e=QB;const i3=Object.freeze(Object.defineProperty({__proto__:null,add:D5e,adjoint:u5e,clone:l5e,copy:Ea,create:kc,determinant:f5e,equals:A5e,exactEquals:I5e,frob:E5e,fromQuat:r3,fromQuat2:v5e,fromRotation:Sw,fromRotationTranslation:zB,fromRotationTranslationScale:jB,fromRotationTranslationScaleOrigin:h5e,fromScaling:hw,fromTranslation:Z5,fromValues:GB,fromXRotation:d5e,fromYRotation:g5e,fromZRotation:m5e,frustum:S5e,getRotation:G9,getScaling:WB,getTranslation:p5e,identity:Dn,invert:qa,lookAt:KB,mul:a3,multiply:Zn,multiplyScalar:O5e,multiplyScalarAndAdd:R5e,ortho:yw,orthoNO:qB,orthoZO:T5e,perspective:y5e,perspectiveFromFieldOfView:x5e,perspectiveNO:HB,perspectiveZO:C5e,rotate:vs,rotateX:mw,rotateY:vw,rotateZ:pw,scale:ol,set:c5e,str:b5e,sub:M5e,subtract:QB,targetTo:w5e,translate:La,transpose:tr},Symbol.toStringTag,{value:"Module"}));function Xt(){var t=new Fa(3);return Fa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Tc(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Yr(t,e,n){var r=new Fa(3);return r[0]=t,r[1]=e,r[2]=n,r}function P5e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function xr(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ac(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Ga(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function L5e(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function _5e(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function q0(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function li(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function Bv(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.hypot(n,r,a)}function K0(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function XB(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Na(t,e){var n=e[0],r=e[1],a=e[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Ln(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ia(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[0],s=n[1],l=n[2];return t[0]=a*l-i*s,t[1]=i*o-r*l,t[2]=r*s-a*o,t}function hr(t,e,n){var r=e[0],a=e[1],i=e[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,t[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,t[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,t}function L2(t,e,n){var r=e[0],a=e[1],i=e[2];return t[0]=r*n[0]+a*n[3]+i*n[6],t[1]=r*n[1]+a*n[4]+i*n[7],t[2]=r*n[2]+a*n[5]+i*n[8],t}function YB(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],o=e[1],s=e[2],l=Math.sqrt(n*n+r*r+a*a),c=Math.sqrt(i*i+o*o+s*s),f=l*c,u=f&&Ln(t,e)/f;return Math.acos(Math.min(Math.max(u,-1),1))}function N5e(t){return t[0]=0,t[1]=0,t[2]=0,t}function mA(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function vA(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],o=e[1],s=e[2];return Math.abs(n-i)<=lr*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=lr*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=lr*Math.max(1,Math.abs(a),Math.abs(s))}var Ca=Ga,F5e=L5e,o3=Tc;(function(){var t=Xt();return function(e,n,r,a,i,o){var s,l;for(n||(n=3),r||(r=0),a?l=Math.min(a*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}})();function $5e(){var t=new Fa(4);return Fa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function V5e(t,e,n,r){var a=new Fa(4);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a}function pA(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function k5e(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=a*o,t[3]=i*o,t}function Vu(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,t[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,t[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,t[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,t}(function(){var t=$5e();return function(e,n,r,a,i,o){var s,l;for(n||(n=4),r||(r=0),a?l=Math.min(a*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}})();function uf(){var t=new Fa(4);return Fa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Cw(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function U5e(t,e){var n=Math.acos(e[3])*2,r=Math.sin(n/2);return r>lr?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function hA(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=n[0],l=n[1],c=n[2],f=n[3];return t[0]=r*f+o*s+a*c-i*l,t[1]=a*f+o*l+i*s-r*c,t[2]=i*f+o*c+r*l-a*s,t[3]=o*f-r*s-a*l-i*c,t}function _2(t,e,n,r){var a=e[0],i=e[1],o=e[2],s=e[3],l=n[0],c=n[1],f=n[2],u=n[3],d,g,v,m,p;return g=a*l+i*c+o*f+s*u,g<0&&(g=-g,l=-l,c=-c,f=-f,u=-u),1-g>lr?(d=Math.acos(g),v=Math.sin(d),m=Math.sin((1-r)*d)/v,p=Math.sin(r*d)/v):(m=1-r,p=r),t[0]=m*a+p*l,t[1]=m*i+p*c,t[2]=m*o+p*f,t[3]=m*s+p*u,t}function B5e(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function G5e(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[a*3+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(e[a*3+a]-e[i*3+i]-e[o*3+o]+1),t[a]=.5*r,r=.5/r,t[3]=(e[i*3+o]-e[o*3+i])*r,t[i]=(e[i*3+a]+e[a*3+i])*r,t[o]=(e[o*3+a]+e[a*3+o])*r}return t}var SA=V5e,ZB=k5e;(function(){var t=Xt(),e=Yr(1,0,0),n=Yr(0,1,0);return function(r,a,i){var o=Ln(a,i);return o<-.999999?(ia(t,e,a),o3(t)<1e-6&&ia(t,n,a),Na(t,t),Cw(r,t,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(ia(t,a,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+o,ZB(r,r))}})();(function(){var t=uf(),e=uf();return function(n,r,a,i,o,s){return _2(t,r,o,s),_2(e,a,i,s),_2(n,t,e,2*s*(1-s)),n}})();(function(){var t=dw();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],ZB(e,G5e(e,t))}})();function Q0(){var t=new Fa(2);return Fa!=Float32Array&&(t[0]=0,t[1]=0),t}function yA(t,e){var n=new Fa(2);return n[0]=t,n[1]=e,n}function Hd(t,e,n){return t[0]=e,t[1]=n,t}function xw(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function A1(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function CA(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function ci(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function JB(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t}function z5e(t,e){return t[0]*e[0]+t[1]*e[1]}var s3=A1,Tw=ci;(function(){var t=Q0();return function(e,n,r,a,i,o){var s,l;for(n||(n=2),r||(r=0),a?l=Math.min(a*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],i(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}})();const X0={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2};var eG={ObjectType:X0};const{ObjectType:N2}=eG,W5e={};function j5e(t,e){e.classHierarchy.push("vtkOpenGLBufferObject");function n(s){switch(s){case N2.ELEMENT_ARRAY_BUFFER:return e.context.ELEMENT_ARRAY_BUFFER;case N2.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in e.context)return e.context.TEXTURE_BUFFER;case N2.ARRAY_BUFFER:default:return e.context.ARRAY_BUFFER}}let r=null,a=null,i=!0,o="";t.getType=()=>r,t.setType=s=>{r=s},t.getHandle=()=>a,t.isReady=()=>i===!1,t.generateBuffer=s=>{const l=n(s);return a===null&&(a=e.context.createBuffer(),r=s),n(r)===l},t.upload=(s,l)=>t.generateBuffer(l)?(e.context.bindBuffer(n(r),a),e.context.bufferData(n(r),s,e.context.STATIC_DRAW),e.allocatedGPUMemoryInBytes=s.length*s.BYTES_PER_ELEMENT,i=!1,!0):(o="Trying to upload array buffer to incompatible buffer.",!1),t.bind=()=>a?(e.context.bindBuffer(n(r),a),!0):!1,t.release=()=>a?(e.context.bindBuffer(n(r),null),!0):!1,t.releaseGraphicsResources=()=>{a!==null&&(e.context.bindBuffer(n(r),null),e.context.deleteBuffer(a),a=null,e.allocatedGPUMemoryInBytes=0)},t.setOpenGLRenderWindow=s=>{e._openGLRenderWindow!==s&&(t.releaseGraphicsResources(),e._openGLRenderWindow=s,e.context=null,s&&(e.context=e._openGLRenderWindow.getContext()))},t.getError=()=>o}const H5e={objectType:N2.ARRAY_BUFFER,context:null,allocatedGPUMemoryInBytes:0};function tG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,H5e,n),ne.obj(t,e),ne.get(t,e,["_openGLRenderWindow","allocatedGPUMemoryInBytes"]),ne.moveToProtected(t,e,["openGLRenderWindow"]),j5e(t,e)}const q5e=ne.newInstance(tG);var z0={newInstance:q5e,extend:tG,...W5e,...eG};const nG={FLAT:0,GOURAUD:1,PHONG:2},ns={POINTS:0,WIREFRAME:1,SURFACE:2},K5e=nG;var rG={Shading:nG,Representation:ns,Interpolation:K5e};const{vtkErrorMacro:xA}=ne;function Q5e(t,e){const n=new Float64Array(3);XB(n,e);const r=new Float64Array(16);return jB(r,uf(),t,n),r}function X5e(t,e){return t===null||e===null?!1:!(mA(t,[0,0,0])&&mA(e,[1,1,1]))}function Y5e(t,e){e.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),t.setType(X0.ARRAY_BUFFER),t.createVBO=function(n,r,a,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!n.getData()||!n.getData().length)return e.elementCount=0,0;e.blockSize=3,e.vertexOffset=0,e.normalOffset=0,e.tCoordOffset=0,e.tCoordComponents=0,e.colorComponents=0,e.colorOffset=0,e.customData=[];const s=i.points.getData();let l=null,c=null,f=null;const u=i.colors?i.colors.getNumberOfComponents():0,d=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(e.normalOffset=4*e.blockSize,e.blockSize+=3,l=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach(P=>{P&&(e.customData.push({data:P.getData(),offset:4*e.blockSize,components:P.getNumberOfComponents(),name:P.getName()}),e.blockSize+=P.getNumberOfComponents())}),i.tcoords&&(e.tCoordOffset=4*e.blockSize,e.tCoordComponents=d,e.blockSize+=d,c=i.tcoords.getData()),i.colors?(e.colorComponents=i.colors.getNumberOfComponents(),e.colorOffset=0,f=i.colors.getData(),e.colorBO||(e.colorBO=z0.newInstance()),e.colorBO.setOpenGLRenderWindow(e._openGLRenderWindow)):e.colorBO=null,e.stride=4*e.blockSize;let g=0,v=0,m=0,p=0,h=0,y=0,C;const x={anythingToPoints(P,N,k,H){for(let K=0;K<P;++K)C(N[k+K],H)},linesToWireframe(P,N,k,H){for(let K=0;K<P-1;++K)C(N[k+K],H),C(N[k+K+1],H)},polysToWireframe(P,N,k,H){if(P>2)for(let K=0;K<P;++K)C(N[k+K],H),C(N[k+(K+1)%P],H)},stripsToWireframe(P,N,k,H){if(P>2){for(let K=0;K<P-1;++K)C(N[k+K],H),C(N[k+K+1],H);for(let K=0;K<P-2;K++)C(N[k+K],H),C(N[k+K+2],H)}},polysToSurface(P,N,k,H){for(let K=0;K<P-2;K++)C(N[k+0],H),C(N[k+K+1],H),C(N[k+K+2],H)},stripsToSurface(P,N,k,H){for(let K=0;K<P-2;K++)C(N[k+K],H),C(N[k+K+1+K%2],H),C(N[k+K+1+(K+1)%2],H)}},T={anythingToPoints(P,N){return P},linesToWireframe(P,N){return P>1?(P-1)*2:0},polysToWireframe(P,N){return P>2?P*2:0},stripsToWireframe(P,N){return P>2?P*4-6:0},polysToSurface(P,N){return P>2?(P-2)*3:0},stripsToSurface(P,N,k){return P>2?(P-2)*3:0}};let w=null,b=null;a===ns.POINTS||r==="verts"?(w=x.anythingToPoints,b=T.anythingToPoints):a===ns.WIREFRAME||r==="lines"?(w=x[`${r}ToWireframe`],b=T[`${r}ToWireframe`]):(w=x[`${r}ToSurface`],b=T[`${r}ToSurface`]);const E=n.getData(),O=E.length;let D=0;for(let P=0;P<O;)D+=b(E[P],E),P+=E[P]+1;let R=null;const I=new Float32Array(D*e.blockSize);f&&(R=new Uint8Array(D*4));let M=0,A=0,B=0,L=0;for(let P=0;P<3;++P){const N=i.points.getRange(P),k=N[1]-N[0];B+=k*k;const H=.5*(N[1]+N[0]);L+=H*H}if(B>0&&(Math.abs(L)/B>1e6||Math.abs(Math.log10(B))>3||B===0&&L>1e6)){const P=new Float64Array(3),N=new Float64Array(3);for(let k=0;k<3;++k){const H=i.points.getRange(k),K=H[1]-H[0];P[k]=.5*(H[1]+H[0]),N[k]=K>0?1/K:1}t.setCoordShiftAndScale(P,N)}else e.coordShiftAndScaleEnabled===!0&&t.setCoordShiftAndScale(null,null);if(o)if(!o.points&&!o.cells)o.points=new Int32Array(D),o.cells=new Int32Array(D);else{const P=new Int32Array(D+o.points.length);P.set(o.points),o.points=P;const N=new Int32Array(D+o.cells.length);N.set(o.cells),o.cells=N}let _=i.vertexOffset;C=function(N,k){if(o&&(o.points[_]=N,o.cells[_]=y+i.cellOffset),++_,g=N*3,e.coordShiftAndScaleEnabled?(I[M++]=(s[g++]-e.coordShift[0])*e.coordScale[0],I[M++]=(s[g++]-e.coordShift[1])*e.coordScale[1],I[M++]=(s[g++]-e.coordShift[2])*e.coordScale[2]):(I[M++]=s[g++],I[M++]=s[g++],I[M++]=s[g++]),l!==null&&(i.haveCellNormals?v=(y+i.cellOffset)*3:v=N*3,I[M++]=l[v++],I[M++]=l[v++],I[M++]=l[v++]),e.customData.forEach(H=>{h=N*H.components;for(let K=0;K<H.components;++K)I[M++]=H.data[h++]}),c!==null){i.useTCoordsPerCell?m=k*d:m=N*d;for(let H=0;H<d;++H)I[M++]=c[m++]}f!==null&&(i.haveCellScalars?p=(y+i.cellOffset)*u:p=N*u,R[A++]=f[p++],R[A++]=f[p++],R[A++]=f[p++],R[A++]=u===4?f[p++]:255)};for(let P=0;P<O;P+=E[P]+1,y++)w(E[P],E,P+1,y+i.cellOffset);return e.elementCount=D,t.upload(I,X0.ARRAY_BUFFER),e.colorBO&&(e.colorBOStride=4,e.colorBO.upload(R,X0.ARRAY_BUFFER)),y},t.setCoordShiftAndScale=(n,r)=>{if(n!==null&&(n.constructor!==Float64Array||n.length!==3)){xA("Wrong type for coordShift, expected vec3 or null");return}if(r!==null&&(r.constructor!==Float64Array||r.length!==3)){xA("Wrong type for coordScale, expected vec3 or null");return}(e.coordShift===null||n===null||!vA(n,e.coordShift))&&(e.coordShift=n),(e.coordScale===null||r===null||!vA(r,e.coordScale))&&(e.coordScale=r),e.coordShiftAndScaleEnabled=X5e(e.coordShift,e.coordScale),e.coordShiftAndScaleEnabled?e.inverseShiftAndScaleMatrix=Q5e(e.coordShift,e.coordScale):e.inverseShiftAndScaleMatrix=null}}const Z5e={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function aG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Z5e,n),z0.extend(t,e,n),ne.setGet(t,e,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),ne.get(t,e,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),Y5e(t,e)}const J5e=ne.newInstance(aG);var eye={newInstance:J5e,extend:aG};const{vtkErrorMacro:tye}=ne;function nye(t,e){e.classHierarchy.push("vtkShader"),t.compile=()=>{let n=e.context.VERTEX_SHADER;if(!e.source||!e.source.length||e.shaderType==="Unknown")return!1;switch(e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0),e.shaderType){case"Fragment":n=e.context.FRAGMENT_SHADER;break;case"Vertex":default:n=e.context.VERTEX_SHADER;break}if(e.handle=e.context.createShader(n),e.context.shaderSource(e.handle,e.source),e.context.compileShader(e.handle),!e.context.getShaderParameter(e.handle,e.context.COMPILE_STATUS)){const a=e.context.getShaderInfoLog(e.handle);return tye(`Error compiling shader '${e.source}': ${a}`),e.context.deleteShader(e.handle),e.handle=0,!1}return!0},t.cleanup=()=>{e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0,e.dirty=!0)}}const rye={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function iG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rye,n),ne.obj(t,e),ne.setGet(t,e,["shaderType","source","error","handle","context"]),nye(t,e)}const aye=ne.newInstance(iG,"vtkShader");var h8={newInstance:aye,extend:iG};const{vtkErrorMacro:js}=ne;function iye(t,e,n,r){const a=typeof n=="string"?n:n.join(`
`),i=r===!1?e:new RegExp(e,"g"),o=t.replace(i,a);return{replace:o!==a,result:o}}function oye(t,e){e.classHierarchy.push("vtkShaderProgram"),t.compileShader=()=>e.vertexShader.compile()?e.fragmentShader.compile()?!t.attachShader(e.vertexShader)||!t.attachShader(e.fragmentShader)?(js(e.error),0):t.link()?(t.setCompiled(!0),1):(js(`Links failed: ${e.error}`),0):(js(e.fragmentShader.getSource().split(`
`).map((n,r)=>`${r}: ${n}`).join(`
`)),js(e.fragmentShader.getError()),0):(js(e.vertexShader.getSource().split(`
`).map((n,r)=>`${r}: ${n}`).join(`
`)),js(e.vertexShader.getError()),0),t.cleanup=()=>{e.shaderType==="Unknown"||e.handle===0||(t.release(),e.vertexShaderHandle!==0&&(e.context.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=0),e.fragmentShaderHandle!==0&&(e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=0),e.context.deleteProgram(e.handle),e.handle=0,t.setCompiled(!1))},t.bind=()=>!e.linked&&!t.link()?!1:(e.context.useProgram(e.handle),t.setBound(!0),!0),t.isBound=()=>!!e.bound,t.release=()=>{e.context.useProgram(null),t.setBound(!1)},t.setContext=n=>{e.vertexShader.setContext(n),e.fragmentShader.setContext(n),e.geometryShader.setContext(n)},t.link=()=>{if(e.linked)return!0;if(e.handle===0)return e.error="Program has not been initialized, and/or does not have shaders.",!1;if(e.uniformLocs={},e.context.linkProgram(e.handle),!e.context.getProgramParameter(e.handle,e.context.LINK_STATUS)){const r=e.context.getProgramInfoLog(e.handle);return js(`Error linking shader ${r}`),e.handle=0,!1}return t.setLinked(!0),e.attributeLocs={},!0},t.setUniformMatrix=(n,r)=>{const a=t.findUniform(n);if(a===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;const i=new Float32Array(r);return e.context.uniformMatrix4fv(a,!1,i),!0},t.setUniformMatrix3x3=(n,r)=>{const a=t.findUniform(n);if(a===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;const i=new Float32Array(r);return e.context.uniformMatrix3fv(a,!1,i),!0},t.setUniformf=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform1f(a,r),!0)},t.setUniformfv=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform1fv(a,r),!0)},t.setUniformi=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform1i(a,r),!0)},t.setUniformiv=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform1iv(a,r),!0)},t.setUniform2f=(n,r,a)=>{const i=t.findUniform(n);if(i===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;if(a===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2f(i,r,a),!0},t.setUniform2fv=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform2fv(a,r),!0)},t.setUniform2i=(n,r,a)=>{const i=t.findUniform(n);if(i===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;if(a===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2i(i,r,a),!0},t.setUniform2iv=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform2iv(a,r),!0)},t.setUniform3f=(n,r,a,i)=>{const o=t.findUniform(n);if(o===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;if(i===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(o,r,a,i),!0},t.setUniform3fArray=(n,r)=>{const a=t.findUniform(n);if(a===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;if(!Array.isArray(r)||r.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(a,r[0],r[1],r[2]),!0},t.setUniform3fv=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform3fv(a,r),!0)},t.setUniform3i=function(n){const r=t.findUniform(n);if(r===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];let s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3i(r,s[0],s[1],s[2]),!0},t.setUniform3iv=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform3iv(a,r),!0)},t.setUniform4f=function(n){const r=t.findUniform(n);if(r===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];let s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4f(r,s[0],s[1],s[2],s[3]),!0},t.setUniform4fv=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform4fv(a,r),!0)},t.setUniform4i=function(n){const r=t.findUniform(n);if(r===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];let s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4i(r,s[0],s[1],s[2],s[3]),!0},t.setUniform4iv=(n,r)=>{const a=t.findUniform(n);return a===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform4iv(a,r),!0)},t.findUniform=n=>{if(!n||!e.linked)return-1;let r=e.uniformLocs[n];return r!==void 0?r:(r=e.context.getUniformLocation(e.handle,n),r===null?(e.error=`Uniform ${n} not found in current shader program.`,e.uniformLocs[n]=-1,-1):(e.uniformLocs[n]=r,r))},t.isUniformUsed=n=>{if(!n)return!1;let r=e.uniformLocs[n];return r!==void 0?r!==null:e.linked?(r=e.context.getUniformLocation(e.handle,n),e.uniformLocs[n]=r,r!==null):(js("attempt to find uniform when the shader program is not linked"),!1)},t.isAttributeUsed=n=>{if(!n)return!1;if(n in e.attributeLocs)return!0;if(!e.linked)return js("attempt to find uniform when the shader program is not linked"),!1;const r=e.context.getAttribLocation(e.handle,n);return r===-1?!1:(e.attributeLocs[n]=r,!0)},t.attachShader=n=>{if(n.getHandle()===0)return e.error="Shader object was not initialized, cannot attach it.",!1;if(n.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;if(e.handle===0){const r=e.context.createProgram();if(r===0)return e.error="Could not create shader program.",!1;e.handle=r,e.linked=!1}return n.getShaderType()==="Vertex"&&(e.vertexShaderHandle!==0&&e.context.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=n.getHandle()),n.getShaderType()==="Fragment"&&(e.fragmentShaderHandle!==0&&e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=n.getHandle()),e.context.attachShader(e.handle,n.getHandle()),t.setLinked(!1),!0},t.detachShader=n=>{if(n.getHandle()===0)return e.error="shader object was not initialized, cannot attach it.",!1;if(n.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;switch(e.handle===0&&(e.error="This shader program has not been initialized yet."),n.getShaderType()){case"Vertex":return e.vertexShaderHandle!==n.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,n.getHandle()),e.vertexShaderHandle=0,e.linked=!1,!0);case"Fragment":return e.fragmentShaderHandle!==n.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,n.getHandle()),e.fragmentShaderHandle=0,e.linked=!1,!0);default:return!1}},t.setContext=n=>{e.context=n,e.vertexShader.setContext(n),e.fragmentShader.setContext(n),e.geometryShader.setContext(n)},t.setLastCameraMTime=n=>{e.lastCameraMTime=n}}const sye={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function oG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sye,n),e.attributesLocs={},e.uniformLocs={},e.vertexShader=h8.newInstance(),e.vertexShader.setShaderType("Vertex"),e.fragmentShader=h8.newInstance(),e.fragmentShader.setShaderType("Fragment"),e.geometryShader=h8.newInstance(),e.geometryShader.setShaderType("Geometry"),ne.obj(t,e),ne.get(t,e,["lastCameraMTime"]),ne.setGet(t,e,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),oye(t,e)}const lye=ne.newInstance(oG,"vtkShaderProgram");var Fe={newInstance:lye,extend:oG,substitute:iye};function cye(t,e){e.classHierarchy.push("vtkOpenGLVertexArrayObject"),t.exposedMethod=()=>{},t.initialize=()=>{e.instancingExtension=null,e._openGLRenderWindow.getWebgl2()||(e.instancingExtension=e.context.getExtension("ANGLE_instanced_arrays")),!e.forceEmulation&&e._openGLRenderWindow&&e._openGLRenderWindow.getWebgl2()?(e.extension=null,e.supported=!0,e.handleVAO=e.context.createVertexArray()):(e.extension=e.context.getExtension("OES_vertex_array_object"),!e.forceEmulation&&e.extension?(e.supported=!0,e.handleVAO=e.extension.createVertexArrayOES()):e.supported=!1)},t.isReady=()=>e.handleVAO!==0||e.supported===!1,t.bind=()=>{if(t.isReady()||t.initialize(),t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(e.handleVAO):e.context.bindVertexArray(e.handleVAO);else if(t.isReady()){const n=e.context;for(let r=0;r<e.buffers.length;++r){const a=e.buffers[r];e.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(let i=0;i<a.attributes.length;++i){const o=a.attributes[i],s=o.isMatrix?o.size:1;for(let l=0;l<s;++l)n.enableVertexAttribArray(o.index+l),n.vertexAttribPointer(o.index+l,o.size,o.type,o.normalize,o.stride,o.offset+o.stride*l/o.size),o.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(o.index+l,1):n.vertexAttribDivisor(o.index+l,1))}}}},t.release=()=>{if(t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(null):e.context.bindVertexArray(null);else if(t.isReady()){const n=e.context;for(let r=0;r<e.buffers.length;++r){const a=e.buffers[r];e.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(let i=0;i<a.attributes.length;++i){const o=a.attributes[i],s=o.isMatrix?o.size:1;for(let l=0;l<s;++l)n.enableVertexAttribArray(o.index+l),n.vertexAttribPointer(o.index+l,o.size,o.type,o.normalize,o.stride,o.offset+o.stride*l/o.size),o.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(o.index+l,0):n.vertexAttribDivisor(o.index+l,0)),n.disableVertexAttribArray(o.index+l)}}}},t.shaderProgramChanged=()=>{t.release(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.handleProgram=0},t.releaseGraphicsResources=()=>{t.shaderProgramChanged(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.supported=!0,e.handleProgram=0},t.addAttributeArray=(n,r,a,i,o,s,l,c)=>t.addAttributeArrayWithDivisor(n,r,a,i,o,s,l,c,0,!1),t.addAttributeArrayWithDivisor=(n,r,a,i,o,s,l,c,f,u)=>{if(!n||!n.isBound()||r.getHandle()===0||r.getType()!==X0.ARRAY_BUFFER||(e.handleProgram===0&&(e.handleProgram=n.getHandle()),t.isReady()||t.initialize(),!t.isReady()||e.handleProgram!==n.getHandle()))return!1;const d=e.context,g={};if(g.name=a,g.index=d.getAttribLocation(e.handleProgram,a),g.offset=i,g.stride=o,g.type=s,g.size=l,g.normalize=c,g.isMatrix=u,g.divisor=f,g.Index===-1)return!1;if(r.bind(),d.enableVertexAttribArray(g.index),d.vertexAttribPointer(g.index,g.size,g.type,g.normalize,g.stride,g.offset),f>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(g.index,1):d.vertexAttribDivisor(g.index,1)),g.buffer=r.getHandle(),!e.supported){let v=!1;for(let m=0;m<e.buffers.length;++m){const p=e.buffers[m];if(p.buffer===g.buffer){v=!0;let h=!1;for(let y=0;y<p.attributes.length;++y)p.attributes[y].name===a&&(h=!0,p.attributes[y]=g);h||p.attributes.push(g)}}v||e.buffers.push({buffer:g.buffer,attributes:[g]})}return!0},t.addAttributeMatrixWithDivisor=(n,r,a,i,o,s,l,c,f)=>{const u=t.addAttributeArrayWithDivisor(n,r,a,i,o,s,l,c,f,!0);if(!u)return u;const d=e.context,g=d.getAttribLocation(e.handleProgram,a);for(let v=1;v<l;v++)d.enableVertexAttribArray(g+v),d.vertexAttribPointer(g+v,l,s,c,o,i+o*v/l),f>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(g+v,1):d.vertexAttribDivisor(g+v,1));return!0},t.removeAttributeArray=n=>{if(!t.isReady()||e.handleProgram===0)return!1;if(!e.supported)for(let r=0;r<e.buffers.length;++r){const a=e.buffers[r];for(let i=0;i<a.attributes.length;++i)if(a.attributes[i].name===n)return a.attributes.splice(i,1),a.attributes.length||e.buffers.splice(r,1),!0}return!0},t.setOpenGLRenderWindow=n=>{e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))}}const uye={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null};function sG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,uye,n),e.buffers=[],ne.obj(t,e),ne.get(t,e,["supported"]),ne.setGet(t,e,["forceEmulation"]),cye(t,e)}const fye=ne.newInstance(sG,"vtkOpenGLVertexArrayObject");var ww={newInstance:fye,extend:sG};const Gl={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6};function dye(t,e){e.classHierarchy.push("vtkOpenGLHelper"),t.setOpenGLRenderWindow=n=>{e.context=n.getContext(),e.program.setContext(e.context),e.VAO.setOpenGLRenderWindow(n),e.CABO.setOpenGLRenderWindow(n)},t.releaseGraphicsResources=n=>{e.VAO.releaseGraphicsResources(),e.CABO.releaseGraphicsResources(),e.CABO.setElementCount(0)},t.drawArrays=(n,r,a,i)=>{if(e.CABO.getElementCount()){const o=t.getOpenGLMode(a),s=t.haveWideLines(n,r),l=e.context,c=l.getParameter(l.DEPTH_WRITEMASK);e.pointPicking&&l.depthMask(!1),o===l.LINES&&s?(t.updateShaders(n,r,i),l.drawArraysInstanced(o,0,e.CABO.getElementCount(),2*Math.ceil(r.getProperty().getLineWidth()))):(l.lineWidth(r.getProperty().getLineWidth()),t.updateShaders(n,r,i),l.drawArrays(o,0,e.CABO.getElementCount()),l.lineWidth(1));const u=(o===l.POINTS?1:0)||(o===l.LINES?2:3);return e.pointPicking&&l.depthMask(c),e.CABO.getElementCount()/u}return 0},t.getOpenGLMode=n=>{if(e.pointPicking)return e.context.POINTS;const r=e.primitiveType;return n===ns.POINTS||r===Gl.Points?e.context.POINTS:n===ns.WIREFRAME||r===Gl.Lines||r===Gl.TrisEdges||r===Gl.TriStripsEdges?e.context.LINES:e.context.TRIANGLES},t.haveWideLines=(n,r)=>r.getProperty().getLineWidth()>1?!(e.CABO.getOpenGLRenderWindow()&&e.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth()>=r.getProperty().getLineWidth()):!1,t.getNeedToRebuildShaders=(n,r,a)=>!!(a.getNeedToRebuildShaders(t,n,r)||t.getProgram()===0||t.getShaderSourceTime().getMTime()<a.getMTime()||t.getShaderSourceTime().getMTime()<r.getMTime()),t.updateShaders=(n,r,a)=>{if(t.getNeedToRebuildShaders(n,r,a)){const i={Vertex:null,Fragment:null,Geometry:null};a.buildShaders(i,n,r);const o=e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==t.getProgram()&&(t.setProgram(o),t.getVAO().releaseGraphicsResources()),t.getShaderSourceTime().modified()}else e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(t.getProgram());t.getVAO().bind(),a.setMapperShaderParameters(t,n,r),a.setPropertyShaderParameters(t,n,r),a.setCameraShaderParameters(t,n,r),a.setLightingShaderParameters(t,n,r),a.invokeShaderCallbacks(t,n,r)},t.setMapperShaderParameters=(n,r,a)=>{if(t.haveWideLines(n,r)){t.getProgram().setUniform2f("viewportSize",a.usize,a.vsize);const i=parseFloat(r.getProperty().getLineWidth()),o=i/2;t.getProgram().setUniformf("lineWidthStepSize",i/Math.ceil(i)),t.getProgram().setUniformf("halfLineWidth",o)}e.primitiveType===Gl.Points||r.getProperty().getRepresentation()===ns.POINTS?t.getProgram().setUniformf("pointSize",r.getProperty().getPointSize()):e.pointPicking&&t.getProgram().setUniformf("pointSize",t.getPointPickingPrimitiveSize())},t.replaceShaderPositionVC=(n,r,a)=>{let i=n.Vertex;i=Fe.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform float pointSize;"]).result,i=Fe.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = pointSize;"],!1).result,t.getOpenGLMode(a.getProperty().getRepresentation())===e.context.LINES&&t.haveWideLines(r,a)&&(i=Fe.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform vec2 viewportSize;","uniform float lineWidthStepSize;","uniform float halfLineWidth;"]).result,i=Fe.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl"," if (halfLineWidth > 0.0)","   {","   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;","   vec4 tmpPos = gl_Position;","   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;","   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];","   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];","   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);","   }"]).result),n.Vertex=i},t.getPointPickingPrimitiveSize=()=>e.primitiveType===Gl.Points?2:e.primitiveType===Gl.Lines?4:6,t.getAllocatedGPUMemoryInBytes=()=>t.getCABO().getAllocatedGPUMemoryInBytes()}const gye={context:null,program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0,pointPicking:!1};function lG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gye,n),ne.obj(t,e),e.shaderSourceTime={},ne.obj(e.shaderSourceTime),e.attributeUpdateTime={},ne.obj(e.attributeUpdateTime),ne.setGet(t,e,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType","pointPicking"]),e.program=Fe.newInstance(),e.VAO=ww.newInstance(),e.CABO=eye.newInstance(),dye(t,e)}const mye=ne.newInstance(lG);var Uc={newInstance:mye,extend:lG,primTypes:Gl};const{Representation:um,Interpolation:fm}=rG;function TA(t){return()=>ne.vtkErrorMacro(`vtkProperty::${t} - NOT IMPLEMENTED`)}function vye(t,e){e.classHierarchy.push("vtkProperty"),t.setColor=(n,r,a)=>{Array.isArray(n)?(e.color[0]!==n[0]||e.color[1]!==n[1]||e.color[2]!==n[2])&&(e.color[0]=n[0],e.color[1]=n[1],e.color[2]=n[2],t.modified()):(e.color[0]!==n||e.color[1]!==r||e.color[2]!==a)&&(e.color[0]=n,e.color[1]=r,e.color[2]=a,t.modified()),t.setDiffuseColor(e.color),t.setAmbientColor(e.color),t.setSpecularColor(e.color)},t.computeCompositeColor=TA("ComputeCompositeColor"),t.getColor=()=>{let n=0;e.ambient+e.diffuse+e.specular>0&&(n=1/(e.ambient+e.diffuse+e.specular));for(let r=0;r<3;r++)e.color[r]=n*(e.ambient*e.ambientColor[r]+e.diffuse*e.diffuseColor[r]+e.specular*e.specularColor[r]);return[].concat(e.color)},t.setSpecularPower=n=>{const r=1/Math.max(1,n);(e.roughness!==r||e.specularPower!==n)&&(e.specularPower=n,e.roughness=r,t.modified())},t.addShaderVariable=TA("AddShaderVariable"),t.setInterpolationToFlat=()=>t.setInterpolation(fm.FLAT),t.setInterpolationToGouraud=()=>t.setInterpolation(fm.GOURAUD),t.setInterpolationToPhong=()=>t.setInterpolation(fm.PHONG),t.getInterpolationAsString=()=>ne.enumToString(fm,e.interpolation),t.setRepresentationToWireframe=()=>t.setRepresentation(um.WIREFRAME),t.setRepresentationToSurface=()=>t.setRepresentation(um.SURFACE),t.setRepresentationToPoints=()=>t.setRepresentation(um.POINTS),t.getRepresentationAsString=()=>ne.enumToString(um,e.representation)}const pye={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,metallic:0,roughness:.6,normalStrength:1,emission:1,baseIOR:1.45,specular:0,specularPower:1,opacity:1,interpolation:fm.GOURAUD,representation:um.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function cG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pye,n),ne.obj(t,e),ne.setGet(t,e,["lighting","interpolation","ambient","diffuse","metallic","roughness","normalStrength","emission","baseIOR","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation","diffuseTexture","metallicTexture","roughnessTexture","normalTexture","ambientOcclusionTexture","emissionTexture"]),ne.setGetArray(t,e,["ambientColor","specularColor","diffuseColor","edgeColor"],3),vye(t,e)}const hye=ne.newInstance(cG,"vtkProperty");var Ap={newInstance:hye,extend:cG,...rG};const{Representation:Sye}=Ap,{vtkErrorMacro:wA}=ne;function yye(t){const e=Fe.substitute(t.Fragment,"//VTK::RenderPassFragmentShader::Impl",`
      float weight = gl_FragData[0].a * pow(max(1.1 - gl_FragCoord.z, 0.0), 2.0);
      gl_FragData[0] = vec4(gl_FragData[0].rgb*weight, gl_FragData[0].a);
      gl_FragData[1].r = weight;
    `,!1);t.Fragment=e.result}const Cye=`//VTK::System::Dec

in vec2 tcoord;

uniform sampler2D translucentRTexture;
uniform sampler2D translucentRGBATexture;

// the output of this shader
//VTK::Output::Dec

void main()
{
  vec4 t1Color = texture(translucentRGBATexture, tcoord);
  float t2Color = texture(translucentRTexture, tcoord).r;
  gl_FragData[0] = vec4(t1Color.rgb/max(t2Color,0.01), 1.0 - t1Color.a);
}
`;function xye(t,e){e.classHierarchy.push("vtkOpenGLOrderIndependentTranslucentPass"),t.createVertexBuffer=()=>{const n=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),r=new Float32Array([0,0,1,0,0,1,1,1]),a=new Uint16Array([4,0,1,3,2]),i=Bn.newInstance({numberOfComponents:3,values:n});i.setName("points");const o=Bn.newInstance({numberOfComponents:2,values:r});o.setName("tcoords");const s=Bn.newInstance({numberOfComponents:1,values:a});e.tris.getCABO().createVBO(s,"polys",Sye.SURFACE,{points:i,tcoords:o,cellOffset:0}),e.VBOBuildTime.modified()},t.createFramebuffer=n=>{const r=n.getSize(),a=n.getContext();e.framebuffer=X5.newInstance(),e.framebuffer.setOpenGLRenderWindow(n),e.framebuffer.create(...r),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind(),e.translucentRGBATexture=Zr.newInstance(),e.translucentRGBATexture.setInternalFormat(a.RGBA16F),e.translucentRGBATexture.setFormat(a.RGBA),e.translucentRGBATexture.setOpenGLDataType(a.HALF_FLOAT),e.translucentRGBATexture.setOpenGLRenderWindow(n),e.translucentRGBATexture.create2DFromRaw(r[0],r[1],4,"Float32Array",null),e.translucentRTexture=Zr.newInstance(),e.translucentRTexture.setInternalFormat(a.R16F),e.translucentRTexture.setFormat(a.RED),e.translucentRTexture.setOpenGLDataType(a.HALF_FLOAT),e.translucentRTexture.setOpenGLRenderWindow(n),e.translucentRTexture.create2DFromRaw(r[0],r[1],1,"Float32Array",null),e.translucentZTexture=Zr.newInstance(),e.translucentZTexture.setOpenGLRenderWindow(n),e.translucentZTexture.createDepthFromRaw(r[0],r[1],"Float32Array",null),e.framebuffer.setColorBuffer(e.translucentRGBATexture,0),e.framebuffer.setColorBuffer(e.translucentRTexture,1),e.framebuffer.setDepthBuffer(e.translucentZTexture)},t.createCopyShader=n=>{e.copyShader=n.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","attribute vec2 tcoordTC;","varying vec2 tcoord;","void main() { tcoord = tcoordTC; gl_Position = vertexDC; }"].join(`
`),Cye,"")},t.createVBO=n=>{const r=n.getContext();e.tris.setOpenGLRenderWindow(n),t.createVertexBuffer();const a=e.copyShader;e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),r.FLOAT,3,r.FALSE)||wA("Error setting vertexDC in copy shader VAO."),e.copyVAO.addAttributeArray(a,e.tris.getCABO(),"tcoordTC",e.tris.getCABO().getTCoordOffset(),e.tris.getCABO().getStride(),r.FLOAT,2,r.FALSE)||wA("Error setting vertexDC in copy shader VAO.")},t.traverse=(n,r,a)=>{if(e.deleted)return;const i=n.getSize(),o=n.getContext();if(e._supported=!1,r.getSelector()||!o||!n.getWebgl2()||!o.getExtension("EXT_color_buffer_half_float")&&!o.getExtension("EXT_color_buffer_float")){t.setCurrentOperation("translucentPass"),r.traverse(t);return}if(e._supported=!0,e.framebuffer===null)t.createFramebuffer(n);else{const l=e.framebuffer.getSize();l===null||l[0]!==i[0]||l[1]!==i[1]?(e.framebuffer.releaseGraphicsResources(),e.translucentRGBATexture.releaseGraphicsResources(n),e.translucentRTexture.releaseGraphicsResources(n),e.translucentZTexture.releaseGraphicsResources(n),t.createFramebuffer(n)):(e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind())}o.drawBuffers([o.COLOR_ATTACHMENT0]),o.clearBufferfv(o.COLOR,0,[0,0,0,0]),o.clearBufferfv(o.DEPTH,0,[1]),o.colorMask(!1,!1,!1,!1),a.getOpaqueActorCount()>0&&(a.setCurrentOperation("opaqueZBufferPass"),r.traverse(a)),o.colorMask(!0,!0,!0,!0),o.drawBuffers([o.COLOR_ATTACHMENT0,o.COLOR_ATTACHMENT1]),o.viewport(0,0,i[0],i[1]),o.scissor(0,0,i[0],i[1]),o.clearBufferfv(o.COLOR,0,[0,0,0,1]),o.clearBufferfv(o.COLOR,1,[0,0,0,0]),o.enable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFuncSeparate(o.ONE,o.ONE,o.ZERO,o.ONE_MINUS_SRC_ALPHA),t.setCurrentOperation("translucentPass"),r.traverse(t),o.drawBuffers([o.NONE]),e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null?t.createCopyShader(n):n.getShaderCache().readyShaderProgram(e.copyShader),e.copyVAO||(e.copyVAO=ww.newInstance(),e.copyVAO.setOpenGLRenderWindow(n)),e.copyVAO.bind(),e.VBOBuildTime.getMTime()<t.getMTime()&&t.createVBO(n),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),o.depthMask(!1),o.depthFunc(o.ALWAYS),o.viewport(0,0,i[0],i[1]),o.scissor(0,0,i[0],i[1]),e.translucentRGBATexture.activate(),e.copyShader.setUniformi("translucentRGBATexture",e.translucentRGBATexture.getTextureUnit()),e.translucentRTexture.activate(),e.copyShader.setUniformi("translucentRTexture",e.translucentRTexture.getTextureUnit()),o.drawArrays(o.TRIANGLES,0,e.tris.getCABO().getElementCount()),o.depthMask(!0),o.depthFunc(o.LEQUAL),e.translucentRGBATexture.deactivate(),e.translucentRTexture.deactivate();const s=r.getTiledSizeAndOrigin();o.scissor(s.lowerLeftU,s.lowerLeftV,s.usize,s.vsize),o.viewport(s.lowerLeftU,s.lowerLeftV,s.usize,s.vsize)},t.getShaderReplacement=()=>e._supported?yye:null,t.releaseGraphicsResources=n=>{e.framebuffer&&(e.framebuffer.releaseGraphicsResources(n),e.framebuffer=null),e.translucentRGBATexture&&(e.translucentRGBATexture.releaseGraphicsResources(n),e.translucentRGBATexture=null),e.translucentRTexture&&(e.translucentRTexture.releaseGraphicsResources(n),e.translucentRTexture=null),e.translucentZTexture&&(e.translucentZTexture.releaseGraphicsResources(n),e.translucentZTexture=null),e.copyVAO&&(e.copyVAO.releaseGraphicsResources(n),e.copyVAO=null),e.copyShader&&(e.copyShader.releaseGraphicsResources(n),e.copyShader=null),e.tris&&(e.tris.releaseGraphicsResources(n),e.tris=null),t.modified()}}const Tye={framebuffer:null,copyShader:null,tris:null};function uG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Tye,n),fw.extend(t,e,n),e.VBOBuildTime={},ne.obj(e.VBOBuildTime,{mtime:0}),e.tris=Uc.newInstance(),ne.get(t,e,["framebuffer"]),xye(t,e)}const wye=ne.newInstance(uG,"vtkOpenGLOrderIndependentTranslucentPass");var bye={newInstance:wye,extend:uG};function Eye(t,e){e.classHierarchy.push("vtkForwardPass"),t.traverse=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e.deleted)return;e._currentParent=r,t.setCurrentOperation("buildPass"),n.traverse(t);const a=n.getRenderable().getNumberOfLayers(),i=n.getRenderable().getRenderersByReference();for(let o=0;o<a;o++)for(let s=0;s<i.length;s++){const l=i[s],c=n.getViewNodeFor(l);if(l.getDraw()&&l.getLayer()===o){if(e.opaqueActorCount=0,e.translucentActorCount=0,e.volumeCount=0,e.overlayActorCount=0,t.setCurrentOperation("queryPass"),c.traverse(t),(e.opaqueActorCount>0||e.translucentActorCount>0)&&e.volumeCount>0||e.depthRequested){const f=n.getFramebufferSize();e.framebuffer===null&&(e.framebuffer=X5.newInstance()),e.framebuffer.setOpenGLRenderWindow(n),e.framebuffer.saveCurrentBindingsAndBuffers();const u=e.framebuffer.getSize();(u===null||u[0]!==f[0]||u[1]!==f[1])&&(e.framebuffer.create(f[0],f[1]),e.framebuffer.populateFramebuffer()),e.framebuffer.bind(),t.setCurrentOperation("zBufferPass"),c.traverse(t),e.framebuffer.restorePreviousBindingsAndBuffers(),e.depthRequested=!1}t.setCurrentOperation("cameraPass"),c.traverse(t),e.opaqueActorCount>0&&(t.setCurrentOperation("opaquePass"),c.traverse(t)),e.translucentActorCount>0&&(e.translucentPass||(e.translucentPass=bye.newInstance()),e.translucentPass.traverse(n,c,t)),e.volumeCount>0&&(t.setCurrentOperation("volumePass"),c.traverse(t)),e.overlayActorCount>0&&(t.setCurrentOperation("overlayPass"),c.traverse(t))}}},t.getZBufferTexture=()=>e.framebuffer?e.framebuffer.getColorTexture():null,t.requestDepth=()=>{e.depthRequested=!0},t.incrementOpaqueActorCount=()=>e.opaqueActorCount++,t.incrementTranslucentActorCount=()=>e.translucentActorCount++,t.incrementVolumeCount=()=>e.volumeCount++,t.incrementOverlayActorCount=()=>e.overlayActorCount++}const Dye={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,overlayActorCount:0,framebuffer:null,depthRequested:!1};function fG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Dye,n),fw.extend(t,e,n),ne.get(t,e,["framebuffer","opaqueActorCount","translucentActorCount","volumeCount"]),Eye(t,e)}const Oye=ne.newInstance(fG,"vtkForwardPass");var Rye={newInstance:Oye,extend:fG};const Gi={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,ID_HIGH24:3,MAX_KNOWN_PASS:3};var dG={PassTypes:Gi};const{vtkErrorMacro:bA,vtkWarningMacro:Iye}=ne;function Aye(t,e){e.classHierarchy.push("vtkFieldData");const n=t.getState;e.arrays&&(e.arrays=e.arrays.map(r=>({data:Os(r.data)}))),t.initialize=()=>{t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()},t.initializeFields=()=>{e.arrays=[],e.copyFieldFlags={},t.modified()},t.copyStructure=r=>{t.initializeFields(),e.copyFieldFlags=r.getCopyFieldFlags().map(a=>a),e.arrays=r.arrays().map(a=>({array:a}))},t.getNumberOfArrays=()=>e.arrays.length,t.getNumberOfActiveArrays=()=>e.arrays.length,t.addArray=r=>{const a=r.getName(),{array:i,index:o}=t.getArrayWithIndex(a);return i!=null?(e.arrays[o]={data:r},o):(e.arrays=[].concat(e.arrays,{data:r}),e.arrays.length-1)},t.removeAllArrays=()=>{e.arrays=[]},t.removeArray=r=>{const a=e.arrays.findIndex(i=>i.data.getName()===r);return t.removeArrayByIndex(a)},t.removeArrayByIndex=r=>r!==-1&&r<e.arrays.length?(e.arrays.splice(r,1),!0):!1,t.getArrays=()=>e.arrays.map(r=>r.data),t.getArray=r=>typeof r=="number"?t.getArrayByIndex(r):t.getArrayByName(r),t.getArrayByName=r=>e.arrays.reduce((a,i,o)=>i.data.getName()===r?i.data:a,null),t.getArrayWithIndex=r=>{const a=e.arrays.findIndex(i=>i.data.getName()===r);return{array:a!==-1?e.arrays[a].data:null,index:a}},t.getArrayByIndex=r=>r>=0&&r<e.arrays.length?e.arrays[r].data:null,t.hasArray=r=>t.getArrayWithIndex(r).index>=0,t.getArrayName=r=>{const a=e.arrays[r];return a?a.data.getName():""},t.getCopyFieldFlags=()=>e.copyFieldFlags,t.getFlag=r=>e.copyFieldFlags[r],t.passData=function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;r.getArrays().forEach(o=>{const s=t.getFlag(o.getName());if(s!==!1&&!(e.doCopyAllOff&&s!==!0)&&o){let l=t.getArrayByName(o.getName());if(l)if(o.getNumberOfComponents()===l.getNumberOfComponents())if(a>-1&&a<o.getNumberOfTuples()){const c=i>-1?i:a;l.insertTuple(c,o.getTuple(a))}else l.insertTuples(0,o.getTuples());else bA("Unhandled case in passData");else if(a<0||a>o.getNumberOfTuples())t.addArray(o),r.getAttributes(o).forEach(c=>{t.setAttribute(o,c)});else{const c=o.getNumberOfComponents();let f=o.getNumberOfValues();const u=i>-1?i:a;f<=u*c&&(f=(u+1)*c),l=Bn.newInstance({name:o.getName(),dataType:o.getDataType(),numberOfComponents:c,values:ne.newTypedArray(o.getDataType(),f),size:0}),l.insertTuple(u,o.getTuple(a)),t.addArray(l),r.getAttributes(o).forEach(d=>{t.setAttribute(l,d)})}}})},t.interpolateData=function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5;r.getArrays().forEach(l=>{const c=t.getFlag(l.getName());if(c!==!1&&!(e.doCopyAllOff&&c!==!0)&&l){let f=t.getArrayByName(l.getName());if(f)if(l.getNumberOfComponents()===f.getNumberOfComponents())if(a>-1&&a<l.getNumberOfTuples()){const u=o>-1?o:a;f.interpolateTuple(u,l,a,l,i,s),Iye("Unexpected case in interpolateData")}else f.insertTuples(l.getTuples());else bA("Unhandled case in interpolateData");else if(a<0||i<0||a>l.getNumberOfTuples())t.addArray(l),r.getAttributes(l).forEach(u=>{t.setAttribute(l,u)});else{const u=l.getNumberOfComponents();let d=l.getNumberOfValues();const g=o>-1?o:a;d<=g*u&&(d=(g+1)*u),f=Bn.newInstance({name:l.getName(),dataType:l.getDataType(),numberOfComponents:u,values:ne.newTypedArray(l.getDataType(),d),size:0}),f.interpolateTuple(g,l,a,l,i,s),t.addArray(f),r.getAttributes(l).forEach(v=>{t.setAttribute(f,v)})}}})},t.copyFieldOn=r=>{e.copyFieldFlags[r]=!0},t.copyFieldOff=r=>{e.copyFieldFlags[r]=!1},t.copyAllOn=()=>{(!e.doCopyAllOn||e.doCopyAllOff)&&(e.doCopyAllOn=!0,e.doCopyAllOff=!1,t.modified())},t.copyAllOff=()=>{(e.doCopyAllOn||!e.doCopyAllOff)&&(e.doCopyAllOn=!1,e.doCopyAllOff=!0,t.modified())},t.clearFieldFlags=()=>{e.copyFieldFlags={}},t.deepCopy=r=>{e.arrays=r.getArrays().map(a=>{const i=a.newClone();return i.deepCopy(a),{data:i}})},t.copyFlags=r=>r.getCopyFieldFlags().map(a=>a),t.reset=()=>e.arrays.forEach(r=>r.data.reset()),t.getMTime=()=>e.arrays.reduce((r,a)=>a.data.getMTime()>r?a.data.getMTime():r,e.mtime),t.getNumberOfComponents=()=>e.arrays.reduce((r,a)=>r+a.data.getNumberOfComponents(),0),t.getNumberOfTuples=()=>e.arrays.length>0?e.arrays[0].getNumberOfTuples():0,t.getState=()=>{const r=n();return r&&(r.arrays=e.arrays.map(a=>({data:a.data.getState()}))),r}}const Mye={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function gG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Mye,n),ne.obj(t,e),Aye(t,e)}const Pye=ne.newInstance(gG,"vtkFieldData");var Lye={newInstance:Pye,extend:gG};const _ye={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},Nye={MAX:0,EXACT:1,NOLIMIT:2},Fye={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},$ye={DUPLICATEPOINT:1,HIDDENPOINT:2},Vye={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},kye="vtkGhostType",Uye={DEFAULT:0,SINGLE:1,DOUBLE:2};var mG={AttributeCopyOperations:Vye,AttributeLimitTypes:Nye,AttributeTypes:_ye,CellGhostTypes:Fye,DesiredOutputPrecision:Uye,PointGhostTypes:$ye,ghostArrayName:kye};const{AttributeTypes:Ll,AttributeCopyOperations:su}=mG,{vtkWarningMacro:wh}=ne;function Bye(t,e){const n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(o){let s=n.find(l=>Ll[l.toUpperCase()]===o||typeof o!="number"&&l.toLowerCase()===o.toLowerCase());return typeof s>"u"&&(s=null),s}e.classHierarchy.push("vtkDataSetAttributes");const a={...t};t.checkNumberOfComponents=o=>!0,t.setAttribute=(o,s)=>{const l=r(s);if(o&&l.toUpperCase()==="PEDIGREEIDS"&&!o.isA("vtkDataArray"))return wh(`Cannot set attribute ${l}. The attribute must be a vtkDataArray.`),-1;if(o&&!t.checkNumberOfComponents(o,l))return wh(`Cannot set attribute ${l}. Incorrect number of components.`),-1;let c=e[`active${l}`];if(c>=0&&c<e.arrays.length){if(e.arrays[c]===o)return c;t.removeArrayByIndex(c)}return o?(c=t.addArray(o),e[`active${l}`]=c):e[`active${l}`]=-1,t.modified(),e[`active${l}`]},t.getAttributes=o=>n.filter(s=>t[`get${s}`]()===o),t.setActiveAttributeByName=(o,s)=>t.setActiveAttributeByIndex(t.getArrayWithIndex(o).index,s),t.setActiveAttributeByIndex=(o,s)=>{const l=r(s);if(o>=0&&o<e.arrays.length){if(l.toUpperCase()!=="PEDIGREEIDS"){const c=t.getArrayByIndex(o);if(!c.isA("vtkDataArray"))return wh(`Cannot set attribute ${l}. Only vtkDataArray subclasses can be set as active attributes.`),-1;if(!t.checkNumberOfComponents(c,l))return wh(`Cannot set attribute ${l}. Incorrect number of components.`),-1}return e[`active${l}`]=o,t.modified(),o}return o===-1&&(e[`active${l}`]=o,t.modified()),-1},t.getActiveAttribute=o=>{const s=r(o);return t[`get${s}`]()},t.removeAllArrays=()=>{n.forEach(o=>{e[`active${o}`]=-1}),a.removeAllArrays()},t.removeArrayByIndex=o=>(o!==-1&&n.forEach(s=>{o===e[`active${s}`]?e[`active${s}`]=-1:o<e[`active${s}`]&&(e[`active${s}`]-=1)}),a.removeArrayByIndex(o)),n.forEach(o=>{const s=`active${o}`;t[`get${o}`]=()=>t.getArrayByIndex(e[s]),t[`set${o}`]=l=>t.setAttribute(l,o),t[`setActive${o}`]=l=>t.setActiveAttributeByIndex(t.getArrayWithIndex(l).index,o),t[`copy${o}Off`]=()=>{const l=o.toUpperCase();e.copyAttributeFlags[su.PASSDATA][Ll[l]]=!1},t[`copy${o}On`]=()=>{const l=o.toUpperCase();e.copyAttributeFlags[su.PASSDATA][Ll[l]]=!0}}),t.initializeAttributeCopyFlags=()=>{e.copyAttributeFlags=[],Object.keys(su).filter(o=>o!=="ALLCOPY").forEach(o=>{e.copyAttributeFlags[su[o]]=Object.keys(Ll).filter(s=>s!=="NUM_ATTRIBUTES").reduce((s,l)=>(s[Ll[l]]=!0,s),[])}),e.copyAttributeFlags[su.COPYTUPLE][Ll.GLOBALIDS]=!1,e.copyAttributeFlags[su.INTERPOLATE][Ll.GLOBALIDS]=!1,e.copyAttributeFlags[su.COPYTUPLE][Ll.PEDIGREEIDS]=!1},t.initialize=ne.chain(t.initialize,t.initializeAttributeCopyFlags),e.dataArrays&&Object.keys(e.dataArrays).length&&Object.keys(e.dataArrays).forEach(o=>{!e.dataArrays[o].ref&&e.dataArrays[o].type==="vtkDataArray"&&t.addArray(Bn.newInstance(e.dataArrays[o]))});const i=t.shallowCopy;t.shallowCopy=(o,s)=>{i(o,s),e.arrays=o.getArrays().map(l=>{const c=l.newClone();return c.shallowCopy(l,s),{data:c}})},t.initializeAttributeCopyFlags()}const Gye={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function vG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Gye,n),Lye.extend(t,e,n),ne.setGet(t,e,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),e.arrays||(e.arrays={}),Bye(t,e)}const zye=ne.newInstance(vG,"vtkDataSetAttributes");var EA={newInstance:zye,extend:vG,...mG};const Wye={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},jye={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7};var Hye={FieldDataTypes:Wye,FieldAssociations:jye};const z9=["pointData","cellData","fieldData"];function qye(t,e){e.classHierarchy.push("vtkDataSet"),z9.forEach(r=>{e[r]?e[r]=Os(e[r]):e[r]=EA.newInstance()});const n=t.shallowCopy;t.shallowCopy=function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(r,a),z9.forEach(i=>{e[i]=EA.newInstance(),e[i].shallowCopy(r.getReferenceByName(i))})}}const Kye={};function pG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Kye,n),ne.obj(t,e),ne.setGet(t,e,z9),qye(t,e)}const Qye=ne.newInstance(pG,"vtkDataSet");var cg={newInstance:Qye,extend:pG,...Hye};const{FieldAssociations:Xye}=cg;function Yye(t,e){e.classHierarchy.push("vtkHardwareSelector"),t.getSourceDataAsync=async(n,r,a,i,o)=>{},t.selectAsync=async(n,r,a,i,o)=>{const s=await t.getSourceDataAsync(n,r,a,i,o);return s?s.generateSelection(r,a,i,o):[]}}const Zye={fieldAssociation:Xye.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function hG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Zye,n),ne.obj(t,e),ne.setGet(t,e,["fieldAssociation","captureZValues"]),Yye(t,e)}const Jye=ne.newInstance(hG,"vtkHardwareSelector");var e4e={newInstance:Jye,extend:hG};const t4e={GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},n4e={CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5};var r4e={SelectionContent:t4e,SelectionField:n4e};function a4e(t,e){e.classHierarchy.push("vtkSelectionNode"),t.getBounds=()=>e.points.getBounds()}const i4e={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function SG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,i4e,n),ne.obj(t,e),e.properties={},ne.setGet(t,e,["contentType","fieldType","properties","selectionList"]),a4e(t,e)}const o4e=ne.newInstance(SG,"vtkSelectionNode");var yG={newInstance:o4e,extend:SG,...r4e};const{PassTypes:Ma}=dG,{SelectionContent:s4e,SelectionField:DA}=yG,{FieldAssociations:$m}=cg,{vtkErrorMacro:CG}=ne,Jl=1;function xG(t){return`${t.propID} ${t.compositeID}`}function TG(t,e,n,r){if(!n)return 0;const a=(e*(r[2]-r[0]+1)+t)*4;return n[a+3]}function $0(t,e,n,r){if(!n)return 0;const a=(e*(r[2]-r[0]+1)+t)*4,i=n[a],o=n[a+1];return(n[a+2]*256+o)*256+i}function wG(t,e){let n=e;return n<<=24,n|=t,n}function l4e(t,e,n,r){{if(r[0]=e[0],r[1]=e[1],e[0]<t.area[0]||e[0]>t.area[2]||e[1]<t.area[1]||e[1]>t.area[3])return null;const a=[e[0]-t.area[0],e[1]-t.area[1]],i=$0(a[0],a[1],t.pixBuffer[Ma.ACTOR_PASS],t.area);if(i<=0||i-Jl>=t.props.length)return null;const o={};o.valid=!0,o.propID=i-Jl,o.prop=t.props[o.propID];let s=$0(a[0],a[1],t.pixBuffer[Ma.COMPOSITE_INDEX_PASS],t.area);if((s<0||s>16777215)&&(s=0),o.compositeID=s-Jl,t.captureZValues){const f=(a[1]*(t.area[2]-t.area[0]+1)+a[0])*4;o.zValue=(256*t.zBuffer[f]+t.zBuffer[f+1])/65535,o.displayPosition=e}if(t.pixBuffer[Ma.ID_LOW24]&&TG(a[0],a[1],t.pixBuffer[Ma.ID_LOW24],t.area)===0)return o;const l=$0(a[0],a[1],t.pixBuffer[Ma.ID_LOW24],t.area),c=$0(a[0],a[1],t.pixBuffer[Ma.ID_HIGH24],t.area);return o.attributeID=wG(l,c),o}}function bG(t,e,n,r,a){const i=[];let o=0;return e.forEach((s,l)=>{const c=yG.newInstance();switch(c.setContentType(s4e.INDICES),t){case $m.FIELD_ASSOCIATION_CELLS:c.setFieldType(DA.CELL);break;case $m.FIELD_ASSOCIATION_POINTS:c.setFieldType(DA.POINT);break;default:CG("Unknown field association")}c.getProperties().propID=s.info.propID,c.getProperties().prop=s.info.prop,c.getProperties().compositeID=s.info.compositeID,c.getProperties().attributeID=s.info.attributeID,c.getProperties().pixelCount=s.pixelCount,n&&(c.getProperties().displayPosition=[s.info.displayPosition[0],s.info.displayPosition[1],s.info.zValue],c.getProperties().worldPosition=a.displayToWorld(s.info.displayPosition[0],s.info.displayPosition[1],s.info.zValue,r)),c.setSelectionList(s.attributeIDs),i[o]=c,o++}),i}function c4e(t,e,n,r,a){const i=Math.floor(e),o=Math.floor(n),s=Math.floor(r),l=Math.floor(a),c=new Map,f=[0,0];for(let u=o;u<=l;u++)for(let d=i;d<=s;d++){const v=l4e(t,[d,u],0,f);if(v&&v.valid){const m=xG(v);if(!c.has(m))c.set(m,{info:v,pixelCount:1,attributeIDs:[v.attributeID]});else{const p=c.get(m);p.pixelCount++,t.captureZValues&&v.zValue<p.info.zValue&&(p.info=v),p.attributeIDs.indexOf(v.attributeID)===-1&&p.attributeIDs.push(v.attributeID)}}}return bG(t.fieldAssociation,c,t.captureZValues,t.renderer,t.openGLRenderWindow)}function u4e(t,e){e.classHierarchy.push("vtkOpenGLHardwareSelector"),t.releasePixBuffers=()=>{e.rawPixBuffer=[],e.pixBuffer=[],e.zBuffer=null},t.beginSelection=()=>{e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e.maxAttributeId=0;const r=e._openGLRenderWindow.getSize();if(!e.framebuffer)e.framebuffer=X5.newInstance(),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer();else{e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers();const a=e.framebuffer.getSize();!a||a[0]!==r[0]||a[1]!==r[1]?(e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer()):e.framebuffer.bind()}if(e._openGLRenderer.clear(),e._openGLRenderer.setSelector(t),e.hitProps={},e.propPixels={},e.props=[],t.releasePixBuffers(),e.fieldAssociation===$m.FIELD_ASSOCIATION_POINTS){const a=e._openGLRenderWindow.getContext(),i=a.isEnabled(a.BLEND);a.disable(a.BLEND),e._openGLRenderWindow.traverseAllPasses(),i&&a.enable(a.BLEND)}},t.endSelection=()=>{e.hitProps={},e._openGLRenderer.setSelector(null),e.framebuffer.restorePreviousBindingsAndBuffers()},t.preCapturePass=()=>{const r=e._openGLRenderWindow.getContext();e.originalBlending=r.isEnabled(r.BLEND),r.disable(r.BLEND)},t.postCapturePass=()=>{const r=e._openGLRenderWindow.getContext();e.originalBlending&&r.enable(r.BLEND)},t.select=()=>{let r=null;return t.captureBuffers()&&(r=t.generateSelection(e.area[0],e.area[1],e.area[2],e.area[3]),t.releasePixBuffers()),r},t.getSourceDataAsync=async(r,a,i,o,s)=>{if(e._renderer=r,a===void 0){const c=e._openGLRenderWindow.getSize();t.setArea(0,0,c[0]-1,c[1]-1)}else t.setArea(a,i,o,s);if(!t.captureBuffers())return!1;const l={area:[...e.area],pixBuffer:[...e.pixBuffer],captureZValues:e.captureZValues,zBuffer:e.zBuffer,props:[...e.props],fieldAssociation:e.fieldAssociation,renderer:r,openGLRenderWindow:e._openGLRenderWindow};return l.generateSelection=function(){for(var c=arguments.length,f=new Array(c),u=0;u<c;u++)f[u]=arguments[u];return c4e(l,...f)},l},t.captureBuffers=()=>{if(!e._renderer||!e._openGLRenderWindow)return CG("Renderer and view must be set before calling Select."),!1;e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e._openGLRenderWindow.getRenderable().preRender(),t.invokeEvent({type:"StartEvent"}),e.originalBackground=e._renderer.getBackgroundByReference(),e._renderer.setBackground(0,0,0,0);const r=e._openGLRenderWindow.getRenderPasses();t.beginSelection();const a=[];for(e.currentPass=Ma.MIN_KNOWN_PASS;e.currentPass<=Ma.MAX_KNOWN_PASS;e.currentPass++)t.passRequired(e.currentPass)&&(t.preCapturePass(e.currentPass),e.captureZValues&&e.currentPass===Ma.ACTOR_PASS&&typeof r[0].requestDepth=="function"&&typeof r[0].getFramebuffer=="function"&&r[0].requestDepth(),e._openGLRenderWindow.traverseAllPasses(),t.postCapturePass(e.currentPass),t.savePixelBuffer(e.currentPass),a.push(e.currentPass));return a.forEach(i=>{e.currentPass=i,t.processPixelBuffers()}),e.currentPass=Ma.MAX_KNOWN_PASS,t.endSelection(),e._renderer.setBackground(e.originalBackground),t.invokeEvent({type:"EndEvent"}),!0},t.processPixelBuffers=()=>{e.props.forEach((r,a)=>{t.isPropHit(a)&&r.processSelectorPixelBuffers(t,e.propPixels[a])})},t.passRequired=r=>{if(r===Ma.ID_HIGH24){if(e.fieldAssociation===$m.FIELD_ASSOCIATION_POINTS)return e.maximumPointId>16777215;if(e.fieldAssociation===$m.FIELD_ASSOCIATION_CELLS)return e.maximumCellId>16777215}return!0},t.savePixelBuffer=r=>{if(e.pixBuffer[r]=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),!e.rawPixBuffer[r]){const a=(e.area[2]-e.area[0]+1)*(e.area[3]-e.area[1]+1)*4;e.rawPixBuffer[r]=new Uint8Array(a),e.rawPixBuffer[r].set(e.pixBuffer[r])}if(r===Ma.ACTOR_PASS){if(e.captureZValues){const a=e._openGLRenderWindow.getRenderPasses();if(typeof a[0].requestDepth=="function"&&typeof a[0].getFramebuffer=="function"){const i=a[0].getFramebuffer();i.saveCurrentBindingsAndBuffers(),i.bind(),e.zBuffer=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),i.restorePreviousBindingsAndBuffers()}}t.buildPropHitList(e.rawPixBuffer[r])}},t.buildPropHitList=r=>{let a=0;for(let i=0;i<=e.area[3]-e.area[1];i++)for(let o=0;o<=e.area[2]-e.area[0];o++){let s=$0(o,i,r,e.area);s>0&&(s--,s in e.hitProps||(e.hitProps[s]=!0,e.propPixels[s]=[]),e.propPixels[s].push(a*4)),++a}},t.renderProp=r=>{e.currentPass===Ma.ACTOR_PASS&&(t.setPropColorValueFromInt(e.props.length+Jl),e.props.push(r))},t.renderCompositeIndex=r=>{e.currentPass===Ma.COMPOSITE_INDEX_PASS&&t.setPropColorValueFromInt(r+Jl)},t.renderAttributeId=r=>{r<0||(e.maxAttributeId=r>e.maxAttributeId?r:e.maxAttributeId)},t.passTypeToString=r=>ne.enumToString(Ma,r),t.isPropHit=r=>!!e.hitProps[r],t.setPropColorValueFromInt=r=>{e.propColorValue[0]=r%256/255,e.propColorValue[1]=Math.floor(r/256)%256/255,e.propColorValue[2]=Math.floor(r/65536)%256/255},t.getPixelInformation=(r,a,i)=>{const o=a<0?0:a;if(o===0){if(i[0]=r[0],i[1]=r[1],r[0]<e.area[0]||r[0]>e.area[2]||r[1]<e.area[1]||r[1]>e.area[3])return null;const f=[r[0]-e.area[0],r[1]-e.area[1]],u=$0(f[0],f[1],e.pixBuffer[Ma.ACTOR_PASS],e.area);if(u<=0||u-Jl>=e.props.length)return null;const d={};d.valid=!0,d.propID=u-Jl,d.prop=e.props[d.propID];let g=$0(f[0],f[1],e.pixBuffer[Ma.COMPOSITE_INDEX_PASS],e.area);if((g<0||g>16777215)&&(g=0),d.compositeID=g-Jl,e.captureZValues){const p=(f[1]*(e.area[2]-e.area[0]+1)+f[0])*4;d.zValue=(256*e.zBuffer[p]+e.zBuffer[p+1])/65535,d.displayPosition=r}if(e.pixBuffer[Ma.ID_LOW24]&&TG(f[0],f[1],e.pixBuffer[Ma.ID_LOW24],e.area)===0)return d;const v=$0(f[0],f[1],e.pixBuffer[Ma.ID_LOW24],e.area),m=$0(f[0],f[1],e.pixBuffer[Ma.ID_HIGH24],e.area);return d.attributeID=wG(v,m),d}const s=[r[0],r[1]],l=[0,0];let c=t.getPixelInformation(r,0,i);if(c&&c.valid)return c;for(let f=1;f<o;++f){for(let u=s[1]>f?s[1]-f:0;u<=s[1]+f;++u)if(l[1]=u,s[0]>=f&&(l[0]=s[0]-f,c=t.getPixelInformation(l,0,i),c&&c.valid)||(l[0]=s[0]+f,c=t.getPixelInformation(l,0,i),c&&c.valid))return c;for(let u=s[0]>=f?s[0]-(f-1):0;u<=s[0]+(f-1);++u)if(l[0]=u,s[1]>=f&&(l[1]=s[1]-f,c=t.getPixelInformation(l,0,i),c&&c.valid)||(l[1]=s[1]+f,c=t.getPixelInformation(l,0,i),c&&c.valid))return c}return i[0]=r[0],i[1]=r[1],null},t.generateSelection=(r,a,i,o)=>{const s=Math.floor(r),l=Math.floor(a),c=Math.floor(i),f=Math.floor(o),u=new Map,d=[0,0];for(let g=l;g<=f;g++)for(let v=s;v<=c;v++){const m=[v,g],p=t.getPixelInformation(m,0,d);if(p&&p.valid){const h=xG(p);if(!u.has(h))u.set(h,{info:p,pixelCount:1,attributeIDs:[p.attributeID]});else{const y=u.get(h);y.pixelCount++,e.captureZValues&&p.zValue<y.info.zValue&&(y.info=p),y.attributeIDs.indexOf(p.attributeID)===-1&&y.attributeIDs.push(p.attributeID)}}}return bG(e.fieldAssociation,u,e.captureZValues,e._renderer,e._openGLRenderWindow)},t.getRawPixelBuffer=r=>e.rawPixBuffer[r],t.getPixelBuffer=r=>e.pixBuffer[r],t.attach=(r,a)=>{e._openGLRenderWindow=r,e._renderer=a};const n=t.setArea;t.setArea=function(){return n(...arguments)?(e.area[0]=Math.floor(e.area[0]),e.area[1]=Math.floor(e.area[1]),e.area[2]=Math.floor(e.area[2]),e.area[3]=Math.floor(e.area[3]),!0):!1}}const f4e={area:void 0,currentPass:-1,propColorValue:null,props:null,maximumPointId:0,maximumCellId:0,idOffset:1};function EG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,f4e,n),e4e.extend(t,e,n),e.propColorValue=[0,0,0],e.props=[],e.area||(e.area=[0,0,0,0]),ne.setGetArray(t,e,["area"],4),ne.setGet(t,e,["_renderer","currentPass","_openGLRenderWindow","maximumPointId","maximumCellId"]),ne.setGetArray(t,e,["propColorValue"],3),ne.moveToProtected(t,e,["renderer","openGLRenderWindow"]),ne.event(t,e,"event"),u4e(t,e)}const d4e=ne.newInstance(EG,"vtkOpenGLHardwareSelector");var bw={newInstance:d4e,extend:EG,...dG},DG={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(h,y){var C=h[0],x=h[1],T=h[2],w=h[3];C+=(x&T|~x&w)+y[0]-680876936|0,C=(C<<7|C>>>25)+x|0,w+=(C&x|~C&T)+y[1]-389564586|0,w=(w<<12|w>>>20)+C|0,T+=(w&C|~w&x)+y[2]+606105819|0,T=(T<<17|T>>>15)+w|0,x+=(T&w|~T&C)+y[3]-1044525330|0,x=(x<<22|x>>>10)+T|0,C+=(x&T|~x&w)+y[4]-176418897|0,C=(C<<7|C>>>25)+x|0,w+=(C&x|~C&T)+y[5]+1200080426|0,w=(w<<12|w>>>20)+C|0,T+=(w&C|~w&x)+y[6]-1473231341|0,T=(T<<17|T>>>15)+w|0,x+=(T&w|~T&C)+y[7]-45705983|0,x=(x<<22|x>>>10)+T|0,C+=(x&T|~x&w)+y[8]+1770035416|0,C=(C<<7|C>>>25)+x|0,w+=(C&x|~C&T)+y[9]-1958414417|0,w=(w<<12|w>>>20)+C|0,T+=(w&C|~w&x)+y[10]-42063|0,T=(T<<17|T>>>15)+w|0,x+=(T&w|~T&C)+y[11]-1990404162|0,x=(x<<22|x>>>10)+T|0,C+=(x&T|~x&w)+y[12]+1804603682|0,C=(C<<7|C>>>25)+x|0,w+=(C&x|~C&T)+y[13]-40341101|0,w=(w<<12|w>>>20)+C|0,T+=(w&C|~w&x)+y[14]-1502002290|0,T=(T<<17|T>>>15)+w|0,x+=(T&w|~T&C)+y[15]+1236535329|0,x=(x<<22|x>>>10)+T|0,C+=(x&w|T&~w)+y[1]-165796510|0,C=(C<<5|C>>>27)+x|0,w+=(C&T|x&~T)+y[6]-1069501632|0,w=(w<<9|w>>>23)+C|0,T+=(w&x|C&~x)+y[11]+643717713|0,T=(T<<14|T>>>18)+w|0,x+=(T&C|w&~C)+y[0]-373897302|0,x=(x<<20|x>>>12)+T|0,C+=(x&w|T&~w)+y[5]-701558691|0,C=(C<<5|C>>>27)+x|0,w+=(C&T|x&~T)+y[10]+38016083|0,w=(w<<9|w>>>23)+C|0,T+=(w&x|C&~x)+y[15]-660478335|0,T=(T<<14|T>>>18)+w|0,x+=(T&C|w&~C)+y[4]-405537848|0,x=(x<<20|x>>>12)+T|0,C+=(x&w|T&~w)+y[9]+568446438|0,C=(C<<5|C>>>27)+x|0,w+=(C&T|x&~T)+y[14]-1019803690|0,w=(w<<9|w>>>23)+C|0,T+=(w&x|C&~x)+y[3]-187363961|0,T=(T<<14|T>>>18)+w|0,x+=(T&C|w&~C)+y[8]+1163531501|0,x=(x<<20|x>>>12)+T|0,C+=(x&w|T&~w)+y[13]-1444681467|0,C=(C<<5|C>>>27)+x|0,w+=(C&T|x&~T)+y[2]-51403784|0,w=(w<<9|w>>>23)+C|0,T+=(w&x|C&~x)+y[7]+1735328473|0,T=(T<<14|T>>>18)+w|0,x+=(T&C|w&~C)+y[12]-1926607734|0,x=(x<<20|x>>>12)+T|0,C+=(x^T^w)+y[5]-378558|0,C=(C<<4|C>>>28)+x|0,w+=(C^x^T)+y[8]-2022574463|0,w=(w<<11|w>>>21)+C|0,T+=(w^C^x)+y[11]+1839030562|0,T=(T<<16|T>>>16)+w|0,x+=(T^w^C)+y[14]-35309556|0,x=(x<<23|x>>>9)+T|0,C+=(x^T^w)+y[1]-1530992060|0,C=(C<<4|C>>>28)+x|0,w+=(C^x^T)+y[4]+1272893353|0,w=(w<<11|w>>>21)+C|0,T+=(w^C^x)+y[7]-155497632|0,T=(T<<16|T>>>16)+w|0,x+=(T^w^C)+y[10]-1094730640|0,x=(x<<23|x>>>9)+T|0,C+=(x^T^w)+y[13]+681279174|0,C=(C<<4|C>>>28)+x|0,w+=(C^x^T)+y[0]-358537222|0,w=(w<<11|w>>>21)+C|0,T+=(w^C^x)+y[3]-722521979|0,T=(T<<16|T>>>16)+w|0,x+=(T^w^C)+y[6]+76029189|0,x=(x<<23|x>>>9)+T|0,C+=(x^T^w)+y[9]-640364487|0,C=(C<<4|C>>>28)+x|0,w+=(C^x^T)+y[12]-421815835|0,w=(w<<11|w>>>21)+C|0,T+=(w^C^x)+y[15]+530742520|0,T=(T<<16|T>>>16)+w|0,x+=(T^w^C)+y[2]-995338651|0,x=(x<<23|x>>>9)+T|0,C+=(T^(x|~w))+y[0]-198630844|0,C=(C<<6|C>>>26)+x|0,w+=(x^(C|~T))+y[7]+1126891415|0,w=(w<<10|w>>>22)+C|0,T+=(C^(w|~x))+y[14]-1416354905|0,T=(T<<15|T>>>17)+w|0,x+=(w^(T|~C))+y[5]-57434055|0,x=(x<<21|x>>>11)+T|0,C+=(T^(x|~w))+y[12]+1700485571|0,C=(C<<6|C>>>26)+x|0,w+=(x^(C|~T))+y[3]-1894986606|0,w=(w<<10|w>>>22)+C|0,T+=(C^(w|~x))+y[10]-1051523|0,T=(T<<15|T>>>17)+w|0,x+=(w^(T|~C))+y[1]-2054922799|0,x=(x<<21|x>>>11)+T|0,C+=(T^(x|~w))+y[8]+1873313359|0,C=(C<<6|C>>>26)+x|0,w+=(x^(C|~T))+y[15]-30611744|0,w=(w<<10|w>>>22)+C|0,T+=(C^(w|~x))+y[6]-1560198380|0,T=(T<<15|T>>>17)+w|0,x+=(w^(T|~C))+y[13]+1309151649|0,x=(x<<21|x>>>11)+T|0,C+=(T^(x|~w))+y[4]-145523070|0,C=(C<<6|C>>>26)+x|0,w+=(x^(C|~T))+y[11]-1120210379|0,w=(w<<10|w>>>22)+C|0,T+=(C^(w|~x))+y[2]+718787259|0,T=(T<<15|T>>>17)+w|0,x+=(w^(T|~C))+y[9]-343485551|0,x=(x<<21|x>>>11)+T|0,h[0]=C+h[0]|0,h[1]=x+h[1]|0,h[2]=T+h[2]|0,h[3]=w+h[3]|0}function i(h){var y=[],C;for(C=0;C<64;C+=4)y[C>>2]=h.charCodeAt(C)+(h.charCodeAt(C+1)<<8)+(h.charCodeAt(C+2)<<16)+(h.charCodeAt(C+3)<<24);return y}function o(h){var y=[],C;for(C=0;C<64;C+=4)y[C>>2]=h[C]+(h[C+1]<<8)+(h[C+2]<<16)+(h[C+3]<<24);return y}function s(h){var y=h.length,C=[1732584193,-271733879,-1732584194,271733878],x,T,w,b,E,O;for(x=64;x<=y;x+=64)a(C,i(h.substring(x-64,x)));for(h=h.substring(x-64),T=h.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<T;x+=1)w[x>>2]|=h.charCodeAt(x)<<(x%4<<3);if(w[x>>2]|=128<<(x%4<<3),x>55)for(a(C,w),x=0;x<16;x+=1)w[x]=0;return b=y*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),E=parseInt(b[2],16),O=parseInt(b[1],16)||0,w[14]=E,w[15]=O,a(C,w),C}function l(h){var y=h.length,C=[1732584193,-271733879,-1732584194,271733878],x,T,w,b,E,O;for(x=64;x<=y;x+=64)a(C,o(h.subarray(x-64,x)));for(h=x-64<y?h.subarray(x-64):new Uint8Array(0),T=h.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<T;x+=1)w[x>>2]|=h[x]<<(x%4<<3);if(w[x>>2]|=128<<(x%4<<3),x>55)for(a(C,w),x=0;x<16;x+=1)w[x]=0;return b=y*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),E=parseInt(b[2],16),O=parseInt(b[1],16)||0,w[14]=E,w[15]=O,a(C,w),C}function c(h){var y="",C;for(C=0;C<4;C+=1)y+=r[h>>C*8+4&15]+r[h>>C*8&15];return y}function f(h){var y;for(y=0;y<h.length;y+=1)h[y]=c(h[y]);return h.join("")}f(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function h(y,C){return y=y|0||0,y<0?Math.max(y+C,0):Math.min(y,C)}ArrayBuffer.prototype.slice=function(y,C){var x=this.byteLength,T=h(y,x),w=x,b,E,O,D;return C!==n&&(w=h(C,x)),T>w?new ArrayBuffer(0):(b=w-T,E=new ArrayBuffer(b),O=new Uint8Array(E),D=new Uint8Array(this,T,b),O.set(D),E)}}();function u(h){return/[\u0080-\uFFFF]/.test(h)&&(h=unescape(encodeURIComponent(h))),h}function d(h,y){var C=h.length,x=new ArrayBuffer(C),T=new Uint8Array(x),w;for(w=0;w<C;w+=1)T[w]=h.charCodeAt(w);return y?T:x}function g(h){return String.fromCharCode.apply(null,new Uint8Array(h))}function v(h,y,C){var x=new Uint8Array(h.byteLength+y.byteLength);return x.set(new Uint8Array(h)),x.set(new Uint8Array(y),h.byteLength),x}function m(h){var y=[],C=h.length,x;for(x=0;x<C-1;x+=2)y.push(parseInt(h.substr(x,2),16));return String.fromCharCode.apply(String,y)}function p(){this.reset()}return p.prototype.append=function(h){return this.appendBinary(u(h)),this},p.prototype.appendBinary=function(h){this._buff+=h,this._length+=h.length;var y=this._buff.length,C;for(C=64;C<=y;C+=64)a(this._hash,i(this._buff.substring(C-64,C)));return this._buff=this._buff.substring(C-64),this},p.prototype.end=function(h){var y=this._buff,C=y.length,x,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w;for(x=0;x<C;x+=1)T[x>>2]|=y.charCodeAt(x)<<(x%4<<3);return this._finish(T,C),w=f(this._hash),h&&(w=m(w)),this.reset(),w},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(h){return this._buff=h.buff,this._length=h.length,this._hash=h.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(h,y){var C=y,x,T,w;if(h[C>>2]|=128<<(C%4<<3),C>55)for(a(this._hash,h),C=0;C<16;C+=1)h[C]=0;x=this._length*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(x[2],16),w=parseInt(x[1],16)||0,h[14]=T,h[15]=w,a(this._hash,h)},p.hash=function(h,y){return p.hashBinary(u(h),y)},p.hashBinary=function(h,y){var C=s(h),x=f(C);return y?m(x):x},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(h){var y=v(this._buff.buffer,h),C=y.length,x;for(this._length+=h.byteLength,x=64;x<=C;x+=64)a(this._hash,o(y.subarray(x-64,x)));return this._buff=x-64<C?new Uint8Array(y.buffer.slice(x-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(h){var y=this._buff,C=y.length,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T,w;for(T=0;T<C;T+=1)x[T>>2]|=y[T]<<(T%4<<3);return this._finish(x,C),w=f(this._hash),h&&(w=m(w)),this.reset(),w},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var h=p.prototype.getState.call(this);return h.buff=g(h.buff),h},p.ArrayBuffer.prototype.setState=function(h){return h.buff=d(h.buff,!0),p.prototype.setState.call(this,h)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(h,y){var C=l(new Uint8Array(h)),x=f(C);return y?m(x):x},p})})(DG);var g4e=DG.exports;const m4e=No(g4e),v4e=["lastShaderProgramBound","context","_openGLRenderWindow"];function p4e(t,e){e.classHierarchy.push("vtkShaderCache"),t.replaceShaderValues=(n,r,a)=>{let i=r;a.length>0&&(i=Fe.substitute(i,"VSOut","GSOut").result);const o=e._openGLRenderWindow.getWebgl2();let s=`
`,l=`#version 100
`;o?l=`#version 300 es
#define attribute in
#define textureCube texture
#define texture2D texture
#define textureCubeLod textureLod
#define texture2DLod textureLod
`:(e.context.getExtension("OES_standard_derivatives"),e.context.getExtension("EXT_frag_depth")&&(s=`#extension GL_EXT_frag_depth : enable
`),e.context.getExtension("EXT_shader_texture_lod")&&(s+=`#extension GL_EXT_shader_texture_lod : enable
#define textureCubeLod textureCubeLodEXT
#define texture2DLod texture2DLodEXT`)),i=Fe.substitute(i,"//VTK::System::Dec",[`${l}
`,o?"":`#extension GL_OES_standard_derivatives : enable
`,s,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;let c=Fe.substitute(n,"//VTK::System::Dec",[`${l}
`,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;if(o){c=Fe.substitute(c,"varying","out").result,i=Fe.substitute(i,"varying","in").result;let u="",d=0;for(;i.includes(`gl_FragData[${d}]`);)i=Fe.substitute(i,`gl_FragData\\[${d}\\]`,`fragOutput${d}`).result,u+=`layout(location = ${d}) out vec4 fragOutput${d};
`,d++;i=Fe.substitute(i,"//VTK::Output::Dec",u).result}const f=Fe.substitute(a,"//VTK::System::Dec",l).result;return{VSSource:c,FSSource:i,GSSource:f}},t.readyShaderProgramArray=(n,r,a)=>{const i=t.replaceShaderValues(n,r,a),o=t.getShaderProgram(i.VSSource,i.FSSource,i.GSSource);return t.readyShaderProgram(o)},t.readyShaderProgram=n=>!n||!n.getCompiled()&&!n.compileShader()||!t.bindShaderProgram(n)?null:n,t.getShaderProgram=(n,r,a)=>{const i=`${n}${r}${a}`,o=m4e.hash(i);if(!(o in e.shaderPrograms)){const s=Fe.newInstance();return s.setContext(e.context),s.getVertexShader().setSource(n),s.getFragmentShader().setSource(r),a&&s.getGeometryShader().setSource(a),s.setMd5Hash(o),e.shaderPrograms[o]=s,s}return e.shaderPrograms[o]},t.releaseGraphicsResources=n=>{t.releaseCurrentShaderProgram(),Object.keys(e.shaderPrograms).map(r=>e.shaderPrograms[r]).forEach(r=>r.cleanup()),e.shaderPrograms={}},t.releaseCurrentShaderProgram=()=>{e.lastShaderProgramBound&&(e.lastShaderProgramBound.cleanup(),e.lastShaderProgramBound=null)},t.bindShaderProgram=n=>(e.lastShaderProgramBound===n||(e.lastShaderProgramBound&&e.lastShaderProgramBound.release(),n.bind(),e.lastShaderProgramBound=n),1)}const h4e={lastShaderProgramBound:null,shaderPrograms:null,context:null};function OG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,h4e,n),e.shaderPrograms={},ne.obj(t,e),ne.setGet(t,e,v4e),ne.moveToProtected(t,e,["openGLRenderWindow"]),p4e(t,e)}const S4e=ne.newInstance(OG,"vtkShaderCache");var y4e={newInstance:S4e,extend:OG};const{vtkErrorMacro:C4e}=ne;function x4e(t,e){e.classHierarchy.push("vtkOpenGLTextureUnitManager"),t.deleteTable=()=>{for(let n=0;n<e.numberOfTextureUnits;++n)e.textureUnits[n]===!0&&C4e("some texture units  were not properly released");e.textureUnits=[],e.numberOfTextureUnits=0},t.setContext=n=>{if(e.context!==n){if(e.context!==0&&t.deleteTable(),e.context=n,e.context){e.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);for(let r=0;r<e.numberOfTextureUnits;++r)e.textureUnits[r]=!1}t.modified()}},t.allocate=()=>{for(let n=0;n<e.numberOfTextureUnits;n++)if(!t.isAllocated(n))return e.textureUnits[n]=!0,n;return-1},t.allocateUnit=n=>t.isAllocated(n)?-1:(e.textureUnits[n]=!0,n),t.isAllocated=n=>e.textureUnits[n],t.free=n=>{e.textureUnits[n]=!1},t.freeAll=()=>{for(let n=0;n<e.numberOfTextureUnits;++n)e.textureUnits[n]=!1}}const T4e={context:null,numberOfTextureUnits:0,textureUnits:0};function RG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,T4e,n),ne.obj(t,e),e.textureUnits=[],ne.get(t,e,["numberOfTextureUnits"]),ne.setGet(t,e,["context"]),x4e(t,e)}const w4e=ne.newInstance(RG,"vtkOpenGLTextureUnitManager");var b4e={newInstance:w4e,extend:RG};function E4e(t,e){e.classHierarchy.push("vtkRenderWindowViewNode"),t.getViewNodeFactory=()=>null,t.getAspectRatio=()=>e.size[0]/e.size[1],t.getAspectRatioForRenderer=n=>{const r=n.getViewportByReference();return e.size[0]*(r[2]-r[0])/((r[3]-r[1])*e.size[1])},t.isInViewport=(n,r,a)=>{const i=a.getViewportByReference(),o=t.getFramebufferSize();return i[0]*o[0]<=n&&i[2]*o[0]>=n&&i[1]*o[1]<=r&&i[3]*o[1]>=r},t.getViewportSize=n=>{const r=n.getViewportByReference(),a=t.getFramebufferSize();return[(r[2]-r[0])*a[0],(r[3]-r[1])*a[1]]},t.getViewportCenter=n=>{const r=t.getViewportSize(n);return[r[0]*.5,r[1]*.5]},t.displayToNormalizedDisplay=(n,r,a)=>{const i=t.getFramebufferSize();return[n/i[0],r/i[1],a]},t.normalizedDisplayToDisplay=(n,r,a)=>{const i=t.getFramebufferSize();return[n*i[0],r*i[1],a]},t.worldToView=(n,r,a,i)=>i.worldToView(n,r,a),t.viewToWorld=(n,r,a,i)=>i.viewToWorld(n,r,a),t.worldToDisplay=(n,r,a,i)=>{const o=i.worldToView(n,r,a),s=t.getViewportSize(i),l=i.viewToProjection(o[0],o[1],o[2],s[0]/s[1]),c=i.projectionToNormalizedDisplay(l[0],l[1],l[2]);return t.normalizedDisplayToDisplay(c[0],c[1],c[2])},t.displayToWorld=(n,r,a,i)=>{const o=t.displayToNormalizedDisplay(n,r,a),s=i.normalizedDisplayToProjection(o[0],o[1],o[2]),l=t.getViewportSize(i),c=i.projectionToView(s[0],s[1],s[2],l[0]/l[1]);return i.viewToWorld(c[0],c[1],c[2])},t.normalizedDisplayToViewport=(n,r,a,i)=>{let o=i.getViewportByReference();o=t.normalizedDisplayToDisplay(o[0],o[1],0);const s=t.normalizedDisplayToDisplay(n,r,a);return[s[0]-o[0]-.5,s[1]-o[1]-.5,a]},t.viewportToNormalizedViewport=(n,r,a,i)=>{const o=t.getViewportSize(i);return o&&o[0]!==0&&o[1]!==0?[n/(o[0]-1),r/(o[1]-1),a]:[n,r,a]},t.normalizedViewportToViewport=(n,r,a,i)=>{const o=t.getViewportSize(i);return[n*(o[0]-1),r*(o[1]-1),a]},t.displayToLocalDisplay=(n,r,a)=>{const i=t.getFramebufferSize();return[n,i[1]-r-1,a]},t.viewportToNormalizedDisplay=(n,r,a,i)=>{let o=i.getViewportByReference();o=t.normalizedDisplayToDisplay(o[0],o[1],0);const s=n+o[0]+.5,l=r+o[1]+.5;return t.displayToNormalizedDisplay(s,l,a)},t.getComputedDevicePixelRatio=()=>e.size[0]/t.getContainerSize()[0],t.getContainerSize=()=>{ne.vtkErrorMacro("not implemented")},t.getPixelData=(n,r,a,i)=>{ne.vtkErrorMacro("not implemented")},t.createSelector=()=>{ne.vtkErrorMacro("not implemented")}}const D4e={size:void 0,selector:void 0};function IG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,D4e,n),e.size||(e.size=[300,300]),ne.getArray(t,e,["size"],2),ne.get(t,e,["selector"]),Va.extend(t,e,n),E4e(t,e)}const O4e=ne.newInstance(IG,"vtkRenderWindowViewNode");var R4e={newInstance:O4e,extend:IG};const I4e="__getUnderlyingContext";function A4e(){const t=new Map,e={apply(a,i,o){return t.has(o[0])?t.get(o[0]):a.apply(i,o)}};function n(a){return{apply(i,o,s){return t.set(a,s[0]),i.apply(o,s)}}}const r=Object.create(null);return r.getParameter=(a,i,o,s)=>new Proxy(s.bind(a),e),r.depthMask=(a,i,o,s)=>new Proxy(s.bind(a),n(a.DEPTH_WRITEMASK)),{get(a,i,o){if(i===I4e)return()=>a;let s=Reflect.get(a,i,a);s instanceof Function&&(s=s.bind(a));const l=r[i];return l?l(a,i,o,s):s}}}const{vtkDebugMacro:OA,vtkErrorMacro:RA}=ne,M4e={position:"absolute",top:0,left:0,width:"100%",height:"100%"},P4e=["activateTexture","deactivateTexture","disableCullFace","enableCullFace","get3DContext","getActiveFramebuffer","getContext","getDefaultTextureByteSize","getDefaultTextureInternalFormat","getDefaultToWebgl2","getGLInformations","getGraphicsMemoryInfo","getGraphicsResourceForObject","getHardwareMaximumLineWidth","getPixelData","getShaderCache","getTextureUnitForTexture","getTextureUnitManager","getWebgl2","makeCurrent","releaseGraphicsResources","registerGraphicsResourceUser","unregisterGraphicsResourceUser","restoreContext","setActiveFramebuffer","setContext","setDefaultToWebgl2","setGraphicsResourceForObject"];function Vi(t,e,n){const r=t.createFramebuffer(),a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,e,2,2,0,e,n,null),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0);const i=t.checkFramebufferStatus(t.FRAMEBUFFER);return t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),i===t.FRAMEBUFFER_COMPLETE}let l3=0;const J5=[];function L4e(){l3++,J5.forEach(t=>t(l3))}function _4e(){l3--,J5.forEach(t=>t(l3))}function N4e(t){J5.push(t)}function F4e(t){return J5.pop()}function IA(t){t.preventDefault()}function $4e(t,e){e.classHierarchy.push("vtkOpenGLRenderWindow");let n;function r(){return n||(n=A4e()),n}t.getViewNodeFactory=()=>e.myFactory,e.canvas.addEventListener("webglcontextlost",IA,!1),e.canvas.addEventListener("webglcontextrestored",t.restoreContext,!1);const a=[0,0];function i(){e.renderable&&(e.size[0]!==a[0]||e.size[1]!==a[1])&&(a[0]=e.size[0],a[1]=e.size[1],e.canvas.setAttribute("width",e.size[0]),e.canvas.setAttribute("height",e.size[1])),e.viewStream&&e.viewStream.setSize(e.size[0],e.size[1]),e.canvas.style.display=e.useOffScreen?"none":"block",e.el&&(e.el.style.cursor=e.cursorVisibility?e.cursor:"none"),e.containerSize=null}t.onModified(i),t.buildPass=u=>{if(u){if(!e.renderable)return;t.prepareNodes(),t.addMissingNodes(e.renderable.getRenderersByReference()),t.addMissingNodes(e.renderable.getChildRenderWindowsByReference()),t.removeUnusedNodes(),t.initialize(),e.children.forEach(d=>{var g;(g=d.setOpenGLRenderWindow)==null||g.call(d,t)})}},t.initialize=()=>{if(!e.initialized){if(e.rootOpenGLRenderWindow=t.getLastAncestorOfType("vtkOpenGLRenderWindow"),e.rootOpenGLRenderWindow)e.context2D=t.get2DContext();else{e.context=t.get3DContext(),t.resizeFromChildRenderWindows(),e.context&&L4e(),e.textureUnitManager=b4e.newInstance(),e.textureUnitManager.setContext(e.context),e.shaderCache.setContext(e.context);const u=e.context;u.blendFuncSeparate(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA),u.depthFunc(u.LEQUAL),u.enable(u.BLEND)}e.initialized=!0}},t.makeCurrent=()=>{e.context.makeCurrent()},t.setContainer=u=>{e.el&&e.el!==u&&(e.canvas.parentNode!==e.el&&RA("Error: canvas parent node does not match container"),e.el.removeChild(e.canvas),e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)),e.el!==u&&(e.el=u,e.el&&(e.el.appendChild(e.canvas),e.useBackgroundImage&&e.el.appendChild(e.bgImage)),t.modified())},t.getContainer=()=>e.el,t.getContainerSize=()=>{if(!e.containerSize&&e.el){const{width:u,height:d}=e.el.getBoundingClientRect();e.containerSize=[u,d]}return e.containerSize||e.size},t.getFramebufferSize=()=>{var d;return((d=e.activeFramebuffer)==null?void 0:d.getSize())||e.size},t.getPixelData=(u,d,g,v)=>{const m=new Uint8Array((g-u+1)*(v-d+1)*4);return e.context.readPixels(u,d,g-u+1,v-d+1,e.context.RGBA,e.context.UNSIGNED_BYTE,m),m},t.get3DContext=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,powerPreference:"high-performance"},d=null;const g=typeof WebGL2RenderingContext<"u";return e.webgl2=!1,e.defaultToWebgl2&&g&&(d=e.canvas.getContext("webgl2",u),d&&(e.webgl2=!0,OA("using webgl2"))),d||(OA("using webgl1"),d=e.canvas.getContext("webgl",u)||e.canvas.getContext("experimental-webgl",u)),new Proxy(d,r())},t.get2DContext=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.canvas.getContext("2d",u)},t.restoreContext=()=>{const u=fw.newInstance();u.setCurrentOperation("Release"),u.traverse(t,null)},t.activateTexture=u=>{const d=e._textureResourceIds.get(u);if(d!==void 0){e.context.activeTexture(e.context.TEXTURE0+d);return}const g=t.getTextureUnitManager().allocate();if(g<0){RA("Hardware does not support the number of textures defined.");return}e._textureResourceIds.set(u,g),e.context.activeTexture(e.context.TEXTURE0+g)},t.deactivateTexture=u=>{const d=e._textureResourceIds.get(u);d!==void 0&&(t.getTextureUnitManager().free(d),e._textureResourceIds.delete(u))},t.getTextureUnitForTexture=u=>{const d=e._textureResourceIds.get(u);return d!==void 0?d:-1},t.getDefaultTextureByteSize=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.webgl2)switch(u){case qn.CHAR:case qn.SIGNED_CHAR:case qn.UNSIGNED_CHAR:return 1;case d:case g:case qn.UNSIGNED_SHORT:case qn.SHORT:case qn.VOID:return 2;default:return 4}return 1},t.getDefaultTextureInternalFormat=function(u,d){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.webgl2)switch(u){case qn.UNSIGNED_CHAR:switch(d){case 1:return e.context.R8;case 2:return e.context.RG8;case 3:return e.context.RGB8;case 4:default:return e.context.RGBA8}case(g&&!v&&qn.UNSIGNED_SHORT):switch(d){case 1:return g.R16_EXT;case 2:return g.RG16_EXT;case 3:return g.RGB16_EXT;case 4:default:return g.RGBA16_EXT}case(g&&!v&&qn.SHORT):switch(d){case 1:return g.R16_SNORM_EXT;case 2:return g.RG16_SNORM_EXT;case 3:return g.RGB16_SNORM_EXT;case 4:default:return g.RGBA16_SNORM_EXT}case qn.UNSIGNED_SHORT:case qn.SHORT:case qn.FLOAT:default:switch(d){case 1:return v?e.context.R16F:e.context.R32F;case 2:return v?e.context.RG16F:e.context.RG32F;case 3:return v?e.context.RGB16F:e.context.RGB32F;case 4:default:return v?e.context.RGBA16F:e.context.RGBA32F}}switch(d){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:default:return e.context.RGBA}},t.setBackgroundImage=u=>{e.bgImage.src=u.src},t.setUseBackgroundImage=u=>{e.useBackgroundImage=u,e.useBackgroundImage&&!e.el.contains(e.bgImage)?e.el.appendChild(e.bgImage):!e.useBackgroundImage&&e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)};function o(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.imageFormat;const d=document.createElement("canvas"),g=d.getContext("2d");d.width=e.canvas.width,d.height=e.canvas.height,g.drawImage(e.canvas,0,0);const v=e.canvas.getBoundingClientRect();e.renderable.getRenderers().forEach(y=>{y.getViewProps().forEach(x=>{if(x.getContainer){const w=x.getContainer().getElementsByTagName("canvas");for(let b=0;b<w.length;b++){const E=w[b],O=E.getBoundingClientRect(),D=O.x-v.x,R=O.y-v.y;g.drawImage(E,D,R)}}})});const h=d.toDataURL(u);d.remove(),t.invokeImageReady(h)}t.captureNextImage=function(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",{resetCamera:d=!1,size:g=null,scale:v=1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e.deleted)return null;e.imageFormat=u;const m=e.notifyStartCaptureImage;return e.notifyStartCaptureImage=!0,e._screenshot={size:g||v!==1?g||e.size.map(p=>p*v):null},new Promise((p,h)=>{const y=t.onImageReady(C=>{var x;if(e._screenshot.size===null)e.notifyStartCaptureImage=m,y.unsubscribe(),e._screenshot.placeHolder&&(e.size=e._screenshot.originalSize,t.modified(),e._screenshot.cameras&&e._screenshot.cameras.forEach(T=>{let{restoreParamsFn:w,arg:b}=T;return w(b)}),t.traverseAllPasses(),e.el.removeChild(e._screenshot.placeHolder),e._screenshot.placeHolder.remove(),e._screenshot=null),p(C);else{const T=document.createElement("img");if(T.style=M4e,T.src=C,e._screenshot.placeHolder=e.el.appendChild(T),e.canvas.style.display="none",e._screenshot.originalSize=e.size,e.size=e._screenshot.size,(x=e.rootOpenGLRenderWindow)==null||x.resizeFromChildRenderWindows(),e._screenshot.size=null,t.modified(),d){const w=d!==!0;e._screenshot.cameras=e.renderable.getRenderers().map(b=>{const E=b.getActiveCamera(),O=E.get("focalPoint","position","parallelScale");return{resetCameraArgs:w?{renderer:b}:void 0,resetCameraFn:w?d:b.resetCamera,restoreParamsFn:E.set,arg:JSON.parse(JSON.stringify(O))}}),e._screenshot.cameras.forEach(b=>{let{resetCameraFn:E,resetCameraArgs:O}=b;return E(O)})}t.traverseAllPasses()}})})};let s;t.getHardwareMaximumLineWidth=()=>{if(s!=null)return s;const u=t.get3DContext(),d=u.getParameter(u.ALIASED_LINE_WIDTH_RANGE);return s=d[1],d[1]},t.getGLInformations=()=>{if(e._glInformation)return e._glInformation;const u=t.get3DContext(),d=u.getExtension("OES_texture_float"),g=u.getExtension("OES_texture_half_float"),v=u.getExtension("WEBGL_debug_renderer_info"),m=u.getExtension("WEBGL_draw_buffers"),p=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),h=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",u.getParameter(u.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",u.getParameter(u.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",u.getParameter(u.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",u.getParameter(u.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",u.getParameter(u.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",u.getParameter(u.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",u.getParameter(u.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",u.getParameter(u.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",u.getParameter(u.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",p&&u.getParameter(p.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",u.getParameter(u.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",u.getParameter(u.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",u.getParameter(u.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",u.getParameter(u.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",u.getParameter(u.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",u.getParameter(u.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",u.getParameter(u.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",u.getParameter(u.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",u.getParameter(u.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",u.getParameter(u.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",u.getParameter(u.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",u.getParameter(u.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",u.getParameter(u.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[d&&Vi(u,u.RGBA,u.UNSIGNED_BYTE)?"RGBA":"",d&&Vi(u,u.RGB,u.UNSIGNED_BYTE)?"RGB":"",d&&Vi(u,u.LUMINANCE,u.UNSIGNED_BYTE)?"LUMINANCE":"",d&&Vi(u,u.ALPHA,u.UNSIGNED_BYTE)?"ALPHA":"",d&&Vi(u,u.LUMINANCE_ALPHA,u.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[g&&Vi(u,u.RGBA,g.HALF_FLOAT_OES)?"RGBA":"",g&&Vi(u,u.RGB,g.HALF_FLOAT_OES)?"RGB":"",g&&Vi(u,u.LUMINANCE,g.HALF_FLOAT_OES)?"LUMINANCE":"",g&&Vi(u,u.ALPHA,g.HALF_FLOAT_OES)?"ALPHA":"",g&&Vi(u,u.LUMINANCE_ALPHA,g.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[d&&Vi(u,u.RGBA,u.FLOAT)?"RGBA":"",d&&Vi(u,u.RGB,u.FLOAT)?"RGB":"",d&&Vi(u,u.LUMINANCE,u.FLOAT)?"LUMINANCE":"",d&&Vi(u,u.ALPHA,u.FLOAT)?"ALPHA":"",d&&Vi(u,u.LUMINANCE_ALPHA,u.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",m?u.getParameter(m.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.HIGH_FLOAT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.MEDIUM_FLOAT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.LOW_FLOAT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.HIGH_FLOAT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.MEDIUM_FLOAT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.LOW_FLOAT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.HIGH_INT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.HIGH_INT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.MEDIUM_INT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.LOW_INT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.LOW_INT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.VERTEX_SHADER,u.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.HIGH_INT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.HIGH_INT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.MEDIUM_INT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.LOW_INT).precision," (-2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.LOW_INT).rangeMin,"</sup> - 2<sup>",u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",u.getSupportedExtensions().join("<br/>					    ")],["WebGL Renderer","RENDERER",u.getParameter(u.RENDERER)],["WebGL Vendor","VENDOR",u.getParameter(u.VENDOR)],["WebGL Version","VERSION",u.getParameter(u.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",u.getParameter(u.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",v&&u.getParameter(v.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",v&&u.getParameter(v.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",e.webgl2?2:1]],y={};for(;h.length;){const[C,x,T]=h.pop();x&&(y[x]={label:C,value:T})}return e._glInformation=y,y},t.traverseAllPasses=()=>{var d;if(e.renderPasses)for(let g=0;g<e.renderPasses.length;++g)e.renderPasses[g].traverse(t,null);t.copyParentContent(),e.notifyStartCaptureImage&&o();const u=e.renderable.getChildRenderWindowsByReference();for(let g=0;g<u.length;++g)(d=t.getViewNodeFor(u[g]))==null||d.traverseAllPasses()},t.copyParentContent=()=>{const u=e.rootOpenGLRenderWindow;if(!u||!e.context2D||e.children.some(v=>{var m;return!!((m=v.getSelector)!=null&&m.call(v))}))return;const d=u.getCanvas(),g=e.canvas;e.context2D.drawImage(d,0,d.height-g.height,g.width,g.height,0,0,g.width,g.height)},t.resizeFromChildRenderWindows=()=>{var d;const u=e.renderable.getChildRenderWindowsByReference();if(u.length>0){const g=[0,0];for(let v=0;v<u.length;++v){const m=(d=t.getViewNodeFor(u[v]))==null?void 0:d.getSize();m&&(g[0]=m[0]>g[0]?m[0]:g[0],g[1]=m[1]>g[1]?m[1]:g[1])}t.setSize(...g)}},t.disableCullFace=()=>{e.cullFaceEnabled&&(e.context.disable(e.context.CULL_FACE),e.cullFaceEnabled=!1)},t.enableCullFace=()=>{e.cullFaceEnabled||(e.context.enable(e.context.CULL_FACE),e.cullFaceEnabled=!0)},t.setViewStream=u=>{if(e.viewStream===u)return!1;if(e.subscription&&(e.subscription.unsubscribe(),e.subscription=null),e.viewStream=u,e.viewStream){const d=e.renderable.getRenderers()[0];d.getBackgroundByReference()[3]=0,t.setUseBackgroundImage(!0),e.subscription=e.viewStream.onImageReady(g=>t.setBackgroundImage(g.image)),e.viewStream.setSize(e.size[0],e.size[1]),e.viewStream.invalidateCache(),e.viewStream.render(),t.modified()}return!0},t.createSelector=()=>{const u=bw.newInstance();return u.setOpenGLRenderWindow(t),u};function l(){e.canvas.removeEventListener("webglcontextlost",IA),e.canvas.removeEventListener("webglcontextrestored",t.restoreContext)}t.delete=ne.chain(()=>{e.context&&_4e(),t.setContainer(),t.setViewStream()},l,t.delete),t.setActiveFramebuffer=u=>{e.activeFramebuffer=u};const c=t.setSize;t.setSize=(u,d)=>{const g=c(u,d);return g&&t.invokeWindowResizeEvent({width:u,height:d}),g},t.registerGraphicsResourceUser=(u,d)=>{e._graphicsResources.has(u)||t.setGraphicsResourceForObject(u,null,null);const g=e._graphicsResources.get(u);g==null||g.users.add(d)},t.unregisterGraphicsResourceUser=(u,d)=>{var v;const g=e._graphicsResources.get(u);g&&(g.users.delete(d),g.users.size||((v=g.oglObject)==null||v.releaseGraphicsResources(t),e._graphicsResources.delete(u)))},t.getGraphicsResourceForObject=u=>e._graphicsResources.get(u),t.setGraphicsResourceForObject=(u,d,g)=>{var m;if(!u)return;const v=e._graphicsResources.get(u);(m=v==null?void 0:v.oglObject)==null||m.releaseGraphicsResources(t),e._graphicsResources.set(u,{coreObject:u,oglObject:d,hash:g,users:(v==null?void 0:v.users)??new Set})},t.getGraphicsMemoryInfo=()=>{let u=0;return e._graphicsResources.forEach(d=>{let{oglObject:g}=d;u+=g.getAllocatedGPUMemoryInBytes()}),u},t.releaseGraphicsResources=()=>{e.shaderCache!==null&&e.shaderCache.releaseGraphicsResources(t),e._graphicsResources.forEach(u=>{let{oglObject:d}=u;d.releaseGraphicsResources(t)}),e._graphicsResources.clear(),e.textureUnitManager!==null&&e.textureUnitManager.freeAll(),e.renderable.getRenderersByReference().forEach(u=>{const d=t.getViewNodeFor(u);d==null||d.releaseGraphicsResources()})};const f={...t};P4e.forEach(u=>{t[u]=function(){return e.rootOpenGLRenderWindow?e.rootOpenGLRenderWindow[u](...arguments):f[u](...arguments)}})}const V4e={cullFaceEnabled:!1,shaderCache:null,initialized:!1,context:null,context2D:null,canvas:null,cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,activeFramebuffer:null,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function AG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,V4e,n),R4e.extend(t,e,n),e.canvas||(e.canvas=document.createElement("canvas"),e.canvas.style.width="100%"),e.selector||(e.selector=bw.newInstance(),e.selector.setOpenGLRenderWindow(t)),e.bgImage=new Image,e.bgImage.style.position="absolute",e.bgImage.style.left="0",e.bgImage.style.top="0",e.bgImage.style.width="100%",e.bgImage.style.height="100%",e.bgImage.style.zIndex="-1",e._textureResourceIds=new Map,e._graphicsResources=new Map,e._glInformation=null,e.myFactory=E3e.newInstance(),e.shaderCache=y4e.newInstance(),e.shaderCache.setOpenGLRenderWindow(t),e.renderPasses[0]=Rye.newInstance(),ne.get(t,e,["shaderCache","textureUnitManager","webgl2","useBackgroundImage","activeFramebuffer","rootOpenGLRenderWindow"]),ne.setGet(t,e,["initialized","context","context2D","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","useOffScreen"]),ne.setGetArray(t,e,["size"],2),ne.event(t,e,"imageReady"),ne.event(t,e,"windowResizeEvent"),$4e(t,e)}const Ew=ne.newInstance(AG,"vtkOpenGLRenderWindow");nB("WebGL",Ew);var k4e={newInstance:Ew,extend:AG,pushMonitorGLContextCount:N4e,popMonitorGLContextCount:F4e};di("vtkRenderWindow",Ew);function U4e(t,e){e.classHierarchy.push("vtkOpenGLActor"),t.buildPass=n=>{if(n){e._openGLRenderWindow=t.getLastAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(let r=0;r<e.children.length;r++){const a=e.children[r];a.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(a)):e.oglmapper=a}}},t.traverseZBufferPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseOpaqueZBufferPass=n=>t.traverseOpaquePass(n),t.traverseOpaquePass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseTranslucentPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.activateTextures=()=>{if(e.ogltextures){e.activeTextures=[];for(let n=0;n<e.ogltextures.length;n++){const r=e.ogltextures[n];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.zBufferPass=(n,r)=>t.opaquePass(n,r),t.opaqueZBufferPass=(n,r)=>t.opaquePass(n,r),t.opaquePass=(n,r)=>{if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(let a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.translucentPass=(n,r)=>{if(n)e.context.depthMask(e._openGLRenderer.getSelector()&&e.renderable.getNestedPickable()),t.activateTextures();else if(e.activeTextures)for(let a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.getKeyMatrices=()=>(e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),Ea(e.keyMatrices.mcwc,e.renderable.getMatrix()),tr(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.renderable.getIsIdentity()?$s(e.keyMatrices.normalMatrix):(Y5(e.keyMatrices.normalMatrix,e.keyMatrices.mcwc),Ip(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),gw(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),e.keyMatrixTime.modified()),e.keyMatrices)}const B4e={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function MG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,B4e,n),Va.extend(t,e,n),e.keyMatrixTime={},ea(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:$s(new Float64Array(9)),mcwc:Dn(new Float64Array(16))},Ka(t,e,["context"]),Zi(t,e,["activeTextures"]),U4e(t,e)}const PG=Vr(MG);var G4e={newInstance:PG,extend:MG};di("vtkActor",PG);function z4e(t,e){e.classHierarchy.push("vtkOpenGLActor2D"),t.buildPass=n=>{if(n){if(!e.renderable)return;e._openGLRenderWindow=t.getLastAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(let r=0;r<e.children.length;r++){const a=e.children[r];a.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(a)):e.oglmapper=a}}},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOverlayActorCount()}},t.traverseOpaquePass=n=>{!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseTranslucentPass=n=>{!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseOverlayPass=n=>{!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.activateTextures=()=>{if(e.ogltextures){e.activeTextures=[];for(let n=0;n<e.ogltextures.length;n++){const r=e.ogltextures[n];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.opaquePass=(n,r)=>{if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(let a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.translucentPass=(n,r)=>{if(n)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(let a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()},t.overlayPass=(n,r)=>{if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(let a=0;a<e.activeTextures.length;a++)e.activeTextures[a].deactivate()}}const W4e={context:null,activeTextures:null};function LG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,W4e,n),Va.extend(t,e,n),Ka(t,e,["context"]),Zi(t,e,["activeTextures"]),z4e(t,e)}const _G=Vr(LG);var j4e={newInstance:_G,extend:LG};di("vtkActor2D",_G);function H4e(t,e){e.classHierarchy.push("vtkOpenGLCamera"),t.buildPass=n=>{n&&(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext())},t.opaquePass=n=>{if(n){const r=e._openGLRenderer.getTiledSizeAndOrigin();e.context.viewport(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize),e.context.scissor(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize)}},t.translucentPass=t.opaquePass,t.zBufferPass=t.opaquePass,t.opaqueZBufferPass=t.opaquePass,t.volumePass=t.opaquePass,t.getKeyMatrices=n=>{if(n!==e.lastRenderer||e._openGLRenderWindow.getMTime()>e.keyMatrixTime.getMTime()||t.getMTime()>e.keyMatrixTime.getMTime()||n.getMTime()>e.keyMatrixTime.getMTime()||e.renderable.getMTime()>e.keyMatrixTime.getMTime()){Ea(e.keyMatrices.wcvc,e.renderable.getViewMatrix()),Y5(e.keyMatrices.normalMatrix,e.keyMatrices.wcvc),Ip(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),tr(e.keyMatrices.wcvc,e.keyMatrices.wcvc);const r=e._openGLRenderer.getAspectRatio();Ea(e.keyMatrices.vcpc,e.renderable.getProjectionMatrix(r,-1,1)),tr(e.keyMatrices.vcpc,e.keyMatrices.vcpc),Zn(e.keyMatrices.wcpc,e.keyMatrices.vcpc,e.keyMatrices.wcvc),e.keyMatrixTime.modified(),e.lastRenderer=n}return e.keyMatrices}}const q4e={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function NG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,q4e,n),Va.extend(t,e,n),e.keyMatrixTime={},ea(e.keyMatrixTime),e.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},Ka(t,e,["context","keyMatrixTime"]),H4e(t,e)}const FG=Vr(NG);var K4e={newInstance:FG,extend:NG};di("vtkCamera",FG);function Q4e(t,e){e.classHierarchy.push("vtkAbstractMapper"),t.update=()=>{t.getInputData()},t.addClippingPlane=n=>n.isA("vtkPlane")?e.clippingPlanes.includes(n)?!1:(e.clippingPlanes.push(n),t.modified(),!0):!1,t.getNumberOfClippingPlanes=()=>e.clippingPlanes.length,t.removeAllClippingPlanes=()=>e.clippingPlanes.length===0?!1:(e.clippingPlanes.length=0,t.modified(),!0),t.removeClippingPlane=n=>{const r=e.clippingPlanes.indexOf(n);return r===-1?!1:(e.clippingPlanes.splice(r,1),t.modified(),!0)},t.getClippingPlanes=()=>e.clippingPlanes,t.setClippingPlanes=n=>{if(n)if(!Array.isArray(n))t.addClippingPlane(n);else{const r=n.length;for(let a=0;a<r&&a<6;a++)t.addClippingPlane(n[a])}},t.getClippingPlaneInDataCoords=(n,r,a)=>{const i=e.clippingPlanes,o=n;if(i){const s=i.length;if(r>=0&&r<s){const l=i[r],c=l.getNormal(),f=l.getOrigin(),u=c[0],d=c[1],g=c[2],v=-(u*f[0]+d*f[1]+g*f[2]);a[0]=u*o[0]+d*o[4]+g*o[8]+v*o[12],a[1]=u*o[1]+d*o[5]+g*o[9]+v*o[13],a[2]=u*o[2]+d*o[6]+g*o[10]+v*o[14],a[3]=u*o[3]+d*o[7]+g*o[11]+v*o[15];return}}ne.vtkErrorMacro(`Clipping plane index ${r} is out of range.`)}}const X4e={clippingPlanes:[]};function Y4e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,X4e,n),ne.obj(t,e),ne.algo(t,e,1,0),e.clippingPlanes||(e.clippingPlanes=[]),Q4e(t,e)}var Z4e={extend:Y4e};function J4e(t,e){e.classHierarchy.push("vtkImplicitFunction"),t.functionValue=n=>{if(!e.transform)return t.evaluateFunction(n);const r=[];return e.transform.transformPoint(n,r),t.evaluateFunction(r)},t.evaluateFunction=n=>{ne.vtkErrorMacro("not implemented")}}const e8e={};function $G(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,e8e,n),ne.obj(t,e),ne.setGet(t,e,["transform"]),J4e(t,e)}const t8e=ne.newInstance($G,"vtkImplicitFunction");var n8e={newInstance:t8e,extend:$G};const W9=1e-6,VG="coincide",kG="disjoint";function r8e(t,e,n){return t[0]*(n[0]-e[0])+t[1]*(n[1]-e[1])+t[2]*(n[2]-e[2])}function UG(t,e,n){const r=n[0]*(t[0]-e[0])+n[1]*(t[1]-e[1])+n[2]*(t[2]-e[2]);return Math.abs(r)}function BG(t,e,n,r){const a=[];H0(t,e,a);const i=Wn(n,a);r[0]=t[0]-i*n[0],r[1]=t[1]-i*n[1],r[2]=t[2]-i*n[2]}function GG(t,e,n){const r=Wn(t,e);let a=Wn(e,e);return a===0&&(a=1),n[0]=t[0]-r*e[0]/a,n[1]=t[1]-r*e[1]/a,n[2]=t[2]-r*e[2]/a,n}function zG(t,e,n,r){const a=[];H0(t,e,a);const i=Wn(n,a),o=Wn(n,n);o!==0?(r[0]=t[0]-i*n[0]/o,r[1]=t[1]-i*n[1]/o,r[2]=t[2]-i*n[2]/o):(r[0]=t[0],r[1]=t[1],r[2]=t[2])}function WG(t,e,n,r){const a={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],o=[];H0(e,t,i),H0(n,t,o);const s=Wn(r,o),l=Wn(r,i);let c,f;return l<0?c=-l:c=l,s<0?f=-s*W9:f=s*W9,c<=f||(a.t=s/l,a.x[0]=t[0]+a.t*i[0],a.x[1]=t[1]+a.t*i[1],a.x[2]=t[2]+a.t*i[2],a.intersection=!0,a.betweenPoints=a.t>=0&&a.t<=1),a}function jG(t,e,n,r){const a={intersection:!1,l0:[],l1:[],error:null},i=[];u0(e,r,i);const o=i.map(u=>Math.abs(u));if(o[0]+o[1]+o[2]<W9){const u=[];return H0(t,n,u),Wn(e,u)===0?a.error=VG:a.error=kG,a}let s;o[0]>o[1]&&o[0]>o[2]?s="x":o[1]>o[2]?s="y":s="z";const l=[],c=-Wn(e,t),f=-Wn(r,n);switch(s){case"x":l[0]=0,l[1]=(f*e[2]-c*r[2])/i[0],l[2]=(c*r[1]-f*e[1])/i[0];break;case"y":l[0]=(c*r[2]-f*e[2])/i[1],l[1]=0,l[2]=(f*e[0]-c*r[0])/i[1];break;case"z":l[0]=(f*e[1]-c*r[1])/i[2],l[1]=(c*r[0]-f*e[0])/i[2],l[2]=0;break}return a.l0=l,e3(l,i,a.l1),a.intersection=!0,a}const a8e={evaluate:r8e,distanceToPlane:UG,projectPoint:BG,projectVector:GG,generalizedProjectPoint:zG,intersectWithLine:WG,intersectWithPlane:jG,DISJOINT:kG,COINCIDE:VG};function i8e(t,e){e.classHierarchy.push("vtkPlane"),t.distanceToPlane=n=>UG(n,e.origin,e.normal),t.projectPoint=(n,r)=>{BG(n,e.origin,e.normal,r)},t.projectVector=(n,r)=>GG(n,e.normal,r),t.push=n=>{if(n!==0)for(let r=0;r<3;r++)e.origin[r]+=n*e.normal[r]},t.generalizedProjectPoint=(n,r)=>{zG(n,e.origin,e.normal,r)},t.evaluateFunction=(n,r,a)=>Array.isArray(n)?e.normal[0]*(n[0]-e.origin[0])+e.normal[1]*(n[1]-e.origin[1])+e.normal[2]*(n[2]-e.origin[2]):e.normal[0]*(n-e.origin[0])+e.normal[1]*(r-e.origin[1])+e.normal[2]*(a-e.origin[2]),t.evaluateGradient=n=>[e.normal[0],e.normal[1],e.normal[2]],t.intersectWithLine=(n,r)=>WG(n,r,e.origin,e.normal),t.intersectWithPlane=(n,r)=>jG(n,r,e.origin,e.normal)}const o8e={normal:[0,0,1],origin:[0,0,0]};function HG(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,o8e,n),n8e.extend(t,e,n),ne.setGetArray(t,e,["normal","origin"],3),i8e(t,e)}const s8e=ne.newInstance(HG,"vtkPlane");var Ii={newInstance:s8e,extend:HG,...a8e};const ey=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function qG(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function sl(t){return(t==null?void 0:t.length)>=6&&t[0]<=t[1]&&t[2]<=t[3]&&t[4]<=t[5]}function Dw(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ow(t){return Dw(t,ey)}function c3(t,e,n,r){const[a,i,o,s,l,c]=t;return t[0]=a<e?a:e,t[1]=i>e?i:e,t[2]=o<n?o:n,t[3]=s>n?s:n,t[4]=l<r?l:r,t[5]=c>r?c:r,t}function Rw(t,e){if(e.length===0)return t;if(Array.isArray(e[0]))for(let n=0;n<e.length;++n)c3(t,...e[n]);else for(let n=0;n<e.length;n+=3)c3(t,...e.slice(n,n+3));return t}function KG(t,e,n,r,a,i,o){const[s,l,c,f,u,d]=t;return o===void 0?(t[0]=Math.min(e[0],s),t[1]=Math.max(e[1],l),t[2]=Math.min(e[2],c),t[3]=Math.max(e[3],f),t[4]=Math.min(e[4],u),t[5]=Math.max(e[5],d)):(t[0]=Math.min(e,s),t[1]=Math.max(n,l),t[2]=Math.min(r,c),t[3]=Math.max(a,f),t[4]=Math.min(i,u),t[5]=Math.max(o,d)),t}function QG(t,e,n,r){const[a,i,o,s,l,c]=t;return t[0]=e,t[1]=e>i?e:i,t[2]=n,t[3]=n>s?n:s,t[4]=r,t[5]=r>c?r:c,a!==e||o!==n||l!==r}function XG(t,e,n,r){const[a,i,o,s,l,c]=t;return t[0]=e<a?e:a,t[1]=e,t[2]=n<o?n:o,t[3]=n,t[4]=r<l?r:l,t[5]=r,i!==e||s!==n||c!==r}function YG(t,e){return t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e,t}function Iw(t,e,n,r){return sl(t)?(e>=0?(t[0]*=e,t[1]*=e):(t[0]=e*t[1],t[1]=e*t[0]),n>=0?(t[2]*=n,t[3]*=n):(t[2]=n*t[3],t[3]=n*t[2]),r>=0?(t[4]*=r,t[5]*=r):(t[4]=r*t[5],t[5]=r*t[4]),!0):!1}function Aw(t){return[.5*(t[0]+t[1]),.5*(t[2]+t[3]),.5*(t[4]+t[5])]}function l8e(t,e,n,r){if(!sl(t))return!1;const a=Aw(t);return t[0]-=a[0],t[1]-=a[0],t[2]-=a[1],t[3]-=a[1],t[4]-=a[2],t[5]-=a[2],Iw(t,e,n,r),t[0]+=a[0],t[1]+=a[0],t[2]+=a[1],t[3]+=a[1],t[4]+=a[2],t[5]+=a[2],!0}function Vm(t,e){return t[e*2+1]-t[e*2]}function ty(t){return[Vm(t,0),Vm(t,1),Vm(t,2)]}function ZG(t){return t.slice(0,2)}function JG(t){return t.slice(2,4)}function ez(t){return t.slice(4,6)}function tz(t){const e=ty(t);return e[0]>e[1]?e[0]>e[2]?e[0]:e[2]:e[1]>e[2]?e[1]:e[2]}function nz(t){if(sl(t)){const e=ty(t);return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}return null}function Mw(t){return[t[0],t[2],t[4]]}function Pw(t){return[t[1],t[3],t[5]]}function bh(t,e){return t<=0&&e>=0||t>=0&&e<=0}function Lw(t,e){let n=0;for(let r=0;r<2;r++)for(let a=2;a<4;a++)for(let i=4;i<6;i++)e[n++]=[t[r],t[a],t[i]];return e}function rz(t,e,n){return e[0]=t[0],e[1]=t[2],e[2]=t[4],n[0]=t[1],n[1]=t[3],n[2]=t[5],e}function az(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=Lw(t,[]);for(let a=0;a<r.length;++a)hr(r[a],r[a],e);return Ow(n),Rw(n,r)}function iz(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e[0]=.5*(t[1]-t[0]),e[1]=.5*(t[3]-t[2]),e[2]=.5*(t[5]-t[4]),e}function oz(t,e,n,r){const a=[].concat(ey),i=t.getData();for(let o=0;o<i.length;o+=3){const s=[i[o],i[o+1],i[o+2]],l=Wn(s,e);a[0]=Math.min(l,a[0]),a[1]=Math.max(l,a[1]);const c=Wn(s,n);a[2]=Math.min(c,a[2]),a[3]=Math.max(c,a[3]);const f=Wn(s,r);a[4]=Math.min(f,a[4]),a[5]=Math.max(f,a[5])}return a}function sz(t,e,n,r,a){let i=!0;const o=[];let s=0;const l=[],c=[0,0,0],f=0,u=1,d=2;for(let g=0;g<3;g++)e[g]<t[2*g]?(o[g]=u,c[g]=t[2*g],i=!1):e[g]>t[2*g+1]?(o[g]=f,c[g]=t[2*g+1],i=!1):o[g]=d;if(i)return r[0]=e[0],r[1]=e[1],r[2]=e[2],a[0]=0,1;for(let g=0;g<3;g++)o[g]!==d&&n[g]!==0?l[g]=(c[g]-e[g])/n[g]:l[g]=-1;for(let g=0;g<3;g++)l[s]<l[g]&&(s=g);if(l[s]>1||l[s]<0)return 0;a[0]=l[s];for(let g=0;g<3;g++)if(s!==g){if(r[g]=e[g]+l[s]*n[g],r[g]<t[2*g]||r[g]>t[2*g+1])return 0}else r[g]=c[g];return 1}function lz(t,e,n){const r=[];let a=0,i=1,o=1;for(let s=4;s<=5;++s){r[2]=t[s];for(let l=2;l<=3;++l){r[1]=t[l];for(let c=0;c<=1;++c)if(r[0]=t[c],a=Ii.evaluate(n,e,r),o&&(i=a>=0?1:-1,o=0),a===0||i>0&&a<0||i<0&&a>0)return 1}}return 0}function cz(t,e){if(!(sl(t)&&sl(e)))return!1;const n=[0,0,0,0,0,0];let r;for(let a=0;a<3;a++)if(r=!1,e[a*2]>=t[a*2]&&e[a*2]<=t[a*2+1]?(r=!0,n[a*2]=e[a*2]):t[a*2]>=e[a*2]&&t[a*2]<=e[a*2+1]&&(r=!0,n[a*2]=t[a*2]),e[a*2+1]>=t[a*2]&&e[a*2+1]<=t[a*2+1]?(r=!0,n[a*2+1]=e[2*a+1]):t[a*2+1]>=e[a*2]&&t[a*2+1]<=e[a*2+1]&&(r=!0,n[a*2+1]=t[a*2+1]),!r)return!1;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],!0}function u3(t,e){if(!(sl(t)&&sl(e)))return!1;for(let n=0;n<3;n++)if(!(e[n*2]>=t[n*2]&&e[n*2]<=t[n*2+1])&&!(t[n*2]>=e[n*2]&&t[n*2]<=e[n*2+1])&&!(e[n*2+1]>=t[n*2]&&e[n*2+1]<=t[n*2+1])&&!(t[n*2+1]>=e[n*2]&&t[n*2+1]<=e[n*2+1]))return!1;return!0}function f3(t,e,n,r){return!(e<t[0]||e>t[1]||n<t[2]||n>t[3]||r<t[4]||r>t[5])}function c8e(t,e){return!(!u3(t,e)||!f3(t,...Mw(e))||!f3(t,...Pw(e)))}function uz(t,e,n){const r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],a=[0,0,0,0,0,0,0,0];let i=0;for(let u=0;u<2;u++)for(let d=2;d<4;d++)for(let g=4;g<6;g++){const v=[t[u],t[d],t[g]];a[i++]=Ii.evaluate(n,e,v)}let o=2;for(;o--&&!(bh(a[r[o][0]],a[r[o][4]])&&bh(a[r[o][1]],a[r[o][5]])&&bh(a[r[o][2]],a[r[o][6]])&&bh(a[r[o][3]],a[r[o][7]])););if(o<0)return!1;const s=Math.sign(n[o]),l=Math.abs((t[o*2+1]-t[o*2])*n[o]);let c=s>0?1:0;for(let u=0;u<4;u++){if(l===0)continue;const d=Math.abs(a[r[o][u]])/l;s>0&&d<c&&(c=d),s<0&&d>c&&(c=d)}const f=(1-c)*t[o*2]+c*t[o*2+1];return s>0?t[o*2]=f:t[o*2+1]=f,!0}class u8e{constructor(e){this.bounds=e,this.bounds||(this.bounds=new Float64Array(ey))}getBounds(){return this.bounds}equals(e){return qG(this.bounds,e)}isValid(){return sl(this.bounds)}setBounds(e){return Dw(this.bounds,e)}reset(){return Ow(this.bounds)}addPoint(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c3(this.bounds,...n)}addPoints(e){return Rw(this.bounds,e)}addBounds(e,n,r,a,i,o){return KG(this.bounds,e,n,r,a,i,o)}setMinPoint(e,n,r){return QG(this.bounds,e,n,r)}setMaxPoint(e,n,r){return XG(this.bounds,e,n,r)}inflate(e){return YG(this.bounds,e)}scale(e,n,r){return Iw(this.bounds,e,n,r)}getCenter(){return Aw(this.bounds)}getLength(e){return Vm(this.bounds,e)}getLengths(){return ty(this.bounds)}getMaxLength(){return tz(this.bounds)}getDiagonalLength(){return nz(this.bounds)}getMinPoint(){return Mw(this.bounds)}getMaxPoint(){return Pw(this.bounds)}getXRange(){return ZG(this.bounds)}getYRange(){return JG(this.bounds)}getZRange(){return ez(this.bounds)}getCorners(e){return Lw(this.bounds,e)}computeCornerPoints(e,n){return rz(this.bounds,e,n)}computeLocalBounds(e,n,r){return oz(this.bounds,e,n,r)}transformBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return az(this.bounds,e,n)}computeScale3(e){return iz(this.bounds,e)}cutWithPlane(e,n){return uz(this.bounds,e,n)}intersectBox(e,n,r,a){return sz(this.bounds,e,n,r,a)}intersectPlane(e,n){return lz(this.bounds,e,n)}intersect(e){return cz(this.bounds,e)}intersects(e){return u3(this.bounds,e)}containsPoint(e,n,r){return f3(this.bounds,e,n,r)}contains(e){return u3(this.bounds,e)}}function f8e(t){const e=t&&t.bounds;return new u8e(e)}const d8e={equals:qG,isValid:sl,setBounds:Dw,reset:Ow,addPoint:c3,addPoints:Rw,addBounds:KG,setMinPoint:QG,setMaxPoint:XG,inflate:YG,scale:Iw,scaleAboutCenter:l8e,getCenter:Aw,getLength:Vm,getLengths:ty,getMaxLength:tz,getDiagonalLength:nz,getMinPoint:Mw,getMaxPoint:Pw,getXRange:ZG,getYRange:JG,getZRange:ez,getCorners:Lw,computeCornerPoints:rz,computeLocalBounds:oz,transformBounds:az,computeScale3:iz,cutWithPlane:uz,intersectBox:sz,intersectPlane:lz,intersect:cz,intersects:u3,containsPoint:f3,contains:c8e,INIT_BOUNDS:ey};var Wr={newInstance:f8e,...d8e};function g8e(t,e){t.getBounds=()=>(ne.vtkErrorMacro("vtkAbstractMapper3D.getBounds - NOT IMPLEMENTED"),Ic()),t.getCenter=()=>{var r;const n=t.getBounds();return e.center=Wr.isValid(n)?Wr.getCenter(n):null,(r=e.center)==null?void 0:r.slice()},t.getLength=()=>{const n=t.getBounds();return Wr.getDiagonalLength(n)}}const m8e=t=>({bounds:[...Wr.INIT_BOUNDS],center:[0,0,0],viewSpecificProperties:{},...t});function v8e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,m8e(n)),Z4e.extend(t,e,n),ne.setGet(t,e,["viewSpecificProperties"]),g8e(t,e)}var _w={extend:v8e};const ps={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9};var fz={StructuredType:ps};const{StructuredType:D0}=fz;function p8e(t){let e=0;for(let n=0;n<3;++n)t[n*2]<t[n*2+1]&&e++;return t[0]>t[1]||t[2]>t[3]||t[4]>t[5]?D0.EMPTY:e===3?D0.XYZ_GRID:e===2?t[0]===t[1]?D0.YZ_PLANE:t[2]===t[3]?D0.XZ_PLANE:D0.XY_PLANE:e===1?t[0]<t[1]?D0.X_LINE:t[2]<t[3]?D0.Y_LINE:D0.Z_LINE:D0.SINGLE_POINT}var h8e={getDataDescriptionFromExtent:p8e,...fz};const{vtkErrorMacro:lu}=ne;function S8e(t,e){e.classHierarchy.push("vtkImageData"),t.setExtent=function(){if(e.deleted)return lu("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];const i=r.length===1?r[0]:r;if(i.length!==6)return!1;const o=e.extent.some((s,l)=>s!==i[l]);return o&&(e.extent=i.slice(),e.dataDescription=h8e.getDataDescriptionFromExtent(e.extent),t.modified()),o},t.setDimensions=function(){let n,r,a;if(e.deleted){lu("instance deleted - cannot call any method");return}if(arguments.length===1){const i=arguments.length<=0?void 0:arguments[0];n=i[0],r=i[1],a=i[2]}else if(arguments.length===3)n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2];else{lu("Bad dimension specification");return}t.setExtent(0,n-1,0,r-1,0,a-1)},t.getDimensions=()=>[e.extent[1]-e.extent[0]+1,e.extent[3]-e.extent[2]+1,e.extent[5]-e.extent[4]+1],t.getNumberOfCells=()=>{const n=t.getDimensions();let r=1;for(let a=0;a<3;a++){if(n[a]===0)return 0;n[a]>1&&(r*=n[a]-1)}return r},t.getNumberOfPoints=()=>{const n=t.getDimensions();return n[0]*n[1]*n[2]},t.getPoint=n=>{const r=t.getDimensions();if(r[0]===0||r[1]===0||r[2]===0)return lu("Requesting a point from an empty image."),null;const a=new Float64Array(3);switch(e.dataDescription){case ps.EMPTY:return null;case ps.SINGLE_POINT:break;case ps.X_LINE:a[0]=n;break;case ps.Y_LINE:a[1]=n;break;case ps.Z_LINE:a[2]=n;break;case ps.XY_PLANE:a[0]=n%r[0],a[1]=n/r[0];break;case ps.YZ_PLANE:a[1]=n%r[1],a[2]=n/r[1];break;case ps.XZ_PLANE:a[0]=n%r[0],a[2]=n/r[0];break;case ps.XYZ_GRID:a[0]=n%r[0],a[1]=n/r[0]%r[1],a[2]=n/(r[0]*r[1]);break;default:lu("Invalid dataDescription");break}const i=[0,0,0];return t.indexToWorld(a,i),i},t.getBounds=()=>t.extentToBounds(t.getSpatialExtent()),t.extentToBounds=n=>Wr.transformBounds(n,e.indexToWorld),t.getSpatialExtent=()=>Wr.inflate([...e.extent],.5),t.computeTransforms=()=>{Z5(e.indexToWorld,e.origin),e.indexToWorld[0]=e.direction[0],e.indexToWorld[1]=e.direction[1],e.indexToWorld[2]=e.direction[2],e.indexToWorld[4]=e.direction[3],e.indexToWorld[5]=e.direction[4],e.indexToWorld[6]=e.direction[5],e.indexToWorld[8]=e.direction[6],e.indexToWorld[9]=e.direction[7],e.indexToWorld[10]=e.direction[8],ol(e.indexToWorld,e.indexToWorld,e.spacing),qa(e.worldToIndex,e.indexToWorld)},t.indexToWorld=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return hr(r,n,e.indexToWorld),r},t.indexToWorldVec3=t.indexToWorld,t.worldToIndex=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return hr(r,n,e.worldToIndex),r},t.worldToIndexVec3=t.worldToIndex,t.indexToWorldBounds=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Wr.transformBounds(n,e.indexToWorld,r)},t.worldToIndexBounds=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Wr.transformBounds(n,e.worldToIndex,r)},t.onModified(t.computeTransforms),t.computeTransforms(),t.getCenter=()=>Wr.getCenter(t.getBounds()),t.computeHistogram=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const a=[0,0,0,0,0,0];t.worldToIndexBounds(n,a);const i=[0,0,0],o=[0,0,0];Wr.computeCornerPoints(a,i,o),$9(i,i),$9(o,o);const s=t.getDimensions();k9(i,[0,0,0],[s[0]-1,s[1]-1,s[2]-1],i),k9(o,[0,0,0],[s[0]-1,s[1]-1,s[2]-1],o);const l=s[0],c=s[0]*s[1],f=t.getPointData().getScalars().getData();let u=-1/0,d=1/0,g=0,v=0,m=0;for(let C=i[2];C<=o[2];C++)for(let x=i[1];x<=o[1];x++){let T=i[0]+x*l+C*c;for(let w=i[0];w<=o[0];w++){if(!r||r([w,x,C],a)){const b=f[T];b>u&&(u=b),b<d&&(d=b),g+=b*b,v+=b,m+=1}++T}}const p=m>0?v/m:0,h=m?Math.abs(g/m-p*p):0,y=Math.sqrt(h);return{minimum:d,maximum:u,average:p,variance:h,sigma:y,count:m}},t.computeIncrements=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const a=[];let i=r;for(let o=0;o<3;++o)a[o]=i,i*=n[o*2+1]-n[o*2]+1;return a},t.computeOffsetIndex=n=>{let[r,a,i]=n;const o=t.getExtent(),s=t.getPointData().getScalars().getNumberOfComponents(),l=t.computeIncrements(o,s);return Math.floor((Math.round(r)-o[0])*l[0]+(Math.round(a)-o[2])*l[1]+(Math.round(i)-o[4])*l[2])},t.getOffsetIndexFromWorld=n=>{const r=t.getExtent(),a=t.worldToIndex(n);for(let i=0;i<3;++i)if(a[i]<r[i*2]||a[i]>r[i*2+1])return lu(`GetScalarPointer: Pixel ${a} is not in memory. Current extent = ${r}`),NaN;return t.computeOffsetIndex(a)},t.getScalarValueFromWorld=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const a=t.getPointData().getScalars().getNumberOfComponents();if(r<0||r>=a)return lu(`GetScalarPointer: Scalar Component ${r} is not within bounds. Current Scalar numberOfComponents: ${a}`),NaN;const i=t.getOffsetIndexFromWorld(n);return Number.isNaN(i)?i:t.getPointData().getScalars().getComponent(i,r)}}const y8e={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:ps.EMPTY};function dz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,y8e,n),cg.extend(t,e,n),e.direction?Array.isArray(e.direction)&&(e.direction=new Float64Array(e.direction.slice(0,9))):e.direction=$s(new Float64Array(9)),e.indexToWorld=new Float64Array(16),e.worldToIndex=new Float64Array(16),ne.get(t,e,["indexToWorld","worldToIndex"]),ne.setGetArray(t,e,["origin","spacing"],3),ne.setGetArray(t,e,["direction"],9),ne.getArray(t,e,["extent"],6),S8e(t,e)}const C8e=ne.newInstance(dz,"vtkImageData");var ny={newInstance:C8e,extend:dz};const x8e={MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},j9={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4};var Nw={VectorMode:x8e,ScalarMappingTarget:j9};const T8e={DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},w8e={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},b8e={BY_ID:0,BY_NAME:1};var Fw={ColorMode:T8e,GetArray:b8e,ScalarMode:w8e};const{ScalarMappingTarget:AA,VectorMode:Ks}=Nw,{VtkDataTypes:_l}=Bn,{ColorMode:Eh}=Fw,{vtkErrorMacro:MA}=ne;function E8e(t){return t}function PA(t){return Math.floor(t*255+.5)}function D8e(t,e){e.classHierarchy.push("vtkScalarsToColors"),t.setVectorModeToMagnitude=()=>t.setVectorMode(Ks.MAGNITUDE),t.setVectorModeToComponent=()=>t.setVectorMode(Ks.COMPONENT),t.setVectorModeToRGBColors=()=>t.setVectorMode(Ks.RGBCOLORS),t.build=()=>{},t.isOpaque=()=>!0,t.setAnnotations=(n,r)=>{if(!(n&&!r||!n&&r)){if(n&&r&&n.length!==r.length){MA("Values and annotations do not have the same number of tuples so ignoring");return}if(e.annotationArray=[],r&&n){const a=r.length;for(let i=0;i<a;i++)e.annotationArray.push({value:n[i],annotation:String(r[i])})}t.updateAnnotatedValueMap(),t.modified()}},t.setAnnotation=(n,r)=>{let a=t.checkForAnnotatedValue(n),i=!1;return a>=0?e.annotationArray[a].annotation!==r&&(e.annotationArray[a].annotation=r,i=!0):(e.annotationArray.push({value:n,annotation:r}),a=e.annotationArray.length-1,i=!0),i&&(t.updateAnnotatedValueMap(),t.modified()),a},t.getNumberOfAnnotatedValues=()=>e.annotationArray.length,t.getAnnotatedValue=n=>n<0||n>=e.annotationArray.length?null:e.annotationArray[n].value,t.getAnnotation=n=>e.annotationArray[n]===void 0?null:e.annotationArray[n].annotation,t.getAnnotatedValueIndex=n=>e.annotationArray.length?t.checkForAnnotatedValue(n):-1,t.removeAnnotation=n=>{const r=t.checkForAnnotatedValue(n),a=r>=0;return a&&(e.annotationArray.splice(r,1),t.updateAnnotatedValueMap(),t.modified()),a},t.resetAnnotations=()=>{e.annotationArray=[],e.annotatedValueMap=[],t.modified()},t.getAnnotationColor=(n,r)=>{if(e.indexedLookup){const a=t.getAnnotatedValueIndex(n);t.getIndexedColor(a,r)}else t.getColor(parseFloat(n),r),r[3]=1},t.checkForAnnotatedValue=n=>t.getAnnotatedValueIndexInternal(n),t.getAnnotatedValueIndexInternal=n=>{if(e.annotatedValueMap[n]!==void 0){const r=e.annotationArray.length;return e.annotatedValueMap[n]%r}return-1},t.getIndexedColor=(n,r)=>{r[0]=0,r[1]=0,r[2]=0,r[3]=0},t.updateAnnotatedValueMap=()=>{e.annotatedValueMap=[];const n=e.annotationArray.length;for(let r=0;r<n;r++)e.annotatedValueMap[e.annotationArray[r].value]=r},t.mapScalars=(n,r,a)=>{const i=n.getNumberOfComponents();let o=null;if(r===Eh.DEFAULT&&(n.getDataType()===_l.UNSIGNED_CHAR||n.getDataType()===_l.UNSIGNED_CHAR_CLAMPED)||r===Eh.DIRECT_SCALARS&&n)o=t.convertToRGBA(n,i,n.getNumberOfTuples());else{const s={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:_l.UNSIGNED_CHAR},l=ne.newTypedArray(s.dataType,4*n.getNumberOfTuples());s.values=l,s.size=l.length,o=Bn.newInstance(s);let c=a;c<0&&i>1?t.mapVectorsThroughTable(n,o,AA.RGBA,-1,-1):(c<0&&(c=0),c>=i&&(c=i-1),t.mapScalarsThroughTable(n,o,AA.RGBA,c))}return o},t.mapVectorsToMagnitude=(n,r,a)=>{const i=n.getNumberOfTuples(),o=n.getNumberOfComponents(),s=r.getData(),l=n.getData();for(let c=0;c<i;c++){let f=0;for(let u=0;u<a;u++)f+=l[c*o+u]*l[c*o+u];s[c]=Math.sqrt(f)}},t.mapVectorsThroughTable=(n,r,a,i,o)=>{let s=t.getVectorMode(),l=o,c=i;const f=n.getNumberOfComponents();s===Ks.COMPONENT?(c===-1&&(c=t.getVectorComponent()),c<0&&(c=0),c>=f&&(c=f-1)):(l===-1&&(l=t.getVectorSize()),l<=0?(c=0,l=f):(c<0&&(c=0),c>=f&&(c=f-1),c+l>f&&(l=f-c)),s===Ks.MAGNITUDE&&(f===1||l===1)&&(s=Ks.COMPONENT));let u=0;switch(c>0&&(u=c),s){case Ks.COMPONENT:{t.mapScalarsThroughTable(n,r,a,u);break}case Ks.RGBCOLORS:break;case Ks.MAGNITUDE:default:{const d=Bn.newInstance({numberOfComponents:1,values:new Float32Array(n.getNumberOfTuples())});t.mapVectorsToMagnitude(n,d,l),t.mapScalarsThroughTable(d,r,a,0);break}}},t.luminanceToRGBA=(n,r,a,i)=>{const o=i(a),s=r.getData(),l=n.getData(),c=s.length,f=0,u=1;let d=0;for(let g=f;g<c;g+=u){const v=i(s[g]);l[d*4]=v,l[d*4+1]=v,l[d*4+2]=v,l[d*4+3]=o,d++}},t.luminanceAlphaToRGBA=(n,r,a,i)=>{const o=r.getData(),s=n.getData(),l=o.length,c=0,f=2;let u=0;for(let d=c;d<l;d+=f){const g=i(o[d]);s[u]=g,s[u+1]=g,s[u+2]=g,s[u+3]=i(o[d+1])*a,u+=4}},t.rGBToRGBA=(n,r,a,i)=>{const o=PA(a),s=r.getData(),l=n.getData(),c=s.length,f=0,u=3;let d=0;for(let g=f;g<c;g+=u)l[d*4]=i(s[g]),l[d*4+1]=i(s[g+1]),l[d*4+2]=i(s[g+2]),l[d*4+3]=o,d++},t.rGBAToRGBA=(n,r,a,i)=>{const o=r.getData(),s=n.getData(),l=o.length,c=0,f=4;let u=0;for(let d=c;d<l;d+=f)s[u*4]=i(o[d]),s[u*4+1]=i(o[d+1]),s[u*4+2]=i(o[d+2]),s[u*4+3]=i(o[d+3])*a,u++},t.convertToRGBA=(n,r,a)=>{let{alpha:i}=e;if(r===4&&i>=1&&n.getDataType()===_l.UNSIGNED_CHAR)return n;const o=Bn.newInstance({numberOfComponents:4,empty:!0,size:4*a,dataType:_l.UNSIGNED_CHAR});if(a<=0)return o;i=i>0?i:0,i=i<1?i:1;let s=E8e;switch((n.getDataType()===_l.FLOAT||n.getDataType()===_l.DOUBLE)&&(s=PA),r){case 1:t.luminanceToRGBA(o,n,i,s);break;case 2:t.luminanceAlphaToRGBA(o,n,s);break;case 3:t.rGBToRGBA(o,n,i,s);break;case 4:t.rGBAToRGBA(o,n,i,s);break;default:return MA("Cannot convert colors"),null}return o},t.usingLogScale=()=>!1,t.getNumberOfAvailableColors=()=>256*256*256,t.setRange=(n,r)=>t.setMappingRange(n,r),t.getRange=()=>t.getMappingRange(),t.areScalarsOpaque=(n,r,a)=>{if(!n)return t.isOpaque();const i=n.getNumberOfComponents();return r===Eh.DEFAULT&&n.getDataType()===_l.UNSIGNED_CHAR||r===Eh.DIRECT_SCALARS?i===3||i===1?e.alpha>=1:n.getRange(i-1)[0]===255:!0}}const O8e={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:Ks.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function gz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,O8e,n),ne.obj(t,e),e.mappingRange=[0,255],e.annotationArray=[],e.annotatedValueMap=[],ne.setGet(t,e,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),ne.setArray(t,e,["mappingRange"],2),ne.getArray(t,e,["mappingRange"]),D8e(t,e)}const R8e=ne.newInstance(gz,"vtkScalarsToColors");var $w={newInstance:R8e,extend:gz,...Nw};const{vtkErrorMacro:LA}=ne,_A=0,NA=1,S8=2;function I8e(t,e){e.classHierarchy.push("vtkLookupTable"),t.isOpaque=()=>{if(e.opaqueFlagBuildTime.getMTime()<t.getMTime()){let n=!0;e.nanColor[3]<1&&(n=0),e.useBelowRangeColor&&e.belowRangeColor[3]<1&&(n=0),e.useAboveRangeColor&&e.aboveRangeColor[3]<1&&(n=0);for(let r=3;r<e.table.length&&n;r+=4)e.table[r]<255&&(n=!1);e.opaqueFlag=n,e.opaqueFlagBuildTime.modified()}return e.opaqueFlag},t.usingLogScale=()=>!1,t.getNumberOfAvailableColors=()=>e.table.length/4-3,t.linearIndexLookup=(n,r)=>{let a=0;const i=Number(n);return i<r.range[0]?a=r.maxIndex+_A+1.5:i>r.range[1]?a=r.maxIndex+NA+1.5:(a=(i+r.shift)*r.scale,a=a<r.maxIndex?a:r.maxIndex),Math.floor(a)},t.linearLookup=(n,r,a)=>{let i=0;n3(n)?i=Math.floor(a.maxIndex+1.5+S8):i=t.linearIndexLookup(n,a);const o=4*i;return r.slice(o,o+4)},t.indexedLookupFunction=(n,r,a)=>{let i=t.getAnnotatedValueIndexInternal(n);i===-1&&(i=e.numberOfColors+S8);const o=4*i;return[r[o],r[o+1],r[o+2],r[o+3]]},t.lookupShiftAndScale=(n,r)=>{r.shift=-n[0],r.scale=Number.MAX_VALUE,n[1]>n[0]&&(r.scale=(r.maxIndex+1)/(n[1]-n[0]))},t.mapScalarsThroughTable=(n,r,a,i)=>{let o=t.linearLookup;e.indexedLookup&&(o=t.indexedLookupFunction);const s=t.getMappingRange(),l={maxIndex:t.getNumberOfColors()-1,range:s,shift:0,scale:0};t.lookupShiftAndScale(s,l);const c=t.getAlpha(),f=n.getNumberOfTuples(),u=n.getNumberOfComponents(),d=r.getData(),g=n.getData();if(c>=1){if(a===j9.RGBA)for(let v=0;v<f;v++){const m=o(g[v*u+i],e.table,l);d[v*4]=m[0],d[v*4+1]=m[1],d[v*4+2]=m[2],d[v*4+3]=m[3]}}else if(a===j9.RGBA)for(let v=0;v<f;v++){const m=o(g[v*u+i],e.table,l);d[v*4]=m[0],d[v*4+1]=m[1],d[v*4+2]=m[2],d[v*4+3]=Math.floor(m[3]*c+.5)}},t.forceBuild=()=>{let n=0,r=0,a=0,i=0;const o=e.numberOfColors-1;o&&(n=(e.hueRange[1]-e.hueRange[0])/o,r=(e.saturationRange[1]-e.saturationRange[0])/o,a=(e.valueRange[1]-e.valueRange[0])/o,i=(e.alphaRange[1]-e.alphaRange[0])/o),e.table.length=4*o+16;const s=[],l=[];for(let c=0;c<=o;c++)s[0]=e.hueRange[0]+c*n,s[1]=e.saturationRange[0]+c*r,s[2]=e.valueRange[0]+c*a,Du(s,l),l[3]=e.alphaRange[0]+c*i,e.table[c*4]=l[0]*255+.5,e.table[c*4+1]=l[1]*255+.5,e.table[c*4+2]=l[2]*255+.5,e.table[c*4+3]=l[3]*255+.5;t.buildSpecialColors(),e.buildTime.modified()},t.setTable=n=>{if(Array.isArray(n)){const a=n[0].length;e.numberOfColors=n.length;const i=4-a;let o=0;for(let s=0;s<e.numberOfColors;s++)e.table[s*4]=255,e.table[s*4+1]=255,e.table[s*4+2]=255,e.table[s*4+3]=255;for(let s=0;s<n.length;s++){const l=n[s];for(let c=0;c<a;c++)e.table[o++]=l[c];o+=i}return t.buildSpecialColors(),e.insertTime.modified(),t.modified(),!0}if(n.getNumberOfComponents()!==4)return LA("Expected 4 components for RGBA colors"),!1;if(n.getDataType()!==qn.UNSIGNED_CHAR)return LA("Expected unsigned char values for RGBA colors"),!1;e.numberOfColors=n.getNumberOfTuples();const r=n.getData();e.table.length=r.length;for(let a=0;a<r.length;a++)e.table[a]=r[a];return t.buildSpecialColors(),e.insertTime.modified(),t.modified(),!0},t.buildSpecialColors=()=>{const{numberOfColors:n}=e,r=e.table;let a=(n+_A)*4;e.useBelowRangeColor||n===0?(r[a]=e.belowRangeColor[0]*255+.5,r[a+1]=e.belowRangeColor[1]*255+.5,r[a+2]=e.belowRangeColor[2]*255+.5,r[a+3]=e.belowRangeColor[3]*255+.5):(r[a]=r[0],r[a+1]=r[1],r[a+2]=r[2],r[a+3]=r[3]),a=(n+NA)*4,e.useAboveRangeColor||n===0?(r[a]=e.aboveRangeColor[0]*255+.5,r[a+1]=e.aboveRangeColor[1]*255+.5,r[a+2]=e.aboveRangeColor[2]*255+.5,r[a+3]=e.aboveRangeColor[3]*255+.5):(r[a]=r[4*(n-1)+0],r[a+1]=r[4*(n-1)+1],r[a+2]=r[4*(n-1)+2],r[a+3]=r[4*(n-1)+3]),a=(n+S8)*4,r[a]=e.nanColor[0]*255+.5,r[a+1]=e.nanColor[1]*255+.5,r[a+2]=e.nanColor[2]*255+.5,r[a+3]=e.nanColor[3]*255+.5},t.build=()=>{(e.table.length<1||t.getMTime()>e.buildTime.getMTime()&&e.insertTime.getMTime()<=e.buildTime.getMTime())&&t.forceBuild()},e.table.length>0&&(t.buildSpecialColors(),e.insertTime.modified())}const A8e={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function mz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,A8e,n),$w.extend(t,e,n),e.table||(e.table=[]),e.buildTime={},ne.obj(e.buildTime),e.opaqueFlagBuildTime={},ne.obj(e.opaqueFlagBuildTime,{mtime:0}),e.insertTime={},ne.obj(e.insertTime,{mtime:0}),ne.get(t,e,["buildTime"]),ne.setGet(t,e,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),ne.setArray(t,e,["alphaRange","hueRange","saturationRange","valueRange"],2),ne.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),ne.getArray(t,e,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),I8e(t,e)}const M8e=ne.newInstance(mz,"vtkLookupTable");var H9={newInstance:M8e,extend:mz};const Bs={Off:0,PolygonOffset:1};let q9=Bs.PolygonOffset,d3=Bs.Off;const P8e=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function L8e(){return q9}function _8e(t){const e=q9===t;return q9=t,e}function N8e(){return d3}function ry(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const e=d3===t;return d3=t,e}function F8e(){return ry(Bs.Off)}function $8e(){return ry(Bs.Off)}function V8e(){return ry(Bs.PolygonOffset)}function k8e(){return P8e[d3]}var K9={Resolve:Bs,getResolveCoincidentTopologyAsString:k8e,getResolveCoincidentTopologyPolygonOffsetFaces:L8e,getResolveCoincidentTopology:N8e,setResolveCoincidentTopology:ry,setResolveCoincidentTopologyPolygonOffsetFaces:_8e,setResolveCoincidentTopologyToDefault:F8e,setResolveCoincidentTopologyToOff:$8e,setResolveCoincidentTopologyToPolygonOffset:V8e};function vz(t,e,n){n.forEach(r=>{t[`get${r.method}`]=()=>e[r.key],t[`set${r.method}`]=ne.objectSetterMap.object(t,e,{name:r.key,params:["factor","offset"]})})}const Vw=["Polygon","Line","Point"],U8e={Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},B8e=()=>{},Ou={modified:B8e};vz(Ou,U8e,Vw.map(t=>({key:t,method:`ResolveCoincidentTopology${t}OffsetParameters`})));function G8e(t,e){e.resolveCoincidentTopology===void 0&&(e.resolveCoincidentTopology=!1),ne.setGet(t,e,["resolveCoincidentTopology"]),e.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(K9).forEach(n=>{t[n]=K9[n]}),Object.keys(Ou).filter(n=>n!=="modified").forEach(n=>{t[n]=Ou[n]}),vz(t,e.topologyOffset,Vw.map(n=>({key:n,method:`RelativeCoincidentTopology${n}OffsetParameters`}))),t.getCoincidentTopologyPolygonOffsetParameters=()=>{const n=Ou.getResolveCoincidentTopologyPolygonOffsetParameters(),r=t.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}},t.getCoincidentTopologyLineOffsetParameters=()=>{const n=Ou.getResolveCoincidentTopologyLineOffsetParameters(),r=t.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}},t.getCoincidentTopologyPointOffsetParameter=()=>{const n=Ou.getResolveCoincidentTopologyPointOffsetParameters(),r=t.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}}}var ay={implementCoincidentTopologyMethods:G8e,staticOffsetAPI:Ou,otherStaticMethods:K9,CATEGORIES:Vw,Resolve:Bs};const{FieldAssociations:FA}=cg,{staticOffsetAPI:z8e,otherStaticMethods:W8e}=ay,{ColorMode:Dh,ScalarMode:cu,GetArray:y8}=Fw,{VectorMode:j8e}=Nw,{VtkDataTypes:H8e}=Bn;function kg(t){return()=>ne.vtkErrorMacro(`vtkMapper::${t} - NOT IMPLEMENTED`)}function q8e(t,e){const n=t[1]%2===0?1:-1;if(t[0]+=n,t[0]>=e[0]||t[0]<0){const r=t[2]%2===0?1:-1;t[0]-=n,t[1]+=r,(t[1]>=e[1]||t[1]<0)&&(t[1]-=r,t[2]++)}}function K8e(t,e){return t[0]+e[0]*(t[1]+e[1]*t[2])}function $A(t,e,n){const r=Math.floor(e),a=r%(2*n[0]);let i,o;a<n[0]?(t[0]=a,i=1,o=t[0]===n[0]-1):(t[0]=2*n[0]-1-a,i=-1,o=t[0]===0);const s=Math.floor(r/n[0]),l=s%(2*n[1]);let c,f;l<n[1]?(t[1]=l,c=1,f=t[1]===n[1]-1):(t[1]=2*n[1]-1-l,c=-1,f=t[1]===0),t[2]=Math.floor(s/n[1]);const u=e-r;o?f?t[2]+=u:t[1]+=c*u:t[0]+=i*u,t[0]=(t[0]+.5)/n[0],t[1]=(t[1]+.5)/n[1],t[2]=(t[2]+.5)/n[2]}const VA=new WeakMap;function Q8e(t,e,n,r,a,i,o){var I;const s=new Array(arguments.length);for(let M=0;M<arguments.length;++M){const A=arguments[M];s[M]=((I=A.getMTime)==null?void 0:I.call(A))??A}const l=s.join("/"),c=VA.get(t);if(c&&c.stringHash===l)return c.textureCoordinates;const f=(n[1]-n[0])/(r-1),[u,d]=[n[0]-f,n[1]+f],g=u-.5*f,v=1/(d-u+f),m=u,p=(r+1)/(d-u),h=t.getData(),y=t.getNumberOfTuples(),C=t.getNumberOfComponents(),x=e<0||e>=C,T=a[2]<=1?2:3,w=Bn.newInstance({numberOfComponents:T,values:new Float32Array(y*T)}),b=w.getData(),E=[0,0,0];$A(E,r+2,a);let O=0,D=0;const R=[.5,.5,.5];for(let M=0;M<y;++M){let A;if(x){let B=0;for(let L=0;L<C;++L){const F=h[O+L];B+=F*F}A=Math.sqrt(B)}else A=h[O+e];if(O+=C,i&&(A=H9.applyLogScale(A,n,n)),n3(A))R[0]=E[0],R[1]=E[1],R[2]=E[2];else if(o){let B=(A-m)*p;B<1?B=0:B>r&&(B=r+1),$A(R,B,a)}else{R[1]=.49;const B=(A-g)*v;B>1e3?R[0]=1e3:B<-1e3?R[0]=-1e3:R[0]=B}for(let B=0;B<T;++B)b[D++]=R[B]}return VA.set(t,{stringHash:l,textureCoordinates:w}),w}function X8e(t,e){e.classHierarchy.push("vtkMapper"),t.getBounds=()=>{const n=t.getInputData();return n?(e.static||t.update(),e.bounds=n.getBounds()):e.bounds=Ic(),e.bounds},t.setForceCompileOnly=n=>{e.forceCompileOnly=n},t.setSelectionWebGLIdsToVTKIds=n=>{e.selectionWebGLIdsToVTKIds=n},t.createDefaultLookupTable=()=>{e.lookupTable=H9.newInstance()},t.getColorModeAsString=()=>ne.enumToString(Dh,e.colorMode),t.setColorModeToDefault=()=>t.setColorMode(0),t.setColorModeToMapScalars=()=>t.setColorMode(1),t.setColorModeToDirectScalars=()=>t.setColorMode(2),t.getScalarModeAsString=()=>ne.enumToString(cu,e.scalarMode),t.setScalarModeToDefault=()=>t.setScalarMode(0),t.setScalarModeToUsePointData=()=>t.setScalarMode(1),t.setScalarModeToUseCellData=()=>t.setScalarMode(2),t.setScalarModeToUsePointFieldData=()=>t.setScalarMode(3),t.setScalarModeToUseCellFieldData=()=>t.setScalarMode(4),t.setScalarModeToUseFieldData=()=>t.setScalarMode(5),t.getAbstractScalars=(n,r,a,i,o)=>{if(!n||!e.scalarVisibility)return{scalars:null,cellFlag:!1};let s=null,l=!1;if(r===cu.DEFAULT)s=n.getPointData().getScalars(),s||(s=n.getCellData().getScalars(),l=!0);else if(r===cu.USE_POINT_DATA)s=n.getPointData().getScalars();else if(r===cu.USE_CELL_DATA)s=n.getCellData().getScalars(),l=!0;else if(r===cu.USE_POINT_FIELD_DATA){const c=n.getPointData();a===y8.BY_ID?s=c.getArrayByIndex(i):s=c.getArrayByName(o)}else if(r===cu.USE_CELL_FIELD_DATA){const c=n.getCellData();l=!0,a===y8.BY_ID?s=c.getArrayByIndex(i):s=c.getArrayByName(o)}else if(r===cu.USE_FIELD_DATA){const c=n.getFieldData();a===y8.BY_ID?s=c.getArrayByIndex(i):s=c.getArrayByName(o)}return{scalars:s,cellFlag:l}},t.mapScalars=(n,r)=>{const{scalars:a,cellFlag:i}=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName);if(e.areScalarsMappedFromCells=i,!a){e.colorCoordinates=null,e.colorTextureMap=null,e.colorMapColors=null;return}const o=`${t.getMTime()}${a.getMTime()}${r}`;if(e.colorBuildString!==o){if(e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),t.canUseTextureMapForColoring(a,i))e.mapScalarsToTexture(a,i,r);else{e.colorCoordinates=null,e.colorTextureMap=null;const s=t.getLookupTable();s&&(s.build(),e.colorMapColors=s.mapScalars(a,e.colorMode,e.fieldDataTupleId))}e.colorBuildString=`${t.getMTime()}${a.getMTime()}${r}`}},e.mapScalarsToTexture=(n,r,a)=>{const i=e.lookupTable.getRange(),o=e.lookupTable.usingLogScale();o&&H9.getLogRange(i,i);const s=e.lookupTable.getAlpha();if(e.colorMapColors=null,e.colorTextureMap==null||t.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getAlpha()!==a){e.lookupTable.setAlpha(a),e.colorTextureMap=null,e.lookupTable.build();const c=e.lookupTable.getNumberOfAvailableColors(),f=2048,u=f**3-3,g=4096-2,v=2,m=r?u:g;e.numberOfColorsInRange=Math.min(Math.max(c,v),m);const p=e.numberOfColorsInRange+3,h=e.numberOfColorsInRange+2,y=r?[Math.min(Math.ceil(p/f**0),f),Math.min(Math.ceil(p/f**1),f),Math.min(Math.ceil(p/f**2),f)]:[h,2,1],C=y[0]*y[1]*y[2],x=new Float64Array(C);x.fill(NaN);const T=e.numberOfColorsInRange,w=T+2,b=[0,0,0],E=i[0],O=i[1]-i[0];for(let I=0;I<w;++I){const M=K8e(b,y),A=E+O*(I-1)/(T-1);x[M]=o?10**A:A,q8e(b,y)}const D=Bn.newInstance({numberOfComponents:1,values:x}),R=e.lookupTable.mapScalars(D,e.colorMode,0);e.colorTextureMap=ny.newInstance(),e.colorTextureMap.setDimensions(y),e.colorTextureMap.getPointData().setScalars(R),e.lookupTable.setAlpha(s)}const l=e.lookupTable.getVectorMode()===j8e.MAGNITUDE&&n.getNumberOfComponents()>1?-1:e.lookupTable.getVectorComponent();e.colorCoordinates=Q8e(n,l,i,e.numberOfColorsInRange,e.colorTextureMap.getDimensions(),o,r)},t.getIsOpaque=()=>{const n=t.getInputData(),a=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!e.scalarVisibility||a==null)return!0;const i=t.getLookupTable();return i?(i.build(),i.areScalarsOpaque(a,e.colorMode,-1)):!0},t.canUseTextureMapForColoring=(n,r)=>r&&e.colorMode!==Dh.DIRECT_SCALARS?!0:!(!e.interpolateScalarsBeforeMapping||e.lookupTable&&e.lookupTable.getIndexedLookup()||!n||e.colorMode===Dh.DEFAULT&&n.getDataType()===H8e.UNSIGNED_CHAR||e.colorMode===Dh.DIRECT_SCALARS),t.clearColorArrays=()=>{e.colorMapColors=null,e.colorCoordinates=null,e.colorTextureMap=null},t.getLookupTable=()=>(e.lookupTable||t.createDefaultLookupTable(),e.lookupTable),t.getMTime=()=>{let n=e.mtime;if(e.lookupTable!==null){const r=e.lookupTable.getMTime();n=r>n?r:n}return n},t.getPrimitiveCount=()=>{const n=t.getInputData();return{points:n.getPoints().getNumberOfValues()/3,verts:n.getVerts().getNumberOfValues()-n.getVerts().getNumberOfCells(),lines:n.getLines().getNumberOfValues()-2*n.getLines().getNumberOfCells(),triangles:n.getPolys().getNumberOfValues()-3*n.getPolys().getNumberOfCells()}},t.acquireInvertibleLookupTable=kg("AcquireInvertibleLookupTable"),t.valueToColor=kg("ValueToColor"),t.colorToValue=kg("ColorToValue"),t.useInvertibleColorFor=kg("UseInvertibleColorFor"),t.clearInvertibleColor=kg("ClearInvertibleColor"),t.processSelectorPixelBuffers=(n,r)=>{if(!n||!e.selectionWebGLIdsToVTKIds||!e.populateSelectionSettings)return;const a=n.getRawPixelBuffer(Gi.ID_LOW24),i=n.getRawPixelBuffer(Gi.ID_HIGH24),o=n.getCurrentPass(),s=n.getFieldAssociation();let l=null;s===FA.FIELD_ASSOCIATION_POINTS?l=e.selectionWebGLIdsToVTKIds.points:s===FA.FIELD_ASSOCIATION_CELLS&&(l=e.selectionWebGLIdsToVTKIds.cells),l&&r.forEach(c=>{if(o===Gi.ID_LOW24){let f=0;i&&(f+=i[c],f*=256),f+=a[c+2],f*=256,f+=a[c+1],f*=256,f+=a[c];const u=l[f],d=n.getPixelBuffer(Gi.ID_LOW24);d[c]=u&255,d[c+1]=(u&65280)>>8,d[c+2]=(u&16711680)>>16}else if(o===Gi.ID_HIGH24&&i){let f=0;f+=i[c],f*=256,f+=a[c+2],f*=256,f+=a[c+1],f*=256,f+=a[c];const u=l[f],d=n.getPixelBuffer(Gi.ID_HIGH24);d[c]=(u&4278190080)>>24}})}}const Y8e={colorMapColors:null,areScalarsMappedFromCells:!1,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,populateSelectionSettings:!0,selectionWebGLIdsToVTKIds:null,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,numberOfColorsInRange:0,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,customShaderAttributes:[]};function pz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Y8e,n),_w.extend(t,e,n),ne.get(t,e,["areScalarsMappedFromCells","colorCoordinates","colorMapColors","colorTextureMap","numberOfColorsInRange","selectionWebGLIdsToVTKIds"]),ne.setGet(t,e,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","populateSelectionSettings","renderTime","scalarMode","scalarVisibility","static","useLookupTableScalarRange","customShaderAttributes"]),ne.setGetArray(t,e,["scalarRange"],2),ay.implementCoincidentTopologyMethods(t,e),X8e(t,e)}const Z8e=ne.newInstance(pz,"vtkMapper");var hz={newInstance:Z8e,extend:pz,...z8e,...W8e,...Fw};const J8e={DISPLAY:0,WORLD:1};var Sz={CoordinateSystem:J8e};const{CoordinateSystem:Q9}=Sz;function kA(t){return()=>ne.vtkErrorMacro(`vtkProp::${t} - NOT IMPLEMENTED`)}function eCe(t,e){e.classHierarchy.push("vtkProp"),t.getMTime=()=>{let n=e.mtime;for(let r=0;r<e.textures.length;++r){const a=e.textures[r].getMTime();a>n&&(n=a)}return n},t.processSelectorPixelBuffers=(n,r)=>{},t.getNestedProps=()=>null,t.getActors=()=>[],t.getActors2D=()=>[],t.getVolumes=()=>[],t.pick=kA("pick"),t.hasKey=kA("hasKey"),t.getNestedVisibility=()=>e.visibility&&(!e._parentProp||e._parentProp.getNestedVisibility()),t.getNestedPickable=()=>e.pickable&&(!e._parentProp||e._parentProp.getNestedPickable()),t.getNestedDragable=()=>e.dragable&&(!e._parentProp||e._parentProp.getNestedDragable()),t.getRedrawMTime=()=>e.mtime,t.setEstimatedRenderTime=n=>{e.estimatedRenderTime=n,e.savedEstimatedRenderTime=n},t.restoreEstimatedRenderTime=()=>{e.estimatedRenderTime=e.savedEstimatedRenderTime},t.addEstimatedRenderTime=n=>{e.estimatedRenderTime+=n},t.setAllocatedRenderTime=n=>{e.allocatedRenderTime=n,e.savedEstimatedRenderTime=e.estimatedRenderTime,e.estimatedRenderTime=0},t.getSupportsSelection=()=>!1,t.getTextures=()=>e.textures,t.hasTexture=n=>e.textures.indexOf(n)!==-1,t.addTexture=n=>{n&&!t.hasTexture(n)&&(e.textures=e.textures.concat(n),t.modified())},t.removeTexture=n=>{const r=e.textures.filter(a=>a!==n);e.textures.length!==r.length&&(e.textures=r,t.modified())},t.removeAllTextures=()=>{e.textures=[],t.modified()},t.setCoordinateSystemToWorld=()=>t.setCoordinateSystem(Q9.WORLD),t.setCoordinateSystemToDisplay=()=>t.setCoordinateSystem(Q9.DISPLAY)}const tCe={allocatedRenderTime:10,coordinateSystem:Q9.WORLD,dragable:!0,estimatedRenderTime:0,paths:null,pickable:!0,renderTimeMultiplier:1,savedEstimatedRenderTime:0,textures:[],useBounds:!0,visibility:!0};function yz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,tCe,n),ne.obj(t,e),ne.get(t,e,["estimatedRenderTime","allocatedRenderTime"]),ne.setGet(t,e,["_parentProp","coordinateSystem","dragable","pickable","renderTimeMultiplier","useBounds","visibility"]),ne.moveToProtected(t,e,["parentProp"]),eCe(t,e)}const nCe=ne.newInstance(yz,"vtkProp");var Cz={newInstance:nCe,extend:yz,...Sz},kw=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexMC;

// frag position in VC
//VTK::PositionVC::Dec

// optional normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

// Apple Bug
//VTK::PrimID::Dec

// picking support
//VTK::Picking::Dec

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  //VTK::PrimID::Impl

  //VTK::PositionVC::Impl

  //VTK::Light::Impl

  //VTK::Picking::Impl
}
`,Mp=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the polydata mappers fragment shader

uniform int PrimitiveIDOffset;

// VC position of this fragment
//VTK::PositionVC::Dec

// optional color passed in from the vertex shader, vertexColor
//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// Depth Peeling Support
//VTK::DepthPeeling::Dec

// clipping plane vars
//VTK::Clip::Dec

// label outline 
//VTK::LabelOutline::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

//VTK::LabelOutlineHelperFunction

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Clip::Impl

  //VTK::Color::Impl

  // Generate the normal if we are not passed in one
  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Light::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;function rCe(t,e){t.replaceShaderCoincidentOffset=(n,r,a)=>{const i=t.getCoincidentParameters(r,a);if(i&&(i.factor!==0||i.offset!==0)){let o=n.Fragment;o=Fe.substitute(o,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,e.context.getExtension("EXT_frag_depth")&&(i.factor!==0?(o=Fe.substitute(o,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,o=Fe.substitute(o,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):o=Fe.substitute(o,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),e._openGLRenderWindow.getWebgl2()&&(i.factor!==0?(o=Fe.substitute(o,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,o=Fe.substitute(o,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):o=Fe.substitute(o,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),n.Fragment=o}}}function aCe(t,e){t.applyShaderReplacements=(n,r,a)=>{let i=null;if(r&&(i=r.ShaderReplacements),i)for(let o=0;o<i.length;o++){const s=i[o];if(a&&s.replaceFirst||!a&&!s.replaceFirst){const l=s.shaderType,c=n[l],f=Fe.substitute(c,s.originalValue,s.replacementValue,s.replaceAll);n[l]=f.result}}},t.buildShaders=(n,r,a)=>{t.getReplacedShaderTemplate(n,r,a),e.lastRenderPassShaderReplacement=e.currentRenderPass?e.currentRenderPass.getShaderReplacement():null,e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(n);const i=e.renderable.getViewSpecificProperties().OpenGL;t.applyShaderReplacements(n,i,!0),t.replaceShaderValues(n,r,a),t.applyShaderReplacements(n,i)},t.getReplacedShaderTemplate=(n,r,a)=>{const i=e.renderable.getViewSpecificProperties().OpenGL;t.getShaderTemplate(n,r,a);let o=n.Vertex;if(i){const c=i.VertexShaderCode;c!==void 0&&c!==""&&(o=c)}n.Vertex=o;let s=n.Fragment;if(i){const c=i.FragmentShaderCode;c!==void 0&&c!==""&&(s=c)}n.Fragment=s;let l=n.Geometry;if(i){const c=i.GeometryShaderCode;c!==void 0&&(l=c)}n.Geometry=l}}var Mc={implementReplaceShaderCoincidentOffset:rCe,implementBuildShadersWithReplacements:aCe};const{FieldAssociations:C8}=cg,{primTypes:Za}=Uc,{Representation:jf,Shading:UA}=Ap,{ScalarMode:Oh}=hz,{Filter:BA,Wrap:GA}=Zr,{vtkErrorMacro:uu}=Ni,iCe={type:"StartEvent"},oCe={type:"EndEvent"},{CoordinateSystem:sCe}=Cz;function lCe(t){const e=t.getSelector();return e?e.getCurrentPass():Gi.MIN_KNOWN_PASS-1}function cCe(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper"),t.buildPass=r=>{r&&(e.currentRenderPass=null,e.openGLActor=t.getFirstAncestorOfType("vtkOpenGLActor"),e._openGLRenderer=e.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getLastAncestorOfType("vtkOpenGLRenderWindow"),e.openGLCamera=e._openGLRenderer.getViewNodeFor(e._openGLRenderer.getRenderable().getActiveCamera()))},t.translucentPass=(r,a)=>{r&&(e.currentRenderPass=a,t.render())},t.zBufferPass=r=>{r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaqueZBufferPass=r=>t.zBufferPass(r),t.opaquePass=r=>{r&&t.render()},t.render=()=>{const r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(let o=Za.Start;o<Za.End;o++)e.primitives[o].setOpenGLRenderWindow(e._openGLRenderWindow)}const a=e.openGLActor.getRenderable(),i=e._openGLRenderer.getRenderable();t.renderPiece(i,a)},t.getShaderTemplate=(r,a,i)=>{r.Vertex=kw,r.Fragment=Mp,r.Geometry=""},t.replaceShaderColor=(r,a,i)=>{let o=r.Vertex,s=r.Geometry,l=r.Fragment;const c=e.lastBoundBO.getReferenceByName("lastLightComplexity");let f=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];c&&(f=f.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));let u=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];c&&(u=u.concat(["  vec3 specularColor;","  float specularPower;"])),u=u.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),c&&(u=u.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges&&(f=f.concat(["varying vec4 vertexColorVSOutput;"]),o=Fe.substitute(o,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,o=Fe.substitute(o,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,s=Fe.substitute(s,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,s=Fe.substitute(s,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges?l=Fe.substitute(l,"//VTK::Color::Impl",u.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result:(e.renderable.getAreScalarsMappedFromCells()||e.renderable.getInterpolateScalarsBeforeMapping())&&e.renderable.getColorCoordinates()&&!e.drawingEdges?l=Fe.substitute(l,"//VTK::Color::Impl",u.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:(i.getBackfaceProperty()&&!e.drawingEdges&&(f=f.concat(["uniform float opacityUniformBF; // the fragment opacity","uniform float ambientIntensityBF; // the material ambient","uniform float diffuseIntensityBF; // the material diffuse","uniform vec3 ambientColorUniformBF; // ambient material color","uniform vec3 diffuseColorUniformBF; // diffuse material color"]),c?(f=f.concat(["uniform float specularIntensityBF; // the material specular intensity","uniform vec3 specularColorUniformBF; // intensity weighted color","uniform float specularPowerUniformBF;"]),u=u.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  specularColor = specularIntensityBF * specularColorUniformBF;","  specularPower = specularPowerUniformBF;","  opacity = opacityUniformBF; }"])):u=u.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  opacity = opacityUniformBF; }"])),e.haveCellScalars&&!e.drawingEdges&&(f=f.concat(["uniform samplerBuffer texture1;"])),l=Fe.substitute(l,"//VTK::Color::Impl",u).result),l=Fe.substitute(l,"//VTK::Color::Dec",f).result,r.Vertex=o,r.Geometry=s,r.Fragment=l},t.replaceShaderLight=(r,a,i)=>{let o=r.Fragment;const s="",l=e.lastBoundBO.getReferenceByName("lastLightComplexity"),c=e.lastBoundBO.getReferenceByName("lastLightCount");let f=[];switch(l){case 0:o=Fe.substitute(o,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:o=Fe.substitute(o,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(let u=0;u<c;++u)f=f.concat([`uniform vec3 lightColor${u};`,`uniform vec3 lightDirectionVC${u}; // normalized`,`uniform vec3 lightHalfAngleVC${u}; // normalized`]);o=Fe.substitute(o,"//VTK::Light::Dec",f).result,f=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(let u=0;u<c;++u)f=f.concat([`  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC${u}));`,`  diffuseL += ((df${s}) * lightColor${u});`,`  if (dot(normalVCVSOutput, lightDirectionVC${u}) < 0.0)`,"    {",`    float sf = sign(df)*pow(max(1e-5,
                                              dot(reflect(lightDirectionVC${u},normalVCVSOutput),
                                                  normalize(-vertexVC.xyz))),
                                         specularPower);`,`    specularL += (sf${s} * lightColor${u});`,"    }"]);f=f.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),o=Fe.substitute(o,"//VTK::Light::Impl",f,!1).result;break;case 3:for(let u=0;u<c;++u)f=f.concat([`uniform vec3 lightColor${u};`,`uniform vec3 lightDirectionVC${u}; // normalized`,`uniform vec3 lightHalfAngleVC${u}; // normalized`,`uniform vec3 lightPositionVC${u};`,`uniform vec3 lightAttenuation${u};`,`uniform float lightConeAngle${u};`,`uniform float lightExponent${u};`,`uniform int lightPositional${u};`]);o=Fe.substitute(o,"//VTK::Light::Dec",f).result,f=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(let u=0;u<c;++u)f=f.concat(["  attenuation = 1.0;",`  if (lightPositional${u} == 0)`,"    {",`      vertLightDirectionVC = lightDirectionVC${u};`,"    }","  else","    {",`    vertLightDirectionVC = vertexVC.xyz - lightPositionVC${u};`,"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /",`      (lightAttenuation${u}.x`,`       + lightAttenuation${u}.y * distanceVC`,`       + lightAttenuation${u}.z * distanceVC * distanceVC);`,"    // per OpenGL standard cone angle is 90 or less for a spot light",`    if (lightConeAngle${u} <= 90.0)`,"      {",`      float coneDot = dot(vertLightDirectionVC, lightDirectionVC${u});`,"      // if inside the cone",`      if (coneDot >= cos(radians(lightConeAngle${u})))`,"        {",`        attenuation = attenuation * pow(coneDot, lightExponent${u});`,"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));",`    diffuseL += ((df${s}) * lightColor${u});`,"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {",`      float sf = sign(df)*attenuation*pow(max(1e-5,
                                                           dot(reflect(lightDirectionVC${u},
                                                                       normalVCVSOutput),
                                                               normalize(-vertexVC.xyz))),
                                                       specularPower);`,`    specularL += ((sf${s}) * lightColor${u});`,"    }"]);f=f.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),o=Fe.substitute(o,"//VTK::Light::Impl",f,!1).result;break;default:uu("bad light complexity")}r.Fragment=o},t.replaceShaderNormal=(r,a,i)=>{if(e.lastBoundBO.getReferenceByName("lastLightComplexity")>0){let s=r.Vertex,l=r.Geometry,c=r.Fragment;e.lastBoundBO.getCABO().getNormalOffset()?(s=Fe.substitute(s,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,s=Fe.substitute(s,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,l=Fe.substitute(l,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,l=Fe.substitute(l,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,c=Fe.substitute(c,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,c=Fe.substitute(c,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.haveCellNormals?(c=Fe.substitute(c,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,c=Fe.substitute(c,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.lastBoundBO.getOpenGLMode(i.getProperty().getRepresentation())===e.context.LINES?(c=Fe.substitute(c,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,c=Fe.substitute(c,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  if (abs(fdx.x) > 0.0)","    { fdx = normalize(fdx); normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { fdy = normalize(fdy); normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(c=Fe.substitute(c,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,c=Fe.substitute(c,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,c=Fe.substitute(c,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),r.Vertex=s,r.Geometry=l,r.Fragment=c}},t.replaceShaderPositionVC=(r,a,i)=>{e.lastBoundBO.replaceShaderPositionVC(r,a,i);let o=r.Vertex,s=r.Geometry,l=r.Fragment;e.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(o=Fe.substitute(o,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,o=Fe.substitute(o,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,o=Fe.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,s=Fe.substitute(s,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,s=Fe.substitute(s,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,l=Fe.substitute(l,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,l=Fe.substitute(l,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(o=Fe.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,o=Fe.substitute(o,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),r.Vertex=o,r.Geometry=s,r.Fragment=l},t.replaceShaderTCoord=(r,a,i)=>{if(e.lastBoundBO.getCABO().getTCoordOffset()){let o=r.Vertex,s=r.Geometry,l=r.Fragment;if(e.drawingEdges)return;o=Fe.substitute(o,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;const c=e.openGLActor.getActiveTextures();let f=2,u=2;if(c&&c.length>0&&(f=c[0].getComponents(),c[0].getTarget()===e.context.TEXTURE_CUBE_MAP&&(u=3)),e.renderable.getColorTextureMap()&&(f=e.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),u=2),u===2){if(o=Fe.substitute(o,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,s=Fe.substitute(s,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,s=Fe.substitute(s,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,l=Fe.substitute(l,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,c&&c.length>=1)switch(f){case 1:l=Fe.substitute(l,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:l=Fe.substitute(l,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:l=Fe.substitute(l,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}}else switch(o=Fe.substitute(o,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,s=Fe.substitute(s,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,s=Fe.substitute(s,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,l=Fe.substitute(l,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,f){case 1:l=Fe.substitute(l,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:l=Fe.substitute(l,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:l=Fe.substitute(l,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}r.Vertex=o,r.Geometry=s,r.Fragment=l}},t.replaceShaderClip=(r,a,i)=>{let o=r.Vertex,s=r.Fragment;if(e.renderable.getNumberOfClippingPlanes()){const l=e.renderable.getNumberOfClippingPlanes();o=Fe.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;",`uniform vec4 clipPlanes[${l}];`,`varying float clipDistancesVSOutput[${l}];`]).result,o=Fe.substitute(o,"//VTK::Clip::Impl",[`for (int planeNum = 0; planeNum < ${l}; planeNum++)`,"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,s=Fe.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;",`varying float clipDistancesVSOutput[${l}];`]).result,s=Fe.substitute(s,"//VTK::Clip::Impl",[`for (int planeNum = 0; planeNum < ${l}; planeNum++)`,"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}r.Vertex=o,r.Fragment=s},t.getCoincidentParameters=(r,a)=>{let i={factor:0,offset:0};const o=a.getProperty();if(e.renderable.getResolveCoincidentTopology()==Bs.PolygonOffset||o.getEdgeVisibility()&&o.getRepresentation()===jf.SURFACE){const l=e.lastBoundBO.getPrimitiveType();l===Za.Points||o.getRepresentation()===jf.POINTS?i=e.renderable.getCoincidentTopologyPointOffsetParameter():l===Za.Lines||o.getRepresentation()===jf.WIREFRAME?i=e.renderable.getCoincidentTopologyLineOffsetParameters():(l===Za.Tris||l===Za.TriStrips)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters()),(l===Za.TrisEdges||l===Za.TriStripsEdges)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters(),i.factor/=2,i.offset/=2)}const s=e._openGLRenderer.getSelector();return s&&s.getFieldAssociation()===C8.FIELD_ASSOCIATION_POINTS&&(i.offset-=2),i},t.replaceShaderPicking=(r,a,i)=>{let o=r.Fragment,s=r.Vertex;if(o=Fe.substitute(o,"//VTK::Picking::Dec",["uniform int picking;","//VTK::Picking::Dec"]).result,!!e._openGLRenderer.getSelector()){switch((e.lastSelectionState===Gi.ID_LOW24||e.lastSelectionState===Gi.ID_HIGH24)&&(s=Fe.substitute(s,"//VTK::Picking::Dec",[`flat out int vertexIDVSOutput;
`,`uniform int VertexIDOffset;
`]).result,s=Fe.substitute(s,"//VTK::Picking::Impl",`  vertexIDVSOutput = gl_VertexID + VertexIDOffset;
`).result,o=Fe.substitute(o,"//VTK::Picking::Dec",`flat in int vertexIDVSOutput;
`).result,o=Fe.substitute(o,"//VTK::Picking::Impl",["  int idx = vertexIDVSOutput;","//VTK::Picking::Impl"]).result),e.lastSelectionState){case Gi.ID_LOW24:o=Fe.substitute(o,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx%256)/255.0, float((idx/256)%256)/255.0, float((idx/65536)%256)/255.0, 1.0);").result;break;case Gi.ID_HIGH24:o=Fe.substitute(o,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float((idx/16777216)%256)/255.0, 0.0, 0.0, 1.0);").result;break;default:o=Fe.substitute(o,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,o=Fe.substitute(o,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result}r.Fragment=o,r.Vertex=s}},t.replaceShaderValues=(r,a,i)=>{if(t.replaceShaderColor(r,a,i),t.replaceShaderNormal(r,a,i),t.replaceShaderLight(r,a,i),t.replaceShaderTCoord(r,a,i),t.replaceShaderPicking(r,a,i),t.replaceShaderClip(r,a,i),t.replaceShaderCoincidentOffset(r,a,i),t.replaceShaderPositionVC(r,a,i),e.haveSeenDepthRequest){let o=r.Fragment;o=Fe.substitute(o,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,o=Fe.substitute(o,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,r.Fragment=o}},t.getNeedToRebuildShaders=(r,a,i)=>{let o=0,s=0;const l=r.getPrimitiveType(),c=e.currentInput;let f=!1;const u=c.getPointData().getNormals(),d=c.getCellData().getNormals(),g=i.getProperty().getInterpolation()===UA.FLAT,v=i.getProperty().getRepresentation(),m=r.getOpenGLMode(v,l);if((m===e.context.TRIANGLES||d&&!u||!g&&u||!g&&m===e.context.LINES)&&(f=!0),i.getProperty().getLighting()&&f){o=0;const C=a.getLightsByReference();for(let x=0;x<C.length;++x){const T=C[x];T.getSwitch()>0&&(s++,o===0&&(o=1)),o===1&&(s>1||T.getIntensity()!==1||!T.lightTypeIsHeadLight())&&(o=2),o<3&&T.getPositional()&&(o=3)}}let p=!1;const h=e.lastBoundBO.getReferenceByName("lastLightComplexity"),y=e.lastBoundBO.getReferenceByName("lastLightCount");return(h!==o||y!==s)&&(e.lastBoundBO.set({lastLightComplexity:o},!0),e.lastBoundBO.set({lastLightCount:s},!0),p=!0),(!e.currentRenderPass&&e.lastRenderPassShaderReplacement||e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement)&&(p=!0),e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()||r.getShaderSourceTime().getMTime()<e.selectionStateChanged.getMTime()||p?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,!0):!1},t.invokeShaderCallbacks=(r,a,i)=>{const o=e.renderable.getViewSpecificProperties().ShadersCallbacks;o&&o.forEach(s=>{s.callback(s.userData,r,a,i)})},t.setMapperShaderParameters=(r,a,i)=>{if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getProgram().isUniformUsed("VertexIDOffset")&&r.getProgram().setUniformi("VertexIDOffset",e.vertexIDOffset),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){const l=e.lastBoundBO.getReferenceByName("lastLightComplexity");r.getProgram().isAttributeUsed("vertexMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexMC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||uu("Error setting vertexMC in shader VAO.")),r.getProgram().isAttributeUsed("normalMC")&&r.getCABO().getNormalOffset()&&l>0?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"normalMC",r.getCABO().getNormalOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||uu("Error setting normalMC in shader VAO."):r.getVAO().removeAttributeArray("normalMC"),e.renderable.getCustomShaderAttributes().forEach((c,f)=>{r.getProgram().isAttributeUsed(`${c}MC`)&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),`${c}MC`,r.getCABO().getCustomData()[f].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[f].components,!1)||uu(`Error setting ${c}MC in shader VAO.`))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||uu("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),r.getProgram().isAttributeUsed("scalarColor")&&r.getCABO().getColorComponents()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO().getColorBO(),"scalarColor",r.getCABO().getColorOffset(),r.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,4,!0)||uu("Error setting scalarColor in shader VAO."):r.getVAO().removeAttributeArray("scalarColor"),r.getAttributeUpdateTime().modified()}if(e.renderable.getNumberOfClippingPlanes()){const l=e.renderable.getNumberOfClippingPlanes(),c=[],u=r.getCABO().getCoordShiftAndScaleEnabled()?r.getCABO().getInverseShiftAndScaleMatrix():null,d=u?Ea(e.tmpMat4,i.getMatrix()):i.getMatrix();u&&(tr(d,d),Zn(d,d,u),tr(d,d));for(let g=0;g<l;g++){const v=[];e.renderable.getClippingPlaneInDataCoords(d,g,v);for(let m=0;m<4;m++)c.push(v[m])}r.getProgram().setUniformi("numClipPlanes",l),r.getProgram().setUniform4fv("clipPlanes",c)}e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());const o=e.openGLActor.getActiveTextures();if(o)for(let l=0;l<o.length;++l){const f=o[l].getTextureUnit(),u=`texture${f+1}`;r.getProgram().isUniformUsed(u)&&r.getProgram().setUniformi(u,f)}if(e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),r.getProgram().isUniformUsed("coffset")){const l=t.getCoincidentParameters(a,i);r.getProgram().setUniformf("coffset",l.offset),r.getProgram().isUniformUsed("cfactor")&&r.getProgram().setUniformf("cfactor",l.factor)}r.setMapperShaderParameters(a,i,e._openGLRenderer.getTiledSizeAndOrigin());const s=e._openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",s?s.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",s?s.getCurrentPass()+1:0)},t.setLightingShaderParameters=(r,a,i)=>{const o=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(o<2)return;const s=r.getProgram();let l=0;const c=a.getLightsByReference();for(let d=0;d<c.length;++d){const g=c[d];if(g.getSwitch()>0){const m=g.getColorByReference(),p=g.getIntensity();e.lightColor[0]=m[0]*p,e.lightColor[1]=m[1]*p,e.lightColor[2]=m[2]*p;const h=g.getDirection(),y=a.getActiveCamera().getViewMatrix(),C=[...h];g.lightTypeIsSceneLight()&&(C[0]=y[0]*h[0]+y[1]*h[1]+y[2]*h[2],C[1]=y[4]*h[0]+y[5]*h[1]+y[6]*h[2],C[2]=y[8]*h[0]+y[9]*h[1]+y[10]*h[2],cf(C)),e.lightDirection[0]=C[0],e.lightDirection[1]=C[1],e.lightDirection[2]=C[2],cf(e.lightDirection),s.setUniform3fArray(`lightColor${l}`,e.lightColor),s.setUniform3fArray(`lightDirectionVC${l}`,e.lightDirection),l++}}if(o<3)return;const u=a.getActiveCamera().getViewMatrix();tr(u,u),l=0;for(let d=0;d<c.length;++d){const g=c[d];if(g.getSwitch()>0){const m=g.getTransformedPosition(),p=new Float64Array(3);hr(p,m,u),s.setUniform3fArray(`lightAttenuation${l}`,g.getAttenuationValuesByReference()),s.setUniformi(`lightPositional${l}`,g.getPositional()),s.setUniformf(`lightExponent${l}`,g.getExponent()),s.setUniformf(`lightConeAngle${l}`,g.getConeAngle()),s.setUniform3fArray(`lightPositionVC${l}`,[p[0],p[1],p[2]]),l++}}};function n(r,a,i){return a.identity(i),r.reduce((o,s,l)=>l===0?s?a.copy(o,s):a.identity(o):s?a.multiply(o,o,s):o,i)}t.setCameraShaderParameters=(r,a,i)=>{const o=r.getProgram(),s=e.openGLCamera.getKeyMatrices(a),l=a.getActiveCamera(),c=e.openGLCamera.getKeyMatrixTime().getMTime(),f=o.getLastCameraMTime(),d=r.getCABO().getCoordShiftAndScaleEnabled()?r.getCABO().getInverseShiftAndScaleMatrix():null,g=i.getIsIdentity(),v=g?{mcwc:null,normalMatrix:null}:e.openGLActor.getKeyMatrices();if(i.getCoordinateSystem()===sCe.DISPLAY){const m=e._openGLRenderer.getTiledSizeAndOrigin();Dn(e.tmpMat4),e.tmpMat4[0]=2/m.usize,e.tmpMat4[12]=-1,e.tmpMat4[5]=2/m.vsize,e.tmpMat4[13]=-1,Zn(e.tmpMat4,e.tmpMat4,d),o.setUniformMatrix("MCPCMatrix",e.tmpMat4)}else o.setUniformMatrix("MCPCMatrix",n([s.wcpc,v.mcwc,d],i3,e.tmpMat4));o.isUniformUsed("MCVCMatrix")&&o.setUniformMatrix("MCVCMatrix",n([s.wcvc,v.mcwc,d],i3,e.tmpMat4)),o.isUniformUsed("normalMatrix")&&o.setUniformMatrix3x3("normalMatrix",n([s.normalMatrix,v.normalMatrix],s5e,e.tmpMat3)),f!==c&&(o.isUniformUsed("cameraParallel")&&o.setUniformi("cameraParallel",l.getParallelProjection()),o.setLastCameraMTime(c)),g||o.setLastCameraMTime(0)},t.setPropertyShaderParameters=(r,a,i)=>{const o=r.getProgram();let s=i.getProperty(),l=s.getOpacity(),c=e.drawingEdges?s.getEdgeColorByReference():s.getAmbientColorByReference(),f=e.drawingEdges?s.getEdgeColorByReference():s.getDiffuseColorByReference(),u=e.drawingEdges?1:s.getAmbient(),d=e.drawingEdges?0:s.getDiffuse(),g=e.drawingEdges?0:s.getSpecular();const v=s.getSpecularPower();o.setUniformf("opacityUniform",l),o.setUniform3fArray("ambientColorUniform",c),o.setUniform3fArray("diffuseColorUniform",f),o.setUniformf("ambient",u),o.setUniformf("diffuse",d);const m=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(m<1)return;let p=s.getSpecularColorByReference();if(o.setUniform3fArray("specularColorUniform",p),o.setUniformf("specularPowerUniform",v),o.setUniformf("specular",g),o.isUniformUsed("ambientIntensityBF")){if(s=i.getBackfaceProperty(),l=s.getOpacity(),c=s.getAmbientColor(),u=s.getAmbient(),f=s.getDiffuseColor(),d=s.getDiffuse(),p=s.getSpecularColor(),g=s.getSpecular(),o.setUniformf("ambientIntensityBF",u),o.setUniformf("diffuseIntensityBF",d),o.setUniformf("opacityUniformBF",l),o.setUniform3fArray("ambientColorUniformBF",c),o.setUniform3fArray("diffuseColorUniformBF",f),m<1)return;o.setUniformf("specularIntensityBF",g),o.setUniform3fArray("specularColorUniformBF",p),o.setUniformf("specularPowerUniformBF",v)}},t.updateMaximumPointCellIds=(r,a)=>{var s,l,c,f;const i=e._openGLRenderer.getSelector();if(!i)return;if((l=(s=e.selectionWebGLIdsToVTKIds)==null?void 0:s.points)!=null&&l.length){const u=e.selectionWebGLIdsToVTKIds.points.length;i.setMaximumPointId(u-1)}if((f=(c=e.selectionWebGLIdsToVTKIds)==null?void 0:c.cells)!=null&&f.length){const u=e.selectionWebGLIdsToVTKIds.cells.length;i.setMaximumCellId(u-1)}i.getFieldAssociation()===C8.FIELD_ASSOCIATION_POINTS&&(e.pointPicking=!0)},t.renderPieceStart=(r,a)=>{e.primitiveIDOffset=0,e.vertexIDOffset=0;const i=lCe(e._openGLRenderer);if(e.lastSelectionState!==i&&(e.selectionStateChanged.modified(),e.lastSelectionState=i),e._openGLRenderer.getSelector())switch(i){default:e._openGLRenderer.getSelector().renderProp(a)}t.updateBufferObjects(r,a),e.renderable.getColorTextureMap()&&e.internalColorTexture.activate(),e.lastBoundBO=null},t.renderPieceDraw=(r,a)=>{const i=a.getProperty().getRepresentation(),o=a.getProperty().getEdgeVisibility()&&i===jf.SURFACE,s=e._openGLRenderer.getSelector(),l=s&&s.getFieldAssociation()===C8.FIELD_ASSOCIATION_POINTS&&(e.lastSelectionState===Gi.ID_LOW24||e.lastSelectionState===Gi.ID_HIGH24);for(let c=Za.Start;c<Za.End;c++)e.primitives[c].setPointPicking(l),e.primitives[c].getCABO().getElementCount()&&(e.drawingEdges=o&&(c===Za.TrisEdges||c===Za.TriStripsEdges),(!e.drawingEdges||!(e.renderDepth||e.lastSelectionState>=0))&&(e.lastBoundBO=e.primitives[c],e.primitiveIDOffset+=e.primitives[c].drawArrays(r,a,i,t),e.vertexIDOffset+=e.primitives[c].getCABO().getElementCount()))},t.renderPieceFinish=(r,a)=>{e.LastBoundBO&&e.LastBoundBO.getVAO().release(),e.renderable.getColorTextureMap()&&e.internalColorTexture.deactivate()},t.renderPiece=(r,a)=>{if(t.invokeEvent(iCe),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(oCe),!e.currentInput){uu("No input!");return}if(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())return;const i=e.context,o=a.getProperty().getBackfaceCulling(),s=a.getProperty().getFrontfaceCulling();!o&&!s?e._openGLRenderWindow.disableCullFace():s?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a)},t.computeBounds=(r,a)=>{if(!t.getInput()){lg(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=(r,a)=>{t.getNeedToRebuildBufferObjects(r,a)&&t.buildBufferObjects(r,a),t.updateMaximumPointCellIds()},t.getNeedToRebuildBufferObjects=(r,a)=>{const i=e.VBOBuildTime.getMTime();return i<t.getMTime()||i<e.renderable.getMTime()||i<a.getMTime()||i<e.currentInput.getMTime()},t.buildBufferObjects=(r,a)=>{const i=e.currentInput;if(i===null)return;e.renderable.mapScalars(i,1);const o=e.renderable.getColorMapColors();e.haveCellScalars=!1;const s=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(s===Oh.USE_CELL_DATA||s===Oh.USE_CELL_FIELD_DATA||s===Oh.USE_FIELD_DATA||!i.getPointData().getScalars())&&s!==Oh.USE_POINT_FIELD_DATA&&o&&(e.haveCellScalars=!0);let l=a.getProperty().getInterpolation()!==UA.FLAT?i.getPointData().getNormals():null;l===null&&i.getCellData().getNormals()&&(e.haveCellNormals=!0,l=i.getCellData().getNormals());const c=a.getProperty().getRepresentation();let f=i.getPointData().getTCoords();e.openGLActor.getActiveTextures()||(f=null);let u=!1;if(e.renderable.getColorCoordinates()){f=e.renderable.getColorCoordinates(),u=e.renderable.getAreScalarsMappedFromCells(),e.internalColorTexture||(e.internalColorTexture=Zr.newInstance({resizable:!0}));const g=e.internalColorTexture;g.setMinificationFilter(BA.NEAREST),g.setMagnificationFilter(BA.NEAREST),g.setWrapS(GA.CLAMP_TO_EDGE),g.setWrapT(GA.CLAMP_TO_EDGE),g.setOpenGLRenderWindow(e._openGLRenderWindow);const v=e.renderable.getColorTextureMap(),m=v.getExtent(),p=v.getPointData().getScalars();g.create2DFromRaw(m[1]-m[0]+1,m[3]-m[2]+1,p.getNumberOfComponents(),p.getDataType(),p.getData()),g.activate(),g.sendParameters(),g.deactivate()}const d=`${i.getMTime()}A${c}B${i.getMTime()}C${l?l.getMTime():1}D${o?o.getMTime():1}E${a.getProperty().getEdgeVisibility()}F${f?f.getMTime():1}`;if(e.VBOBuildString!==d){const v={points:i.getPoints(),normals:l,tcoords:f,colors:o,cellOffset:0,vertexOffset:0,useTCoordsPerCell:u,haveCellScalars:e.haveCellScalars,haveCellNormals:e.haveCellNormals,customAttributes:e.renderable.getCustomShaderAttributes().map(h=>i.getPointData().getArrayByName(h))};e.renderable.getPopulateSelectionSettings()&&(e.selectionWebGLIdsToVTKIds={points:null,cells:null});const m=[{inRep:"verts",cells:i.getVerts()},{inRep:"lines",cells:i.getLines()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()}],p=a.getProperty().getEdgeVisibility()&&c===jf.SURFACE;for(let h=Za.Start;h<Za.End;h++)h!==Za.TrisEdges&&h!==Za.TriStripsEdges?(v.cellOffset+=e.primitives[h].getCABO().createVBO(m[h].cells,m[h].inRep,c,v,e.selectionWebGLIdsToVTKIds),v.vertexOffset+=e.primitives[h].getCABO().getElementCount()):p?e.primitives[h].getCABO().createVBO(m[h].cells,m[h].inRep,jf.WIREFRAME,{...v,tcoords:null,colors:null,haveCellScalars:!1,haveCellNormals:!1}):e.primitives[h].releaseGraphicsResources();e.renderable.getPopulateSelectionSettings()&&e.renderable.setSelectionWebGLIdsToVTKIds(e.selectionWebGLIdsToVTKIds),e.VBOBuildString=d}e.VBOBuildTime.modified()},t.getAllocatedGPUMemoryInBytes=()=>{let r=0;return e.primitives.forEach(a=>{r+=a.getAllocatedGPUMemoryInBytes()}),r}}const uCe={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastSelectionState:Gi.MIN_KNOWN_PASS-1,selectionStateChanged:null,selectionWebGLIdsToVTKIds:null,pointPicking:!1};function xz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,uCe,n),Va.extend(t,e,n),Mc.implementReplaceShaderCoincidentOffset(t,e,n),Mc.implementBuildShadersWithReplacements(t,e,n),e.primitives=[],e.primTypes=Za,e.tmpMat3=$s(new Float64Array(9)),e.tmpMat4=Dn(new Float64Array(16));for(let r=Za.Start;r<Za.End;r++)e.primitives[r]=Uc.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);Ka(t,e,["context"]),e.VBOBuildTime={},ea(e.VBOBuildTime,{mtime:0}),e.selectionStateChanged={},ea(e.selectionStateChanged,{mtime:0}),cCe(t,e)}const Tz=Vr(xz,"vtkOpenGLPolyDataMapper");var iy={newInstance:Tz,extend:xz};di("vtkMapper",Tz);const{vtkErrorMacro:Ug}=Ni,{Representation:fCe}=Ap,{ObjectType:Rh}=z0,{PassTypes:dCe}=bw,gCe={type:"StartEvent"},mCe={type:"EndEvent"};function vCe(t,e){e.classHierarchy.push("vtkOpenGLGlyph3DMapper");const n={...t};t.renderPiece=(r,a)=>{if(t.invokeEvent(gCe),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(1),t.invokeEvent(mCe),!e.currentInput){Ug("No input!");return}if(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())return;const i=e.context;e._openGLRenderWindow.getWebgl2()?(e.hardwareSupport=!0,e.extension=null):e.extension||(e.extension=e.context.getExtension("ANGLE_instanced_arrays"),e.hardwareSupport=!!e.extension);const o=a.getProperty().getBackfaceCulling(),s=a.getProperty().getFrontfaceCulling();!o&&!s?e._openGLRenderWindow.disableCullFace():s?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a)},t.multiply4x4WithOffset=(r,a,i,o)=>{const s=a[0],l=a[1],c=a[2],f=a[3],u=a[4],d=a[5],g=a[6],v=a[7],m=a[8],p=a[9],h=a[10],y=a[11],C=a[12],x=a[13],T=a[14],w=a[15];let b=i[o],E=i[o+1],O=i[o+2],D=i[o+3];r[0]=b*s+E*u+O*m+D*C,r[1]=b*l+E*d+O*p+D*x,r[2]=b*c+E*g+O*h+D*T,r[3]=b*f+E*v+O*y+D*w,b=i[o+4],E=i[o+5],O=i[o+6],D=i[o+7],r[4]=b*s+E*u+O*m+D*C,r[5]=b*l+E*d+O*p+D*x,r[6]=b*c+E*g+O*h+D*T,r[7]=b*f+E*v+O*y+D*w,b=i[o+8],E=i[o+9],O=i[o+10],D=i[o+11],r[8]=b*s+E*u+O*m+D*C,r[9]=b*l+E*d+O*p+D*x,r[10]=b*c+E*g+O*h+D*T,r[11]=b*f+E*v+O*y+D*w,b=i[o+12],E=i[o+13],O=i[o+14],D=i[o+15],r[12]=b*s+E*u+O*m+D*C,r[13]=b*l+E*d+O*p+D*x,r[14]=b*c+E*g+O*h+D*T,r[15]=b*f+E*v+O*y+D*w},t.replaceShaderNormal=(r,a,i)=>{if(e.hardwareSupport&&e.lastBoundBO.getReferenceByName("lastLightComplexity")>0){let s=r.Vertex;e.lastBoundBO.getCABO().getNormalOffset()&&(s=Fe.substitute(s,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,s=Fe.substitute(s,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),r.Vertex=s}n.replaceShaderNormal(r,a,i)},t.replaceShaderColor=(r,a,i)=>{if(e.hardwareSupport&&e.renderable.getColorArray()){let o=r.Vertex,s=r.Geometry,l=r.Fragment;const c=e.lastBoundBO.getReferenceByName("lastLightComplexity");let f=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];c&&(f=f.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));let u=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];c&&(u=u.concat(["  vec3 specularColor;","  float specularPower;"])),u=u.concat(["  opacity = opacityUniform;"]),c&&(u=u.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.drawingEdges||(f=f.concat(["varying vec4 vertexColorVSOutput;"]),o=Fe.substitute(o,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,o=Fe.substitute(o,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,s=Fe.substitute(s,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,s=Fe.substitute(s,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,u=u.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),l=Fe.substitute(l,"//VTK::Color::Impl",u).result,l=Fe.substitute(l,"//VTK::Color::Dec",f).result,r.Vertex=o,r.Geometry=s,r.Fragment=l}n.replaceShaderColor(r,a,i)},t.replaceShaderPositionVC=(r,a,i)=>{if(e.hardwareSupport){let o=r.Vertex;e.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(o=Fe.substitute(o,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,o=Fe.substitute(o,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(o=Fe.substitute(o,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,o=Fe.substitute(o,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),r.Vertex=o}n.replaceShaderPositionVC(r,a,i)},t.replaceShaderPicking=(r,a,i)=>{if(e.hardwareSupport){let o=r.Fragment,s=r.Vertex;s=Fe.substitute(s,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,s=Fe.substitute(s,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,r.Vertex=s,o=Fe.substitute(o,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,o=Fe.substitute(o,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,r.Fragment=o}else n.replaceShaderPicking(r,a,i)},t.updateGlyphShaderParameters=(r,a,i,o,s,l,c,f)=>{const u=i.getProgram();if(r){const d=e.normalMatrix,g=l,v=c*9,m=e.tmpMat3,p=d[0],h=d[1],y=d[2],C=d[3],x=d[4],T=d[5],w=d[6],b=d[7],E=d[8],O=g[v],D=g[v+1],R=g[v+2],I=g[v+3],M=g[v+4],A=g[v+5],B=g[v+6],L=g[v+7],F=g[v+8];m[0]=O*p+D*C+R*w,m[1]=O*h+D*x+R*b,m[2]=O*y+D*T+R*E,m[3]=I*p+M*C+A*w,m[4]=I*h+M*x+A*b,m[5]=I*y+M*T+A*E,m[6]=B*p+L*C+F*w,m[7]=B*h+L*x+F*b,m[8]=B*y+L*T+F*E,u.setUniformMatrix3x3("normalMatrix",e.tmpMat3)}if(t.multiply4x4WithOffset(e.tmpMat4,e.mcpcMatrix,s,c*16),u.setUniformMatrix("MCPCMatrix",e.tmpMat4),a&&(t.multiply4x4WithOffset(e.tmpMat4,e.mcvcMatrix,s,c*16),u.setUniformMatrix("MCVCMatrix",e.tmpMat4)),o){const d=o.getData();e.tmpColor[0]=d[c*4]/255,e.tmpColor[1]=d[c*4+1]/255,e.tmpColor[2]=d[c*4+2]/255,u.setUniform3fArray("ambientColorUniform",e.tmpColor),u.setUniform3fArray("diffuseColorUniform",e.tmpColor)}f&&u.setUniform3fArray("mapperIndex",f.getPropColorValue())},t.renderPieceDraw=(r,a)=>{const i=a.getProperty().getRepresentation(),o=e.context,s=a.getProperty().getEdgeVisibility()&&i===fCe.SURFACE,l=e.openGLCamera.getKeyMatrices(r),c=e.openGLActor.getKeyMatrices();I1(e.normalMatrix,l.normalMatrix,c.normalMatrix),Zn(e.mcpcMatrix,l.wcpc,c.mcwc),Zn(e.mcvcMatrix,l.wcvc,c.mcwc);const f=e.renderable.getMatrixArray(),u=e.renderable.getNormalArray(),d=e.renderable.getColorArray(),g=f.length/16;let v=!1;e._openGLRenderer.getSelector()&&e._openGLRenderer.getSelector().getCurrentPass()===dCe.COMPOSITE_INDEX_PASS&&(v=!0);for(let m=e.primTypes.Start;m<e.primTypes.End;m++){const p=e.primitives[m].getCABO();if(p.getElementCount()){e.drawingEdges=s&&(m===e.primTypes.TrisEdges||m===e.primTypes.TriStripsEdges),e.lastBoundBO=e.primitives[m],e.primitives[m].updateShaders(r,a,t);const h=e.primitives[m].getProgram(),y=e.primitives[m].getOpenGLMode(i),C=h.isUniformUsed("normalMatrix"),x=h.isUniformUsed("MCVCMatrix");if(e.hardwareSupport)e.extension?e.extension.drawArraysInstancedANGLE(y,0,p.getElementCount(),g):o.drawArraysInstanced(y,0,p.getElementCount(),g);else for(let T=0;T<g;++T)v&&e._openGLRenderer.getSelector().renderCompositeIndex(T),t.updateGlyphShaderParameters(C,x,e.primitives[m],d,f,u,T,v?e._openGLRenderer.getSelector():null),o.drawArrays(y,0,p.getElementCount())}}},t.setMapperShaderParameters=(r,a,i)=>{if(r.getCABO().getElementCount()&&(e.glyphBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){r.getProgram().isAttributeUsed("gMatrix")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.matrixBuffer,"gMatrix",0,64,e.context.FLOAT,4,!1,1)||Ug("Error setting gMatrix in shader VAO."):r.getVAO().removeAttributeArray("gMatrix"),r.getProgram().isAttributeUsed("gNormal")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.normalBuffer,"gNormal",0,36,e.context.FLOAT,3,!1,1)||Ug("Error setting gNormal in shader VAO."):r.getVAO().removeAttributeArray("gNormal"),r.getProgram().isAttributeUsed("gColor")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.colorBuffer,"gColor",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||Ug("Error setting gColor in shader VAO."):r.getVAO().removeAttributeArray("gColor"),r.getProgram().isAttributeUsed("mapperIndexVS")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.pickBuffer,"mapperIndexVS",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||Ug("Error setting mapperIndexVS in shader VAO."):r.getVAO().removeAttributeArray("mapperIndexVS"),n.setMapperShaderParameters(r,a,i),r.getAttributeUpdateTime().modified();return}n.setMapperShaderParameters(r,a,i)},t.getNeedToRebuildBufferObjects=(r,a)=>(e.renderable.buildArrays(),e.VBOBuildTime.getMTime()<e.renderable.getBuildTime().getMTime()?!0:n.getNeedToRebuildBufferObjects(r,a)),t.getNeedToRebuildShaders=(r,a,i)=>!!(n.getNeedToRebuildShaders(r,a,i)||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()),t.buildBufferObjects=(r,a)=>{if(e.hardwareSupport){const i=e.renderable.getMatrixArray(),o=e.renderable.getNormalArray(),s=e.renderable.getColorArray();if(e.matrixBuffer||(e.matrixBuffer=z0.newInstance(),e.matrixBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.normalBuffer=z0.newInstance(),e.normalBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorBuffer=z0.newInstance(),e.colorBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.pickBuffer=z0.newInstance(),e.pickBuffer.setOpenGLRenderWindow(e._openGLRenderWindow)),e.renderable.getBuildTime().getMTime()>e.glyphBOBuildTime.getMTime()){e.matrixBuffer.upload(i,Rh.ARRAY_BUFFER),e.normalBuffer.upload(o,Rh.ARRAY_BUFFER),s?e.colorBuffer.upload(s.getData(),Rh.ARRAY_BUFFER):e.colorBuffer.releaseGraphicsResources();const l=i.length/16,c=new Uint8Array(4*l);for(let f=0;f<l;++f){let u=f+1;const d=f*4;c[d]=u%256,u-=c[d],u/=256,c[d+1]=u%256,u-=c[d+1],u/=256,c[d+2]=u%256,c[d+3]=255}e.pickBuffer.upload(c,Rh.ARRAY_BUFFER),e.glyphBOBuildTime.modified()}}return n.buildBufferObjects(r,a)}}const pCe={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function wz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pCe,n),iy.extend(t,e,n),e.tmpMat3=$s(new Float64Array(9)),e.normalMatrix=$s(new Float64Array(9)),e.mcpcMatrix=Dn(new Float64Array(16)),e.mcvcMatrix=Dn(new Float64Array(16)),e.tmpColor=[],e.glyphBOBuildTime={},ea(e.glyphBOBuildTime,{mtime:0}),vCe(t,e)}const bz=Vr(wz,"vtkOpenGLGlyph3DMapper");var hCe={newInstance:bz,extend:wz};di("vtkGlyph3DMapper",bz);const SCe={NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5};var oy={SlicingMode:SCe};const Ku={NEAREST:0,LINEAR:1};var yCe={InterpolationType:Ku};function f0(t,e,n){return t?`${t.getMTime()}-${e}-${n}`:"0"}function Uw(t,e){return`${t.getMTime()}A${e.getMTime()}`}const{vtkErrorMacro:Hf}=Ni,{SlicingMode:yo}=oy;function CCe(t){const e=t.split(`
`),n=[];for(let r=0;r<e.length;++r){const a=e[r].trim();a.length>0&&n.push(a)}return n}function xCe(t,e){e.classHierarchy.push("vtkOpenGLImageMapper");function n(r){e.openGLTexture.releaseGraphicsResources(r),[e._colorTransferFunc,e._pwFunc,e._labelOutlineThicknessArray].forEach(a=>r.unregisterGraphicsResourceUser(a,t))}t.buildPass=r=>{if(r){e.currentRenderPass=null,e.openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");const a=e._openGLRenderWindow;e._openGLRenderWindow=e._openGLRenderer.getLastAncestorOfType("vtkOpenGLRenderWindow"),a&&!a.isDeleted()&&a!==e._openGLRenderWindow&&n(a),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow);const i=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(i.getActiveCamera()),e.renderable.isA("vtkImageMapper")&&e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(i.getActiveCamera())}},t.translucentPass=(r,a)=>{r&&(e.currentRenderPass=a,t.render())},t.zBufferPass=r=>{r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaqueZBufferPass=r=>t.zBufferPass(r),t.opaquePass=r=>{r&&t.render()},t.getCoincidentParameters=(r,a)=>e.renderable.getResolveCoincidentTopology()==Bs.PolygonOffset?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null,t.render=()=>{const r=e.openGLImageSlice.getRenderable(),a=e._openGLRenderer.getRenderable();t.renderPiece(a,r)},t.getShaderTemplate=(r,a,i)=>{r.Vertex=kw,r.Fragment=Mp,r.Geometry=""},t.replaceShaderValues=(r,a,i)=>{let o=r.Vertex,s=r.Fragment;o=Fe.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,o=Fe.substitute(o,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,o=Fe.substitute(o,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,o=Fe.substitute(o,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;const l=e.openGLTexture.getComponents(),c=i.getProperty().getIndependentComponents();let f=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform sampler2D labelOutlineTexture1;","uniform float opacity;","uniform float outlineOpacity;"];if(c){for(let d=1;d<l;d++)f=f.concat([`uniform float cshift${d};`,`uniform float cscale${d};`,`uniform float pwfshift${d};`,`uniform float pwfscale${d};`]);switch(l){case 1:f=f.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:f=f.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:f=f.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:f=f.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Hf("Unsupported number of independent coordinates.")}}if(s=Fe.substitute(s,"//VTK::TCoord::Dec",f).result,i.getProperty().getUseLabelOutline()===!0&&(s=Fe.substitute(s,"//VTK::LabelOutline::Dec",["uniform int outlineThickness;","uniform float vpWidth;","uniform float vpHeight;","uniform float vpOffsetX;","uniform float vpOffsetY;","uniform mat4 PCWCMatrix;","uniform mat4 vWCtoIDX;","uniform ivec3 imageDimensions;","uniform int sliceAxis;"]).result,s=Fe.substitute(s,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result,s=Fe.substitute(s,"//VTK::LabelOutlineHelperFunction",["#ifdef vtkImageLabelOutlineOn","vec3 fragCoordToIndexSpace(vec4 fragCoord) {","  vec4 pcPos = vec4(","    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,","    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,","    (fragCoord.z - 0.5) * 2.0,","    1.0);","","  vec4 worldCoord = PCWCMatrix * pcPos;","  vec4 vertex = (worldCoord/worldCoord.w);","","  vec3 index = (vWCtoIDX * vertex).xyz;","","  // half voxel fix for labelmapOutline","  return (index + vec3(0.5)) / vec3(imageDimensions);","}","vec2 getSliceCoords(vec3 coord, int axis) {","  if (axis == 0) return coord.yz;","  if (axis == 1) return coord.xz;","  if (axis == 2) return coord.xy;","}","#endif"]).result),c){const d=["r","g","b","a"];let g=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"];for(let v=0;v<l;v++)g=g.concat([`vec3 tcolor${v} = mix${v} * texture2D(colorTexture1, vec2(tvalue.${d[v]} * cscale${v} + cshift${v}, height${v})).rgb;`,`float compWeight${v} = mix${v} * texture2D(pwfTexture1, vec2(tvalue.${d[v]} * pwfscale${v} + pwfshift${v}, height${v})).r;`]);switch(l){case 1:g=g.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:g=g.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:g=g.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:g=g.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Hf("Unsupported number of independent coordinates.")}s=Fe.substitute(s,"//VTK::TCoord::Impl",g).result}else switch(l){case 1:s=Fe.substitute(s,"//VTK::TCoord::Impl",[...CCe(`
                #ifdef vtkImageLabelOutlineOn
                  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord);
                  float centerValue = texture2D(texture1, getSliceCoords(centerPosIS, sliceAxis)).r;
                  bool pixelOnBorder = false;
                  vec3 tColor = texture2D(colorTexture1, vec2(centerValue * cscale0 + cshift0, 0.5)).rgb;
                  float scalarOpacity = texture2D(pwfTexture1, vec2(centerValue * pwfscale0 + pwfshift0, 0.5)).r;
                  float opacityToUse = scalarOpacity * opacity;
                  int segmentIndex = int(centerValue * 255.0);
                  float textureCoordinate = float(segmentIndex - 1) / 1024.0;
                  float textureValue = texture2D(labelOutlineTexture1, vec2(textureCoordinate, 0.5)).r;
                  int actualThickness = int(textureValue * 255.0);

                  if (segmentIndex == 0){
                    gl_FragData[0] = vec4(0.0, 0.0, 0.0, 0.0);
                    return;
                  }

                  for (int i = -actualThickness; i <= actualThickness; i++) {
                    for (int j = -actualThickness; j <= actualThickness; j++) {
                      if (i == 0 || j == 0) {
                        continue;
                      }
                      vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
                        gl_FragCoord.y + float(j),
                        gl_FragCoord.z, gl_FragCoord.w);
                      vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
                      float value = texture2D(texture1, getSliceCoords(neighborPosIS, sliceAxis)).r;
                      if (value != centerValue) {
                        pixelOnBorder = true;
                        break;
                      }
                    }
                    if (pixelOnBorder == true) {
                      break;
                    }
                  }
                  if (pixelOnBorder == true) {
                    gl_FragData[0] = vec4(tColor, outlineOpacity);
                  }
                  else {
                    gl_FragData[0] = vec4(tColor, opacityToUse);
                  }
                #else
                  float intensity = texture2D(texture1, tcoordVCVSOutput).r;
                  vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;
                  float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;
                  gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);
                #endif
                `)]).result;break;case 2:s=Fe.substitute(s,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;case 3:s=Fe.substitute(s,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]).result;break;default:s=Fe.substitute(s,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}e.haveSeenDepthRequest&&(s=Fe.substitute(s,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,s=Fe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),r.Vertex=o,r.Fragment=s,t.replaceShaderClip(r,a,i),t.replaceShaderCoincidentOffset(r,a,i)},t.replaceShaderClip=(r,a,i)=>{let o=r.Vertex,s=r.Fragment;if(e.renderable.getNumberOfClippingPlanes()){let l=e.renderable.getNumberOfClippingPlanes();l>6&&(Yn("OpenGL has a limit of 6 clipping planes"),l=6),o=Fe.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,o=Fe.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,s=Fe.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,s=Fe.substitute(s,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}r.Vertex=o,r.Fragment=s},t.getNeedToRebuildShaders=(r,a,i)=>{var c;const o=e.openGLTexture.getComponents(),s=i.getProperty().getIndependentComponents();let l=!1;return(!e.currentRenderPass&&e.lastRenderPassShaderReplacement||e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement)&&(l=!0),l||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||((c=r.getProgram())==null?void 0:c.getHandle())===0||e.lastTextureComponents!==o||e.lastIndependentComponents!==s?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=o,e.lastIndependentComponents=s,!0):!1},t.updateShaders=(r,a,i)=>{if(e.lastBoundBO=r,t.getNeedToRebuildShaders(r,a,i)){const o={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(o,a,i);const s=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);s!==r.getProgram()&&(r.setProgram(s),r.getVAO().releaseGraphicsResources()),r.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(r.getProgram());r.getVAO().bind(),t.setMapperShaderParameters(r,a,i),t.setCameraShaderParameters(r,a,i),t.setPropertyShaderParameters(r,a,i)},t.setMapperShaderParameters=(r,a,i)=>{r.getCABO().getElementCount()&&(e.VBOBuildTime>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&(r.getProgram().isAttributeUsed("vertexMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexMC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Hf("Error setting vertexMC in shader VAO.")),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),e.context.FALSE)||Hf("Error setting tcoordMC in shader VAO.")),r.getAttributeUpdateTime().modified());const o=e.openGLTexture.getTextureUnit();r.getProgram().setUniformi("texture1",o);const s=e.openGLTexture.getComponents(),l=i.getProperty().getIndependentComponents();if(l)for(let v=0;v<s;v++)r.getProgram().setUniformf(`mix${v}`,i.getProperty().getComponentWeight(v));const c=e.openGLTexture.getShiftAndScale();for(let v=0;v<s;v++){let m=i.getProperty().getColorWindow(),p=i.getProperty().getColorLevel();const h=l?v:0,y=i.getProperty().getRGBTransferFunction(h);if(y&&i.getProperty().getUseLookupTableScalarRange()){const T=y.getRange();m=T[1]-T[0],p=.5*(T[1]+T[0])}const C=c.scale/m,x=(c.shift-p)/m+.5;r.getProgram().setUniformf(`cshift${v}`,x),r.getProgram().setUniformf(`cscale${v}`,C)}for(let v=0;v<s;v++){let m=1,p=0;const h=l?v:0,y=i.getProperty().getPiecewiseFunction(h);if(y){const C=y.getRange(),x=C[1]-C[0],T=.5*(C[0]+C[1]);m=c.scale/x,p=(c.shift-T)/x+.5}r.getProgram().setUniformf(`pwfshift${v}`,p),r.getProgram().setUniformf(`pwfscale${v}`,m)}if(e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),r.getProgram().isUniformUsed("coffset")){const v=t.getCoincidentParameters(a,i);r.getProgram().setUniformf("coffset",v.offset),r.getProgram().isUniformUsed("cfactor")&&r.getProgram().setUniformf("cfactor",v.factor)}const f=e.colorTexture.getTextureUnit();r.getProgram().setUniformi("colorTexture1",f);const u=e.pwfTexture.getTextureUnit();r.getProgram().setUniformi("pwfTexture1",u);const d=e.labelOutlineThicknessTexture.getTextureUnit();if(r.getProgram().setUniformi("labelOutlineTexture1",d),e.renderable.getNumberOfClippingPlanes()){let v=e.renderable.getNumberOfClippingPlanes();v>6&&(Yn("OpenGL has a limit of 6 clipping planes"),v=6);const p=r.getCABO().getCoordShiftAndScaleEnabled()?r.getCABO().getInverseShiftAndScaleMatrix():null,h=p?Ea(e.imagematinv,i.getMatrix()):i.getMatrix();p&&(tr(h,h),Zn(h,h,p),tr(h,h)),tr(e.imagemat,e.currentInput.getIndexToWorld()),Zn(e.imagematinv,h,e.imagemat);const y=[];for(let C=0;C<v;C++){const x=[];e.renderable.getClippingPlaneInDataCoords(e.imagematinv,C,x);for(let T=0;T<4;T++)y.push(x[T])}r.getProgram().setUniformi("numClipPlanes",v),r.getProgram().setUniform4fv("clipPlanes",y)}if(i.getProperty().getUseLabelOutline()===!0){const v=i.getProperty().getLabelOutlineOpacity();r.getProgram().setUniformf("outlineOpacity",v)}},t.setCameraShaderParameters=(r,a,i)=>{const o=r.getProgram(),s=e.openGLImageSlice.getKeyMatrices(),l=e.currentInput,c=l.getIndexToWorld();Zn(e.imagemat,s.mcwc,c);const f=e.openGLCamera.getKeyMatrices(a);if(Zn(e.imagemat,f.wcpc,e.imagemat),r.getCABO().getCoordShiftAndScaleEnabled()){const d=r.getCABO().getInverseShiftAndScaleMatrix();Zn(e.imagemat,e.imagemat,d)}if(o.setUniformMatrix("MCPCMatrix",e.imagemat),i.getProperty().getUseLabelOutline()===!0){const d=l.getWorldToIndex(),g=l.getDimensions();let v=e.renderable.getClosestIJKAxis().ijkMode;v===yo.NONE&&(v=yo.K),o.setUniform3i("imageDimensions",g[0],g[1],g[2]),o.setUniformi("sliceAxis",v),o.setUniformMatrix("vWCtoIDX",d);const m=e.openGLCamera.getKeyMatrices(a);qa(e.projectionToWorld,m.wcpc),e.openGLCamera.getKeyMatrices(a),o.setUniformMatrix("PCWCMatrix",e.projectionToWorld);const p=t.getRenderTargetSize();o.setUniformf("vpWidth",p[0]),o.setUniformf("vpHeight",p[1]);const h=t.getRenderTargetOffset();o.setUniformf("vpOffsetX",h[0]/p[0]),o.setUniformf("vpOffsetY",h[1]/p[1])}},t.setPropertyShaderParameters=(r,a,i)=>{const o=r.getProgram(),l=i.getProperty().getOpacity();o.setUniformf("opacity",l)},t.renderPieceStart=(r,a)=>{t.updateBufferObjects(r,a),e.lastBoundBO=null},t.renderPieceDraw=(r,a)=>{const i=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.labelOutlineThicknessTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(t.updateShaders(e.tris,r,a),i.drawArrays(i.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.labelOutlineThicknessTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=(r,a)=>{},t.renderPiece=(r,a)=>{if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getCurrentImage(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){Hf("No input!");return}t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a)},t.computeBounds=(r,a)=>{if(!t.getInput()){lg(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=(r,a)=>{t.getNeedToRebuildBufferObjects(r,a)&&t.buildBufferObjects(r,a)},t.getNeedToRebuildBufferObjects=(r,a)=>{var i,o,s,l;return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<a.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<a.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()||!((i=e.openGLTexture)!=null&&i.getHandle())||!((o=e.colorTexture)!=null&&o.getHandle())||!((s=e.labelOutlineThicknessTexture)!=null&&s.getHandle())||!((l=e.pwfTexture)!=null&&l.getHandle())},t.buildBufferObjects=(r,a)=>{var I,M,A,B;const i=e.currentInput;if(!i)return;const o=i.getPointData()&&i.getPointData().getScalars();if(!o)return;const s=o.getDataType(),l=o.getNumberOfComponents(),c=a.getProperty(),f=c.getInterpolationType(),u=c.getIndependentComponents(),d=u?l:1,g=u?2*d:1,v=c.getRGBTransferFunction(),m=f0(v,u,d),p=e._openGLRenderWindow.getGraphicsResourceForObject(v);if(!((I=p==null?void 0:p.oglObject)!=null&&I.getHandle())||(p==null?void 0:p.hash)!==m){e.colorTexture=Zr.newInstance({resizable:!0}),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const L=1024,F=L*g*3,_=new Uint8ClampedArray(F);if(f===Ku.NEAREST?(e.colorTexture.setMinificationFilter(Sn.NEAREST),e.colorTexture.setMagnificationFilter(Sn.NEAREST)):(e.colorTexture.setMinificationFilter(Sn.LINEAR),e.colorTexture.setMagnificationFilter(Sn.LINEAR)),v){const P=new Float32Array(L*3);for(let N=0;N<d;N++){const k=c.getRGBTransferFunction(N),H=k.getRange();if(k.getTable(H[0],H[1],L,P,1),u)for(let K=0;K<L*3;K++)_[N*L*6+K]=255*P[K],_[N*L*6+K+L*3]=255*P[K];else for(let K=0;K<L*3;K++)_[N*L*6+K]=255*P[K]}e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(L,g,3,qn.UNSIGNED_CHAR,_)}else{for(let P=0;P<L*3;++P)_[P]=255*P/((L-1)*3),_[P+1]=255*P/((L-1)*3),_[P+2]=255*P/((L-1)*3);e.colorTexture.create2DFromRaw(L,1,3,qn.UNSIGNED_CHAR,_)}v&&(e._openGLRenderWindow.setGraphicsResourceForObject(v,e.colorTexture,m),v!==e._colorTransferFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(v,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._colorTransferFunc,t)),e._colorTransferFunc=v)}else e.colorTexture=p.oglObject;const y=c.getPiecewiseFunction(),C=f0(y,u,d),x=e._openGLRenderWindow.getGraphicsResourceForObject(y);if(!((M=x==null?void 0:x.oglObject)!=null&&M.getHandle())||(x==null?void 0:x.hash)!==C){const F=1024*g,_=new Uint8ClampedArray(F);if(e.pwfTexture=Zr.newInstance({resizable:!0}),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow),f===Ku.NEAREST?(e.pwfTexture.setMinificationFilter(Sn.NEAREST),e.pwfTexture.setMagnificationFilter(Sn.NEAREST)):(e.pwfTexture.setMinificationFilter(Sn.LINEAR),e.pwfTexture.setMagnificationFilter(Sn.LINEAR)),y){const P=new Float32Array(F),N=new Float32Array(1024);for(let k=0;k<d;++k){const H=c.getPiecewiseFunction(k);if(H===null)P.fill(1);else{const K=H.getRange();if(H.getTable(K[0],K[1],1024,N,1),u)for(let te=0;te<1024;te++)P[k*1024*2+te]=N[te],P[k*1024*2+te+1024]=N[te];else for(let te=0;te<1024;te++)P[k*1024*2+te]=N[te]}}e.pwfTexture.resetFormatAndType(),e.pwfTexture.create2DFromRaw(1024,g,1,qn.FLOAT,P)}else _.fill(255),e.pwfTexture.create2DFromRaw(1024,1,1,qn.UNSIGNED_CHAR,_);y&&(e._openGLRenderWindow.setGraphicsResourceForObject(y,e.pwfTexture,C),y!==e._pwFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(y,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._pwFunc,t)),e._pwFunc=y)}else e.pwfTexture=x.oglObject;t.updatelabelOutlineThicknessTexture(a);const{ijkMode:w}=e.renderable.getClosestIJKAxis();let b=e.renderable.getSlice();w!==e.renderable.getSlicingMode()&&(b=e.renderable.getSliceAtPosition(b));const E=e.renderable.isA("vtkImageArrayMapper")?e.renderable.getSubSlice():Math.round(b),O=i.getExtent();let D;w===yo.I&&(D=E-O[0]),w===yo.J&&(D=E-O[2]),(w===yo.K||w===yo.NONE)&&(D=E-O[4]);const R=`${b}A${i.getMTime()}A${o.getMTime()}B${t.getMTime()}C${e.renderable.getSlicingMode()}D${a.getProperty().getInterpolationType()}`;if(e.VBOBuildString!==R){const L=i.getDimensions();e.openGLTexture||(e.openGLTexture=Zr.newInstance({resizable:!0})),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOglNorm16Ext(e.context.getExtension("EXT_texture_norm16")),f===Ku.NEAREST?(new Set([1,3,4]).has(l)&&s===qn.UNSIGNED_CHAR&&!u&&e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Sn.NEAREST),e.openGLTexture.setMagnificationFilter(Sn.NEAREST)):(l===4&&s===qn.UNSIGNED_CHAR&&!u?(e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Sn.LINEAR_MIPMAP_LINEAR)):e.openGLTexture.setMinificationFilter(Sn.LINEAR),e.openGLTexture.setMagnificationFilter(Sn.LINEAR)),e.openGLTexture.setWrapS(kv.CLAMP_TO_EDGE),e.openGLTexture.setWrapT(kv.CLAMP_TO_EDGE);const F=L[0]*L[1]*l,_=new Float32Array(12),P=new Float32Array(8);for(let Te=0;Te<4;Te++)P[Te*2]=Te%2?1:0,P[Te*2+1]=Te>1?1:0;const N=[yo.X,yo.Y,yo.Z].includes(e.renderable.getSlicingMode())?b:E,k=i.getSpatialExtent(),H=o.getData();let K=null;if(w===yo.I){K=new H.constructor(L[2]*L[1]*l);let Te=0;for(let _e=0;_e<L[2];_e++)for(let fe=0;fe<L[1];fe++){let ce=(D+fe*L[0]+_e*L[0]*L[1])*l;Te=(_e*L[1]+fe)*l;const Ee=ce+l;for(;ce<Ee;)K[Te++]=H[ce++]}L[0]=L[1],L[1]=L[2],_[0]=N,_[1]=k[2],_[2]=k[4],_[3]=N,_[4]=k[3],_[5]=k[4],_[6]=N,_[7]=k[2],_[8]=k[5],_[9]=N,_[10]=k[3],_[11]=k[5]}else if(w===yo.J){K=new H.constructor(L[2]*L[0]*l);let Te=0;for(let _e=0;_e<L[2];_e++)for(let fe=0;fe<L[0];fe++){let ce=(fe+D*L[0]+_e*L[0]*L[1])*l;Te=(_e*L[0]+fe)*l;const Ee=ce+l;for(;ce<Ee;)K[Te++]=H[ce++]}L[1]=L[2],_[0]=k[0],_[1]=N,_[2]=k[4],_[3]=k[1],_[4]=N,_[5]=k[4],_[6]=k[0],_[7]=N,_[8]=k[5],_[9]=k[1],_[10]=N,_[11]=k[5]}else w===yo.K||w===yo.NONE?(K=H.subarray(D*F,(D+1)*F),_[0]=k[0],_[1]=k[2],_[2]=N,_[3]=k[1],_[4]=k[2],_[5]=N,_[6]=k[0],_[7]=k[3],_[8]=N,_[9]=k[1],_[10]=k[3],_[11]=N):Hf("Reformat slicing not yet supported.");e.openGLTexture.resetFormatAndType(),e.openGLTexture.create2DFilterableFromRaw(L[0],L[1],l,o.getDataType(),K,(B=(A=e.renderable).getPreferSizeOverAccuracy)==null?void 0:B.call(A)),e.openGLTexture.activate(),e.openGLTexture.sendParameters(),e.openGLTexture.deactivate();const te=Bn.newInstance({numberOfComponents:3,values:_});te.setName("points");const se=Bn.newInstance({numberOfComponents:2,values:P});se.setName("tcoords");const pe=new Uint16Array(8);pe[0]=3,pe[1]=0,pe[2]=1,pe[3]=3,pe[4]=3,pe[5]=0,pe[6]=3,pe[7]=2;const ve=Bn.newInstance({numberOfComponents:1,values:pe});e.tris.getCABO().createVBO(ve,"polys",ns.SURFACE,{points:te,tcoords:se,cellOffset:0}),e.VBOBuildTime.modified(),e.VBOBuildString=R}},t.updatelabelOutlineThicknessTexture=r=>{var l;const a=r.getProperty().getLabelOutlineThicknessByReference(),i=e._openGLRenderWindow.getGraphicsResourceForObject(a),o=`${a.join("-")}`;if(!((l=i==null?void 0:i.oglObject)!=null&&l.getHandle())||(i==null?void 0:i.hash)!==o){const d=new Uint8Array(1024);for(let g=0;g<1024;++g){const v=typeof a[g]<"u"?a[g]:a[0];d[g]=v}e.labelOutlineThicknessTexture=Zr.newInstance({resizable:!1}),e.labelOutlineThicknessTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.labelOutlineThicknessTexture.resetFormatAndType(),e.labelOutlineThicknessTexture.setMinificationFilter(Sn.NEAREST),e.labelOutlineThicknessTexture.setMagnificationFilter(Sn.NEAREST),e.labelOutlineThicknessTexture.create2DFromRaw(1024,1,1,qn.UNSIGNED_CHAR,d),a&&(e._openGLRenderWindow.setGraphicsResourceForObject(a,e.labelOutlineThicknessTexture,o),a!==e._labelOutlineThicknessArray&&(e._openGLRenderWindow.registerGraphicsResourceUser(a,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._labelOutlineThicknessArray,t)),e._labelOutlineThicknessArray=a)}else e.labelOutlineThicknessTexture=i.oglObject},t.getRenderTargetSize=()=>{if(e._useSmallViewport)return[e._smallViewportWidth,e._smallViewportHeight];const{usize:r,vsize:a}=e._openGLRenderer.getTiledSizeAndOrigin();return[r,a]},t.getRenderTargetOffset=()=>{const{lowerLeftU:r,lowerLeftV:a}=e._openGLRenderer.getTiledSizeAndOrigin();return[r,a]},t.delete=Ep(()=>{e._openGLRenderWindow&&n(e._openGLRenderWindow)},t.delete)}const TCe={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,imagematinv:null,colorTexture:null,pwfTexture:null,labelOutlineThicknessTexture:null,labelOutlineThicknessTextureString:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0};function Ez(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,TCe,n),Va.extend(t,e,n),Mc.implementReplaceShaderCoincidentOffset(t,e,n),Mc.implementBuildShadersWithReplacements(t,e,n),e.tris=Uc.newInstance(),e.imagemat=Dn(new Float64Array(16)),e.imagematinv=Dn(new Float64Array(16)),e.projectionToWorld=Dn(new Float64Array(16)),e.idxToView=Dn(new Float64Array(16)),e.idxNormalMatrix=$s(new Float64Array(9)),e.modelToView=Dn(new Float64Array(16)),e.projectionToView=Dn(new Float64Array(16)),Ka(t,e,[]),e.VBOBuildTime={},ea(e.VBOBuildTime),xCe(t,e)}const Dz=Vr(Ez,"vtkOpenGLImageMapper");var wCe={newInstance:Dz,extend:Ez};di("vtkAbstractImageMapper",Dz);const fu={MAX:0,MIN:1,AVERAGE:2},{vtkErrorMacro:Ih}=ne;function bCe(t,e){e.classHierarchy.push("vtkOpenGLImageCPRMapper");function n(r){[e._scalars,e._colorTransferFunc,e._pwFunc].forEach(a=>r.unregisterGraphicsResourceUser(a,t))}t.buildPass=r=>{if(r){e.currentRenderPass=null,e.openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");const a=e._openGLRenderWindow;e._openGLRenderWindow=e._openGLRenderer.getLastAncestorOfType("vtkOpenGLRenderWindow"),a&&!a.isDeleted()&&a!==e._openGLRenderWindow&&n(a),e.context=e._openGLRenderWindow.getContext(),e.openGLCamera=e._openGLRenderer.getViewNodeFor(e._openGLRenderer.getRenderable().getActiveCamera()),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow)}},t.opaquePass=(r,a)=>{r&&(e.currentRenderPass=a,t.render())},t.opaqueZBufferPass=r=>{r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.getCoincidentParameters=(r,a)=>e.renderable.getResolveCoincidentTopology()===Bs.PolygonOffset?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null,t.render=()=>{const r=e.openGLImageSlice.getRenderable(),a=e._openGLRenderer.getRenderable();t.renderPiece(a,r)},t.renderPiece=(r,a)=>{t.invokeEvent({type:"StartEvent"}),e.renderable.update(),t.invokeEvent({type:"EndEvent"}),e.renderable.preRenderCheck()&&(e.currentImageDataInput=e.renderable.getInputData(0),e.currentCenterlineInput=e.renderable.getOrientedCenterline(),t.renderPieceStart(r,a),t.renderPieceDraw(r,a),t.renderPieceFinish(r,a))},t.renderPieceStart=(r,a)=>{t.updateBufferObjects(r,a)},t.renderPieceDraw=(r,a)=>{const i=e.context;e.volumeTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(t.updateShaders(e.tris,r,a),i.drawArrays(i.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.volumeTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=(r,a)=>{},t.updateBufferObjects=(r,a)=>{t.getNeedToRebuildBufferObjects(r,a)&&t.buildBufferObjects(r,a),a.getProperty().getInterpolationType()===Ku.NEAREST?(e.volumeTexture.setMinificationFilter(Sn.NEAREST),e.volumeTexture.setMagnificationFilter(Sn.NEAREST),e.colorTexture.setMinificationFilter(Sn.NEAREST),e.colorTexture.setMagnificationFilter(Sn.NEAREST),e.pwfTexture.setMinificationFilter(Sn.NEAREST),e.pwfTexture.setMagnificationFilter(Sn.NEAREST)):(e.volumeTexture.setMinificationFilter(Sn.LINEAR),e.volumeTexture.setMagnificationFilter(Sn.LINEAR),e.colorTexture.setMinificationFilter(Sn.LINEAR),e.colorTexture.setMagnificationFilter(Sn.LINEAR),e.pwfTexture.setMinificationFilter(Sn.LINEAR),e.pwfTexture.setMagnificationFilter(Sn.LINEAR))},t.getNeedToRebuildBufferObjects=(r,a)=>{var o;const i=e.VBOBuildTime.getMTime();return i<t.getMTime()||i<e.renderable.getMTime()||i<a.getMTime()||i<e.currentImageDataInput.getMTime()||i<e.currentCenterlineInput.getMTime()||!((o=e.volumeTexture)!=null&&o.getHandle())},t.buildBufferObjects=(r,a)=>{var E,O,D,R;const i=e.currentImageDataInput,o=e.currentCenterlineInput,s=(E=i==null?void 0:i.getPointData())==null?void 0:E.getScalars();if(!s)return;const l=e._openGLRenderWindow.getGraphicsResourceForObject(s),c=Uw(i,s);if(!((O=l==null?void 0:l.oglObject)!=null&&O.getHandle())||(l==null?void 0:l.hash)!==c){e.volumeTexture=Zr.newInstance(),e.volumeTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const I=i.getDimensions();e.volumeTexture.setOglNorm16Ext(e.context.getExtension("EXT_texture_norm16")),e.volumeTexture.resetFormatAndType(),e.volumeTexture.create3DFilterableFromDataArray(I[0],I[1],I[2],s,e.renderable.getPreferSizeOverAccuracy()),e._openGLRenderWindow.setGraphicsResourceForObject(s,e.volumeTexture,c),s!==e._scalars&&(e._openGLRenderWindow.registerGraphicsResourceUser(s,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._scalars,t)),e._scalars=s}else e.volumeTexture=l.oglObject;const u=s.getNumberOfComponents(),d=a.getProperty(),g=d.getIndependentComponents(),v=g?u:1,m=g?2*v:1,p=d.getRGBTransferFunction(),h=f0(p,g,v),y=e._openGLRenderWindow.getGraphicsResourceForObject(p);if(!((D=y==null?void 0:y.oglObject)!=null&&D.getHandle())||(y==null?void 0:y.hash)!==h){const M=1024*m*3,A=new Uint8ClampedArray(M);if(e.colorTexture=Zr.newInstance(),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),p){const B=new Float32Array(3072);for(let L=0;L<v;L++){const F=d.getRGBTransferFunction(L),_=F.getRange();if(F.getTable(_[0],_[1],1024,B,1),g)for(let P=0;P<1024*3;P++)A[L*1024*6+P]=255*B[P],A[L*1024*6+P+1024*3]=255*B[P];else for(let P=0;P<1024*3;P++)A[L*1024*6+P]=255*B[P]}e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(1024,m,3,qn.UNSIGNED_CHAR,A)}else{for(let B=0;B<1024*3;++B)A[B]=255*B/(1023*3),A[B+1]=255*B/(1023*3),A[B+2]=255*B/(1023*3);e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(1024,1,3,qn.UNSIGNED_CHAR,A)}p&&(e._openGLRenderWindow.setGraphicsResourceForObject(p,e.colorTexture,h),p!==e._colorTransferFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(p,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._colorTransferFunc,t)),e._colorTransferFunc=p)}else e.colorTexture=y.oglObject;const x=d.getPiecewiseFunction(),T=f0(x,g,v),w=e._openGLRenderWindow.getGraphicsResourceForObject(x);if(!((R=w==null?void 0:w.oglObject)!=null&&R.getHandle())||(w==null?void 0:w.hash)!==T){const M=1024*m,A=new Uint8ClampedArray(M);if(e.pwfTexture=Zr.newInstance(),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow),x){const B=new Float32Array(M),L=new Float32Array(1024);for(let F=0;F<v;++F){const _=d.getPiecewiseFunction(F);if(_===null)B.fill(1);else{const P=_.getRange();if(_.getTable(P[0],P[1],1024,L,1),g)for(let N=0;N<1024;N++)B[F*1024*2+N]=L[N],B[F*1024*2+N+1024]=L[N];else for(let N=0;N<1024;N++)B[F*1024*2+N]=L[N]}}e.pwfTexture.resetFormatAndType(),e.pwfTexture.create2DFromRaw(1024,m,1,qn.FLOAT,B)}else A.fill(255),e.pwfTexture.resetFormatAndType(),e.pwfTexture.create2DFromRaw(1024,1,1,qn.UNSIGNED_CHAR,A);x&&(e._openGLRenderWindow.setGraphicsResourceForObject(x,e.pwfTexture,T),x!==e._pwFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(x,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._pwFunc,t)),e._pwFunc=x)}else e.pwfTexture=w.oglObject;if(e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<o.getMTime()){const I=o.getNumberOfPoints(),M=I<=1?0:I-1,A=o.getDistancesToFirstPoint(),B=e.renderable.getHeight(),L=4*M,F=new Float32Array(3*L),_=e.renderable.getWidth();for(let fe=0,ce=0;fe<M;++fe)F.set([0,B-A[fe],0],ce),ce+=3,F.set([_,B-A[fe],0],ce),ce+=3,F.set([_,B-A[fe+1],0],ce),ce+=3,F.set([0,B-A[fe+1],0],ce),ce+=3;const P=Bn.newInstance({numberOfComponents:3,values:F});P.setName("points");const N=new Uint16Array(5*M);for(let fe=0,ce=0,Ee=0;fe<M;++fe)N.set([4,Ee+3,Ee+2,Ee+1,Ee],ce),ce+=5,Ee+=4;const k=Bn.newInstance({numberOfComponents:1,values:N}),H=o.getPoints(),K=new Float32Array(3*L),te=new Array(3),se=new Array(3);for(let fe=0,ce=0;fe<M;++fe)H.getPoint(fe,te),H.getPoint(fe+1,se),K.set(te,ce),ce+=3,K.set(te,ce),ce+=3,K.set(se,ce),ce+=3,K.set(se,ce),ce+=3;const pe=Bn.newInstance({numberOfComponents:3,values:K,name:"centerlinePosition"}),ve=new Float32Array(L);for(let fe=0,ce=0;fe<M;++fe)ve.set([0,1,3,2],ce),ce+=4;const Te=Bn.newInstance({numberOfComponents:1,values:ve,name:"quadIndex"}),_e=[pe,Te];if(!e.renderable.getUseUniformOrientation()){const fe=e.renderable.getOrientedCenterline().getOrientations()??[],ce=new Float32Array(4*L),Ee=new Float32Array(4*L);for(let Re=0;Re<M;++Re){const Pe=fe[Re],We=fe[Re+1];for(let Me=0;Me<4;++Me){const Be=4*(Me+4*Re);ce.set(Pe,Be),Ee.set(We,Be)}}const we=Bn.newInstance({numberOfComponents:4,values:ce,name:"centerlineTopOrientation"}),he=Bn.newInstance({numberOfComponents:4,values:Ee,name:"centerlineBotOrientation"});_e.push(we,he)}e.tris.getCABO().createVBO(k,"polys",ns.SURFACE,{points:P,customAttributes:_e}),e.VBOBuildTime.modified()}},t.getNeedToRebuildShaders=(r,a,i)=>{const o=e.volumeTexture.getComponents(),s=i.getProperty().getIndependentComponents(),l=!!e.renderable.getCenterPoint(),c=e.renderable.getUseUniformOrientation(),f=e.renderable.isProjectionEnabled()&&e.renderable.getProjectionMode();return r.getProgram()===0||e.lastUseCenterPoint!==l||e.lastUseUniformOrientation!==c||e.lastProjectionMode!==f||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||e.lastTextureComponents!==o||e.lastIndependentComponents!==s?(e.lastUseCenterPoint=l,e.lastUseUniformOrientation=c,e.lastProjectionMode=f,e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=o,e.lastIndependentComponents=s,!0):!1},t.buildShaders=(r,a,i)=>{t.getShaderTemplate(r,a,i),t.replaceShaderValues(r,a,i)},t.replaceShaderValues=(r,a,i)=>{let o=r.Vertex,s=r.Fragment;const l=["vec3 applyQuaternionToVec(vec4 q, vec3 v) {","  float uvx = q.y * v.z - q.z * v.y;","  float uvy = q.z * v.x - q.x * v.z;","  float uvz = q.x * v.y - q.y * v.x;","  float uuvx = q.y * uvz - q.z * uvy;","  float uuvy = q.z * uvx - q.x * uvz;","  float uuvz = q.x * uvy - q.y * uvx;","  float w2 = q.w * 2.0;","  uvx *= w2;","  uvy *= w2;","  uvz *= w2;","  uuvx *= 2.0;","  uuvy *= 2.0;","  uuvz *= 2.0;","  return vec3(v.x + uvx + uuvx, v.y + uvy + uuvy, v.z + uvz + uuvz);","}"];o=Fe.substitute(o,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,o=Fe.substitute(o,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result;const c=["attribute vec3 centerlinePosition;","attribute float quadIndex;","uniform float width;","out vec2 quadOffsetVSOutput;","out vec3 centerlinePosVSOutput;"],f=e.renderable.isProjectionEnabled(),u=e.renderable.getUseUniformOrientation();u?(c.push("out vec3 samplingDirVSOutput;","uniform vec4 centerlineOrientation;","uniform vec3 tangentDirection;",...l),f&&c.push("out vec3 projectionDirVSOutput;","uniform vec3 bitangentDirection;")):c.push("out vec4 centerlineTopOrientationVSOutput;","out vec4 centerlineBotOrientationVSOutput;","attribute vec4 centerlineTopOrientation;","attribute vec4 centerlineBotOrientation;"),o=Fe.substitute(o,"//VTK::Color::Dec",c).result;const d=["quadOffsetVSOutput = vec2(width * (mod(quadIndex, 2.0) == 0.0 ? -0.5 : 0.5), quadIndex > 1.0 ? 0.0 : 1.0);","centerlinePosVSOutput = centerlinePosition;"];u?(d.push("samplingDirVSOutput = applyQuaternionToVec(centerlineOrientation, tangentDirection);"),f&&d.push("projectionDirVSOutput = applyQuaternionToVec(centerlineOrientation, bitangentDirection);")):d.push("centerlineTopOrientationVSOutput = centerlineTopOrientation;","centerlineBotOrientationVSOutput = centerlineBotOrientation;"),o=Fe.substitute(o,"//VTK::Color::Impl",d).result;const g=e.volumeTexture.getComponents(),v=i.getProperty().getIndependentComponents();let m=["uniform mat4 MCTCMatrix; // Model coordinates to texture coordinates","in vec2 quadOffsetVSOutput;","in vec3 centerlinePosVSOutput;","uniform highp sampler3D volumeTexture;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;","uniform vec4 backgroundColor;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;"];f&&m.push("uniform vec3 volumeSizeMC;","uniform int projectionSlabNumberOfSamples;","uniform float projectionConstantOffset;","uniform float projectionStepLength;"),u?(m.push("in vec3 samplingDirVSOutput;"),f&&m.push("in vec3 projectionDirVSOutput;")):(m.push("uniform vec3 tangentDirection;","in vec4 centerlineTopOrientationVSOutput;","in vec4 centerlineBotOrientationVSOutput;",...l),f&&m.push("uniform vec3 bitangentDirection;"));const p=e.renderable.getCenterPoint();if(p&&m.push("uniform vec3 globalCenterPoint;"),v){for(let y=1;y<g;y++)m=m.concat([`uniform float cshift${y};`,`uniform float cscale${y};`,`uniform float pwfshift${y};`,`uniform float pwfscale${y};`]);switch(g){case 1:m=m.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:m=m.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:m=m.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:m=m.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Ih("Unsupported number of independent coordinates.")}}s=Fe.substitute(s,"//VTK::TCoord::Dec",m).result;let h=[];if(u?(h.push("vec3 samplingDirection = samplingDirVSOutput;"),f&&h.push("vec3 projectionDirection = projectionDirVSOutput;")):(h.push("vec4 q0 = centerlineBotOrientationVSOutput;","vec4 q1 = centerlineTopOrientationVSOutput;","float qCosAngle = dot(q0, q1);","vec4 interpolatedOrientation;","if (qCosAngle > 0.999 || qCosAngle < -0.999) {","  // Use LERP instead of SLERP when the two quaternions are close or opposite","  interpolatedOrientation = normalize(mix(q0, q1, quadOffsetVSOutput.y));","} else {","  float omega = acos(qCosAngle);","  interpolatedOrientation = normalize(sin((1.0 - quadOffsetVSOutput.y) * omega) * q0 + sin(quadOffsetVSOutput.y * omega) * q1);","}","vec3 samplingDirection = applyQuaternionToVec(interpolatedOrientation, tangentDirection);"),f&&h.push("vec3 projectionDirection = applyQuaternionToVec(interpolatedOrientation, bitangentDirection);")),p?h.push("float baseOffset = dot(samplingDirection, globalCenterPoint - centerlinePosVSOutput);","float horizontalOffset = quadOffsetVSOutput.x + baseOffset;"):h.push("float horizontalOffset = quadOffsetVSOutput.x;"),h.push("vec3 volumePosMC = centerlinePosVSOutput + horizontalOffset * samplingDirection;","vec3 volumePosTC = (MCTCMatrix * vec4(volumePosMC, 1.0)).xyz;","if (any(lessThan(volumePosTC, vec3(0.0))) || any(greaterThan(volumePosTC, vec3(1.0))))","{","  // set the background color and exit","  gl_FragData[0] = backgroundColor;","  return;","}"),f){const y=e.renderable.getProjectionMode();switch(y){case fu.MIN:h.push("const vec4 initialProjectionTextureValue = vec4(1.0);");break;case fu.MAX:case fu.AVERAGE:default:h.push("const vec4 initialProjectionTextureValue = vec4(0.0);");break}switch(h.push("vec3 projectionScaledDirection = projectionDirection / volumeSizeMC;","vec3 projectionStep = projectionStepLength * projectionScaledDirection;","vec3 projectionStartPosition = volumePosTC + projectionConstantOffset * projectionScaledDirection;","vec4 tvalue = initialProjectionTextureValue;","for (int projectionSampleIdx = 0; projectionSampleIdx < projectionSlabNumberOfSamples; ++projectionSampleIdx) {","  vec3 projectionSamplePosition = projectionStartPosition + float(projectionSampleIdx) * projectionStep;","  vec4 sampledTextureValue = texture(volumeTexture, projectionSamplePosition);"),y){case fu.MAX:h.push("  tvalue = max(tvalue, sampledTextureValue);");break;case fu.MIN:h.push("  tvalue = min(tvalue, sampledTextureValue);");break;case fu.AVERAGE:default:h.push("  tvalue = tvalue + sampledTextureValue;");break}h.push("}"),y===fu.AVERAGE&&h.push("tvalue = tvalue / float(projectionSlabNumberOfSamples);")}else h.push("vec4 tvalue = texture(volumeTexture, volumePosTC);");if(v){const y=["r","g","b","a"];for(let C=0;C<g;++C)h=h.concat([`vec3 tcolor${C} = mix${C} * texture2D(colorTexture1, vec2(tvalue.${y[C]} * cscale${C} + cshift${C}, height${C})).rgb;`,`float compWeight${C} = mix${C} * texture2D(pwfTexture1, vec2(tvalue.${y[C]} * pwfscale${C} + pwfshift${C}, height${C})).r;`]);switch(g){case 1:h=h.concat(["gl_FragData[0] = vec4(tcolor0.rgb, compWeight0 * opacity);"]);break;case 2:h=h.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Ih("Unsupported number of independent coordinates.")}}else switch(g){case 1:h=h.concat(["// Dependent components","float intensity = tvalue.r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]);break;case 2:h=h.concat(["float intensity = tvalue.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tvalue.g + pwfshift0);"]);break;case 3:h=h.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]);break;default:h=h.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"])}s=Fe.substitute(s,"//VTK::TCoord::Impl",h).result,e.haveSeenDepthRequest&&(s=Fe.substitute(s,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,s=Fe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),r.Vertex=o,r.Fragment=s,t.replaceShaderClip(r,a,i),t.replaceShaderCoincidentOffset(r,a,i)},t.replaceShaderClip=(r,a,i)=>{let o=r.Vertex,s=r.Fragment;if(e.renderable.getNumberOfClippingPlanes()){let l=e.renderable.getNumberOfClippingPlanes();l>6&&(ne.vtkErrorMacro("OpenGL has a limit of 6 clipping planes"),l=6),o=Fe.substitute(o,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,o=Fe.substitute(o,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,s=Fe.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,s=Fe.substitute(s,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}r.Vertex=o,r.Fragment=s},t.getShaderTemplate=(r,a,i)=>{r.Vertex=kw,r.Fragment=Mp,r.Geometry=""},t.setMapperShaderParameters=(r,a,i)=>{const o=r.getProgram(),s=r.getCABO();s.getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&(o.isAttributeUsed("vertexMC")&&(r.getVAO().addAttributeArray(o,s,"vertexMC",s.getVertexOffset(),s.getStride(),e.context.FLOAT,3,e.context.FALSE)||Ih("Error setting vertexMC in shader VAO.")),r.getCABO().getCustomData().forEach(g=>{g&&o.isAttributeUsed(g.name)&&!r.getVAO().addAttributeArray(o,s,g.name,g.offset,s.getStride(),e.context.FLOAT,g.components,e.context.FALSE)&&Ih(`Error setting ${g.name} in shader VAO.`)}),r.getAttributeUpdateTime().modified());const l=e.volumeTexture.getTextureUnit();if(o.setUniformi("volumeTexture",l),o.setUniformf("width",e.renderable.getWidth()),r.getProgram().setUniform4fv("backgroundColor",e.renderable.getBackgroundColor()),o.isUniformUsed("tangentDirection")){const g=e.renderable.getTangentDirection();r.getProgram().setUniform3fArray("tangentDirection",g)}if(o.isUniformUsed("bitangentDirection")){const g=e.renderable.getBitangentDirection();r.getProgram().setUniform3fArray("bitangentDirection",g)}if(o.isUniformUsed("centerlineOrientation")){const g=e.renderable.getUniformOrientation();r.getProgram().setUniform4fv("centerlineOrientation",g)}if(o.isUniformUsed("globalCenterPoint")){const g=e.renderable.getCenterPoint();o.setUniform3fArray("globalCenterPoint",g)}if(e.renderable.isProjectionEnabled()){const g=e.currentImageDataInput,v=g.getSpacing(),m=g.getDimensions(),p=e.renderable.getProjectionSlabThickness(),h=e.renderable.getProjectionSlabNumberOfSamples(),y=F5e([],v,m);o.setUniform3fArray("volumeSizeMC",y),o.setUniformi("projectionSlabNumberOfSamples",h);const C=-.5*p;o.setUniformf("projectionConstantOffset",C);const x=p/(h-1);o.setUniformf("projectionStepLength",x)}const c=e.currentImageDataInput,f=c.getWorldToIndex(),u=hw(new Float32Array(16),XB([],c.getDimensions())),d=a3(u,u,f);if(o.setUniformMatrix("MCTCMatrix",d),e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),e.renderable.getNumberOfClippingPlanes()){let g=e.renderable.getNumberOfClippingPlanes();g>6&&(ne.vtkErrorMacro("OpenGL has a limit of 6 clipping planes"),g=6);const m=s.getCoordShiftAndScaleEnabled()?s.getInverseShiftAndScaleMatrix():null,p=m?Ea(e.imagematinv,i.getMatrix()):i.getMatrix();m&&(tr(p,p),Zn(p,p,m),tr(p,p)),tr(e.imagemat,e.currentImageDataInput.getIndexToWorld()),Zn(e.imagematinv,p,e.imagemat);const h=[];for(let y=0;y<g;y++){const C=[];e.renderable.getClippingPlaneInDataCoords(e.imagematinv,y,C);for(let x=0;x<4;x++)h.push(C[x])}o.setUniformi("numClipPlanes",g),o.setUniform4fv("clipPlanes",h)}if(o.isUniformUsed("coffset")){const g=t.getCoincidentParameters(a,i);o.setUniformf("coffset",g.offset),o.isUniformUsed("cfactor")&&o.setUniformf("cfactor",g.factor)}},t.setCameraShaderParameters=(r,a,i)=>{const o=e.openGLImageSlice.getKeyMatrices().mcwc,s=e.openGLCamera.getKeyMatrices(a).wcpc;if(Zn(e.imagemat,s,o),r.getCABO().getCoordShiftAndScaleEnabled()){const l=r.getCABO().getInverseShiftAndScaleMatrix();Zn(e.imagemat,e.imagemat,l)}r.getProgram().setUniformMatrix("MCPCMatrix",e.imagemat)},t.setPropertyShaderParameters=(r,a,i)=>{const o=r.getProgram(),s=i.getProperty(),l=s.getOpacity();o.setUniformf("opacity",l);const c=e.volumeTexture.getComponents(),f=s.getIndependentComponents();if(f)for(let v=0;v<c;++v)o.setUniformf(`mix${v}`,s.getComponentWeight(v));const u=e.volumeTexture.getVolumeInfo();for(let v=0;v<c;v++){let m=s.getColorWindow(),p=s.getColorLevel();const h=f?v:0,y=s.getRGBTransferFunction(h);if(y&&s.getUseLookupTableScalarRange()){const T=y.getRange();m=T[1]-T[0],p=.5*(T[1]+T[0])}const C=u.scale[v]/m,x=(u.offset[v]-p)/m+.5;o.setUniformf(`cshift${v}`,x),o.setUniformf(`cscale${v}`,C)}const d=e.colorTexture.getTextureUnit();o.setUniformi("colorTexture1",d);for(let v=0;v<c;v++){let m=1,p=0;const h=f?v:0,y=s.getPiecewiseFunction(h);if(y){const C=y.getRange(),x=C[1]-C[0],T=.5*(C[0]+C[1]);m=u.scale[v]/x,p=(u.offset[v]-T)/x+.5}o.setUniformf(`pwfshift${v}`,p),o.setUniformf(`pwfscale${v}`,m)}const g=e.pwfTexture.getTextureUnit();o.setUniformi("pwfTexture1",g)},t.updateShaders=(r,a,i)=>{if(t.getNeedToRebuildShaders(r,a,i)){const o={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(o,a,i);const s=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(o.Vertex,o.Fragment,o.Geometry);s!==r.getProgram()&&(r.setProgram(s),r.getVAO().releaseGraphicsResources()),r.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(r.getProgram());r.getVAO().bind(),t.setMapperShaderParameters(r,a,i),t.setCameraShaderParameters(r,a,i),t.setPropertyShaderParameters(r,a,i)},t.delete=ne.chain(()=>{e._openGLRenderWindow&&n(e._openGLRenderWindow)},t.delete)}const ECe={currentRenderPass:null,volumeTexture:null,colorTexture:null,pwfTexture:null,tris:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0,lastIndependentComponents:0,imagemat:null,imagematinv:null};function Oz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ECe,n),Va.extend(t,e,n),Mc.implementReplaceShaderCoincidentOffset(t,e,n),ne.algo(t,e,2,0),e.tris=Uc.newInstance(),e.volumeTexture=null,e.colorTexture=null,e.pwfTexture=null,e.imagemat=Dn(new Float64Array(16)),e.imagematinv=Dn(new Float64Array(16)),e.VBOBuildTime={},ne.obj(e.VBOBuildTime,{mtime:0}),bCe(t,e)}const Rz=ne.newInstance(Oz,"vtkOpenGLImageCPRMapper"),DCe={};var OCe={newInstance:Rz,extend:Oz,...DCe};di("vtkImageCPRMapper",Rz);function RCe(t,e){e.classHierarchy.push("vtkOpenGLImageSlice"),t.buildPass=n=>{if(!(!e.renderable||!e.renderable.getVisibility())&&n){if(!e.renderable)return;e._openGLRenderWindow=t.getLastAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes()}},t.traverseZBufferPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(r=>{r.traverse(n)}),t.apply(n,!1))},t.traverseOpaqueZBufferPass=n=>t.traverseOpaquePass(n),t.traverseOpaquePass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(r=>{r.traverse(n)}),t.apply(n,!1))},t.traverseTranslucentPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(r=>{r.traverse(n)}),t.apply(n,!1))},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.zBufferPass=(n,r)=>t.opaquePass(n,r),t.opaqueZBufferPass=(n,r)=>t.opaquePass(n,r),t.opaquePass=(n,r)=>{n&&e.context.depthMask(!0)},t.translucentPass=(n,r)=>{e.context.depthMask(!n)},t.getKeyMatrices=()=>(e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(Ea(e.keyMatrices.mcwc,e.renderable.getMatrix()),tr(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.keyMatrixTime.modified()),e.keyMatrices)}const ICe={context:null,keyMatrixTime:null,keyMatrices:null};function Iz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ICe,n),Va.extend(t,e,n),e.keyMatrixTime={},ea(e.keyMatrixTime,{mtime:0}),e.keyMatrices={mcwc:Dn(new Float64Array(16))},Ka(t,e,["context"]),RCe(t,e)}const Az=Vr(Iz,"vtkOpenGLImageSlice");var ACe={newInstance:Az,extend:Iz};di("vtkImageSlice",Az);const{vtkDebugMacro:MCe}=Ni;function PCe(t,e){e.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),t.opaquePass=(n,r)=>{e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getLastAncestorOfType("vtkOpenGLRenderWindow");const a=e._openGLRenderer.getAspectRatio(),i=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,o=e._openGLRenderer.getTiledSizeAndOrigin();let s=null;if(e.renderable.getUseZValues()){const l=r.getZBufferTexture(),c=Math.floor(l.getWidth()),f=Math.floor(l.getHeight()),u=e._openGLRenderWindow.getContext();l.bind();const d=r.getFramebuffer();d?d.saveCurrentBindingsAndBuffers():MCe("No framebuffer to save/restore");const g=u.createFramebuffer();u.bindFramebuffer(u.FRAMEBUFFER,g),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,l.getHandle(),0),u.checkFramebufferStatus(u.FRAMEBUFFER)===u.FRAMEBUFFER_COMPLETE&&(s=new Uint8Array(c*f*4),u.viewport(0,0,c,f),u.readPixels(0,0,c,f,u.RGBA,u.UNSIGNED_BYTE,s)),d&&d.restorePreviousBindingsAndBuffers(),u.deleteFramebuffer(g)}e.renderable.invokeCallback(e.renderable.getInputData(),i,a,o,s)},t.queryPass=(n,r)=>{n&&e.renderable.getUseZValues()&&r.requestDepth()}}const LCe={};function Mz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,LCe,n),Va.extend(t,e,n),PCe(t,e)}const Pz=Vr(Mz,"vtkOpenGLPixelSpaceCallbackMapper");var _Ce={newInstance:Pz,extend:Mz};di("vtkPixelSpaceCallbackMapper",Pz);const{vtkDebugMacro:NCe}=Ni;function FCe(t,e){e.classHierarchy.push("vtkOpenGLRenderer"),t.buildPass=n=>{if(n){if(!e.renderable)return;t.updateLights(),t.prepareNodes(),t.addMissingNode(e.renderable.getActiveCamera()),t.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),t.removeUnusedNodes()}},t.updateLights=()=>{let n=0;const r=e.renderable.getLightsByReference();for(let a=0;a<r.length;++a)r[a].getSwitch()>0&&n++;return n||(NCe("No lights are on, creating one."),e.renderable.createLight()),n},t.zBufferPass=n=>{if(n){let r=0;const a=e.context;e.renderable.getTransparent()||(e.context.clearColor(1,0,0,1),r|=a.COLOR_BUFFER_BIT),e.renderable.getPreserveDepthBuffer()||(a.clearDepth(1),r|=a.DEPTH_BUFFER_BIT,e.context.depthMask(!0));const i=t.getTiledSizeAndOrigin();a.enable(a.SCISSOR_TEST),a.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.colorMask(!0,!0,!0,!0),r&&a.clear(r),a.enable(a.DEPTH_TEST)}},t.opaqueZBufferPass=n=>t.zBufferPass(n),t.cameraPass=n=>{n&&t.clear()},t.getAspectRatio=()=>{const n=e._parent.getSizeByReference(),r=e.renderable.getViewportByReference();return n[0]*(r[2]-r[0])/((r[3]-r[1])*n[1])},t.getTiledSizeAndOrigin=()=>{const n=e.renderable.getViewportByReference(),r=[0,0,1,1],a=n[0]-r[0],i=n[1]-r[1],o=e._parent.normalizedDisplayToDisplay(a,i),s=Math.round(o[0]),l=Math.round(o[1]),c=n[2]-r[0],f=n[3]-r[1],u=e._parent.normalizedDisplayToDisplay(c,f);let d=Math.round(u[0])-s,g=Math.round(u[1])-l;return d<0&&(d=0),g<0&&(g=0),{usize:d,vsize:g,lowerLeftU:s,lowerLeftV:l}},t.clear=()=>{let n=0;const r=e.context;if(!e.renderable.getTransparent()){const i=e.renderable.getBackgroundByReference();r.clearColor(i[0],i[1],i[2],i[3]),n|=r.COLOR_BUFFER_BIT}e.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,r.depthMask(!0)),r.colorMask(!0,!0,!0,!0);const a=t.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(a.lowerLeftU,a.lowerLeftV,a.usize,a.vsize),r.viewport(a.lowerLeftU,a.lowerLeftV,a.usize,a.vsize),n&&r.clear(n),r.enable(r.DEPTH_TEST)},t.releaseGraphicsResources=()=>{e.selector!==null&&e.selector.releaseGraphicsResources(),e.renderable&&e.renderable.getViewProps().forEach(n=>{n.modified()})},t.setOpenGLRenderWindow=n=>{e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))}}const $Ce={context:null,_openGLRenderWindow:null,selector:null};function Lz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$Ce,n),Va.extend(t,e,n),Zi(t,e,["shaderCache"]),Ka(t,e,["selector"]),bp(t,e,["openGLRenderWindow"]),FCe(t,e)}const _z=Vr(Lz,"vtkOpenGLRenderer");var VCe={newInstance:_z,extend:Lz};di("vtkRenderer",_z);const{vtkErrorMacro:zA}=Ni;function kCe(t,e){e.classHierarchy.push("vtkOpenGLSkybox"),t.buildPass=n=>{if(n){e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const r=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(r.getActiveCamera())}},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOpaqueActorCount()}},t.opaquePass=(n,r)=>{if(n&&!e._openGLRenderer.getSelector()){t.updateBufferObjects(),e.context.depthMask(!0),e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.tris.getProgram()),e.openGLTexture.render(e._openGLRenderWindow);const a=e.openGLTexture.getTextureUnit();e.tris.getProgram().setUniformi("sbtexture",a);const i=e._openGLRenderer.getRenderable(),o=e.openGLCamera.getKeyMatrices(i),s=new Float64Array(16);if(qa(s,o.wcpc),e.tris.getProgram().setUniformMatrix("IMCPCMatrix",s),e.lastFormat==="box"){const l=i.getActiveCamera().getPosition();e.tris.getProgram().setUniform3f("camPos",l[0],l[1],l[2])}e.tris.getVAO().bind(),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate()}},t.updateBufferObjects=()=>{if(!e.tris.getCABO().getElementCount()){const r=new Float32Array(12);for(let s=0;s<4;s++)r[s*3]=s%2*2-1,r[s*3+1]=s>1?1:-1,r[s*3+2]=1;const a=Bn.newInstance({numberOfComponents:3,values:r});a.setName("points");const i=new Uint16Array(8);i[0]=3,i[1]=0,i[2]=1,i[3]=3,i[4]=3,i[5]=0,i[6]=3,i[7]=2;const o=Bn.newInstance({numberOfComponents:1,values:i});e.tris.getCABO().createVBO(o,"polys",ns.SURFACE,{points:a,cellOffset:0})}e.renderable.getFormat()!==e.lastFormat&&(e.lastFormat=e.renderable.getFormat(),e.lastFormat==="box"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec3 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = wpos.xyz/wpos.w;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec3 TexCoords;
             uniform samplerCube sbtexture;
             uniform vec3 camPos;
             void main () {
               // skybox looks from inside out
               // which means we have to adjust
               // our tcoords. Otherwise text would
               // be flipped
               vec3 tc = normalize(TexCoords - camPos);
               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))
               {
                 tc = vec3(1.0, 1.0, -1.0) * tc;
               }
               else
               {
                 tc = vec3(-1.0, 1.0, 1.0) * tc;
               }
               gl_FragData[0] = textureCube(sbtexture, tc);
             }`,"")),e.lastFormat==="background"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec2 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec2 TexCoords;
             uniform sampler2D sbtexture;
             void main () {
               gl_FragData[0] = texture2D(sbtexture, TexCoords);
             }`,"")),e.tris.getShaderSourceTime().modified(),e.tris.getVAO().bind(),e.tris.getVAO().addAttributeArray(e.tris.getProgram(),e.tris.getCABO(),"vertexMC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||zA("Error setting vertexMC in shader VAO."));const n=e.renderable.getTextures();n.length||zA("vtkSkybox requires a texture map"),e.openGLTexture.getRenderable()!==n[0]&&(e.openGLTexture.releaseGraphicsResources(e._openGLRenderWindow),e.openGLTexture.setRenderable(n[0]))}}const UCe={context:null};function Nz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,UCe,n),Va.extend(t,e,n),e.openGLTexture=Zr.newInstance(),e.tris=Uc.newInstance(),e.keyMatrixTime={},ea(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:$s(new Float64Array(9)),mcwc:Dn(new Float64Array(16))},Ka(t,e,["context"]),Zi(t,e,["activeTextures"]),kCe(t,e)}const Fz=Vr(Nz);var BCe={newInstance:Fz,extend:Nz};di("vtkSkybox",Fz);var GCe=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkSphereMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// this shader implements imposters in OpenGL for Spheres

attribute vec4 vertexMC;
attribute vec2 offsetMC;

// optional normal declaration
//VTK::Normal::Dec

//VTK::Picking::Dec

// Texture coordinates
//VTK::TCoord::Dec

uniform mat3 normalMatrix; // transform model coordinate directions to view coordinates

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

varying vec4 vertexVCVSOutput;
varying float radiusVCVSOutput;
varying vec3 centerVCVSOutput;

uniform int cameraParallel;
uniform float scaleFactor;

void main()
{
  //VTK::Picking::Impl

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  // compute the projected vertex position
  vec2 scaledOffsetMC = scaleFactor * offsetMC;
  vertexVCVSOutput = MCVCMatrix * vertexMC;
  centerVCVSOutput = vertexVCVSOutput.xyz;
  radiusVCVSOutput = length(scaledOffsetMC)*0.5;

  // make the triangle face the camera
  if (cameraParallel == 0)
    {
    vec3 dir = normalize(-vertexVCVSOutput.xyz);
    vec3 base2 = normalize(cross(dir,vec3(1.0,0.0,0.0)));
    vec3 base1 = cross(base2,dir);
    vertexVCVSOutput.xyz = vertexVCVSOutput.xyz + scaledOffsetMC.x*base1 + scaledOffsetMC.y*base2;
    }
  else
    {
    // add in the offset
    vertexVCVSOutput.xy = vertexVCVSOutput.xy + scaledOffsetMC;
    }

  gl_Position = VCPCMatrix * vertexVCVSOutput;
}
`;const{vtkErrorMacro:zCe}=Ni;function WCe(t,e){e.classHierarchy.push("vtkOpenGLSphereMapper");const n={...t};t.getShaderTemplate=(r,a,i)=>{r.Vertex=GCe,r.Fragment=Mp,r.Geometry=""},t.replaceShaderValues=(r,a,i)=>{let o=r.Vertex,s=r.Fragment;o=Fe.substitute(o,"//VTK::Camera::Dec",[`uniform mat4 VCPCMatrix;
`,"uniform mat4 MCVCMatrix;"]).result,s=Fe.substitute(s,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,s=Fe.substitute(s,"//VTK::PositionVC::Impl",[`vec4 vertexVC = vertexVCVSOutput;
`]).result;const l=[`uniform float invertedDepth;
`,`uniform int cameraParallel;
`,`varying float radiusVCVSOutput;
`,`varying vec3 centerVCVSOutput;
`,`uniform mat4 VCPCMatrix;
`];s=Fe.substitute(s,"//VTK::Normal::Dec",l).result;let c="";e.context.getExtension("EXT_frag_depth")&&(c=`gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;
`),e._openGLRenderWindow.getWebgl2()&&(c=`gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;
`),s=Fe.substitute(s,"//VTK::Depth::Impl",[`  vec3 EyePos;
`,`  vec3 EyeDir;
`,`  if (cameraParallel != 0) {
`,`    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);
`,`    EyeDir = vec3(0.0,0.0,-1.0); }
`,`  else {
`,`    EyeDir = vertexVC.xyz;
`,`    EyePos = vec3(0.0,0.0,0.0);
`,`    float lengthED = length(EyeDir);
`,`    EyeDir = normalize(EyeDir);
`,`    if (lengthED > radiusVCVSOutput*3.0) {
`,`      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }
`,`    }
`,`  EyePos = EyePos - centerVCVSOutput;
`,`  EyePos = EyePos/radiusVCVSOutput;
`,`  float b = 2.0*dot(EyePos,EyeDir);
`,`  float c = dot(EyePos,EyePos) - 1.0;
`,`  float d = b*b - 4.0*c;
`,`  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);
`,`  if (d < 0.0) { discard; }
`,`  else {
`,`    float t = (-b - invertedDepth*sqrt(d))*0.5;
`,`    normalVCVSOutput = invertedDepth*normalize(EyePos + t*EyeDir);
`,`    vertexVC.xyz = normalVCVSOutput*radiusVCVSOutput + centerVCVSOutput;
`,`    }
`,`  vec4 pos = VCPCMatrix * vertexVC;
`,c]).result,s=Fe.substitute(s,"//VTK::Normal::Impl","").result,e.haveSeenDepthRequest&&(s=Fe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),r.Vertex=o,r.Fragment=s,n.replaceShaderValues(r,a,i)},t.setMapperShaderParameters=(r,a,i)=>{if(r.getCABO().getElementCount()&&(e.VBOBuildTime>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&r.getProgram().isAttributeUsed("offsetMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"offsetMC",12,r.getCABO().getStride(),e.context.FLOAT,2,!1)||zCe("Error setting 'offsetMC' in shader VAO.")),r.getProgram().isUniformUsed("invertedDepth")&&r.getProgram().setUniformf("invertedDepth",e.invert?-1:1),r.getProgram().isUniformUsed("scaleFactor")){const s=e.currentInput.getPointData();e.renderable.getScaleArray()!=null&&s.hasArray(e.renderable.getScaleArray())?r.getProgram().setUniformf("scaleFactor",e.renderable.getScaleFactor()):r.getProgram().setUniformf("scaleFactor",1)}n.setMapperShaderParameters(r,a,i)},t.setCameraShaderParameters=(r,a,i)=>{const o=r.getProgram(),s=a.getActiveCamera(),l=e.openGLCamera.getKeyMatrices(a);if(o.isUniformUsed("VCPCMatrix")&&o.setUniformMatrix("VCPCMatrix",l.vcpc),o.isUniformUsed("MCVCMatrix"))if(i.getIsIdentity())o.setUniformMatrix("MCVCMatrix",l.wcvc);else{const c=e.openGLActor.getKeyMatrices(),f=new Float64Array(16);Zn(f,l.wcvc,c.mcwc),o.setUniformMatrix("MCVCMatrix",f)}o.isUniformUsed("cameraParallel")&&r.getProgram().setUniformi("cameraParallel",s.getParallelProjection())},t.getOpenGLMode=(r,a)=>e.context.TRIANGLES,t.buildBufferObjects=(r,a)=>{const i=e.currentInput;if(i===null)return;e.renderable.mapScalars(i,1);const o=e.renderable.getColorMapColors(),s=e.primitives[e.primTypes.Tris].getCABO(),l=i.getPointData(),c=i.getPoints(),f=c.getNumberOfPoints(),u=c.getData(),d=5;let g=null;e.renderable.getScaleArray()!=null&&l.hasArray(e.renderable.getScaleArray())&&(g=l.getArray(e.renderable.getScaleArray()).getData());let v=null,m=0,p=null;o?(m=o.getNumberOfComponents(),s.setColorOffset(0),s.setColorBOStride(4),v=o.getData(),p=new Uint8Array(3*f*4),s.getColorBO()||s.setColorBO(z0.newInstance()),s.getColorBO().setOpenGLRenderWindow(e._openGLRenderWindow)):s.getColorBO()&&s.setColorBO(null),s.setColorComponents(m);const h=new Float32Array(d*f*3);s.setStride(d*4);const y=Math.cos(ma(30));let C=0,x=0,T=0,w=0;for(let b=0;b<f;++b){let E=e.renderable.getRadius();g&&(E=g[b]),C=b*3,h[T++]=u[C++],h[T++]=u[C++],h[T++]=u[C++],h[T++]=-2*E*y,h[T++]=-E,v&&(x=b*m,p[w++]=v[x],p[w++]=v[x+1],p[w++]=v[x+2],p[w++]=v[x+3]),C=b*3,h[T++]=u[C++],h[T++]=u[C++],h[T++]=u[C++],h[T++]=2*E*y,h[T++]=-E,v&&(p[w++]=v[x],p[w++]=v[x+1],p[w++]=v[x+2],p[w++]=v[x+3]),C=b*3,h[T++]=u[C++],h[T++]=u[C++],h[T++]=u[C++],h[T++]=0,h[T++]=2*E,v&&(p[w++]=v[x],p[w++]=v[x+1],p[w++]=v[x+2],p[w++]=v[x+3])}s.setElementCount(T/d),s.upload(h,X0.ARRAY_BUFFER),o&&s.getColorBO().upload(p,X0.ARRAY_BUFFER),e.VBOBuildTime.modified()}}const jCe={};function $z(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jCe,n),iy.extend(t,e,n),WCe(t,e)}const Vz=Vr($z,"vtkOpenGLSphereMapper");var HCe={newInstance:Vz,extend:$z};di("vtkSphereMapper",Vz);var qCe=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkStickMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// this shader implements imposters in OpenGL for Sticks

attribute vec4 vertexMC;
attribute vec3 orientMC;
attribute vec4 offsetMC;
attribute float radiusMC;

// optional normal declaration
//VTK::Normal::Dec

//VTK::Picking::Dec

// Texture coordinates
//VTK::TCoord::Dec

uniform mat3 normalMatrix; // transform model coordinate directions to view coordinates

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

varying vec4 vertexVCVSOutput;
varying float radiusVCVSOutput;
varying float lengthVCVSOutput;
varying vec3 centerVCVSOutput;
varying vec3 orientVCVSOutput;

uniform int cameraParallel;

void main()
{
  //VTK::Picking::Impl

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  vertexVCVSOutput = MCVCMatrix * vertexMC;
  centerVCVSOutput = vertexVCVSOutput.xyz;
  radiusVCVSOutput = radiusMC;
  lengthVCVSOutput = length(orientMC);
  orientVCVSOutput = normalMatrix * normalize(orientMC);

  // make sure it is pointing out of the screen
  if (orientVCVSOutput.z < 0.0)
    {
    orientVCVSOutput = -orientVCVSOutput;
    }

  // make the basis
  vec3 xbase;
  vec3 ybase;
  vec3 dir = vec3(0.0,0.0,1.0);
  if (cameraParallel == 0)
    {
    dir = normalize(-vertexVCVSOutput.xyz);
    }
  if (abs(dot(dir,orientVCVSOutput)) == 1.0)
    {
    xbase = normalize(cross(vec3(0.0,1.0,0.0),orientVCVSOutput));
    ybase = cross(xbase,orientVCVSOutput);
    }
  else
    {
    xbase = normalize(cross(orientVCVSOutput,dir));
    ybase = cross(orientVCVSOutput,xbase);
    }

  vec3 offsets = offsetMC.xyz*2.0-1.0;
  vertexVCVSOutput.xyz = vertexVCVSOutput.xyz +
    radiusVCVSOutput*offsets.x*xbase +
    radiusVCVSOutput*offsets.y*ybase +
    0.5*lengthVCVSOutput*offsets.z*orientVCVSOutput;

  gl_Position = VCPCMatrix * vertexVCVSOutput;
}
`;const{vtkErrorMacro:Ah}=Ni;function KCe(t,e){e.classHierarchy.push("vtkOpenGLStickMapper");const n={...t};t.getShaderTemplate=(r,a,i)=>{r.Vertex=qCe,r.Fragment=Mp,r.Geometry=""},t.replaceShaderValues=(r,a,i)=>{let o=r.Vertex,s=r.Fragment;o=Fe.substitute(o,"//VTK::Camera::Dec",[`uniform mat4 VCPCMatrix;
`,"uniform mat4 MCVCMatrix;"]).result,s=Fe.substitute(s,"//VTK::PositionVC::Dec","varying vec4 vertexVCVSOutput;").result,s=Fe.substitute(s,"//VTK::PositionVC::Impl",`  vec4 vertexVC = vertexVCVSOutput;
`).result;const l=[`uniform int cameraParallel;
`,`varying float radiusVCVSOutput;
`,`varying vec3 orientVCVSOutput;
`,`varying float lengthVCVSOutput;
`,`varying vec3 centerVCVSOutput;
`,`uniform mat4 VCPCMatrix;
`];s=Fe.substitute(s,"//VTK::Normal::Dec",l).result;let c="";e.context.getExtension("EXT_frag_depth")&&(c=`  gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;
`),e._openGLRenderWindow.getWebgl2()&&(c=`gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;
`),s=Fe.substitute(s,"//VTK::Depth::Impl",[`  vec3 EyePos;
`,`  vec3 EyeDir;
`,`  if (cameraParallel != 0) {
`,`    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);
`,`    EyeDir = vec3(0.0,0.0,-1.0); }
`,`  else {
`,`    EyeDir = vertexVC.xyz;
`,`    EyePos = vec3(0.0,0.0,0.0);
`,`    float lengthED = length(EyeDir);
`,`    EyeDir = normalize(EyeDir);
`,`    if (lengthED > radiusVCVSOutput*3.0) {
`,`      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }
`,`    }
`,`  EyePos = EyePos - centerVCVSOutput;
`,`  vec3 base1;
`,`  if (abs(orientVCVSOutput.z) < 0.99) {
`,`    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,0.0,1.0))); }
`,`  else {
`,`    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,1.0,0.0))); }
`,`  vec3 base2 = cross(orientVCVSOutput,base1);
`,`  EyePos = vec3(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,orientVCVSOutput));
`,`  EyeDir = vec3(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,orientVCVSOutput));
`,`  EyePos = EyePos/radiusVCVSOutput;
`,`  float a = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;
`,`  float b = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);
`,`  float c = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;
`,`  float d = b*b - 4.0*a*c;
`,`  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);
`,`  if (d < 0.0) { discard; }
`,`  else {
`,`    float t =  (-b - sqrt(d))/(2.0*a);
`,`    float tz = EyePos.z + t*EyeDir.z;
`,`    vec3 iPoint = EyePos + t*EyeDir;
`,`    if (abs(iPoint.z)*radiusVCVSOutput > lengthVCVSOutput*0.5) {
`,`      float t2 = (-b + sqrt(d))/(2.0*a);
`,`      float tz2 = EyePos.z + t2*EyeDir.z;
`,`      if (tz2*radiusVCVSOutput > lengthVCVSOutput*0.5 || tz*radiusVCVSOutput < -0.5*lengthVCVSOutput) { discard; }
`,`      else {
`,`        normalVCVSOutput = orientVCVSOutput;
`,`        float t3 = (lengthVCVSOutput*0.5/radiusVCVSOutput - EyePos.z)/EyeDir.z;
`,`        iPoint = EyePos + t3*EyeDir;
`,`        vertexVC.xyz = radiusVCVSOutput*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*orientVCVSOutput) + centerVCVSOutput;
`,`        }
`,`      }
`,`    else {
`,`      normalVCVSOutput = iPoint.x*base1 + iPoint.y*base2;
`,`      vertexVC.xyz = radiusVCVSOutput*(normalVCVSOutput + iPoint.z*orientVCVSOutput) + centerVCVSOutput;
`,`      }
`,`    }
`,`  vec4 pos = VCPCMatrix * vertexVC;
`,c]).result,s=Fe.substitute(s,"//VTK::Normal::Impl","").result,e.haveSeenDepthRequest&&(s=Fe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),r.Vertex=o,r.Fragment=s,n.replaceShaderValues(r,a,i)},t.setMapperShaderParameters=(r,a,i)=>{r.getCABO().getElementCount()&&(e.VBOBuildTime>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&(r.getProgram().isAttributeUsed("orientMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"orientMC",12,r.getCABO().getStride(),e.context.FLOAT,3,!1)||Ah("Error setting 'orientMC' in shader VAO.")),r.getProgram().isAttributeUsed("offsetMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO().getColorBO(),"offsetMC",0,r.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,3,!0)||Ah("Error setting 'offsetMC' in shader VAO.")),r.getProgram().isAttributeUsed("radiusMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"radiusMC",24,r.getCABO().getStride(),e.context.FLOAT,1,!1)||Ah("Error setting 'radiusMC' in shader VAO."))),n.setMapperShaderParameters(r,a,i)},t.setCameraShaderParameters=(r,a,i)=>{const o=r.getProgram(),s=a.getActiveCamera(),l=e.openGLCamera.getKeyMatrices(a);if(o.isUniformUsed("VCPCMatrix")&&o.setUniformMatrix("VCPCMatrix",l.vcpc),i.getIsIdentity())o.isUniformUsed("MCVCMatrix")&&o.setUniformMatrix("MCVCMatrix",l.wcvc),o.isUniformUsed("normalMatrix")&&o.setUniformMatrix3x3("normalMatrix",l.normalMatrix);else{const c=e.openGLActor.getKeyMatrices();if(o.isUniformUsed("MCVCMatrix")){const f=new Float64Array(16);Zn(f,l.wcvc,c.mcwc),o.setUniformMatrix("MCVCMatrix",f)}if(o.isUniformUsed("normalMatrix")){const f=new Float64Array(9);I1(f,l.normalMatrix,c.normalMatrix),o.setUniformMatrix3x3("normalMatrix",f)}}o.isUniformUsed("cameraParallel")&&r.getProgram().setUniformi("cameraParallel",s.getParallelProjection())},t.getOpenGLMode=(r,a)=>e.context.TRIANGLES,t.buildBufferObjects=(r,a)=>{const i=e.currentInput;if(i===null)return;e.renderable.mapScalars(i,1);const o=e.renderable.getColorMapColors(),s=e.primitives[e.primTypes.Tris].getCABO(),l=i.getPointData(),c=i.getPoints(),f=c.getNumberOfPoints(),u=c.getData();let d=3;d+=4;let g=null,v=0;s.setColorBOStride(4),s.getColorBO()||s.setColorBO(z0.newInstance()),s.getColorBO().setOpenGLRenderWindow(e._openGLRenderWindow),o&&(v=o.getNumberOfComponents(),s.setColorOffset(4),g=o.getData(),s.setColorBOStride(8)),s.setColorComponents(v),s.setStride(d*4);const m=new Float32Array(d*f*12),p=new Uint8Array(12*f*(g?8:4));let h=null,y=null;e.renderable.getScaleArray()!=null&&l.hasArray(e.renderable.getScaleArray())&&(h=l.getArray(e.renderable.getScaleArray()).getData()),e.renderable.getOrientationArray()!=null&&l.hasArray(e.renderable.getOrientationArray())?y=l.getArray(e.renderable.getOrientationArray()).getData():Ah([`Error setting orientationArray.
`,"You have to specify the stick orientation"]);const C=[0,1,3,0,3,2,2,3,5,2,5,4];let x=0,T=0,w=0,b=0;for(let E=0;E<f;++E){let O=e.renderable.getLength(),D=e.renderable.getRadius();h&&(O=h[E*2],D=h[E*2+1]);for(let R=0;R<C.length;++R)x=E*3,m[w++]=u[x++],m[w++]=u[x++],m[w++]=u[x++],x=E*3,m[w++]=y[x++]*O,m[w++]=y[x++]*O,m[w++]=y[x++]*O,m[w++]=D,p[b++]=255*(C[R]%2),p[b++]=C[R]>=4?255:0,p[b++]=C[R]>=2?255:0,p[b++]=255,T=E*v,g&&(p[b++]=g[T],p[b++]=g[T+1],p[b++]=g[T+2],p[b++]=g[T+3])}s.setElementCount(w/d),s.upload(m,X0.ARRAY_BUFFER),s.getColorBO().upload(p,X0.ARRAY_BUFFER),e.VBOBuildTime.modified()}}const QCe={};function kz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,QCe,n),iy.extend(t,e,n),KCe(t,e)}const Uz=Vr(kz,"vtkOpenGLStickMapper");var XCe={newInstance:Uz,extend:kz};di("vtkStickMapper",Uz);function YCe(t,e){e.classHierarchy.push("vtkOpenGLVolume"),t.buildPass=n=>{!e.renderable||!e.renderable.getVisibility()||n&&(e._openGLRenderWindow=t.getLastAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes())},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementVolumeCount()}},t.traverseVolumePass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children[0].traverse(n),t.apply(n,!1))},t.volumePass=n=>{!e.renderable||!e.renderable.getVisibility()||e.context.depthMask(!n)},t.getKeyMatrices=()=>(e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),Ea(e.MCWCMatrix,e.renderable.getMatrix()),tr(e.MCWCMatrix,e.MCWCMatrix),e.renderable.getIsIdentity()?$s(e.normalMatrix):(Y5(e.normalMatrix,e.MCWCMatrix),Ip(e.normalMatrix,e.normalMatrix),gw(e.normalMatrix,e.normalMatrix)),e.keyMatrixTime.modified()),{mcwc:e.MCWCMatrix,normalMatrix:e.normalMatrix})}const ZCe={};function Bz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ZCe,n),Va.extend(t,e,n),e.keyMatrixTime={},ea(e.keyMatrixTime,{mtime:0}),e.normalMatrix=new Float64Array(9),e.MCWCMatrix=new Float64Array(16),Ka(t,e,["context"]),YCe(t,e)}const Gz=Vr(Bz,"vtkOpenGLVolume");var JCe={newInstance:Gz,extend:Bz};di("vtkVolume",Gz);const X9={NEAREST:0,LINEAR:1,FAST_LINEAR:2},zz={FRACTIONAL:0,PROPORTIONAL:1},F2={CUSTOM:0,ADDITIVE:1,COLORIZE:2};var Wz={InterpolationType:X9,OpacityMode:zz,ColorMixPreset:F2},e6e=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;

varying vec3 vertexVCVSOutput;
uniform mat4 PCVCMatrix;

uniform float dcxmin;
uniform float dcxmax;
uniform float dcymin;
uniform float dcymax;

void main()
{
  // dcsmall is the device coords reduced to the
  // x y area covered by the volume
  vec4 dcsmall = vec4(
    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),
    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),
    vertexDC.z,
    vertexDC.w);
  vec4 vcpos = PCVCMatrix * dcsmall;
  vertexVCVSOutput = vcpos.xyz/vcpos.w;
  gl_Position = dcsmall;
}
`,t6e=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the volume mappers fragment shader

// the output of this shader
//VTK::Output::Dec

varying vec3 vertexVCVSOutput;

// first declare the settings from the mapper
// that impact the code paths in here

// always set vtkNumComponents 1,2,3,4
//VTK::NumComponents

// possibly define vtkTrilinearOn
//VTK::TrilinearOn

// possibly define UseIndependentComponents
//VTK::IndependentComponentsOn

// possibly define vtkCustomComponentsColorMix
//VTK::CustomComponentsColorMixOn

// possibly define any "proportional" components
//VTK::vtkProportionalComponents

// possibly define any components that are forced to nearest interpolation
//VTK::vtkForceNearestComponents

// Define the blend mode to use
#define vtkBlendMode //VTK::BlendMode

// Possibly define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

// Possibly define vtkLabelEdgeProjectionOn
//VTK::LabelEdgeProjectionOn


#ifdef vtkImageLabelOutlineOn
  uniform float outlineOpacity;
  uniform float vpWidth;
  uniform float vpHeight;
  uniform float vpOffsetX;
  uniform float vpOffsetY;
  uniform mat4 PCWCMatrix;
  uniform mat4 vWCtoIDX;

  const int MAX_SEGMENT_INDEX = 256; // Define as per expected maximum
  // bool seenSegmentsByOriginalPos[MAX_SEGMENT_INDEX];
  #define MAX_SEGMENTS 256
  #define UINT_SIZE 32
  #define BITMASK_SIZE ((MAX_SEGMENTS + UINT_SIZE - 1) / UINT_SIZE)

  uint bitmask[BITMASK_SIZE];

  // Set the corresponding bit in the bitmask
  void setBit(int segmentIndex) {
    int index = segmentIndex / UINT_SIZE;
    int bitIndex = segmentIndex % UINT_SIZE;
    bitmask[index] |= 1u << bitIndex;
  }

  // Check if a bit is set in the bitmask
  bool isBitSet(int segmentIndex) {
    int index = segmentIndex / UINT_SIZE;
    int bitIndex = segmentIndex % UINT_SIZE;
    return ((bitmask[index] & (1u << bitIndex)) != 0u);
  }
#endif

// define vtkLightComplexity
//VTK::LightComplexity
#if vtkLightComplexity > 0
uniform float vSpecularPower;
uniform float vAmbient;
uniform float vDiffuse;
uniform float vSpecular;
//VTK::Light::Dec
#endif

//VTK::VolumeShadowOn
//VTK::SurfaceShadowOn
//VTK::localAmbientOcclusionOn
//VTK::LAO::Dec
//VTK::VolumeShadow::Dec

// define vtkComputeNormalFromOpacity
//VTK::vtkComputeNormalFromOpacity

// possibly define vtkGradientOpacityOn
//VTK::GradientOpacityOn
#ifdef vtkGradientOpacityOn
uniform float goscale0;
uniform float goshift0;
uniform float gomin0;
uniform float gomax0;
#ifdef UseIndependentComponents
#if vtkNumComponents > 1
uniform float goscale1;
uniform float goshift1;
uniform float gomin1;
uniform float gomax1;
#if vtkNumComponents > 2
uniform float goscale2;
uniform float goshift2;
uniform float gomin2;
uniform float gomax2;
#if vtkNumComponents > 3
uniform float goscale3;
uniform float goshift3;
uniform float gomin3;
uniform float gomax3;
#endif
#endif
#endif
#endif
#endif

// if you want to see the raw tiled
// data in webgl1 uncomment the following line
// #define debugtile

// camera values
uniform float camThick;
uniform float camNear;
uniform float camFar;
uniform int cameraParallel;

// values describing the volume geometry
uniform vec3 vOriginVC;
uniform vec3 vSpacing;
uniform ivec3 volumeDimensions; // 3d texture dimensions
uniform vec3 vPlaneNormal0;
uniform float vPlaneDistance0;
uniform vec3 vPlaneNormal1;
uniform float vPlaneDistance1;
uniform vec3 vPlaneNormal2;
uniform float vPlaneDistance2;
uniform vec3 vPlaneNormal3;
uniform float vPlaneDistance3;
uniform vec3 vPlaneNormal4;
uniform float vPlaneDistance4;
uniform vec3 vPlaneNormal5;
uniform float vPlaneDistance5;

//VTK::ClipPlane::Dec

// opacity and color textures
uniform sampler2D otexture;
uniform float oshift0;
uniform float oscale0;
uniform sampler2D ctexture;
uniform float cshift0;
uniform float cscale0;

#if vtkNumComponents >= 2
uniform float oshift1;
uniform float oscale1;
uniform float cshift1;
uniform float cscale1;
#endif
#if vtkNumComponents >= 3
uniform float oshift2;
uniform float oscale2;
uniform float cshift2;
uniform float cscale2;
#endif
#if vtkNumComponents >= 4
uniform float oshift3;
uniform float oscale3;
uniform float cshift3;
uniform float cscale3;
#endif

// jitter texture
uniform sampler2D jtexture;
uniform sampler2D ttexture;


// some 3D texture values
uniform float sampleDistance;
uniform vec3 vVCToIJK;
uniform vec3 volumeSpacings; // spacing in the world coorindates


// the heights defined below are the locations
// for the up to four components of the tfuns
// the tfuns have a height of 2XnumComps pixels so the
// values are computed to hit the middle of the two rows
// for that component
#ifdef UseIndependentComponents
#if vtkNumComponents == 1
uniform float mix0;
#define height0 0.5
#endif
#if vtkNumComponents == 2
uniform float mix0;
uniform float mix1;
#define height0 0.25
#define height1 0.75
#endif
#if vtkNumComponents == 3
uniform float mix0;
uniform float mix1;
uniform float mix2;
#define height0 0.17
#define height1 0.5
#define height2 0.83
#endif
#if vtkNumComponents == 4
uniform float mix0;
uniform float mix1;
uniform float mix2;
uniform float mix3;
#define height0 0.125
#define height1 0.375
#define height2 0.625
#define height3 0.875
#endif
#endif

uniform vec4 ipScalarRangeMin;
uniform vec4 ipScalarRangeMax;

// declaration for intermixed geometry
//VTK::ZBuffer::Dec

//=======================================================================
// global and custom variables (a temporary section before photorealistics rendering module is complete)
vec3 rayDirVC;
float sampleDistanceISVS;
float sampleDistanceIS;

#define SQRT3    1.7321
#define INV4PI   0.0796
#define EPSILON  0.001
#define PI       3.1415
#define PI2      9.8696

//=======================================================================
// Webgl2 specific version of functions
#if __VERSION__ == 300

uniform highp sampler3D texture1;

vec4 getTextureValue(vec3 pos)
{
  vec4 tmp = texture(texture1, pos);

  #if defined(vtkComponent0ForceNearest) || \\
      defined(vtkComponent1ForceNearest) || \\
      defined(vtkComponent2ForceNearest) || \\
      defined(vtkComponent3ForceNearest)
    vec3 nearestPos = (floor(pos * vec3(volumeDimensions)) + 0.5) / vec3(volumeDimensions);
    vec4 nearestValue = texture(texture1, nearestPos);
    #ifdef vtkComponent0ForceNearest
      tmp[0] = nearestValue[0];
    #endif
    #ifdef vtkComponent1ForceNearest
      tmp[1] = nearestValue[1];
    #endif
    #ifdef vtkComponent2ForceNearest
      tmp[2] = nearestValue[2];
    #endif
    #ifdef vtkComponent3ForceNearest
      tmp[3] = nearestValue[3];
    #endif
  #endif

  #ifndef UseIndependentComponents
    #if vtkNumComponents == 1
      tmp.a = tmp.r;
    #endif
    #if vtkNumComponents == 2
      tmp.a = tmp.g;
    #endif
    #if vtkNumComponents == 3
      tmp.a = length(tmp.rgb);
    #endif
  #endif

  return tmp;
}

//=======================================================================
// WebGL1 specific version of functions
#else

uniform sampler2D texture1;

uniform float texWidth;
uniform float texHeight;
uniform int xreps;
uniform int xstride;
uniform int ystride;

// if computing trilinear values from multiple z slices
#ifdef vtkTrilinearOn
vec4 getTextureValue(vec3 ijk)
{
  float zoff = 1.0/float(volumeDimensions.z);
  vec4 val1 = getOneTextureValue(ijk);
  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));

  float indexZ = float(volumeDimensions)*ijk.z;
  float zmix =  indexZ - floor(indexZ);

  return mix(val1, val2, zmix);
}

vec4 getOneTextureValue(vec3 ijk)
#else // nearest or fast linear
vec4 getTextureValue(vec3 ijk)
#endif
{
  vec3 tdims = vec3(volumeDimensions);

#ifdef debugtile
  vec2 tpos = vec2(ijk.x, ijk.y);
  vec4 tmp = texture2D(texture1, tpos);
  tmp.a = 1.0;

#else
  int z = int(ijk.z * tdims.z);
  int yz = z / xreps;
  int xz = z - yz*xreps;

  int tileWidth = volumeDimensions.x/xstride;
  int tileHeight = volumeDimensions.y/ystride;

  xz *= tileWidth;
  yz *= tileHeight;

  float ni = float(xz) + (ijk.x*float(tileWidth));
  float nj = float(yz) + (ijk.y*float(tileHeight));

  vec2 tpos = vec2(ni/texWidth, nj/texHeight);

  vec4 tmp = texture2D(texture1, tpos);

#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.g = tmp.a;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
#endif

  return tmp;
}

// End of Webgl1 specific code
//=======================================================================
#endif

//=======================================================================
// transformation between VC and IS space

// convert vector position from idx to vc
#if (vtkLightComplexity > 0) || (defined vtkClippingPlanesOn)
vec3 IStoVC(vec3 posIS){
  vec3 posVC = posIS / vVCToIJK;
  return posVC.x * vPlaneNormal0 +
         posVC.y * vPlaneNormal2 +
         posVC.z * vPlaneNormal4 +
         vOriginVC;
}

// convert vector position from vc to idx
vec3 VCtoIS(vec3 posVC){
  posVC = posVC - vOriginVC;
  posVC = vec3(
    dot(posVC, vPlaneNormal0),
    dot(posVC, vPlaneNormal2),
    dot(posVC, vPlaneNormal4));
  return posVC * vVCToIJK;
}
#endif

//Rotate vector to view coordinate
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
void rotateToViewCoord(inout vec3 dirIS){
  dirIS.xyz =
    dirIS.x * vPlaneNormal0 +
    dirIS.y * vPlaneNormal2 +
    dirIS.z * vPlaneNormal4;
}

//Rotate vector to idx coordinate
vec3 rotateToIDX(vec3 dirVC){
  vec3 dirIS;
  dirIS.xyz = vec3(
    dot(dirVC, vPlaneNormal0),
    dot(dirVC, vPlaneNormal2),
    dot(dirVC, vPlaneNormal4));
  return dirIS;
}
#endif

//=======================================================================
// Given a normal compute the gradient opacity factors
float computeGradientOpacityFactor(
  float normalMag, float goscale, float goshift, float gomin, float gomax)
{
  return clamp(normalMag * goscale + goshift, gomin, gomax);
}

//=======================================================================
// compute the normal and gradient magnitude for a position, uses forward difference
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
  #ifdef vtkClippingPlanesOn
    void adjustClippedVoxelValues(vec3 pos, vec3 texPos[3], inout vec3 g1)
    {
      vec3 g1VC[3];
      for (int i = 0; i < 3; ++i)
      {
        g1VC[i] = IStoVC(texPos[i]);
      }
      vec3 posVC = IStoVC(pos);
      for (int i = 0; i < clip_numPlanes; ++i)
      {
        for (int j = 0; j < 3; ++j)
        {
          if(dot(vec3(vClipPlaneOrigins[i] - g1VC[j].xyz), vClipPlaneNormals[i]) > 0.0)
          {
            g1[j] = 0.0;
          }
        }
      }
    }
  #endif

  #ifdef vtkComputeNormalFromOpacity
    vec4 computeDensityNormal(vec3 opacityUCoords[2], float opactityTextureHeight, float gradientOpacity) {
      vec3 opacityG1, opacityG2;
      opacityG1.x = texture2D(otexture, vec2(opacityUCoords[0].x, opactityTextureHeight)).r;
      opacityG1.y = texture2D(otexture, vec2(opacityUCoords[0].y, opactityTextureHeight)).r;
      opacityG1.z = texture2D(otexture, vec2(opacityUCoords[0].z, opactityTextureHeight)).r;
      opacityG2.x = texture2D(otexture, vec2(opacityUCoords[1].x, opactityTextureHeight)).r;
      opacityG2.y = texture2D(otexture, vec2(opacityUCoords[1].y, opactityTextureHeight)).r;
      opacityG2.z = texture2D(otexture, vec2(opacityUCoords[1].z, opactityTextureHeight)).r;
      opacityG1.xyz *= gradientOpacity;
      opacityG2.xyz *= gradientOpacity;

      vec4 opacityG = vec4(opacityG1 - opacityG2, 1.0f);
      // divide by spacing
      opacityG.xyz /= vSpacing;
      opacityG.w = length(opacityG.xyz);
      // rotate to View Coords
      rotateToViewCoord(opacityG.xyz);
      if (!all(equal(opacityG.xyz, vec3(0.0)))) {
        return vec4(normalize(opacityG.xyz),opacityG.w);
      } else {
        return vec4(0.0);
      }
    }

    vec4 computeNormalForDensity(vec3 pos, vec3 tstep, out vec3 scalarInterp[2], const int opacityComponent)
    {
      vec3 xvec = vec3(tstep.x, 0.0, 0.0);
      vec3 yvec = vec3(0.0, tstep.y, 0.0);
      vec3 zvec = vec3(0.0, 0.0, tstep.z);
      vec3 texPosPVec[3];
      texPosPVec[0] = pos + xvec;
      texPosPVec[1] = pos + yvec;
      texPosPVec[2] = pos + zvec;
      vec3 texPosNVec[3];
      texPosNVec[0] = pos - xvec;
      texPosNVec[1] = pos - yvec;
      texPosNVec[2] = pos - zvec;
      vec3 g1, g2;

      scalarInterp[0].x = getTextureValue(texPosPVec[0])[opacityComponent];
      scalarInterp[0].y = getTextureValue(texPosPVec[1])[opacityComponent];
      scalarInterp[0].z = getTextureValue(texPosPVec[2])[opacityComponent];
      scalarInterp[1].x = getTextureValue(texPosNVec[0])[opacityComponent];
      scalarInterp[1].y = getTextureValue(texPosNVec[1])[opacityComponent];
      scalarInterp[1].z = getTextureValue(texPosNVec[2])[opacityComponent];

      #ifdef vtkClippingPlanesOn
        adjustClippedVoxelValues(pos, texPosPVec, scalarInterp[0]);
        adjustClippedVoxelValues(pos, texPosNVec, scalarInterp[1]);
      #endif
      vec4 result;
      result.x = scalarInterp[0].x - scalarInterp[1].x;
      result.y = scalarInterp[0].y - scalarInterp[1].y;
      result.z = scalarInterp[0].z - scalarInterp[1].z;
      // divide by spacing
      result.xyz /= vSpacing;
      result.w = length(result.xyz);
      // rotate to View Coords
      rotateToViewCoord(result.xyz);
      if (length(result.xyz) > 0.0) {
        return vec4(normalize(result.xyz),result.w);
      } else {
        return vec4(0.0);
      }
    }
  #endif

  // only works with dependent components
  vec4 computeNormal(vec3 pos, vec3 tstep)
  {
    vec3 xvec = vec3(tstep.x, 0.0, 0.0);
    vec3 yvec = vec3(0.0, tstep.y, 0.0);
    vec3 zvec = vec3(0.0, 0.0, tstep.z);
    vec3 texPosPVec[3];
    texPosPVec[0] = pos + xvec;
    texPosPVec[1] = pos + yvec;
    texPosPVec[2] = pos + zvec;
    vec3 texPosNVec[3];
    texPosNVec[0] = pos - xvec;
    texPosNVec[1] = pos - yvec;
    texPosNVec[2] = pos - zvec;
    vec3 g1, g2;
    g1.x = getTextureValue(texPosPVec[0]).a;
    g1.y = getTextureValue(texPosPVec[1]).a;
    g1.z = getTextureValue(texPosPVec[2]).a;
    g2.x = getTextureValue(texPosNVec[0]).a;
    g2.y = getTextureValue(texPosNVec[1]).a;
    g2.z = getTextureValue(texPosNVec[2]).a;
    #ifdef vtkClippingPlanesOn
      adjustClippedVoxelValues(pos, texPosPVec, g1);
      adjustClippedVoxelValues(pos, texPosNVec, g2);
    #endif
    vec4 result;
    result = vec4(g1 - g2, -1.0);
    // divide by spacing
    result.xyz /= vSpacing;
    result.w = length(result.xyz);
    if (result.w > 0.0){
      // rotate to View Coords
      rotateToViewCoord(result.xyz);
      return vec4(normalize(result.xyz),result.w);
    } else {
      return vec4(0.0);
    }
  }
#endif


#ifdef vtkImageLabelOutlineOn
  vec4 fragCoordToPCPos(vec4 fragCoord) {
    return vec4(
      (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,
      (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,
      (fragCoord.z - 0.5) * 2.0,
      1.0);
  }

  vec4 pcPosToWorldCoord(vec4 pcPos) {
    return PCWCMatrix * pcPos;
  }

  vec3 fragCoordToIndexSpace(vec4 fragCoord) {
    vec4 pcPos = fragCoordToPCPos(fragCoord);
    vec4 worldCoord = pcPosToWorldCoord(pcPos);
    vec4 vertex = (worldCoord / worldCoord.w);

    vec3 index = (vWCtoIDX * vertex).xyz;

    // half voxel fix for labelmapOutline
    return (index + vec3(0.5)) / vec3(volumeDimensions);
  }

  vec3 fragCoordToWorld(vec4 fragCoord) {
    vec4 pcPos = fragCoordToPCPos(fragCoord);
    vec4 worldCoord = pcPosToWorldCoord(pcPos);
    return worldCoord.xyz;
  }
#endif

//=======================================================================
// compute the normals and gradient magnitudes for a position
// for independent components
mat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)
{
  mat4 result;
  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;
  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;
  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;

  // divide by spacing
  distX /= vSpacing.x;
  distY /= vSpacing.y;
  distZ /= vSpacing.z;

  mat3 rot;
  rot[0] = vPlaneNormal0;
  rot[1] = vPlaneNormal2;
  rot[2] = vPlaneNormal4;

#if !defined(vtkComponent0Proportional)
  result[0].xyz = vec3(distX.r, distY.r, distZ.r);
  result[0].a = length(result[0].xyz);
  result[0].xyz *= rot;
  if (result[0].w > 0.0)
  {
    result[0].xyz /= result[0].w;
  }
#endif

// optionally compute the 2nd component
#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)
  result[1].xyz = vec3(distX.g, distY.g, distZ.g);
  result[1].a = length(result[1].xyz);
  result[1].xyz *= rot;
  if (result[1].w > 0.0)
  {
    result[1].xyz /= result[1].w;
  }
#endif

// optionally compute the 3rd component
#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)
  result[2].xyz = vec3(distX.b, distY.b, distZ.b);
  result[2].a = length(result[2].xyz);
  result[2].xyz *= rot;
  if (result[2].w > 0.0)
  {
    result[2].xyz /= result[2].w;
  }
#endif

// optionally compute the 4th component
#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)
  result[3].xyz = vec3(distX.a, distY.a, distZ.a);
  result[3].a = length(result[3].xyz);
  result[3].xyz *= rot;
  if (result[3].w > 0.0)
  {
    result[3].xyz /= result[3].w;
  }
#endif

  return result;
}

//=======================================================================
// global shadow - secondary ray
#if defined(VolumeShadowOn) || defined(localAmbientOcclusionOn)
float random()
{
  float rand = fract(sin(dot(gl_FragCoord.xy,vec2(12.9898,78.233)))*43758.5453123);
  float jitter=texture2D(jtexture,gl_FragCoord.xy/32.).r;
  uint pcg_state = floatBitsToUint(jitter);
  uint state = pcg_state;
  pcg_state = pcg_state * uint(747796405) + uint(2891336453);
  uint word = ((state >> ((state >> uint(28)) + uint(4))) ^ state) * uint(277803737);
  return (float((((word >> uint(22)) ^ word) >> 1 ))/float(2147483647) + rand)/2.0;
}
#endif

#ifdef VolumeShadowOn
// henyey greenstein phase function
float phase_function(float cos_angle)
{
  // divide by 2.0 instead of 4pi to increase intensity
  return ((1.0-anisotropy2)/pow(1.0+anisotropy2-2.0*anisotropy*cos_angle, 1.5))/2.0;
}

// Computes the intersection between a ray and a box
struct Hit
{
  float tmin;
  float tmax;
};

struct Ray
{
  vec3 origin;
  vec3 dir;
  vec3 invDir;
};

bool BBoxIntersect(vec3 boundMin, vec3 boundMax, const Ray r, out Hit hit)
{
  vec3 tbot = r.invDir * (boundMin - r.origin);
  vec3 ttop = r.invDir * (boundMax - r.origin);
  vec3 tmin = min(ttop, tbot);
  vec3 tmax = max(ttop, tbot);
  vec2 t = max(tmin.xx, tmin.yz);
  float t0 = max(t.x, t.y);
  t = min(tmax.xx, tmax.yz);
  float t1 = min(t.x, t.y);
  hit.tmin = t0;
  hit.tmax = t1;
  return t1 > max(t0,0.0);
}

// As BBoxIntersect requires the inverse of the ray coords,
// this function is used to avoid numerical issues
void safe_0_vector(inout Ray ray)
{
  if(abs(ray.dir.x) < EPSILON) ray.dir.x = sign(ray.dir.x) * EPSILON;
  if(abs(ray.dir.y) < EPSILON) ray.dir.y = sign(ray.dir.y) * EPSILON;
  if(abs(ray.dir.z) < EPSILON) ray.dir.z = sign(ray.dir.z) * EPSILON;
}

float volume_shadow(vec3 posIS, vec3 lightDirNormIS)
{
  float shadow = 1.0;
  float opacity = 0.0;

  // modify sample distance with a random number between 1.5 and 3.0
  float sampleDistanceISVS_jitter = sampleDistanceISVS * mix(1.5, 3.0, random());
  float opacityPrev = texture2D(otexture, vec2(getTextureValue(posIS).r * oscale0 + oshift0, 0.5)).r;

  // in case the first sample near surface has a very tiled light ray, we need to offset start position
  posIS += sampleDistanceISVS_jitter * lightDirNormIS;

  // compute the start and end points for the ray
  Ray ray;
  Hit hit;
  ray.origin = posIS;
  ray.dir = lightDirNormIS;
  safe_0_vector(ray);
  ray.invDir = 1.0/ray.dir;

  if(!BBoxIntersect(vec3(0.0),vec3(1.0), ray, hit))
  {
    return 1.0;
  }
  float maxdist = hit.tmax;

  // interpolate shadow ray length between: 1 unit of sample distance in IS to SQRT3, based on globalIlluminationReach
  float maxgi = mix(sampleDistanceISVS_jitter,SQRT3,giReach);
  maxdist = min(maxdist,maxgi);
  if(maxdist < EPSILON) {
    return 1.0;
  }

  float current_dist = 0.0;
  float current_step = length(sampleDistanceISVS_jitter * lightDirNormIS);
  float clamped_step = 0.0;

  vec4 scalar = vec4(0.0);
  while(current_dist < maxdist)
  {
#ifdef vtkClippingPlanesOn
    vec3 posVC = IStoVC(posIS);
    for (int i = 0; i < clip_numPlanes; ++i)
    {
      if (dot(vec3(vClipPlaneOrigins[i] - posVC), vClipPlaneNormals[i]) > 0.0)
      {
        current_dist = maxdist;
      }
    }
#endif
    scalar = getTextureValue(posIS);
    opacity = texture2D(otexture, vec2(scalar.r * oscale0 + oshift0, 0.5)).r;
    #if defined(vtkGradientOpacityOn) && !defined(UseIndependentComponents)
      vec4 normal = computeNormal(posIS, vec3(1.0/vec3(volumeDimensions)));
      opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);
    #endif
    shadow *= 1.0 - opacity;

    // optimization: early termination
    if (shadow < EPSILON){
      return 0.0;
    }

    clamped_step = min(maxdist - current_dist, current_step);
    posIS += clamped_step * lightDirNormIS;
    current_dist += current_step;
  }

  return shadow;
}

vec3 applyShadowRay(vec3 tColor, vec3 posIS, vec3 viewDirectionVC)
{
  vec3 vertLight = vec3(0.0);
  vec3 secondary_contrib = vec3(0.0);
  // here we assume only positional light, no effect of cones
  for (int i = 0; i < lightNum; i++)
  {
    #if(vtkLightComplexity==3)
      if (lightPositional[i] == 1){
        vertLight = lightPositionVC[i] - IStoVC(posIS);
      }else{
        vertLight = - lightDirectionVC[i];
      }
    #else
      vertLight = - lightDirectionVC[i];
    #endif
    // here we assume achromatic light, only intensity
    float dDotL = dot(viewDirectionVC, normalize(vertLight));
    // isotropic scatter returns 0.5 instead of 1/4pi to increase intensity
    float phase_attenuation = 0.5;
    if (abs(anisotropy) > EPSILON){
      phase_attenuation = phase_function(dDotL);
    }
    float vol_shadow = volume_shadow(posIS, normalize(rotateToIDX(vertLight)));
    secondary_contrib += tColor * vDiffuse * lightColor[i] * vol_shadow * phase_attenuation;
    secondary_contrib += tColor * vAmbient;
  }
  return secondary_contrib;
}
#endif

//=======================================================================
// local ambient occlusion
#ifdef localAmbientOcclusionOn
vec3 sample_direction_uniform(int i)
{
  float rand = random() * 0.5;
  float theta = PI2 * (kernelSample[i][0] + rand);
  float phi = acos(2.0 * (kernelSample[i][1] + rand) -1.0) / 2.5;
  return normalize(vec3(cos(theta)*sin(phi), sin(theta)*sin(phi), cos(phi)));
}

// return a matrix that transform startDir into z axis; startDir should be normalized
mat3 zBaseRotationalMatrix(vec3 startDir){
  vec3 axis = cross(startDir, vec3(0.0,0.0,1.0));
  float cosA = startDir.z;
  float k = 1.0 / (1.0 + cosA);
  mat3 matrix = mat3((axis.x * axis.x * k) + cosA, (axis.y * axis.x * k) - axis.z, (axis.z * axis.x * k) + axis.y,
              (axis.x * axis.y * k) + axis.z, (axis.y * axis.y * k) + cosA, (axis.z * axis.y * k) - axis.x,
              (axis.x * axis.z * k) - axis.y, (axis.y * axis.z * k) + axis.x, (axis.z * axis.z * k) + cosA);
  return matrix;
}

float computeLAO(vec3 posIS, float op, vec3 lightDir, vec4 normal){
  // apply LAO only at selected locations, otherwise return full brightness
  if (normal.w > 0.0 && op > 0.05){
    float total_transmittance = 0.0;
    mat3 inverseRotateBasis = inverse(zBaseRotationalMatrix(normalize(-normal.xyz)));
    vec3 currPos, randomDirStep;
    float weight, transmittance, opacity;
    for (int i = 0; i < kernelSize; i++)
    {
      randomDirStep = inverseRotateBasis * sample_direction_uniform(i) * sampleDistanceIS;
      weight = 1.0 - dot(normalize(lightDir), normalize(randomDirStep));
      currPos = posIS;
      transmittance = 1.0;
      for (int j = 0; j < kernelRadius ; j++){
        currPos += randomDirStep;
        // check if it's at clipping plane, if so return full brightness
        if (all(greaterThan(currPos, vec3(EPSILON))) && all(lessThan(currPos,vec3(1.0-EPSILON)))){
          opacity = texture2D(otexture, vec2(getTextureValue(currPos).r * oscale0 + oshift0, 0.5)).r;
          #ifdef vtkGradientOpacityOn
             opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);
          #endif
          transmittance *= 1.0 - opacity;
        }
        else{
          break;
        }
      }
      total_transmittance += transmittance / float(kernelRadius) * weight;

      // early termination if fully translucent
      if (total_transmittance > 1.0 - EPSILON){
        return 1.0;
      }
    }
    // average transmittance and reduce variance
    return clamp(total_transmittance / float(kernelSize), 0.3, 1.0);
  } else {
    return 1.0;
  }
}
#endif

//=======================================================================
// surface light contribution
#if vtkLightComplexity > 0
  void applyLighting(inout vec3 tColor, vec4 normal)
  {
    vec3 diffuse = vec3(0.0, 0.0, 0.0);
    vec3 specular = vec3(0.0, 0.0, 0.0);
    float df, sf = 0.0;
    for (int i = 0; i < lightNum; i++){
        df = abs(dot(normal.rgb, -lightDirectionVC[i]));
        diffuse += df * lightColor[i];
        sf = pow( abs(dot(lightHalfAngleVC[i],normal.rgb)), vSpecularPower);
        specular += sf * lightColor[i];
    }
    tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;
  }
  #ifdef SurfaceShadowOn
  #if vtkLightComplexity < 3
    vec3 applyLightingDirectional(vec3 posIS, vec4 tColor, vec4 normal)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      #ifdef localAmbientOcclusionOn
        vec3 ambient = vec3(0.0);
      #endif
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float ndotL,vdotR;
        vertLightDirection = lightDirectionVC[i];
        ndotL = dot(normal.xyz, vertLightDirection);
        if (ndotL < 0.0 && twoSidedLighting)
        {
          ndotL = -ndotL;
        }
        if (ndotL > 0.0)
        {
          diffuse += ndotL * lightColor[i];
          //specular
          vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
          if (vdotR > 0.0)
          {
            specular += pow(vdotR, vSpecularPower) * lightColor[i];
          }
        }
        #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
        #endif
      }
      #ifdef localAmbientOcclusionOn
        return tColor.rgb * (diffuse * vDiffuse + vAmbient * ambient) + specular*vSpecular;
      #else
        return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;
      #endif
    }
  #else
    vec3 applyLightingPositional(vec3 posIS, vec4 tColor, vec4 normal, vec3 posVC)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      #ifdef localAmbientOcclusionOn
        vec3 ambient = vec3(0.0);
      #endif
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float distance,attenuation,ndotL,vdotR;
        vec3 lightDir;
        if (lightPositional[i] == 1){
          lightDir = lightDirectionVC[i];
          vertLightDirection = posVC - lightPositionVC[i];
          distance = length(vertLightDirection);
          vertLightDirection = normalize(vertLightDirection);
          attenuation = 1.0 / (lightAttenuation[i].x
                              + lightAttenuation[i].y * distance
                              + lightAttenuation[i].z * distance * distance);
          // per OpenGL standard cone angle is 90 or less for a spot light
          if (lightConeAngle[i] <= 90.0){
            float coneDot = dot(vertLightDirection, lightDir);
            if (coneDot >= cos(radians(lightConeAngle[i]))){  // if inside cone
              attenuation = attenuation * pow(coneDot, lightExponent[i]);
            }
            else {
              attenuation = 0.0;
            }
          }
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * attenuation * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * attenuation * lightColor[i];
            }
          }
          #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
          #endif
        } else {
          vertLightDirection = lightDirectionVC[i];
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * lightColor[i];
            }
          }
          #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
          #endif
        }
      }
      #ifdef localAmbientOcclusionOn
        return tColor.rgb * (diffuse * vDiffuse + vAmbient * ambient) + specular*vSpecular;
      #else
        return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;
      #endif
    }
  #endif
  #endif
#endif

// LAO of surface shadows and volume shadows only work with dependent components
vec3 applyAllLightning(vec3 tColor, float alpha, vec3 posIS, vec4 normalLight) {
  #if vtkLightComplexity > 0
    // surface shadows if needed
    #ifdef SurfaceShadowOn
      #if vtkLightComplexity < 3
        vec3 tColorS = applyLightingDirectional(posIS, vec4(tColor, alpha), normalLight);
      #else
        vec3 tColorS = applyLightingPositional(posIS, vec4(tColor, alpha), normalLight, IStoVC(posIS));
      #endif
    #endif

    // volume shadows if needed
    #ifdef VolumeShadowOn
      vec3 tColorVS = applyShadowRay(tColor, posIS, rayDirVC);
    #endif

    // merge
    #ifdef VolumeShadowOn
      #ifdef SurfaceShadowOn
        // surface shadows + volumetric shadows
        float vol_coef = volumetricScatteringBlending * (1.0 - alpha / 2.0) * (1.0 - atan(normalLight.w) * INV4PI);
        tColor = (1.0-vol_coef) * tColorS + vol_coef * tColorVS;
      #else
        // volumetric shadows only
        tColor = tColorVS;
      #endif
    #else
      #ifdef SurfaceShadowOn
        // surface shadows only
        tColor = tColorS;
      #else
        // no shadows
        applyLighting(tColor, normal3);
      #endif
    #endif
  #endif
  return tColor;
}

  
vec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)
{

// If labeloutline and not the edge labelmap, since in the edge labelmap blend
// we need the underlying data to sample through
#if defined(vtkImageLabelOutlineOn) && !defined(vtkLabelEdgeProjectionOn)
  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space
  vec4 centerValue = getTextureValue(centerPosIS);
  bool pixelOnBorder = false;
  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));

  // Get alpha of segment from opacity function.
  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;

  int segmentIndex = int(centerValue.r * 255.0);
  
  // Use texture sampling for outlineThickness
  float textureCoordinate = float(segmentIndex - 1) / 1024.0;
  float textureValue = texture2D(ttexture, vec2(textureCoordinate, 0.5)).r;

  int actualThickness = int(textureValue * 255.0);


  // If it is the background (segment index 0), we should quickly bail out. 
  // Previously, this was determined by tColor.a, which was incorrect as it
  // prevented the outline from appearing when the fill is 0.
  if (segmentIndex == 0){
    return vec4(0, 0, 0, 0);
  }

  // Only perform outline check on fragments rendering voxels that aren't invisible.
  // Saves a bunch of needless checks on the background.
  // TODO define epsilon when building shader?
  for (int i = -actualThickness; i <= actualThickness; i++) {
    for (int j = -actualThickness; j <= actualThickness; j++) {
      if (i == 0 || j == 0) {
        continue;
      }

      vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
        gl_FragCoord.y + float(j),
        gl_FragCoord.z, gl_FragCoord.w);

      vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
      vec4 value = getTextureValue(neighborPosIS);

      // If any of my neighbours are not the same value as I
      // am, this means I am on the border of the segment.
      // We can break the loops
      if (any(notEqual(value, centerValue))) {
        pixelOnBorder = true;
        break;
      }
    }

    if (pixelOnBorder == true) {
      break;
    }
  }

  // If I am on the border, I am displayed at full opacity
  if (pixelOnBorder == true) {
    tColor.a = outlineOpacity;
  }

  return tColor;

#else
  // compute the normal and gradient magnitude if needed
  // We compute it as a vec4 if possible otherwise a mat4

  #ifdef UseIndependentComponents

    // sample textures
    vec3 tColor0 = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0)).rgb;
    float pwfValue0 = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;

    #if vtkNumComponents > 1
      vec3 tColor1 = texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;
      float pwfValue1 = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;

      #if vtkNumComponents > 2
        vec3 tColor2 = texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;
        float pwfValue2 = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;

        #if vtkNumComponents > 3
          vec3 tColor3 = texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;
          float pwfValue3 = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
        #endif
      #endif
    #endif

    #if !defined(vtkCustomComponentsColorMix)
      // default path for component color mix

      // compute the normal vectors as needed
      #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)
        mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
      #endif

      // compute gradient opacity factors as needed
      vec4 goFactor = vec4(1.0, 1.0 ,1.0 ,1.0);
      #if defined(vtkGradientOpacityOn)
        #if !defined(vtkComponent0Proportional)
          goFactor.x =
            computeGradientOpacityFactor(normalMat[0].a, goscale0, goshift0, gomin0, gomax0);
        #endif
        #if vtkNumComponents > 1
          #if !defined(vtkComponent1Proportional)
            goFactor.y =
              computeGradientOpacityFactor(normalMat[1].a, goscale1, goshift1, gomin1, gomax1);
          #endif
          #if vtkNumComponents > 2
            #if !defined(vtkComponent2Proportional)
              goFactor.z =
                computeGradientOpacityFactor(normalMat[2].a, goscale2, goshift2, gomin2, gomax2);
            #endif
            #if vtkNumComponents > 3
              #if !defined(vtkComponent3Proportional)
                goFactor.w =
                  computeGradientOpacityFactor(normalMat[3].a, goscale3, goshift3, gomin3, gomax3);
              #endif
            #endif
          #endif
        #endif
      #endif

      // process color and opacity for each component
      #if !defined(vtkComponent0Proportional)
        float alpha = goFactor.x*mix0*pwfValue0;
        #if vtkLightComplexity > 0
          applyLighting(tColor0, normalMat[0]);
        #endif
      #else
        tColor0 *= pwfValue0;
        float alpha = mix(pwfValue0, 1.0, (1.0 - mix0));
      #endif

      #if vtkNumComponents > 1
        #if !defined(vtkComponent1Proportional)
          alpha += goFactor.y*mix1*pwfValue1;
          #if vtkLightComplexity > 0
            applyLighting(tColor1, normalMat[1]);
          #endif
        #else
          tColor1 *= pwfValue1;
          alpha *= mix(pwfValue1, 1.0, (1.0 - mix1));
        #endif

        #if vtkNumComponents > 2
          #if !defined(vtkComponent2Proportional)
            alpha += goFactor.z*mix2*pwfValue2;
            #if vtkLightComplexity > 0
              applyLighting(tColor2, normalMat[2]);
            #endif
          #else
            tColor2 *= pwfValue2;
            alpha *= mix(pwfValue2, 1.0, (1.0 - mix2));
          #endif
        #endif

        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            alpha += goFactor.w*mix3*pwfValue3;
            #if vtkLightComplexity > 0
              applyLighting(tColor3, normalMat[3]);
            #endif
          #else
            tColor3 *= pwfValue3;
            alpha *= mix(pwfValue3, 1.0, (1.0 - mix3));
          #endif
        #endif
      #endif

      // perform final independent blend
      vec3 tColor = mix0 * tColor0;
      #if vtkNumComponents > 1
        tColor += mix1 * tColor1;
        #if vtkNumComponents > 2
          tColor += mix2 * tColor2;
          #if vtkNumComponents > 3
            tColor += mix3 * tColor3;
          #endif
        #endif
      #endif

      return vec4(tColor, alpha);
    #else
      /*
       * Mix the color information from all the independent components to get a single rgba output
       * Gradient opactity factors and normals are not computed
       *
       * You can compute these using:
       * - computeMat4Normal: always available, compute normal only for non proportional components, used by default independent component mix
       * - computeDensityNormal & computeNormalForDensity: available if ((LightComplexity > 0) || GradientOpacityOn) && ComputeNormalFromOpacity),
       *                                                   used by dependent component color mix, see code for Additive preset in OpenGl/VolumeMapper
       * - computeGradientOpacityFactor: always available, used in a lot of places
       *
       * Using applyAllLightning() is advised for shading but some features don't work well with it (volume shadows, LAO)
       * mix0, mix1, ... are defined for each component that is used and correspond to the componentWeight
       */
      //VTK::CustomComponentsColorMix::Impl
    #endif
  #else
    // dependent components

    // compute normal if needed
    #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)
      // use component 3 of the opacity texture as getTextureValue() sets alpha to the opacity value
      #ifdef vtkComputeNormalFromOpacity
        vec3 scalarInterp[2];
        vec4 normal0 = computeNormalForDensity(posIS, tstep, scalarInterp, 3);
      #else
        vec4 normal0 = computeNormal(posIS, tstep);
      #endif
    #endif

    // compute gradient opacity factor enabled
    #if defined(vtkGradientOpacityOn)
      float gradientOpacity = computeGradientOpacityFactor(normal0.a, goscale0, goshift0, gomin0, gomax0);
    #else
      const float gradientOpacity = 1.0;
    #endif

    // get color and opacity
    #if vtkNumComponents == 1
      vec3 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5)).rgb;
      float alpha = gradientOpacity*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
      if (alpha < EPSILON){
        return vec4(0.0);
      }
    #endif
    #if vtkNumComponents == 2
      vec3 tColor = vec3(tValue.r * cscale0 + cshift0);
      float alpha = gradientOpacity*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;
    #endif
    #if vtkNumComponents == 3
      vec3 tColor;
      tColor.r = tValue.r * cscale0 + cshift0;
      tColor.g = tValue.g * cscale1 + cshift1;
      tColor.b = tValue.b * cscale2 + cshift2;
      float alpha = gradientOpacity*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;
    #endif
    #if vtkNumComponents == 4
      vec3 tColor;
      tColor.r = tValue.r * cscale0 + cshift0;
      tColor.g = tValue.g * cscale1 + cshift1;
      tColor.b = tValue.b * cscale2 + cshift2;
      float alpha = gradientOpacity*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;
    #endif

    // lighting
    #if (vtkLightComplexity > 0)
      #ifdef vtkComputeNormalFromOpacity
        vec4 normalLight;
        if (!all(equal(normal0, vec4(0.0)))) {
          scalarInterp[0] = scalarInterp[0] * oscale0 + oshift0;
          scalarInterp[1] = scalarInterp[1] * oscale0 + oshift0;
          normalLight = computeDensityNormal(scalarInterp, 0.5, gradientOpacity);
          if (all(equal(normalLight, vec4(0.0)))) {
            normalLight = normal0;
          }
        }
      #else
        vec4 normalLight = normal0;
      #endif
      tColor = applyAllLightning(tColor, alpha, posIS, normalLight);
    #endif

    return vec4(tColor, alpha);
  #endif // dependent
#endif
}

bool valueWithinScalarRange(vec4 val, vec4 min, vec4 max) {
  bool withinRange = false;
  #if vtkNumComponents == 1
    if (val.r >= min.r && val.r <= max.r) {
      withinRange = true;
    }
  #else
    #ifdef UseIndependentComponents
      #if vtkNumComponents == 2
        if (val.r >= min.r && val.r <= max.r &&
            val.g >= min.g && val.g <= max.g) {
          withinRange = true;
        }
      #else
        if (all(greaterThanEqual(val, ipScalarRangeMin)) &&
            all(lessThanEqual(val, ipScalarRangeMax))) {
          withinRange = true;
        }
      #endif
    #endif
  #endif
  return withinRange;
}

#if vtkBlendMode == 6 
bool checkOnEdgeForNeighbor(int i, int j, int s, vec3 stepIS) {
    vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i), gl_FragCoord.y + float(j), gl_FragCoord.z, gl_FragCoord.w);
    vec3 originalNeighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);

    bool justSawIt = false;

    vec3 neighborPosIS = originalNeighborPosIS;

    float stepsTraveled = 0.0;


    // float neighborValue;
    for (int k = 0; k < //VTK::MaximumSamplesValue /2 ; ++k) {
        ivec3 texCoord = ivec3(neighborPosIS * vec3(volumeDimensions));
        vec4 texValue = texelFetch(texture1, texCoord, 0);

        if (int(texValue.g) == s) {
            justSawIt = true;
            break;
        }
        neighborPosIS += stepIS;
    }

    if (justSawIt){
      return false;
    }

   
    neighborPosIS = originalNeighborPosIS;
    for (int k = 0; k < //VTK::MaximumSamplesValue /2 ; ++k) {
        ivec3 texCoord = ivec3(neighborPosIS * vec3(volumeDimensions));
        vec4 texValue = texelFetch(texture1, texCoord, 0);

        if (int(texValue.g) == s) {
            justSawIt = true;
            break;
        }
        neighborPosIS -= stepIS;
    }


    if (!justSawIt) {
        // onedge
        vec3 tColorSegment = texture2D(ctexture, vec2(float(s) * cscale1 + cshift1, height1)).rgb;
        float pwfValueSegment = texture2D(otexture, vec2(float(s) * oscale1 + oshift1, height1)).r;
        gl_FragData[0] = vec4(tColorSegment, pwfValueSegment);
        return true;
    }

    // not on edge
    return false;
}

#endif


//=======================================================================
// Apply the specified blend mode operation along the ray's path.
//
void applyBlend(vec3 posIS, vec3 endIS, vec3 tdims)
{
  vec3 tstep = 1.0/tdims;

  // start slightly inside and apply some jitter
  vec3 delta = endIS - posIS;
  vec3 stepIS = normalize(delta)*sampleDistanceIS;
  float raySteps = length(delta)/sampleDistanceIS;

  // Initialize arrays to false
  // avoid 0.0 jitter
  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;
  float stepsTraveled = jitter;

  // local vars for the loop
  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 tValue;
  vec4 tColor;

  // if we have less than one step then pick the middle point
  // as our value
  // if (raySteps <= 1.0)
  // {
  //   posIS = (posIS + endIS)*0.5;
  // }

  // Perform initial step at the volume boundary
  // compute the scalar
  tValue = getTextureValue(posIS);
  
  #if vtkBlendMode == 6 
    if (raySteps <= 1.0)
    {
      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);
      return;
    }

    vec4 value = tValue;
    posIS += (jitter*stepIS);
    vec3 maxPosIS = posIS; // Store the position of the max value
    int segmentIndex = int(value.g);
    bool originalPosHasSeenNonZero = false;

    uint bitmask = 0u;

    if (segmentIndex != 0) {
      // Tried using the segment index in an boolean array but reading 
      // from the array by dynamic indexing was horrondously slow
      // so use bit masking instead and assign 1 to the bit corresponding to the segment index
      // and later check if the bit is set via bit operations
      setBit(segmentIndex);
    }
    
    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);
      segmentIndex = int(tValue.g);

      if (segmentIndex != 0) {
        originalPosHasSeenNonZero = true;
        setBit(segmentIndex);
      }

      if (tValue.r > value.r) {
        value =  tValue; // Update the max value
        maxPosIS = posIS; // Update the position where max occurred
      }

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;
    tValue = getTextureValue(posIS);

    if (tValue.r > value.r) {
      value = tValue; // Update the max value
      maxPosIS = posIS; // Update the position where max occurred
    }  

    // If we have not seen any non-zero segments, we can return early
    // and grab color from the actual center value first component (image)
    if (!originalPosHasSeenNonZero) {
      gl_FragData[0] = getColorForValue(value, maxPosIS, tstep);
      return;
    }

    // probably we can make this configurable but for now we will use the same
    // sample distance as the original sample distance
    float neighborSampleDistanceIS = sampleDistanceIS;

    vec3 neighborRayStepsIS = stepIS;
    float neighborRaySteps = raySteps;
    bool shouldLookInAllNeighbors = false;

    float minVoxelSpacing = min(volumeSpacings[0], min(volumeSpacings[1], volumeSpacings[2]));
    vec4 base = vec4(gl_FragCoord.x, gl_FragCoord.y, gl_FragCoord.z, gl_FragCoord.w);

    vec4 baseXPlus = vec4(gl_FragCoord.x + 1.0, gl_FragCoord.y, gl_FragCoord.z, gl_FragCoord.w);
    vec4 baseYPlus = vec4(gl_FragCoord.x, gl_FragCoord.y + 1.0, gl_FragCoord.z, gl_FragCoord.w);

    vec3 baseWorld = fragCoordToWorld(base);
    vec3 baseXPlusWorld = fragCoordToWorld(baseXPlus);
    vec3 baseYPlusWorld = fragCoordToWorld(baseYPlus);

    float XPlusDiff = length(baseXPlusWorld - baseWorld);
    float YPlusDiff = length(baseYPlusWorld - baseWorld);

    float minFragSpacingWorld = min(XPlusDiff, YPlusDiff);

    for (int s = 1; s < MAX_SEGMENT_INDEX; s++) {
      // bail out quickly if the segment index has not 
      // been seen by the center segment
      if (!isBitSet(s)) {
       continue;
      }

      // Use texture sampling for outlineThickness so that we can have 
      // per segment thickness
      float textureCoordinate = float(s - 1) / 1024.0;
      float textureValue = texture2D(ttexture, vec2(textureCoordinate, 0.5)).r;

      int actualThickness = int(textureValue * 255.0);

      // check the extreme points in the neighborhood since there is a better
      // chance of finding the edge there, so that we can bail out 
      // faster if we find the edge
      bool onEdge =
          checkOnEdgeForNeighbor(-actualThickness, -actualThickness, s, stepIS) ||
          checkOnEdgeForNeighbor(actualThickness, actualThickness, s, stepIS) ||
          checkOnEdgeForNeighbor(actualThickness, -actualThickness, s, stepIS) ||
          checkOnEdgeForNeighbor(-actualThickness, +actualThickness, s, stepIS);

      if (onEdge) {
        return;
      }

      // since the next step is computationally expensive, we need to perform
      // some optimizations to avoid it if possible. One of the optimizations
      // is to check the whether the minimum of the voxel spacing is greater than 
      // the 2 * the thickness of the outline segment. If that is the case
      // then we can safely skip the next step since we can be sure that the
      // the previous 4 checks on the extreme points would caught the entirety 
      // of the all the fragments inside. i.e., this happens when we zoom out, 
      if (minVoxelSpacing > (2.0 * float(actualThickness) - 1.0) * minFragSpacingWorld) {
        continue;
      }
      
      // Loop through the rest, skipping the processed extremes and the center
      for (int i = -actualThickness; i <= actualThickness; i++) {
            for (int j = -actualThickness; j <= actualThickness; j++) {
                if (i == 0 && j == 0) continue; // Skip the center
                if (abs(i) == actualThickness && abs(j) == actualThickness) continue; // Skip corners
                if (checkOnEdgeForNeighbor(i, j, s, stepIS )) {
                    return;
                }
          }
      }
    }

    vec3 tColor0 = texture2D(ctexture, vec2(value.r * cscale0 + cshift0, height0)).rgb;
    float pwfValue0 = texture2D(otexture, vec2(value.r * oscale0 + oshift0, height0)).r;
    gl_FragData[0] = vec4(tColor0, pwfValue0);
  #endif
  #if vtkBlendMode == 0 // COMPOSITE_BLEND
    // now map through opacity and color
    tColor = getColorForValue(tValue, posIS, tstep);

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);
      gl_FragData[0] = tColor;
      return;
    }

    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);
    color = vec4(tColor.rgb*tColor.a, tColor.a);
    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);

      float mix = (1.0 - color.a);

      // this line should not be needed but nvidia seems to not handle
      // the break correctly on windows/chrome 58 angle
      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));

      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
      stepsTraveled++;
      posIS += stepIS;
      if (color.a > 0.99) { color.a = 1.0; break; }
    }

    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)
    {
      posIS = endIS;

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);

      float mix = (1.0 - color.a);
      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
    }

    gl_FragData[0] = vec4(color.rgb/color.a, color.a);
  #endif
  #if vtkBlendMode == 1 || vtkBlendMode == 2
    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND
    // Find maximum/minimum intensity along the ray.

    // Define the operation we will use (min or max)
    #if vtkBlendMode == 1
    #define OP max
    #else
    #define OP min
    #endif

    // If the clipping range is shorter than the sample distance
    // we can skip the sampling loop along the ray.
    if (raySteps <= 1.0)
    {
      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);
      return;
    }

    vec4 value = tValue;
    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // Update the maximum value if necessary
      value = OP(tValue, value);

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;
    tValue = getTextureValue(posIS);
    value = OP(tValue, value);

    // Now map through opacity and color
    gl_FragData[0] = getColorForValue(value, posIS, tstep);
  #endif
  #if vtkBlendMode == 3 || vtkBlendMode == 4 //AVERAGE_INTENSITY_BLEND || ADDITIVE_BLEND
    vec4 sum = vec4(0.);

    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;
    }

    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(sum, posIS, tstep);
      return;
    }

    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.
      // Notes:
      // - We are comparing all values in the texture to see if any of them
      //   are outside of the scalar range. In the future we might want to allow
      //   scalar ranges for each component.
      if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
        // Sum the values across each step in the path
        sum += tValue;
      }
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;

    // compute the scalar
    tValue = getTextureValue(posIS);

    // One can control the scalar range by setting the IPScalarRange to disregard scalar values, not in the range of interest, from the average computation
    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;

      stepsTraveled++;
    }

    #if vtkBlendMode == 3 // Average
      sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);
    #endif

    gl_FragData[0] = getColorForValue(sum, posIS, tstep);
  #endif
  #if vtkBlendMode == 5 // RADON
    float normalizedRayIntensity = 1.0;

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tValue = getTextureValue(posIS);
      normalizedRayIntensity = normalizedRayIntensity - sampleDistance*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
      gl_FragData[0] = texture2D(ctexture, vec2(normalizedRayIntensity, 0.5));
      return;
    }

    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar value
      tValue = getTextureValue(posIS);

      // Convert scalar value to normalizedRayIntensity coefficient and accumulate normalizedRayIntensity
      normalizedRayIntensity = normalizedRayIntensity - sampleDistance*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;

      posIS += stepIS;
      stepsTraveled++;
    }

    // map normalizedRayIntensity to color
    gl_FragData[0] = texture2D(ctexture, vec2(normalizedRayIntensity , 0.5));

  #endif
}

//=======================================================================
// Compute a new start and end point for a given ray based
// on the provided bounded clipping plane (aka a rectangle)
void getRayPointIntersectionBounds(
  vec3 rayPos, vec3 rayDir,
  vec3 planeDir, float planeDist,
  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,
  float vSize1, float vSize2)
{
  float result = dot(rayDir, planeDir);
  if (abs(result) < 1e-6)
  {
    return;
  }
  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;
  vec3 xposVC = rayPos + rayDir*result;
  vec3 vxpos = xposVC - vOriginVC;
  vec2 vpos = vec2(
    dot(vxpos, vPlaneX),
    dot(vxpos, vPlaneY));

  // on some apple nvidia systems this does not work
  // if (vpos.x < 0.0 || vpos.x > vSize1 ||
  //     vpos.y < 0.0 || vpos.y > vSize2)
  // even just
  // if (vpos.x < 0.0 || vpos.y < 0.0)
  // fails
  // so instead we compute a value that represents in and out
  //and then compute the return using this value
  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds
  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out

  tbounds = mix(
   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value
   tbounds, // out value
   check);  // 0 in 1 out
}

//=======================================================================
// given a
// - ray direction (rayDir)
// - starting point (vertexVCVSOutput)
// - bounding planes of the volume
// - optionally depth buffer values
// - far clipping plane
// compute the start/end distances of the ray we need to cast
vec2 computeRayDistances(vec3 rayDir, vec3 tdims)
{
  vec2 dists = vec2(100.0*camFar, -1.0);

  vec3 vSize = vSpacing*tdims;

  // all this is in View Coordinates
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);

  //VTK::ClipPlane::Impl

  // do not go behind front clipping plane
  dists.x = max(0.0,dists.x);

  // do not go PAST far clipping plane
  float farDist = -camThick/rayDir.z;
  dists.y = min(farDist,dists.y);

  // Do not go past the zbuffer value if set
  // This is used for intermixing opaque geometry
  //VTK::ZBuffer::Impl

  return dists;
}

//=======================================================================
// Compute the index space starting position (pos) and end
// position
//
void computeIndexSpaceValues(out vec3 pos, out vec3 endPos, vec3 rayDir, vec2 dists)
{
  // compute starting and ending values in volume space
  pos = vertexVCVSOutput + dists.x*rayDir;
  pos = pos - vOriginVC;
  // convert to volume basis and origin
  pos = vec3(
    dot(pos, vPlaneNormal0),
    dot(pos, vPlaneNormal2),
    dot(pos, vPlaneNormal4));

  endPos = vertexVCVSOutput + dists.y*rayDir;
  endPos = endPos - vOriginVC;
  endPos = vec3(
    dot(endPos, vPlaneNormal0),
    dot(endPos, vPlaneNormal2),
    dot(endPos, vPlaneNormal4));

  float delta = length(endPos - pos);

  pos *= vVCToIJK;
  endPos *= vVCToIJK;

  float delta2 = length(endPos - pos);
  sampleDistanceIS = sampleDistance*delta2/delta;
  #ifdef VolumeShadowOn
    sampleDistanceISVS = sampleDistanceIS * volumeShadowSamplingDistFactor;
  #endif
}

void main()
{

  if (cameraParallel == 1)
  {
    // Camera is parallel, so the rayDir is just the direction of the camera.
    rayDirVC = vec3(0.0, 0.0, -1.0);
  } else {
    // camera is at 0,0,0 so rayDir for perspective is just the vc coord
    rayDirVC = normalize(vertexVCVSOutput);
  }

  vec3 tdims = vec3(volumeDimensions);

  // compute the start and end points for the ray
  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);

  // do we need to composite? aka does the ray have any length
  // If not, bail out early
  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)
  {
    discard;
  }

  // IS = Index Space
  vec3 posIS;
  vec3 endIS;
  computeIndexSpaceValues(posIS, endIS, rayDirVC, rayStartEndDistancesVC);

  // Perform the blending operation along the ray
  applyBlend(posIS, endIS, tdims);
}
`;const{vtkWarningMacro:n6e,vtkErrorMacro:x8}=Ni;function r6e(t){switch(t){case F2.CUSTOM:return"//VTK::CustomColorMix";case F2.ADDITIVE:return`
        // compute normals
        mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
        #if (vtkLightComplexity > 0) && defined(vtkComputeNormalFromOpacity)
          vec3 scalarInterp0[2];
          vec4 normalLight0 = computeNormalForDensity(posIS, tstep, scalarInterp0, 0);
          scalarInterp0[0] = scalarInterp0[0] * oscale0 + oshift0;
          scalarInterp0[1] = scalarInterp0[1] * oscale0 + oshift0;
          normalLight0 = computeDensityNormal(scalarInterp0, height0, 1.0);

          vec3 scalarInterp1[2];
          vec4 normalLight1 = computeNormalForDensity(posIS, tstep, scalarInterp1, 1);
          scalarInterp1[0] = scalarInterp1[0] * oscale1 + oshift1;
          scalarInterp1[1] = scalarInterp1[1] * oscale1 + oshift1;
          normalLight1 = computeDensityNormal(scalarInterp1, height1, 1.0);
        #else
          vec4 normalLight0 = normalMat[0];
          vec4 normalLight1 = normalMat[1];
        #endif

        // compute opacities
        float opacity0 = pwfValue0;
        float opacity1 = pwfValue1;
        #ifdef vtkGradientOpacityOn
          float gof0 = computeGradientOpacityFactor(normalMat[0].a, goscale0, goshift0, gomin0, gomax0);
          opacity0 *= gof0;
          float gof1 = computeGradientOpacityFactor(normalMat[1].a, goscale1, goshift1, gomin1, gomax1);
          opacity1 *= gof1;
        #endif
        float opacitySum = opacity0 + opacity1;
        if (opacitySum <= 0.0) {
          return vec4(0.0);
        }

        // mix the colors and opacities
        tColor0 = applyAllLightning(tColor0, opacity0, posIS, normalLight0);
        tColor1 = applyAllLightning(tColor1, opacity1, posIS, normalLight1);
        vec3 mixedColor = (opacity0 * tColor0 + opacity1 * tColor1) / opacitySum;
        return vec4(mixedColor, min(1.0, opacitySum));
`;case F2.COLORIZE:return`
        // compute normals
        mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
        #if (vtkLightComplexity > 0) && defined(vtkComputeNormalFromOpacity)
          vec3 scalarInterp0[2];
          vec4 normalLight0 = computeNormalForDensity(posIS, tstep, scalarInterp0, 0);
          scalarInterp0[0] = scalarInterp0[0] * oscale0 + oshift0;
          scalarInterp0[1] = scalarInterp0[1] * oscale0 + oshift0;
          normalLight0 = computeDensityNormal(scalarInterp0, height0, 1.0);
        #else
          vec4 normalLight0 = normalMat[0];
        #endif

        // compute opacities
        float opacity0 = pwfValue0;
        #ifdef vtkGradientOpacityOn
          float gof0 = computeGradientOpacityFactor(normalMat[0].a, goscale0, goshift0, gomin0, gomax0);
          opacity0 *= gof0;
        #endif

        // mix the colors and opacities
        vec3 color = tColor0 * mix(vec3(1.0), tColor1, pwfValue1);
        color = applyAllLightning(color, opacity0, posIS, normalLight0);
        return vec4(color, opacity0);
`;default:return null}}function a6e(t,e){e.classHierarchy.push("vtkOpenGLVolumeMapper");function n(a){[e._scalars,e._scalarOpacityFunc,e._colorTransferFunc,e._labelOutlineThicknessArray].forEach(i=>a.unregisterGraphicsResourceUser(i,t))}t.buildPass=()=>{e.zBufferTexture=null},t.zBufferPass=(a,i)=>{if(a){const o=i.getZBufferTexture();o!==e.zBufferTexture&&(e.zBufferTexture=o)}},t.opaqueZBufferPass=(a,i)=>t.zBufferPass(a,i),t.volumePass=(a,i)=>{if(a){const o=e._openGLRenderWindow;e._openGLRenderWindow=t.getLastAncestorOfType("vtkOpenGLRenderWindow"),o&&!o.isDeleted()&&o!==e._openGLRenderWindow&&n(o),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.jitterTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLVolume=t.getFirstAncestorOfType("vtkOpenGLVolume");const s=e.openGLVolume.getRenderable();e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");const l=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(l.getActiveCamera()),t.renderPiece(l,s)}},t.getShaderTemplate=(a,i,o)=>{a.Vertex=e6e,a.Fragment=t6e,a.Geometry=""},t.useIndependentComponents=a=>{var c,f;const i=a.getIndependentComponents(),o=e.currentInput,s=(f=(c=o==null?void 0:o.getPointData())==null?void 0:c.getScalars())==null?void 0:f.getNumberOfComponents(),l=a.getColorMixPreset();return i&&s>=2||!!l},t.replaceShaderValues=(a,i,o)=>{const s=o.getProperty();let l=a.Fragment;s.getInterpolationType()===X9.LINEAR&&(l=Fe.substitute(l,"//VTK::TrilinearOn","#define vtkTrilinearOn").result),t.isLabelmapOutlineRequired(o)===!0&&(l=Fe.substitute(l,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result),e.renderable.getBlendMode()===E2.LABELMAP_EDGE_PROJECTION_BLEND&&(l=Fe.substitute(l,"//VTK::LabelEdgeProjectionOn","#define vtkLabelEdgeProjectionOn").result);const d=e.scalarTexture.getComponents();l=Fe.substitute(l,"//VTK::NumComponents",`#define vtkNumComponents ${d}`).result;const g=t.useIndependentComponents(s);g&&(l=Fe.substitute(l,"//VTK::IndependentComponentsOn","#define UseIndependentComponents").result);const v=[],m=[];for(let b=0;b<d;b++)s.getOpacityMode(b)===zz.PROPORTIONAL&&v.push(`#define vtkComponent${b}Proportional`),s.getForceNearestInterpolation(b)&&m.push(`#define vtkComponent${b}ForceNearest`);l=Fe.substitute(l,"//VTK::vtkProportionalComponents",v.join(`
`)).result,l=Fe.substitute(l,"//VTK::vtkForceNearestComponents",m.join(`
`)).result;const p=s.getColorMixPreset(),h=r6e(p);h&&(l=Fe.substitute(l,"//VTK::CustomComponentsColorMixOn","#define vtkCustomComponentsColorMix").result,l=Fe.substitute(l,"//VTK::CustomComponentsColorMix::Impl",h).result);const y=e.currentInput.getSpatialExtent(),C=e.currentInput.getSpacing(),x=new Float64Array(3);xr(x,(y[1]-y[0])*C[0],(y[3]-y[2])*C[1],(y[5]-y[4])*C[2]);const T=Tc(x)/t.getCurrentSampleDistance(i);l=Fe.substitute(l,"//VTK::MaximumSamplesValue",`${Math.ceil(T)}`).result,l=Fe.substitute(l,"//VTK::LightComplexity",`#define vtkLightComplexity ${e.lightComplexity}`).result,e.lightComplexity>0&&(e.renderable.getVolumetricScatteringBlending()>0&&(l=Fe.substitute(l,"//VTK::VolumeShadowOn","#define VolumeShadowOn").result),e.renderable.getVolumetricScatteringBlending()<1&&(l=Fe.substitute(l,"//VTK::SurfaceShadowOn","#define SurfaceShadowOn").result),e.renderable.getLocalAmbientOcclusion()&&s.getAmbient()>0&&(l=Fe.substitute(l,"//VTK::localAmbientOcclusionOn","#define localAmbientOcclusionOn").result));const w=g?d:1;e.gopacity=!1;for(let b=0;!e.gopacity&&b<w;++b)e.gopacity||(e.gopacity=s.getUseGradientOpacity(b));e.gopacity&&(l=Fe.substitute(l,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),e.renderable.getComputeNormalFromOpacity()&&(l=Fe.substitute(l,"//VTK::vtkComputeNormalFromOpacity","#define vtkComputeNormalFromOpacity").result),e.zBufferTexture!==null&&(l=Fe.substitute(l,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpZWidth;","uniform float vpZHeight;"]).result,l=Fe.substitute(l,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpZWidth, gl_FragCoord.y/vpZHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","if (cameraParallel == 0) {","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;}","else {",`zdepth = (zdepth + 1.0) * 0.5 * (camFar - camNear);}
`,"zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),l=Fe.substitute(l,"//VTK::BlendMode",`${e.renderable.getBlendMode()}`).result,a.Fragment=l,t.replaceShaderLight(a,i,o),t.replaceShaderClippingPlane(a,i,o)},t.replaceShaderLight=(a,i,o)=>{if(e.lightComplexity===0)return;let s=a.Fragment,l=0;i.getLights().forEach(c=>{c.getSwitch()&&(l+=1)}),s=Fe.substitute(s,"//VTK::Light::Dec",["uniform int lightNum;","uniform bool twoSidedLighting;",`uniform vec3 lightColor[${l}];`,`uniform vec3 lightDirectionVC[${l}]; // normalized`,`uniform vec3 lightHalfAngleVC[${l}];`,"//VTK::Light::Dec"],!1).result,e.lightComplexity===3&&(s=Fe.substitute(s,"//VTK::Light::Dec",[`uniform vec3 lightPositionVC[${l}];`,`uniform vec3 lightAttenuation[${l}];`,`uniform float lightConeAngle[${l}];`,`uniform float lightExponent[${l}];`,`uniform int lightPositional[${l}];`],!1).result),e.renderable.getVolumetricScatteringBlending()>0&&(s=Fe.substitute(s,"//VTK::VolumeShadow::Dec",["uniform float volumetricScatteringBlending;","uniform float giReach;","uniform float volumeShadowSamplingDistFactor;","uniform float anisotropy;","uniform float anisotropy2;"],!1).result),e.renderable.getLocalAmbientOcclusion()&&o.getProperty().getAmbient()>0&&(s=Fe.substitute(s,"//VTK::LAO::Dec",["uniform int kernelRadius;",`uniform vec2 kernelSample[${e.renderable.getLAOKernelRadius()}];`,"uniform int kernelSize;"],!1).result),a.Fragment=s},t.replaceShaderClippingPlane=(a,i,o)=>{let s=a.Fragment;if(e.renderable.getClippingPlanes().length>0){const l=e.renderable.getClippingPlanes().length;s=Fe.substitute(s,"//VTK::ClipPlane::Dec",["uniform vec3 vClipPlaneNormals[6];","uniform float vClipPlaneDistances[6];","uniform vec3 vClipPlaneOrigins[6];","uniform int clip_numPlanes;","//VTK::ClipPlane::Dec","#define vtkClippingPlanesOn"],!1).result,s=Fe.substitute(s,"//VTK::ClipPlane::Impl",[`for(int i = 0; i < ${l}; i++) {`,"  float rayDirRatio = dot(rayDir, vClipPlaneNormals[i]);","  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];","  if (rayDirRatio == 0.0)","  {","    if (equationResult < 0.0) dists.x = dists.y;","    continue;","  }","  float result = -1.0 * equationResult / rayDirRatio;","  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);","  else dists.x = max(dists.x, result);","}","//VTK::ClipPlane::Impl"],!1).result}a.Fragment=s};const r=(a,i)=>{let o=0;a.getProperty().getShade()&&e.renderable.getBlendMode()===E2.COMPOSITE_BLEND&&(o=0,e.numberOfLights=0,i.forEach(s=>{s.getSwitch()>0&&(e.numberOfLights++,o===0&&(o=1)),o===1&&(e.numberOfLights>1||s.getIntensity()!==1||!s.lightTypeIsHeadLight())&&(o=2),o<3&&s.getPositional()&&(o=3)})),o!==e.lightComplexity&&(e.lightComplexity=o,t.modified())};t.getNeedToRebuildShaders=(a,i,o)=>{var h;const s=o.getProperty();r(o,i.getLights());const l=e.scalarTexture.getComponents(),c=[],f=[];for(let y=0;y<l;y++)c.push(s.getOpacityMode(y)),f.push(s.getForceNearestInterpolation(y));const u=e.currentInput.getSpatialExtent(),d=e.currentInput.getSpacing(),g=new Float64Array(3);xr(g,(u[1]-u[0])*d[0],(u[3]-u[2])*d[1],(u[5]-u[4])*d[2]);const v=Tc(g)/t.getCurrentSampleDistance(i),m=!!e.zBufferTexture,p={iComps:s.getIndependentComponents(),colorMixPreset:s.getColorMixPreset(),interpolationType:s.getInterpolationType(),useLabelOutline:t.isLabelmapOutlineRequired(o),numComp:l,maxSamples:v,useGradientOpacity:s.getUseGradientOpacity(0),blendMode:e.renderable.getBlendMode(),hasZBufferTexture:m,opacityModes:c,forceNearestInterps:f};return((h=a.getProgram())==null?void 0:h.getHandle())===0||a.getShaderSourceTime().getMTime()<t.getMTime()||a.getShaderSourceTime().getMTime()<e.renderable.getMTime()||!e.previousState||!SU(e.previousState,p)?(e.previousState=p,!0):!1},t.updateShaders=(a,i,o)=>{if(t.getNeedToRebuildShaders(a,i,o)){const s={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(s,i,o);const l=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(s.Vertex,s.Fragment,s.Geometry);l!==a.getProgram()&&(a.setProgram(l),a.getVAO().releaseGraphicsResources()),a.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(a.getProgram());a.getVAO().bind(),t.setMapperShaderParameters(a,i,o),t.setCameraShaderParameters(a,i,o),t.setPropertyShaderParameters(a,i,o),t.getClippingPlaneShaderParameters(a,i,o)},t.setMapperShaderParameters=(a,i,o)=>{var f;const s=a.getProgram();a.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>a.getAttributeUpdateTime().getMTime()||a.getShaderSourceTime().getMTime()>a.getAttributeUpdateTime().getMTime())&&(s.isAttributeUsed("vertexDC")&&(a.getVAO().addAttributeArray(s,a.getCABO(),"vertexDC",a.getCABO().getVertexOffset(),a.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||x8("Error setting vertexDC in shader VAO.")),a.getAttributeUpdateTime().modified()),s.setUniformi("texture1",e.scalarTexture.getTextureUnit()),s.setUniformf("sampleDistance",t.getCurrentSampleDistance(i));const l=e.scalarTexture.getVolumeInfo(),c=e.renderable.getIpScalarRange();if((f=l==null?void 0:l.dataComputedScale)!=null&&f.length){const u=[],d=[];for(let g=0;g<4;g++)u[g]=c[0]*l.dataComputedScale[g]+l.dataComputedOffset[g],d[g]=c[1]*l.dataComputedScale[g]+l.dataComputedOffset[g],u[g]=(u[g]-l.offset[g])/l.scale[g],d[g]=(d[g]-l.offset[g])/l.scale[g];s.setUniform4f("ipScalarRangeMin",u[0],u[1],u[2],u[3]),s.setUniform4f("ipScalarRangeMax",d[0],d[1],d[2],d[3])}if(e.zBufferTexture!==null){s.setUniformi("zBufferTexture",e.zBufferTexture.getTextureUnit());const u=e._useSmallViewport?[e._smallViewportWidth,e._smallViewportHeight]:e._openGLRenderWindow.getFramebufferSize();s.setUniformf("vpZWidth",u[0]),s.setUniformf("vpZHeight",u[1])}},t.setCameraShaderParameters=(a,i,o)=>{const s=e.openGLCamera.getKeyMatrices(i),l=e.openGLVolume.getKeyMatrices();Zn(e.modelToView,s.wcvc,l.mcwc);const c=a.getProgram(),f=e.openGLCamera.getRenderable(),u=f.getClippingRange();c.setUniformf("camThick",u[1]-u[0]),c.setUniformf("camNear",u[0]),c.setUniformf("camFar",u[1]);const d=e.currentInput.getBounds(),g=e.currentInput.getDimensions(),v=new Float64Array(3),m=new Float64Array(3);let p=1,h=-1,y=1,C=-1;for(let L=0;L<8;++L){if(xr(v,d[L%2],d[2+Math.floor(L/2)%2],d[4+Math.floor(L/4)]),hr(v,v,e.modelToView),!f.getParallelProjection()){Na(m,v);const F=-u[0]/v[2];q0(v,m,F)}hr(v,v,s.vcpc),p=Math.min(v[0],p),h=Math.max(v[0],h),y=Math.min(v[1],y),C=Math.max(v[1],C)}c.setUniformf("dcxmin",p),c.setUniformf("dcxmax",h),c.setUniformf("dcymin",y),c.setUniformf("dcymax",C),c.isUniformUsed("cameraParallel")&&c.setUniformi("cameraParallel",f.getParallelProjection());const x=e.currentInput.getSpatialExtent(),T=e.currentInput.getSpacing(),w=new Float64Array(3);xr(w,(x[1]-x[0])*T[0],(x[3]-x[2])*T[1],(x[5]-x[4])*T[2]),c.setUniform3f("vSpacing",T[0],T[1],T[2]),xr(v,x[0],x[2],x[4]),e.currentInput.indexToWorldVec3(v,v),hr(v,v,e.modelToView),c.setUniform3f("vOriginVC",v[0],v[1],v[2]);const b=e.currentInput.getIndexToWorld();Zn(e.idxToView,e.modelToView,b),I1(e.idxNormalMatrix,s.normalMatrix,l.normalMatrix),I1(e.idxNormalMatrix,e.idxNormalMatrix,e.currentInput.getDirectionByReference());const E=Tc(w)/t.getCurrentSampleDistance(i);E>e.renderable.getMaximumSamplesPerRay()&&n6e(`The number of steps required ${Math.ceil(E)} is larger than the
        specified maximum number of steps ${e.renderable.getMaximumSamplesPerRay()}.
        Please either change the
        volumeMapper sampleDistance or its maximum number of samples.`);const O=new Float64Array(3);if(xr(O,1,1,1),_5e(O,O,w),c.setUniform3f("vVCToIJK",O[0],O[1],O[2]),c.setUniform3i("volumeDimensions",g[0],g[1],g[2]),c.setUniform3f("volumeSpacings",T[0],T[1],T[2]),!e._openGLRenderWindow.getWebgl2()){const L=e.scalarTexture.getVolumeInfo();c.setUniformf("texWidth",e.scalarTexture.getWidth()),c.setUniformf("texHeight",e.scalarTexture.getHeight()),c.setUniformi("xreps",L.xreps),c.setUniformi("xstride",L.xstride),c.setUniformi("ystride",L.ystride)}const D=new Float64Array(3),R=new Float64Array(3);for(let L=0;L<6;++L){switch(L){case 1:xr(D,-1,0,0),xr(R,x[0],x[2],x[4]);break;case 2:xr(D,0,1,0),xr(R,x[1],x[3],x[5]);break;case 3:xr(D,0,-1,0),xr(R,x[0],x[2],x[4]);break;case 4:xr(D,0,0,1),xr(R,x[1],x[3],x[5]);break;case 5:xr(D,0,0,-1),xr(R,x[0],x[2],x[4]);break;case 0:default:xr(D,1,0,0),xr(R,x[1],x[3],x[5]);break}L2(D,D,e.idxNormalMatrix),hr(R,R,e.idxToView);const F=-1*Ln(R,D);c.setUniform3f(`vPlaneNormal${L}`,D[0],D[1],D[2]),c.setUniformf(`vPlaneDistance${L}`,F)}if(t.isLabelmapOutlineRequired(o)){const F=e.currentInput.getWorldToIndex();c.setUniformMatrix("vWCtoIDX",F);const _=i.getActiveCamera(),[P,N]=_.getClippingRange(),k=_.getDistance();_.setClippingRange(k,k+.1);const H=e.openGLCamera.getKeyMatrices(i);qa(e.projectionToWorld,H.wcpc),_.setClippingRange(P,N),e.openGLCamera.getKeyMatrices(i),c.setUniformMatrix("PCWCMatrix",e.projectionToWorld);const K=t.getRenderTargetSize();c.setUniformf("vpWidth",K[0]),c.setUniformf("vpHeight",K[1]);const te=t.getRenderTargetOffset();c.setUniformf("vpOffsetX",te[0]/K[0]),c.setUniformf("vpOffsetY",te[1]/K[1])}if(qa(e.projectionToView,s.vcpc),c.setUniformMatrix("PCVCMatrix",e.projectionToView),e.lightComplexity===0)return;let I=0;const M=[],A=[],B=[];if(i.getLights().forEach(L=>{if(L.getSwitch()>0){const _=L.getColor(),P=L.getIntensity();M[0+I*3]=_[0]*P,M[1+I*3]=_[1]*P,M[2+I*3]=_[2]*P;const N=L.getDirection();xr(D,N[0],N[1],N[2]),L2(D,D,s.normalMatrix),Na(D,D),A[0+I*3]=D[0],A[1+I*3]=D[1],A[2+I*3]=D[2],B[0+I*3]=-.5*D[0],B[1+I*3]=-.5*D[1],B[2+I*3]=-.5*(D[2]-1),I++}}),c.setUniformi("twoSidedLighting",i.getTwoSidedLighting()),c.setUniformi("lightNum",I),c.setUniform3fv("lightColor",M),c.setUniform3fv("lightDirectionVC",A),c.setUniform3fv("lightHalfAngleVC",B),e.lightComplexity===3){I=0;const L=[],F=[],_=[],P=[],N=[];i.getLights().forEach(k=>{if(k.getSwitch()>0){const K=k.getAttenuationValues();F[0+I*3]=K[0],F[1+I*3]=K[1],F[2+I*3]=K[2],P[I]=k.getExponent(),_[I]=k.getConeAngle(),N[I]=k.getPositional();const te=k.getTransformedPosition();hr(te,te,e.modelToView),L[0+I*3]=te[0],L[1+I*3]=te[1],L[2+I*3]=te[2],I+=1}}),c.setUniform3fv("lightPositionVC",L),c.setUniform3fv("lightAttenuation",F),c.setUniformfv("lightConeAngle",_),c.setUniformfv("lightExponent",P),c.setUniformiv("lightPositional",N)}if(e.renderable.getVolumetricScatteringBlending()>0&&(c.setUniformf("giReach",e.renderable.getGlobalIlluminationReach()),c.setUniformf("volumetricScatteringBlending",e.renderable.getVolumetricScatteringBlending()),c.setUniformf("volumeShadowSamplingDistFactor",e.renderable.getVolumeShadowSamplingDistFactor()),c.setUniformf("anisotropy",e.renderable.getAnisotropy()),c.setUniformf("anisotropy2",e.renderable.getAnisotropy()**2)),e.renderable.getLocalAmbientOcclusion()&&o.getProperty().getAmbient()>0){const L=e.renderable.getLAOKernelSize();c.setUniformi("kernelSize",L);const F=[];for(let _=0;_<L;_++)F[_*2]=Math.random()*.5,F[_*2+1]=Math.random()*.5;c.setUniform2fv("kernelSample",F),c.setUniformi("kernelRadius",e.renderable.getLAOKernelRadius())}},t.setPropertyShaderParameters=(a,i,o)=>{const s=a.getProgram();s.setUniformi("ctexture",e.colorTexture.getTextureUnit()),s.setUniformi("otexture",e.opacityTexture.getTextureUnit()),s.setUniformi("jtexture",e.jitterTexture.getTextureUnit()),s.setUniformi("ttexture",e.labelOutlineThicknessTexture.getTextureUnit());const l=e.scalarTexture.getVolumeInfo(),c=o.getProperty(),f=e.scalarTexture.getComponents(),u=t.useIndependentComponents(c);if(u)for(let g=0;g<f;g++)s.setUniformf(`mix${g}`,o.getProperty().getComponentWeight(g));for(let g=0;g<f;g++){const v=u?g:0,m=l.scale[g],h=c.getScalarOpacity(v).getRange(),y=m/(h[1]-h[0]),C=(l.offset[g]-h[0])/(h[1]-h[0]);s.setUniformf(`oshift${g}`,C),s.setUniformf(`oscale${g}`,y);const T=c.getRGBTransferFunction(v).getRange(),w=(l.offset[g]-T[0])/(T[1]-T[0]),b=m/(T[1]-T[0]);s.setUniformf(`cshift${g}`,w),s.setUniformf(`cscale${g}`,b)}if(e.gopacity)if(u)for(let g=0;g<f;++g){const v=l.scale[g];if(c.getUseGradientOpacity(g)){const p=c.getGradientOpacityMinimumOpacity(g),h=c.getGradientOpacityMaximumOpacity(g);s.setUniformf(`gomin${g}`,p),s.setUniformf(`gomax${g}`,h);const y=[c.getGradientOpacityMinimumValue(g),c.getGradientOpacityMaximumValue(g)];s.setUniformf(`goscale${g}`,v*(h-p)/(y[1]-y[0])),s.setUniformf(`goshift${g}`,-y[0]*(h-p)/(y[1]-y[0])+p)}else s.setUniformf(`gomin${g}`,1),s.setUniformf(`gomax${g}`,1),s.setUniformf(`goscale${g}`,0),s.setUniformf(`goshift${g}`,1)}else{const g=l.scale[f-1],v=c.getGradientOpacityMinimumOpacity(0),m=c.getGradientOpacityMaximumOpacity(0);s.setUniformf("gomin0",v),s.setUniformf("gomax0",m);const p=[c.getGradientOpacityMinimumValue(0),c.getGradientOpacityMaximumValue(0)];s.setUniformf("goscale0",g*(m-v)/(p[1]-p[0])),s.setUniformf("goshift0",-p[0]*(m-v)/(p[1]-p[0])+v)}if(t.isLabelmapOutlineRequired(o)===!0){const g=o.getProperty().getLabelOutlineOpacity();s.setUniformf("outlineOpacity",g)}e.lightComplexity>0&&(s.setUniformf("vAmbient",c.getAmbient()),s.setUniformf("vDiffuse",c.getDiffuse()),s.setUniformf("vSpecular",c.getSpecular()),s.setUniformf("vSpecularPower",c.getSpecularPower()))},t.getClippingPlaneShaderParameters=(a,i,o)=>{if(e.renderable.getClippingPlanes().length>0){const s=e.openGLCamera.getKeyMatrices(i),l=[],c=[],f=[],u=e.renderable.getClippingPlanes(),d=u.length;for(let v=0;v<d;++v){const m=u[v].getNormal(),p=u[v].getOrigin();L2(m,m,s.normalMatrix),hr(p,p,s.wcvc);const h=-1*Ln(p,m);l.push(m[0]),l.push(m[1]),l.push(m[2]),c.push(h),f.push(p[0]),f.push(p[1]),f.push(p[2])}const g=a.getProgram();g.setUniform3fv("vClipPlaneNormals",l),g.setUniformfv("vClipPlaneDistances",c),g.setUniform3fv("vClipPlaneOrigins",f),g.setUniformi("clip_numPlanes",d)}},t.delete=Ep(()=>{e._animationRateSubscription&&(e._animationRateSubscription.unsubscribe(),e._animationRateSubscription=null)},()=>{e._openGLRenderWindow&&n(e._openGLRenderWindow)},t.delete),t.getRenderTargetSize=()=>{if(e._useSmallViewport)return[e._smallViewportWidth,e._smallViewportHeight];const{usize:a,vsize:i}=e._openGLRenderer.getTiledSizeAndOrigin();return[a,i]},t.getRenderTargetOffset=()=>{const{lowerLeftU:a,lowerLeftV:i}=e._openGLRenderer.getTiledSizeAndOrigin();return[a,i]},t.getCurrentSampleDistance=a=>{const i=a.getVTKWindow().getInteractor(),o=e.renderable.getSampleDistance();if(i.isAnimating()){const s=e.renderable.getInteractionSampleDistanceFactor();return o*s}return o},t.renderPieceStart=(a,i)=>{const o=a.getVTKWindow().getInteractor();if(e._lastScale||(e._lastScale=e.renderable.getInitialInteractionScale()),e._useSmallViewport=!1,o.isAnimating()&&e._lastScale>1.5&&(e._useSmallViewport=!0),e._animationRateSubscription||(e._animationRateSubscription=o.onAnimationFrameRateUpdate(()=>{if(e.renderable.getAutoAdjustSampleDistances()){const l=o.getRecentAnimationFrameRate(),c=o.getDesiredUpdateRate()/l;(c>1.15||c<.85)&&(e._lastScale*=c),e._lastScale>400&&(e._lastScale=400),e._lastScale<1.5&&(e._lastScale=1.5)}else e._lastScale=e.renderable.getImageSampleDistance()*e.renderable.getImageSampleDistance()})),e._useSmallViewport){const l=e._openGLRenderWindow.getFramebufferSize(),c=1/Math.sqrt(e._lastScale);if(e._smallViewportWidth=Math.ceil(c*l[0]),e._smallViewportHeight=Math.ceil(c*l[1]),e._smallViewportHeight>l[1]&&(e._smallViewportHeight=l[1]),e._smallViewportWidth>l[0]&&(e._smallViewportWidth=l[0]),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.getGLFramebuffer()===null)e.framebuffer.create(l[0],l[1]),e.framebuffer.populateFramebuffer();else{const u=e.framebuffer.getSize();(!u||u[0]!==l[0]||u[1]!==l[1])&&(e.framebuffer.create(l[0],l[1]),e.framebuffer.populateFramebuffer())}e.framebuffer.bind();const f=e.context;f.clearColor(0,0,0,0),f.colorMask(!0,!0,!0,!0),f.clear(f.COLOR_BUFFER_BIT),f.viewport(0,0,e._smallViewportWidth,e._smallViewportHeight),e.fvp=[e._smallViewportWidth/l[0],e._smallViewportHeight/l[1]]}e.context.disable(e.context.DEPTH_TEST),t.updateBufferObjects(a,i),i.getProperty().getInterpolationType()===X9.NEAREST?(e.scalarTexture.setMinificationFilter(Sn.NEAREST),e.scalarTexture.setMagnificationFilter(Sn.NEAREST)):(e.scalarTexture.setMinificationFilter(Sn.LINEAR),e.scalarTexture.setMagnificationFilter(Sn.LINEAR)),e.zBufferTexture!==null&&e.zBufferTexture.activate()},t.renderPieceDraw=(a,i)=>{const o=e.context;e.scalarTexture.activate(),e.opacityTexture.activate(),e.labelOutlineThicknessTexture.activate(),e.colorTexture.activate(),e.jitterTexture.activate(),t.updateShaders(e.tris,a,i),o.drawArrays(o.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.scalarTexture.deactivate(),e.colorTexture.deactivate(),e.opacityTexture.deactivate(),e.labelOutlineThicknessTexture.deactivate(),e.jitterTexture.deactivate()},t.renderPieceFinish=(a,i)=>{if(e.zBufferTexture!==null&&e.zBufferTexture.deactivate(),e._useSmallViewport){if(e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null){e.copyShader=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join(`
`),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join(`
`),"");const c=e.copyShader;e.copyVAO=ww.newInstance(),e.copyVAO.setOpenGLRenderWindow(e._openGLRenderWindow),e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(c,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||x8("Error setting vertexDC in copy shader VAO.")}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.copyShader);const o=e._openGLRenderWindow.getFramebufferSize();e.context.viewport(0,0,o[0],o[1]);const s=e.framebuffer.getColorTexture();s.activate(),e.copyShader.setUniformi("texture",s.getTextureUnit()),e.copyShader.setUniform2f("tfactor",e.fvp[0],e.fvp[1]);const l=e.context;l.blendFuncSeparate(l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),s.deactivate(),l.blendFuncSeparate(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA)}},t.renderPiece=(a,i)=>{if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){x8("No input!");return}t.renderPieceStart(a,i),t.renderPieceDraw(a,i),t.renderPieceFinish(a,i)},t.computeBounds=(a,i)=>{if(!t.getInput()){lg(e.Bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=(a,i)=>{t.getNeedToRebuildBufferObjects(a,i)&&t.buildBufferObjects(a,i)},t.getNeedToRebuildBufferObjects=(a,i)=>{var o,s,l;return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<i.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<i.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()||!((o=e.scalarTexture)!=null&&o.getHandle())||!((s=e.colorTexture)!=null&&s.getHandle())||!((l=e.labelOutlineThicknessTexture)!=null&&l.getHandle())},t.buildBufferObjects=(a,i)=>{var T,w;const o=e.currentInput;if(!o)return;const s=o.getPointData()&&o.getPointData().getScalars();if(!s)return;const l=i.getProperty();if(!e.jitterTexture.getHandle()){const b=new Uint8Array(1024);for(let E=0;E<32*32;++E)b[E]=255*Math.random();e.jitterTexture.setMinificationFilter(Sn.LINEAR),e.jitterTexture.setMagnificationFilter(Sn.LINEAR),e.jitterTexture.create2DFromRaw(32,32,1,qn.UNSIGNED_CHAR,b)}const c=s.getNumberOfComponents(),f=t.useIndependentComponents(l),u=f?c:1,d=l.getScalarOpacity(),g=e._openGLRenderWindow.getGraphicsResourceForObject(d);let v=f0(d,f,u);if(!(g!=null&&g.oglObject)||g.hash!==v){e.opacityTexture=Zr.newInstance(),e.opacityTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const b=1024,E=b*2*u,O=new Float32Array(E),D=new Float32Array(b);for(let R=0;R<u;++R){const I=l.getScalarOpacity(R),M=t.getCurrentSampleDistance(a)/l.getScalarOpacityUnitDistance(R),A=I.getRange();I.getTable(A[0],A[1],b,D,1);for(let B=0;B<b;++B)O[R*b*2+B]=1-(1-D[B])**M,O[R*b*2+B+b]=O[R*b*2+B]}if(e.opacityTexture.resetFormatAndType(),e.opacityTexture.setMinificationFilter(Sn.LINEAR),e.opacityTexture.setMagnificationFilter(Sn.LINEAR),e._openGLRenderWindow.getWebgl2()||e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))e.opacityTexture.create2DFromRaw(b,2*u,1,qn.FLOAT,O);else{const R=new Uint8ClampedArray(E);for(let I=0;I<E;++I)R[I]=255*O[I];e.opacityTexture.create2DFromRaw(b,2*u,1,qn.UNSIGNED_CHAR,R)}d&&(e._openGLRenderWindow.setGraphicsResourceForObject(d,e.opacityTexture,v),d!==e._scalarOpacityFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(d,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._scalarOpacityFunc,t)),e._scalarOpacityFunc=d)}else e.opacityTexture=g.oglObject;const p=l.getRGBTransferFunction();v=f0(p,f,u);const h=e._openGLRenderWindow.getGraphicsResourceForObject(p);if(!((T=h==null?void 0:h.oglObject)!=null&&T.getHandle())||(h==null?void 0:h.hash)!==v){e.colorTexture=Zr.newInstance(),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const b=1024,E=b*2*u*3,O=new Uint8ClampedArray(E),D=new Float32Array(b*3);for(let R=0;R<u;++R){const I=l.getRGBTransferFunction(R),M=I.getRange();I.getTable(M[0],M[1],b,D,1);for(let A=0;A<b*3;++A)O[R*b*6+A]=255*D[A],O[R*b*6+A+b*3]=255*D[A]}e.colorTexture.resetFormatAndType(),e.colorTexture.setMinificationFilter(Sn.LINEAR),e.colorTexture.setMagnificationFilter(Sn.LINEAR),e.colorTexture.create2DFromRaw(b,2*u,3,qn.UNSIGNED_CHAR,O),p&&(e._openGLRenderWindow.setGraphicsResourceForObject(p,e.colorTexture,v),p!==e._colorTransferFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(p,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._colorTransferFunc,t)),e._colorTransferFunc=p)}else e.colorTexture=h.oglObject;t.updateLabelOutlineThicknessTexture(i);const C=e._openGLRenderWindow.getGraphicsResourceForObject(s);if(v=Uw(o,s),!((w=C==null?void 0:C.oglObject)!=null&&w.getHandle())||(C==null?void 0:C.hash)!==v){e.scalarTexture=Zr.newInstance(),e.scalarTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const b=o.getDimensions();e.scalarTexture.setOglNorm16Ext(e.context.getExtension("EXT_texture_norm16")),e.scalarTexture.resetFormatAndType(),e.scalarTexture.create3DFilterableFromDataArray(b[0],b[1],b[2],s,e.renderable.getPreferSizeOverAccuracy()),s&&(e._openGLRenderWindow.setGraphicsResourceForObject(s,e.scalarTexture,v),s!==e._scalars&&(e._openGLRenderWindow.registerGraphicsResourceUser(s,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._scalars,t)),e._scalars=s)}else e.scalarTexture=C.oglObject;if(!e.tris.getCABO().getElementCount()){const b=new Float32Array(12);for(let R=0;R<4;R++)b[R*3]=R%2*2-1,b[R*3+1]=R>1?1:-1,b[R*3+2]=-1;const E=new Uint16Array(8);E[0]=3,E[1]=0,E[2]=1,E[3]=3,E[4]=3,E[5]=0,E[6]=3,E[7]=2;const O=Bn.newInstance({numberOfComponents:3,values:b});O.setName("points");const D=Bn.newInstance({numberOfComponents:1,values:E});e.tris.getCABO().createVBO(D,"polys",ns.SURFACE,{points:O,cellOffset:0})}e.VBOBuildTime.modified()},t.updateLabelOutlineThicknessTexture=a=>{var c;const i=a.getProperty().getLabelOutlineThickness(),o=e._openGLRenderWindow.getGraphicsResourceForObject(i),s=`${i.join("-")}`;if(!((c=o==null?void 0:o.oglObject)!=null&&c.getHandle())||(o==null?void 0:o.hash)!==s){e.labelOutlineThicknessTexture=Zr.newInstance(),e.labelOutlineThicknessTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const f=1024,u=1,d=f*u,g=new Uint8Array(d);for(let v=0;v<f;++v){const m=typeof i[v]<"u"?i[v]:i[0];g[v]=m}e.labelOutlineThicknessTexture.resetFormatAndType(),e.labelOutlineThicknessTexture.setMinificationFilter(Sn.NEAREST),e.labelOutlineThicknessTexture.setMagnificationFilter(Sn.NEAREST),e.labelOutlineThicknessTexture.create2DFromRaw(f,u,1,qn.UNSIGNED_CHAR,g),i&&(e._openGLRenderWindow.setGraphicsResourceForObject(i,e.labelOutlineThicknessTexture,s),i!==e._labelOutlineThicknessArray&&(e._openGLRenderWindow.registerGraphicsResourceUser(i,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._labelOutlineThicknessArray,t)),e._labelOutlineThicknessArray=i)}else e.labelOutlineThicknessTexture=o.oglObject},t.isLabelmapOutlineRequired=a=>{const i=a.getProperty(),o=e.renderable;return i.getUseLabelOutline()||o.getBlendMode()===E2.LABELMAP_EDGE_PROJECTION_BLEND}}const i6e={context:null,VBOBuildTime:null,scalarTexture:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,labelOutlineThicknessTexture:null,labelOutlineThicknessTextureString:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0};function jz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,i6e,n),Va.extend(t,e,n),Mc.implementBuildShadersWithReplacements(t,e,n),e.VBOBuildTime={},ea(e.VBOBuildTime,{mtime:0}),e.tris=Uc.newInstance(),e.jitterTexture=Zr.newInstance(),e.jitterTexture.setWrapS(kv.REPEAT),e.jitterTexture.setWrapT(kv.REPEAT),e.framebuffer=X5.newInstance(),e.idxToView=Dn(new Float64Array(16)),e.idxNormalMatrix=$s(new Float64Array(9)),e.modelToView=Dn(new Float64Array(16)),e.projectionToView=Dn(new Float64Array(16)),e.projectionToWorld=Dn(new Float64Array(16)),Ka(t,e,["context"]),a6e(t,e)}const Hz=Vr(jz,"vtkOpenGLVolumeMapper");var qz={newInstance:Hz,extend:jz};di("vtkVolumeMapper",Hz);function Bw(t,e){switch(t){case"Float32Array":return Float32Array;case"Uint8Array":return Uint8Array;case"Uint16Array":case"Int16Array":return e?(console.debug(`${t} is not supported for volume rendering, switching back to Float32Array`),Float32Array):t==="Uint16Array"?Uint16Array:Int16Array;default:if(t)throw new Error("TargetBuffer should be Float32Array, Uint8Array, Uint16Array, or Int16Array");return Float32Array}}function Kz(t,e,n={}){const{isVolumeBuffer:r=!1}=n,a=Bw(t,r),i=a.BYTES_PER_ELEMENT;return{numBytes:e*i,TypedArrayConstructor:a}}function Of(t){return Vv.get(t)}function p0(){return Vv.getAll()}const g3=t=>t&&typeof t=="object"&&Object.prototype.toString.call(t)!=="[object RegExp]"&&Object.prototype.toString.call(t)!=="[object Date]",o6e=t=>Array.isArray(t)?[]:{},Gv=(t,e)=>e&&e.clone===!0&&g3(t)?uo(o6e(t),t,e):t,WA=(t,e,n)=>{const r=t.slice();return e.forEach(function(a,i){typeof r[i]>"u"?r[i]=Gv(a,n):g3(a)?r[i]=uo(t[i],a,n):t.indexOf(a)===-1&&(r[i]=Gv(a,n))}),r},s6e=(t,e,n)=>{const r={};return g3(t)&&Object.keys(t).forEach(function(a){r[a]=Gv(t[a],n)}),Object.keys(e).forEach(function(a){!g3(e[a])||!t[a]?r[a]=Gv(e[a],n):r[a]=uo(t[a],e[a],n)}),r},uo=(t={},e={},n=void 0)=>{const r=Array.isArray(e),i=(n||{arrayMerge:WA}).arrayMerge||WA;return r?Array.isArray(t)?i(t,e,n):Gv(e,n):s6e(t,e,n)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qz=Symbol("Comlink.proxy"),l6e=Symbol("Comlink.endpoint"),Xz=Symbol("Comlink.releaseProxy"),T8=Symbol("Comlink.finalizer"),$2=Symbol("Comlink.thrown"),Yz=t=>typeof t=="object"&&t!==null||typeof t=="function",c6e={canHandle:t=>Yz(t)&&t[Qz],serialize(t){const{port1:e,port2:n}=new MessageChannel;return Gw(t,e),[n,[n]]},deserialize(t){return t.start(),Y9(t)}},u6e={canHandle:t=>Yz(t)&&$2 in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},Zz=new Map([["proxy",c6e],["throw",u6e]]);function f6e(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function Gw(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(a){if(!a||!a.data)return;if(!f6e(n,a.origin)){console.warn(`Invalid origin '${a.origin}' for comlink proxy`);return}const{id:i,type:o,path:s}=Object.assign({path:[]},a.data),l=(a.data.argumentList||[]).map(Ru);let c;try{const f=s.slice(0,-1).reduce((d,g)=>d[g],t),u=s.reduce((d,g)=>d[g],t);switch(o){case"GET":c=u;break;case"SET":f[s.slice(-1)[0]]=Ru(a.data.value),c=!0;break;case"APPLY":c=u.apply(f,l);break;case"CONSTRUCT":{const d=new u(...l);c=nW(d)}break;case"ENDPOINT":{const{port1:d,port2:g}=new MessageChannel;Gw(t,g),c=p6e(d,[d])}break;case"RELEASE":c=void 0;break;default:return}}catch(f){c={value:f,[$2]:0}}Promise.resolve(c).catch(f=>({value:f,[$2]:0})).then(f=>{const[u,d]=p3(f);e.postMessage(Object.assign(Object.assign({},u),{id:i}),d),o==="RELEASE"&&(e.removeEventListener("message",r),Jz(e),T8 in t&&typeof t[T8]=="function"&&t[T8]())}).catch(f=>{const[u,d]=p3({value:new TypeError("Unserializable return value"),[$2]:0});e.postMessage(Object.assign(Object.assign({},u),{id:i}),d)})}),e.start&&e.start()}function d6e(t){return t.constructor.name==="MessagePort"}function Jz(t){d6e(t)&&t.close()}function Y9(t,e){return Z9(t,[],e)}function Mh(t){if(t)throw new Error("Proxy has been released and is not useable")}function eW(t){return id(t,{type:"RELEASE"}).then(()=>{Jz(t)})}const m3=new WeakMap,v3="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(m3.get(t)||0)-1;m3.set(t,e),e===0&&eW(t)});function g6e(t,e){const n=(m3.get(e)||0)+1;m3.set(e,n),v3&&v3.register(t,e,t)}function m6e(t){v3&&v3.unregister(t)}function Z9(t,e=[],n=function(){}){let r=!1;const a=new Proxy(n,{get(i,o){if(Mh(r),o===Xz)return()=>{m6e(a),eW(t),r=!0};if(o==="then"){if(e.length===0)return{then:()=>a};const s=id(t,{type:"GET",path:e.map(l=>l.toString())}).then(Ru);return s.then.bind(s)}return Z9(t,[...e,o])},set(i,o,s){Mh(r);const[l,c]=p3(s);return id(t,{type:"SET",path:[...e,o].map(f=>f.toString()),value:l},c).then(Ru)},apply(i,o,s){Mh(r);const l=e[e.length-1];if(l===l6e)return id(t,{type:"ENDPOINT"}).then(Ru);if(l==="bind")return Z9(t,e.slice(0,-1));const[c,f]=jA(s);return id(t,{type:"APPLY",path:e.map(u=>u.toString()),argumentList:c},f).then(Ru)},construct(i,o){Mh(r);const[s,l]=jA(o);return id(t,{type:"CONSTRUCT",path:e.map(c=>c.toString()),argumentList:s},l).then(Ru)}});return g6e(a,t),a}function v6e(t){return Array.prototype.concat.apply([],t)}function jA(t){const e=t.map(p3);return[e.map(n=>n[0]),v6e(e.map(n=>n[1]))]}const tW=new WeakMap;function p6e(t,e){return tW.set(t,e),t}function nW(t){return Object.assign(t,{[Qz]:!0})}function p3(t){for(const[e,n]of Zz)if(n.canHandle(t)){const[r,a]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},a]}return[{type:"RAW",value:t},tW.get(t)||[]]}function Ru(t){switch(t.type){case"HANDLER":return Zz.get(t.name).deserialize(t.value);case"RAW":return t.value}}function id(t,e,n){return new Promise(r=>{const a=h6e();t.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==a||(t.removeEventListener("message",i),r(o.data))}),t.start&&t.start(),t.postMessage(Object.assign({id:a},e),n)})}function h6e(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class zw{constructor(e){this.numRequests={[Vn.Interaction]:0,[Vn.Thumbnail]:0,[Vn.Prefetch]:0,[Vn.Compute]:0},this.id=e||Li(),this.requestPool={[Vn.Interaction]:{0:[]},[Vn.Thumbnail]:{0:[]},[Vn.Prefetch]:{0:[]},[Vn.Compute]:{0:[]}},this.grabDelay=5,this.awake=!1,this.numRequests={[Vn.Interaction]:0,[Vn.Thumbnail]:0,[Vn.Prefetch]:0,[Vn.Compute]:0},this.maxNumRequests={[Vn.Interaction]:6,[Vn.Thumbnail]:6,[Vn.Prefetch]:5,[Vn.Compute]:1e3}}setMaxSimultaneousRequests(e,n){this.maxNumRequests[e]=n}getMaxSimultaneousRequests(e){return this.maxNumRequests[e]}destroy(){this.timeoutHandle&&window.clearTimeout(this.timeoutHandle)}addRequest(e,n,r,a=0){const i={requestFn:e,type:n,additionalDetails:r};this.requestPool[n][a]===void 0&&(this.requestPool[n][a]=[]),this.requestPool[n][a].push(i),this.startGrabbing()}filterRequests(e){Object.keys(this.requestPool).forEach(n=>{const r=this.requestPool[n];Object.keys(r).forEach(a=>{r[a]=r[a].filter(i=>e(i))})})}clearRequestStack(e){if(!this.requestPool[e])throw new Error(`No category for the type ${e} found`);this.requestPool[e]={0:[]}}sendRequests(e){const n=this.maxNumRequests[e]-this.numRequests[e];let r=0;for(let a=0;a<n;a++){const i=this.getNextRequest(e);if(i===null)return!1;if(i){this.numRequests[e]++,this.awake=!0;let o;try{o=i.requestFn()}catch(s){console.warn("sendRequest failed",s)}o!=null&&o.finally?o.finally(()=>{this.numRequests[e]--,this.startAgain()}):(this.numRequests[e]--,r++)}}return r&&this.startAgain(),!0}getNextRequest(e){const n=this.getSortedPriorityGroups(e);for(const r of n)if(this.requestPool[e][r].length)return this.requestPool[e][r].shift();return null}startGrabbing(){const e=this.sendRequests(Vn.Interaction),n=this.sendRequests(Vn.Thumbnail),r=this.sendRequests(Vn.Prefetch),a=this.sendRequests(Vn.Compute);!e&&!n&&!r&&!a&&(this.awake=!1)}startAgain(){this.awake&&(this.grabDelay!==void 0?this.timeoutHandle||(this.timeoutHandle=window.setTimeout(()=>{this.timeoutHandle=null,this.startGrabbing()},this.grabDelay)):this.startGrabbing())}getSortedPriorityGroups(e){return Object.keys(this.requestPool[e]).map(Number).filter(r=>this.requestPool[e][r].length).sort((r,a)=>r-a)}getRequestPool(){return this.requestPool}}class rW{constructor(){this.workerRegistry={},this.workerPoolManager=new zw("webworker")}registerWorker(e,n,r={}){var l;const{maxWorkerInstances:a=1,overwrite:i=!1,autoTerminateOnIdle:o={enabled:!1,idleTimeThreshold:3e3}}=r;if(this.workerRegistry[e]&&!i){console.warn(`Worker type '${e}' is already registered...`);return}i&&((l=this.workerRegistry[e])!=null&&l.idleCheckIntervalId)&&clearInterval(this.workerRegistry[e].idleCheckIntervalId);const s={workerFn:null,instances:[],loadCounters:[],lastActiveTime:[],nativeWorkers:[],autoTerminateOnIdle:o.enabled,idleCheckIntervalId:null,idleTimeThreshold:o.idleTimeThreshold};s.loadCounters=Array(a).fill(0),s.lastActiveTime=Array(a).fill(null);for(let c=0;c<a;c++){const f=n();s.instances.push(Y9(f)),s.nativeWorkers.push(f),s.workerFn=n}this.workerRegistry[e]=s}getNextWorkerAPI(e){const n=this.workerRegistry[e];if(!n)return console.error(`Worker type '${e}' is not registered.`),null;const r=n.instances.filter(o=>o!==null);let a=0,i=n.loadCounters[0]||0;for(let o=1;o<r.length;o++){const s=n.loadCounters[o]||0;s<i&&(a=o,i=s)}if(n.instances[a]===null){const o=n.workerFn();n.instances[a]=Y9(o),n.nativeWorkers[a]=o}return n.loadCounters[a]+=1,{api:n.instances[a],index:a}}executeTask(e,n,r={},{requestType:a=Vn.Compute,priority:i=0,options:o={},callbacks:s=[]}={}){return new Promise((l,c)=>{const f=async()=>{const{api:u,index:d}=this.getNextWorkerAPI(e);if(!u){const g=new Error(`No available worker instance for '${e}'`);console.error(g),c(g);return}try{let g=[];s.length&&(g=s.map(p=>nW(p)));const v=this.workerRegistry[e];v.processing=!0;const m=await u[n](r,...g);v.processing=!1,v.lastActiveTime[d]=Date.now(),v.autoTerminateOnIdle&&!v.idleCheckIntervalId&&v.idleTimeThreshold&&(v.idleCheckIntervalId=setInterval(()=>{this.terminateIdleWorkers(e,v.idleTimeThreshold)},v.idleTimeThreshold)),l(m)}catch(g){console.error(`Error executing method '${n}' on worker '${e}':`,g),c(g)}finally{this.workerRegistry[e].loadCounters[d]--}};this.workerPoolManager.addRequest(f,a,o,i)})}terminateIdleWorkers(e,n){const r=this.workerRegistry[e];if(r.processing)return;const a=Date.now();r.instances.forEach((i,o)=>{const s=r.lastActiveTime[o],l=s!==null&&r.loadCounters[o]>0,c=a-s;!l&&c>n&&this.terminateWorkerInstance(e,o)})}terminate(e){const n=this.workerRegistry[e];if(!n){console.error(`Worker type '${e}' is not registered.`);return}n.instances.forEach((r,a)=>{this.terminateWorkerInstance(e,a)})}terminateWorkerInstance(e,n){const r=this.workerRegistry[e],a=r.instances[n];a!==null&&(a[Xz](),r.nativeWorkers[n].terminate(),r.instances[n]=null,r.lastActiveTime[n]=null)}}const w8=4,S6e=5,y6e=1,HA=[1,1];function qA({ext:t,filterType:e,texData:n,internalFormat:r,glDataType:a}){try{const i=document.createElement("canvas");i.width=w8,i.height=w8;const o=i.getContext("webgl2");if(!o)return!1;const s=`#version 300 es
    void main() {
      gl_PointSize = ${w8.toFixed(1)};
      gl_Position = vec4(0, 0, 0, 1);
    }
  `,l=`#version 300 es
    precision highp float;
    precision highp int;
    precision highp sampler2D;

    uniform sampler2D u_image;

    out vec4 color;

    void main() {
        vec4 intColor = texture(u_image, gl_PointCoord.xy);
        color = vec4(vec3(intColor.rrr), 1);
    }
    `;let c;if(t&&(c=o.getExtension(t),!c))return!1;const f=o.createShader(o.VERTEX_SHADER);if(o.shaderSource(f,s),o.compileShader(f),!o.getShaderParameter(f,o.COMPILE_STATUS))return!1;const u=o.createShader(o.FRAGMENT_SHADER);if(o.shaderSource(u,l),o.compileShader(u),!o.getShaderParameter(u,o.COMPILE_STATUS))return!1;const d=o.createProgram();if(o.attachShader(d,f),o.attachShader(d,u),o.linkProgram(d),!o.getProgramParameter(d,o.LINK_STATUS))return!1;const g=o.createTexture();o.bindTexture(o.TEXTURE_2D,g),o.texImage2D(o.TEXTURE_2D,0,r(o,c),S6e,y6e,0,o.RED,a(o,c),n);const v=e==="LINEAR"?o.LINEAR:o.NEAREST;o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,v),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,v),o.useProgram(d),o.drawArrays(o.POINTS,0,1);const m=new Uint8Array(4);o.readPixels(HA[0],HA[1],1,1,o.RGBA,o.UNSIGNED_BYTE,m);const[p,h,y]=m,C=o.getExtension("WEBGL_lose_context");return C&&C.loseContext(),p===h&&h===y&&p!==0}catch{return!1}}function C6e(){const t=new Int16Array([32767,2e3,3e3,4e3,5e3,16784,7e3,8e3,9e3,32767]);return{norm16:qA({ext:"EXT_texture_norm16",filterType:"NEAREST",texData:t,internalFormat:(e,n)=>n.R16_SNORM_EXT,glDataType:e=>e.SHORT}),norm16Linear:qA({ext:"EXT_texture_norm16",filterType:"LINEAR",texData:t,internalFormat:(e,n)=>n.R16_SNORM_EXT,glDataType:e=>e.SHORT})}}let dm=!1;const J9={gpuTier:{tier:2},isMobile:!1,rendering:{useCPURendering:!1,preferSizeOverAccuracy:!1,strictZSpacingForVolumeViewport:!0},peerImport:t=>null};let ku={...J9,rendering:{...J9.rendering}},km=null,aW=!1;function x6e(){const t=document.createElement("canvas");return t.getContext("webgl2")||t.getContext("webgl")||t.getContext("experimental-webgl")}function T6e(){const t=x6e();return t instanceof WebGLRenderingContext||t instanceof WebGL2RenderingContext}function w6e(){const t=C6e();return t.norm16&&t.norm16Linear}function iW(){return/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&navigator.platform.includes("MacIntel")}function b6e(t=ku){var n;return dm||(aW=w6e(),ku=uo(J9,t),iW()&&((n=t.rendering)!=null&&n.preferSizeOverAccuracy?ku.rendering.preferSizeOverAccuracy=!0:console.log("norm16 texture not supported, you can turn on the preferSizeOverAccuracy flag to use native data type, but be aware of the inaccuracy of the rendering in high bits")),T6e()?console.log("CornerstoneRender: using GPU rendering"):(console.log("CornerstoneRender: GPU not detected, using CPU rendering"),ku.rendering.useCPURendering=!0),dm=!0,km||(km=new rW),dm)}function E6e(){return aW}function Ww(){return!iW()}function Um(){return ku.rendering.useCPURendering}function D6e(){return dm}function jw(){return ku}function oW(){return km||(km=new rW),km}async function O6e(t){return ku.peerImport(t)}function R6e(t,e){e.classHierarchy.push("vtkStreamingOpenGLVolumeMapper"),t.buildBufferObjects=(n,r)=>{var m;const a=e.currentInput;if(!a)return;const i=r.getProperty();if(!e.jitterTexture.getHandle()){const p=new Uint8Array(1024);for(let h=0;h<32*32;++h)p[h]=255*Math.random();e.jitterTexture.setMinificationFilter(Sn.LINEAR),e.jitterTexture.setMagnificationFilter(Sn.LINEAR),e.jitterTexture.create2DFromRaw(32,32,1,qn.UNSIGNED_CHAR,p)}const{numberOfComponents:o}=a.get("numberOfComponents"),s=t.useIndependentComponents(i),l=i.getScalarOpacity(),c=e._openGLRenderWindow.getGraphicsResourceForObject(l);let f=f0(l,s,o);if(!(c!=null&&c.oglObject)||c.hash!==f){e.opacityTexture=Zr.newInstance(),e.opacityTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const p=1024,h=p*2*o,y=new Float32Array(h),C=new Float32Array(p);for(let x=0;x<o;++x){const T=i.getScalarOpacity(x),w=t.getCurrentSampleDistance(n)/i.getScalarOpacityUnitDistance(x),b=T.getRange();T.getTable(b[0],b[1],p,C,1);for(let E=0;E<p;++E)y[x*p*2+E]=1-(1-C[E])**w,y[x*p*2+E+p]=y[x*p*2+E]}if(e.opacityTexture.resetFormatAndType(),e.opacityTexture.setMinificationFilter(Sn.LINEAR),e.opacityTexture.setMagnificationFilter(Sn.LINEAR),e._openGLRenderWindow.getWebgl2()&&e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))e.opacityTexture.create2DFromRaw(p,2*o,1,qn.FLOAT,y);else{const x=new Uint8ClampedArray(h);for(let T=0;T<h;++T)x[T]=255*y[T];e.opacityTexture.create2DFromRaw(p,2*o,1,qn.UNSIGNED_CHAR,x)}l&&(e._openGLRenderWindow.setGraphicsResourceForObject(l,e.opacityTexture,f),l!==e._scalarOpacityFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(l,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._scalarOpacityFunc,t)),e._scalarOpacityFunc=l)}else e.opacityTexture=c.oglObject;const d=i.getRGBTransferFunction();f=f0(d,s,o);const g=e._openGLRenderWindow.getGraphicsResourceForObject(d);if(!((m=g==null?void 0:g.oglObject)!=null&&m.getHandle())||(g==null?void 0:g.hash)!==f){e.colorTexture=Zr.newInstance(),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const p=1024,h=p*2*o*3,y=new Uint8ClampedArray(h),C=new Float32Array(p*3);for(let x=0;x<o;++x){const T=i.getRGBTransferFunction(x),w=T.getRange();T.getTable(w[0],w[1],p,C,1);for(let b=0;b<p*3;++b)y[x*p*6+b]=255*C[b],y[x*p*6+b+p*3]=255*C[b]}e.colorTexture.resetFormatAndType(),e.colorTexture.setMinificationFilter(Sn.LINEAR),e.colorTexture.setMagnificationFilter(Sn.LINEAR),e.colorTexture.create2DFromRaw(p,2*o,3,qn.UNSIGNED_CHAR,y),d&&(e._openGLRenderWindow.setGraphicsResourceForObject(d,e.colorTexture,f),d!==e._colorTransferFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(d,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._colorTransferFunc,t)),e._colorTransferFunc=d)}else e.colorTexture=g.oglObject;if(t.updateLabelOutlineThicknessTexture(r),f=`${a.getMTime()}-${e.scalarTexture.getMTime()}`,e.scalarTextureString!==f){const p=a.getDimensions();e.scalarTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.scalarTexture.enableUseHalfFloat(!1);const h=e.scalarTexture.getTextureParameters(),y=a.get("dataType").dataType;let C=!0;if((h==null?void 0:h.dataType)===y&&(h==null?void 0:h.width)===p[0]&&(h==null?void 0:h.height)===p[1]&&(h==null?void 0:h.depth)===p[2]&&(C=!1),C){const x=e.context.getExtension("EXT_texture_norm16");e.scalarTexture.setOglNorm16Ext(E6e()?x:null),e.scalarTexture.resetFormatAndType(),e.scalarTexture.setTextureParameters({width:p[0],height:p[1],depth:p[2],numberOfComponents:o,dataType:y}),e.scalarTexture.create3DFromRaw(p[0],p[1],p[2],o,y,null),e.scalarTexture.update3DFromRaw()}else e.scalarTexture.deactivate(),e.scalarTexture.update3DFromRaw();e.scalarTextureString=f}if(!e.tris.getCABO().getElementCount()){const p=new Float32Array(12);for(let x=0;x<4;x++)p[x*3]=x%2*2-1,p[x*3+1]=x>1?1:-1,p[x*3+2]=-1;const h=new Uint16Array(8);h[0]=3,h[1]=0,h[2]=1,h[3]=3,h[4]=3,h[5]=0,h[6]=3,h[7]=2;const y=Bn.newInstance({numberOfComponents:3,values:p});y.setName("points");const C=Bn.newInstance({numberOfComponents:1,values:h});e.tris.getCABO().createVBO(C,"polys",ns.SURFACE,{points:y,cellOffset:0})}e.VBOBuildTime.modified()},t.getNeedToRebuildBufferObjects=(n,r)=>{var a,i,o,s,l,c;return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()||e.VBOBuildTime.getMTime()<((a=e.scalarTexture)==null?void 0:a.getMTime())||e.VBOBuildTime.getMTime()<((i=e.colorTexture)==null?void 0:i.getMTime())||e.VBOBuildTime.getMTime()<((o=e.labelOutlineThicknessTexture)==null?void 0:o.getMTime())||!((s=e.scalarTexture)!=null&&s.getHandle())||!((l=e.colorTexture)!=null&&l.getHandle())||!((c=e.labelOutlineThicknessTexture)!=null&&c.getHandle())}}const I6e={};function sW(t,e,n={}){Object.assign(e,I6e,n),qz.extend(t,e,n),e.scalarTexture=n.scalarTexture,e.previousState={},R6e(t,e)}const A6e=ne.newInstance(sW,"vtkStreamingOpenGLVolumeMapper"),M6e={newInstance:A6e,extend:sW},lW=Object.create(null);function ii(t,e){lW[t]=e}function P6e(t,e){e.classHierarchy.push("vtkStreamingOpenGLViewNodeFactory"),t.createNode=n=>{if(n.isDeleted())return null;let r=0,a=n.getClassName(r++),i=!1;const o=Object.keys(e.overrides);for(;a&&!i;)o.includes(a)?i=!0:a=n.getClassName(r++);if(!i)return null;const s=e.getModelInitialValues(n),l=e.overrides[a](s);return l.setMyFactory(t),l},e.overrides=lW,e.getModelInitialValues=n=>{const r={};return n.getClassName()==="vtkSharedVolumeMapper"&&(r.scalarTexture=n.getScalarTexture()),r}}const L6e={};function cW(t,e,n={}){Object.assign(e,L6e,n),uw.extend(t,e,n),P6e(t,e),ii("vtkActor",G4e.newInstance),ii("vtkActor2D",j4e.newInstance),ii("vtkCamera",K4e.newInstance),ii("vtkGlyph3DMapper",hCe.newInstance),ii("vtkImageMapper",wCe.newInstance),ii("vtkImageCPRMapper",OCe.newInstance),ii("vtkImageSlice",ACe.newInstance),ii("vtkMapper",iy.newInstance),ii("vtkPixelSpaceCallbackMapper",_Ce.newInstance),ii("vtkRenderer",VCe.newInstance),ii("vtkSkybox",BCe.newInstance),ii("vtkSphereMapper",HCe.newInstance),ii("vtkStickMapper",XCe.newInstance),ii("vtkTexture",Zr.newInstance),ii("vtkVolume",JCe.newInstance),ii("vtkVolumeMapper",qz.newInstance),ii("vtkSharedVolumeMapper",M6e.newInstance)}const _6e=ne.newInstance(cW,"vtkStreamingOpenGLViewNodeFactory"),N6e={newInstance:_6e,extend:cW};function F6e(t,e){e.classHierarchy.push("vtkStreamingOpenGLRenderWindow")}function uW(t,e,n={}){Object.assign(e,n),k4e.extend(t,e,n),e.myFactory=N6e.newInstance(),ii("vtkRenderWindow",fW),F6e(t,e)}const fW=ne.newInstance(uW,"vtkStreamingOpenGLRenderWindow"),$6e={newInstance:fW,extend:uW},{vtkDebugMacro:Ph}=ne;function V6e(t,e){e.classHierarchy.push("vtkCamera");const n=new Float64Array(3),r=new Float64Array([0,0,-1]),a=new Float64Array([0,1,0]),i=Dn(new Float64Array(16)),o=Dn(new Float64Array(16)),s=new Float64Array(3),l=new Float64Array(3),c=new Float64Array(3),f=Dn(new Float64Array(16)),u=Dn(new Float64Array(16)),d=new Float64Array(3),g=new Float64Array(3);function v(){e.viewPlaneNormal[0]=-e.directionOfProjection[0],e.viewPlaneNormal[1]=-e.directionOfProjection[1],e.viewPlaneNormal[2]=-e.directionOfProjection[2]}t.orthogonalizeViewUp=()=>{const m=t.getViewMatrix();e.viewUp[0]=m[4],e.viewUp[1]=m[5],e.viewUp[2]=m[6],t.modified()},t.setPosition=(m,p,h)=>{m===e.position[0]&&p===e.position[1]&&h===e.position[2]||(e.position[0]=m,e.position[1]=p,e.position[2]=h,t.computeDistance(),t.modified())},t.setFocalPoint=(m,p,h)=>{m===e.focalPoint[0]&&p===e.focalPoint[1]&&h===e.focalPoint[2]||(e.focalPoint[0]=m,e.focalPoint[1]=p,e.focalPoint[2]=h,t.computeDistance(),t.modified())},t.setDistance=m=>{if(e.distance===m)return;e.distance=m,e.distance<1e-20&&(e.distance=1e-20,Ph("Distance is set to minimum."));const p=e.directionOfProjection;e.focalPoint[0]=e.position[0]+p[0]*e.distance,e.focalPoint[1]=e.position[1]+p[1]*e.distance,e.focalPoint[2]=e.position[2]+p[2]*e.distance,t.modified()},t.computeDistance=()=>{const m=e.focalPoint[0]-e.position[0],p=e.focalPoint[1]-e.position[1],h=e.focalPoint[2]-e.position[2];if(e.distance=Math.sqrt(m*m+p*p+h*h),e.distance<1e-20){e.distance=1e-20,Ph("Distance is set to minimum.");const y=e.directionOfProjection;e.focalPoint[0]=e.position[0]+y[0]*e.distance,e.focalPoint[1]=e.position[1]+y[1]*e.distance,e.focalPoint[2]=e.position[2]+y[2]*e.distance}e.directionOfProjection[0]=m/e.distance,e.directionOfProjection[1]=p/e.distance,e.directionOfProjection[2]=h/e.distance,v()},t.dolly=m=>{if(m<=0)return;const p=e.distance/m;t.setPosition(e.focalPoint[0]-p*e.directionOfProjection[0],e.focalPoint[1]-p*e.directionOfProjection[1],e.focalPoint[2]-p*e.directionOfProjection[2])},t.roll=m=>{const p=e.position,h=e.focalPoint,y=e.viewUp,C=new Float64Array([y[0],y[1],y[2],0]);Dn(f);const x=new Float64Array([h[0]-p[0],h[1]-p[1],h[2]-p[2]]);vs(f,f,ma(m),x),Vu(C,C,f),e.viewUp[0]=C[0],e.viewUp[1]=C[1],e.viewUp[2]=C[2],t.modified()},t.azimuth=m=>{const p=e.focalPoint;Dn(u),La(u,u,p),vs(u,u,ma(m),e.viewUp),La(u,u,[-p[0],-p[1],-p[2]]),hr(d,e.position,u),t.setPosition(d[0],d[1],d[2])},t.yaw=m=>{const p=e.position;Dn(u),La(u,u,p),vs(u,u,ma(m),e.viewUp),La(u,u,[-p[0],-p[1],-p[2]]),hr(g,e.focalPoint,u),t.setFocalPoint(g[0],g[1],g[2])},t.elevation=m=>{const p=e.focalPoint,h=t.getViewMatrix(),y=[-h[0],-h[1],-h[2]];Dn(u),La(u,u,p),vs(u,u,ma(m),y),La(u,u,[-p[0],-p[1],-p[2]]),hr(d,e.position,u),t.setPosition(d[0],d[1],d[2])},t.pitch=m=>{const p=e.position,h=t.getViewMatrix(),y=[h[0],h[1],h[2]];Dn(u),La(u,u,p),vs(u,u,ma(m),y),La(u,u,[-p[0],-p[1],-p[2]]),hr(g,e.focalPoint,u),t.setFocalPoint(...g)},t.zoom=m=>{m<=0||(e.parallelProjection?e.parallelScale/=m:e.viewAngle/=m,t.modified())},t.translate=(m,p,h)=>{const y=[m,p,h];e3(e.position,y,e.position),e3(e.focalPoint,y,e.focalPoint),t.computeDistance(),t.modified()},t.applyTransform=m=>{const p=[...e.viewUp,1],h=[],y=[],C=[];p[0]+=e.position[0],p[1]+=e.position[1],p[2]+=e.position[2],Vu(h,[...e.position,1],m),Vu(y,[...e.focalPoint,1],m),Vu(C,p,m),C[0]-=h[0],C[1]-=h[1],C[2]-=h[2],t.setPosition(...h.slice(0,3)),t.setFocalPoint(...y.slice(0,3)),t.setViewUp(...C.slice(0,3))},t.getThickness=()=>e.clippingRange[1]-e.clippingRange[0],t.setThickness=m=>{let p=m;p<1e-20&&(p=1e-20,Ph("Thickness is set to minimum.")),t.setClippingRange(e.clippingRange[0],e.clippingRange[0]+p)},t.setThicknessFromFocalPoint=m=>{let p=m;p<1e-20&&(p=1e-20,Ph("Thickness is set to minimum.")),t.setClippingRange(e.distance-p/2,e.distance+p/2)},t.setRoll=m=>{},t.getRoll=()=>{},t.setObliqueAngles=(m,p)=>{},t.getOrientation=()=>{},t.getOrientationWXYZ=()=>{},t.getFrustumPlanes=m=>{},t.getCameraLightTransformMatrix=m=>(Ea(m,e.cameraLightTransform),m),t.computeCameraLightTransform=()=>{Ea(i,t.getViewMatrix()),qa(i,i),hw(o,[e.distance,e.distance,e.distance]),Zn(i,i,o),Dn(e.cameraLightTransform),La(e.cameraLightTransform,i,[0,0,-1])},t.deepCopy=m=>{},t.physicalOrientationToWorldDirection=m=>{const p=SA(m[0],m[1],m[2],m[3]),h=uf(),y=SA(0,0,1,0);return B5e(h,p),hA(y,p,y),hA(y,y,h),[y[0],y[1],y[2]]},t.getPhysicalToWorldMatrix=m=>{t.getWorldToPhysicalMatrix(m),qa(m,m)},t.getWorldToPhysicalMatrix=m=>{Dn(m);const p=[3];u0(e.physicalViewNorth,e.physicalViewUp,p),m[0]=p[0],m[1]=p[1],m[2]=p[2],m[4]=e.physicalViewUp[0],m[5]=e.physicalViewUp[1],m[6]=e.physicalViewUp[2],m[8]=-e.physicalViewNorth[0],m[9]=-e.physicalViewNorth[1],m[10]=-e.physicalViewNorth[2],tr(m,m),xr(s,1/e.physicalScale,1/e.physicalScale,1/e.physicalScale),ol(m,m,s),La(m,m,e.physicalTranslation)},t.computeViewParametersFromViewMatrix=m=>{qa(i,m),hr(s,n,i),t.computeDistance();const p=e.distance;t.setPosition(s[0],s[1],s[2]),hr(l,r,i),Ga(l,l,s),Na(l,l),t.setDirectionOfProjection(l[0],l[1],l[2]),hr(c,a,i),Ga(c,c,s),Na(c,c),t.setViewUp(c[0],c[1],c[2]),t.setDistance(p)},t.computeViewParametersFromPhysicalMatrix=m=>{t.getWorldToPhysicalMatrix(i),Zn(i,m,i),t.computeViewParametersFromViewMatrix(i)},t.setViewMatrix=m=>{e.viewMatrix=m,e.viewMatrix&&(Ea(i,e.viewMatrix),t.computeViewParametersFromViewMatrix(i),tr(e.viewMatrix,e.viewMatrix))},t.getViewMatrix=()=>{if(e.viewMatrix)return e.viewMatrix;KB(i,e.position,e.focalPoint,e.viewUp),tr(i,i);const m=new Float64Array(16);return Ea(m,i),m},t.setProjectionMatrix=m=>{e.projectionMatrix=m},t.getProjectionMatrix=(m,p,h)=>{const y=new Float64Array(16);if(Dn(y),e.projectionMatrix){const T=1/e.physicalScale;return xr(s,T,T,T),Ea(y,e.projectionMatrix),ol(y,y,s),tr(y,y),y}Dn(i);const C=e.clippingRange[1]-e.clippingRange[0],x=[e.clippingRange[0]+(p+1)*C/2,e.clippingRange[0]+(h+1)*C/2];if(e.parallelProjection){const T=e.parallelScale*m,w=e.parallelScale,b=(e.windowCenter[0]-1)*T,E=(e.windowCenter[0]+1)*T,O=(e.windowCenter[1]-1)*w,D=(e.windowCenter[1]+1)*w;yw(i,b,E,O,D,x[0],x[1]),tr(i,i)}else{if(e.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");{const T=Math.tan(ma(e.viewAngle)/2);let w,b;e.useHorizontalViewAngle===!0?(w=e.clippingRange[0]*T,b=e.clippingRange[0]*T/m):(w=e.clippingRange[0]*T*m,b=e.clippingRange[0]*T);const E=(e.windowCenter[0]-1)*w,O=(e.windowCenter[0]+1)*w,D=(e.windowCenter[1]-1)*b,R=(e.windowCenter[1]+1)*b,I=x[0],M=x[1];i[0]=2*I/(O-E),i[5]=2*I/(R-D),i[2]=(E+O)/(O-E),i[6]=(D+R)/(R-D),i[10]=-(I+M)/(M-I),i[14]=-1,i[11]=-2*I*M/(M-I),i[15]=0}}return Ea(y,i),y},t.getCompositeProjectionMatrix=(m,p,h)=>{const y=t.getViewMatrix(),C=t.getProjectionMatrix(m,p,h);return Zn(C,y,C),C},t.setDirectionOfProjection=(m,p,h)=>{if(e.directionOfProjection[0]===m&&e.directionOfProjection[1]===p&&e.directionOfProjection[2]===h)return;e.directionOfProjection[0]=m,e.directionOfProjection[1]=p,e.directionOfProjection[2]=h;const y=e.directionOfProjection;e.focalPoint[0]=e.position[0]+y[0]*e.distance,e.focalPoint[1]=e.position[1]+y[1]*e.distance,e.focalPoint[2]=e.position[2]+y[2]*e.distance,v()},t.setDeviceAngles=(m,p,h,y)=>{const C=[3];u0(e.physicalViewNorth,e.physicalViewUp,C);const x=Dn(new Float64Array(16));vs(x,x,ma(m),e.physicalViewUp),vs(x,x,ma(p),C),vs(x,x,ma(h),e.physicalViewNorth),vs(x,x,ma(-y),e.physicalViewUp);const T=new Float64Array([-e.physicalViewUp[0],-e.physicalViewUp[1],-e.physicalViewUp[2]]),w=new Float64Array(e.physicalViewNorth);hr(T,T,x),hr(w,w,x),t.setDirectionOfProjection(T[0],T[1],T[2]),t.setViewUp(w[0],w[1],w[2]),t.modified()},t.setOrientationWXYZ=(m,p,h,y)=>{const C=Dn(new Float64Array(16));if(m!==0&&(p!==0||h!==0||y!==0)){const w=ma(m),b=uf();Cw(b,[p,h,y],w),r3(C,b)}const x=new Float64Array(3);hr(x,[0,0,-1],C);const T=new Float64Array(3);hr(T,[0,1,0],C),t.setDirectionOfProjection(...x),t.setViewUp(...T),t.modified()},t.computeClippingRange=m=>{let p=null,h=null;p=e.viewPlaneNormal,h=e.position;const y=-p[0],C=-p[1],x=-p[2],T=-(y*h[0]+C*h[1]+x*h[2]),w=[y*m[0]+C*m[2]+x*m[4]+T,1e-18];for(let b=0;b<2;b++)for(let E=0;E<2;E++)for(let O=0;O<2;O++){const D=y*m[O]+C*m[2+E]+x*m[4+b]+T;w[0]=D<w[0]?D:w[0],w[1]=D>w[1]?D:w[1]}return w}}const k6e={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,cameraLightTransform:kc(),physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function dW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,k6e,n),ne.obj(t,e),ne.get(t,e,["distance"]),ne.setGet(t,e,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),ne.getArray(t,e,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),ne.setGetArray(t,e,["clippingRange","windowCenter"],2),ne.setGetArray(t,e,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),V6e(t,e)}const U6e=ne.newInstance(dW,"vtkCamera");var Hw={newInstance:U6e,extend:dW};const B6e=["HeadLight","CameraLight","SceneLight"];function G6e(t,e){e.classHierarchy.push("vtkLight");const n=new Float64Array(3);t.getTransformedPosition=()=>(e.transformMatrix?hr(n,e.position,e.transformMatrix):xr(n,e.position[0],e.position[1],e.position[2]),n),t.getTransformedFocalPoint=()=>(e.transformMatrix?hr(n,e.focalPoint,e.transformMatrix):xr(n,e.focalPoint[0],e.focalPoint[1],e.focalPoint[2]),n),t.getDirection=()=>(e.directionMTime<e.mtime&&(Ca(e.direction,e.focalPoint,e.position),cf(e.direction),e.directionMTime=e.mtime),e.direction),t.setDirection=r=>{const a=new Float64Array(3);Ca(a,e.position,r),e.focalPoint=a},t.setDirectionAngle=(r,a)=>{const i=ma(r),o=ma(a);t.setPosition(Math.cos(i)*Math.sin(o),Math.sin(i),Math.cos(i)*Math.cos(o)),t.setFocalPoint(0,0,0),t.setPositional(0)},t.setLightTypeToHeadLight=()=>{t.setLightType("HeadLight")},t.setLightTypeToCameraLight=()=>{t.setLightType("CameraLight")},t.setLightTypeToSceneLight=()=>{t.setTransformMatrix(null),t.setLightType("SceneLight")},t.lightTypeIsHeadLight=()=>e.lightType==="HeadLight",t.lightTypeIsSceneLight=()=>e.lightType==="SceneLight",t.lightTypeIsCameraLight=()=>e.lightType==="CameraLight"}const z6e={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,coneFalloff:5,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function gW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z6e,n),ne.obj(t,e),ne.setGet(t,e,["intensity","switch","positional","exponent","coneAngle","coneFalloff","transformMatrix","lightType","shadowAttenuation","attenuationValues"]),ne.setGetArray(t,e,["color","position","focalPoint","attenuationValues"],3),G6e(t,e)}const W6e=ne.newInstance(gW,"vtkLight");var j6e={newInstance:W6e,extend:gW,LIGHT_TYPES:B6e};const{vtkErrorMacro:V2}=ne;function H6e(t){return()=>V2(`vtkViewport::${t} - NOT IMPLEMENTED`)}function q6e(t,e){e.classHierarchy.push("vtkViewport"),t.getViewProps=()=>e.props,t.hasViewProp=r=>e.props.includes(r),t.addViewProp=r=>{r&&!t.hasViewProp(r)&&e.props.push(r)},t.removeViewProp=r=>{const a=e.props.filter(i=>i!==r);e.props.length!==a.length&&(e.props=a)},t.removeAllViewProps=()=>{e.props=[]};function n(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.push(r);const i=r.getNestedProps();if(i&&i.length)for(let o=0;o<i.length;o++)n(i[o],a);return a}t.getViewPropsWithNestedProps=()=>{const r=[];for(let a=0;a<e.props.length;a++)n(e.props[a],r);return r},t.addActor2D=t.addViewProp,t.removeActor2D=r=>{t.removeViewProp(r)},t.getActors2D=()=>(e.actors2D=[],e.props.forEach(r=>{e.actors2D=e.actors2D.concat(r.getActors2D())}),e.actors2D),t.displayToView=()=>V2("call displayToView on your view instead"),t.viewToDisplay=()=>V2("callviewtodisplay on your view instead"),t.getSize=()=>V2("call getSize on your View instead"),t.normalizedDisplayToProjection=(r,a,i)=>{const o=t.normalizedDisplayToNormalizedViewport(r,a,i);return t.normalizedViewportToProjection(o[0],o[1],o[2])},t.normalizedDisplayToNormalizedViewport=(r,a,i)=>{const o=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[(r-e.viewport[0])/o[0],(a-e.viewport[1])/o[1],i]},t.normalizedViewportToProjection=(r,a,i)=>[r*2-1,a*2-1,i*2-1],t.projectionToNormalizedDisplay=(r,a,i)=>{const o=t.projectionToNormalizedViewport(r,a,i);return t.normalizedViewportToNormalizedDisplay(o[0],o[1],o[2])},t.normalizedViewportToNormalizedDisplay=(r,a,i)=>{const o=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[r*o[0]+e.viewport[0],a*o[1]+e.viewport[1],i]},t.projectionToNormalizedViewport=(r,a,i)=>[(r+1)*.5,(a+1)*.5,(i+1)*.5],t.PickPropFrom=H6e("PickPropFrom")}const K6e={background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function mW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,K6e,n),ne.obj(t,e),ne.event(t,e,"event"),ne.setGetArray(t,e,["viewport"],4),ne.setGetArray(t,e,["background","background2"],3),q6e(t,e)}const Q6e=ne.newInstance(mW,"vtkViewport");var X6e={newInstance:Q6e,extend:mW};const{vtkDebugMacro:Bg,vtkErrorMacro:zl,vtkWarningMacro:Y6e}=Ni;function KA(t){return()=>zl(`vtkRenderer::${t} - NOT IMPLEMENTED`)}function Z6e(t,e){e.classHierarchy.push("vtkRenderer");const n={type:"ComputeVisiblePropBoundsEvent",renderer:t},r={type:"ResetCameraClippingRangeEvent",renderer:t},a={type:"ResetCameraEvent",renderer:t};t.updateCamera=()=>(e.activeCamera||(Bg("No cameras are on, creating one."),t.getActiveCameraAndResetIfCreated()),e.activeCamera.render(t),!0),t.updateLightsGeometryToFollowCamera=()=>{const i=t.getActiveCameraAndResetIfCreated();e.lights.forEach(o=>{o.lightTypeIsSceneLight()||(o.lightTypeIsHeadLight()?(o.setPositionFrom(i.getPositionByReference()),o.setFocalPointFrom(i.getFocalPointByReference()),o.modified(i.getMTime())):o.lightTypeIsCameraLight()?o.setTransformMatrix(i.getCameraLightTransformMatrix(kc())):zl("light has unknown light type",o.get()))})},t.updateLightGeometry=()=>e.lightFollowCamera?t.updateLightsGeometryToFollowCamera():!0,t.allocateTime=KA("allocateTime"),t.updateGeometry=KA("updateGeometry"),t.getVTKWindow=()=>e._renderWindow,t.setLayer=i=>{Bg(t.getClassName(),t,"setting Layer to ",i),e.layer!==i&&(e.layer=i,t.modified()),t.setPreserveColorBuffer(!!i)},t.setActiveCamera=i=>e.activeCamera===i?!1:(e.activeCamera=i,t.modified(),t.invokeEvent({type:"ActiveCameraEvent",camera:i}),!0),t.makeCamera=()=>{const i=Hw.newInstance();return t.invokeEvent({type:"CreateCameraEvent",camera:i}),i},t.getActiveCamera=()=>(e.activeCamera||(e.activeCamera=t.makeCamera()),e.activeCamera),t.getActiveCameraAndResetIfCreated=()=>(e.activeCamera||(t.getActiveCamera(),t.resetCamera()),e.activeCamera),t.getActors=()=>(e.actors=[],e.props.forEach(i=>{e.actors=e.actors.concat(i.getActors())}),e.actors),t.addActor=t.addViewProp,t.removeActor=i=>{e.actors=e.actors.filter(o=>o!==i),t.removeViewProp(i),t.modified()},t.removeAllActors=()=>{t.getActors().forEach(o=>{t.removeViewProp(o)}),e.actors=[],t.modified()},t.getVolumes=()=>(e.volumes=[],e.props.forEach(i=>{e.volumes=e.volumes.concat(i.getVolumes())}),e.volumes),t.addVolume=t.addViewProp,t.removeVolume=i=>{e.volumes=e.volumes.filter(o=>o!==i),t.removeViewProp(i),t.modified()},t.removeAllVolumes=()=>{t.getVolumes().forEach(o=>{t.removeViewProp(o)}),e.volumes=[],t.modified()},t.hasLight=i=>e.lights.includes(i),t.addLight=i=>{i&&!t.hasLight(i)&&(e.lights.push(i),t.modified())},t.removeLight=i=>{e.lights=e.lights.filter(o=>o!==i),t.modified()},t.removeAllLights=()=>{e.lights=[],t.modified()},t.setLightCollection=i=>{e.lights=i,t.modified()},t.makeLight=j6e.newInstance,t.createLight=()=>{e.automaticLightCreation&&(e._createdLight&&(t.removeLight(e._createdLight),e._createdLight.delete(),e._createdLight=null),e._createdLight=t.makeLight(),t.addLight(e._createdLight),e._createdLight.setLightTypeToHeadLight(),e._createdLight.setPosition(t.getActiveCamera().getPosition()),e._createdLight.setFocalPoint(t.getActiveCamera().getFocalPoint()))},t.normalizedDisplayToWorld=(i,o,s,l)=>{let c=t.normalizedDisplayToProjection(i,o,s);return c=t.projectionToView(c[0],c[1],c[2],l),t.viewToWorld(c[0],c[1],c[2])},t.worldToNormalizedDisplay=(i,o,s,l)=>{let c=t.worldToView(i,o,s);return c=t.viewToProjection(c[0],c[1],c[2],l),t.projectionToNormalizedDisplay(c[0],c[1],c[2])},t.viewToWorld=(i,o,s)=>{if(e.activeCamera===null)return zl("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];const l=e.activeCamera.getViewMatrix();qa(l,l),tr(l,l);const c=new Float64Array([i,o,s]);return hr(c,c,l),c},t.projectionToView=(i,o,s,l)=>{if(e.activeCamera===null)return zl("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];const c=e.activeCamera.getProjectionMatrix(l,-1,1);qa(c,c),tr(c,c);const f=new Float64Array([i,o,s]);return hr(f,f,c),f},t.worldToView=(i,o,s)=>{if(e.activeCamera===null)return zl("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];const l=e.activeCamera.getViewMatrix();tr(l,l);const c=new Float64Array([i,o,s]);return hr(c,c,l),c},t.viewToProjection=(i,o,s,l)=>{if(e.activeCamera===null)return zl("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];const c=e.activeCamera.getProjectionMatrix(l,-1,1);tr(c,c);const f=new Float64Array([i,o,s]);return hr(f,f,c),f},t.computeVisiblePropBounds=()=>{e.allBounds[0]=Wr.INIT_BOUNDS[0],e.allBounds[1]=Wr.INIT_BOUNDS[1],e.allBounds[2]=Wr.INIT_BOUNDS[2],e.allBounds[3]=Wr.INIT_BOUNDS[3],e.allBounds[4]=Wr.INIT_BOUNDS[4],e.allBounds[5]=Wr.INIT_BOUNDS[5];let i=!0;t.invokeEvent(n);for(let o=0;o<e.props.length;++o){const s=e.props[o];if(s.getVisibility()&&s.getUseBounds()){const l=s.getBounds();l&&P2(l)&&(i=!1,l[0]<e.allBounds[0]&&(e.allBounds[0]=l[0]),l[1]>e.allBounds[1]&&(e.allBounds[1]=l[1]),l[2]<e.allBounds[2]&&(e.allBounds[2]=l[2]),l[3]>e.allBounds[3]&&(e.allBounds[3]=l[3]),l[4]<e.allBounds[4]&&(e.allBounds[4]=l[4]),l[5]>e.allBounds[5]&&(e.allBounds[5]=l[5]))}}return i&&(lg(e.allBounds),Bg("Can't compute bounds, no 3D props are visible")),e.allBounds},t.resetCamera=function(){const o=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||t.computeVisiblePropBounds(),s=[0,0,0];if(!P2(o))return Bg("Cannot reset camera!"),!1;let l=null;if(t.getActiveCamera())l=e.activeCamera.getViewPlaneNormal();else return zl("Trying to reset non-existent camera"),!1;e.activeCamera.setViewAngle(30),s[0]=(o[0]+o[1])/2,s[1]=(o[2]+o[3])/2,s[2]=(o[4]+o[5])/2;let c=o[1]-o[0],f=o[3]-o[2],u=o[5]-o[4];c*=c,f*=f,u*=u;let d=c+f+u;d=d===0?1:d,d=Math.sqrt(d)*.5;const g=ma(e.activeCamera.getViewAngle()),v=d,m=d/Math.sin(g*.5),p=e.activeCamera.getViewUp();return Math.abs(Wn(p,l))>.999&&(Y6e("Resetting view-up since view plane normal is parallel"),e.activeCamera.setViewUp(-p[2],p[0],p[1])),e.activeCamera.setFocalPoint(s[0],s[1],s[2]),e.activeCamera.setPosition(s[0]+m*l[0],s[1]+m*l[1],s[2]+m*l[2]),t.resetCameraClippingRange(o),e.activeCamera.setParallelScale(v),e.activeCamera.setPhysicalScale(d),e.activeCamera.setPhysicalTranslation(-s[0],-s[1],-s[2]),t.invokeEvent(a),!0},t.resetCameraClippingRange=function(){const o=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||t.computeVisiblePropBounds();if(!P2(o))return Bg("Cannot reset camera clipping range!"),!1;if(t.getActiveCameraAndResetIfCreated(),!e.activeCamera)return zl("Trying to reset clipping range of non-existent camera"),!1;const s=e.activeCamera.computeClippingRange(o);let l=0;if(e.activeCamera.getParallelProjection())l=.2*e.activeCamera.getParallelScale();else{const c=ma(e.activeCamera.getViewAngle());l=.2*Math.tan(c/2)*s[1]}return s[1]-s[0]<l&&(l=l-s[1]+s[0],s[1]+=l/2,s[0]-=l/2),s[0]<0&&(s[0]=0),s[0]=.99*s[0]-(s[1]-s[0])*e.clippingRangeExpansion,s[1]=1.01*s[1]+(s[1]-s[0])*e.clippingRangeExpansion,s[0]=s[0]>=s[1]?.01*s[1]:s[0],e.nearClippingPlaneTolerance||(e.nearClippingPlaneTolerance=.01),s[0]<e.nearClippingPlaneTolerance*s[1]&&(s[0]=e.nearClippingPlaneTolerance*s[1]),e.activeCamera.setClippingRange(s[0],s[1]),t.invokeEvent(r),!1},t.setRenderWindow=i=>{i!==e._renderWindow&&(e._vtkWindow=i,e._renderWindow=i)},t.visibleActorCount=()=>e.props.filter(i=>i.getVisibility()).length,t.visibleVolumeCount=t.visibleActorCount,t.getMTime=()=>{let i=e.mtime;const o=e.activeCamera?e.activeCamera.getMTime():0;o>i&&(i=o);const s=e._createdLight?e._createdLight.getMTime():0;return s>i&&(i=s),i},t.getTransparent=()=>!!e.preserveColorBuffer,t.isActiveCameraCreated=()=>!!e.activeCamera}const J6e={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:Ic(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,environmentTexture:null,environmentTextureDiffuseStrength:1,environmentTextureSpecularStrength:1,useEnvironmentTextureAsBackground:!1,pass:0};function vW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(Object.assign(e,J6e,n),X6e.extend(t,e,n),e.background||(e.background=[0,0,0,1]);e.background.length<3;)e.background.push(0);e.background.length===3&&e.background.push(1),Zi(t,e,["_renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),Ka(t,e,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","environmentTexture","environmentTextureDiffuseStrength","environmentTextureSpecularStrength","useEnvironmentTextureAsBackground","useShadows","pass"]),sg(t,e,["actors","volumes","lights"]),HT(t,e,["background"],4,1),bp(t,e,["renderWindow"]),Z6e(t,e)}const e9e=Vr(vW,"vtkRenderer");var t9e={newInstance:e9e,extend:vW};const n9e={Unknown:0,LeftController:1,RightController:2},r9e={Unknown:0,Trigger:1,TrackPad:2,Grip:3,Thumbstick:4,A:5,B:6,ApplicationMenu:7},a9e={Unknown:0,TouchpadX:1,TouchpadY:2,ThumbstickX:3,ThumbstickY:4};var pW={Device:n9e,Input:r9e,Axis:a9e};const{Device:Lh,Input:yu}=pW,{vtkWarningMacro:_h,vtkErrorMacro:Nh,normalizeWheel:i9e,vtkOnceErrorMacro:o9e}=ne,qf={ctrlKey:!1,altKey:!1,shiftKey:!1},b8={"xr-standard":[yu.Trigger,yu.Grip,yu.TrackPad,yu.Thumbstick,yu.A,yu.B]},qw=["StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"];function Gg(t){t.cancelable&&t.preventDefault()}function Fh(t){const e=Object.create(null);return t.forEach(n=>{let{pointerId:r,position:a}=n;e[r]=a}),e}function s9e(t,e){e.classHierarchy.push("vtkRenderWindowInteractor");const n={...t},r=new Set,a=new Map;let i=1;t.start=()=>{!e.initialized&&(t.initialize(),!e.initialized)||t.startEventLoop()},t.setRenderWindow=m=>{Nh("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},t.setInteractorStyle=m=>{e.interactorStyle!==m&&(e.interactorStyle!=null&&e.interactorStyle.setInteractor(null),e.interactorStyle=m,e.interactorStyle!=null&&e.interactorStyle.getInteractor()!==t&&e.interactorStyle.setInteractor(t))},t.initialize=()=>{e.initialized=!0,t.enable(),t.render()},t.enable=()=>t.setEnabled(!0),t.disable=()=>t.setEnabled(!1),t.startEventLoop=()=>_h("empty event loop");function o(m,p){e._forcedRenderer||(e.currentRenderer=t.findPokedRenderer(m,p))}t.getCurrentRenderer=()=>(e.currentRenderer||o(0,0),e.currentRenderer);function s(m){const p=e._view.getCanvas(),h=p.getBoundingClientRect(),y=p.width/h.width,C=p.height/h.height,x={x:y*(m.clientX-h.left),y:C*(h.height-m.clientY+h.top),z:0};return(a.size<=1||!e.currentRenderer)&&o(x.x,x.y),x}const l=e._getScreenEventPositionFor||s;function c(m){return{controlKey:m.ctrlKey,altKey:m.altKey,shiftKey:m.shiftKey}}function f(m){const p=c(m);return{key:m.key,keyCode:m.charCode,...p}}function u(m){return m.pointerType||""}const d=()=>{if(e.container===null)return;const{container:m}=e;m.addEventListener("contextmenu",Gg),m.addEventListener("wheel",t.handleWheel),m.addEventListener("DOMMouseScroll",t.handleWheel),m.addEventListener("pointerenter",t.handlePointerEnter),m.addEventListener("pointerleave",t.handlePointerLeave),m.addEventListener("pointermove",t.handlePointerMove,{passive:!1}),m.addEventListener("pointerdown",t.handlePointerDown,{passive:!1}),m.addEventListener("pointerup",t.handlePointerUp),m.addEventListener("pointercancel",t.handlePointerCancel),document.addEventListener("keypress",t.handleKeyPress),document.addEventListener("keydown",t.handleKeyDown),document.addEventListener("keyup",t.handleKeyUp),document.addEventListener("pointerlockchange",t.handlePointerLockChange),m.style.touchAction="none",m.style.userSelect="none",m.style.webkitTapHighlightColor="rgba(0,0,0,0)"};t.bindEvents=m=>{if(m===null)return;n.setContainer(m)&&d()};const g=()=>{clearTimeout(e.moveTimeoutID),clearTimeout(e.wheelTimeoutID),e.moveTimeoutID=0,e.wheelTimeoutID=0,i=1;const{container:m}=e;m&&(m.removeEventListener("contextmenu",Gg),m.removeEventListener("wheel",t.handleWheel),m.removeEventListener("DOMMouseScroll",t.handleWheel),m.removeEventListener("pointerenter",t.handlePointerEnter),m.removeEventListener("pointerleave",t.handlePointerLeave),m.removeEventListener("pointermove",t.handlePointerMove,{passive:!1}),m.removeEventListener("pointerdown",t.handlePointerDown,{passive:!1}),m.removeEventListener("pointerup",t.handlePointerUp),m.removeEventListener("pointercancel",t.handlePointerCancel)),document.removeEventListener("keypress",t.handleKeyPress),document.removeEventListener("keydown",t.handleKeyDown),document.removeEventListener("keyup",t.handleKeyUp),document.removeEventListener("pointerlockchange",t.handlePointerLockChange),a.clear()};t.unbindEvents=()=>{g(),n.setContainer(null)},t.handleKeyPress=m=>{const p=f(m);t.keyPressEvent(p)},t.handleKeyDown=m=>{const p=f(m);t.keyDownEvent(p)},t.handleKeyUp=m=>{const p=f(m);t.keyUpEvent(p)},t.handlePointerEnter=m=>{const p={...c(m),position:l(m),deviceType:u(m)};t.pointerEnterEvent(p),p.deviceType==="mouse"&&t.mouseEnterEvent(p)},t.handlePointerLeave=m=>{const p={...c(m),position:l(m),deviceType:u(m)};t.pointerLeaveEvent(p),p.deviceType==="mouse"&&t.mouseLeaveEvent(p)},t.handlePointerDown=m=>{if(!(m.button>2||t.isPointerLocked()))switch(e.preventDefaultOnPointerDown&&Gg(m),m.target.hasPointerCapture(m.pointerId)&&m.target.releasePointerCapture(m.pointerId),e.container.setPointerCapture(m.pointerId),a.has(m.pointerId)&&_h("[RenderWindowInteractor] duplicate pointerId detected"),a.set(m.pointerId,{pointerId:m.pointerId,position:l(m)}),m.pointerType){case"pen":case"touch":t.handleTouchStart(m);break;case"mouse":default:t.handleMouseDown(m);break}},t.handlePointerUp=m=>{if(a.has(m.pointerId))switch(e.preventDefaultOnPointerUp&&Gg(m),a.delete(m.pointerId),e.container.releasePointerCapture(m.pointerId),m.pointerType){case"pen":case"touch":t.handleTouchEnd(m);break;case"mouse":default:t.handleMouseUp(m);break}},t.handlePointerCancel=m=>{if(a.has(m.pointerId))switch(a.delete(m.pointerId),m.pointerType){case"pen":case"touch":t.handleTouchEnd(m);break;case"mouse":default:t.handleMouseUp(m);break}},t.handlePointerMove=m=>{if(a.has(m.pointerId)){const p=a.get(m.pointerId);p.position=l(m)}switch(m.pointerType){case"pen":case"touch":t.handleTouchMove(m);break;case"mouse":default:t.handleMouseMove(m);break}},t.handleMouseDown=m=>{const p={...c(m),position:l(m),deviceType:u(m)};switch(m.button){case 0:t.leftButtonPressEvent(p);break;case 1:t.middleButtonPressEvent(p);break;case 2:t.rightButtonPressEvent(p);break;default:Nh(`Unknown mouse button pressed: ${m.button}`);break}},t.requestPointerLock=()=>{e.container&&e.container.requestPointerLock()},t.exitPointerLock=()=>{var m;return(m=document.exitPointerLock)==null?void 0:m.call(document)},t.isPointerLocked=()=>!!e.container&&document.pointerLockElement===e.container,t.handlePointerLockChange=()=>{t.isPointerLocked()?t.startPointerLockEvent():t.endPointerLockEvent()};function v(){e._view&&e.enabled&&e.enableRender&&(e.inRender=!0,e._view.traverseAllPasses(),e.inRender=!1),t.invokeRenderEvent()}t.requestAnimation=m=>{if(m===void 0){Nh("undefined requester, can not start animating");return}if(r.has(m)){_h("requester is already registered for animating");return}r.add(m),!e.animationRequest&&r.size===1&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.extendAnimation=m=>{const p=Date.now()+m;e._animationExtendedEnd=Math.max(e._animationExtendedEnd,p),!e.animationRequest&&r.size===0&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.isAnimating=()=>e.xrAnimation||e.animationRequest!==null,t.cancelAnimation=function(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r.has(m)){if(!p){const h=m&&m.getClassName?m.getClassName():m;_h(`${h} did not request an animation`)}return}r.delete(m),e.animationRequest&&r.size===0&&Date.now()>e._animationExtendedEnd&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.switchToXRAnimation=()=>{e.animationRequest&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null),e.xrAnimation=!0},t.returnFromXRAnimation=()=>{e.xrAnimation=!1,r.size!==0&&(e.recentAnimationFrameRate=10,e.animationRequest=requestAnimationFrame(t.handleAnimation))},t.updateXRGamepads=(m,p,h)=>{m.inputSources.forEach(y=>{const C=y.gripSpace==null?null:p.getPose(y.gripSpace,h),x=y.gripSpace==null?null:p.getPose(y.targetRaySpace,h),T=y.gamepad,w=y.handedness;if(T){T.index in e.lastGamepadValues||(e.lastGamepadValues[T.index]={left:{buttons:{}},right:{buttons:{}},none:{buttons:{}}});for(let b=0;b<T.buttons.length;++b)b in e.lastGamepadValues[T.index][w].buttons||(e.lastGamepadValues[T.index][w].buttons[b]=!1),e.lastGamepadValues[T.index][w].buttons[b]!==T.buttons[b].pressed&&C!=null&&(t.button3DEvent({gamepad:T,position:C.transform.position,orientation:C.transform.orientation,targetPosition:x.transform.position,targetOrientation:x.transform.orientation,pressed:T.buttons[b].pressed,device:y.handedness==="left"?Lh.LeftController:Lh.RightController,input:b8[T.mapping]&&b8[T.mapping][b]?b8[T.mapping][b]:yu.Trigger}),e.lastGamepadValues[T.index][w].buttons[b]=T.buttons[b].pressed),e.lastGamepadValues[T.index][w].buttons[b]&&C!=null&&t.move3DEvent({gamepad:T,position:C.transform.position,orientation:C.transform.orientation,targetPosition:x.transform.position,targetOrientation:x.transform.orientation,device:y.handedness==="left"?Lh.LeftController:Lh.RightController})}})},t.handleMouseMove=m=>{const p={...c(m),position:l(m),deviceType:u(m)};e.moveTimeoutID===0?t.startMouseMoveEvent(p):(t.mouseMoveEvent(p),clearTimeout(e.moveTimeoutID)),e.moveTimeoutID=setTimeout(()=>{t.endMouseMoveEvent(),e.moveTimeoutID=0},200)},t.handleAnimation=()=>{const m=Date.now();e._animationFrameCount++,m-e._animationStartTime>1e3&&e._animationFrameCount>1&&(e.recentAnimationFrameRate=1e3*(e._animationFrameCount-1)/(m-e._animationStartTime),e.lastFrameTime=1/e.recentAnimationFrameRate,t.animationFrameRateUpdateEvent(),e._animationStartTime=m,e._animationFrameCount=1),t.animationEvent(),v(),r.size>0||Date.now()<e._animationExtendedEnd?e.animationRequest=requestAnimationFrame(t.handleAnimation):(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.handleWheel=m=>{Gg(m);const p={...i9e(m),...c(m),position:l(m),deviceType:u(m)};e.wheelTimeoutID===0&&(Math.abs(p.spinY)>=.3?i=Math.abs(p.spinY):i=1),p.spinY/=i,e.wheelTimeoutID===0?(t.startMouseWheelEvent(p),t.mouseWheelEvent(p)):(t.mouseWheelEvent(p),clearTimeout(e.wheelTimeoutID)),e.mouseScrollDebounceByPass?(t.extendAnimation(600),t.endMouseWheelEvent(),e.wheelTimeoutID=0):e.wheelTimeoutID=setTimeout(()=>{t.extendAnimation(600),t.endMouseWheelEvent(),e.wheelTimeoutID=0},200)},t.handleMouseUp=m=>{const p={...c(m),position:l(m),deviceType:u(m)};switch(m.button){case 0:t.leftButtonReleaseEvent(p);break;case 1:t.middleButtonReleaseEvent(p);break;case 2:t.rightButtonReleaseEvent(p);break;default:Nh(`Unknown mouse button released: ${m.button}`);break}},t.handleTouchStart=m=>{const p=[...a.values()];if(e.recognizeGestures&&p.length>1){const h=Fh(a);if(p.length===2){const y={...c(qf),position:p[0].position,deviceType:u(m)};t.leftButtonReleaseEvent(y)}t.recognizeGesture("TouchStart",h)}else if(p.length===1){const h={...c(qf),position:l(m),deviceType:u(m)};t.leftButtonPressEvent(h)}},t.handleTouchMove=m=>{const p=[...a.values()];if(e.recognizeGestures&&p.length>1){const h=Fh(a);t.recognizeGesture("TouchMove",h)}else if(p.length===1){const h={...c(qf),position:p[0].position,deviceType:u(m)};t.mouseMoveEvent(h)}},t.handleTouchEnd=m=>{const p=[...a.values()];if(e.recognizeGestures)if(p.length===0){const h={...c(qf),position:l(m),deviceType:u(m)};t.leftButtonReleaseEvent(h)}else if(p.length===1){const h=Fh(a);t.recognizeGesture("TouchEnd",h);const y={...c(qf),position:p[0].position,deviceType:u(m)};t.leftButtonPressEvent(y)}else{const h=Fh(a);t.recognizeGesture("TouchMove",h)}else if(p.length===1){const h={...c(qf),position:p[0].position,deviceType:u(m)};t.leftButtonReleaseEvent(h)}},t.setView=m=>{e._view!==m&&(e._view=m,e._view.getRenderable().setInteractor(t),t.modified())},t.getFirstRenderer=()=>{var m,p,h;return(h=(p=(m=e._view)==null?void 0:m.getRenderable())==null?void 0:p.getRenderersByReference())==null?void 0:h[0]},t.findPokedRenderer=function(){var w,b;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e._view)return null;const h=(b=(w=e._view)==null?void 0:w.getRenderable())==null?void 0:b.getRenderers();if(!h||h.length===0)return null;h.sort((E,O)=>E.getLayer()-O.getLayer());let y=null,C=null,x=null,T=h.length;for(;T--;){const E=h[T];if(e._view.isInViewport(m,p,E)&&E.getInteractive()){x=E;break}y===null&&E.getInteractive()&&(y=E),C===null&&e._view.isInViewport(m,p,E)&&(C=E)}return x===null&&(x=y),x===null&&(x=C),x==null&&(x=h[0]),x},t.render=()=>{!t.isAnimating()&&!e.inRender&&v()},qw.forEach(m=>{const p=m.charAt(0).toLowerCase()+m.slice(1);t[`${p}Event`]=h=>{if(!e.enabled)return;if(!t.getCurrentRenderer()){o9e(`
          Can not forward events without a current renderer on the interactor.
        `);return}const C={type:m,pokedRenderer:e.currentRenderer,firstRenderer:t.getFirstRenderer(),...h};t[`invoke${m}`](C)}}),t.recognizeGesture=(m,p)=>{if(Object.keys(p).length>2)return;if(e.startingEventPositions||(e.startingEventPositions={}),m==="TouchStart"){Object.keys(p).forEach(D=>{e.startingEventPositions[D]=p[D]}),e.currentGesture="Start";return}if(m==="TouchEnd"){e.currentGesture==="Pinch"&&(t.render(),t.endPinchEvent()),e.currentGesture==="Rotate"&&(t.render(),t.endRotateEvent()),e.currentGesture==="Pan"&&(t.render(),t.endPanEvent()),e.currentGesture="Start",e.startingEventPositions={};return}let h=0;const y=[],C=[];Object.keys(p).forEach(D=>{y[h]=p[D],C[h]=e.startingEventPositions[D],h++});const x=Math.sqrt((C[0].x-C[1].x)*(C[0].x-C[1].x)+(C[0].y-C[1].y)*(C[0].y-C[1].y)),T=Math.sqrt((y[0].x-y[1].x)*(y[0].x-y[1].x)+(y[0].y-y[1].y)*(y[0].y-y[1].y));let w=JS(Math.atan2(C[1].y-C[0].y,C[1].x-C[0].x)),b=JS(Math.atan2(y[1].y-y[0].y,y[1].x-y[0].x)),E=b-w;b=b+180>=360?b-180:b+180,w=w+180>=360?w-180:w+180,Math.abs(b-w)<Math.abs(E)&&(E=b-w);const O=[];if(O[0]=(y[0].x-C[0].x+y[1].x-C[1].x)/2,O[1]=(y[0].y-C[0].y+y[1].y-C[1].y)/2,m==="TouchMove")if(e.currentGesture==="Start"){let D=.01*Math.sqrt(e.container.clientWidth*e.container.clientWidth+e.container.clientHeight*e.container.clientHeight);D<15&&(D=15);const R=Math.abs(T-x),I=T*3.1415926*Math.abs(E)/360,M=Math.sqrt(O[0]*O[0]+O[1]*O[1]);if(R>D&&R>I&&R>M){e.currentGesture="Pinch";const A={scale:1,touches:p};t.startPinchEvent(A)}else if(I>D&&I>M){e.currentGesture="Rotate";const A={rotation:0,touches:p};t.startRotateEvent(A)}else if(M>D){e.currentGesture="Pan";const A={translation:[0,0],touches:p};t.startPanEvent(A)}}else{if(e.currentGesture==="Rotate"){const D={rotation:E,touches:p};t.rotateEvent(D)}if(e.currentGesture==="Pinch"){const D={scale:T/x,touches:p};t.pinchEvent(D)}if(e.currentGesture==="Pan"){const D={translation:O,touches:p};t.panEvent(D)}}},t.handleVisibilityChange=()=>{e._animationStartTime=Date.now(),e._animationFrameCount=0},t.setCurrentRenderer=m=>{e._forcedRenderer=!!m,e.currentRenderer=m},t.setContainer=m=>{g();const p=n.setContainer(m??null);return p&&d(),p},t.delete=()=>{for(;r.size;)t.cancelAnimation(r.values().next().value);typeof document.hidden<"u"&&document.removeEventListener("visibilitychange",t.handleVisibilityChange),e.container&&t.setContainer(null),n.delete()},typeof document.hidden<"u"&&document.addEventListener("visibilitychange",t.handleVisibilityChange,!1)}const l9e={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,recentAnimationFrameRate:10,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{},preventDefaultOnPointerDown:!1,preventDefaultOnPointerUp:!1,mouseScrollDebounceByPass:!1};function hW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,l9e,n),ne.obj(t,e),e._animationExtendedEnd=0,ne.event(t,e,"RenderEvent"),qw.forEach(r=>ne.event(t,e,r)),ne.get(t,e,["initialized","interactorStyle","lastFrameTime","recentAnimationFrameRate","_view"]),ne.setGet(t,e,["container","lightFollowCamera","enabled","enableRender","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker","preventDefaultOnPointerDown","preventDefaultOnPointerUp","mouseScrollDebounceByPass"]),ne.moveToProtected(t,e,["view"]),s9e(t,e)}const c9e=ne.newInstance(hW,"vtkRenderWindowInteractor");var u9e={newInstance:c9e,extend:hW,handledEvents:qw,...pW};const{vtkErrorMacro:f9e}=ne,d9e=[1,-1,1,-1,1,-1];function g9e(t,e){e.classHierarchy.push("vtkPoints"),t.getNumberOfPoints=t.getNumberOfTuples,t.setNumberOfPoints=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;t.getNumberOfPoints()!==n&&(e.size=n*r,e.values=ne.newTypedArray(e.dataType,e.size),t.setNumberOfComponents(r),t.modified())},t.setPoint=function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];t.setTuple(n,a)},t.getPoint=t.getTuple,t.findPoint=t.findTuple,t.insertNextPoint=(n,r,a)=>t.insertNextTuple([n,r,a]),t.getBounds=()=>{if(t.getNumberOfComponents()===3){const a=t.getRange(0);e.bounds[0]=a[0],e.bounds[1]=a[1];const i=t.getRange(1);e.bounds[2]=i[0],e.bounds[3]=i[1];const o=t.getRange(2);return e.bounds[4]=o[0],e.bounds[5]=o[1],e.bounds}if(t.getNumberOfComponents()!==2)return f9e(`getBounds called on an array with components of
        ${t.getNumberOfComponents()}`),d9e;const n=t.getRange(0);e.bounds[0]=n[0],e.bounds[1]=n[1];const r=t.getRange(1);return e.bounds[2]=r[0],e.bounds[3]=r[1],e.bounds[4]=0,e.bounds[5]=0,e.bounds},t.computeBounds=t.getBounds,t.setNumberOfComponents(e.numberOfComponents<2?3:e.numberOfComponents)}const m9e={empty:!0,numberOfComponents:3,dataType:qn.FLOAT,bounds:[1,-1,1,-1,1,-1]};function SW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,m9e,n),Bn.extend(t,e,n),g9e(t,e)}const v9e=ne.newInstance(SW,"vtkPoints");var ex={newInstance:v9e,extend:SW};function yW(t){let e=0;return t.filter((n,r)=>r===e?(e+=n+1,!0):!1)}function CW(t){let e=0;for(let n=0;n<t.length;)n+=t[n]+1,e++;return e}const p9e={extractCellSizes:yW,getNumberOfCells:CW};function h9e(t,e){e.classHierarchy.push("vtkCellArray");const n={...t};t.getNumberOfCells=r=>(e.numberOfCells!==void 0&&!r||(e.cellSizes?e.numberOfCells=e.cellSizes.length:e.numberOfCells=CW(t.getData())),e.numberOfCells),t.getCellSizes=r=>(e.cellSizes!==void 0&&!r||(e.cellSizes=yW(t.getData())),e.cellSizes),t.resize=r=>{const a=t.getNumberOfTuples();n.resize(r);const i=t.getNumberOfTuples();i<a&&(i===0?(e.numberOfCells=0,e.cellSizes=[]):(e.numberOfCells=void 0,e.cellSizes=void 0))},t.setData=r=>{n.setData(r,1),e.numberOfCells=void 0,e.cellSizes=void 0},t.getCell=r=>{let a=r;const i=e.values[a++];return e.values.subarray(a,a+i)},t.insertNextCell=r=>{const a=t.getNumberOfCells();return t.insertNextTuples([r.length,...r]),++e.numberOfCells,e.cellSizes!=null&&e.cellSizes.push(r.length),a}}function S9e(t){return{empty:!0,numberOfComponents:1,dataType:qn.UNSIGNED_INT,...t}}function xW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bn.extend(t,e,S9e(n)),h9e(t,e)}const y9e=ne.newInstance(xW,"vtkCellArray");var ff={newInstance:y9e,extend:xW,...p9e};function C9e(t,e){e.classHierarchy.push("vtkCell"),t.initialize=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r){e.pointsIds=r;let a=e.points.getData();a.length!==3*e.pointsIds.length&&(a=ne.newTypedArray(n.getDataType(),3*e.pointsIds.length));const i=n.getData();e.pointsIds.forEach((o,s)=>{let l=3*o,c=3*s;a[c]=i[l],a[++c]=i[++l],a[++c]=i[++l]}),e.points.setData(a)}else{e.points=n,e.pointsIds=new Array(n.getNumberOfPoints());for(let a=n.getNumberOfPoints()-1;a>=0;--a)e.pointsIds[a]=a}},t.getBounds=()=>{const n=e.points.getNumberOfPoints(),r=[];if(n){e.points.getPoint(0,r),e.bounds[0]=r[0],e.bounds[1]=r[0],e.bounds[2]=r[1],e.bounds[3]=r[1],e.bounds[4]=r[2],e.bounds[5]=r[2];for(let a=1;a<n;a++)e.points.getPoint(a,r),e.bounds[0]=r[0]<e.bounds[0]?r[0]:e.bounds[0],e.bounds[1]=r[0]>e.bounds[1]?r[0]:e.bounds[1],e.bounds[2]=r[1]<e.bounds[2]?r[1]:e.bounds[2],e.bounds[3]=r[1]>e.bounds[3]?r[1]:e.bounds[3],e.bounds[4]=r[2]<e.bounds[4]?r[2]:e.bounds[4],e.bounds[5]=r[2]>e.bounds[5]?r[2]:e.bounds[5]}else lg(e.bounds);return e.bounds},t.getLength2=()=>{t.getBounds();let n=0,r=0;for(let a=0;a<3;a++)r=e.bounds[2*a+1]-e.bounds[2*a],n+=r*r;return n},t.getParametricDistance=n=>{let r,a=0;for(let i=0;i<3;i++)n[i]<0?r=-n[i]:n[i]>1?r=n[i]-1:r=0,r>a&&(a=r);return a},t.getNumberOfPoints=()=>e.points.getNumberOfPoints(),t.deepCopy=n=>{n.initialize(e.points,e.pointsIds)},t.getCellDimension=()=>{},t.intersectWithLine=(n,r,a,i,o,s,l)=>{},t.evaluatePosition=(n,r,a,i,o,s)=>{ne.vtkErrorMacro("vtkCell.evaluatePosition is not implemented.")}}const x9e={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function TW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,x9e,n),ne.obj(t,e),e.points||(e.points=ex.newInstance()),ne.get(t,e,["points","pointsIds"]),C9e(t,e)}const T9e=ne.newInstance(TW,"vtkCell");var h3={newInstance:T9e,extend:TW};function w9e(t,e){let n=e;for(e>=t.array.length&&(n+=t.array.length);n>t.array.length;)t.array.push({ncells:0,cells:null});t.array.length=n}function b9e(t,e){e.classHierarchy.push("vtkCellLinks"),t.buildLinks=n=>{const r=n.getPoints().getNumberOfPoints(),a=n.getNumberOfCells(),i=new Uint32Array(r);if(n.isA("vtkPolyData")){for(let o=0;o<a;++o){const{cellPointIds:s}=n.getCellPoints(o);s.forEach(l=>{t.incrementLinkCount(l)})}t.allocateLinks(r),e.maxId=r-1;for(let o=0;o<a;++o){const{cellPointIds:s}=n.getCellPoints(o);s.forEach(l=>{t.insertCellReference(l,i[l]++,o)})}}else{for(let o=0;o<a;o++)h3.newInstance().getPointsIds().forEach(l=>{t.incrementLinkCount(l)});t.allocateLinks(r),e.maxId=r-1;for(let o=0;o<a;++o)h3.newInstance().getPointsIds().forEach(l=>{t.insertCellReference(l,i[l]++,o)})}},t.allocate=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.array=Array(n).fill().map(()=>({ncells:0,cells:null})),e.extend=r,e.maxId=-1},t.initialize=()=>{e.array=null},t.getLink=n=>e.array[n],t.getNcells=n=>e.array[n].ncells,t.getCells=n=>e.array[n].cells,t.insertNextPoint=n=>{e.array.push({ncells:n,cells:Array(n)}),++e.maxId},t.insertNextCellReference=(n,r)=>{e.array[n].cells[e.array[n].ncells++]=r},t.deletePoint=n=>{e.array[n].ncells=0,e.array[n].cells=null},t.removeCellReference=(n,r)=>{e.array[r].cells=e.array[r].cells.filter(a=>a!==n),e.array[r].ncells=e.array[r].cells.length},t.addCellReference=(n,r)=>{e.array[r].cells[e.array[r].ncells++]=n},t.resizeCellList=(n,r)=>{e.array[n].cells.length=r},t.squeeze=()=>{w9e(e,e.maxId+1)},t.reset=()=>{e.maxId=-1},t.deepCopy=n=>{e.array=[...n.array],e.extend=n.extend,e.maxId=n.maxId},t.incrementLinkCount=n=>{++e.array[n].ncells},t.allocateLinks=n=>{for(let r=0;r<n;++r)e.array[r].cells=new Array(e.array[r].ncells)},t.insertCellReference=(n,r,a)=>{e.array[n].cells[r]=a}}const E9e={array:null,maxId:0,extend:0};function wW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,E9e,n),ne.obj(t,e),b9e(t,e)}const D9e=ne.newInstance(wW,"vtkCellLinks");var O9e={newInstance:D9e,extend:wW};const Kr={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},tx=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function R9e(t){return t<tx.length?tx[t]:"UnknownClass"}function I9e(t){return tx.findIndex(t)}function A9e(t){return t<Kr.VTK_QUADRATIC_EDGE||t===Kr.VTK_CONVEX_POINT_SET||t===Kr.VTK_POLYHEDRON}function M9e(t){return t===Kr.VTK_TRIANGLE_STRIP||t===Kr.VTK_POLY_LINE||t===Kr.VTK_POLY_VERTEX}const P9e={getClassNameFromTypeId:R9e,getTypeIdFromClassName:I9e,isLinear:A9e,hasSubCells:M9e};function L9e(t,e){e.classHierarchy.push("vtkCellTypes"),t.allocate=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:512,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.size=n>0?n:1,e.extend=r>0?r:1,e.maxId=-1,e.typeArray=new Uint8Array(n),e.locationArray=new Uint32Array(n)},t.insertCell=(n,r,a)=>{e.typeArray[n]=r,e.locationArray[n]=a,n>e.maxId&&(e.maxId=n)},t.insertNextCell=(n,r)=>(t.insertCell(++e.maxId,n,r),e.maxId),t.setCellTypes=(n,r,a)=>{e.size=n,e.typeArray=r,e.locationArray=a,e.maxId=n-1},t.getCellLocation=n=>e.locationArray[n],t.deleteCell=n=>{e.typeArray[n]=Kr.VTK_EMPTY_CELL},t.getNumberOfTypes=()=>e.maxId+1,t.isType=n=>{const r=t.getNumberOfTypes();for(let a=0;a<r;++a)if(n===t.getCellType(a))return!0;return!1},t.insertNextType=n=>t.insertNextCell(n,-1),t.getCellType=n=>e.typeArray[n],t.reset=()=>{e.maxId=-1},t.deepCopy=n=>{t.allocate(n.getSize(),n.getExtend()),e.typeArray.set(n.getTypeArray()),e.locationArray.set(n.getLocationArray()),e.maxId=n.getMaxId()}}const _9e={size:0,maxId:-1,extend:1e3};function bW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_9e,n),ne.obj(t,e),ne.get(t,e,["size","maxId","extend"]),ne.getArray(t,e,["typeArray","locationArray"]),L9e(t,e)}const N9e=ne.newInstance(bW,"vtkCellTypes");var F9e={newInstance:N9e,extend:bW,...P9e};const $9e={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2};var EW={IntersectionState:$9e};const{IntersectionState:k2}=EW;function bd(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;const a={t:Number.MIN_VALUE,distance:0},i=[];let o;i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2];const s=i[0]*(t[0]-e[0])+i[1]*(t[1]-e[1])+i[2]*(t[2]-e[2]),l=Wn(i,i);let c=1e-5*s;return l!==0&&(a.t=s/l),c<0&&(c=-c),-c<l&&l<c||l<=0||a.t<0?o=e:a.t>1?o=n:(o=i,i[0]=e[0]+a.t*i[0],i[1]=e[1]+a.t*i[1],i[2]=e[2]+a.t*i[2]),r&&(r[0]=o[0],r[1]=o[1],r[2]=o[2]),a.distance=Ys(o,t),a}function DW(t,e,n,r,a,i){const o=[],s=[],l=[];a[0]=0,i[0]=0,H0(e,t,o),H0(r,n,s),H0(n,t,l);const c=[Wn(o,o),-Wn(o,s),-Wn(o,s),Wn(s,s)],f=[];if(f[0]=Wn(o,l),f[1]=-Wn(s,l),CB(c,f,2)===0){let u=Number.MAX_VALUE;const d=[t,e,n,r],g=[n,n,t,t],v=[r,r,e,e];i[0],i[0],a[0],a[0],a[0],a[0],i[0],i[0];let m;for(let p=0;p<4;p++)m=bd(d[p],g[p],v[p]),m.distance<u&&(u=m.distance);return k2.ON_LINE}return a[0]=f[0],i[0]=f[1],a[0]>=0&&a[0]<=1&&i[0]>=0&&i[0]<=1?k2.YES_INTERSECTION:k2.NO_INTERSECTION}const V9e={distanceToLine:bd,intersection:DW};function k9e(t,e){e.classHierarchy.push("vtkLine");function n(r){return r>=0&&r<=1}t.getCellDimension=()=>1,t.intersectWithLine=(r,a,i,o,s)=>{const l={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};s[1]=0,s[2]=0;const c=[],f=[],u=[];e.points.getPoint(0,f),e.points.getPoint(1,u);const d=[],g=[],v=DW(r,a,f,u,d,g);if(l.t=d[0],l.betweenPoints=n(l.t),s[0]=g[0],v===k2.YES_INTERSECTION){for(let m=0;m<3;m++)o[m]=f[m]+s[0]*(u[m]-f[m]),c[m]=r[m]+l.t*(a[m]-r[m]);if(Ys(o,c)<=i*i)return l.intersect=1,l}else{let m;if(l.t<0)return m=bd(r,f,u,o),m.distance<=i*i&&(l.t=0,l.intersect=1,l.betweenPoints=!0),l;if(l.t>1)return m=bd(a,f,u,o),m.distance<=i*i&&(l.t=1,l.intersect=1,l.betweenPoints=!0),l;if(s[0]<0)return s[0]=0,m=bd(f,r,a,o),l.t=m.t,m.distance<=i*i&&(l.intersect=1),l;if(s[0]>1)return s[0]=1,m=bd(u,r,a,o),l.t=m.t,m.distance<=i*i&&(l.intersect=1),l}return l},t.evaluateLocation=(r,a,i)=>{const o=[],s=[];e.points.getPoint(0,o),e.points.getPoint(1,s);for(let l=0;l<3;l++)a[l]=o[l]+r[0]*(s[l]-o[l]);i[0]=1-r[0],i[1]=r[0]},t.evaluateOrientation=(r,a,i)=>e.orientations?(_2(a,e.orientations[0],e.orientations[1],r[0]),i[0]=1-r[0],i[1]=r[0],!0):!1}const U9e={orientations:null};function OW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,U9e,n),h3.extend(t,e,n),ne.setGet(t,e,["orientations"]),k9e(t,e)}const B9e=ne.newInstance(OW,"vtkLine");var qo={newInstance:B9e,extend:OW,...V9e,...EW};function G9e(t,e){e.classHierarchy.push("vtkPointSet"),e.points?e.points=Os(e.points):e.points=ex.newInstance(),t.getNumberOfPoints=()=>e.points.getNumberOfPoints(),t.getBounds=()=>e.points.getBounds(),t.computeBounds=()=>{t.getBounds()};const n=t.shallowCopy;t.shallowCopy=function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(r,a),e.points=ex.newInstance(),e.points.shallowCopy(r.getPoints())}}const z9e={};function RW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z9e,n),cg.extend(t,e,n),ne.setGet(t,e,["points"]),G9e(t,e)}const W9e=ne.newInstance(RW,"vtkPointSet");var j9e={newInstance:W9e,extend:RW};function Kw(t,e,n,r){const a=n[0]-e[0],i=n[1]-e[1],o=n[2]-e[2],s=t[0]-e[0],l=t[1]-e[1],c=t[2]-e[2];r[0]=i*c-o*l,r[1]=o*s-a*c,r[2]=a*l-i*s}function S3(t,e,n,r){Kw(t,e,n,r);const a=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);a!==0&&(r[0]/=a,r[1]/=a,r[2]/=a)}function H9e(t,e,n,r,a,i){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1e-6,s=!1;const l=[],c=[],f=[],u=[],d=[];S3(t,e,n,u),S3(r,a,i,d);const g=-Wn(u,t),v=-Wn(d,r),m=[Wn(d,t)+v,Wn(d,e)+v,Wn(d,n)+v];if(m[0]*m[1]>o&&m[0]*m[2]>o)return{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:f};const p=[Wn(u,r)+g,Wn(u,a)+g,Wn(u,i)+g];if(p[0]*p[1]>o&&p[0]*p[2]>o)return{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:f};if(Math.abs(u[0]-d[0])<1e-9&&Math.abs(u[1]-d[1])<1e-9&&Math.abs(u[2]-d[2])<1e-9&&Math.abs(g-v)<1e-9)return s=!0,{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:f};const h=[t,e,n],y=[r,a,i],C=Wn(u,d),x=(g-v*C)/(C*C-1),T=(v-g*C)/(C*C-1),w=[x*u[0]+T*d[0],x*u[1]+T*d[1],x*u[2]+T*d[2]],b=u0(u,d,[]);cf(b);let E=0,O=0;const D=[],R=[];let I=50,M=50;for(let L=0;L<3;L++){const F=L,_=(L+1)%3,P=Ii.intersectWithLine(h[F],h[_],r,d);P.intersection&&P.t>0-o&&P.t<1+o&&(P.t<1+o&&P.t>1-o&&(I=E),D[E++]=Wn(P.x,b)-Wn(w,b));const N=Ii.intersectWithLine(y[F],y[_],t,u);N.intersection&&N.t>0-o&&N.t<1+o&&(N.t<1+o&&N.t>1-o&&(M=O),R[O++]=Wn(N.x,b)-Wn(w,b))}if(E>2){E--;const L=D[2];D[2]=D[I],D[I]=L}if(O>2){O--;const L=R[2];R[2]=R[M],R[M]=L}if(E!==2||O!==2)return{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:f};if(Number.isNaN(D[0])||Number.isNaN(D[1])||Number.isNaN(R[0])||Number.isNaN(R[1]))return{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:f};if(D[0]>D[1]){const L=D[1];D[1]=D[0],D[0]=L}if(R[0]>R[1]){const L=R[1];R[1]=R[0],R[0]=L}let A,B;return D[1]<R[0]||R[1]<D[0]?{intersect:!1,coplanar:s,pt1:l,pt2:c,surfaceId:f}:(D[0]<R[0]?D[1]<R[1]?(f[0]=2,f[1]=1,A=R[0],B=D[1]):(f[0]=2,f[1]=2,A=R[0],B=R[1]):D[1]<R[1]?(f[0]=1,f[1]=1,A=D[0],B=D[1]):(f[0]=1,f[1]=2,A=D[0],B=R[1]),_9(w,b,A,l),_9(w,b,B,c),{intersect:!0,coplanar:s,pt1:l,pt2:c,surfaceId:f})}const q9e={computeNormalDirection:Kw,computeNormal:S3,intersectWithTriangle:H9e};function K9e(t,e){e.classHierarchy.push("vtkTriangle"),t.getCellDimension=()=>2,t.intersectWithLine=(n,r,a,i,o)=>{const s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};o[2]=0;const l=[],c=a*a,f=[],u=[],d=[];e.points.getPoint(0,f),e.points.getPoint(1,u),e.points.getPoint(2,d);const g=[],v=[];if(S3(f,u,d,g),g[0]!==0||g[1]!==0||g[2]!==0){const C=Ii.intersectWithLine(n,r,f,g);if(s.betweenPoints=C.betweenPoints,s.t=C.t,i[0]=C.x[0],i[1]=C.x[1],i[2]=C.x[2],!C.intersection)return o[0]=0,o[1]=0,s.intersect=0,s;const x=t.evaluatePosition(i,l,o,v);if(x.evaluation>=0)return x.dist2<=c?(s.intersect=1,s):(s.intersect=x.evaluation,s)}const m=Ys(f,u),p=Ys(u,d),h=Ys(d,f);e.line||(e.line=qo.newInstance()),m>p&&m>h?(e.line.getPoints().setPoint(0,f),e.line.getPoints().setPoint(1,u)):p>h&&p>m?(e.line.getPoints().setPoint(0,u),e.line.getPoints().setPoint(1,d)):(e.line.getPoints().setPoint(0,d),e.line.getPoints().setPoint(1,f));const y=e.line.intersectWithLine(n,r,a,i,o);if(s.betweenPoints=y.betweenPoints,s.t=y.t,y.intersect){const C=[],x=[],T=[];for(let w=0;w<3;w++)C[w]=f[w]-d[w],x[w]=u[w]-d[w],T[w]=i[w]-d[w];return o[0]=Wn(T,C)/h,o[1]=Wn(T,x)/p,s.intersect=1,s}return o[0]=0,o[1]=0,s.intersect=0,s},t.evaluatePosition=(n,r,a,i)=>{const o={subId:0,dist2:0,evaluation:-1};let s,l;const c=[],f=[],u=[],d=[];let g;const v=[],m=[],p=[];let h=0,y=0;const C=[];let x,T,w,b=[];const E=[],O=[],D=[];o.subId=0,a[2]=0,e.points.getPoint(1,c),e.points.getPoint(2,f),e.points.getPoint(0,u),Kw(c,f,u,d),Ii.generalizedProjectPoint(n,c,d,D);let R=0;for(s=0;s<3;s++)d[s]<0?g=-d[s]:g=d[s],g>R&&(R=g,y=s);for(l=0,s=0;s<3;s++)s!==y&&(C[l++]=s);for(s=0;s<2;s++)v[s]=D[C[s]]-u[C[s]],m[s]=c[C[s]]-u[C[s]],p[s]=f[C[s]]-u[C[s]];if(h=pa(m,p),h===0)return a[0]=0,a[1]=0,o.evaluation=-1,o;if(a[0]=pa(v,p)/h,a[1]=pa(m,v)/h,i[0]=1-(a[0]+a[1]),i[1]=a[0],i[2]=a[1],i[0]>=0&&i[0]<=1&&i[1]>=0&&i[1]<=1&&i[2]>=0&&i[2]<=1)r&&(o.dist2=Ys(D,n),r[0]=D[0],r[1]=D[1],r[2]=D[2]),o.evaluation=1;else{let I;if(r){if(i[1]<0&&i[2]<0)for(x=Ys(n,u),T=qo.distanceToLine(n,c,u,I,E),w=qo.distanceToLine(n,u,f,I,O),x<T?(o.dist2=x,b=u):(o.dist2=T,b=E),w<o.dist2&&(o.dist2=w,b=O),s=0;s<3;s++)r[s]=b[s];else if(i[2]<0&&i[0]<0)for(x=Ys(n,c),T=qo.distanceToLine(n,c,u,I,E),w=qo.distanceToLine(n,c,f,I,O),x<T?(o.dist2=x,b=c):(o.dist2=T,b=E),w<o.dist2&&(o.dist2=w,b=O),s=0;s<3;s++)r[s]=b[s];else if(i[1]<0&&i[0]<0)for(x=Ys(n,f),T=qo.distanceToLine(n,f,u,I,E),w=qo.distanceToLine(n,c,f,I,O),x<T?(o.dist2=x,b=f):(o.dist2=T,b=E),w<o.dist2&&(o.dist2=w,b=O),s=0;s<3;s++)r[s]=b[s];else if(i[0]<0){const M=qo.distanceToLine(n,c,f,r);o.dist2=M.distance}else if(i[1]<0){const M=qo.distanceToLine(n,f,u,r);o.dist2=M.distance}else if(i[2]<0){const M=qo.distanceToLine(n,c,u,r);o.dist2=M.distance}}o.evaluation=0}return o},t.evaluateLocation=(n,r,a)=>{const i=[],o=[],s=[];e.points.getPoint(0,i),e.points.getPoint(1,o),e.points.getPoint(2,s);const l=1-n[0]-n[1];for(let c=0;c<3;c++)r[c]=i[c]*l+o[c]*n[0]+s[c]*n[1];a[0]=l,a[1]=n[0],a[2]=n[1]},t.getParametricDistance=n=>{let r,a=0;const i=[];i[0]=n[0],i[1]=n[1],i[2]=1-n[0]-n[1];for(let o=0;o<3;o++)i[o]<0?r=-i[o]:i[o]>1?r=i[o]-1:r=0,r>a&&(a=r);return a}}const Q9e={};function IW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Q9e,n),h3.extend(t,e,n),K9e(t,e)}const X9e=ne.newInstance(IW,"vtkTriangle");var Y9e={newInstance:X9e,extend:IW,...q9e};const E8=["verts","lines","polys","strips"],{vtkWarningMacro:QA}=ne,Z9e={[Kr.VTK_LINE]:qo,[Kr.VTK_POLY_LINE]:qo,[Kr.VTK_TRIANGLE]:Y9e};function J9e(t,e){e.classHierarchy.push("vtkPolyData");function n(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,i=>i.toUpperCase()).replace(/\s+/g,"")}E8.forEach(a=>{t[`getNumberOf${n(a)}`]=()=>e[a].getNumberOfCells(),e[a]?e[a]=Os(e[a]):e[a]=ff.newInstance()}),t.getNumberOfCells=()=>E8.reduce((a,i)=>a+e[i].getNumberOfCells(),0);const r=t.shallowCopy;t.shallowCopy=function(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r(a,i),E8.forEach(o=>{e[o]=ff.newInstance(),e[o].shallowCopy(a.getReferenceByName(o))})},t.buildCells=()=>{const a=t.getNumberOfVerts(),i=t.getNumberOfLines(),o=t.getNumberOfPolys(),s=t.getNumberOfStrips(),l=a+i+o+s,c=new Uint8Array(l);let f=c;const u=new Uint32Array(l);let d=u;if(a){let g=0;e.verts.getCellSizes().forEach((v,m)=>{d[m]=g,f[m]=v>1?Kr.VTK_POLY_VERTEX:Kr.VTK_VERTEX,g+=v+1}),d=d.subarray(a),f=f.subarray(a)}if(i){let g=0;e.lines.getCellSizes().forEach((v,m)=>{d[m]=g,f[m]=v>2?Kr.VTK_POLY_LINE:Kr.VTK_LINE,v===1&&QA("Building VTK_LINE ",m," with only one point, but VTK_LINE needs at least two points. Check the input."),g+=v+1}),d=d.subarray(i),f=f.subarray(i)}if(o){let g=0;e.polys.getCellSizes().forEach((v,m)=>{switch(d[m]=g,v){case 3:f[m]=Kr.VTK_TRIANGLE;break;case 4:f[m]=Kr.VTK_QUAD;break;default:f[m]=Kr.VTK_POLYGON;break}v<3&&QA("Building VTK_TRIANGLE ",m," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),g+=v+1}),d+=d.subarray(o),f+=f.subarray(o)}if(s){let g=0;f.fill(Kr.VTK_TRIANGLE_STRIP,0,s),e.strips.getCellSizes().forEach((v,m)=>{d[m]=g,g+=v+1})}e.cells=F9e.newInstance(),e.cells.setCellTypes(l,c,u)},t.buildLinks=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;e.cells===void 0&&t.buildCells(),e.links=O9e.newInstance(),a>0?e.links.allocate(a):e.links.allocate(t.getPoints().getNumberOfPoints()),e.links.buildLinks(t)},t.getCellType=a=>e.cells.getCellType(a),t.getCellPoints=a=>{const i=t.getCellType(a);let o=null;switch(i){case Kr.VTK_VERTEX:case Kr.VTK_POLY_VERTEX:o=e.verts;break;case Kr.VTK_LINE:case Kr.VTK_POLY_LINE:o=e.lines;break;case Kr.VTK_TRIANGLE:case Kr.VTK_QUAD:case Kr.VTK_POLYGON:o=e.polys;break;case Kr.VTK_TRIANGLE_STRIP:o=e.strips;break;default:return o=null,{type:0,cellPointIds:null}}const s=e.cells.getCellLocation(a),l=o.getCell(s);return{cellType:i,cellPointIds:l}},t.getPointCells=a=>e.links.getCells(a),t.getCellEdgeNeighbors=(a,i,o)=>{const s=e.links.getLink(i),l=e.links.getLink(o);return s.cells.filter(c=>c!==a&&l.cells.indexOf(c)!==-1)},t.getCell=function(a){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const o=t.getCellPoints(a),s=i||Z9e[o.cellType].newInstance();return s.initialize(t.getPoints(),o.cellPointIds),s}}const exe={};function AW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,exe,n),j9e.extend(t,e,n),ne.get(t,e,["cells","links"]),ne.setGet(t,e,["verts","lines","polys","strips"]),J9e(t,e)}const txe=ne.newInstance(AW,"vtkPolyData");var Y0={newInstance:txe,extend:AW};const nxe=1e-6;function rxe(t,e){e.classHierarchy.push("vtkProp3D"),t.addPosition=r=>{e.position=e.position.map((a,i)=>a+r[i]),t.modified()},t.getOrientationWXYZ=()=>{const r=uf();G9(r,e.rotation);const a=new Float64Array(3),i=U5e(a,r);return[JS(i),a[0],a[1],a[2]]},t.getOrientationQuaternion=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G9(r,e.rotation)},t.rotateX=r=>{r!==0&&(mw(e.rotation,e.rotation,ma(r)),t.modified())},t.rotateY=r=>{r!==0&&(vw(e.rotation,e.rotation,ma(r)),t.modified())},t.rotateZ=r=>{r!==0&&(pw(e.rotation,e.rotation,ma(r)),t.modified())},t.rotateWXYZ=(r,a,i,o)=>{if(r===0||a===0&&i===0&&o===0)return;const s=ma(r),l=uf();Cw(l,[a,i,o],s);const c=new Float64Array(16);r3(c,l),Zn(e.rotation,e.rotation,c),t.modified()},t.rotateQuaternion=r=>{if(Math.abs(r[3])>=1-nxe)return;const a=r3(new Float64Array(16),r);Zn(e.rotation,e.rotation,a),t.modified()},t.setOrientation=(r,a,i)=>r===e.orientation[0]&&a===e.orientation[1]&&i===e.orientation[2]?!1:(e.orientation=[r,a,i],Dn(e.rotation),t.rotateZ(i),t.rotateX(r),t.rotateY(a),t.modified(),!0),t.setUserMatrix=r=>Op(e.userMatrix,r)?!1:(Ea(e.userMatrix,r),t.modified(),!0),t.getMatrix=()=>(t.computeMatrix(),e.matrix),t.computeMatrix=()=>{if(t.getMTime()>e.matrixMTime.getMTime()){Dn(e.matrix),e.userMatrix&&Zn(e.matrix,e.matrix,e.userMatrix),La(e.matrix,e.matrix,e.origin),La(e.matrix,e.matrix,e.position),Zn(e.matrix,e.matrix,e.rotation),ol(e.matrix,e.matrix,e.scale),La(e.matrix,e.matrix,[-e.origin[0],-e.origin[1],-e.origin[2]]),tr(e.matrix,e.matrix),e.isIdentity=!0;for(let r=0;r<4;++r)for(let a=0;a<4;++a)(r===a?1:0)!==e.matrix[r+a*4]&&(e.isIdentity=!1);e.matrixMTime.modified()}},t.getCenter=()=>Wr.getCenter(e.bounds),t.getLength=()=>Wr.getLength(e.bounds),t.getXRange=()=>Wr.getXRange(e.bounds),t.getYRange=()=>Wr.getYRange(e.bounds),t.getZRange=()=>Wr.getZRange(e.bounds),t.getUserMatrix=()=>e.userMatrix;function n(){t.computeMatrix()}t.onModified(n)}const axe={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function MW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,axe,n),Cz.extend(t,e,n),e.matrixMTime={},ne.obj(e.matrixMTime),ne.get(t,e,["bounds","isIdentity"]),ne.getArray(t,e,["orientation"]),ne.setGetArray(t,e,["origin","position","scale"],3),e.matrix=Dn(new Float64Array(16)),e.rotation=Dn(new Float64Array(16)),e.userMatrix=Dn(new Float64Array(16)),e.transform=null,rxe(t,e)}const ixe=ne.newInstance(MW,"vtkProp3D");var Qw={newInstance:ixe,extend:MW};const{vtkDebugMacro:oxe}=ne;function sxe(t,e){e.classHierarchy.push("vtkActor");const n={...t};t.getActors=()=>[t],t.getIsOpaque=()=>{if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();let r=e.property.getOpacity()>=1;return r=r&&(!e.texture||!e.texture.isTranslucent()),r=r&&(!e.mapper||e.mapper.getIsOpaque()),r},t.hasTranslucentPolygonalGeometry=()=>e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque()),t.makeProperty=Ap.newInstance,t.getProperty=()=>(e.property===null&&(e.property=t.makeProperty()),e.property),t.getBounds=()=>{if(e.mapper===null)return e.bounds;const r=e.mapper.getBounds();if(!r||r.length!==6)return r;if(r[0]>r[1])return e.mapperBounds=r.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),r;if(!e.mapperBounds||r[0]!==e.mapperBounds[0]||r[1]!==e.mapperBounds[1]||r[2]!==e.mapperBounds[2]||r[3]!==e.mapperBounds[3]||r[4]!==e.mapperBounds[4]||r[5]!==e.mapperBounds[5]||t.getMTime()>e.boundsMTime.getMTime()){oxe("Recomputing bounds..."),e.mapperBounds=r.concat();const a=[];Wr.getCorners(r,a),t.computeMatrix();const i=new Float64Array(16);tr(i,e.matrix),a.forEach(o=>hr(o,o,i)),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map((o,s)=>s%2===0?a.reduce((l,c)=>l>c[s/2]?c[s/2]:l,o):a.reduce((l,c)=>l<c[(s-1)/2]?c[(s-1)/2]:l,o)),e.boundsMTime.modified()}return e.bounds},t.getMTime=()=>{let r=n.getMTime();if(e.property!==null){const a=e.property.getMTime();r=a>r?a:r}if(e.backfaceProperty!==null){const a=e.backfaceProperty.getMTime();r=a>r?a:r}return r},t.getRedrawMTime=()=>{let r=e.mtime;if(e.mapper!==null){let a=e.mapper.getMTime();r=a>r?a:r,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),a=e.mapper.getInput().getMTime(),r=a>r?a:r)}return r},t.getSupportsSelection=()=>e.mapper?e.mapper.getSupportsSelection():!1,t.processSelectorPixelBuffers=(r,a)=>{e.mapper&&e.mapper.processSelectorPixelBuffers&&e.mapper.processSelectorPixelBuffers(r,a)}}const lxe={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function PW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lxe,n),Qw.extend(t,e,n),e.boundsMTime={},ne.obj(e.boundsMTime),ne.set(t,e,["property"]),ne.setGet(t,e,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),sxe(t,e)}const cxe=ne.newInstance(PW,"vtkActor");var uxe={newInstance:cxe,extend:PW};function fxe(t,e){const n=t.invokeResize;delete t.invokeResize,e.renderWindow=$2e.newInstance(),e.rendererMap={},e.openGLRenderWindow=$6e.newInstance(),e.renderWindow.addView(e.openGLRenderWindow),e.interactor=u9e.newInstance(),e.interactor.setView(e.openGLRenderWindow),e.interactor.initialize(),t.addRenderer=({viewport:r,id:a,background:i})=>{const o=t9e.newInstance({viewport:r,background:i||e.background});e.renderWindow.addRenderer(o),e.rendererMap[a]=o},t.destroy=()=>{e.renderWindow.getInteractor().delete()},t.removeRenderer=r=>{const a=t.getRenderer(r);e.renderWindow.removeRenderer(a),a.delete(),delete e.rendererMap[r]},t.getRenderer=r=>e.rendererMap[r],t.getRenderers=()=>{const{rendererMap:r}=e;return Object.keys(r).map(i=>({id:i,renderer:r[i]}))},t.resize=()=>{if(e.container){const{width:r,height:a}=e.container;e.openGLRenderWindow.setSize(Math.floor(r),Math.floor(a)),n(),e.renderWindow.render()}},t.setContainer=r=>{e.container=r,e.openGLRenderWindow.setContainer(e.container)},t.delete=ne.chain(t.setContainer,t.destroy,e.openGLRenderWindow.delete,t.delete),t.resize()}const dxe={background:[0,0,0],container:null};function LW(t,e,n={}){Object.assign(e,dxe,n),ne.obj(t,e),ne.get(t,e,["renderWindow","openGLRenderWindow","interactor","container"]),ne.event(t,e,"resize"),fxe(t,e)}const gxe=ne.newInstance(LW),mxe={newInstance:gxe,extend:LW},{vtkErrorMacro:$h}=ne;function vxe(t,e){e.classHierarchy.push("vtkPiecewiseFunction"),t.getSize=()=>e.nodes.length,t.getType=()=>{let n,r=0,a=0;e.nodes.length>0&&(r=e.nodes[0].y);for(let i=1;i<e.nodes.length;i++){if(n=e.nodes[i].y,n!==r)if(n>r)switch(a){case 0:case 1:a=1;break;case 2:default:a=3;break}else switch(a){case 0:case 2:a=2;break;case 1:default:a=3;break}if(r=n,a===3)break}switch(a){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";case 3:default:return"Varied"}},t.getDataPointer=()=>{const n=e.nodes.length;if(e.function=null,n>0){e.function=[];for(let r=0;r<n;r++)e.function[2*r]=e.nodes[r].x,e.function[2*r+1]=e.nodes[r].y}return e.function},t.getFirstNonZeroValue=()=>{if(e.nodes.length===0)return 0;let n=1,r=0,a=0;for(;a<e.nodes.length;a++)if(e.nodes[a].y!==0){n=0;break}return n?r=Number.MAX_VALUE:a>0?r=e.nodes[a-1].x:e.clamping?r=-Number.MAX_VALUE:r=e.nodes[0].x,r},t.getNodeValue=(n,r)=>{const a=e.nodes.length;return n<0||n>=a?($h("Index out of range!"),-1):(r[0]=e.nodes[n].x,r[1]=e.nodes[n].y,r[2]=e.nodes[n].midpoint,r[3]=e.nodes[n].sharpness,1)},t.setNodeValue=(n,r)=>{const a=e.nodes.length;if(n<0||n>=a)return $h("Index out of range!"),-1;const i=e.nodes[n].x;return e.nodes[n].x=r[0],e.nodes[n].y=r[1],e.nodes[n].midpoint=r[2],e.nodes[n].sharpness=r[3],i!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.addPoint=(n,r)=>t.addPointLong(n,r,.5,0),t.addPointLong=(n,r,a,i)=>{if(a<0||a>1)return $h("Midpoint outside range [0.0, 1.0]"),-1;if(i<0||i>1)return $h("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(n);const o={x:n,y:r,midpoint:a,sharpness:i};e.nodes.push(o),t.sortAndUpdateRange();let s;for(s=0;s<e.nodes.length&&e.nodes[s].x!==n;s++);return s<e.nodes.length?s:-1},t.setNodes=n=>{e.nodes!==n&&(e.nodes=n,t.sortAndUpdateRange())},t.sortAndUpdateRange=()=>{e.nodes.sort((r,a)=>r.x-a.x),t.updateRange()||t.modified()},t.updateRange=()=>{const n=e.range.slice(),r=e.nodes.length;return r?(e.range[0]=e.nodes[0].x,e.range[1]=e.nodes[r-1].x):(e.range[0]=0,e.range[1]=0),n[0]===e.range[0]&&n[1]===e.range[1]?!1:(t.modified(),!0)},t.removePoint=n=>{let r;for(r=0;r<e.nodes.length&&e.nodes[r].x!==n;r++);if(r>=e.nodes.length)return-1;const a=r;let i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),a},t.removeAllPoints=()=>{e.nodes=[],t.sortAndUpdateRange()},t.addSegment=(n,r,a,i)=>{t.sortAndUpdateRange();for(let o=0;o<e.nodes.length;)e.nodes[o].x>=n&&e.nodes[o].x<=a?e.nodes.splice(o,1):o++;t.addPoint(n,r,.5,0),t.addPoint(a,i,.5,0)},t.getValue=n=>{const r=[];return t.getTable(n,n,1,r),r[0]},t.adjustRange=n=>{if(n.length<2)return 0;const r=t.getRange();r[0]<n[0]?t.addPoint(n[0],t.getValue(n[0])):t.addPoint(n[0],t.getValue(r[0])),r[1]>n[1]?t.addPoint(n[1],t.getValue(n[1])):t.addPoint(n[1],t.getValue(r[1])),t.sortAndUpdateRange();for(let a=0;a<e.nodes.length;)e.nodes[a].x>=n[0]&&e.nodes[a].x<=n[1]?e.nodes.splice(a,1):++a;return t.sortAndUpdateRange(),1},t.estimateMinNumberOfSamples=(n,r)=>{const a=t.findMinimumXDistance();return Math.ceil((r-n)/a)},t.findMinimumXDistance=()=>{const n=e.nodes.length;if(n<2)return-1;let r=e.nodes[1].x-e.nodes[0].x;for(let a=0;a<n-1;a++){const i=e.nodes[a+1].x-e.nodes[a].x;i<r&&(r=i)}return r},t.getTable=function(n,r,a,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s,l=0;const c=e.nodes.length;let f=0;c!==0&&(f=e.nodes[c-1].y);let u=0,d=0,g=0,v=0,m=0,p=0,h=0;for(s=0;s<a;s++){const y=o*s;for(a>1?u=n+s/(a-1)*(r-n):u=.5*(n+r);l<c&&u>e.nodes[l].x;)l++,l<c&&(d=e.nodes[l-1].x,g=e.nodes[l].x,v=e.nodes[l-1].y,m=e.nodes[l].y,p=e.nodes[l-1].midpoint,h=e.nodes[l-1].sharpness,p<1e-5&&(p=1e-5),p>.99999&&(p=.99999));if(l>=c)i[y]=e.clamping?f:0;else if(l===0)i[y]=e.clamping?e.nodes[0].y:0;else{let C=(u-d)/(g-d);if(C<p?C=.5*C/p:C=.5+.5*(C-p)/(1-p),h>.99)if(C<.5){i[y]=v;continue}else{i[y]=m;continue}if(h<.01){i[y]=(1-C)*v+C*m;continue}C<.5?C=.5*(C*2)**(1+10*h):C>.5&&(C=1-.5*((1-C)*2)**(1+10*h));const x=C*C,T=x*C,w=2*T-3*x+1,b=-2*T+3*x,E=T-2*x+C,O=T-x,D=m-v,R=(1-h)*D;i[y]=w*v+b*m+E*R+O*R;const I=v<m?v:m,M=v>m?v:m;i[y]=i[y]<I?I:i[y],i[y]=i[y]>M?M:i[y]}}}}const pxe={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function _W(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pxe,n),ne.obj(t,e),e.nodes=[],ne.setGet(t,e,["allowDuplicateScalars","clamping"]),ne.setArray(t,e,["range"],2),ne.getArray(t,e,["range"]),vxe(t,e)}const hxe=ne.newInstance(_W,"vtkPiecewiseFunction");var M1={newInstance:hxe,extend:_W};const{BlendMode:Wl,FilterMode:gm}=dU;function Sxe(t,e,n,r,a){let i=null;return a?(i=a,i.removeAllPoints()):i=M1.newInstance(),i.addPointLong(-1024,0,1,1),i.addPoint(t,e),i.addPoint(n,r),i}const yxe={createRadonTransferFunction:Sxe};function Cxe(t,e){e.classHierarchy.push("vtkVolumeMapper");const n={...t};t.getBounds=()=>{const r=t.getInputData();return r?(e.static||t.update(),e.bounds=r.getBounds()):e.bounds=Ic(),e.bounds},t.update=()=>{t.getInputData()},t.setBlendModeToComposite=()=>{t.setBlendMode(Wl.COMPOSITE_BLEND)},t.setBlendModeToMaximumIntensity=()=>{t.setBlendMode(Wl.MAXIMUM_INTENSITY_BLEND)},t.setBlendModeToMinimumIntensity=()=>{t.setBlendMode(Wl.MINIMUM_INTENSITY_BLEND)},t.setBlendModeToAverageIntensity=()=>{t.setBlendMode(Wl.AVERAGE_INTENSITY_BLEND)},t.setBlendModeToAdditiveIntensity=()=>{t.setBlendMode(Wl.ADDITIVE_INTENSITY_BLEND)},t.setBlendModeToRadonTransform=()=>{t.setBlendMode(Wl.RADON_TRANSFORM_BLEND)},t.getBlendModeAsString=()=>ne.enumToString(Wl,e.blendMode),t.setAverageIPScalarRange=(r,a)=>{console.warn("setAverageIPScalarRange is deprecated use setIpScalarRange"),t.setIpScalarRange(r,a)},t.getFilterModeAsString=()=>ne.enumToString(gm,e.filterMode),t.setFilterModeToOff=()=>{t.setFilterMode(gm.OFF)},t.setFilterModeToNormalized=()=>{t.setFilterMode(gm.NORMALIZED)},t.setFilterModeToRaw=()=>{t.setFilterMode(gm.RAW)},t.setGlobalIlluminationReach=r=>n.setGlobalIlluminationReach(Rs(r,0,1)),t.setVolumetricScatteringBlending=r=>n.setVolumetricScatteringBlending(Rs(r,0,1)),t.setVolumeShadowSamplingDistFactor=r=>n.setVolumeShadowSamplingDistFactor(r>=1?r:1),t.setAnisotropy=r=>n.setAnisotropy(Rs(r,-.99,.99)),t.setLAOKernelSize=r=>n.setLAOKernelSize(ow(Rs(r,1,32))),t.setLAOKernelRadius=r=>n.setLAOKernelRadius(r>=1?r:1)}const xxe={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,initialInteractionScale:1,interactionSampleDistanceFactor:1,blendMode:Wl.COMPOSITE_BLEND,ipScalarRange:[-1e6,1e6],filterMode:gm.OFF,preferSizeOverAccuracy:!1,computeNormalFromOpacity:!1,volumetricScatteringBlending:0,globalIlluminationReach:0,volumeShadowSamplingDistFactor:5,anisotropy:0,localAmbientOcclusion:!1,LAOKernelSize:15,LAOKernelRadius:7};function NW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xxe,n),_w.extend(t,e,n),ne.setGet(t,e,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","initialInteractionScale","interactionSampleDistanceFactor","blendMode","filterMode","preferSizeOverAccuracy","computeNormalFromOpacity","volumetricScatteringBlending","globalIlluminationReach","volumeShadowSamplingDistFactor","anisotropy","localAmbientOcclusion","LAOKernelSize","LAOKernelRadius"]),ne.setGetArray(t,e,["ipScalarRange"],2),ne.event(t,e,"lightingActivated"),Cxe(t,e)}const Txe=ne.newInstance(NW,"vtkVolumeMapper");var FW={newInstance:Txe,extend:NW,...yxe};function wxe(t,e){e.classHierarchy.push("vtkSharedVolumeMapper");const n=t.delete;t.delete=()=>{e.scalarTexture=null,n()}}const bxe={scalarTexture:null};function $W(t,e,n={}){Object.assign(e,bxe,n),FW.extend(t,e,n),ne.setGet(t,e,["scalarTexture"]),wxe(t,e)}const Exe=ne.newInstance($W,"vtkSharedVolumeMapper"),Dxe={newInstance:Exe,extend:$W};function Ai(t){const e=t.indexOf(":");return t.substring(e+1)}function VW(t){let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return(e>>>0).toString(36)}const Oxe=1073741824;class Rxe{constructor(){this._imageCache=new Map,this._volumeCache=new Map,this._imageIdsToVolumeIdCache=new Map,this._geometryCache=new Map,this._imageCacheSize=0,this._maxCacheSize=3*Oxe,this._geometryCacheSize=0,this.setMaxCacheSize=e=>{if(!e||typeof e!="number"){const n=`New max cacheSize ${this._maxCacheSize} should be defined and should be a number.`;throw new Error(n)}this._maxCacheSize=e},this.isCacheable=e=>{const n=this.getBytesAvailable(),r=Array.from(this._imageCache.values()).reduce((i,o)=>o.sharedCacheKey?i:i+o.sizeInBytes,0);return n+r>=e},this.getMaxCacheSize=()=>this._maxCacheSize,this.getCacheSize=()=>this._imageCacheSize,this._decacheImage=(e,n=!1)=>{const r=this._imageCache.get(e);if(!r)return;if(r.sharedCacheKey&&!n)throw new Error("Cannot decache an image with a shared cache key. You need to manually decache the volume first.");const{imageLoadObject:a}=r;a!=null&&a.cancelFn&&a.cancelFn(),a!=null&&a.decache&&a.decache(),this._imageCache.delete(e)},this._decacheVolume=e=>{const n=this._volumeCache.get(e);if(!n)return;const{volumeLoadObject:r,volume:a}=n;a&&(a.cancelLoading&&a.cancelLoading(),a.imageData&&a.imageData.delete(),r.cancelFn&&r.cancelFn(),a.imageIds&&a.imageIds.forEach(i=>{const o=this._imageCache.get(i);o&&o.sharedCacheKey===e&&(o.sharedCacheKey=void 0)}),this._volumeCache.delete(e))},this.purgeCache=()=>{const e=this._imageCache.keys();for(this.purgeVolumeCache();;){const{value:n,done:r}=e.next();if(r)break;this.removeImageLoadObject(n,{force:!0}),_t(Vt,It.IMAGE_CACHE_IMAGE_REMOVED,{imageId:n})}},this.purgeVolumeCache=()=>{const e=this._volumeCache.keys();for(;;){const{value:n,done:r}=e.next();if(r)break;this.removeVolumeLoadObject(n),_t(Vt,It.VOLUME_CACHE_VOLUME_REMOVED,{volumeId:n})}},this.getVolumeLoadObject=e=>{if(e===void 0)throw new Error("getVolumeLoadObject: volumeId must not be undefined");const n=this._volumeCache.get(e);if(n)return n.timeStamp=Date.now(),n.volumeLoadObject},this.putGeometryLoadObject=(e,n)=>{if(e===void 0)throw new Error("putGeometryLoadObject: geometryId must not be undefined");if(n.promise===void 0)throw new Error("putGeometryLoadObject: geometryLoadObject.promise must not be undefined");if(this._geometryCache.has(e))throw new Error("putGeometryLoadObject: geometryId already present in geometryCache");if(n.cancelFn&&typeof n.cancelFn!="function")throw new Error("putGeometryLoadObject: geometryLoadObject.cancel must be a function");const r={loaded:!1,geometryId:e,geometryLoadObject:n,timeStamp:Date.now(),sizeInBytes:0};return this._geometryCache.set(e,r),n.promise.then(a=>{try{this._putGeometryCommon(e,a,r)}catch(i){throw console.debug(`Error in _putGeometryCommon for geometry ${e}:`,i),i}}).catch(a=>{throw console.debug(`Error caching geometry ${e}:`,a),this._geometryCache.delete(e),a})},this.getGeometry=e=>{if(e===void 0)throw new Error("getGeometry: geometryId must not be undefined");const n=this._geometryCache.get(e);if(n)return n.timeStamp=Date.now(),n.geometry},this.removeGeometryLoadObject=e=>{if(e===void 0)throw new Error("removeGeometryLoadObject: geometryId must not be undefined");const n=this._geometryCache.get(e);if(!n)throw new Error("removeGeometryLoadObject: geometryId was not present in geometryCache");this.decrementGeometryCacheSize(n.sizeInBytes);const r={geometry:n,geometryId:e};_t(Vt,It.GEOMETRY_CACHE_GEOMETRY_REMOVED,r),this._decacheGeometry(e)},this._decacheGeometry=e=>{const n=this._geometryCache.get(e);if(!n)return;const{geometryLoadObject:r}=n;r.cancelFn&&r.cancelFn(),r.decache&&r.decache(),this._geometryCache.delete(e)},this.incrementGeometryCacheSize=e=>{this._geometryCacheSize+=e},this.decrementGeometryCacheSize=e=>{this._geometryCacheSize-=e},this.getImage=(e,n=Mo.FAR_REPLICATE)=>{var a;if(e===void 0)throw new Error("getImage: imageId must not be undefined");const r=this._imageCache.get(e);if(r&&(r.timeStamp=Date.now(),!(((a=r.image)==null?void 0:a.imageQualityStatus)<n)))return r.image},this.getVolume=(e,n=!1)=>{var a;if(e===void 0)throw new Error("getVolume: volumeId must not be undefined");const r=this._volumeCache.get(e);return r?(r.timeStamp=Date.now(),r.volume):n?(a=[...this._volumeCache.values()].find(i=>i.volumeId.includes(e)))==null?void 0:a.volume:void 0},this.getVolumes=()=>Array.from(this._volumeCache.values()).map(n=>n.volume),this.filterVolumesByReferenceId=e=>this.getVolumes().filter(r=>r.referencedVolumeId===e),this.removeImageLoadObject=(e,{force:n=!1}={})=>{if(e===void 0)throw new Error("removeImageLoadObject: imageId must not be undefined");const r=this._imageCache.get(e);if(!r)throw new Error("removeImageLoadObject: imageId was not present in imageCache");this._decacheImage(e,n),this.incrementImageCacheSize(-r.sizeInBytes);const a={image:r,imageId:e};_t(Vt,It.IMAGE_CACHE_IMAGE_REMOVED,a)},this.removeVolumeLoadObject=e=>{if(e===void 0)throw new Error("removeVolumeLoadObject: volumeId must not be undefined");const n=this._volumeCache.get(e);if(!n)throw new Error("removeVolumeLoadObject: volumeId was not present in volumeCache");const r={volume:n,volumeId:e};_t(Vt,It.VOLUME_CACHE_VOLUME_REMOVED,r),this._decacheVolume(e)},this.incrementImageCacheSize=e=>{this._imageCacheSize+=e},this.decrementImageCacheSize=e=>{this._imageCacheSize-=e},this.getGeometryLoadObject=e=>{if(e===void 0)throw new Error("getGeometryLoadObject: geometryId must not be undefined");const n=this._geometryCache.get(e);if(n)return n.timeStamp=Date.now(),n.geometryLoadObject}}generateVolumeId(e){const n=e.map(Ai).sort();let r=2166136261;for(const a of n){const i=VW(a);for(let o=0;o<i.length;o++)r^=i.charCodeAt(o),r+=(r<<1)+(r<<4)+(r<<7)+(r<<8)+(r<<24)}return`volume-${(r>>>0).toString(36)}`}getImageIdsForVolumeId(e){return Array.from(this._imageIdsToVolumeIdCache.entries()).filter(([n,r])=>r===e).map(([n])=>n)}getBytesAvailable(){return this.getMaxCacheSize()-this.getCacheSize()}decacheIfNecessaryUntilBytesAvailable(e,n){let r=this.getBytesAvailable();if(r>=e)return r;const a=Array.from(this._imageCache.values()).filter(l=>!l.sharedCacheKey);function i(l,c){return l.timeStamp>c.timeStamp?1:l.timeStamp<c.timeStamp?-1:0}a.sort(i);const o=a.map(l=>l.imageId);let s=o;n&&(s=o.filter(l=>!n.includes(l)));for(const l of s)if(this.removeImageLoadObject(l),_t(Vt,It.IMAGE_CACHE_IMAGE_REMOVED,{imageId:l}),r=this.getBytesAvailable(),r>=e)return r;for(const l of o)if(this.removeImageLoadObject(l),_t(Vt,It.IMAGE_CACHE_IMAGE_REMOVED,{imageId:l}),r=this.getBytesAvailable(),r>=e)return r}_putImageCommon(e,n,r){if(!this._imageCache.has(e)){console.warn("The image was purged from the cache before it completed loading.");return}if(!n){console.warn("Image is undefined");return}if(n.sizeInBytes===void 0||Number.isNaN(n.sizeInBytes))throw new Error("_putImageCommon: image.sizeInBytes must not be undefined");if(n.sizeInBytes.toFixed===void 0)throw new Error("_putImageCommon: image.sizeInBytes is not a number");if(!this.isCacheable(n.sizeInBytes))throw new Error(It.CACHE_SIZE_EXCEEDED);this.decacheIfNecessaryUntilBytesAvailable(n.sizeInBytes),r.loaded=!0,r.image=n,r.sizeInBytes=n.sizeInBytes,this.incrementImageCacheSize(r.sizeInBytes);const a={image:r};_t(Vt,It.IMAGE_CACHE_IMAGE_ADDED,a),r.sharedCacheKey=n.sharedCacheKey}async putImageLoadObject(e,n){if(e===void 0)throw console.error("putImageLoadObject: imageId must not be undefined"),new Error("putImageLoadObject: imageId must not be undefined");if(n.promise===void 0)throw console.error("putImageLoadObject: imageLoadObject.promise must not be undefined"),new Error("putImageLoadObject: imageLoadObject.promise must not be undefined");const r=this._imageCache.get(e);if(r!=null&&r.imageLoadObject)throw console.warn(`putImageLoadObject: imageId ${e} already in cache`),new Error("putImageLoadObject: imageId already in cache");if(n.cancelFn&&typeof n.cancelFn!="function")throw console.error("putImageLoadObject: imageLoadObject.cancel must be a function"),new Error("putImageLoadObject: imageLoadObject.cancel must be a function");const a={...r,loaded:!1,imageId:e,sharedCacheKey:void 0,imageLoadObject:n,timeStamp:Date.now(),sizeInBytes:0};return this._imageCache.set(e,a),this._imageCache.set(e,a),n.promise.then(i=>{try{this._putImageCommon(e,i,a)}catch(o){throw console.debug(`Error in _putImageCommon for image ${e}:`,o),o}}).catch(i=>{throw console.debug(`Error caching image ${e}:`,i),this._imageCache.delete(e),i})}putImageSync(e,n){if(e===void 0)throw new Error("putImageSync: imageId must not be undefined");if(this._imageCache.has(e))throw new Error("putImageSync: imageId already in cache");const r={loaded:!1,imageId:e,sharedCacheKey:void 0,imageLoadObject:{promise:Promise.resolve(n)},timeStamp:Date.now(),sizeInBytes:0};this._imageCache.set(e,r);try{this._putImageCommon(e,n,r)}catch(a){throw this._imageCache.delete(e),a}}getImageLoadObject(e){if(e===void 0)throw new Error("getImageLoadObject: imageId must not be undefined");const n=this._imageCache.get(e);if(n)return n.timeStamp=Date.now(),n.imageLoadObject}isLoaded(e){const n=this._imageCache.get(e);return n?n.loaded:!1}getVolumeContainingImageId(e){const n=Array.from(this._volumeCache.keys()),r=Ai(e);for(const a of n){const i=this._volumeCache.get(a);if(!i)return;const{volume:o}=i;if(!o.imageIds.length)return;const s=o.getImageURIIndex(r);if(s>-1)return{volume:o,imageIdIndex:s}}}getCachedImageBasedOnImageURI(e){const n=Ai(e),a=Array.from(this._imageCache.keys()).find(i=>Ai(i)===n);if(a)return this._imageCache.get(a)}_putVolumeCommon(e,n,r){var i;if(!this._volumeCache.get(e)){console.warn("The volume was purged from the cache before it completed loading.");return}r.loaded=!0,r.volume=n,(i=n.imageIds)==null||i.forEach(o=>{const s=this._imageCache.get(o);s&&(s.sharedCacheKey=e)});const a={volume:r};_t(Vt,It.VOLUME_CACHE_VOLUME_ADDED,a)}putVolumeSync(e,n){if(e===void 0)throw new Error("putVolumeSync: volumeId must not be undefined");if(this._volumeCache.has(e))throw new Error("putVolumeSync: volumeId already in cache");const r={loaded:!1,volumeId:e,volumeLoadObject:{promise:Promise.resolve(n)},timeStamp:Date.now(),sizeInBytes:0};this._volumeCache.set(e,r);try{this._putVolumeCommon(e,n,r)}catch(a){throw this._volumeCache.delete(e),a}}async putVolumeLoadObject(e,n){if(e===void 0)throw new Error("putVolumeLoadObject: volumeId must not be undefined");if(n.promise===void 0)throw new Error("putVolumeLoadObject: volumeLoadObject.promise must not be undefined");if(this._volumeCache.has(e))throw new Error(`putVolumeLoadObject: volumeId:${e} already in cache`);if(n.cancelFn&&typeof n.cancelFn!="function")throw new Error("putVolumeLoadObject: volumeLoadObject.cancel must be a function");const r={loaded:!1,volumeId:e,volumeLoadObject:n,timeStamp:Date.now(),sizeInBytes:0};return this._volumeCache.set(e,r),n.promise.then(a=>{try{this._putVolumeCommon(e,a,r)}catch(i){throw console.error(`Error in _putVolumeCommon for volume ${e}:`,i),this._volumeCache.delete(e),i}}).catch(a=>{throw this._volumeCache.delete(e),a})}_putGeometryCommon(e,n,r){if(!this._geometryCache.get(e)){console.warn("The geometry was purged from the cache before it completed loading.");return}if(!n){console.warn("Geometry is undefined");return}if(n.sizeInBytes===void 0||Number.isNaN(n.sizeInBytes))throw new Error("_putGeometryCommon: geometry.sizeInBytes must not be undefined");if(n.sizeInBytes.toFixed===void 0)throw new Error("_putGeometryCommon: geometry.sizeInBytes is not a number");if(!this.isCacheable(n.sizeInBytes))throw new Error(It.CACHE_SIZE_EXCEEDED);this.decacheIfNecessaryUntilBytesAvailable(n.sizeInBytes),r.loaded=!0,r.geometry=n,r.sizeInBytes=n.sizeInBytes,this.incrementGeometryCacheSize(r.sizeInBytes);const a={geometry:r};_t(Vt,It.GEOMETRY_CACHE_GEOMETRY_ADDED,a)}putGeometrySync(e,n){if(e===void 0)throw new Error("putGeometrySync: geometryId must not be undefined");if(this._geometryCache.has(e))throw new Error("putGeometrySync: geometryId already in cache");const r={loaded:!1,geometryId:e,geometryLoadObject:{promise:Promise.resolve(n)},timeStamp:Date.now(),sizeInBytes:0};this._geometryCache.set(e,r);try{this._putGeometryCommon(e,n,r)}catch(a){throw this._geometryCache.delete(e),a}}setPartialImage(e,n){const r=this._imageCache.get(e);if(!r){n&&this._imageCache.set(e,{image:n,imageId:e,loaded:!1,timeStamp:Date.now(),sizeInBytes:0});return}r.loaded&&(r.loaded=!1,r.imageLoadObject=null,this.incrementImageCacheSize(-r.sizeInBytes),r.sizeInBytes=0),r.image=n||r.image}getImageQuality(e){var r;const n=(r=this._imageCache.get(e))==null?void 0:r.image;return n?n.imageQualityStatus||Mo.FULL_RESOLUTION:void 0}}const Yt=new Rxe;function XA(t,e){const n=Bw(e),r=new n(t.length);return r.set(t),r}function Ixe(t,e){e.classHierarchy.push("vtkStreamingOpenGLTexture"),e.updatedFrames=[],e.volumeId=null;const n=t.create3DFilterableFromRaw;t.create3DFilterableFromRaw=(s,l,c,f,u,d,g)=>{e.inputDataType=u,e.inputNumComps=f,n(s,l,c,f,u,d,g)};const r=t.updateVolumeInfoForGL;t.updateVolumeInfoForGL=(s,l)=>{const c=r(s,l);return e.volumeInfo.dataComputedScale=[1],e.volumeInfo.dataComputedOffset=[0],c},t.update3DFromRaw=()=>{const{volumeId:s}=e;if(!s)return;const l=Yt.getVolume(s);if(e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),l.isDynamicVolume()){o();return}return t.hasUpdatedFrames()&&i()};const a=t.modified;t.setUpdatedFrame=s=>{e.updatedFrames[s]=!0,a()},t.modified=()=>{a();const s=Yt.getVolume(e.volumeId);if(!s)return;const l=s.imageIds;for(let c=0;c<l.length;c++)e.updatedFrames[c]=!0};function i(){const s=Yt.getVolume(e.volumeId),l=s.imageIds;for(let c=0;c<e.updatedFrames.length;c++)if(e.updatedFrames[c]){const f=Yt.getImage(l[c]);if(!f)continue;let u=f.voxelManager.getScalarData();const d=e.context;s.dataType!==u.constructor.name&&(u=XA(u,s.dataType));const[g]=t.updateArrayDataTypeForGL(s.dataType,[u]);t.bind();const v=c;d.texSubImage3D(e.target,0,0,0,v,e.width,e.height,1,e.format,e.openGLDataType,g),t.deactivate(),e.updatedFrames[c]=null}return e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0}function o(){const s=Yt.getVolume(e.volumeId),l=s.getCurrentDimensionGroupImageIds();if(!l.length)return!1;let c;for(let f=0;f<l.length;f++){const u=l[f],d=Yt.getImage(u);let g;d?(g=d.voxelManager.getScalarData(),c=g.constructor):(c=Bw(s.dataType,!0),g=new c(e.width*e.height));const v=e.context;s.dataType!==g.constructor.name&&(g=XA(g,s.dataType));const[m]=t.updateArrayDataTypeForGL(s.dataType,[g]);t.bind();let p=f;v.texSubImage3D(e.target,0,0,0,p,e.width,e.height,1,e.format,e.openGLDataType,m),t.deactivate()}return e.generateMipmap&&e.context.generateMipmap(e.target),t.deactivate(),!0}t.hasUpdatedFrames=()=>!e.updatedFrames.length||e.updatedFrames.some(s=>s),t.getUpdatedFrames=()=>e.updatedFrames,t.setVolumeId=s=>{e.volumeId=s},t.getVolumeId=()=>e.volumeId,t.setTextureParameters=({width:s,height:l,depth:c,numberOfComponents:f,dataType:u})=>{e.width??(e.width=s),e.height??(e.height=l),e.depth??(e.depth=c),e.inputNumComps??(e.inputNumComps=f),e.inputDataType??(e.inputDataType=u)},t.getTextureParameters=()=>({width:e.width,height:e.height,depth:e.depth,numberOfComponents:e.inputNumComps,dataType:e.inputDataType})}const Axe={updatedFrames:[]};function kW(t,e,n={}){Object.assign(e,Axe,n),Zr.extend(t,e,n),Ixe(t,e)}const Mxe=ne.newInstance(kW,"vtkStreamingOpenGLTexture"),Pxe={newInstance:Mxe,extend:kW},Lxe={isPerformingCoordinateTransformation:!1};function UW(t,e,n={}){Object.assign(e,Lxe,n),Hw.extend(t,e,n),ne.setGet(t,e,["isPerformingCoordinateTransformation"]),Nxe(t,e)}const _xe=ne.newInstance(UW,"vtkSlabCamera");function Nxe(t,e){e.classHierarchy.push("vtkSlabCamera");const n=Dn(new Float64Array(16)),r=new Float64Array(3);t.getProjectionMatrix=(a,i,o)=>{const s=kc();if(e.projectionMatrix){const d=1/e.physicalScale;return xr(r,d,d,d),Ea(s,e.projectionMatrix),ol(s,s,r),tr(s,s),s}Dn(n);let l=e.clippingRange[0],c=e.clippingRange[1];e.isPerformingCoordinateTransformation&&(l=e.distance,c=e.distance+.1);const f=c-l,u=[l+(i+1)*f/2,l+(o+1)*f/2];if(e.parallelProjection){const d=e.parallelScale*a,g=e.parallelScale,v=(e.windowCenter[0]-1)*d,m=(e.windowCenter[0]+1)*d,p=(e.windowCenter[1]-1)*g,h=(e.windowCenter[1]+1)*g;yw(n,v,m,p,h,u[0],u[1]),tr(n,n)}else{if(e.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");{const d=Math.tan(Jo.radiansFromDegrees(e.viewAngle)/2);let g,v;e.useHorizontalViewAngle===!0?(g=l*d,v=l*d/a):(g=l*d*a,v=l*d);const m=(e.windowCenter[0]-1)*g,p=(e.windowCenter[0]+1)*g,h=(e.windowCenter[1]-1)*v,y=(e.windowCenter[1]+1)*v,C=u[0],x=u[1];n[0]=2*C/(p-m),n[5]=2*C/(y-h),n[2]=(m+p)/(p-m),n[6]=(h+y)/(y-h),n[10]=-(C+x)/(x-C),n[14]=-1,n[11]=-2*C*x/(x-C),n[15]=0}}return Ea(s,n),s}}const Fxe={newInstance:_xe,extend:UW};function Js(t){return fo(t,"vtkVolume")||fo(t,"vtkImageSlice")}function fo(t,e){const n="isA"in t?t:t.actor;return n?!!n.isA(e):!1}const a0=[];function ug(t,e=0){let n;for(n=0;n<a0.length&&!(a0[n].priority<=e);n++);a0.splice(n,0,{priority:e,provider:t})}function $xe(t){for(let e=0;e<a0.length;e++)if(a0[e].provider===t){a0.splice(e,1);break}}function Vxe(){for(;a0.length>0;)a0.pop()}function tn(t,...e){for(let n=0;n<a0.length;n++){const r=a0[n].provider(t,...e);if(r!==void 0)return r}}const kxe=Object.freeze(Object.defineProperty({__proto__:null,addProvider:ug,get:tn,removeAllProviders:Vxe,removeProvider:$xe},Symbol.toStringTag,{value:"Module"}));function Pp(t,e){const{direction:n,spacing:r}=t,a=n.slice(0,3),i=n.slice(3,6),o=n.slice(6,9),s=[Ln(a,e),Ln(i,e),Ln(o,e)],l=Xt();return xr(l,s[0]*r[0],s[1]*r[1],s[2]*r[2]),Tc(l)}function zv(t,e,n){const{direction:r,spacing:a,imageIds:i}=t;if(!i.length)return;const o=r.slice(6,9),s=Ln(o,n);if(Math.abs(s)<1-l0)return;const c=Pp({direction:r,spacing:a},n)/2;let f;for(let u=0;u<i.length;u++){const d=i[u],{imagePositionPatient:g}=tn("imagePlaneModule",d),v=Xt();Ca(v,e,g);const m=Ln(v,n);Math.abs(m)<c&&(f=d)}return f}const Uxe=t=>t,YA=1e-6;let BW=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.matrix=Dn(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=e?V3e:Uxe}rotateFromDirections(e,n){const r=new Float64Array(3),a=new Float64Array(3),i=new Float64Array(16);xr(r,e[0],e[1],e[2]),xr(a,n[0],n[1],n[2]),Na(r,r),Na(a,a);const o=Ln(r,a);return o>=1?this:(ia(this.tmp,r,a),Tc(this.tmp)<YA&&(ia(this.tmp,[1,0,0],e),Tc(this.tmp)<YA&&ia(this.tmp,[0,1,0],e)),Sw(i,Math.acos(o),this.tmp),Zn(this.matrix,this.matrix,i),this)}rotate(e,n){return xr(this.tmp,...n),Na(this.tmp,this.tmp),vs(this.matrix,this.matrix,this.angleConv(e),this.tmp),this}rotateX(e){return mw(this.matrix,this.matrix,this.angleConv(e)),this}rotateY(e){return vw(this.matrix,this.matrix,this.angleConv(e)),this}rotateZ(e){return pw(this.matrix,this.matrix,this.angleConv(e)),this}translate(e,n,r){return xr(this.tmp,e,n,r),La(this.matrix,this.matrix,this.tmp),this}scale(e,n,r){return xr(this.tmp,e,n,r),ol(this.matrix,this.matrix,this.tmp),this}multiply(e){return Zn(this.matrix,this.matrix,e),this}multiply3x3(e){return Zn(this.matrix,this.matrix,[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]),this}invert(){return qa(this.matrix,this.matrix),this}identity(){return Dn(this.matrix),this}apply(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(Op(rw,this.matrix))return this;const a=r===-1?e.length:n+r*3;for(let i=n;i<a;i+=3)xr(this.tmp,e[i],e[i+1],e[i+2]),hr(this.tmp,this.tmp,this.matrix),e[i]=this.tmp[0],e[i+1]=this.tmp[1],e[i+2]=this.tmp[2];return this}getMatrix(){return this.matrix}setMatrix(e){return e&&e.length===16&&Ea(this.matrix,e),this}};function Bxe(){return new BW(!0)}function Gxe(){return new BW(!1)}var Uu={buildFromDegree:Bxe,buildFromRadian:Gxe};function GW(t){const e=t.getMapper().getInputData(),n=e.extentToBounds(e.getExtent());return[[n[0],n[2],n[4]],[n[0],n[2],n[5]],[n[0],n[3],n[4]],[n[0],n[3],n[5]],[n[1],n[2],n[4]],[n[1],n[2],n[5]],[n[1],n[3],n[4]],[n[1],n[3],n[5]]]}const zxe=l0*l0,D8=t=>Math.abs(Math.abs(t)-1)<zxe,O8=(t,e)=>D8(t[e])||D8(t[e+1])||D8(t[e+2]),Wxe=t=>O8(t,0)&&O8(t,3)&&O8(t,6);function sy(t,e,n){const r=t.getMapper().getInputData();let a;const i=r.getDirection();if(Wxe(i))a=GW(t);else{const[u,d,g]=r.getDimensions();a=[[0,0,0],[u-1,0,0],[0,d-1,0],[u-1,d-1,0],[0,0,g-1],[u-1,0,g-1],[0,d-1,g-1],[u-1,d-1,g-1]].map(m=>r.indexToWorld(m))}const o=Uu.buildFromDegree().identity().rotateFromDirections(e,[1,0,0]);a.forEach(u=>o.apply(u));const s=[...n];o.apply(s);const l=s[0];let c=1/0,f=-1/0;for(let u=0;u<8;u++){const d=a[u][0];d>f&&(f=d),d<c&&(c=d)}return{min:c,max:f,current:l,actor:t,viewPlaneNormal:e,focalPoint:n}}function qd(t,e,n,r,a,i){const{min:o,max:s,current:l}=n,c=Xt();Ca(c,e,t);const f=Math.round((s-o)/a),d=(l-o)/(s-o)*f;let g=Math.round(d),v=[t[0]-r[0]*d*a,t[1]-r[1]*d*a,t[2]-r[2]*d*a];g+=i,g>f?g=f:g<0&&(g=0);const m=g*a;v=[v[0]+r[0]*m,v[1]+r[1]*m,v[2]+r[2]*m];const p=[v[0]+c[0],v[1]+c[1],v[2]+c[2]];return{newFocalPoint:v,newPosition:p}}const jxe={RGB:0,HSV:1,LAB:2,DIVERGING:3},Hxe={LINEAR:0,LOG10:1};var zW={ColorSpace:jxe,Scale:Hxe};const{ColorSpace:Ko,Scale:Xw}=zW,{ScalarMappingTarget:Vh}=$w,{vtkDebugMacro:qxe,vtkErrorMacro:O0,vtkWarningMacro:Kxe}=ne;function ZA(t,e){const n=t[0],r=t[1],a=t[2],i=Math.sqrt(n*n+r*r+a*a),o=i>.001?Math.acos(n/i):0,s=o>.001?Math.atan2(a,r):0;e[0]=i,e[1]=o,e[2]=s}function Qxe(t,e){const n=t[0],r=t[1],a=t[2];e[0]=n*Math.cos(r),e[1]=n*Math.sin(r)*Math.cos(a),e[2]=n*Math.sin(r)*Math.sin(a)}function JA(t,e){if(t[0]>=e-.1)return t[2];const n=t[1]*Math.sqrt(e*e-t[0]*t[0])/(t[0]*Math.sin(t[1]));return t[2]>-.3*Math.PI?t[2]+n:t[2]-n}function Xxe(t,e){let n=t-e;for(n<0&&(n=-n);n>=2*Math.PI;)n-=2*Math.PI;return n>Math.PI&&(n=2*Math.PI-n),n}function eM(t,e,n,r){const a=[],i=[];$u(e,a),$u(n,i);const o=[],s=[];ZA(a,o),ZA(i,s);let l=t;if(o[1]>.05&&s[1]>.05&&Xxe(o[2],s[2])>.33*Math.PI){let u=Math.max(o[0],s[0]);u=Math.max(88,u),t<.5?(s[0]=u,s[1]=0,s[2]=0,l*=2):(o[0]=u,o[1]=0,o[2]=0,l=2*l-1)}o[1]<.05&&s[1]>.05?o[2]=JA(s,o[0]):s[1]<.05&&o[1]>.05&&(s[2]=JA(o,s[0]));const c=[];c[0]=(1-l)*o[0]+l*s[0],c[1]=(1-l)*o[1]+l*s[1],c[2]=(1-l)*o[2]+l*s[2];const f=[];Qxe(c,f),t3(f,r)}function Yxe(t,e){e.classHierarchy.push("vtkColorTransferFunction"),t.getSize=()=>e.nodes.length,t.addRGBPoint=(n,r,a,i)=>t.addRGBPointLong(n,r,a,i,.5,0),t.addRGBPointLong=function(n,r,a,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(o<0||o>1)return O0("Midpoint outside range [0.0, 1.0]"),-1;if(s<0||s>1)return O0("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(n);const l={x:n,r,g:a,b:i,midpoint:o,sharpness:s};e.nodes.push(l),t.sortAndUpdateRange();let c=0;for(;c<e.nodes.length&&e.nodes[c].x!==n;c++);return c<e.nodes.length?c:-1},t.addHSVPoint=(n,r,a,i)=>t.addHSVPointLong(n,r,a,i,.5,0),t.addHSVPointLong=function(n,r,a,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;const l=[];return Du([r,a,i],l),t.addRGBPoint(n,l[0],l[1],l[2],o,s)},t.setNodes=n=>{if(e.nodes!==n){const r=JSON.stringify(e.nodes);e.nodes=n;const a=JSON.stringify(e.nodes);if(t.sortAndUpdateRange()||r!==a)return t.modified(),!0}return!1},t.sortAndUpdateRange=()=>{const n=JSON.stringify(e.nodes);e.nodes.sort((i,o)=>i.x-o.x);const r=JSON.stringify(e.nodes),a=t.updateRange();return!a&&n!==r?(t.modified(),!0):a},t.updateRange=()=>{const n=[2];n[0]=e.mappingRange[0],n[1]=e.mappingRange[1];const r=e.nodes.length;return r?(e.mappingRange[0]=e.nodes[0].x,e.mappingRange[1]=e.nodes[r-1].x):(e.mappingRange[0]=0,e.mappingRange[1]=0),n[0]===e.mappingRange[0]&&n[1]===e.mappingRange[1]?!1:(t.modified(),!0)},t.removePoint=n=>{let r=0;for(;r<e.nodes.length&&e.nodes[r].x!==n;r++);const a=r;if(r>=e.nodes.length)return-1;let i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),a},t.movePoint=(n,r)=>{if(n!==r){t.removePoint(r);for(let a=0;a<e.nodes.length;a++)if(e.nodes[a].x===n){e.nodes[a].x=r,t.sortAndUpdateRange();break}}},t.removeAllPoints=()=>{e.nodes=[],t.sortAndUpdateRange()},t.addRGBSegment=(n,r,a,i,o,s,l,c)=>{t.sortAndUpdateRange();for(let f=0;f<e.nodes.length;)e.nodes[f].x>=n&&e.nodes[f].x<=o?e.nodes.splice(f,1):f++;t.addRGBPointLong(n,r,a,i,.5,0),t.addRGBPointLong(o,s,l,c,.5,0),t.modified()},t.addHSVSegment=(n,r,a,i,o,s,l,c)=>{const f=[r,a,i],u=[s,l,c],d=[],g=[];Du(f,d),Du(u,g),t.addRGBSegment(n,d[0],d[1],d[2],o,g[0],g[1],g[2])},t.mapValue=n=>{const r=[];return t.getColor(n,r),[Math.floor(255*r[0]+.5),Math.floor(255*r[1]+.5),Math.floor(255*r[2]+.5),255]},t.getColor=(n,r)=>{if(e.indexedLookup){const a=t.getSize(),i=t.getAnnotatedValueIndexInternal(n);if(i<0||a===0){const o=t.getNanColorByReference();r[0]=o[0],r[1]=o[1],r[2]=o[2]}else{const o=[];t.getNodeValue(i%a,o),r[0]=o[1],r[1]=o[2],r[2]=o[3]}return}t.getTable(n,n,1,r)},t.getRedValue=n=>{const r=[];return t.getColor(n,r),r[0]},t.getGreenValue=n=>{const r=[];return t.getColor(n,r),r[1]},t.getBlueValue=n=>{const r=[];return t.getColor(n,r),r[2]},t.getTable=(n,r,a,i)=>{const o=Number(n),s=Number(r);if(n3(o)||n3(s)){for(let O=0;O<a;O++)i[O*3+0]=e.nanColor[0],i[O*3+1]=e.nanColor[1],i[O*3+2]=e.nanColor[2];return}let l=0;const c=e.nodes.length;let f=0,u=0,d=0;c!==0&&(f=e.nodes[c-1].r,u=e.nodes[c-1].g,d=e.nodes[c-1].b);let g=0,v=0,m=0;const p=[0,0,0],h=[0,0,0];let y=0,C=0;const x=[];let T=e.scale===Xw.LOG10;T&&(T=e.mappingRange[0]>0);let w=0,b=0,E=0;T&&(w=Math.log10(o),b=Math.log10(s));for(let O=0;O<a;O++){const D=3*O;if(a>1?T?(E=w+O/(a-1)*(b-w),g=10**E):g=o+O/(a-1)*(s-o):T?(E=.5*(w+b),g=10**E):g=.5*(o+s),e.discretize){const R=e.mappingRange;if(g>=R[0]&&g<=R[1]){const I=e.numberOfValues,M=R[1]-R[0];if(I<=1)g=R[0]+M/2;else{const A=(g-R[0])/M,B=ow(I*A);g=R[0]+B/(I-1)*M}}}for(;l<c&&g>e.nodes[l].x;)l++,l<c&&(v=e.nodes[l-1].x,m=e.nodes[l].x,T&&(v=Math.log10(v),m=Math.log10(m)),p[0]=e.nodes[l-1].r,h[0]=e.nodes[l].r,p[1]=e.nodes[l-1].g,h[1]=e.nodes[l].g,p[2]=e.nodes[l-1].b,h[2]=e.nodes[l].b,y=e.nodes[l-1].midpoint,C=e.nodes[l-1].sharpness,y<1e-5&&(y=1e-5),y>.99999&&(y=.99999));if(g>e.mappingRange[1])i[D]=0,i[D+1]=0,i[D+2]=0,e.clamping&&(t.getUseAboveRangeColor()?(i[D]=e.aboveRangeColor[0],i[D+1]=e.aboveRangeColor[1],i[D+2]=e.aboveRangeColor[2]):(i[D]=f,i[D+1]=u,i[D+2]=d));else if(g<e.mappingRange[0]||DB(g)&&g<0)i[D]=0,i[D+1]=0,i[D+2]=0,e.clamping&&(t.getUseBelowRangeColor()?(i[D]=e.belowRangeColor[0],i[D+1]=e.belowRangeColor[1],i[D+2]=e.belowRangeColor[2]):c>0&&(i[D]=e.nodes[0].r,i[D+1]=e.nodes[0].g,i[D+2]=e.nodes[0].b));else if(l===0&&(Math.abs(g-o)<1e-6||e.discretize))c>0?(i[D]=e.nodes[0].r,i[D+1]=e.nodes[0].g,i[D+2]=e.nodes[0].b):(i[D]=0,i[D+1]=0,i[D+2]=0);else{let R=0;if(T?R=(E-v)/(m-v):R=(g-v)/(m-v),R<y?R=.5*R/y:R=.5+.5*(R-y)/(1-y),C>.99)if(R<.5){i[D]=p[0],i[D+1]=p[1],i[D+2]=p[2];continue}else{i[D]=h[0],i[D+1]=h[1],i[D+2]=h[2];continue}if(C<.01){if(e.colorSpace===Ko.RGB)i[D]=(1-R)*p[0]+R*h[0],i[D+1]=(1-R)*p[1]+R*h[1],i[D+2]=(1-R)*p[2]+R*h[2];else if(e.colorSpace===Ko.HSV){const N=[],k=[];lm(p,N),lm(h,k),e.hSVWrap&&(N[0]-k[0]>.5||k[0]-N[0]>.5)&&(N[0]>k[0]?N[0]-=1:k[0]-=1);const H=[];H[0]=(1-R)*N[0]+R*k[0],H[0]<0&&(H[0]+=1),H[1]=(1-R)*N[1]+R*k[1],H[2]=(1-R)*N[2]+R*k[2],Du(H,x),i[D]=x[0],i[D+1]=x[1],i[D+2]=x[2]}else if(e.colorSpace===Ko.LAB){const N=[],k=[];$u(p,N),$u(h,k);const H=[];H[0]=(1-R)*N[0]+R*k[0],H[1]=(1-R)*N[1]+R*k[1],H[2]=(1-R)*N[2]+R*k[2],t3(H,x),i[D]=x[0],i[D+1]=x[1],i[D+2]=x[2]}else e.colorSpace===Ko.DIVERGING?(eM(R,p,h,x),i[D]=x[0],i[D+1]=x[1],i[D+2]=x[2]):O0("ColorSpace set to invalid value.",e.colorSpace);continue}R<.5?R=.5*(R*2)**(1+10*C):R>.5&&(R=1-.5*((1-R)*2)**(1+10*C));const I=R*R,M=I*R,A=2*M-3*I+1,B=-2*M+3*I,L=M-2*I+R,F=M-I;let _,P;if(e.colorSpace===Ko.RGB)for(let N=0;N<3;N++)_=h[N]-p[N],P=(1-C)*_,i[D+N]=A*p[N]+B*h[N]+L*P+F*P;else if(e.colorSpace===Ko.HSV){const N=[],k=[];lm(p,N),lm(h,k),e.hSVWrap&&(N[0]-k[0]>.5||k[0]-N[0]>.5)&&(N[0]>k[0]?N[0]-=1:k[0]-=1);const H=[];for(let K=0;K<3;K++)_=k[K]-N[K],P=(1-C)*_,H[K]=A*N[K]+B*k[K]+L*P+F*P,K===0&&H[K]<0&&(H[K]+=1);Du(H,x),i[D]=x[0],i[D+1]=x[1],i[D+2]=x[2]}else if(e.colorSpace===Ko.LAB){const N=[],k=[];$u(p,N),$u(h,k);const H=[];for(let K=0;K<3;K++)_=k[K]-N[K],P=(1-C)*_,H[K]=A*N[K]+B*k[K]+L*P+F*P;t3(H,x),i[D]=x[0],i[D+1]=x[1],i[D+2]=x[2]}else e.colorSpace===Ko.DIVERGING?(eM(R,p,h,x),i[D]=x[0],i[D+1]=x[1],i[D+2]=x[2]):O0("ColorSpace set to invalid value.");for(let N=0;N<3;N++)i[D+N]=i[D+N]<0?0:i[D+N],i[D+N]=i[D+N]>1?1:i[D+N]}}},t.getUint8Table=function(n,r,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.getMTime()<=e.buildTime&&e.tableSize===a&&e.tableWithAlpha!==i)return e.table;if(e.nodes.length===0)return O0("Attempting to lookup a value with no points in the function"),e.table;const o=i?4:3;(e.tableSize!==a||e.tableWithAlpha!==i)&&(e.table=new Uint8Array(a*o),e.tableSize=a,e.tableWithAlpha=i);const s=[];t.getTable(n,r,a,s);for(let l=0;l<a;l++)e.table[l*o+0]=Math.floor(s[l*3+0]*255+.5),e.table[l*o+1]=Math.floor(s[l*3+1]*255+.5),e.table[l*o+2]=Math.floor(s[l*3+2]*255+.5),i&&(e.table[l*o+3]=255);return e.buildTime.modified(),e.table},t.buildFunctionFromArray=n=>{t.removeAllPoints();const r=n.getNumberOfComponents();for(let a=0;a<n.getNumberOfTuples();a++)switch(r){case 3:{e.nodes.push({x:a,r:n.getComponent(a,0),g:n.getComponent(a,1),b:n.getComponent(a,2),midpoint:.5,sharpness:0});break}case 4:{e.nodes.push({x:n.getComponent(a,0),r:n.getComponent(a,1),g:n.getComponent(a,2),b:n.getComponent(a,3),midpoint:.5,sharpness:0});break}case 5:{e.nodes.push({x:a,r:n.getComponent(a,0),g:n.getComponent(a,1),b:n.getComponent(a,2),midpoint:n.getComponent(a,4),sharpness:n.getComponent(a,5)});break}case 6:{e.nodes.push({x:n.getComponent(a,0),r:n.getComponent(a,1),g:n.getComponent(a,2),b:n.getComponent(a,3),midpoint:n.getComponent(a,4),sharpness:n.getComponent(a,5)});break}}t.sortAndUpdateRange()},t.buildFunctionFromTable=(n,r,a,i)=>{let o=0;t.removeAllPoints(),a>1&&(o=(r-n)/(a-1));for(let s=0;s<a;s++){const l={x:n+o*s,r:i[s*3],g:i[s*3+1],b:i[s*3+2],sharpness:0,midpoint:.5};e.nodes.push(l)}t.sortAndUpdateRange()},t.getNodeValue=(n,r)=>n<0||n>=e.nodes.length?(O0("Index out of range!"),-1):(r[0]=e.nodes[n].x,r[1]=e.nodes[n].r,r[2]=e.nodes[n].g,r[3]=e.nodes[n].b,r[4]=e.nodes[n].midpoint,r[5]=e.nodes[n].sharpness,1),t.setNodeValue=(n,r)=>{if(n<0||n>=e.nodes.length)return O0("Index out of range!"),-1;const a=e.nodes[n].x;return e.nodes[n].x=r[0],e.nodes[n].r=r[1],e.nodes[n].g=r[2],e.nodes[n].b=r[3],e.nodes[n].midpoint=r[4],e.nodes[n].sharpness=r[5],a!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.getNumberOfAvailableColors=()=>{var r;if(e.indexedLookup&&t.getSize())return t.getSize();if(e.tableSize)return e.tableSize;const n=((r=e.nodes)==null?void 0:r.length)??0;return Math.max(4094,n)},t.getIndexedColor=(n,r)=>{const a=t.getSize();if(a>0&&n>=0){const o=[];t.getNodeValue(n%a,o);for(let s=0;s<3;++s)r[s]=o[s+1];r[3]=1;return}const i=t.getNanColorByReference();r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=1},t.fillFromDataPointer=(n,r)=>{if(!(n<=0||!r)){t.removeAllPoints();for(let a=0;a<n;a++)t.addRGBPoint(r[a*4],r[a*4+1],r[a*4+2],r[a*4+3])}},t.setMappingRange=(n,r)=>{const a=[n,r],i=t.getRange();if(i[1]===a[1]&&i[0]===a[0])return;if(a[1]===a[0]){O0("attempt to set zero width color range");return}const o=(a[1]-a[0])/(i[1]-i[0]),s=a[0]-i[0]*o;for(let l=0;l<e.nodes.length;++l)e.nodes[l].x=e.nodes[l].x*o+s;e.mappingRange[0]=a[0],e.mappingRange[1]=a[1],t.modified()},t.adjustRange=n=>{const r=t.getRange(),a=[];r[0]<n[0]?(t.getColor(n[0],a),t.addRGBPoint(n[0],a[0],a[1],a[2])):(t.getColor(r[0],a),t.addRGBPoint(n[0],a[0],a[1],a[2])),r[1]>n[1]?(t.getColor(n[1],a),t.addRGBPoint(n[1],a[0],a[1],a[2])):(t.getColor(r[1],a),t.addRGBPoint(n[1],a[0],a[1],a[2])),t.sortAndUpdateRange();for(let i=0;i<e.nodes.length;)e.nodes[i].x>=n[0]&&e.nodes[i].x<=n[1]?e.nodes.splice(i,1):++i;return 1},t.estimateMinNumberOfSamples=(n,r)=>{const a=t.findMinimumXDistance();return Math.ceil((r-n)/a)},t.findMinimumXDistance=()=>{if(e.nodes.length<2)return-1;let n=Number.MAX_VALUE;for(let r=0;r<e.nodes.length-1;r++){const a=e.nodes[r+1].x-e.nodes[r].x;a<n&&(n=a)}return n},t.mapScalarsThroughTable=(n,r,a,i)=>{if(t.getSize()===0){qxe("Transfer Function Has No Points!");return}e.indexedLookup?t.mapDataIndexed(n,r,a,i):t.mapData(n,r,a,i)},t.mapData=(n,r,a,i)=>{if(t.getSize()===0){Kxe("Transfer Function Has No Points!");return}const o=Math.floor(t.getAlpha()*255+.5),s=n.getNumberOfTuples(),l=n.getNumberOfComponents(),c=r.getData(),f=n.getData(),u=[];if(a===Vh.RGBA)for(let d=0;d<s;d++){const g=f[d*l+i];t.getColor(g,u),c[d*4]=Math.floor(u[0]*255+.5),c[d*4+1]=Math.floor(u[1]*255+.5),c[d*4+2]=Math.floor(u[2]*255+.5),c[d*4+3]=o}if(a===Vh.RGB)for(let d=0;d<s;d++){const g=f[d*l+i];t.getColor(g,u),c[d*3]=Math.floor(u[0]*255+.5),c[d*3+1]=Math.floor(u[1]*255+.5),c[d*3+2]=Math.floor(u[2]*255+.5)}if(a===Vh.LUMINANCE)for(let d=0;d<s;d++){const g=f[d*l+i];t.getColor(g,u),c[d]=Math.floor(u[0]*76.5+u[1]*150.45+u[2]*28.05+.5)}if(a===Vh.LUMINANCE_ALPHA)for(let d=0;d<s;d++){const g=f[d*l+i];t.getColor(g,u),c[d*2]=Math.floor(u[0]*76.5+u[1]*150.45+u[2]*28.05+.5),c[d*2+1]=o}},t.applyColorMap=n=>{const r=JSON.stringify(e.colorSpace);n.ColorSpace&&(e.colorSpace=Ko[n.ColorSpace.toUpperCase()],e.colorSpace===void 0&&(O0(`ColorSpace ${n.ColorSpace} not supported, using RGB instead`),e.colorSpace=Ko.RGB));let a=r!==JSON.stringify(e.colorSpace);const i=a||JSON.stringify(e.nanColor);if(n.NanColor)for(e.nanColor=[].concat(n.NanColor);e.nanColor.length<4;)e.nanColor.push(1);a=a||i!==JSON.stringify(e.nanColor);const o=a||JSON.stringify(e.nodes);if(n.RGBPoints){const c=n.RGBPoints.length;e.nodes=[];const f=.5,u=0;for(let d=0;d<c;d+=4)e.nodes.push({x:n.RGBPoints[d],r:n.RGBPoints[d+1],g:n.RGBPoints[d+2],b:n.RGBPoints[d+3],midpoint:f,sharpness:u})}const s=t.sortAndUpdateRange(),l=!s&&(a||o!==JSON.stringify(e.nodes));return l&&t.modified(),s||l}}const Zxe={clamping:!0,colorSpace:Ko.RGB,hSVWrap:!0,scale:Xw.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function WW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Zxe,n),$w.extend(t,e,n),e.table=[],e.nodes=[],e.nanColor=[.5,0,0,1],e.belowRangeColor=[0,0,0,1],e.aboveRangeColor=[1,1,1,1],e.buildTime={},ne.obj(e.buildTime),ne.get(t,e,["buildTime","mappingRange"]),ne.setGet(t,e,["useAboveRangeColor","useBelowRangeColor","discretize","numberOfValues",{type:"enum",name:"colorSpace",enum:Ko},{type:"enum",name:"scale",enum:Xw}]),ne.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),ne.getArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"]),Yxe(t,e)}const Jxe=ne.newInstance(WW,"vtkColorTransferFunction");var Pc={newInstance:Jxe,extend:WW,...zW},e7e=[{Name:"KAAMS",IndexedColors:[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,.63,.63,1,.67,.5,.33,1,.5,.75,.53,.35,.7,1,.75,.5],Annotations:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Cool to Warm (Extended)",NanColor:[.25,0,0],RGBPoints:[0,0,0,.34902,.03125,.039216,.062745,.380392,.0625,.062745,.117647,.411765,.09375,.090196,.184314,.45098,.125,.12549,.262745,.501961,.15625,.160784,.337255,.541176,.1875,.2,.396078,.568627,.21875,.239216,.454902,.6,.25,.286275,.521569,.65098,.28125,.337255,.592157,.701961,.3125,.388235,.654902,.74902,.34375,.466667,.737255,.819608,.375,.572549,.819608,.878431,.40625,.654902,.866667,.909804,.4375,.752941,.917647,.941176,.46875,.823529,.956863,.968627,.5,.988235,.960784,.901961,.5,.941176,.984314,.988235,.52,.988235,.945098,.85098,.54,.980392,.898039,.784314,.5625,.968627,.835294,.698039,.59375,.94902,.733333,.588235,.625,.929412,.65098,.509804,.65625,.909804,.564706,.435294,.6875,.878431,.458824,.352941,.71875,.839216,.388235,.286275,.75,.760784,.294118,.211765,.78125,.701961,.211765,.168627,.8125,.65098,.156863,.129412,.84375,.6,.094118,.094118,.875,.54902,.066667,.098039,.90625,.501961,.05098,.12549,.9375,.45098,.054902,.172549,.96875,.4,.054902,.192157,1,.34902,.070588,.211765]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Warm to Cool (Extended)",NanColor:[.250004,0,0],RGBPoints:[0,.34902,0,.129412,.025,.4,.00392157,.101961,.05,.470588,.0156863,.0901961,.075,.54902,.027451,.0705882,.1,.619608,.0627451,.0431373,.125,.690196,.12549,.0627451,.15,.741176,.184314,.0745098,.175,.788235,.266667,.0941176,.2,.811765,.345098,.113725,.225,.831373,.411765,.133333,.25,.85098,.47451,.145098,.275,.870588,.54902,.156863,.3,.878431,.619608,.168627,.325,.890196,.658824,.196078,.35,.909804,.717647,.235294,.375,.929412,.776471,.278431,.395522,.94902,.823529,.321569,.418905,.968627,.87451,.407843,.444278,.980392,.917647,.509804,.470149,.988235,.956863,.643137,.483582,.992157,.964706,.713725,.499,.988235,.980392,.870588,.5,1,1,1,.501,.913725,.988235,.937255,.516418,.827451,.980392,.886275,.531343,.764706,.980392,.866667,.546766,.658824,.980392,.843137,.564179,.572549,.964706,.835294,.587562,.423529,.941176,.87451,.60597,.262745,.901961,.862745,.629851,.0705882,.854902,.870588,.651741,.0509804,.8,.85098,.681592,.0235294,.709804,.831373,.712935,.0313725,.615686,.811765,.75,.0313725,.537255,.788235,.775,.0392157,.466667,.768627,.8,.0509804,.396078,.741176,.825,.054902,.317647,.709804,.85,.054902,.243137,.678431,.875,.0431373,.164706,.639216,.9,.0313725,.0980392,.6,.925,.0392157,.0392157,.560784,.95,.105882,.0509804,.509804,.975,.113725,.0235294,.45098,1,.12549,0,.380392]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"BkRd",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,1,0,0]},{ColorSpace:"RGB",Name:"BkGn",NanColor:[1,0,1],RGBPoints:[0,0,0,0,1,0,1,0]},{ColorSpace:"RGB",Name:"BkBu",NanColor:[1,1,0],RGBPoints:[0,0,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"BkMa",NanColor:[0,1,0],RGBPoints:[0,0,0,0,1,1,0,1]},{ColorSpace:"RGB",Name:"BkCy",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,0,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear YGB 1211g",NanColor:[.25,0,0],RGBPoints:[0,1,.988235,.968627,.02,1,.952941,.878431,.05,.968627,.905882,.776471,.1,.94902,.898039,.647059,.15,.901961,.878431,.556863,.2,.847059,.858824,.482353,.25,.690196,.819608,.435294,.3,.513725,.768627,.384314,.35,.337255,.721569,.337255,.4,.278431,.658824,.392157,.45,.231373,.639216,.435294,.5,.203922,.6,.486275,.55,.172549,.568627,.537255,.6,.141176,.517647,.54902,.65,.133333,.458824,.541176,.7,.12549,.396078,.529412,.75,.117647,.321569,.521569,.8,.121569,.258824,.509804,.85,.133333,.227451,.501961,.9,.145098,.192157,.490196,.95,.188235,.164706,.470588,1,.258824,.196078,.439216]},{ColorSpace:"CIELAB",Creator:"Francesca Samsel",Name:"Linear Green (Gr4L)",NanColor:[.25,0,0],RGBPoints:[0,.054902,.109804,.121569,.05,.07451,.172549,.180392,.1,.086275,.231373,.219608,.15,.094118,.278431,.25098,.2,.109804,.34902,.278431,.25,.113725,.4,.278431,.3,.117647,.45098,.270588,.35,.117647,.490196,.243137,.4,.113725,.521569,.203922,.45,.109804,.54902,.152941,.5,.082353,.588235,.082353,.55,.109804,.631373,.05098,.6,.211765,.678431,.082353,.65,.317647,.721569,.113725,.7,.431373,.760784,.160784,.75,.556863,.8,.239216,.8,.666667,.839216,.294118,.85,.784314,.878431,.396078,.9,.886275,.921569,.533333,.95,.960784,.94902,.670588,1,1,.984314,.901961]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear Blue (8_31f)",NanColor:[.25,0,0],RGBPoints:[0,.960784,1,.980392,.05,.815686,.960784,.913725,.1,.670588,.929412,.870588,.15,.556863,.901961,.843137,.2,.478431,.870588,.823529,.25,.439216,.831373,.803922,.3,.4,.8,.788235,.35,.376471,.768627,.768627,.4,.34902,.709804,.729412,.45,.32549,.654902,.690196,.5,.301961,.607843,.658824,.55,.247059,.545098,.619608,.6,.239216,.494118,.580392,.65,.227451,.439216,.541176,.7,.227451,.403922,.521569,.75,.231373,.368627,.501961,.8,.227451,.321569,.470588,.85,.219608,.282353,.439216,.9,.192157,.235294,.4,.95,.160784,.184314,.34902,1,.133333,.12549,.301961]},{ColorSpace:"HSV",Name:"Blue to Red Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,0,0,1,1,1,0,0]},{ColorSpace:"HSV",Name:"Red to Blue Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,1,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended White",NanColor:[1,1,0],RGBPoints:[0,1,1,1,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Grey",NanColor:[1,1,0],RGBPoints:[0,.317647058824,.341176470588,.43137254902,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Black",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Blue to Yellow",NanColor:[1,0,0],RGBPoints:[0,.0392156862745,.0392156862745,.949019607843,1,.949019607843,.949019607843,.0392156862745]},{ColorSpace:"HSV",Name:"blot",RGBPoints:[0,0,0,1,.166,0,0,1,.167,1,0,1,.332,1,0,1,.333,0,1,1,.5,0,1,1,.501,0,1,0,.666,0,1,0,.667,1,1,0,.832,1,1,0,.833,1,0,0,1,1,0,0]},{ColorSpace:"Lab",Name:"CIELab Blue to Red",NanColor:[1,1,0],RGBPoints:[0,0,.6,.749019607843,1,.76862745098,.466666666667,.341176470588]},{ColorSpace:"RGB",Name:"jet",RGBPoints:[-1,0,0,.5625,-.777778,0,0,1,-.269841,0,1,1,-.015873,.5,1,.5,.238095,1,1,0,.746032,1,0,0,1,.5,0,0]},{ColorSpace:"RGB",Name:"rainbow",RGBPoints:[-1,0,0,1,-.5,0,1,1,0,0,1,0,.5,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"nic_CubicYF",RGBPoints:[-1,.5151,.0482,.6697,-.87451,.520711,.168955,.800574,-.74902,.493694,.278596,.911824,-.623529,.440026,.369475,.984978,-.498039,.398932,.457593,.987053,-.372549,.350651,.540644,.929608,-.247059,.298827,.615625,.857729,-.121569,.239928,.685061,.769531,.00392157,.228832,.739349,.673287,.129412,.263297,.78608,.569988,.254902,.298107,.828337,.460214,.380392,.33092,.864071,.352674,.505882,.38306,.898169,.287309,.631373,.49023,.917481,.307961,.756863,.62372,.926026,.332309,.882353,.717458,.92527,.342476,1,.8,.9255,.3529]},{ColorSpace:"Lab",Name:"gist_earth",RGBPoints:[-1,0,0,0,-.87451,.239216,.027451,.415686,-.74902,.0901961,.254902,.556863,-.623529,.0941176,.352941,.54902,-.498039,.105882,.435294,.533333,-.372549,.12549,.52549,.501961,-.247059,.156863,.596078,.443137,-.121569,.196078,.65098,.380392,.00392157,.282353,.717647,.301961,.129412,.466667,.772549,.27451,.254902,.678431,.784314,.309804,.380392,.901961,.756863,.376471,.505882,.992157,.705882,.521569,.631373,1,.721569,.701961,.756863,1,.784314,.784314,.882353,1,.866667,.866667,1,1,1,1]},{ColorSpace:"Lab",Name:"2hot",RGBPoints:[-1,.0416667,0,0,-.873016,.208333,0,0,-.746032,.375,0,0,-.619048,.541667,0,0,-.492063,.708333,0,0,-.365079,.854137,0,0,-.238095,.937488,.039062,0,-.111111,1,.208333,0,.015873,1,.375,0,.142857,1,.541667,0,.269841,1,.708333,0,.396825,1,.858805,.03125,.52381,1,.947392,.15625,.650794,1,1,.3125,.777778,1,1,.5625,.904762,1,1,.8125,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,754296e-12,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_marine2gold_BW",RGBPoints:[-1,111641e-12,0,162551e-11,-.87451,.0413146,.0619808,.209857,-.74902,.0185557,.101341,.350684,-.623529,.00486405,.149847,.461054,-.498039,.0836345,.210845,.517906,-.372549,.173222,.276134,.541793,-.247059,.259857,.343877,.535869,-.121569,.362299,.408124,.504293,.00392157,.468266,.468276,.468257,.129412,.582781,.527545,.374914,.254902,.691591,.585251,.274266,.380392,.784454,.645091,.247332,.505882,.862299,.710383,.27518,.631373,.920863,.782923,.351563,.756863,.955792,.859699,.533541,.882353,.976162,.93433,.780671,1,1,1,.999983]},{ColorSpace:"Lab",Name:"erdc_blue2gold_BW",RGBPoints:[-1,0,0,0,-.87451,.0742735,.0440331,.230013,-.74902,.125276,.0258685,.415826,-.623529,.143879,.0163031,.591346,-.498039,.212261,.0627855,.705239,-.372549,.306048,.141178,.763636,-.247059,.391537,.232286,.773263,-.121569,.461734,.336633,.708321,.00392157,.54209,.427581,.590007,.129412,.61704,.508623,.460978,.254902,.702703,.579586,.309117,.380392,.790336,.644811,.170397,.505882,.870173,.710733,.117134,.631373,.93656,.781991,.157144,.756863,.965672,.862068,.409836,.882353,.985751,.936296,.714162,1,1,1,.999999]},{ColorSpace:"Lab",Name:"erdc_sapphire2gold_BW",RGBPoints:[-1,.107704,.107708,.107694,-.87451,.1851,.112354,.308554,-.74902,.236782,.114233,.48788,-.623529,.28296,.126187,.639464,-.498039,.344787,.171643,.739713,-.372549,.413325,.242371,.76913,-.247059,.481863,.3131,.719841,-.121569,.550402,.383829,.612222,.00392157,.61894,.454558,.51126,.129412,.687478,.525287,.39993,.254902,.756017,.596016,.289923,.380392,.824555,.666745,.255498,.505882,.892979,.736822,.27696,.631373,.938851,.804966,.351734,.756863,.966491,.874853,.53572,.882353,.982105,.94153,.782579,1,1,1,.999986]},{ColorSpace:"Lab",Name:"erdc_red2purple_BW",RGBPoints:[-1,0,0,0,-.87451,.167793,.0166271,.0431278,-.74902,.262608,.0107595,.0791181,-.623529,.351902,.0101858,.100926,-.498039,.441257,.0160835,.131919,-.372549,.5221,.0555972,.195625,-.247059,.593852,.104294,.310234,-.121569,.654628,.158115,.448486,.00392157,.707443,.220914,.570253,.129412,.749504,.293268,.67897,.254902,.781587,.370517,.779269,.380392,.809951,.451099,.855831,.505882,.84424,.531462,.900451,.631373,.865174,.620901,.91606,.756863,.875041,.714054,.910284,.882353,.880764,.80554,.896276,1,.887572,.887591,.887556]},{ColorSpace:"Lab",Name:"erdc_purple2pink_BW",RGBPoints:[-1,0,0,0,-.87451,.117562,.0291202,.175876,-.74902,.178368,.0458476,.285454,-.623529,.237731,.0680173,.387717,-.498039,.300877,.0956291,.484802,-.372549,.370929,.136858,.554985,-.247059,.449033,.189273,.58863,-.121569,.529971,.245796,.598587,.00392157,.609914,.300643,.610244,.129412,.697079,.351286,.616371,.254902,.785858,.401991,.617376,.380392,.862517,.45745,.64463,.505882,.91359,.525462,.705336,.631373,.932583,.61064,.767412,.756863,.922478,.706966,.817522,.882353,.901302,.803071,.856311,1,.887571,.887591,.887549]},{ColorSpace:"Lab",Name:"erdc_pbj_lin",RGBPoints:[-1,0,0,0,-.87451,.091821,.0611476,.10617,-.74902,.160311,.0900022,.192713,-.623529,.22484,.12126,.272128,-.498039,.291263,.157469,.340828,-.372549,.360015,.200388,.388903,-.247059,.437497,.250058,.387201,-.121569,.512636,.304969,.355955,.00392157,.582603,.360874,.33488,.129412,.655126,.416374,.306351,.254902,.725889,.473329,.279051,.380392,.778125,.537928,.302697,.505882,.815894,.606931,.382431,.631373,.839159,.679308,.497608,.756863,.854748,.751666,.631792,.882353,.869483,.822508,.768592,1,.887572,.887589,.887565]},{ColorSpace:"Lab",Name:"erdc_blue2green_muted",RGBPoints:[-1,.107704,.107708,.107695,-.87451,.141522,.13066,.270741,-.74902,.180123,.146119,.42308,-.623529,.210161,.169674,.551795,-.498039,.239701,.212939,.634969,-.372549,.253916,.282947,.653641,-.247059,.242791,.366933,.608521,-.121569,.226302,.446776,.52693,.00392157,.236237,.514689,.458798,.129412,.274641,.577589,.376069,.254902,.349625,.633993,.288131,.380392,.4437,.683677,.260497,.505882,.536247,.731214,.285424,.631373,.628472,.777128,.349151,.756863,.718259,.819287,.496825,.882353,.804768,.856164,.703299,1,.887571,.887591,.887548]},{ColorSpace:"Lab",Name:"erdc_blue2green_BW",RGBPoints:[-1,363578e-12,0,529374e-11,-.87451,.0539915,.0577948,.212806,-.74902,.0620393,.0758942,.388959,-.623529,.0697499,.102032,.54177,-.498039,.113295,.156156,.64334,-.372549,.152047,.243196,.670283,-.247059,.158096,.344084,.622864,-.121569,.151142,.43922,.532767,.00392157,.17155,.521588,.457719,.129412,.225861,.599141,.363997,.254902,.32328,.67007,.259083,.380392,.442344,.733697,.223754,.505882,.558409,.794941,.257411,.631373,.673875,.854344,.340822,.756863,.787244,.909326,.524717,.882353,.896483,.958063,.775914,1,1,1,.999982]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_green2yellow_BW",RGBPoints:[-1,0,0,0,-.87451,0,.105542,.0603919,-.74902,0,.159454,.104148,-.623529,0,.219502,.15542,-.498039,0,.282276,.203811,-.372549,0,.346331,.235652,-.247059,0,.411765,.235428,-.121569,0,.477177,.217977,.00392157,.0593644,.541635,.21361,.129412,.233081,.604722,.210591,.254902,.369803,.664942,.226536,.380392,.498446,.722367,.288237,.505882,.601929,.782244,.380815,.631373,.703207,.840497,.512134,.756863,.803186,.896433,.674462,.882353,.903834,.950266,.846715,1,1,1,.999981]},{ColorSpace:"Lab",Name:"blue2cyan",RGBPoints:[-1,0,0,0,-.87451,0,.152941,.364706,-.74902,0,.254902,.470588,-.623529,0,.34902,.572549,-.498039,0,.443137,.670588,-.372549,0,.537255,.772549,-.247059,0,.627451,.870588,-.121569,0,.717647,.964706,.00392157,.0784314,.772549,1,.129412,.207843,.858824,1,.254902,.32549,.941176,1,.380392,.45098,1,1,.505882,.560784,1,1,.631373,.662745,1,1,.756863,.760784,1,1,.882353,.870588,1,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,405298e-12,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_blue_BW",RGBPoints:[-1,0,0,0,-.87451,.0425591,.0763529,.150682,-.74902,.0569472,.119154,.275403,-.623529,.0635978,.164772,.395427,-.498039,.0774342,.213851,.510014,-.372549,.106815,.267034,.615102,-.247059,.122093,.324649,.720068,-.121569,.160851,.387068,.806956,.00392157,.213754,.453516,.878012,.129412,.26722,.524656,.932436,.254902,.326844,.599279,.968038,.380392,.403403,.674712,.984784,.505882,.499703,.745519,1,.631373,.615055,.813983,1,.756863,.74405,.879228,1,.882353,.877909,.941913,1,1,1,1,.999996]},{ColorSpace:"Lab",Name:"BLUE-WHITE",RGBPoints:[-1,0,0,0,-.87451,0,0,.082353,-.74902,0,0,.168627,-.623529,0,0,.254902,-.498039,0,0,.337255,-.372549,0,0,.423529,-.247059,0,0,.509804,-.121569,0,.101961,.592157,.00392157,0,.203922,.678431,.129412,0,.301961,.764706,.254902,0,.403922,.85098,.380392,0,.505882,.933333,.505882,0,.603922,1,.631373,.254902,.705882,1,.756863,.509804,.807843,1,.882353,.764706,.905882,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_purple_BW",RGBPoints:[-1,4264e-11,0,620844e-12,-.87451,.100579,.0593111,.145666,-.74902,.167794,.0889224,.254953,-.623529,.231446,.123339,.360511,-.498039,.296699,.163027,.461278,-.372549,.363211,.209286,.55306,-.247059,.431136,.260776,.637195,-.121569,.498202,.320012,.705799,.00392157,.567456,.380459,.778091,.129412,.629381,.445284,.8448,.254902,.688373,.517374,.895694,.380392,.74891,.590906,.93976,.505882,.805017,.667956,.977626,.631373,.850914,.752618,.992396,.756863,.89724,.838454,.994093,.882353,.948461,.922603,.994449,1,1,1,.999967]},{ColorSpace:"Lab",Name:"erdc_magenta_BW",RGBPoints:[-1,0,0,254023e-10,-.87451,.128696,.0456782,.11635,-.74902,.228133,.0476299,.201452,-.623529,.327273,.0374065,.282107,-.498039,.420953,.0408166,.35709,-.372549,.511562,.0642203,.430511,-.247059,.599552,.102686,.504257,-.121569,.684646,.150536,.579429,.00392157,.765817,.205978,.656062,.129412,.839176,.27229,.731807,.254902,.89536,.357594,.797309,.380392,.930238,.457825,.846984,.505882,.945921,.564536,.880571,.631373,.948995,.670753,.902279,.756863,.947124,.772819,.918171,.882353,.947265,.869424,.934352,1,.954719,.95475,.954726]},{ColorSpace:"Lab",Name:"magenta",RGBPoints:[-1,0,0,0,-.87451,.364706,0,.152941,-.74902,.470588,0,.254902,-.623529,.572549,0,.34902,-.498039,.670588,0,.443137,-.372549,.772549,0,.537255,-.247059,.870588,0,.627451,-.121569,.964706,0,.717647,.00392157,1,.0784314,.772549,.129412,1,.207843,.858824,.254902,1,.32549,.941176,.380392,1,.45098,1,.505882,1,.560784,1,.631373,1,.662745,1,.756863,1,.760784,1,.882353,1,.870588,1,1,1,1,1]},{ColorSpace:"Lab",Name:"RED-PURPLE",RGBPoints:[-1,0,0,0,-.87451,.188235,0,.007843,-.74902,.345098,0,.035294,-.623529,.439216,0,.098039,-.498039,.533333,0,.152941,-.372549,.627451,.015686,.211765,-.247059,.721569,.031373,.266667,-.121569,.8,.047059,.329412,.00392157,.862745,.047059,.403922,.129412,.941176,.062745,.466667,.254902,.988235,.078431,.54902,.380392,.988235,.141176,.643137,.505882,.988235,.25098,.729412,.631373,.988235,.376471,.811765,.756863,.988235,.54902,.886275,.882353,.988235,.752941,.952941,1,.996078,.996078,.996078]},{ColorSpace:"Lab",Name:"erdc_red_BW",RGBPoints:[-1,0,0,0,-.87451,.147204,.0480135,.0401815,-.74902,.253411,.0617478,.0301333,-.623529,.356059,.0746331,.0446897,-.498039,.457731,.0934935,.0636931,-.372549,.557199,.122714,.0860013,-.247059,.665179,.144238,.105585,-.121569,.763833,.187056,.138326,.00392157,.847035,.254558,.189407,.129412,.905663,.345937,.258215,.254902,.941431,.447111,.346277,.380392,.962608,.546927,.457571,.505882,.987833,.637276,.569944,.631373,.994202,.732176,.687958,.756863,.993304,.826268,.800567,.882353,.994413,.917205,.906393,1,1,1,.999979]},{ColorSpace:"Lab",Name:"RED_TEMPERATURE",RGBPoints:[-1,0,0,0,-.87451,.090196,0,0,-.74902,.180392,0,0,-.623529,.270588,0,0,-.498039,.360784,0,0,-.372549,.45098,0,0,-.247059,.545098,0,0,-.121569,.635294,0,0,.00392157,.72549,.058824,0,.129412,.815686,.176471,0,.254902,.905882,.294118,0,.380392,1,.411765,0,.505882,1,.533333,.027451,.631373,1,.65098,.27451,.756863,1,.768627,.521569,.882353,1,.886275,.768627,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_orange_BW",RGBPoints:[-1,0,0,253806e-10,-.87451,.135871,.0593824,0,-.74902,.224328,.0907216,0,-.623529,.318083,.119647,0,-.498039,.414443,.150246,0,-.372549,.511077,.184884,0,-.247059,.605501,.226033,0,-.121569,.695274,.275491,0,.00392157,.777826,.334445,0,.129412,.851498,.402441,0,.254902,.915899,.47759,602975e-9,.380392,.971984,.557882,.0361443,.505882,1,.641287,.135967,.631373,1,.725198,.27997,.756863,1,.808205,.438135,.882353,1,.89306,.587036,1,1,.977928,.721599]},{ColorSpace:"Lab",Name:"heated_object",RGBPoints:[-1,0,0,0,-.87451,.34902,.0862745,0,-.74902,.45098,.172549,0,-.623529,.52549,.231373,0,-.498039,.580392,.278431,0,-.372549,.623529,.313725,0,-.247059,.670588,.352941,0,-.121569,.717647,.392157,0,.00392157,.772549,.439216,0,.129412,.839216,.494118,0,.254902,.901961,.541176,0,.380392,.968627,.6,0,.505882,1,.658824,0,.631373,1,.721569,0,.756863,1,.827451,.298039,.882353,1,.976471,.72549,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"erdc_brown_BW",RGBPoints:[-1,33216e-11,0,483629e-11,-.87451,.14693,.0518172,0,-.74902,.225806,.0814996,0,-.623529,.301681,.111452,0,-.498039,.370487,.150664,0,-.372549,.43108,.199477,0,-.247059,.4849,.255107,0,-.121569,.536798,.313486,0,.00392157,.59286,.371167,0,.129412,.653119,.428135,0,.254902,.714589,.485917,.0379541,.380392,.774667,.54565,.116634,.505882,.831222,.608047,.183895,.631373,.880305,.674199,.260298,.756863,.922314,.742472,.367086,.882353,.959408,.811222,.497258,1,.993548,.875183,.622093]},{ColorSpace:"Lab",Name:"copper_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0784314,.0501961,.0313725,-.74902,.156863,.100392,.0627451,-.623529,.235294,.150588,.0941176,-.498039,.313725,.200784,.12549,-.372549,.392157,.25098,.156863,-.247059,.470588,.301176,.188235,-.121569,.54902,.351373,.219608,.00392157,.627451,.401569,.25098,.129412,.705882,.451765,.282353,.254902,.784314,.501961,.313725,.380392,.862745,.552157,.345098,.505882,.941176,.602353,.376471,.631373,1,.652549,.407843,.756863,1,.702745,.439216,.882353,1,.752941,.470588,1,1,.8,.5]},{ColorSpace:"Lab",Name:"pink_Matlab",RGBPoints:[-1,0,0,0,-.87451,.312416,.204524,.204524,-.74902,.441822,.289241,.289241,-.623529,.54112,.354246,.354246,-.498039,.624831,.409048,.409048,-.372549,.698582,.45733,.45733,-.247059,.764404,.502282,.500979,-.121569,.791292,.591516,.54112,.00392157,.817297,.66895,.578481,.129412,.842499,.738308,.613572,.254902,.866968,.801687,.646762,.380392,.890766,.86041,.678329,.505882,.913944,.913944,.711254,.631373,.936549,.936549,.79459,.756863,.958621,.958621,.869979,.882353,.980196,.980196,.939336,1,1,1,1]},{ColorSpace:"Lab",Name:"bone_Matlab",RGBPoints:[-1,0,0,0,-.87451,.054902,.054902,.075817,-.74902,.109804,.109804,.151634,-.623529,.164706,.164706,.227451,-.498039,.219608,.219608,.303268,-.372549,.27451,.27451,.379085,-.247059,.329412,.329902,.454412,-.121569,.384314,.405719,.509314,.00392157,.439216,.481536,.564216,.129412,.494118,.557353,.619118,.254902,.54902,.63317,.67402,.380392,.603922,.708987,.728922,.505882,.660294,.783824,.783824,.631373,.746569,.838725,.838725,.756863,.832843,.893627,.893627,.882353,.919118,.948529,.948529,1,1,1,1]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"Purples",RGBPoints:[-1,.247059,0,.490196,-.87451,.288397,.07677,.525629,-.74902,.32975,.153587,.561092,-.623529,.373057,.236263,.600461,-.498039,.416363,.319,.639923,-.372549,.459669,.405613,.685198,-.247059,.503345,.491534,.730058,-.121569,.562399,.54862,.757616,.00392157,.621453,.606075,.785544,.129412,.680508,.674971,.824914,.254902,.739562,.743406,.863899,.380392,.798616,.800492,.893426,.505882,.85684,.856655,.922491,.631373,.898178,.894056,.942176,.756863,.938654,.930919,.961646,.882353,.964245,.958478,.977393,1,.988235,.984314,.992157]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"PuBu",RGBPoints:[-1,.301961,0,.294118,-.87451,.404321,.029527,.390573,-.74902,.50599,.059592,.486782,-.623529,.519769,.158016,.551742,-.498039,.533456,.256194,.616301,-.372549,.54133,.33887,.655671,-.247059,.54902,.421592,.695087,-.121569,.54902,.506236,.736424,.00392157,.550127,.590573,.777701,.129412,.585559,.665375,.81707,.254902,.622145,.739023,.855825,.380392,.687105,.784298,.879446,.505882,.752065,.829758,.903253,.631373,.817024,.87897,.930811,.756863,.880907,.927213,.957832,.882353,.926182,.958708,.975548,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"BuPu",RGBPoints:[-1,.007843,.219608,.345098,-.87451,.01178,.286536,.449427,-.74902,.015702,.35328,.553479,-.623529,.01767,.396586,.622376,-.498039,.021115,.4402,.690688,-.372549,.11757,.503191,.722184,-.247059,.214625,.565859,.753633,-.121569,.336671,.615071,.78316,.00392157,.457978,.663975,.812503,.129412,.556401,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821638,.903068,.631373,.873387,.864944,.92669,.756863,.927536,.907605,.949988,.882353,.964937,.9391,.967705,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGn",RGBPoints:[-1,.031373,.25098,.505882,-.87451,.031373,.329719,.590527,-.74902,.031911,.408397,.674787,-.623529,.100807,.479262,.710219,-.498039,.169704,.550219,.745744,-.372549,.238601,.62699,.787082,-.247059,.307958,.703114,.826759,-.121569,.39654,.752326,.797232,.00392157,.485121,.801046,.767705,.129412,.573702,.83451,.738178,.254902,.661592,.867743,.711034,.380392,.732457,.895302,.74253,.505882,.801845,.922307,.774579,.631373,.841215,.938055,.817885,.756863,.880907,.95391,.861084,.882353,.926182,.971626,.902422,1,.968627,.988235,.941176]},{ColorSpace:"Lab",Name:"GnBu",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546175,.272095,-.372549,.197232,.615071,.368551,-.247059,.256609,.683276,.464867,-.121569,.329443,.722645,.555417,.00392157,.403137,.762138,.645413,.129412,.503529,.805444,.718247,.254902,.603922,.848597,.790465,.380392,.704314,.887966,.847551,.505882,.802307,.926321,.903714,.631373,.851519,.944037,.941115,.756863,.899977,.961538,.976901,.882353,.935409,.975317,.984775,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"GnBuPu",RGBPoints:[-1,.003922,.27451,.211765,-.87451,.003922,.349312,.280661,-.74902,.003937,.423852,.349773,-.623529,.005905,.46519,.446228,-.498039,.009443,.506344,.542837,-.372549,.111803,.535871,.649135,-.247059,.214025,.565859,.753633,-.121569,.310481,.615071,.78316,.00392157,.407797,.663975,.812503,.129412,.531811,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821176,.902884,.631373,.873387,.854641,.922568,.756863,.927536,.888535,.942361,.882353,.964937,.929873,.964014,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGnYl",RGBPoints:[-1,.031373,.113725,.345098,-.87451,.088458,.159,.463206,-.74902,.145052,.204567,.5807,-.623529,.139146,.287243,.620069,-.498039,.13318,.370196,.659562,-.372549,.123337,.470588,.706805,-.247059,.115386,.570335,.753126,-.121569,.186251,.643168,.761,.00392157,.258716,.71514,.768074,.129412,.380761,.760415,.750358,.254902,.503576,.806075,.732795,.380392,.645306,.861192,.719016,.505882,.783899,.91511,.705606,.631373,.858701,.944637,.6997,.756863,.931349,.973303,.698424,.882353,.966782,.987082,.777163,1,1,1,.85098]},{ColorSpace:"Lab",Name:"PuRd",RGBPoints:[-1,.286275,0,.415686,-.87451,.38273,.001968,.441276,-.74902,.479231,.003922,.466774,-.623529,.581592,.003922,.480554,-.498039,.683799,.00549,.494887,-.372549,.776317,.105882,.544098,-.247059,.867866,.206321,.592618,-.121569,.919047,.308681,.612303,.00392157,.968812,.411226,.632603,.129412,.974717,.519493,.671972,.254902,.980546,.626451,.71065,.380392,.984483,.701253,.732303,.505882,.988328,.77504,.755617,.631373,.990296,.828189,.812703,.756863,.992372,.880907,.869035,.882353,.996309,.926182,.912341,1,1,.968627,.952941]},{ColorSpace:"Lab",Name:"RdPu",RGBPoints:[-1,.403922,0,.121569,-.87451,.500377,0,.192434,-.74902,.596909,277e-6,.263037,-.623529,.703206,.035709,.300438,-.498039,.808612,.071296,.338854,-.372549,.857824,.116571,.441215,-.247059,.905513,.163552,.54293,-.121569,.889765,.281661,.617732,.00392157,.873156,.39897,.691611,.129412,.82985,.491488,.736886,.254902,.789081,.583237,.781853,.380392,.810734,.656071,.819254,.505882,.833126,.729181,.85684,.631373,.870527,.80792,.898178,.756863,.907605,.884398,.938331,.882353,.9391,.921799,.958016,1,.968627,.956863,.976471]},{ColorSpace:"Lab",Name:"Oranges",RGBPoints:[-1,.498039,.152941,.015686,-.87451,.57481,.182468,.013718,-.74902,.651765,.212042,.011734,-.623529,.752157,.247474,.007797,-.498039,.851719,.283368,.004475,-.372549,.898962,.348328,.039908,-.247059,.945652,.413426,.076401,-.121569,.969273,.484291,.157109,.00392157,.992157,.554971,.238185,.129412,.992157,.619931,.330704,.254902,.992157,.684967,.423837,.380392,.992157,.751895,.532103,.505882,.992249,.817716,.639354,.631373,.994218,.861023,.725967,.756863,.996186,.903576,.810965,.882353,.998155,.933103,.868051,1,1,.960784,.921569]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"RdOr",RGBPoints:[-1,.498039,0,0,-.87451,.6004,0,0,-.74902,.702514,738e-6,477e-6,-.623529,.773379,.095225,.061499,-.498039,.843875,.189865,.12283,-.372549,.891119,.294195,.203537,-.247059,.937855,.397924,.283137,-.121569,.963445,.476663,.316601,.00392157,.988297,.555771,.351665,.129412,.990265,.646321,.436309,.254902,.992157,.735256,.519646,.380392,.992157,.784468,.570827,.505882,.992249,.833218,.623483,.631373,.994218,.872587,.706159,.756863,.996186,.911419,.788189,.882353,.998155,.940946,.859054,1,1,.968627,.92549]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"RdOrYl",RGBPoints:[-1,.501961,0,.14902,-.87451,.622038,0,.14902,-.74902,.741761,4e-4,.148866,-.623529,.816563,.05158,.129181,-.498039,.890965,.10356,.110235,-.372549,.940177,.205921,.137793,-.247059,.988281,.308789,.165536,-.121569,.99025,.432803,.200969,.00392157,.992218,.555217,.236278,.129412,.994187,.628051,.267774,.254902,.996078,.701038,.301269,.380392,.996078,.777809,.383945,.505882,.996171,.852826,.466621,.631373,.998139,.892195,.549296,.756863,1,.931349,.632188,.882353,1,.966782,.7188,1,1,1,.8]},{ColorSpace:"Lab",Name:"CIELab_blue2red",RGBPoints:[-1,0,.6,.74902,1,.76863,.46667,.34118]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_blue2gold",RGBPoints:[-1,.175119,.0438468,1,-.874016,.22383,.159771,.94557,-.748031,.27254,.233611,.891216,-.622047,.321251,.296526,.836857,-.496063,.369962,.354296,.782359,-.370079,.418672,.409139,.72754,-.244094,.467383,.462152,.672148,-.11811,.51609,.51396,.615825,.00787402,.572863,.55452,.559172,.133858,.630269,.593822,.517729,.259843,.689588,.624668,.47446,.385827,.745394,.656113,.428638,.511811,.798624,.688104,.379105,.637795,.849926,.720593,.323834,.76378,.899765,.753543,.258657,.889764,.948487,.78692,.171778,1,.990413,.816451,.00729848]},{ColorSpace:"Lab",Name:"erdc_blue2yellow",RGBPoints:[-1,.0830122,0,.495617,-.87451,.141973,.0551288,.57363,-.74902,.193048,.110258,.604561,-.623529,.234231,.165386,.57643,-.498039,.275413,.220515,.548299,-.372549,.316596,.275644,.520169,-.247059,.357778,.330773,.492038,-.121569,.398961,.385901,.463908,.00392157,.449929,.438487,.426815,.129412,.511572,.488299,.379944,.254902,.581222,.53603,.325741,.380392,.650871,.583761,.271538,.505882,.720521,.631493,.217335,.631373,.79017,.679224,.163132,.756863,.85982,.726955,.108929,.882353,.910254,.774159,.14112,1,.927513,.81759,.306289]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"erdc_purple2green",RGBPoints:[-1,.235006,.0483128,.530899,-.87451,.302968,.108419,.552391,-.74902,.360241,.166059,.569502,-.623529,.406746,.226782,.579373,-.498039,.444073,.28964,.582094,-.372549,.473648,.353774,.577947,-.247059,.497636,.418154,.567911,-.121569,.519086,.481741,.553968,.00392157,.542884,.542914,.542875,.129412,.566303,.603989,.527499,.254902,.595218,.662965,.516857,.380392,.628641,.720701,.510673,.505882,.665373,.777849,.508165,.631373,.704182,.834921,.508303,.756863,.743846,.892328,.50999,.882353,.783158,.950422,.512181,1,.818617,1,.513888]},{ColorSpace:"Lab",Name:"erdc_purple2green_dark",RGBPoints:[-1,.107656,0,.428682,-.87451,.1924,0,.449799,-.74902,.255118,.0648939,.466726,-.623529,.304256,.133066,.476703,-.498039,.343202,.19716,.479793,-.372549,.373876,.260353,.476241,-.247059,.398497,.322872,.466953,-.121569,.420016,.384252,.453785,.00392157,.44319,.443216,.443186,.129412,.465553,.502139,.428233,.254902,.492959,.559151,.417591,.380392,.524654,.615092,.411016,.505882,.55959,.670583,.40779,.631373,.596614,.726102,.406948,.756863,.634544,.782032,.407439,.882353,.672183,.838703,.408237,1,.706131,.892759,.408452]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"Spectral_lowBlue",RGBPoints:[-1,.368627,.309804,.635294,-.87451,.260361,.450058,.70173,-.74902,.248058,.591311,.717186,-.623529,.376009,.734025,.658132,-.498039,.537947,.814764,.64506,-.372549,.702345,.879585,.636678,-.247059,.84752,.938639,.607151,-.121569,.940408,.976163,.656055,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.937793,.398539,.270127,.756863,.861515,.282891,.299654,.882353,.746482,.144637,.288812,1,.619608,.003922,.258824]},{ColorSpace:"Lab",Name:"GnRP",RGBPoints:[-1,0,.266667,.105882,-.87451,.066436,.394617,.174779,-.74902,.168858,.524567,.25767,-.623529,.323875,.657439,.361015,-.498039,.504883,.772318,.506344,-.372549,.678431,.870127,.654902,-.247059,.803922,.921799,.780392,-.121569,.897116,.951942,.882814,.00392157,.967397,.965936,.967474,.129412,.928028,.879815,.930565,.254902,.866052,.780777,.882891,.380392,.77501,.665129,.821376,.505882,.675663,.537024,.737024,.631373,.57847,.396155,.645982,.756863,.492349,.223914,.547559,.882353,.375548,.096886,.423299,1,.25098,0,.294118]},{ColorSpace:"Lab",Name:"GYPi",RGBPoints:[-1,.152941,.392157,.098039,-.87451,.246444,.505344,.117724,-.74902,.351942,.614533,.161399,-.623529,.474971,.717878,.240138,-.498039,.611995,.811226,.392849,-.372549,.746328,.893118,.565321,-.247059,.859516,.94233,.747405,-.121569,.928105,.96386,.875663,.00392157,.969089,.966859,.968012,.129412,.983852,.910265,.948328,.254902,.979239,.833218,.914648,.380392,.949712,.729873,.862976,.505882,.905652,.58293,.763552,.631373,.85521,.410073,.652211,.756863,.793695,.183699,.531642,.882353,.683737,.063899,.420761,1,.556863,.003922,.321569]},{ColorSpace:"Lab",Name:"GnYlRd",RGBPoints:[-1,0,.407843,.215686,-.87451,.063975,.525952,.277201,-.74902,.177932,.633064,.332718,-.623529,.364937,.724106,.379469,-.498039,.527951,.797155,.40223,-.372549,.678431,.862822,.433449,-.247059,.803922,.916955,.514648,-.121569,.909419,.961861,.625067,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.939023,.389927,.245521,.756863,.867666,.239831,.176624,.882353,.762399,.110727,.151326,1,.647059,0,.14902]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"PuOr",RGBPoints:[-1,.498039,.231373,.031373,-.87451,.62599,.30273,.026451,-.74902,.746943,.387082,.037524,-.623529,.85767,.490427,.071972,-.498039,.936409,.617762,.236371,-.372549,.992695,.743099,.43291,-.247059,.995156,.841523,.63714,-.121569,.985313,.913802,.813687,.00392157,.966244,.966398,.967705,.129412,.889965,.89504,.938178,.254902,.806151,.804306,.894656,.380392,.712649,.688658,.833141,.505882,.594233,.554325,.744637,.631373,.474894,.404229,.652364,.756863,.366628,.217224,.563783,.882353,.266436,.089965,.434833,1,.176471,0,.294118]},{ColorSpace:"Lab",Name:"PRGn",RGBPoints:[-1,.25098,0,.294118,-.87451,.383852,.103345,.431911,-.74902,.497732,.234679,.55371,-.623529,.583852,.40692,.652134,-.498039,.681968,.545175,.742561,-.372549,.7807,.672357,.825221,-.247059,.871742,.788005,.886736,-.121569,.930488,.885198,.932872,.00392157,.966321,.968089,.965859,.129412,.892503,.950865,.877278,.254902,.796078,.91857,.772549,.380392,.670588,.866897,.647059,.505882,.493195,.765398,.496655,.631373,.314187,.649135,.354556,.756863,.15917,.516263,.251211,.882353,.062284,.386621,.170473,1,0,.266667,.105882]},{ColorSpace:"Lab",Name:"PiYG",RGBPoints:[-1,.556863,.003922,.321569,-.87451,.692195,.067897,.427374,-.74902,.797539,.197847,.539177,-.623529,.859054,.424221,.659746,-.498039,.908574,.592618,.770319,-.372549,.951557,.736332,.866205,-.247059,.981084,.839677,.917878,-.121569,.98293,.913802,.949558,.00392157,.96732,.968474,.965629,.129412,.92549,.963552,.869666,.254902,.852441,.939254,.736025,.380392,.739254,.890042,.553941,.505882,.60323,.805536,.382238,.631373,.467282,.711419,.235217,.756863,.344252,.608074,.156478,.882353,.2406,.49827,.116494,1,.152941,.392157,.098039]},{ColorSpace:"Lab",Name:"OrPu",RGBPoints:[-1,.176471,0,.294118,-.87451,.272434,.095963,.444214,-.74902,.373395,.228912,.56932,-.623529,.481661,.415917,.657901,-.498039,.601922,.562937,.750481,-.372549,.718493,.695886,.836986,-.247059,.811995,.811534,.898501,-.121569,.894733,.8995,.940023,.00392157,.969166,.966859,.963629,.129412,.98639,.910265,.803691,.254902,.995002,.835371,.624375,.380392,.992541,.736947,.420146,.505882,.931949,.609458,.224221,.631373,.85075,.483968,.069819,.756863,.740023,.380623,.035371,.882353,.617993,.29827,.026759,1,.498039,.231373,.031373]},{ColorSpace:"Lab",Name:"BrBG",RGBPoints:[-1,.329412,.188235,.019608,-.87451,.467205,.269435,.031911,-.74902,.6,.365629,.074202,-.623529,.72549,.483737,.160323,-.498039,.812995,.635832,.336409,-.372549,.88689,.781238,.527874,-.247059,.943483,.87474,.700115,-.121569,.963168,.929796,.841599,.00392157,.957247,.959938,.959554,.129412,.84406,.932872,.920185,.254902,.70396,.886428,.859285,.380392,.529258,.815071,.770704,.505882,.346251,.691811,.653057,.631373,.175855,.562015,.530642,.756863,.047905,.441446,.410073,.882353,.002307,.33218,.294348,1,0,.235294,.188235]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen",RGBPoints:[-1,.297553,0,.489074,-.87451,.40259,.151146,.567754,-.74902,.516038,.284843,.658231,-.623529,.629783,.423646,.750938,-.498039,.735198,.563697,.835956,-.372549,.82408,.695541,.903582,-.247059,.889091,.807454,.944862,-.121569,.92334,.886917,.951839,.00392157,.921045,.921084,.921003,.129412,.877324,.907455,.845381,.254902,.797649,.849713,.734695,.380392,.691646,.75964,.600532,.505882,.568981,.649159,.453807,.631373,.438945,.529756,.304259,.756863,.30973,.412001,.158303,.882353,.187078,.305111,.00251458,1,.101655,.220836,0]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen_dim",RGBPoints:[-1,.404088,.131038,.592767,-.87451,.486469,.230957,.651243,-.74902,.575165,.339335,.717723,-.623529,.662741,.454332,.784263,-.498039,.742071,.570213,.842918,-.372549,.806935,.678992,.886227,-.247059,.852219,.771315,.90763,-.121569,.873345,.837327,.901572,.00392157,.866783,.86682,.866745,.129412,.82839,.858225,.796812,.254902,.762578,.814287,.700202,.380392,.676429,.744229,.585735,.505882,.577033,.65732,.461526,.631373,.47128,.562476,.33476,.756863,.365461,.467957,.21076,.882353,.264758,.381138,.0878313,1,.182591,.312249,0]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"Lab",Name:"erdc_divLow_purpleGreen",RGBPoints:[-1,.956034,.666487,.952663,-.87451,.874457,.572698,.936352,-.74902,.753465,.488253,.909063,-.623529,.63309,.413507,.763833,-.498039,.514491,.345878,.620015,-.372549,.405008,.288141,.484376,-.247059,.311388,.241986,.363556,-.121569,.238722,.209044,.263449,.00392157,.192352,.192366,.192362,.129412,.200379,.233201,.168618,.254902,.230151,.291737,.165227,.380392,.279481,.366076,.178607,.505882,.344927,.453267,.205703,.631373,.421554,.549449,.242643,.756863,.503334,.649999,.284377,.882353,.583497,.749672,.324969,1,.650705,.837228,.356264]},{ColorSpace:"Lab",Name:"Haze_green",RGBPoints:[-1,1,.835294,.886275,-.87451,.937255,.756863,.870443,-.74902,.875817,.666376,.857807,-.623529,.778359,.583007,.808134,-.498039,.676253,.494118,.745098,-.372549,.561365,.390123,.682353,-.247059,.438344,.262745,.621496,-.121569,.321133,.141031,.558751,.00392157,.203922,.0217865,.495861,.129412,.265505,.129412,.433261,.254902,.311692,.255338,.37008,.380392,.356282,.377342,.310821,.505882,.39971,.488889,.258243,.631373,.442556,.604357,.205519,.756863,.48671,.71968,.152941,.882353,.529847,.830356,.100944,1,.572549,.933333,.054902]},{ColorSpace:"Lab",Name:"Haze_lime",RGBPoints:[-1,.704034,.784196,1,-.87451,.633111,.691418,.956078,-.74902,.564021,.600606,.912157,-.623529,.496827,.51189,.868235,-.498039,.43157,.425416,.824314,-.372549,.368248,.341347,.780392,-.247059,.306767,.259855,.736471,-.121569,.246862,.181069,.692549,.00392157,.191619,.109542,.648627,.129412,.257404,.194031,.604706,.254902,.321794,.278775,.560784,.380392,.387909,.364617,.516863,.505882,.456569,.451881,.472941,.631373,.527424,.540773,.42902,.756863,.599759,.631427,.385098,.882353,.673065,.723898,.341176,1,.742751,.812252,.3]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"Haze_cyan",RGBPoints:[-1,.956863,1,.835294,-.87451,.933188,.921714,.760784,-.74902,.870588,.803486,.671605,-.623529,.807843,.684096,.583297,-.498039,.745098,.569208,.494118,-.372549,.682353,.437763,.390123,-.247059,.621496,.288163,.262745,-.121569,.558751,.144517,.141031,.00392157,.495861,.0217865,.0413943,.129412,.433261,.137255,.129412,.254902,.37008,.263181,.255338,.380392,.306318,.381845,.372694,.505882,.243137,.503994,.494263,.631373,.180392,.629484,.619753,.756863,.117647,.754975,.747131,.882353,.054902,.876398,.866812,1,0,.988235,.976471]},{ColorSpace:"Lab",Name:"nic_Edge",RGBPoints:[-1,.191208,.191208,.191208,-.87451,.239484,.00545035,.614821,-.74902,.220593,.0617459,.863547,-.623529,.17509,.278988,.97794,-.498039,.143526,.576069,.998553,-.372549,.166456,.871883,.96594,-.247059,.376202,.993555,.981833,-.121569,.681996,.991297,.999239,.00392157,.954172,.952734,.94374,.129412,.999735,.99301,.662896,.254902,.979399,.991466,.357973,.380392,.968771,.854967,.162659,.505882,.999245,.556697,.144323,.631373,.973959,.26223,.177946,.756863,.852358,.0526707,.222974,.882353,.593889,.00912724,.238855,1,.191208,.191208,.191208]},{ColorSpace:"Lab",Name:"erdc_iceFire_H",RGBPoints:[-1,405432e-12,0,590122e-11,-.87451,0,.120401,.302675,-.74902,0,.216583,.524574,-.623529,.0552475,.345025,.6595,-.498039,.128047,.492588,.720288,-.372549,.188955,.641309,.792092,-.247059,.327673,.784935,.873434,-.121569,.60824,.892164,.935547,.00392157,.881371,.912178,.818099,.129412,.951407,.835621,.449279,.254902,.904481,.690489,0,.380392,.85407,.510864,0,.505882,.777093,.33018,88199e-8,.631373,.672862,.139087,.00269398,.756863,.508815,0,0,.882353,.299417,366289e-9,547829e-9,1,.0157519,.00332021,455569e-13]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,455569e-13,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{ColorSpace:"RGB",Name:"hsv",RGBPoints:[-1,1,0,0,-.666666,1,0,1,-.333333,0,0,1,0,0,1,1,.33333,0,1,0,.66666,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"hue_L60",RGBPoints:[-1,.964784,.400592,.349549,-.87451,.964915,.372498,.53785,-.74902,.892353,.401039,.759569,-.623529,.79263,.446956,.903017,-.498039,.682208,.49954,.966673,-.372549,.56392,.553082,.968836,-.247059,.442031,.606396,.901601,-.121569,.305499,.65701,.765784,.00392157,.197251,.687914,.620914,.129412,.193882,.701887,.472654,.254902,.249866,.706123,.320005,.380392,.35132,.697417,.202919,.505882,.498097,.669467,.125232,.631373,.637477,.626239,.107431,.756863,.762115,.56872,.155812,.882353,.889434,.481116,.240445,1,.964784,.400592,.349549]},{IndexedColors:[0,0,0,.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,.6509803921568628,.3372549019607843,.1568627450980392],Name:"Spectrum",NanColor:[.6509803921568628,.3372549019607843,.1568627450980392]},{IndexedColors:[.4745098039215686,.09019607843137255,.09019607843137255,.7098039215686275,.00392156862745098,.00392156862745098,.9372549019607843,.2784313725490196,.09803921568627451,.9764705882352941,.5137254901960784,.1411764705882353,1,.7058823529411765,0,1,.8980392156862745,.02352941176470588],Name:"Warm",NanColor:[1,.8980392156862745,.02352941176470588]},{IndexedColors:[.4588235294117647,.6941176470588235,.00392156862745098,.3450980392156863,.5019607843137255,.1607843137254902,.3137254901960784,.8431372549019608,.7490196078431373,.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.6039215686274509,.407843137254902,1,.3725490196078431,.2,.5019607843137255],Name:"Cool",NanColor:[.3725490196078431,.2,.5019607843137255]},{IndexedColors:[.2313725490196079,.407843137254902,.6705882352941176,.1098039215686274,.5843137254901961,.803921568627451,.3058823529411765,.8509803921568627,.9176470588235294,.4509803921568628,.6039215686274509,.8352941176470589,.2588235294117647,.2392156862745098,.6627450980392157,.3137254901960784,.3294117647058823,.5294117647058824,.06274509803921569,.1647058823529412,.3215686274509804],Name:"Blues",NanColor:[.06274509803921569,.1647058823529412,.3215686274509804]},{IndexedColors:[.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.4,.2431372549019608,.7176470588235294,.6352941176470588,.3294117647058823,.8117647058823529,.8705882352941177,.3803921568627451,.807843137254902,.8627450980392157,.3803921568627451,.5843137254901961,.2392156862745098,.06274509803921569,.3215686274509804],Name:"Wild Flower",NanColor:[.2392156862745098,.06274509803921569,.3215686274509804]},{IndexedColors:[.396078431372549,.4862745098039216,.2156862745098039,.4588235294117647,.6941176470588235,.00392156862745098,.6980392156862745,.7294117647058823,.1882352941176471,1,.8980392156862745,.02352941176470588,1,.7058823529411765,0,.9764705882352941,.5137254901960784,.1411764705882353],Name:"Citrus",NanColor:[.9764705882352941,.5137254901960784,.1411764705882353]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (11)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (10)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (9)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (8)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (7)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (6)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.9686274509803922,.9686274509803922,.9686274509803922,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (5)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (4)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9450980392156862,.6392156862745098,.2509803921568627,.9686274509803922,.9686274509803922,.9686274509803922,.6,.5568627450980392,.7647058823529411],Name:"Brewer Diverging Purple-Orange (3)",NanColor:[.6,.5568627450980392,.7647058823529411]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (11)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (10)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (9)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (8)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (7)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (6)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,1,1,.7490196078431373,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (5)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (4)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.9882352941176471,.5529411764705883,.3490196078431372,1,1,.7490196078431373,.6,.8352941176470589,.5803921568627451],Name:"Brewer Diverging Spectral (3)",NanColor:[.6,.8352941176470589,.5803921568627451]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (11)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (10)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (9)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (8)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (7)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (6)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.9607843137254902,.9607843137254902,.9607843137254902,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (5)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (4)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.8470588235294118,.7019607843137254,.396078431372549,.9607843137254902,.9607843137254902,.9607843137254902,.3529411764705883,.7058823529411765,.6745098039215687],Name:"Brewer Diverging Brown-Blue-Green (3)",NanColor:[.3529411764705883,.7058823529411765,.6745098039215687]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.4274509803921568,.1725490196078431,0,.2666666666666667,.1058823529411765],Name:"Brewer Sequential Blue-Green (9)",NanColor:[0,.2666666666666667,.1058823529411765]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (8)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.8,.9254901960784314,.9019607843137255,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (7)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (6)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (5)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1372549019607843,.5450980392156862,.2705882352941176],Name:"Brewer Sequential Blue-Green (4)",NanColor:[.1372549019607843,.5450980392156862,.2705882352941176]},{IndexedColors:[.8980392156862745,.9607843137254902,.9764705882352941,.6,.8470588235294118,.788235294117647,.1725490196078431,.6352941176470588,.3725490196078431],Name:"Brewer Sequential Blue-Green (3)",NanColor:[.1725490196078431,.6352941176470588,.3725490196078431]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.6,.203921568627451,.01568627450980392,.4,.1450980392156863,.02352941176470588],Name:"Brewer Sequential Yellow-Orange-Brown (9)",NanColor:[.4,.1450980392156863,.02352941176470588]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (8)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (7)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (6)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (5)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8,.2980392156862745,.00784313725490196],Name:"Brewer Sequential Yellow-Orange-Brown (4)",NanColor:[.8,.2980392156862745,.00784313725490196]},{IndexedColors:[1,.9686274509803922,.7372549019607844,.996078431372549,.7686274509803922,.3098039215686275,.8509803921568627,.3725490196078431,.05490196078431372],Name:"Brewer Sequential Yellow-Orange-Brown (3)",NanColor:[.8509803921568627,.3725490196078431,.05490196078431372]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.5058823529411764,.05882352941176471,.4862745098039216,.3019607843137255,0,.2941176470588235],Name:"Brewer Sequential Blue-Purple (9)",NanColor:[.3019607843137255,0,.2941176470588235]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (8)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (7)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (6)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (5)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.2549019607843137,.615686274509804],Name:"Brewer Sequential Blue-Purple (4)",NanColor:[.5333333333333333,.2549019607843137,.615686274509804]},{IndexedColors:[.8784313725490196,.9254901960784314,.9568627450980393,.6196078431372549,.7372549019607844,.8549019607843137,.5333333333333333,.3372549019607843,.6549019607843137],Name:"Brewer Sequential Blue-Purple (3)",NanColor:[.5333333333333333,.3372549019607843,.6549019607843137]},{IndexedColors:[.4980392156862745,.788235294117647,.4980392156862745,.7450980392156863,.6823529411764706,.8313725490196079,.9921568627450981,.7529411764705882,.5254901960784314,1,1,.6,.2196078431372549,.4235294117647059,.6901960784313725,.9411764705882353,.00784313725490196,.4980392156862745,.7490196078431373,.3568627450980392,.09019607843137255,.4,.4,.4],Name:"Brewer Qualitative Accent",NanColor:[.4,.4,.4]},{IndexedColors:[.1058823529411765,.6196078431372549,.4666666666666667,.8509803921568627,.3725490196078431,.00784313725490196,.4588235294117647,.4392156862745098,.7019607843137254,.9058823529411765,.1607843137254902,.5411764705882353,.4,.6509803921568628,.1176470588235294,.9019607843137255,.6705882352941176,.00784313725490196,.6509803921568628,.4627450980392157,.1137254901960784,.4,.4,.4],Name:"Brewer Qualitative Dark2",NanColor:[.4,.4,.4]},{IndexedColors:[.4,.7607843137254902,.6470588235294118,.9882352941176471,.5529411764705883,.3843137254901961,.5529411764705883,.6274509803921569,.796078431372549,.9058823529411765,.5411764705882353,.7647058823529411,.6509803921568628,.8470588235294118,.3294117647058823,1,.8509803921568627,.1843137254901961,.8980392156862745,.7686274509803922,.5803921568627451,.7019607843137254,.7019607843137254,.7019607843137254],Name:"Brewer Qualitative Set2",NanColor:[.7019607843137254,.7019607843137254,.7019607843137254]},{IndexedColors:[.7019607843137254,.8862745098039215,.803921568627451,.9921568627450981,.803921568627451,.6745098039215687,.796078431372549,.8352941176470589,.9098039215686274,.9568627450980393,.792156862745098,.8941176470588236,.9019607843137255,.9607843137254902,.788235294117647,1,.9490196078431372,.6823529411764706,.9450980392156862,.8862745098039215,.8,.8,.8,.8],Name:"Brewer Qualitative Pastel2",NanColor:[.8,.8,.8]},{IndexedColors:[.984313725490196,.7058823529411765,.6823529411764706,.7019607843137254,.803921568627451,.8901960784313725,.8,.9215686274509803,.7725490196078432,.8705882352941177,.796078431372549,.8941176470588236,.996078431372549,.8509803921568627,.6509803921568628,1,1,.8,.8980392156862745,.8470588235294118,.7411764705882353,.9921568627450981,.8549019607843137,.9254901960784314,.9490196078431372,.9490196078431372,.9490196078431372],Name:"Brewer Qualitative Pastel1",NanColor:[.9490196078431372,.9490196078431372,.9490196078431372]},{IndexedColors:[.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,1,1,.2,.6509803921568628,.3372549019607843,.1568627450980392,.9686274509803922,.5058823529411764,.7490196078431373,.6,.6,.6],Name:"Brewer Qualitative Set1",NanColor:[.6,.6,.6]},{IndexedColors:[.6509803921568628,.807843137254902,.8901960784313725,.1215686274509804,.4705882352941176,.7058823529411765,.6980392156862745,.8745098039215686,.5411764705882353,.2,.6274509803921569,.1725490196078431,.984313725490196,.6039215686274509,.6,.8901960784313725,.1019607843137255,.1098039215686274,.9921568627450981,.7490196078431373,.4352941176470588,1,.4980392156862745,0,.792156862745098,.6980392156862745,.8392156862745098,.4156862745098039,.2392156862745098,.6039215686274509,1,1,.6],Name:"Brewer Qualitative Paired",NanColor:[1,1,.6]},{IndexedColors:[.5529411764705883,.8274509803921568,.7803921568627451,1,1,.7019607843137254,.7450980392156863,.7294117647058823,.8549019607843137,.984313725490196,.5019607843137255,.4470588235294118,.5019607843137255,.6941176470588235,.8274509803921568,.9921568627450981,.7058823529411765,.3843137254901961,.7019607843137254,.8705882352941177,.4117647058823529,.9882352941176471,.803921568627451,.8980392156862745,.8509803921568627,.8509803921568627,.8509803921568627,.7372549019607844,.5019607843137255,.7411764705882353,.8,.9215686274509803,.7725490196078432,1,.9294117647058824,.4352941176470588],Name:"Brewer Qualitative Set3",NanColor:[1,.9294117647058824,.4352941176470588]},{IndexedColors:[1,0,0,1,.862745,0,0,.695201,0],Name:"Traffic Lights",NanColor:[.803922,0,.803922]},{IndexedColors:[.908659,.604013,.581857,1,.862745,0,0,.695201,0],Name:"Traffic Lights For Deuteranopes",NanColor:[.803922,0,.803922]},{IndexedColors:[.4196078431372549,0,.07058823529411765,.9019607843137255,.9411764705882353,.0196078431372549,.01568627450980392,.6196078431372549,.00784313725490196],Name:"Traffic Lights For Deuteranopes 2",NanColor:[.803922,0,.803922]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Muted Blue-Green",NanColor:[.25,0,0],RGBPoints:[0,.109804,.27451,.301961,.02,.129412,.309804,.341176,.05,.14902,.341176,.380392,.1,.188235,.403922,.458824,.15,.227451,.447059,.521569,.2,.290196,.494118,.588235,.25,.368627,.552941,.670588,.3,.458824,.619608,.74902,.35,.588235,.713725,.85098,.4,.72549,.815686,.941176,.45,.831373,.882353,.980392,.475,.909804,.933333,1,.5,.980392,.984314,1,.5,.996078,1,.94902,.5,1,1,.980392,.5,.980392,.984314,1,.525,.972549,.988235,.890196,.55,.917647,.960784,.835294,.6,.835294,.921569,.772549,.65,.768627,.901961,.737255,.7,.670588,.831373,.654902,.75,.576471,.760784,.584314,.8,.498039,.678431,.521569,.85,.392157,.560784,.427451,.9,.294118,.45098,.333333,.95,.211765,.34902,.254902,1,.152941,.278431,.196078]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Green-Blue Asymmetric Divergent (62Blbc)",NanColor:[.25,0,0],RGBPoints:[0,.121569,.2,.145098,.05,.196078,.301961,.223529,.1,.258824,.4,.278431,.2,.341176,.54902,.341176,.25,.419608,.619608,.376471,.3,.545098,.701961,.392157,.35,.643137,.780392,.403922,.4,.729412,.819608,.45098,.45,.811765,.870588,.521569,.5,.898039,.909804,.564706,.55,.941176,.92549,.686275,.6,.960784,.94902,.776471,.64,1,1,1,.65,.890196,.988235,.972549,.7,.721569,.894118,.901961,.75,.631373,.823529,.839216,.8,.517647,.662745,.701961,.85,.384314,.494118,.54902,.9,.298039,.360784,.45098,.95,.223529,.25098,.34902,.99,.156863,.172549,.25098,1,.137255,.137255,.188235]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Asymmtrical Earth Tones (6_21b)",NanColor:[.25,0,0],RGBPoints:[0,.141176,.14902,.2,.05,.215686,.258824,.321569,.1,.243137,.368627,.380392,.15,.27451,.439216,.4,.2,.32549,.501961,.384314,.25,.403922,.6,.419608,.3,.486275,.701961,.454902,.35,.556863,.74902,.494118,.4,.670588,.8,.545098,.5,.854902,.901961,.631373,.55,.92549,.941176,.694118,.6,.960784,.94902,.776471,.65,.988235,.968627,.909804,.7,.839216,.815686,.772549,.75,.701961,.662745,.615686,.8,.6,.529412,.478431,.85,.501961,.403922,.360784,.9,.439216,.313725,.290196,1,.301961,.164706,.176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Yellow 15",NanColor:[.25,0,0],RGBPoints:[0,1,1,.988235,.002,1,1,.988235,.05,.984314,.988235,.843137,.1,.988235,.988235,.741176,.15,.980392,.968627,.654902,.2,.980392,.945098,.576471,.25,.968627,.905882,.486275,.3,.968627,.862745,.388235,.35,.960784,.803922,.286275,.4,.94902,.741176,.219608,.45,.941176,.678431,.14902,.5,.929412,.607843,.094118,.55,.921569,.545098,.054902,.6,.909804,.486275,.035294,.65,.890196,.411765,.019608,.7,.8,.305882,0,.75,.760784,.239216,0,.8,.678431,.180392,.011765,.85,.6,.121569,.023529,.9,.501961,.054902,.031373,.95,.4,.039216,.058824,1,.301961,.047059,.090196]},{ColorSpace:"Diverging",Name:"Magma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002258,.001295,.018331,.007843,.003279,.002305,.023708,.011765,.004512,.00349,.029965,.015686,.00595,.004843,.03713,.019608,.007588,.006356,.044973,.023529,.009426,.008022,.052844,.027451,.011465,.009828,.06075,.031373,.013708,.011771,.068667,.035294,.016156,.01384,.076603,.039216,.018815,.016026,.084584,.043137,.021692,.01832,.09261,.047059,.024792,.020715,.100676,.05098,.028123,.023201,.108787,.054902,.031696,.025765,.116965,.058824,.03552,.028397,.125209,.062745,.039608,.03109,.133515,.066667,.04383,.03383,.141886,.070588,.048062,.036607,.150327,.07451,.05232,.039407,.158841,.078431,.056615,.04216,.167446,.082353,.060949,.044794,.176129,.086275,.06533,.047318,.184892,.090196,.069764,.049726,.193735,.094118,.074257,.052017,.20266,.098039,.078815,.054184,.211667,.101961,.083446,.056225,.220755,.105882,.088155,.058133,.229922,.109804,.092949,.059904,.239164,.113725,.097833,.061531,.248477,.117647,.102815,.06301,.257854,.121569,.107899,.064335,.267289,.12549,.113094,.065492,.276784,.129412,.118405,.066479,.286321,.133333,.123833,.067295,.295879,.137255,.12938,.067935,.305443,.141176,.135053,.068391,.315,.145098,.140858,.068654,.324538,.14902,.146785,.068738,.334011,.152941,.152839,.068637,.343404,.156863,.159018,.068354,.352688,.160784,.165308,.067911,.361816,.164706,.171713,.067305,.370771,.168627,.178212,.066576,.379497,.172549,.184801,.065732,.387973,.176471,.19146,.064818,.396152,.180392,.198177,.063862,.404009,.184314,.204935,.062907,.411514,.188235,.211718,.061992,.418647,.192157,.218512,.061158,.425392,.196078,.225302,.060445,.431742,.2,.232077,.059889,.437695,.203922,.238826,.059517,.443256,.207843,.245543,.059352,.448436,.211765,.25222,.059415,.453248,.215686,.258857,.059706,.45771,.219608,.265447,.060237,.46184,.223529,.271994,.060994,.46566,.227451,.278493,.061978,.46919,.231373,.284951,.063168,.472451,.235294,.291366,.064553,.475462,.239216,.29774,.066117,.478243,.243137,.304081,.067835,.480812,.247059,.310382,.069702,.483186,.25098,.316654,.07169,.48538,.254902,.322899,.073782,.487408,.258824,.329114,.075972,.489287,.262745,.335308,.078236,.491024,.266667,.341482,.080564,.492631,.270588,.347636,.082946,.494121,.27451,.353773,.085373,.495501,.278431,.359898,.087831,.496778,.282353,.366012,.090314,.49796,.286275,.372116,.092816,.499053,.290196,.378211,.095332,.500067,.294118,.384299,.097855,.501002,.298039,.390384,.100379,.501864,.301961,.396467,.102902,.502658,.305882,.402548,.10542,.503386,.309804,.408629,.10793,.504052,.313725,.414709,.110431,.504662,.317647,.420791,.11292,.505215,.321569,.426877,.115395,.505714,.32549,.432967,.117855,.50616,.329412,.439062,.120298,.506555,.333333,.445163,.122724,.506901,.337255,.451271,.125132,.507198,.341176,.457386,.127522,.507448,.345098,.463508,.129893,.507652,.34902,.46964,.132245,.507809,.352941,.47578,.134577,.507921,.356863,.481929,.136891,.507989,.360784,.488088,.139186,.508011,.364706,.494258,.141462,.507988,.368627,.500438,.143719,.50792,.372549,.506629,.145958,.507806,.376471,.512831,.148179,.507648,.380392,.519045,.150383,.507443,.384314,.52527,.152569,.507192,.388235,.531507,.154739,.506895,.392157,.537755,.156894,.506551,.396078,.544015,.159033,.506159,.4,.550287,.161158,.505719,.403922,.556571,.163269,.50523,.407843,.562866,.165368,.504692,.411765,.569172,.167454,.504105,.415686,.57549,.16953,.503466,.419608,.581819,.171596,.502777,.423529,.588158,.173652,.502035,.427451,.594508,.175701,.501241,.431373,.600868,.177743,.500394,.435294,.607238,.179779,.499492,.439216,.613617,.181811,.498536,.443137,.620005,.18384,.497524,.447059,.626401,.185867,.496456,.45098,.632805,.187893,.495332,.454902,.639216,.189921,.49415,.458824,.645633,.191952,.49291,.462745,.652056,.193986,.491611,.466667,.658483,.196027,.490253,.470588,.664915,.198075,.488836,.47451,.671349,.200133,.487358,.478431,.677786,.202203,.485819,.482353,.684224,.204286,.484219,.486275,.690661,.206384,.482558,.490196,.697098,.208501,.480835,.494118,.703532,.210638,.479049,.498039,.709962,.212797,.477201,.501961,.716387,.214982,.47529,.505882,.722805,.217194,.473316,.509804,.729216,.219437,.471279,.513725,.735616,.221713,.46918,.517647,.742004,.224025,.467018,.521569,.748378,.226377,.464794,.52549,.754737,.228772,.462509,.529412,.761077,.231214,.460162,.533333,.767398,.233705,.457755,.537255,.773695,.236249,.455289,.541176,.779968,.238851,.452765,.545098,.786212,.241514,.450184,.54902,.792427,.244242,.447543,.552941,.798608,.24704,.444848,.556863,.804752,.249911,.442102,.560784,.810855,.252861,.439305,.564706,.816914,.255895,.436461,.568627,.822926,.259016,.433573,.572549,.828886,.262229,.430644,.576471,.834791,.26554,.427671,.580392,.840636,.268953,.424666,.584314,.846416,.272473,.421631,.588235,.852126,.276106,.418573,.592157,.857763,.279857,.415496,.596078,.86332,.283729,.412403,.6,.868793,.287728,.409303,.603922,.874176,.291859,.406205,.607843,.879464,.296125,.403118,.611765,.884651,.30053,.400047,.615686,.889731,.305079,.397002,.619608,.8947,.309773,.393995,.623529,.899552,.314616,.391037,.627451,.904281,.31961,.388137,.631373,.908884,.324755,.385308,.635294,.913354,.330052,.382563,.639216,.917689,.3355,.379915,.643137,.921884,.341098,.377376,.647059,.925937,.346844,.374959,.65098,.929845,.352734,.372677,.654902,.933606,.358764,.370541,.658824,.937221,.364929,.368567,.662745,.940687,.371224,.366762,.666667,.944006,.377643,.365136,.670588,.94718,.384178,.363701,.67451,.95021,.39082,.362468,.678431,.953099,.397563,.361438,.682353,.955849,.4044,.360619,.686275,.958464,.411324,.360014,.690196,.960949,.418323,.35963,.694118,.96331,.42539,.359469,.698039,.965549,.432519,.359529,.701961,.967671,.439703,.35981,.705882,.96968,.446936,.360311,.709804,.971582,.45421,.36103,.713725,.973381,.46152,.361965,.717647,.975082,.468861,.363111,.721569,.97669,.476226,.364466,.72549,.97821,.483612,.366025,.729412,.979645,.491014,.367783,.733333,.981,.498428,.369734,.737255,.982279,.505851,.371874,.741176,.983485,.51328,.374198,.745098,.984622,.520713,.376698,.74902,.985693,.528148,.379371,.752941,.9867,.535582,.38221,.756863,.987646,.543015,.38521,.760784,.988533,.550446,.388365,.764706,.989363,.557873,.391671,.768627,.990138,.565296,.395122,.772549,.990871,.572706,.398714,.776471,.991558,.580107,.402441,.780392,.992196,.587502,.406299,.784314,.992785,.594891,.410283,.788235,.993326,.602275,.41439,.792157,.993834,.609644,.418613,.796078,.994309,.616999,.42295,.8,.994738,.62435,.427397,.803922,.995122,.631696,.431951,.807843,.99548,.639027,.436607,.811765,.99581,.646344,.441361,.815686,.996096,.653659,.446213,.819608,.996341,.660969,.45116,.823529,.99658,.668256,.456192,.827451,.996775,.675541,.461314,.831373,.996925,.682828,.466526,.835294,.997077,.690088,.471811,.839216,.997186,.697349,.477182,.843137,.997254,.704611,.482635,.847059,.997325,.711848,.488154,.85098,.997351,.719089,.493755,.854902,.997351,.726324,.499428,.858824,.997341,.733545,.505167,.862745,.997285,.740772,.510983,.866667,.997228,.747981,.516859,.870588,.997138,.75519,.522806,.87451,.997019,.762398,.528821,.878431,.996898,.769591,.534892,.882353,.996727,.776795,.541039,.886275,.996571,.783977,.547233,.890196,.996369,.791167,.553499,.894118,.996162,.798348,.55982,.898039,.995932,.805527,.566202,.901961,.99568,.812706,.572645,.905882,.995424,.819875,.57914,.909804,.995131,.827052,.585701,.913725,.994851,.834213,.592307,.917647,.994524,.841387,.598983,.921569,.994222,.84854,.605696,.92549,.993866,.855711,.612482,.929412,.993545,.862859,.619299,.933333,.99317,.870024,.626189,.937255,.992831,.877168,.633109,.941176,.99244,.88433,.640099,.945098,.992089,.89147,.647116,.94902,.991688,.898627,.654202,.952941,.991332,.905763,.661309,.956863,.99093,.912915,.668481,.960784,.99057,.920049,.675675,.964706,.990175,.927196,.682926,.968627,.989815,.934329,.690198,.972549,.989434,.94147,.697519,.976471,.989077,.948604,.704863,.980392,.988717,.955742,.712242,.984314,.988367,.962878,.719649,.988235,.988033,.970012,.727077,.992157,.987691,.977154,.734536,.996078,.987387,.984288,.742002,1,.987053,.991438,.749504]},{ColorSpace:"Diverging",Name:"Inferno (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002267,.00127,.01857,.007843,.003299,.002249,.024239,.011765,.004547,.003392,.030909,.015686,.006006,.004692,.038558,.019608,.007676,.006136,.046836,.023529,.009561,.007713,.055143,.027451,.011663,.009417,.06346,.031373,.013995,.011225,.071862,.035294,.016561,.013136,.080282,.039216,.019373,.015133,.088767,.043137,.022447,.017199,.097327,.047059,.025793,.019331,.10593,.05098,.029432,.021503,.114621,.054902,.033385,.023702,.123397,.058824,.037668,.025921,.132232,.062745,.042253,.028139,.141141,.066667,.046915,.030324,.150164,.070588,.051644,.032474,.159254,.07451,.056449,.034569,.168414,.078431,.06134,.03659,.177642,.082353,.066331,.038504,.186962,.086275,.071429,.040294,.196354,.090196,.076637,.041905,.205799,.094118,.081962,.043328,.215289,.098039,.087411,.044556,.224813,.101961,.09299,.045583,.234358,.105882,.098702,.046402,.243904,.109804,.104551,.047008,.25343,.113725,.110536,.047399,.262912,.117647,.116656,.047574,.272321,.121569,.122908,.047536,.281624,.12549,.129285,.047293,.290788,.129412,.135778,.046856,.299776,.133333,.142378,.046242,.308553,.137255,.149073,.045468,.317085,.141176,.15585,.044559,.325338,.145098,.162689,.043554,.333277,.14902,.169575,.042489,.340874,.152941,.176493,.041402,.348111,.156863,.183429,.040329,.354971,.160784,.190367,.039309,.361447,.164706,.197297,.0384,.367535,.168627,.204209,.037632,.373238,.172549,.211095,.03703,.378563,.176471,.217949,.036615,.383522,.180392,.224763,.036405,.388129,.184314,.231538,.036405,.3924,.188235,.238273,.036621,.396353,.192157,.244967,.037055,.400007,.196078,.25162,.037705,.403378,.2,.258234,.038571,.406485,.203922,.26481,.039647,.409345,.207843,.271347,.040922,.411976,.211765,.27785,.042353,.414392,.215686,.284321,.043933,.416608,.219608,.290763,.045644,.418637,.223529,.297178,.04747,.420491,.227451,.303568,.049396,.422182,.231373,.309935,.051407,.423721,.235294,.316282,.05349,.425116,.239216,.32261,.055634,.426377,.243137,.328921,.057827,.427511,.247059,.335217,.06006,.428524,.25098,.3415,.062325,.429425,.254902,.347771,.064616,.430217,.258824,.354032,.066925,.430906,.262745,.360284,.069247,.431497,.266667,.366529,.071579,.431994,.270588,.372768,.073915,.4324,.27451,.379001,.076253,.432719,.278431,.385228,.078591,.432955,.282353,.391453,.080927,.433109,.286275,.397674,.083257,.433183,.290196,.403894,.08558,.433179,.294118,.410113,.087896,.433098,.298039,.416331,.090203,.432943,.301961,.422549,.092501,.432714,.305882,.428768,.09479,.432412,.309804,.434987,.097069,.432039,.313725,.441207,.099338,.431594,.317647,.447428,.101597,.43108,.321569,.453651,.103848,.430498,.32549,.459875,.106089,.429846,.329412,.4661,.108322,.429125,.333333,.472328,.110547,.428334,.337255,.478558,.112764,.427475,.341176,.484789,.114974,.426548,.345098,.491022,.117179,.425552,.34902,.497257,.119379,.424488,.352941,.503493,.121575,.423356,.356863,.50973,.123769,.422156,.360784,.515967,.12596,.420887,.364706,.522206,.12815,.419549,.368627,.528444,.130341,.418142,.372549,.534683,.132534,.416667,.376471,.54092,.134729,.415123,.380392,.547157,.136929,.413511,.384314,.553392,.139134,.411829,.388235,.559624,.141346,.410078,.392157,.565854,.143567,.408258,.396078,.572081,.145797,.406369,.4,.578304,.148039,.404411,.403922,.584521,.150294,.402385,.407843,.590734,.152563,.40029,.411765,.59694,.154848,.398125,.415686,.603139,.157151,.395891,.419608,.60933,.159474,.393589,.423529,.615513,.161817,.391219,.427451,.621685,.164184,.388781,.431373,.627847,.166575,.386276,.435294,.633998,.168992,.383704,.439216,.640135,.171438,.381065,.443137,.64626,.173914,.378359,.447059,.652369,.176421,.375586,.45098,.658463,.178962,.372748,.454902,.66454,.181539,.369846,.458824,.670599,.184153,.366879,.462745,.676638,.186807,.363849,.466667,.682656,.189501,.360757,.470588,.688653,.192239,.357603,.47451,.694627,.195021,.354388,.478431,.700576,.197851,.351113,.482353,.7065,.200728,.347777,.486275,.712396,.203656,.344383,.490196,.718264,.206636,.340931,.494118,.724103,.20967,.337424,.498039,.729909,.212759,.333861,.501961,.735683,.215906,.330245,.505882,.741423,.219112,.326576,.509804,.747127,.222378,.322856,.513725,.752794,.225706,.319085,.517647,.758422,.229097,.315266,.521569,.76401,.232554,.311399,.52549,.769556,.236077,.307485,.529412,.775059,.239667,.303526,.533333,.780517,.243327,.299523,.537255,.785929,.247056,.295477,.541176,.791293,.250856,.29139,.545098,.796607,.254728,.287264,.54902,.801871,.258674,.283099,.552941,.807082,.262692,.278898,.556863,.812239,.266786,.274661,.560784,.817341,.270954,.27039,.564706,.822386,.275197,.266085,.568627,.827372,.279517,.26175,.572549,.832299,.283913,.257383,.576471,.837165,.288385,.252988,.580392,.841969,.292933,.248564,.584314,.846709,.297559,.244113,.588235,.851384,.30226,.239636,.592157,.855992,.307038,.235133,.596078,.860533,.311892,.230606,.6,.865006,.316822,.226055,.603922,.869409,.321827,.221482,.607843,.873741,.326906,.216886,.611765,.878001,.33206,.212268,.615686,.882188,.337287,.207628,.619608,.886302,.342586,.202968,.623529,.890341,.347957,.198286,.627451,.894305,.353399,.193584,.631373,.898192,.358911,.18886,.635294,.902003,.364492,.184116,.639216,.905735,.37014,.17935,.643137,.90939,.375856,.174563,.647059,.912966,.381636,.169755,.65098,.916462,.387481,.164924,.654902,.919879,.393389,.16007,.658824,.923215,.399359,.155193,.662745,.92647,.405389,.150292,.666667,.929644,.411479,.145367,.670588,.932737,.417627,.140417,.67451,.935747,.423831,.13544,.678431,.938675,.430091,.130438,.682353,.941521,.436405,.125409,.686275,.944285,.442772,.120354,.690196,.946965,.449191,.115272,.694118,.949562,.45566,.110164,.698039,.952075,.462178,.105031,.701961,.954506,.468744,.099874,.705882,.956852,.475356,.094695,.709804,.959114,.482014,.089499,.713725,.961293,.488716,.084289,.717647,.963387,.495462,.079073,.721569,.965397,.502249,.073859,.72549,.967322,.509078,.068659,.729412,.969163,.515946,.063488,.733333,.970919,.522853,.058367,.737255,.97259,.529798,.053324,.741176,.974176,.53678,.048392,.745098,.975677,.543798,.043618,.74902,.977092,.55085,.03905,.752941,.978422,.557937,.034931,.756863,.979666,.565057,.031409,.760784,.980824,.572209,.028508,.764706,.981895,.579392,.02625,.768627,.982881,.586606,.024661,.772549,.983779,.593849,.02377,.776471,.984591,.601122,.023606,.780392,.985315,.608422,.024202,.784314,.985952,.61575,.025592,.788235,.986502,.623105,.027814,.792157,.986964,.630485,.030908,.796078,.987337,.63789,.034916,.8,.987622,.64532,.039886,.803922,.987819,.652773,.045581,.807843,.987926,.66025,.05175,.811765,.987945,.667748,.058329,.815686,.987874,.675267,.065257,.819608,.987714,.682807,.072489,.823529,.987464,.690366,.07999,.827451,.987124,.697944,.087731,.831373,.986694,.70554,.095694,.835294,.986175,.713153,.103863,.839216,.985566,.720782,.112229,.843137,.984865,.728427,.120785,.847059,.984075,.736087,.129527,.85098,.983196,.743758,.138453,.854902,.982228,.751442,.147565,.858824,.981173,.759135,.156863,.862745,.980032,.766837,.166353,.866667,.978806,.774545,.176037,.870588,.977497,.782258,.185923,.87451,.976108,.789974,.196018,.878431,.974638,.797692,.206332,.882353,.973088,.805409,.216877,.886275,.971468,.813122,.227658,.890196,.969783,.820825,.238686,.894118,.968041,.828515,.249972,.898039,.966243,.836191,.261534,.901961,.964394,.843848,.273391,.905882,.962517,.851476,.285546,.909804,.960626,.859069,.29801,.913725,.95872,.866624,.31082,.917647,.956834,.874129,.323974,.921569,.954997,.881569,.337475,.92549,.953215,.888942,.351369,.929412,.951546,.896226,.365627,.933333,.950018,.903409,.380271,.937255,.948683,.910473,.395289,.941176,.947594,.917399,.410665,.945098,.946809,.924168,.426373,.94902,.946392,.930761,.442367,.952941,.946403,.937159,.458592,.956863,.946903,.943348,.47497,.960784,.947937,.949318,.491426,.964706,.949545,.955063,.50786,.968627,.95174,.960587,.524203,.972549,.954529,.965896,.540361,.976471,.957896,.971003,.556275,.980392,.961812,.975924,.571925,.984314,.966249,.980678,.587206,.988235,.971162,.985282,.602154,.992157,.976511,.989753,.61676,.996078,.982257,.994109,.631017,1,.988362,.998364,.644924]},{ColorSpace:"Diverging",Name:"Plasma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.050383,.029803,.527975,.003922,.063536,.028426,.533124,.007843,.075353,.027206,.538007,.011765,.086222,.026125,.542658,.015686,.096379,.025165,.547103,.019608,.10598,.024309,.551368,.023529,.115124,.023556,.555468,.027451,.123903,.022878,.559423,.031373,.132381,.022258,.56325,.035294,.140603,.021687,.566959,.039216,.148607,.021154,.570562,.043137,.156421,.020651,.574065,.047059,.16407,.020171,.577478,.05098,.171574,.019706,.580806,.054902,.17895,.019252,.584054,.058824,.186213,.018803,.587228,.062745,.193374,.018354,.59033,.066667,.200445,.017902,.593364,.070588,.207435,.017442,.596333,.07451,.21435,.016973,.599239,.078431,.221197,.016497,.602083,.082353,.227983,.016007,.604867,.086275,.234715,.015502,.607592,.090196,.241396,.014979,.610259,.094118,.248032,.014439,.612868,.098039,.254627,.013882,.615419,.101961,.261183,.013308,.617911,.105882,.267703,.012716,.620346,.109804,.274191,.012109,.622722,.113725,.280648,.011488,.625038,.117647,.287076,.010855,.627295,.121569,.293478,.010213,.62949,.12549,.299855,.009561,.631624,.129412,.30621,.008902,.633694,.133333,.312543,.008239,.6357,.137255,.318856,.007576,.63764,.141176,.32515,.006915,.639512,.145098,.331426,.006261,.641316,.14902,.337683,.005618,.643049,.152941,.343925,.004991,.64471,.156863,.35015,.004382,.646298,.160784,.356359,.003798,.64781,.164706,.362553,.003243,.649245,.168627,.368733,.002724,.650601,.172549,.374897,.002245,.651876,.176471,.381047,.001814,.653068,.180392,.387183,.001434,.654177,.184314,.393304,.001114,.655199,.188235,.399411,859e-6,.656133,.192157,.405503,678e-6,.656977,.196078,.41158,577e-6,.65773,.2,.417642,564e-6,.65839,.203922,.423689,646e-6,.658956,.207843,.429719,831e-6,.659425,.211765,.435734,.001127,.659797,.215686,.441732,.00154,.660069,.219608,.447714,.00208,.66024,.223529,.453677,.002755,.66031,.227451,.459623,.003574,.660277,.231373,.46555,.004545,.660139,.235294,.471457,.005678,.659897,.239216,.477344,.00698,.659549,.243137,.48321,.00846,.659095,.247059,.489055,.010127,.658534,.25098,.494877,.01199,.657865,.254902,.500678,.014055,.657088,.258824,.506454,.016333,.656202,.262745,.512206,.018833,.655209,.266667,.517933,.021563,.654109,.270588,.523633,.024532,.652901,.27451,.529306,.027747,.651586,.278431,.534952,.031217,.650165,.282353,.54057,.03495,.64864,.286275,.546157,.038954,.64701,.290196,.551715,.043136,.645277,.294118,.557243,.047331,.643443,.298039,.562738,.051545,.641509,.301961,.568201,.055778,.639477,.305882,.573632,.060028,.637349,.309804,.579029,.064296,.635126,.313725,.584391,.068579,.632812,.317647,.589719,.072878,.630408,.321569,.595011,.07719,.627917,.32549,.600266,.081516,.625342,.329412,.605485,.085854,.622686,.333333,.610667,.090204,.619951,.337255,.615812,.094564,.61714,.341176,.620919,.098934,.614257,.345098,.625987,.103312,.611305,.34902,.631017,.107699,.608287,.352941,.636008,.112092,.605205,.356863,.640959,.116492,.602065,.360784,.645872,.120898,.598867,.364706,.650746,.125309,.595617,.368627,.65558,.129725,.592317,.372549,.660374,.134144,.588971,.376471,.665129,.138566,.585582,.380392,.669845,.142992,.582154,.384314,.674522,.147419,.578688,.388235,.67916,.151848,.575189,.392157,.683758,.156278,.57166,.396078,.688318,.160709,.568103,.4,.69284,.165141,.564522,.403922,.697324,.169573,.560919,.407843,.701769,.174005,.557296,.411765,.706178,.178437,.553657,.415686,.710549,.182868,.550004,.419608,.714883,.187299,.546338,.423529,.719181,.191729,.542663,.427451,.723444,.196158,.538981,.431373,.72767,.200586,.535293,.435294,.731862,.205013,.531601,.439216,.736019,.209439,.527908,.443137,.740143,.213864,.524216,.447059,.744232,.218288,.520524,.45098,.748289,.222711,.516834,.454902,.752312,.227133,.513149,.458824,.756304,.231555,.509468,.462745,.760264,.235976,.505794,.466667,.764193,.240396,.502126,.470588,.76809,.244817,.498465,.47451,.771958,.249237,.494813,.478431,.775796,.253658,.491171,.482353,.779604,.258078,.487539,.486275,.783383,.2625,.483918,.490196,.787133,.266922,.480307,.494118,.790855,.271345,.476706,.498039,.794549,.27577,.473117,.501961,.798216,.280197,.469538,.505882,.801855,.284626,.465971,.509804,.805467,.289057,.462415,.513725,.809052,.293491,.45887,.517647,.812612,.297928,.455338,.521569,.816144,.302368,.451816,.52549,.819651,.306812,.448306,.529412,.823132,.311261,.444806,.533333,.826588,.315714,.441316,.537255,.830018,.320172,.437836,.541176,.833422,.324635,.434366,.545098,.836801,.329105,.430905,.54902,.840155,.33358,.427455,.552941,.843484,.338062,.424013,.556863,.846788,.342551,.420579,.560784,.850066,.347048,.417153,.564706,.853319,.351553,.413734,.568627,.856547,.356066,.410322,.572549,.85975,.360588,.406917,.576471,.862927,.365119,.403519,.580392,.866078,.36966,.400126,.584314,.869203,.374212,.396738,.588235,.872303,.378774,.393355,.592157,.875376,.383347,.389976,.596078,.878423,.387932,.3866,.6,.881443,.392529,.383229,.603922,.884436,.397139,.37986,.607843,.887402,.401762,.376494,.611765,.89034,.406398,.37313,.615686,.89325,.411048,.369768,.619608,.896131,.415712,.366407,.623529,.898984,.420392,.363047,.627451,.901807,.425087,.359688,.631373,.904601,.429797,.356329,.635294,.907365,.434524,.35297,.639216,.910098,.439268,.34961,.643137,.9128,.444029,.346251,.647059,.915471,.448807,.34289,.65098,.918109,.453603,.339529,.654902,.920714,.458417,.336166,.658824,.923287,.463251,.332801,.662745,.925825,.468103,.329435,.666667,.928329,.472975,.326067,.670588,.930798,.477867,.322697,.67451,.933232,.48278,.319325,.678431,.93563,.487712,.315952,.682353,.93799,.492667,.312575,.686275,.940313,.497642,.309197,.690196,.942598,.502639,.305816,.694118,.944844,.507658,.302433,.698039,.947051,.512699,.299049,.701961,.949217,.517763,.295662,.705882,.951344,.52285,.292275,.709804,.953428,.52796,.288883,.713725,.95547,.533093,.28549,.717647,.957469,.53825,.282096,.721569,.959424,.543431,.278701,.72549,.961336,.548636,.275305,.729412,.963203,.553865,.271909,.733333,.965024,.559118,.268513,.737255,.966798,.564396,.265118,.741176,.968526,.5697,.261721,.745098,.970205,.575028,.258325,.74902,.971835,.580382,.254931,.752941,.973416,.585761,.25154,.756863,.974947,.591165,.248151,.760784,.976428,.596595,.244767,.764706,.977856,.602051,.241387,.768627,.979233,.607532,.238013,.772549,.980556,.613039,.234646,.776471,.981826,.618572,.231287,.780392,.983041,.624131,.227937,.784314,.984199,.629718,.224595,.788235,.985301,.63533,.221265,.792157,.986345,.640969,.217948,.796078,.987332,.646633,.214648,.8,.98826,.652325,.211364,.803922,.989128,.658043,.2081,.807843,.989935,.663787,.204859,.811765,.990681,.669558,.201642,.815686,.991365,.675355,.198453,.819608,.991985,.681179,.195295,.823529,.992541,.68703,.19217,.827451,.993032,.692907,.189084,.831373,.993456,.69881,.186041,.835294,.993814,.704741,.183043,.839216,.994103,.710698,.180097,.843137,.994324,.716681,.177208,.847059,.994474,.722691,.174381,.85098,.994553,.728728,.171622,.854902,.994561,.734791,.168938,.858824,.994495,.74088,.166335,.862745,.994355,.746995,.163821,.866667,.994141,.753137,.161404,.870588,.993851,.759304,.159092,.87451,.993482,.765499,.156891,.878431,.993033,.77172,.154808,.882353,.992505,.777967,.152855,.886275,.991897,.784239,.151042,.890196,.991209,.790537,.149377,.894118,.990439,.796859,.14787,.898039,.989587,.803205,.146529,.901961,.988648,.809579,.145357,.905882,.987621,.815978,.144363,.909804,.986509,.822401,.143557,.913725,.985314,.828846,.142945,.917647,.984031,.835315,.142528,.921569,.982653,.841812,.142303,.92549,.98119,.848329,.142279,.929412,.979644,.854866,.142453,.933333,.977995,.861432,.142808,.937255,.976265,.868016,.143351,.941176,.974443,.874622,.144061,.945098,.97253,.88125,.144923,.94902,.970533,.887896,.145919,.952941,.968443,.894564,.147014,.956863,.966271,.901249,.14818,.960784,.964021,.90795,.14937,.964706,.961681,.914672,.15052,.968627,.959276,.921407,.151566,.972549,.956808,.928152,.152409,.976471,.954287,.934908,.152921,.980392,.951726,.941671,.152925,.984314,.949151,.948435,.152178,.988235,.946602,.95519,.150328,.992157,.944152,.961916,.146861,.996078,.941896,.96859,.140956,1,.940015,.975158,.131326]},{ColorSpace:"Diverging",Name:"Viridis (matplotlib)",NanColor:[1,0,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Eric Firing",RGBPoints:[0,.267004,.004874,.329415,.003922,.26851,.009605,.335427,.007843,.269944,.014625,.341379,.011765,.271305,.019942,.347269,.015686,.272594,.025563,.353093,.019608,.273809,.031497,.358853,.023529,.274952,.037752,.364543,.027451,.276022,.044167,.370164,.031373,.277018,.050344,.375715,.035294,.277941,.056324,.381191,.039216,.278791,.062145,.386592,.043137,.279566,.067836,.391917,.047059,.280267,.073417,.397163,.05098,.280894,.078907,.402329,.054902,.281446,.08432,.407414,.058824,.281924,.089666,.412415,.062745,.282327,.094955,.417331,.066667,.282656,.100196,.42216,.070588,.28291,.105393,.426902,.07451,.283091,.110553,.431554,.078431,.283197,.11568,.436115,.082353,.283229,.120777,.440584,.086275,.283187,.125848,.44496,.090196,.283072,.130895,.449241,.094118,.282884,.13592,.453427,.098039,.282623,.140926,.457517,.101961,.28229,.145912,.46151,.105882,.281887,.150881,.465405,.109804,.281412,.155834,.469201,.113725,.280868,.160771,.472899,.117647,.280255,.165693,.476498,.121569,.279574,.170599,.479997,.12549,.278826,.17549,.483397,.129412,.278012,.180367,.486697,.133333,.277134,.185228,.489898,.137255,.276194,.190074,.493001,.141176,.275191,.194905,.496005,.145098,.274128,.199721,.498911,.14902,.273006,.20452,.501721,.152941,.271828,.209303,.504434,.156863,.270595,.214069,.507052,.160784,.269308,.218818,.509577,.164706,.267968,.223549,.512008,.168627,.26658,.228262,.514349,.172549,.265145,.232956,.516599,.176471,.263663,.237631,.518762,.180392,.262138,.242286,.520837,.184314,.260571,.246922,.522828,.188235,.258965,.251537,.524736,.192157,.257322,.25613,.526563,.196078,.255645,.260703,.528312,.2,.253935,.265254,.529983,.203922,.252194,.269783,.531579,.207843,.250425,.27429,.533103,.211765,.248629,.278775,.534556,.215686,.246811,.283237,.535941,.219608,.244972,.287675,.53726,.223529,.243113,.292092,.538516,.227451,.241237,.296485,.539709,.231373,.239346,.300855,.540844,.235294,.237441,.305202,.541921,.239216,.235526,.309527,.542944,.243137,.233603,.313828,.543914,.247059,.231674,.318106,.544834,.25098,.229739,.322361,.545706,.254902,.227802,.326594,.546532,.258824,.225863,.330805,.547314,.262745,.223925,.334994,.548053,.266667,.221989,.339161,.548752,.270588,.220057,.343307,.549413,.27451,.21813,.347432,.550038,.278431,.21621,.351535,.550627,.282353,.214298,.355619,.551184,.286275,.212395,.359683,.55171,.290196,.210503,.363727,.552206,.294118,.208623,.367752,.552675,.298039,.206756,.371758,.553117,.301961,.204903,.375746,.553533,.305882,.203063,.379716,.553925,.309804,.201239,.38367,.554294,.313725,.19943,.387607,.554642,.317647,.197636,.391528,.554969,.321569,.19586,.395433,.555276,.32549,.1941,.399323,.555565,.329412,.192357,.403199,.555836,.333333,.190631,.407061,.556089,.337255,.188923,.41091,.556326,.341176,.187231,.414746,.556547,.345098,.185556,.41857,.556753,.34902,.183898,.422383,.556944,.352941,.182256,.426184,.55712,.356863,.180629,.429975,.557282,.360784,.179019,.433756,.55743,.364706,.177423,.437527,.557565,.368627,.175841,.44129,.557685,.372549,.174274,.445044,.557792,.376471,.172719,.448791,.557885,.380392,.171176,.45253,.557965,.384314,.169646,.456262,.55803,.388235,.168126,.459988,.558082,.392157,.166617,.463708,.558119,.396078,.165117,.467423,.558141,.4,.163625,.471133,.558148,.403922,.162142,.474838,.55814,.407843,.160665,.47854,.558115,.411765,.159194,.482237,.558073,.415686,.157729,.485932,.558013,.419608,.15627,.489624,.557936,.423529,.154815,.493313,.55784,.427451,.153364,.497,.557724,.431373,.151918,.500685,.557587,.435294,.150476,.504369,.55743,.439216,.149039,.508051,.55725,.443137,.147607,.511733,.557049,.447059,.14618,.515413,.556823,.45098,.144759,.519093,.556572,.454902,.143343,.522773,.556295,.458824,.141935,.526453,.555991,.462745,.140536,.530132,.555659,.466667,.139147,.533812,.555298,.470588,.13777,.537492,.554906,.47451,.136408,.541173,.554483,.478431,.135066,.544853,.554029,.482353,.133743,.548535,.553541,.486275,.132444,.552216,.553018,.490196,.131172,.555899,.552459,.494118,.129933,.559582,.551864,.498039,.128729,.563265,.551229,.501961,.127568,.566949,.550556,.505882,.126453,.570633,.549841,.509804,.125394,.574318,.549086,.513725,.124395,.578002,.548287,.517647,.123463,.581687,.547445,.521569,.122606,.585371,.546557,.52549,.121831,.589055,.545623,.529412,.121148,.592739,.544641,.533333,.120565,.596422,.543611,.537255,.120092,.600104,.54253,.541176,.119738,.603785,.5414,.545098,.119512,.607464,.540218,.54902,.119423,.611141,.538982,.552941,.119483,.614817,.537692,.556863,.119699,.61849,.536347,.560784,.120081,.622161,.534946,.564706,.120638,.625828,.533488,.568627,.12138,.629492,.531973,.572549,.122312,.633153,.530398,.576471,.123444,.636809,.528763,.580392,.12478,.640461,.527068,.584314,.126326,.644107,.525311,.588235,.128087,.647749,.523491,.592157,.130067,.651384,.521608,.596078,.132268,.655014,.519661,.6,.134692,.658636,.517649,.603922,.137339,.662252,.515571,.607843,.14021,.665859,.513427,.611765,.143303,.669459,.511215,.615686,.146616,.67305,.508936,.619608,.150148,.676631,.506589,.623529,.153894,.680203,.504172,.627451,.157851,.683765,.501686,.631373,.162016,.687316,.499129,.635294,.166383,.690856,.496502,.639216,.170948,.694384,.493803,.643137,.175707,.6979,.491033,.647059,.180653,.701402,.488189,.65098,.185783,.704891,.485273,.654902,.19109,.708366,.482284,.658824,.196571,.711827,.479221,.662745,.202219,.715272,.476084,.666667,.20803,.718701,.472873,.670588,.214,.722114,.469588,.67451,.220124,.725509,.466226,.678431,.226397,.728888,.462789,.682353,.232815,.732247,.459277,.686275,.239374,.735588,.455688,.690196,.24607,.73891,.452024,.694118,.252899,.742211,.448284,.698039,.259857,.745492,.444467,.701961,.266941,.748751,.440573,.705882,.274149,.751988,.436601,.709804,.281477,.755203,.432552,.713725,.288921,.758394,.428426,.717647,.296479,.761561,.424223,.721569,.304148,.764704,.419943,.72549,.311925,.767822,.415586,.729412,.319809,.770914,.411152,.733333,.327796,.77398,.40664,.737255,.335885,.777018,.402049,.741176,.344074,.780029,.397381,.745098,.35236,.783011,.392636,.74902,.360741,.785964,.387814,.752941,.369214,.788888,.382914,.756863,.377779,.791781,.377939,.760784,.386433,.794644,.372886,.764706,.395174,.797475,.367757,.768627,.404001,.800275,.362552,.772549,.412913,.803041,.357269,.776471,.421908,.805774,.35191,.780392,.430983,.808473,.346476,.784314,.440137,.811138,.340967,.788235,.449368,.813768,.335384,.792157,.458674,.816363,.329727,.796078,.468053,.818921,.323998,.8,.477504,.821444,.318195,.803922,.487026,.823929,.312321,.807843,.496615,.826376,.306377,.811765,.506271,.828786,.300362,.815686,.515992,.831158,.294279,.819608,.525776,.833491,.288127,.823529,.535621,.835785,.281908,.827451,.545524,.838039,.275626,.831373,.555484,.840254,.269281,.835294,.565498,.84243,.262877,.839216,.575563,.844566,.256415,.843137,.585678,.846661,.249897,.847059,.595839,.848717,.243329,.85098,.606045,.850733,.236712,.854902,.616293,.852709,.230052,.858824,.626579,.854645,.223353,.862745,.636902,.856542,.21662,.866667,.647257,.8584,.209861,.870588,.657642,.860219,.203082,.87451,.668054,.861999,.196293,.878431,.678489,.863742,.189503,.882353,.688944,.865448,.182725,.886275,.699415,.867117,.175971,.890196,.709898,.868751,.169257,.894118,.720391,.87035,.162603,.898039,.730889,.871916,.156029,.901961,.741388,.873449,.149561,.905882,.751884,.874951,.143228,.909804,.762373,.876424,.137064,.913725,.772852,.877868,.131109,.917647,.783315,.879285,.125405,.921569,.79376,.880678,.120005,.92549,.804182,.882046,.114965,.929412,.814576,.883393,.110347,.933333,.82494,.88472,.106217,.937255,.83527,.886029,.102646,.941176,.845561,.887322,.099702,.945098,.85581,.888601,.097452,.94902,.866013,.889868,.095953,.952941,.876168,.891125,.09525,.956863,.886271,.892374,.095374,.960784,.89632,.893616,.096335,.964706,.906311,.894855,.098125,.968627,.916242,.896091,.100717,.972549,.926106,.89733,.104071,.976471,.935904,.89857,.108131,.980392,.945636,.899815,.112838,.984314,.9553,.901065,.118128,.988235,.964894,.902323,.123941,.992157,.974417,.90359,.130215,.996078,.983868,.904867,.136897,1,.993248,.906157,.143936]},{ShowIndexedColorActiveValues:1,IndexedColors:[.07,.5,.7,1,1,1,.85,1,1,.8,.5,1,.76,1,0,1,.71,.71,.5,.5,.5,.05,.05,1,1,.05,.05,.7,1,1,.7,.89,.96,.67,.36,.95,.54,1,0,.75,.65,.65,.5,.6,.6,1,.5,0,1,1,.19,.12,.94,.12,.5,.82,.89,.56,.25,.83,.24,1,0,.9,.9,.9,.75,.76,.78,.65,.65,.67,.54,.6,.78,.61,.48,.78,.5,.48,.78,.44,.48,.78,.36,.48,.76,1,.48,.38,.49,.5,.69,.76,.56,.56,.4,.56,.56,.74,.5,.89,1,.63,0,.65,.16,.16,.36,.72,.82,.44,.18,.69,0,1,0,.58,1,1,.58,.88,.88,.45,.76,.79,.33,.71,.71,.23,.62,.62,.14,.56,.56,.04,.49,.55,0,.41,.52,.88,.88,1,1,.85,.56,.65,.46,.45,.4,.5,.5,.62,.39,.71,.83,.48,0,.58,0,.58,.26,.62,.69,.34,.09,.56,0,.79,0,.44,.83,1,1,1,.78,.85,1,.78,.78,1,.78,.64,1,.78,.56,1,.78,.38,1,.78,.27,1,.78,.19,1,.78,.12,1,.78,0,1,.61,0,.9,.46,0,.83,.32,0,.75,.22,0,.67,.14,.3,.76,1,.3,.65,1,.13,.58,.84,.15,.49,.67,.15,.4,.59,.09,.33,.53,.96,.93,.82,.8,.82,.12,.71,.71,.76,.65,.33,.3,.34,.35,.38,.62,.31,.71,.67,.36,0,.46,.31,.27,.26,.51,.59,.26,0,.4,0,.49,0,.44,.67,.98,0,.73,1,0,.63,1,0,.56,1,0,.5,1,0,.42,1,.33,.36,.95,.47,.36,.89,.54,.31,.89,.63,.21,.83,.7,.12,.83,.7,.12,.73,.7,.05,.65,.74,.05,.53,.78,0,.4,.8,0,.35,.82,0,.31,.85,0,.27,.88,0,.22,.9,0,.18,.91,0,.15,.92,0,.14,.93,0,.13,.94,0,.12,.95,0,.11,.96,0,.1,.97,0,.09,.98,0,.08,.99,0,.07,1,0,.06],Annotations:[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],Name:"BlueObeliskElements"}];const P1=Object.create(null);e7e.filter(t=>t.RGBPoints).filter(t=>t.ColorSpace!=="CIELAB").forEach(t=>{P1[t.Name]=t});const L1=Object.keys(P1);L1.sort();function t7e(t){return P1[t]}function n7e(t){!t.RGBPoints||t.ColorSpace==="CIELAB"||(P1[t.Name]||(L1.push(t.Name),L1.sort()),P1[t.Name]=t)}function r7e(t){const e=L1.indexOf(t);e>-1&&L1.splice(e,1),delete P1[t]}var y3={addPreset:n7e,removePresetByName:r7e,getPresetByName:t7e,rgbPresetNames:L1};function jW(t,e,n){return Math.abs(t-e)<=n}function a7e(t,e,n=1e-5){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!jW(t[r],e[r],n))return!1;return!0}function tM(t){return typeof t=="number"}function nM(t){return t&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&t.length>0&&typeof t[0]=="number"}function Da(t,e,n=1e-5){return typeof t!=typeof e||t===null||e===null?!1:tM(t)&&tM(e)?jW(t,e,n):nM(t)&&nM(e)?a7e(t,e,n):!1}const HW=t=>typeof t=="number"?-t:t!=null&&t.map?t.map(HW):!t,nx=t=>typeof t=="number"?Math.abs(t):t!=null&&t.map?t.map(nx):t,qW=(t,e,n=void 0)=>Da(t,HW(e),n),i7e=(t,e,n=void 0)=>Da(nx(t),nx(e),n),Yw=new Map;function o7e(t){Yw.set(t.Name,t)}function Wv(t){return Yw.get(t)}function KW(){return Array.from(Yw.keys())}function Zw(t,e){const n=y3.rgbPresetNames.map(s=>y3.getPresetByName(s)),r=KW().map(s=>Wv(s)),i=n.concat(r).find(s=>{const{RGBPoints:l}=s;if(l.length!==t.length)return!1;for(let c=0;c<l.length;c+=4)if(!Da(l.slice(c+1,c+4),t.slice(c+1,c+4)))return!1;return!0});if(!i)return null;const o=[];if(fo(e,"vtkVolume")){const s=e.getProperty().getScalarOpacity(0).getDataPointer();if(!s)return{name:i.Name};for(let l=0;l<s.length;l+=2)o.push({value:s[l],opacity:s[l+1]})}return{name:i.Name,opacity:o}}const s7e=Object.freeze(Object.defineProperty({__proto__:null,findMatchingColormap:Zw,getColormap:Wv,getColormapNames:KW,registerColormap:o7e},Symbol.toStringTag,{value:"Module"}));function Bm(t){if(!t)return;const e=t.getSize();for(let n=0;n<e;n++){const r=[];t.getNodeValue(n,r),r[1]=1-r[1],r[2]=1-r[2],r[3]=1-r[3],t.setNodeValue(n,r)}}const rx=(t,e,n)=>e-n/4*Math.log((1-t)/t);function ly(t,e){const n=Math.abs(e-t)+1,r=(t+e+1)/2;return{windowWidth:n,windowCenter:r}}function Kd(t,e,n=zi.LINEAR){if(n===zi.LINEAR)return{lower:e-.5-(t-1)/2,upper:e-.5+(t-1)/2};if(n===zi.LINEAR_EXACT)return{lower:e-t/2,upper:e+t/2};if(n===zi.SAMPLED_SIGMOID){const r=rx(.01,e,t),a=rx(.99,e,t);return{lower:r,upper:a}}else throw new Error("Invalid VOI LUT function")}const l7e=Object.freeze(Object.defineProperty({__proto__:null,toLowHighRange:Kd,toWindowLevel:ly},Symbol.toStringTag,{value:"Module"}));function Jw(t,e=1024){const{windowWidth:n,windowCenter:r}=ly(t.lower,t.upper),i=Array.from({length:e},(s,l)=>(l+1)/(e+2)).flatMap(s=>[rx(s,r,n),s,s,s,.5,0]),o=Pc.newInstance();return o.buildFunctionFromArray(Bn.newInstance({values:i,numberOfComponents:6})),o}function V0(t,e){return t.worldToIndex(e).map(Math.round)}function U2(t,e){return t.worldToIndex(e)}function C3(t){const e=t.getSize(),n=[];for(let r=0;r<e;r++){const a=[];t.getNodeValue(r,a),n.push(a)}return n}function cy(t,e){e!=null&&e.length&&(t.removeAllPoints(),e.forEach(n=>{t.addRGBPoint(...n)}))}const c7e=Object.freeze(Object.defineProperty({__proto__:null,getTransferFunctionNodes:C3,setTransferFunctionNodes:cy},Symbol.toStringTag,{value:"Module"})),{InterpolationType:mm,OpacityMode:u7e}=Wz,{vtkErrorMacro:R8}=ne,B2=4;function f7e(t,e){e.classHierarchy.push("vtkVolumeProperty"),t.getMTime=()=>{let a=e.mtime,i;for(let o=0;o<B2;o++)e.componentData[o].colorChannels===1?e.componentData[o].grayTransferFunction&&(i=e.componentData[o].grayTransferFunction.getMTime(),a=a>i?a:i):e.componentData[o].colorChannels===3&&e.componentData[o].rGBTransferFunction&&(i=e.componentData[o].rGBTransferFunction.getMTime(),a=a>i?a:i),e.componentData[o].scalarOpacity&&(i=e.componentData[o].scalarOpacity.getMTime(),a=a>i?a:i),e.componentData[o].gradientOpacity&&(e.componentData[o].disableGradientOpacity||(i=e.componentData[o].gradientOpacity.getMTime(),a=a>i?a:i));return a},t.getColorChannels=a=>a<0||a>3?(R8("Bad index - must be between 0 and 3"),0):e.componentData[a].colorChannels,t.setGrayTransferFunction=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=!1;return e.componentData[a].grayTransferFunction!==i&&(e.componentData[a].grayTransferFunction=i,o=!0),e.componentData[a].colorChannels!==1&&(e.componentData[a].colorChannels=1,o=!0),o&&t.modified(),o},t.getGrayTransferFunction=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[a].grayTransferFunction===null&&(e.componentData[a].grayTransferFunction=M1.newInstance(),e.componentData[a].grayTransferFunction.addPoint(0,0),e.componentData[a].grayTransferFunction.addPoint(1024,1),e.componentData[a].colorChannels!==1&&(e.componentData[a].colorChannels=1),t.modified()),e.componentData[a].grayTransferFunction},t.setRGBTransferFunction=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=!1;return e.componentData[a].rGBTransferFunction!==i&&(e.componentData[a].rGBTransferFunction=i,o=!0),e.componentData[a].colorChannels!==3&&(e.componentData[a].colorChannels=3,o=!0),o&&t.modified(),o},t.getRGBTransferFunction=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[a].rGBTransferFunction===null&&(e.componentData[a].rGBTransferFunction=Pc.newInstance(),e.componentData[a].rGBTransferFunction.addRGBPoint(0,0,0,0),e.componentData[a].rGBTransferFunction.addRGBPoint(1024,1,1,1),e.componentData[a].colorChannels!==3&&(e.componentData[a].colorChannels=3),t.modified()),e.componentData[a].rGBTransferFunction},t.setScalarOpacity=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e.componentData[a].scalarOpacity!==i?(e.componentData[a].scalarOpacity=i,t.modified(),!0):!1},t.getScalarOpacity=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[a].scalarOpacity===null&&(e.componentData[a].scalarOpacity=M1.newInstance(),e.componentData[a].scalarOpacity.addPoint(0,1),e.componentData[a].scalarOpacity.addPoint(1024,1),t.modified()),e.componentData[a].scalarOpacity},t.setComponentWeight=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(a<0||a>=B2)return R8("Invalid index"),!1;const o=Math.min(1,Math.max(0,i));return e.componentData[a].componentWeight!==o?(e.componentData[a].componentWeight=o,t.modified(),!0):!1},t.getComponentWeight=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return a<0||a>=B2?(R8("Invalid index"),0):e.componentData[a].componentWeight},t.setInterpolationTypeToNearest=()=>t.setInterpolationType(mm.NEAREST),t.setInterpolationTypeToLinear=()=>t.setInterpolationType(mm.LINEAR),t.setInterpolationTypeToFastLinear=()=>t.setInterpolationType(mm.FAST_LINEAR),t.getInterpolationTypeAsString=()=>ne.enumToString(mm,e.interpolationType),["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode","forceNearestInterpolation"].forEach(a=>{const i=ne.capitalize(a);t[`set${i}`]=(o,s)=>e.componentData[o][`${a}`]!==s?(e.componentData[o][`${a}`]=s,t.modified(),!0):!1}),["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode","forceNearestInterpolation"].forEach(a=>{const i=ne.capitalize(a);t[`get${i}`]=o=>e.componentData[o][`${a}`]})}const d7e={colorMixPreset:null,independentComponents:!0,interpolationType:mm.FAST_LINEAR,shade:!1,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:[1],labelOutlineOpacity:1};function QW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,d7e,n),ne.obj(t,e),!e.componentData){e.componentData=[];for(let r=0;r<B2;++r)e.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:u7e.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1,forceNearestInterpolation:!1})}ne.setGet(t,e,["colorMixPreset","independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineOpacity"]),ne.setGetArray(t,e,["labelOutlineThickness"]),f7e(t,e)}const g7e=ne.newInstance(QW,"vtkVolumeProperty");var m7e={newInstance:g7e,extend:QW,...Wz};const{vtkDebugMacro:v7e}=ne;function p7e(t,e){e.classHierarchy.push("vtkVolume"),t.getVolumes=()=>t,t.makeProperty=m7e.newInstance,t.getProperty=()=>(e.property===null&&(e.property=t.makeProperty()),e.property),t.getBounds=()=>{if(e.mapper===null)return e.bounds;const n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;const r=a=>a[0].map((i,o)=>a.map(s=>s[o]));if(!e.mapperBounds||!r([n,e.mapperBounds]).reduce((a,i)=>a&&i[0]===i[1],!0)||t.getMTime()>e.boundsMTime.getMTime()){v7e("Recomputing bounds..."),e.mapperBounds=n.map(o=>o);const a=[];Wr.getCorners(n,a),t.computeMatrix();const i=new Float64Array(16);tr(i,e.matrix),a.forEach(o=>hr(o,o,i)),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map((o,s)=>s%2===0?a.reduce((l,c)=>l>c[s/2]?c[s/2]:l,o):a.reduce((l,c)=>l<c[(s-1)/2]?c[(s-1)/2]:l,o)),e.boundsMTime.modified()}return e.bounds},t.getMTime=()=>{let n=e.mtime;if(e.property!==null){const r=e.property.getMTime();n=r>n?r:n}return n},t.getRedrawMTime=()=>{let n=e.mtime;if(e.mapper!==null){let r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}return n}}const h7e={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function XW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,h7e,n),Qw.extend(t,e,n),e.boundsMTime={},ne.obj(e.boundsMTime),ne.set(t,e,["property"]),ne.setGet(t,e,["mapper"]),ne.getArray(t,e,["bounds"],6),p7e(t,e)}const S7e=ne.newInstance(XW,"vtkVolume");var y7e={newInstance:S7e,extend:XW};const{vtkErrorMacro:C7e}=ne;class x7e{constructor(){this.segmentMapping={},this.segments=[null],this.faces=[]}addSegment(e){const n=e[0],r=e[e.length-1];if(n===r||e.length<2)return;const a=this.segmentMapping[n],i=this.segmentMapping[r];if(a!==void 0&&i!==void 0)if(Math.abs(a)===Math.abs(i)){const o=a<i?i:a,s=this.segments[o];if(a>0)for(let l=1;l<e.length-1;l++)s.push(e[l]);else for(let l=1;l<e.length-1;l++)s.unshift(e[e.length-1-l]);this.faces.push(s),this.segments[o]=null,this.segmentMapping[n]=void 0,this.segmentMapping[r]=void 0}else{const o=Math.abs(a),s=Math.abs(i),l=this.segments[o],c=this.segments[s];this.segments[o]=null,this.segments[s]=null,this.segmentMapping[l[0]]=void 0,this.segmentMapping[c[0]]=void 0,this.segmentMapping[l[l.length-1]]=void 0,this.segmentMapping[c[c.length-1]]=void 0,this.addSegment(e),this.addSegment(l),this.addSegment(c)}else if(a!==void 0){if(a>0){const o=this.segments[a];for(let s=1;s<e.length;s++)o.push(e[s]);this.segmentMapping[r]=a}else{const o=this.segments[-a];this.segmentMapping[r]=a;for(let s=1;s<e.length;s++)o.unshift(e[s])}this.segmentMapping[n]=void 0}else if(i!==void 0){if(i>0){const o=this.segments[i];for(let s=1;s<e.length;s++)o.push(e[e.length-1-s]);this.segmentMapping[n]=i}else{const o=this.segments[-i];this.segmentMapping[n]=i;for(let s=1;s<e.length;s++)o.unshift(e[e.length-s-1])}this.segmentMapping[r]=void 0}else{const o=this.segments.length;this.segments.push(e),this.segmentMapping[n]=-o,this.segmentMapping[r]=o}}}function T7e(t,e){e.classHierarchy.push("vtkClosedPolyLineToSurfaceFilter"),t.requestData=(n,r)=>{const a=n[0];if(!a){C7e("Invalid or missing input");return}const i=Y0.newInstance();i.shallowCopy(a);const o=new x7e,s=a.getLines().getData();let l=0;for(;l<s.length;){const d=s[l++],g=[];for(let v=0;v<d;v++)g.push(s[l+v]);o.addSegment(g),l+=d}const{faces:c}=o;let f=c.length;for(let d=0;d<c.length;d++)f+=c[d].length;const u=new Uint16Array(f);l=0;for(let d=0;d<c.length;d++){const g=c[d];u[l++]=g.length;for(let v=0;v<g.length;v++)u[l++]=g[v]}i.setPolys(ff.newInstance({values:u,name:"faces"})),r[0]=i}}const w7e={};function YW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,w7e,n),ne.obj(t,e),ne.algo(t,e,1,1),T7e(t,e)}const b7e=ne.newInstance(YW,"vtkClosedPolyLineToSurfaceFilter");var E7e={newInstance:b7e,extend:YW};const{vtkErrorMacro:rM}=Ni;function D7e(t){const e=t.getPolys().getData(),n=t.getStrips().getData(),r={cellSize:0,cell:[],done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next(){if(r.polyIdx<e.length){r.cellSize=e[r.polyIdx];const a=r.polyIdx+1,i=a+r.cellSize;r.polyIdx=i;let o=0;for(let s=a;s<i;++s)r.cell[o++]=e[s]}else if(r.stripIdx<n.length){r.cellSize=3,r.remainingStripLength===0&&(r.remainingStripLength=n[r.stripIdx]-2,r.stripIdx+=3);const a=r.stripIdx-2,i=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--;let o=0;for(let s=a;s<i;++s)r.cell[o++]=n[s]}else if(!r.done)r.done=!0;else throw new Error("Iterator is done")}};return r.next(),r}function O7e(t,e){e.classHierarchy.push("vtkCutter");const n={...t};t.getMTime=()=>{let a=n.getMTime();return e.cutFunction&&(a=Math.max(a,e.cutFunction.getMTime())),a};function r(a,i){const o=a.getPoints(),s=o.getData(),l=o.getNumberOfPoints(),c=[],f=[],u=[];(!e.cutScalars||e.cutScalars.length<l)&&(e.cutScalars=new Float32Array(l));let d=0,g=0;for(;d<s.length;)e.cutScalars[g++]=e.cutFunction.evaluateFunction(s[d++],s[d++],s[d++]);const v=[],m=new Array(3),p=new Array(3),h=[];for(const C=D7e(a);!C.done;C.next()){if(C.cellSize<=2)continue;for(let E=0;E<C.cellSize;)h[E]=e.cutScalars[C.cell[E++]];const x=h[0]>0;let T=!0;for(let E=1;E<C.cell.length;E++)if(h[E]>0!==x){T=!1;break}if(T)continue;const w=[];for(let E=0;E<C.cellSize;E++){const O=E+1===C.cellSize?0:E+1,D=h[E]>0;if(h[O]>0===D)continue;let I=E,M=O,A=h[M]-h[I];A<=0&&(I=O,M=E,A*=-1);let B=0;A!==0&&(B=(e.cutValue-h[I])/A);const L=C.cell[I],F=C.cell[M];m[0]=s[L*3],m[1]=s[L*3+1],m[2]=s[L*3+2],p[0]=s[F*3],p[1]=s[F*3+1],p[2]=s[F*3+2];const _=[m[0]+B*(p[0]-m[0]),m[1]+B*(p[1]-m[1]),m[2]+B*(p[2]-m[2])];w.push({pointEdge1:L,pointEdge2:F,intersectedPoint:_,newPointID:-1})}for(let E=0;E<w.length;E++){const O=w[E];let D=!1;for(let R=0;R<v.length;R++){const I=v[R],M=O.pointEdge1===I.pointEdge1&&O.pointEdge2===I.pointEdge2,A=O.intersectedPoint[0]===I.intersectedPoint[0]&&O.intersectedPoint[1]===I.intersectedPoint[1]&&O.intersectedPoint[2]===I.intersectedPoint[2];if(M||A){D=!0,w[E].newPointID=v[R].newPointID;break}}D||(c.push(O.intersectedPoint[0]),c.push(O.intersectedPoint[1]),c.push(O.intersectedPoint[2]),w[E].newPointID=c.length/3-1,v.push(w[E]))}const b=w.length;b===2?f.push(b,w[0].newPointID,w[1].newPointID):b>2&&(u.push(b),w.forEach(E=>{u.push(E.newPointID)}))}i.getPoints().setData(q5(o.getDataType(),c),3),f.length!==0&&i.getLines().setData(Uint16Array.from(f)),u.length!==0&&i.getPolys().setData(Uint16Array.from(u))}t.requestData=(a,i)=>{const o=a[0];if(!o){rM("Invalid or missing input");return}if(!e.cutFunction){rM("Missing cut function");return}const s=Y0.newInstance();r(o,s),i[0]=s}}const R7e={cutFunction:null,cutScalars:null,cutValue:0};function ZW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,R7e,n),ea(t,e),qT(t,e,1,1),Ka(t,e,["cutFunction","cutValue"]),O7e(t,e)}const I7e=Vr(ZW,"vtkCutter");var A7e={newInstance:I7e,extend:ZW};const M7e=[2,0,1,2,2,3,2,4,5,2,6,7,2,0,2,2,1,3,2,4,6,2,5,7,2,0,4,2,1,5,2,2,6,2,3,7],P7e=[4,0,1,3,2,4,4,6,7,5,4,8,10,11,9,4,12,13,15,14,4,16,18,19,17,4,20,21,23,22];function L7e(t,e){e.classHierarchy.push("vtkCubeSource");function n(r,a){if(e.deleted)return;const i=Y0.newInstance();a[0]=i;const o=24,s=ne.newTypedArray(e.pointType,o*3);i.getPoints().setData(s,3);const l=ne.newTypedArray(e.pointType,o*3),c=Bn.newInstance({name:"Normals",values:l,numberOfComponents:3});i.getPointData().setNormals(c);let f=2;e.generate3DTextureCoordinates===!0&&(f=3);const u=ne.newTypedArray(e.pointType,o*f),d=Bn.newInstance({name:"TextureCoordinates",values:u,numberOfComponents:f});i.getPointData().setTCoords(d);const g=[0,0,0],v=[0,0,0],m=[0,0];let p=0;g[0]=-e.xLength/2,v[0]=-1,v[1]=0,v[2]=0;for(let h=0;h<2;h++){g[1]=-e.yLength/2;for(let y=0;y<2;y++){m[1]=g[1]+.5,g[2]=-e.zLength/2;for(let C=0;C<2;C++)m[0]=(g[2]+.5)*(1-2*h),s[p*3]=g[0],s[p*3+1]=g[1],s[p*3+2]=g[2],l[p*3]=v[0],l[p*3+1]=v[1],l[p*3+2]=v[2],f===2?(u[p*f]=m[0],u[p*f+1]=m[1]):(u[p*f]=2*h-1,u[p*f+1]=2*y-1,u[p*f+2]=2*C-1),p++,g[2]+=e.zLength;g[1]+=e.yLength}g[0]+=e.xLength,v[0]+=2}g[1]=-e.yLength/2,v[1]=-1,v[0]=0,v[2]=0;for(let h=0;h<2;h++){g[0]=-e.xLength/2;for(let y=0;y<2;y++){m[0]=(g[0]+.5)*(2*h-1),g[2]=-e.zLength/2;for(let C=0;C<2;C++)m[1]=(g[2]+.5)*-1,s[p*3]=g[0],s[p*3+1]=g[1],s[p*3+2]=g[2],l[p*3]=v[0],l[p*3+1]=v[1],l[p*3+2]=v[2],f===2?(u[p*f]=m[0],u[p*f+1]=m[1]):(u[p*f]=2*y-1,u[p*f+1]=2*h-1,u[p*f+2]=2*C-1),p++,g[2]+=e.zLength;g[0]+=e.xLength}g[1]+=e.yLength,v[1]+=2}g[2]=-e.zLength/2,v[2]=-1,v[0]=0,v[1]=0;for(let h=0;h<2;h++){g[1]=-e.yLength/2;for(let y=0;y<2;y++){m[1]=g[1]+.5,g[0]=-e.xLength/2;for(let C=0;C<2;C++)m[0]=(g[0]+.5)*(2*h-1),s[p*3]=g[0],s[p*3+1]=g[1],s[p*3+2]=g[2],l[p*3]=v[0],l[p*3+1]=v[1],l[p*3+2]=v[2],f===2?(u[p*f]=m[0],u[p*f+1]=m[1]):(u[p*f]=2*C-1,u[p*f+1]=2*y-1,u[p*f+2]=2*h-1),p++,g[0]+=e.xLength;g[1]+=e.yLength}g[2]+=e.zLength,v[2]+=2}if(e.rotations&&Uu.buildFromDegree().rotateX(e.rotations[0]).rotateY(e.rotations[1]).rotateZ(e.rotations[2]).apply(s).apply(l),e.center&&Uu.buildFromRadian().translate(...e.center).apply(s),e.matrix){Uu.buildFromRadian().setMatrix(e.matrix).apply(s);const h=[e.matrix[0],e.matrix[1],e.matrix[2],0,e.matrix[4],e.matrix[5],e.matrix[6],0,e.matrix[8],e.matrix[9],e.matrix[10],0,0,0,0,1];Uu.buildFromRadian().setMatrix(h).apply(l)}e.generateFaces?i.getPolys().deepCopy(e._polys):i.getPolys().initialize(),e.generateLines?(i.getLines().deepCopy(e._lineCells),i.getPointData().setNormals(null)):i.getLines().initialize(),i.modified()}t.setBounds=function(){let r=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))r=arguments.length<=0?void 0:arguments[0];else for(let a=0;a<arguments.length;a++)r.push(a<0||arguments.length<=a?void 0:arguments[a]);r.length===6&&(t.setXLength(r[1]-r[0]),t.setYLength(r[3]-r[2]),t.setZLength(r[5]-r[4]),t.setCenter([(r[0]+r[1])/2,(r[2]+r[3])/2,(r[4]+r[5])/2]))},t.requestData=n}const _7e={xLength:1,yLength:1,zLength:1,pointType:"Float64Array",generate3DTextureCoordinates:!1,generateFaces:!0,generateLines:!1};function JW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_7e,n),ne.obj(t,e),ne.setGet(t,e,["xLength","yLength","zLength","generate3DTextureCoordinates","generateFaces","generateLines"]),ne.setGetArray(t,e,["center","rotations"],3),ne.setGetArray(t,e,["matrix"],16),e._polys=ff.newInstance({values:Uint16Array.from(P7e)}),e._lineCells=ff.newInstance({values:Uint16Array.from(M7e)}),ne.moveToProtected(t,e,["polys","lineCells"]),ne.algo(t,e,0,1),L7e(t,e)}const N7e=ne.newInstance(JW,"vtkCubeSource");var F7e={newInstance:N7e,extend:JW};const{vtkErrorMacro:aM}=ne;function $7e(t,e){e.classHierarchy.push("vtkImageDataOutlineFilter");const n={...t};t.requestData=(r,a)=>{const i=r[0];if(!i||!i.isA("vtkImageData")){aM("Invalid or missing input");return}const o=i.getSpatialExtent();if(!o){aM("Unable to fetch spatial extents of input image.");return}e._cubeSource.setBounds(o),e._cubeSource.setMatrix(i.getIndexToWorld()),a[0]=e._cubeSource.getOutputData()},t.getMTime=()=>Math.max(n.getMTime(),e._cubeSource.getMTime()),t.setGenerateFaces=e._cubeSource.setGenerateFaces,t.setGenerateLines=e._cubeSource.setGenerateLines,t.getGenerateFaces=e._cubeSource.getGenerateFaces,t.getGenerateLines=e._cubeSource.getGenerateLines}const V7e={};function ej(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,V7e,n),ne.obj(t,e),ne.algo(t,e,1,1),e._cubeSource=F7e.newInstance(),ne.moveToProtected(t,e,["cubeSource","tmpOut"]),$7e(t,e)}const k7e=ne.newInstance(ej,"vtkImageDataOutlineFilter");var U7e={newInstance:k7e,extend:ej};let eb;function B7e(t,e){e.classHierarchy.push("vtkAbstractTransform","vtkHomogeneousTransform","vtkTransform"),t.transformPoint=(n,r)=>(hr(r,n,e.matrix),r),t.transformPoints=(n,r)=>{const a=new Float64Array(3),i=new Float64Array(3);for(let o=0;o<n.length;o+=3)a[0]=n[o],a[1]=n[o+1],a[2]=n[o+2],hr(i,a,e.matrix),r[o]=i[0],r[o+1]=i[1],r[o+2]=i[2];return r},t.preMultiply=()=>{t.setPreMultiplyFlag(!0)},t.postMultiply=()=>{t.setPreMultiplyFlag(!1)},t.transformMatrix=(n,r)=>(e.preMultiplyFlag?Zn(r,e.matrix,n):Zn(r,n,e.matrix),r),t.transformMatrices=(n,r)=>{const a=new Float64Array(16),i=new Float64Array(16),o=e.preMultiplyFlag?()=>Zn(i,e.matrix,a):()=>Zn(i,a,e.matrix);for(let s=0;s<n.length;s+=16){for(let l=0;l<16;++l)a[l]=n[s+l];o();for(let l=0;l<16;++l)r[s+l]=i[l]}return r},t.getInverse=()=>eb({matrix:Jo.invertMatrix(Array.from(e.matrix),[],4),preMultiplyFlag:e.preMultiplyFlag})}const G7e={preMultiplyFlag:!1,matrix:[...rw]};function tj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,G7e,n),ne.obj(t,e),ne.setGet(t,e,["preMultiplyFlag"]),ne.setGetArray(t,e,["matrix"],16),B7e(t,e)}eb=ne.newInstance(tj,"vtkTransform");var z7e={newInstance:eb,extend:tj},W7e=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkImageResliceMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model coordinates
// WC - World coordinates
// VC - View coordinates
// DC - Display coordinates
// TC - Texture coordinates

// frag position in VC
//VTK::PositionVC::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// camera and actor matrix values
//VTK::Camera::Dec

void main()
{
  //VTK::PositionVC::Impl

  //VTK::TCoord::Impl

  //VTK::Picking::Impl
}
`,j7e=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkImageResliceMapperFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the gpu image mapper fragment shader

// VC position of this fragment
//VTK::PositionVC::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

// the output of this shader
//VTK::Output::Dec

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  //VTK::TCoord::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;const{vtkErrorMacro:du}=Ni;function iM(t,e,n){return e.identity(n),t.reduce((r,a,i)=>i===0?a?e.copy(r,a):e.identity(r):a?e.multiply(r,r,a):r,n)}function H7e(t,e){e.classHierarchy.push("vtkOpenGLImageResliceMapper");function n(a){[e._scalars,e._colorTransferFunc,e._pwFunc].forEach(i=>a.unregisterGraphicsResourceUser(i,t))}t.buildPass=a=>{if(a){e.currentRenderPass=null,e._openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");const i=e._openGLRenderer.getRenderable();e._openGLCamera=e._openGLRenderer.getViewNodeFor(i.getActiveCamera());const o=e._openGLRenderWindow;e._openGLRenderWindow=e._openGLRenderer.getLastAncestorOfType("vtkOpenGLRenderWindow"),o&&!o.isDeleted()&&o!==e._openGLRenderWindow&&n(o),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow)}},t.translucentPass=(a,i)=>{a&&(e.currentRenderPass=i,t.render())},t.zBufferPass=a=>{a&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaqueZBufferPass=a=>t.zBufferPass(a),t.opaquePass=a=>{a&&t.render()},t.getCoincidentParameters=(a,i)=>e.renderable.getResolveCoincidentTopology()==Bs.PolygonOffset?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null,t.render=()=>{const a=e._openGLImageSlice.getRenderable(),i=e._openGLRenderer.getRenderable();t.renderPiece(i,a)},t.renderPiece=(a,i)=>{if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),!e.currentInput){du("No input!");return}t.updateResliceGeometry(),t.renderPieceStart(a,i),t.renderPieceDraw(a,i),t.renderPieceFinish(a,i),t.invokeEvent({type:"EndEvent"})},t.renderPieceStart=(a,i)=>{t.updateBufferObjects(a,i),i.getProperty().getInterpolationType()===Ku.NEAREST?(e.openGLTexture.setMinificationFilter(Sn.NEAREST),e.openGLTexture.setMagnificationFilter(Sn.NEAREST),e.colorTexture.setMinificationFilter(Sn.NEAREST),e.colorTexture.setMagnificationFilter(Sn.NEAREST),e.pwfTexture.setMinificationFilter(Sn.NEAREST),e.pwfTexture.setMagnificationFilter(Sn.NEAREST)):(e.openGLTexture.setMinificationFilter(Sn.LINEAR),e.openGLTexture.setMagnificationFilter(Sn.LINEAR),e.colorTexture.setMinificationFilter(Sn.LINEAR),e.colorTexture.setMagnificationFilter(Sn.LINEAR),e.pwfTexture.setMinificationFilter(Sn.LINEAR),e.pwfTexture.setMagnificationFilter(Sn.LINEAR)),e.lastBoundBO=null},t.renderPieceDraw=(a,i)=>{const o=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),t.updateShaders(e.tris,a,i),o.drawArrays(o.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=(a,i)=>{},t.updateBufferObjects=(a,i)=>{t.getNeedToRebuildBufferObjects(a,i)&&t.buildBufferObjects(a,i)},t.getNeedToRebuildBufferObjects=(a,i)=>{var o,s,l;return e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<i.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<i.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()||e.VBOBuildTime.getMTime()<e.resliceGeom.getMTime()||!((o=e.openGLTexture)!=null&&o.getHandle())||!((s=e.colorTexture)!=null&&s.getHandle())||!((l=e.pwfTexture)!=null&&l.getHandle())},t.buildBufferObjects=(a,i)=>{var b,E,O,D;const o=e.currentInput;if(!o)return;const s=(b=o.getPointData())==null?void 0:b.getScalars();if(!s)return;const l=s.getNumberOfComponents();let c=Uw(o,s);const f=e._openGLRenderWindow.getGraphicsResourceForObject(s);if(!((E=f==null?void 0:f.oglObject)!=null&&E.getHandle())||(f==null?void 0:f.hash)!==c){e.openGLTexture=Zr.newInstance(),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const R=o.getDimensions();e.openGLTexture.setOglNorm16Ext(e.context.getExtension("EXT_texture_norm16")),e.openGLTexture.resetFormatAndType(),e.openGLTexture.create3DFilterableFromDataArray(R[0],R[1],R[2],s),e._openGLRenderWindow.setGraphicsResourceForObject(s,e.openGLTexture,c),s!==e._scalars&&(e._openGLRenderWindow.registerGraphicsResourceUser(s,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._scalars,t)),e._scalars=s}else e.openGLTexture=f.oglObject;const d=i.getProperty(),g=d.getIndependentComponents(),v=g?l:1,m=g?2*v:1,p=d.getRGBTransferFunction();c=f0(p,g,v);const h=e._openGLRenderWindow.getGraphicsResourceForObject(p);if(!((O=h==null?void 0:h.oglObject)!=null&&O.getHandle())||(h==null?void 0:h.hash)!==c){const I=1024*m*3,M=new Uint8ClampedArray(I);if(e.colorTexture=Zr.newInstance(),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),p){const A=new Float32Array(3072);for(let B=0;B<v;B++){const L=d.getRGBTransferFunction(B),F=L.getRange();if(L.getTable(F[0],F[1],1024,A,1),g)for(let _=0;_<1024*3;_++)M[B*1024*6+_]=255*A[_],M[B*1024*6+_+1024*3]=255*A[_];else for(let _=0;_<1024*3;_++)M[B*1024*6+_]=255*A[_]}e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(1024,m,3,qn.UNSIGNED_CHAR,M)}else{for(let A=0;A<1024*3;++A)M[A]=255*A/(1023*3),M[A+1]=255*A/(1023*3),M[A+2]=255*A/(1023*3);e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(1024,1,3,qn.UNSIGNED_CHAR,M)}p&&(e._openGLRenderWindow.setGraphicsResourceForObject(p,e.colorTexture,c),p!==e._colorTransferFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(p,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._colorTransferFunc,t)),e._colorTransferFunc=p)}else e.colorTexture=h.oglObject;const C=d.getPiecewiseFunction();c=f0(C,g,v);const x=e._openGLRenderWindow.getGraphicsResourceForObject(C);if(!((D=x==null?void 0:x.oglObject)!=null&&D.getHandle())||(x==null?void 0:x.hash)!==c){const I=1024*m,M=new Uint8ClampedArray(I);if(e.pwfTexture=Zr.newInstance(),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow),C){const A=new Float32Array(I),B=new Float32Array(1024);for(let L=0;L<v;++L){const F=d.getPiecewiseFunction(L);if(F===null)A.fill(1);else{const _=F.getRange();if(F.getTable(_[0],_[1],1024,B,1),g)for(let P=0;P<1024;P++)A[L*1024*2+P]=B[P],A[L*1024*2+P+1024]=B[P];else for(let P=0;P<1024;P++)A[L*1024*2+P]=B[P]}}e.pwfTexture.resetFormatAndType(),e.pwfTexture.create2DFromRaw(1024,m,1,qn.FLOAT,A)}else M.fill(255),e.pwfTexture.resetFormatAndType(),e.pwfTexture.create2DFromRaw(1024,1,1,qn.UNSIGNED_CHAR,M);C&&(e._openGLRenderWindow.setGraphicsResourceForObject(C,e.pwfTexture,c),C!==e._pwFunc&&(e._openGLRenderWindow.registerGraphicsResourceUser(C,t),e._openGLRenderWindow.unregisterGraphicsResourceUser(e._pwFunc,t)),e._pwFunc=C)}else e.pwfTexture=x.oglObject;const w=`${e.resliceGeom.getMTime()}A${e.renderable.getSlabThickness()}`;if(!e.tris.getCABO().getElementCount()||e.VBOBuildString!==w){const R=Bn.newInstance({numberOfComponents:3,values:e.resliceGeom.getPoints().getData()});R.setName("points");const I=Bn.newInstance({numberOfComponents:1,values:e.resliceGeom.getPolys().getData()}),M={points:R,cellOffset:0};if(e.renderable.getSlabThickness()>0){const A=e.resliceGeom.getPointData().getNormals();A?M.normals=A:du("Slab mode requested without normals")}e.tris.getCABO().createVBO(I,"polys",ns.SURFACE,M)}e.VBOBuildString=w,e.VBOBuildTime.modified()},t.updateShaders=(a,i,o)=>{if(e.lastBoundBO=a,t.getNeedToRebuildShaders(a,i,o)){const s={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(s,i,o);const l=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(s.Vertex,s.Fragment,s.Geometry);l!==a.getProgram()&&(a.setProgram(l),a.getVAO().releaseGraphicsResources()),a.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(a.getProgram());a.getVAO().bind(),t.setMapperShaderParameters(a,i,o),t.setCameraShaderParameters(a,i,o),t.setPropertyShaderParameters(a,i,o)},t.setMapperShaderParameters=(a,i,o)=>{const s=a.getProgram();if(a.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>a.getAttributeUpdateTime().getMTime()||a.getShaderSourceTime().getMTime()>a.getAttributeUpdateTime().getMTime())){s.isUniformUsed("texture1")&&s.setUniformi("texture1",e.openGLTexture.getTextureUnit()),s.isAttributeUsed("vertexWC")&&(a.getVAO().addAttributeArray(s,a.getCABO(),"vertexWC",a.getCABO().getVertexOffset(),a.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||du("Error setting vertexWC in shader VAO.")),s.isAttributeUsed("normalWC")&&(a.getVAO().addAttributeArray(s,a.getCABO(),"normalWC",a.getCABO().getNormalOffset(),a.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||du("Error setting normalWC in shader VAO.")),s.isUniformUsed("slabThickness")&&s.setUniformf("slabThickness",e.renderable.getSlabThickness()),s.isUniformUsed("spacing")&&s.setUniform3fv("spacing",e.currentInput.getSpacing()),s.isUniformUsed("slabType")&&s.setUniformi("slabType",e.renderable.getSlabType()),s.isUniformUsed("slabType")&&s.setUniformi("slabType",e.renderable.getSlabType()),s.isUniformUsed("slabTrapezoid")&&s.setUniformi("slabTrapezoid",e.renderable.getSlabTrapezoidIntegration());const c=a.getCABO().getCoordShiftAndScaleEnabled()?a.getCABO().getInverseShiftAndScaleMatrix():null;if(s.isUniformUsed("WCTCMatrix")){const f=e.currentInput,u=f.getDimensions();Ea(e.tmpMat4,f.getIndexToWorld()),La(e.tmpMat4,e.tmpMat4,[-.5,-.5,-.5]),ol(e.tmpMat4,e.tmpMat4,u),qa(e.tmpMat4,e.tmpMat4),c&&Zn(e.tmpMat4,e.tmpMat4,c),s.setUniformMatrix("WCTCMatrix",e.tmpMat4)}s.isUniformUsed("vboScaling")&&s.setUniform3fv("vboScaling",a.getCABO().getCoordScale()??[1,1,1]),a.getAttributeUpdateTime().modified()}if(e.haveSeenDepthRequest&&a.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),a.getProgram().isUniformUsed("coffset")){const l=t.getCoincidentParameters(i,o);a.getProgram().setUniformf("coffset",l.offset),a.getProgram().isUniformUsed("cfactor")&&a.getProgram().setUniformf("cfactor",l.factor)}},t.setCameraShaderParameters=(a,i,o)=>{const s=e._openGLCamera.getKeyMatrices(i),l=e._openGLImageSlice.getKeyMatrices(),f=a.getCABO().getCoordShiftAndScaleEnabled()?a.getCABO().getInverseShiftAndScaleMatrix():null,u=a.getProgram();u.isUniformUsed("MCPCMatrix")&&(Dn(e.tmpMat4),u.setUniformMatrix("MCPCMatrix",iM([s.wcpc,l.mcwc,f],i3,e.tmpMat4))),u.isUniformUsed("MCVCMatrix")&&(Dn(e.tmpMat4),u.setUniformMatrix("MCVCMatrix",iM([s.wcvc,l.mcwc,f],i3,e.tmpMat4)))},t.setPropertyShaderParameters=(a,i,o)=>{const s=a.getProgram(),l=o.getProperty(),c=l.getOpacity();s.setUniformf("opacity",c);const f=e.openGLTexture.getComponents(),u=l.getIndependentComponents();if(u)for(let m=0;m<f;++m)s.setUniformf(`mix${m}`,l.getComponentWeight(m));const d=e.openGLTexture.getVolumeInfo();for(let m=0;m<f;m++){let p=l.getColorWindow(),h=l.getColorLevel();const y=u?m:0,C=l.getRGBTransferFunction(y);if(C&&l.getUseLookupTableScalarRange()){const w=C.getRange();p=w[1]-w[0],h=.5*(w[1]+w[0])}const x=d.scale[m]/p,T=(d.offset[m]-h)/p+.5;s.setUniformf(`cshift${m}`,T),s.setUniformf(`cscale${m}`,x)}const g=e.colorTexture.getTextureUnit();s.setUniformi("colorTexture1",g);for(let m=0;m<f;m++){let p=1,h=0;const y=u?m:0,C=l.getPiecewiseFunction(y);if(C){const x=C.getRange(),T=x[1]-x[0],w=.5*(x[0]+x[1]);p=d.scale[m]/T,h=(d.offset[m]-w)/T+.5}s.setUniformf(`pwfshift${m}`,h),s.setUniformf(`pwfscale${m}`,p)}const v=e.pwfTexture.getTextureUnit();s.setUniformi("pwfTexture1",v),s.setUniform4fv("backgroundColor",e.renderable.getBackgroundColor())},t.getNeedToRebuildShaders=(a,i,o)=>{var g;const s=e.openGLTexture.getComponents(),l=o.getProperty().getIndependentComponents(),c=e.renderable.getSlabThickness(),f=e.renderable.getSlabType(),u=e.renderable.getSlabTrapezoidIntegration();let d=!1;return(!e.currentRenderPass&&e.lastRenderPassShaderReplacement||e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement)&&(d=!0),d||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||((g=a.getProgram())==null?void 0:g.getHandle())===0||e.lastTextureComponents!==s||e.lastIndependentComponents!==l||e.lastSlabThickness!==c||e.lastSlabType!==f||e.lastSlabTrapezoidIntegration!==u?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=s,e.lastIndependentComponents=l,e.lastSlabThickness=c,e.lastSlabType=f,e.lastSlabTrapezoidIntegration=u,!0):!1},t.getShaderTemplate=(a,i,o)=>{a.Vertex=W7e,a.Fragment=j7e,a.Geometry=""},t.replaceShaderValues=(a,i,o)=>{if(t.replaceShaderTCoord(a,i,o),t.replaceShaderPositionVC(a,i,o),e.haveSeenDepthRequest){let s=a.Fragment;s=Fe.substitute(s,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,s=Fe.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,a.Fragment=s}t.replaceShaderCoincidentOffset(a,i,o)},t.replaceShaderTCoord=(a,i,o)=>{let s=a.Vertex;const l=a.Geometry;let c=a.Fragment;const f=["uniform mat4 WCTCMatrix;","out vec3 fragTexCoord;"],u=e.renderable.getSlabThickness();s=Fe.substitute(s,"//VTK::TCoord::Dec",f).result;const d=["fragTexCoord = (WCTCMatrix * vertexWC).xyz;"];s=Fe.substitute(s,"//VTK::TCoord::Impl",d).result;const g=e.openGLTexture.getComponents(),v=o.getProperty().getIndependentComponents();let m=["in vec3 fragTexCoord;","uniform highp sampler3D texture1;","uniform mat4 WCTCMatrix;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;","uniform vec4 backgroundColor;"];if(v){for(let h=1;h<g;h++)m=m.concat([`uniform float cshift${h};`,`uniform float cscale${h};`,`uniform float pwfshift${h};`,`uniform float pwfscale${h};`]);switch(g){case 1:m=m.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:m=m.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:m=m.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:m=m.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:du("Unsupported number of independent coordinates.")}}u>0&&(m=m.concat(["uniform vec3 spacing;","uniform float slabThickness;","uniform int slabType;","uniform int slabTrapezoid;","uniform vec3 vboScaling;"]),m=m.concat(["vec4 compositeValue(vec4 currVal, vec4 valToComp, int trapezoid)","{","  vec4 retVal = vec4(1.0);","  if (slabType == 0) // min","  {","    retVal = min(currVal, valToComp);","  }","  else if (slabType == 1) // max","  {","    retVal = max(currVal, valToComp);","  }","  else if (slabType == 3) // sum","  {","    retVal = currVal + (trapezoid > 0 ? 0.5 * valToComp : valToComp); ","  }","  else // mean","  {","    retVal = currVal + (trapezoid > 0 ? 0.5 * valToComp : valToComp); ","  }","  return retVal;","}"])),c=Fe.substitute(c,"//VTK::TCoord::Dec",m).result;let p=["if (any(greaterThan(fragTexCoord, vec3(1.0))) || any(lessThan(fragTexCoord, vec3(0.0))))","{","  // set the background color and exit","  gl_FragData[0] = backgroundColor;","  return;","}","vec4 tvalue = texture(texture1, fragTexCoord);"];if(u>0&&(p=p.concat(["// Get the first and last samples","int numSlices = 1;","float scaling = min(min(spacing.x, spacing.y), spacing.z) * 0.5;","vec3 normalxspacing = scaling * normalWCVSOutput;","float distTraveled = length(normalxspacing);","int trapezoid = 0;","while (distTraveled < slabThickness * 0.5)","{","  distTraveled += length(normalxspacing);","  float fnumSlices = float(numSlices);","  if (distTraveled > slabThickness * 0.5)","  {","    // Before stepping outside the slab, sample at the boundaries","    normalxspacing = normalWCVSOutput * slabThickness * 0.5 / fnumSlices;","    trapezoid = slabTrapezoid;","  }","  vec3 fragTCoordNeg = (WCTCMatrix * vec4(vertexWCVSOutput.xyz - fnumSlices * normalxspacing * vboScaling, 1.0)).xyz;","  if (!any(greaterThan(fragTCoordNeg, vec3(1.0))) && !any(lessThan(fragTCoordNeg, vec3(0.0))))","  {","    vec4 newVal = texture(texture1, fragTCoordNeg);","    tvalue = compositeValue(tvalue, newVal, trapezoid);","    numSlices += 1;","  }","  vec3 fragTCoordPos = (WCTCMatrix * vec4(vertexWCVSOutput.xyz + fnumSlices * normalxspacing * vboScaling, 1.0)).xyz;","  if (!any(greaterThan(fragTCoordNeg, vec3(1.0))) && !any(lessThan(fragTCoordNeg, vec3(0.0))))","  {","    vec4 newVal = texture(texture1, fragTCoordPos);","    tvalue = compositeValue(tvalue, newVal, trapezoid);","    numSlices += 1;","  }","}","// Finally, if slab type is *mean*, divide the sum by the numSlices","if (slabType == 2)","{","  tvalue = tvalue / float(numSlices);","}"])),v){const h=["r","g","b","a"];for(let y=0;y<g;++y)p=p.concat([`vec3 tcolor${y} = mix${y} * texture2D(colorTexture1, vec2(tvalue.${h[y]} * cscale${y} + cshift${y}, height${y})).rgb;`,`float compWeight${y} = mix${y} * texture2D(pwfTexture1, vec2(tvalue.${h[y]} * pwfscale${y} + pwfshift${y}, height${y})).r;`]);switch(g){case 1:p=p.concat(["gl_FragData[0] = vec4(tcolor0.rgb, compWeight0 * opacity);"]);break;case 2:p=p.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:p=p.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:p=p.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:du("Unsupported number of independent coordinates.")}}else switch(g){case 1:p=p.concat(["// Dependent components","float intensity = tvalue.r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]);break;case 2:p=p.concat(["float intensity = tvalue.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tvalue.g + pwfshift0);"]);break;case 3:p=p.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]);break;default:p=p.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"])}c=Fe.substitute(c,"//VTK::TCoord::Impl",p).result,a.Vertex=s,a.Fragment=c,a.Geometry=l},t.replaceShaderPositionVC=(a,i,o)=>{let s=a.Vertex;const l=a.Geometry;let c=a.Fragment;const f=e.renderable.getSlabThickness();let u=["attribute vec4 vertexWC;"];u=u.concat([`//${t.getMTime()}${e.resliceGeomUpdateString}`]),f>0&&(u=u.concat(["attribute vec3 normalWC;","varying vec3 normalWCVSOutput;","varying vec4 vertexWCVSOutput;"])),s=Fe.substitute(s,"//VTK::PositionVC::Dec",u).result;let d=["gl_Position = MCPCMatrix * vertexWC;"];f>0&&(d=d.concat(["normalWCVSOutput = normalWC;","vertexWCVSOutput = vertexWC;"])),s=Fe.substitute(s,"//VTK::PositionVC::Impl",d).result,s=Fe.substitute(s,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result;let g=[];f>0&&(g=g.concat(["varying vec3 normalWCVSOutput;","varying vec4 vertexWCVSOutput;"])),c=Fe.substitute(c,"//VTK::PositionVC::Dec",g).result,a.Vertex=s,a.Geometry=l,a.Fragment=c};function r(a){Jo.normalize(a);const i=[0,0,0];for(let o=0;o<3;++o){N5e(i),i[o]=1;const s=Jo.dot(a,i);if(s<-.999999||s>.999999)return[!0,o]}return[!1,2]}t.updateResliceGeometry=()=>{var u;let a="";const i=e.currentInput,o=i==null?void 0:i.getBounds();let s=!0,l=2;const c=e.renderable.getSlicePolyData(),f=e.renderable.getSlicePlane();if(c)a=a.concat(`PolyData${c.getMTime()}`);else if(f){a=a.concat(`Plane${f.getMTime()}`);const d=dw();i&&(a=a.concat(`Image${i.getMTime()}`),UB(d,...i.getDirection()),Ip(d,d));const g=[...f.getNormal()];L2(g,g,d),[s,l]=r(g)}else{const d=Ii.newInstance();d.setNormal(0,0,1);let g=[0,1,0,1,0,1];i&&(g=o),d.setOrigin(g[0],g[2],.5*(g[5]+g[4])),e.renderable.setSlicePlane(d),a=a.concat(`Plane${f==null?void 0:f.getMTime()}`),i&&(a=a.concat(`Image${i.getMTime()}`))}if(!e.resliceGeom||e.resliceGeomUpdateString!==a){if(c)e.resliceGeom||(e.resliceGeom=Y0.newInstance()),e.resliceGeom.getPoints().setData(c.getPoints().getData(),3),e.resliceGeom.getPolys().setData(c.getPolys().getData(),1),e.resliceGeom.getPointData().setNormals(c.getPointData().getNormals());else if(f)if(s){const d=new Float32Array(12),g=i.worldToIndex(f.getOrigin(),[0,0,0]),v=[(l+1)%3,(l+2)%3].sort(),m=i.getSpatialExtent();let p=0;for(let T=0;T<2;++T)for(let w=0;w<2;++w)d[p+l]=g[l],d[p+v[0]]=m[2*v[0]+w],d[p+v[1]]=m[2*v[1]+T],p+=3;e.transform.setMatrix(i.getIndexToWorld()),e.transform.transformPoints(d,d);const h=new Uint16Array(8);h[0]=3,h[1]=0,h[2]=1,h[3]=3,h[4]=3,h[5]=0,h[6]=3,h[7]=2;const y=f.getNormal();Jo.normalize(y);const C=new Float32Array(12);for(let T=0;T<4;++T)C[3*T]=y[0],C[3*T+1]=y[1],C[3*T+2]=y[2];e.resliceGeom||(e.resliceGeom=Y0.newInstance()),e.resliceGeom.getPoints().setData(d,3),e.resliceGeom.getPolys().setData(h,1);const x=Bn.newInstance({numberOfComponents:3,values:C,name:"Normals"});e.resliceGeom.getPointData().setNormals(x)}else{e.outlineFilter.setInputData(i),e.cutter.setInputConnection(e.outlineFilter.getOutputPort()),e.cutter.setCutFunction(f),e.lineToSurfaceFilter.setInputConnection(e.cutter.getOutputPort()),e.lineToSurfaceFilter.update(),e.resliceGeom||(e.resliceGeom=Y0.newInstance());const d=e.lineToSurfaceFilter.getOutputData();e.resliceGeom.getPoints().setData(d.getPoints().getData(),3),e.resliceGeom.getPolys().setData(d.getPolys().getData(),1),e.resliceGeom.getPointData().setNormals(d.getPointData().getNormals());const g=f.getNormal(),v=e.resliceGeom.getNumberOfPoints();Jo.normalize(g);const m=new Float32Array(v*3);for(let h=0;h<v;++h)m[3*h]=g[0],m[3*h+1]=g[1],m[3*h+2]=g[2];const p=Bn.newInstance({numberOfComponents:3,values:m,name:"Normals"});e.resliceGeom.getPointData().setNormals(p)}else du("Something went wrong.","A default slice plane should have been created in the beginning of","updateResliceGeometry.");e.resliceGeomUpdateString=a,(u=e.resliceGeom)==null||u.modified()}},t.setOpenGLTexture=a=>{a&&(e.openGLTexture=a,e._externalOpenGLTexture=!0)},t.delete=Ep(()=>{e._openGLRenderWindow&&n(e._openGLRenderWindow)},t.delete)}const q7e={VBOBuildTime:{},VBOBuildString:null,haveSeenDepthRequest:!1,lastHaveSeenDepthRequest:!1,lastIndependentComponents:!1,lastTextureComponents:0,lastSlabThickness:0,lastSlabTrapezoidIntegration:0,lastSlabType:-1,openGLTexture:null,colorTextureString:null,pwfTextureString:null,resliceGeom:null,resliceGeomUpdateString:null,tris:null,colorTexture:null,pwfTexture:null,_externalOpenGLTexture:!1};function K7e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,q7e,n),Va.extend(t,e,n),Mc.implementReplaceShaderCoincidentOffset(t,e,n),Mc.implementBuildShadersWithReplacements(t,e,n),e.tris=Uc.newInstance(),e.openGLTexture=null,e.colorTexture=null,e.pwfTexture=null,e.VBOBuildTime={},ea(e.VBOBuildTime),e.tmpMat4=Dn(new Float64Array(16)),e.outlineFilter=U7e.newInstance(),e.outlineFilter.setGenerateFaces(!0),e.outlineFilter.setGenerateLines(!1),e.cubePolyData=Y0.newInstance(),e.cutter=A7e.newInstance(),e.lineToSurfaceFilter=E7e.newInstance(),e.transform=z7e.newInstance(),Zi(t,e,["openGLTexture"]),H7e(t,e)}const Q7e=Vr(K7e,"vtkOpenGLImageResliceMapper");di("vtkImageResliceMapper",Q7e);const nj=Object.create(null);function fg(t,e){nj[t]=e}function X7e(t,e){e.classHierarchy.push("vtkWebGPUViewNodeFactory")}const Y7e={};function Z7e(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Y7e,n),e.overrides=nj,uw.extend(t,e,n),X7e(t,e)}ne.newInstance(Z7e,"vtkWebGPUViewNodeFactory");function J7e(t,e){e.classHierarchy.push("vtkWebGPUCamera"),t.getProjectionMatrix=(n,r,a,i)=>{if(Dn(n),e.renderable.getParallelProjection()){const o=e.renderable.getParallelScale(),s=o*r,l=o,c=(i[0]-1)*s,f=(i[0]+1)*s,u=(i[1]-1)*l,d=(i[1]+1)*l,g=1/(f-c),v=1/(d-u);n[0]=2*g,n[5]=2*v,n[10]=1/(a[1]-a[0]),n[12]=(f+c)*g,n[13]=(d+u)*v,n[14]=a[1]/(a[1]-a[0])}else{const o=Math.tan(Math.PI*e.renderable.getViewAngle()/360);let s,l;e.renderable.getUseHorizontalViewAngle()===!0?(s=a[0]*o,l=a[0]*o/r):(s=a[0]*o*r,l=a[0]*o);const c=(i[0]-1)*s,f=(i[0]+1)*s,u=(i[1]-1)*l,d=(i[1]+1)*l;n[0]=2*a[0]/(f-c),n[5]=2*a[0]/(d-u),n[12]=(c+f)/(f-c),n[13]=(u+d)/(d-u),n[10]=0,n[14]=a[0],n[11]=-1,n[15]=0}},t.convertToOpenGLDepth=n=>{if(e.renderable.getParallelProjection())return 1-n;const r=e.renderable.getClippingRangeByReference();let a=-r[0]/n;return a=(r[0]+r[1])/(r[1]-r[0])+2*r[0]*r[1]/(a*(r[1]-r[0])),.5*a+.5},t.getKeyMatrices=n=>{const r=n.getRenderable(),a=n.getParent();if(Math.max(a.getMTime(),t.getMTime(),r.getMTime(),e.renderable.getMTime(),n.getStabilizedTime())>e.keyMatrixTime.getMTime()){const i=e.renderable.getViewMatrix();Ea(e.keyMatrices.normalMatrix,i),e.keyMatrices.normalMatrix[3]=0,e.keyMatrices.normalMatrix[7]=0,e.keyMatrices.normalMatrix[11]=0,qa(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),tr(e.keyMatrices.wcvc,i);const o=n.getStabilizedCenterByReference();La(e.keyMatrices.scvc,e.keyMatrices.wcvc,o);const s=n.getAspectRatio(),l=e.renderable.getClippingRangeByReference();t.getProjectionMatrix(e.keyMatrices.vcpc,s,l,e.renderable.getWindowCenterByReference()),Zn(e.keyMatrices.scpc,e.keyMatrices.vcpc,e.keyMatrices.scvc),qa(e.keyMatrices.pcsc,e.keyMatrices.scpc),e.keyMatrixTime.modified()}return e.keyMatrices}}const eTe={keyMatrixTime:null,keyMatrices:null};function tTe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,eTe,n),Va.extend(t,e,n),e.keyMatrixTime={},ne.obj(e.keyMatrixTime),e.keyMatrices={normalMatrix:new Float64Array(16),vcpc:new Float64Array(16),pcsc:new Float64Array(16),wcvc:new Float64Array(16),scpc:new Float64Array(16),scvc:new Float64Array(16)},ne.setGet(t,e,["keyMatrixTime"]),J7e(t,e)}const nTe=ne.newInstance(tTe);fg("vtkCamera",nTe);function rTe(t,e){e.classHierarchy.push("vtkWebGPUBindGroup"),t.setBindables=n=>{if(e.bindables.length===n.length){let r=!0;for(let a=0;a<e.bindables.length;a++)e.bindables[a]!==n[a]&&(r=!1);if(r)return}e.bindables=n,t.modified()},t.getBindGroupLayout=n=>{const r=[];for(let a=0;a<e.bindables.length;a++){const i=e.bindables[a].getBindGroupLayoutEntry();i.binding=a,r.push(i)}return n.getBindGroupLayout({entries:r})},t.getBindGroup=n=>{let r=t.getMTime();for(let i=0;i<e.bindables.length;i++){const o=e.bindables[i].getBindGroupTime().getMTime();r=o>r?o:r}if(r<e.bindGroupTime.getMTime())return e.bindGroup;const a=[];for(let i=0;i<e.bindables.length;i++){const o=e.bindables[i].getBindGroupEntry();o.binding=i,a.push(o)}return e.bindGroup=n.getHandle().createBindGroup({layout:t.getBindGroupLayout(n),entries:a,label:e.label}),e.bindGroupTime.modified(),e.bindGroup},t.getShaderCode=n=>{const r=[],a=n.getBindGroupLayoutCount(e.label);for(let i=0;i<e.bindables.length;i++)r.push(e.bindables[i].getShaderCode(i,a));return r.join(`
`)}}const aTe={device:null,handle:null,label:null};function rj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,aTe,n),ne.obj(t,e),e.bindables=[],e.bindGroupTime={},ne.obj(e.bindGroupTime,{mtime:0}),ne.get(t,e,["bindGroupTime","handle","sizeInBytes","usage"]),ne.setGet(t,e,["label","device","arrayInformation"]),rTe(t,e)}const iTe=ne.newInstance(rj);var aj={newInstance:iTe,extend:rj};function oTe(t,e){e.classHierarchy.push("vtkWebGPUShaderModule"),t.initialize=(n,r)=>{e.device=n,e.handle=e.device.getHandle().createShaderModule({code:r.getCode()})}}const sTe={device:null,handle:null};function ij(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sTe,n),ne.obj(t,e),ne.get(t,e,["lastCameraMTime"]),ne.setGet(t,e,["device","handle"]),oTe(t,e)}const lTe=ne.newInstance(ij,"vtkWebGPUShaderModule");var cTe={newInstance:lTe,extend:ij};function uTe(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const a=Array.isArray(n)?n.join(`
`):n;let i=!1;t.search(e)!==-1&&(i=!0);let o="";r&&(o="g");const s=new RegExp(e,o),l=t.replace(s,a);return{replace:i,result:l}}function fTe(t,e){e.classHierarchy.push("vtkWebGPUShaderCache"),t.getShaderModule=n=>{const r=n.getType(),a=n.getHash(),i=e._shaderModules.keys();for(let s=0;s<i.length;s++){const l=i[s];if(l.getHash()===a&&l.getType()===r)return e._shaderModules.get(l)}const o=cTe.newInstance();return o.initialize(e.device,n),e._shaderModules.set(n,o),o}}const dTe={shaderModules:null,device:null,window:null};function oj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,dTe,n),e._shaderModules=new Map,ne.obj(t,e),ne.setGet(t,e,["device","window"]),fTe(t,e)}const gTe=ne.newInstance(oj,"vtkWebGPUShaderCache");var Do={newInstance:gTe,extend:oj,substitute:uTe};function mTe(t,e){e.classHierarchy.push("vtkWebGPUPipeline"),t.getShaderDescriptions=()=>e.shaderDescriptions,t.initialize=(n,r)=>{e.pipelineDescription=e.renderEncoder.getPipelineSettings(),e.pipelineDescription.primitive.topology=e.topology,e.pipelineDescription.vertex=e.vertexState,e.pipelineDescription.label=r;const a=[];for(let i=0;i<e.layouts.length;i++)a.push(e.layouts[i].layout);e.pipelineLayout=n.getHandle().createPipelineLayout({bindGroupLayouts:a}),e.pipelineDescription.layout=e.pipelineLayout;for(let i=0;i<e.shaderDescriptions.length;i++){const o=e.shaderDescriptions[i],s=n.getShaderModule(o);o.getType()==="vertex"&&(e.pipelineDescription.vertex.module=s.getHandle(),e.pipelineDescription.vertex.entryPoint="main"),o.getType()==="fragment"&&(e.pipelineDescription.fragment.module=s.getHandle(),e.pipelineDescription.fragment.entryPoint="main")}e.handle=n.getHandle().createRenderPipeline(e.pipelineDescription)},t.getShaderDescription=n=>{for(let r=0;r<e.shaderDescriptions.length;r++)if(e.shaderDescriptions[r].getType()===n)return e.shaderDescriptions[r];return null},t.addBindGroupLayout=n=>{n&&e.layouts.push({layout:n.getBindGroupLayout(e.device),label:n.getLabel()})},t.getBindGroupLayout=n=>e.layouts[n].layout,t.getBindGroupLayoutCount=n=>{for(let r=0;r<e.layouts.length;r++)if(e.layouts[r].label===n)return r;return 0},t.bindVertexInput=(n,r)=>{r.bindBuffers(n)}}const vTe={handle:null,layouts:null,renderEncoder:null,shaderDescriptions:null,vertexState:null,topology:null,pipelineDescription:null};function sj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vTe,n),ea(t,e),e.layouts=[],e.shaderDescriptions=[],Zi(t,e,["handle","pipelineDescription"]),Ka(t,e,["device","renderEncoder","topology","vertexState"]),mTe(t,e)}const pTe=Vr(sj,"vtkWebGPUPipeline");var hTe={newInstance:pTe,extend:sj};function STe(t,e){e.classHierarchy.push("vtkWebGPUShaderDescription"),t.hasOutput=n=>e.outputNames.includes(n),t.addOutput=function(n,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;e.outputTypes.push(n),e.outputNames.push(r),e.outputInterpolations.push(a)},t.addBuiltinOutput=(n,r)=>{e.builtinOutputTypes.push(n),e.builtinOutputNames.push(r)},t.addBuiltinInput=(n,r)=>{e.builtinInputTypes.push(n),e.builtinInputNames.push(r)},t.replaceShaderCode=(n,r)=>{const a=[];let i=[];if(r&&a.push(r.getShaderCode()),n||e.builtinInputNames.length){const o=[];if(o.push(`struct ${e.type}Input
{`),n){const s=n.getOutputNamesByReference(),l=n.getOutputTypesByReference(),c=n.getOutputInterpolationsByReference();for(let f=0;f<s.length;f++)c[f]!==void 0?o.push(`  @location(${f}) @interpolate(${c[f]}) ${s[f]} : ${l[f]},`):o.push(`  @location(${f}) ${s[f]} : ${l[f]},`)}for(let s=0;s<e.builtinInputNames.length;s++)o.push(`  ${e.builtinInputNames[s]} : ${e.builtinInputTypes[s]},`);o.length>1&&(o.push("};"),i=o,a[a.length-1]+=",",a.push(`input: ${e.type}Input`))}if(a.length&&(e.code=Do.substitute(e.code,"//VTK::IOStructs::Input",a).result),e.outputNames.length+e.builtinOutputNames.length){const o=[`struct ${e.type}Output
{`];for(let s=0;s<e.outputNames.length;s++)e.outputInterpolations[s]!==void 0?o.push(`  @location(${s}) @interpolate(${e.outputInterpolations[s]}) ${e.outputNames[s]} : ${e.outputTypes[s]},`):o.push(`  @location(${s}) ${e.outputNames[s]} : ${e.outputTypes[s]},`);for(let s=0;s<e.builtinOutputNames.length;s++)o.push(`  ${e.builtinOutputNames[s]} : ${e.builtinOutputTypes[s]},`);o.push("};"),i=i.concat(o),e.code=Do.substitute(e.code,"//VTK::IOStructs::Output",[`-> ${e.type}Output`]).result}e.code=Do.substitute(e.code,"//VTK::IOStructs::Dec",i).result}}const yTe={type:null,hash:null,code:null,outputNames:null,outputTypes:null};function lj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,yTe,n),e.outputNames=[],e.outputTypes=[],e.outputInterpolations=[],e.builtinOutputNames=[],e.builtinOutputTypes=[],e.builtinInputNames=[],e.builtinInputTypes=[],ne.obj(t,e),ne.setGet(t,e,["type","hash","code"]),ne.getArray(t,e,["outputTypes","outputNames","outputInterpolations"]),STe(t,e)}const CTe=ne.newInstance(lj,"vtkWebGPUShaderDescription");var oM={newInstance:CTe,extend:lj};const sM={r8unorm:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"float"},r8snorm:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1,sampleType:"float"},r8uint:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"uint"},r8sint:{numComponents:1,nativeType:Int8Array,stride:1,elementSize:1,sampleType:"sint"},r16uint:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2,sampleType:"uint"},r16sint:{numComponents:1,nativeType:Int16Array,stride:2,elementSize:2,sampleType:"sint"},r16float:{numComponents:1,nativeType:Float32Array,stride:2,elementSize:2,sampleType:"float"},rg8unorm:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1,sampleType:"float"},rg8snorm:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1,sampleType:"float"},rg8uint:{numComponents:2,nativeType:Uint8Array,stride:2,elementSize:1,sampleType:"uint"},rg8sint:{numComponents:2,nativeType:Int8Array,stride:2,elementSize:1,sampleType:"sint"},r32uint:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:4,sampleType:"uint"},r32sint:{numComponents:1,nativeType:Int32Array,stride:4,elementSize:4,sampleType:"sint"},r32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4,sampleType:"unfilterable-float"},rg16uint:{numComponents:2,nativeType:Uint16Array,stride:4,elementSize:2,sampleType:"uint"},rg16sint:{numComponents:2,nativeType:Int16Array,stride:4,elementSize:2,sampleType:"sint"},rg16float:{numComponents:2,nativeType:Float32Array,stride:4,elementSize:2,sampleType:"float"},rgba8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},"rgba8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},rgba8snorm:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1,sampleType:"float"},rgba8uint:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"uint"},rgba8sint:{numComponents:4,nativeType:Int8Array,stride:4,elementSize:1,sampleType:"sint"},bgra8unorm:{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},"bgra8unorm-srgb":{numComponents:4,nativeType:Uint8Array,stride:4,elementSize:1,sampleType:"float"},rgb9e5ufloat:{numComponents:4,nativeType:Uint32Array,stride:4,sampleType:"float"},rgb10a2unorm:{numComponents:4,nativeType:Uint32Array,stride:4,sampleType:"float"},rg11b10ufloat:{numComponents:4,nativeType:Float32Array,stride:4,sampleType:"float"},rg32uint:{numComponents:2,nativeType:Uint32Array,stride:8,elementSize:4,sampleType:"uint"},rg32sint:{numComponents:2,nativeType:Int32Array,stride:8,elementSize:4,sampleType:"sint"},rg32float:{numComponents:2,nativeType:Float32Array,stride:8,elementSize:4,sampleType:"unfilterable-float"},rgba16uint:{numComponents:4,nativeType:Uint16Array,stride:8,elementSize:2,sampleType:"uint"},rgba16sint:{numComponents:4,nativeType:Int16Array,stride:8,elementSize:2,sampleType:"sint"},rgba16float:{numComponents:4,nativeType:Float32Array,stride:8,elementSize:2,sampleType:"float"},rgba32uint:{numComponents:4,nativeType:Uint32Array,stride:16,elementSize:4,sampleType:"uint"},rgba32sint:{numComponents:4,nativeType:Int32Array,stride:16,elementSize:4,sampleType:"sint"},rgba32float:{numComponents:4,nativeType:Float32Array,stride:16,elementSize:4,sampleType:"unfilterable-float"},stencil8:{numComponents:1,nativeType:Uint8Array,stride:1,elementSize:1,sampleType:"uint"},depth16unorm:{numComponents:1,nativeType:Uint16Array,stride:2,elementSize:2,sampleType:"depth"},depth24plus:{numComponents:1,nativeType:Uint32Array,stride:4,elementSize:3,sampleType:"depth"},"depth24plus-stencil8":{numComponents:2,nativeType:Uint32Array,stride:4,sampleType:"mixed"},depth32float:{numComponents:1,nativeType:Float32Array,stride:4,elementSize:4,sampleType:"depth"}};function xTe(t){return!t||t.length<6?0:t in sM?sM[t]:(Yn(`unknown format ${t}`),null)}function TTe(t){if(!t||t.length<5)return 0;let e=1;t[t.length-2]==="x"&&(e=Number(t[t.length-1]));const n=e===1?t.length-1:t.length-3,r=Number(t[n]);if(Number.isNaN(r))return Yn(`unknown format ${t}`),0;const a=5-r/2;return e*a}function wTe(t){if(!t||t.length<5)return 0;let e=1;return t[t.length-2]==="x"&&(e=Number(t[t.length-1])),e}function bTe(t){if(!t||t.length<5)return 0;let e;if(t[0]==="f")e="Float";else if(t[0]==="s")e="Int";else if(t[0]==="u")e="Uint";else{Yn(`unknown format ${t}`);return}const n=t.split("x")[0],r=Number(n[n.length-1]);if(Number.isNaN(r)){Yn(`unknown format ${t}`);return}return e+=8*(5-r/2),e+="Array",e}function ETe(t){let e;if(t[0]==="f"||t[1]==="n")e="f32";else if(t[0]==="s"&&t[1]==="i")e="i32";else if(t[0]==="u"&&t[1]==="i")e="u32";else{Yn(`unknown format ${t}`);return}let n=1;return t[t.length-2]==="x"&&(n=Number(t[t.length-1])),n===4?`vec4<${e}>`:n===3?`vec3<${e}>`:n===2?`vec2<${e}>`:e}function DTe(t){if(!t)return 0;let e=1;return t.substring(0,3)==="vec"?e=Number(t[3]):t.substring(0,3)==="mat"&&(e=t[3]*t[5]),e*4}function OTe(t){if(t){if(t.includes("f32"))return"Float32Array";if(t.includes("i32"))return"Int32Array";if(t.includes("u32"))return"Uint32Array";Yn(`unknown format ${t}`)}}var e0={getDetailsFromTextureFormat:xTe,getByteStrideFromBufferFormat:TTe,getNumberOfComponentsFromBufferFormat:wTe,getNativeTypeFromBufferFormat:bTe,getShaderTypeFromBufferFormat:ETe,getByteStrideFromShaderFormat:DTe,getNativeTypeFromShaderFormat:OTe};function RTe(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!e.includes(t[n]))return!1;return!0}function ITe(t,e){e.classHierarchy.push("vtkWebGPUVertexInput"),t.addBuffer=function(n,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"vertex",i=r;Array.isArray(i)||(i=[i]);for(let o=0;o<e.inputs.length;o++)if(RTe(e.inputs[o].names,i)){if(e.inputs[o].buffer===n)return;e.inputs[o].buffer=n;return}e.inputs.push({buffer:n,stepMode:a,names:i}),e.inputs=e.inputs.sort((o,s)=>o.names[0]<s.names[0]?-1:o.names[0]>s.names[0]?1:0)},t.removeBufferIfPresent=n=>{for(let r=0;r<e.inputs.length;r++)e.inputs[r].names.includes(n)&&e.inputs.splice(r,1)},t.getBuffer=n=>{for(let r=0;r<e.inputs.length;r++)if(e.inputs[r].names.includes(n))return e.inputs[r].buffer;return null},t.hasAttribute=n=>{for(let r=0;r<e.inputs.length;r++)if(e.inputs[r].names.includes(n))return!0;return!1},t.getAttributeTime=n=>{for(let r=0;r<e.inputs.length;r++)if(e.inputs[r].names.includes(n))return e.inputs[r].buffer.getSourceTime();return 0},t.getShaderCode=()=>{let n="",r=0;for(let a=0;a<e.inputs.length;a++)for(let i=0;i<e.inputs[a].names.length;i++){const o=e.inputs[a].buffer.getArrayInformation()[i],s=e0.getShaderTypeFromBufferFormat(o.format);r>0&&(n+=`,
`),n=`${n}  @location(${r}) ${e.inputs[a].names[i]} : ${s}`,r++}return n},t.getVertexInputInformation=()=>{const n={};if(e.inputs.length){const r=[];let a=0;for(let i=0;i<e.inputs.length;i++){const o=e.inputs[i].buffer,s={arrayStride:o.getStrideInBytes(),stepMode:e.inputs[i].stepMode,attributes:[]},l=o.getArrayInformation();for(let c=0;c<e.inputs[i].names.length;c++)s.attributes.push({shaderLocation:a,offset:l[c].offset,format:l[c].format}),a++;r.push(s)}n.buffers=r}return n},t.bindBuffers=n=>{for(let r=0;r<e.inputs.length;r++)n.setVertexBuffer(r,e.inputs[r].buffer.getHandle());e.indexBuffer&&n.setIndexBuffer(e.indexBuffer.getHandle(),e.indexBuffer.getArrayInformation()[0].format)},t.getReady=()=>{},t.releaseGraphicsResources=()=>{e.created&&(e.inputs=[],e.bindingDescriptions=[],e.attributeDescriptions=[])}}const ATe={inputs:null,bindingDescriptions:!1,attributeDescriptions:null,indexBuffer:null};function cj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ATe,n),ea(t,e),e.bindingDescriptions=[],e.attributeDescriptions=[],e.inputs=[],Ka(t,e,["created","device","handle","indexBuffer"]),ITe(t,e)}const MTe=Vr(cj,"vtkWebGPUVertexInput");var PTe={newInstance:MTe,extend:cj};const LTe=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@vertex
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : vertexOutput;

  // var vertex: vec4<f32> = vertexBC;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  //VTK::Position::Impl

  return output;
}
`,_Te=`
//VTK::Renderer::Dec

//VTK::Color::Dec

//VTK::Normal::Dec

//VTK::TCoord::Dec

//VTK::Select::Dec

//VTK::RenderEncoder::Dec

//VTK::Mapper::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output : fragmentOutput;

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::Light::Impl

  //VTK::TCoord::Impl

  //VTK::Select::Impl

  // var computedColor:vec4<f32> = vec4<f32>(1.0,0.5,0.5,1.0);

  //VTK::RenderEncoder::Impl
  return output;
}
`;function NTe(t,e){e.classHierarchy.push("vtkWebGPUSimpleMapper"),t.generateShaderDescriptions=(n,r,a)=>{const i=oM.newInstance({type:"vertex",hash:n,code:e.vertexShaderTemplate}),o=oM.newInstance({type:"fragment",hash:n,code:e.fragmentShaderTemplate}),s=r.getShaderDescriptions();s.push(i),s.push(o);const l=e.vertexShaderTemplate+e.fragmentShaderTemplate,c=new RegExp("//VTK::[^:]*::","g"),u=l.match(c).filter((d,g,v)=>v.indexOf(d)===g).map(d=>`replaceShader${d.substring(7,d.length-2)}`);for(let d=0;d<u.length;d++){const g=u[d];g!=="replaceShaderIOStructs"&&e.shaderReplacements.has(g)&&e.shaderReplacements.get(g)(n,r,a)}t.replaceShaderIOStructs(n,r,a)},t.replaceShaderIOStructs=(n,r,a)=>{const i=r.getShaderDescription("vertex");i.replaceShaderCode(null,a),r.getShaderDescription("fragment").replaceShaderCode(i)},t.replaceShaderRenderEncoder=(n,r,a)=>{e.renderEncoder.replaceShaderCode(r)},e.shaderReplacements.set("replaceShaderRenderEncoder",t.replaceShaderRenderEncoder),t.replaceShaderRenderer=(n,r,a)=>{if(!e.WebGPURenderer)return;const i=e.WebGPURenderer.getBindGroup().getShaderCode(r),o=r.getShaderDescription("vertex");let s=o.getCode();s=Do.substitute(s,"//VTK::Renderer::Dec",[i]).result,o.setCode(s);const l=r.getShaderDescription("fragment");s=l.getCode(),s=Do.substitute(s,"//VTK::Renderer::Dec",[i]).result,l.setCode(s)},e.shaderReplacements.set("replaceShaderRenderer",t.replaceShaderRenderer),t.replaceShaderMapper=(n,r,a)=>{const i=e.bindGroup.getShaderCode(r),o=r.getShaderDescription("vertex");let s=o.getCode();s=Do.substitute(s,"//VTK::Mapper::Dec",[i]).result,o.setCode(s);const l=r.getShaderDescription("fragment");l.addBuiltinInput("bool","@builtin(front_facing) frontFacing"),s=l.getCode(),s=Do.substitute(s,"//VTK::Mapper::Dec",[i]).result,l.setCode(s)},e.shaderReplacements.set("replaceShaderMapper",t.replaceShaderMapper),t.replaceShaderPosition=(n,r,a)=>{const i=r.getShaderDescription("vertex");i.addBuiltinOutput("vec4<f32>","@builtin(position) Position");let o=i.getCode();o=Do.substitute(o,"//VTK::Position::Impl",["    output.Position = rendererUBO.SCPCMatrix*vertexBC;"]).result,i.setCode(o)},e.shaderReplacements.set("replaceShaderPosition",t.replaceShaderPosition),t.replaceShaderTCoord=(n,r,a)=>{r.getShaderDescription("vertex").addOutput("vec2<f32>","tcoordVS")},e.shaderReplacements.set("replaceShaderTCoord",t.replaceShaderTCoord),t.addTextureView=n=>{e.textureViews.includes(n)||e.textureViews.push(n)},t.prepareToDraw=n=>{e.renderEncoder=n,t.updateInput(),t.updateBuffers(),t.updateBindings(),t.updatePipeline()},t.updateInput=()=>{},t.updateBuffers=()=>{},t.updateBindings=()=>{e.bindGroup.setBindables(t.getBindables())},t.computePipelineHash=()=>{},t.registerDrawCallback=n=>{n.registerDrawCallback(e.pipeline,t.draw)},t.prepareAndDraw=n=>{t.prepareToDraw(n),n.setPipeline(e.pipeline),t.draw(n)},t.draw=n=>{const r=n.getBoundPipeline();n.activateBindGroup(e.bindGroup),e.WebGPURenderer&&e.WebGPURenderer.bindUBO(n),r.bindVertexInput(n,e.vertexInput);const a=e.vertexInput.getIndexBuffer();a?n.drawIndexed(a.getIndexCount(),e.numberOfInstances,0,0,0):n.draw(e.numberOfVertices,e.numberOfInstances,0,0)},t.getBindables=()=>{const n=[...e.additionalBindables];e.UBO&&n.push(e.UBO),e.SSBO&&n.push(e.SSBO);for(let r=0;r<e.textureViews.length;r++){n.push(e.textureViews[r]);const a=e.textureViews[r].getSampler();a&&n.push(a)}return n},t.updatePipeline=()=>{t.computePipelineHash(),e.pipeline=e.device.getPipeline(e.pipelineHash),e.pipeline||(e.pipeline=hTe.newInstance(),e.pipeline.setDevice(e.device),e.WebGPURenderer&&e.pipeline.addBindGroupLayout(e.WebGPURenderer.getBindGroup()),e.pipeline.addBindGroupLayout(e.bindGroup),t.generateShaderDescriptions(e.pipelineHash,e.pipeline,e.vertexInput),e.pipeline.setTopology(e.topology),e.pipeline.setRenderEncoder(e.renderEncoder),e.pipeline.setVertexState(e.vertexInput.getVertexInputInformation()),e.device.createPipeline(e.pipelineHash,e.pipeline))}}const FTe={additionalBindables:void 0,bindGroup:null,device:null,fragmentShaderTemplate:null,numberOfInstances:1,numberOfVertices:0,pipelineHash:null,shaderReplacements:null,SSBO:null,textureViews:null,topology:"triangle-list",UBO:null,vertexShaderTemplate:null,WebGPURenderer:null};function uj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,FTe,n),Va.extend(t,e,n),e.textureViews=[],e.vertexInput=PTe.newInstance(),e.bindGroup=aj.newInstance({label:"mapperBG"}),e.additionalBindables=[],e.fragmentShaderTemplate=e.fragmentShaderTemplate||_Te,e.vertexShaderTemplate=e.vertexShaderTemplate||LTe,e.shaderReplacements=new Map,ne.get(t,e,["pipeline","vertexInput"]),ne.setGet(t,e,["additionalBindables","device","fragmentShaderTemplate","interpolate","numberOfInstances","numberOfVertices","pipelineHash","shaderReplacements","SSBO","textureViews","topology","UBO","vertexShaderTemplate","WebGPURenderer"]),NTe(t,e)}const $Te=ne.newInstance(uj,"vtkWebGPUSimpleMapper");var VTe={newInstance:$Te,extend:uj};function kTe(t,e){e.classHierarchy.push("vtkWebGPUFullScreenQuad"),t.replaceShaderPosition=(n,r,a)=>{const i=r.getShaderDescription("vertex");i.addBuiltinOutput("vec4<f32>","@builtin(position) Position"),i.addOutput("vec4<f32>","vertexVC");let o=i.getCode();o=Do.substitute(o,"//VTK::Position::Impl",["output.tcoordVS = vec2<f32>(vertexBC.x * 0.5 + 0.5, 1.0 - vertexBC.y * 0.5 - 0.5);","output.Position = vec4<f32>(vertexBC, 1.0);","output.vertexVC = vec4<f32>(vertexBC, 1);"]).result,i.setCode(o)},e.shaderReplacements.set("replaceShaderPosition",t.replaceShaderPosition),t.updateBuffers=()=>{const n=e.device.getBufferManager().getFullScreenQuadBuffer();e.vertexInput.addBuffer(n,["vertexBC"]),e.numberOfVertices=6}}const UTe={};function fj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,UTe,n),VTe.extend(t,e,n),kTe(t,e)}const BTe=ne.newInstance(fj,"vtkWebGPUFullScreenQuad");var ax={newInstance:BTe,extend:fj};const GTe={Verts:0,Lines:1,Triangles:2,Strips:3,LinesFromStrips:4,LinesFromTriangles:5,Points:6,UniformArray:7,PointArray:8,NormalsFromPoints:9,Texture:10,RawVertex:11,Storage:12,Index:13},zTe={Start:0,Points:0,Lines:1,Triangles:2,TriangleStrips:3,TriangleEdges:4,TriangleStripEdges:5,End:6};var Lp={BufferUsage:GTe,PrimitiveTypes:zTe};const I8=["getMappedRange","mapAsync","unmap"];function WTe(t,e,n,r){const a=r.byteLength,i=t.createBuffer({size:a,usage:GPUBufferUsage.COPY_SRC,mappedAtCreation:!0}),o=i.getMappedRange(0,a);new Uint8Array(o).set(new Uint8Array(r)),i.unmap();const s=t.createCommandEncoder();s.copyBufferToBuffer(i,0,e,n,a);const l=s.finish();t.queue.submit([l]),i.destroy()}function jTe(t,e){e.classHierarchy.push("vtkWebGPUBuffer"),t.create=(n,r)=>{e.handle=e.device.getHandle().createBuffer({size:n,usage:r,label:e.label}),e.sizeInBytes=n,e.usage=r},t.write=n=>{WTe(e.device.getHandle(),e.handle,0,n.buffer)},t.createAndWrite=(n,r)=>{e.handle=e.device.getHandle().createBuffer({size:n.byteLength,usage:r,mappedAtCreation:!0,label:e.label}),e.sizeInBytes=n.byteLength,e.usage=r,new Uint8Array(e.handle.getMappedRange()).set(new Uint8Array(n.buffer)),e.handle.unmap()};for(let n=0;n<I8.length;n++)t[I8[n]]=function(){return e.handle[I8[n]](...arguments)}}const HTe={device:null,handle:null,sizeInBytes:0,strideInBytes:0,arrayInformation:null,usage:null,label:null,sourceTime:null};function dj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,HTe,n),ne.obj(t,e),ne.get(t,e,["handle","sizeInBytes","usage"]),ne.setGet(t,e,["strideInBytes","device","arrayInformation","label","sourceTime"]),jTe(t,e)}const qTe=ne.newInstance(dj);var ix={newInstance:qTe,extend:dj,...Lp};const{Representation:lM}=Ap,{PrimitiveTypes:Ql}=Lp;class KTe{constructor(){this.keys=new Uint32Array(10),this.values=new Uint32Array(10),this.count=0}clear(){this.count=0}has(e){for(let n=0;n<this.count;n++)if(this.keys[n]===e)return!0}get(e){for(let n=0;n<this.count;n++)if(this.keys[n]===e)return this.values[n]}set(e,n){this.count<9&&(this.keys[this.count]=e,this.values[this.count++]=n)}}function QTe(t){switch(t){case Ql.Points:return"points";case Ql.Lines:return"lines";case Ql.Triangles:case Ql.TriangleEdges:return"polys";case Ql.TriangleStripEdges:case Ql.TriangleStrips:return"strips";default:return""}}function kh(t,e,n){let r=t.pointIdToFlatId[e];return r<0&&(r=t.flatId,t.pointIdToFlatId[e]=r,t.flatIdToPointId[t.flatId]=e,t.flatIdToCellId[t.flatId]=n,t.flatId++),r}function XTe(t,e,n){const r=t.length;for(let o=0;o<r;o++){let s=t[o];if(n.cellProvokedMap.has(s)){n.ibo[n.iboId++]=n.cellProvokedMap.get(s);for(let l=o+1;l<o+r;l++){s=t[l%r];const c=kh(n,s,e);n.ibo[n.iboId++]=c}return}}for(let o=0;o<r;o++){let s=t[o];if(!n.provokedPointIds[s]){let l=kh(n,s,e);n.provokedPointIds[s]=1,n.cellProvokedMap.set(s,l),n.flatIdToCellId[l]=e,n.ibo[n.iboId++]=l;for(let c=o+1;c<o+r;c++)s=t[c%r],l=kh(n,s,e),n.ibo[n.iboId++]=l;return}}let a=t[0],i=n.flatId;n.cellProvokedMap.set(a,i),n.flatIdToPointId[n.flatId]=a,n.flatIdToCellId[n.flatId]=e,n.flatId++,n.ibo[n.iboId++]=i;for(let o=1;o<r;o++)a=t[o],i=kh(n,a,e),n.ibo[n.iboId++]=i}function YTe(t,e,n){const r=t.length;n.iboSize+=r;for(let a=0;a<r;a++){const i=t[a];if(n.cellProvokedMap.has(i))return}for(let a=0;a<r;a++){const i=t[a];if(!n.provokedPointIds[i]){n.provokedPointIds[i]=1,n.cellProvokedMap.set(i,1);return}}n.cellProvokedMap.set(t[0],1),n.extraPoints++}let P0;const cM=new Uint32Array(1),Ho=new Uint32Array(2),Nl=new Uint32Array(3),A8={anythingToPoints(t,e,n,r,a){for(let i=0;i<t;++i)cM[0]=e[n+i],P0(cM,r,a)},linesToWireframe(t,e,n,r,a){for(let i=0;i<t-1;++i)Ho[0]=e[n+i],Ho[1]=e[n+i+1],P0(Ho,r,a)},polysToWireframe(t,e,n,r,a){if(t>2)for(let i=0;i<t;++i)Ho[0]=e[n+i],Ho[1]=e[n+(i+1)%t],P0(Ho,r,a)},stripsToWireframe(t,e,n,r,a){if(t>2){for(let i=0;i<t-1;++i)Ho[0]=e[n+i],Ho[1]=e[n+i+1],P0(Ho,r,a);for(let i=0;i<t-2;i++)Ho[0]=e[n+i],Ho[1]=e[n+i+2],P0(Ho,r,a)}},polysToSurface(t,e,n,r,a){for(let i=0;i<t-2;i++)Nl[0]=e[n],Nl[1]=e[n+i+1],Nl[2]=e[n+i+2],P0(Nl,r,a)},stripsToSurface(t,e,n,r,a){for(let i=0;i<t-2;i++)Nl[0]=e[n+i],Nl[1]=e[n+i+1+i%2],Nl[2]=e[n+i+1+(i+1)%2],P0(Nl,r,a)}};function ZTe(t,e){e.classHierarchy.push("vtkWebGPUIndexBuffer"),t.buildIndexBuffer=n=>{const r=n.cells,a=n.primitiveType,i=n.representation,o=n.cellOffset,s=r.getData(),l=s.length,c=QTe(a),f=n.numberOfPoints,u={provokedPointIds:new Uint8Array(f),extraPoints:0,iboSize:0,flatId:0,iboId:0,cellProvokedMap:new KTe};let d=null;i===lM.POINTS||a===Ql.Points?d=A8.anythingToPoints:i===lM.WIREFRAME||a===Ql.Lines?d=A8[`${c}ToWireframe`]:d=A8[`${c}ToSurface`],P0=YTe;let g=o||0;for(let v=0;v<l;)u.cellProvokedMap.clear(),d(s[v],s,v+1,g,u),v+=s[v]+1,g++;f<=65535?u.flatIdToPointId=new Uint16Array(f+u.extraPoints):u.flatIdToPointId=new Uint32Array(f+u.extraPoints),f+u.extraPoints<36863?u.pointIdToFlatId=new Int16Array(f):u.pointIdToFlatId=new Int32Array(f),f+u.extraPoints<=65535?(u.ibo=new Uint16Array(u.iboSize),n.format="uint16"):(u.ibo=new Uint32Array(u.iboSize),n.format="uint32"),g<=65535?u.flatIdToCellId=new Uint16Array(f+u.extraPoints):u.flatIdToCellId=new Uint32Array(f+u.extraPoints),u.pointIdToFlatId.fill(-1),u.provokedPointIds.fill(0),P0=XTe,g=o||0;for(let v=0;v<l;)u.cellProvokedMap.clear(),d(s[v],s,v+1,g,u),v+=s[v]+1,g++;delete u.provokedPointIds,delete u.pointIdToFlatId,n.nativeArray=u.ibo,e.flatIdToPointId=u.flatIdToPointId,e.flatIdToCellId=u.flatIdToCellId,e.flatSize=u.flatId,e.indexCount=u.iboId}}const JTe={flatIdToPointId:null,flatIdToCellId:null,flatSize:0,indexCount:0};function gj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,JTe,n),ix.extend(t,e,n),ne.setGet(t,e,["flatIdToPointId","flatIdToCellId","flatSize","indexCount"]),ZTe(t,e)}const ewe=ne.newInstance(gj);var twe={newInstance:ewe,extend:gj,...Lp};const{BufferUsage:Fl}=Lp,{vtkErrorMacro:nwe}=Ni,{VtkDataTypes:gu}=Bn,rwe={};function awe(t){let e;switch(t.getDataType()){case gu.UNSIGNED_CHAR:e="uint8";break;case gu.FLOAT:e="float32";break;case gu.UNSIGNED_INT:e="uint32";break;case gu.INT:e="sint32";break;case gu.DOUBLE:e="float32";break;case gu.UNSIGNED_SHORT:e="uint16";break;case gu.SHORT:e="sin16";break;default:e="float32";break}switch(t.getNumberOfComponents()){case 2:e+="x2";break;case 3:e.includes("32")||nwe(`unsupported x3 type for ${e}`),e+="x3";break;case 4:e+="x4";break}return e}function uM(t,e,n,r,a){const i={},o=t.getFlatSize();if(!o)return i;let s=[0,0,0,0];a.shift&&(a.shift.length?s=a.shift:s.fill(a.shift));let l=[1,1,1,1];a.scale&&(a.scale.length?l=a.scale:l.fill(a.scale));const c=Object.prototype.hasOwnProperty.call(a,"packExtra")?a.packExtra:!1;let f,u=0;const d=n+(c?1:0),g=og(r,o*d);let v=t.getFlatIdToPointId();a.cellData&&(v=t.getFlatIdToCellId()),n===1?f=function(p){g[u++]=l[0]*e[p]+s[0]}:n===2?f=function(p){g[u++]=l[0]*e[p]+s[0],g[u++]=l[1]*e[p+1]+s[1]}:n===3&&!c?f=function(p){g[u++]=l[0]*e[p]+s[0],g[u++]=l[1]*e[p+1]+s[1],g[u++]=l[2]*e[p+2]+s[2]}:n===3&&c?f=function(p){g[u++]=l[0]*e[p]+s[0],g[u++]=l[1]*e[p+1]+s[1],g[u++]=l[2]*e[p+2]+s[2],g[u++]=l[3]*1+s[3]}:n===4&&(f=function(p){g[u++]=l[0]*e[p]+s[0],g[u++]=l[1]*e[p+1]+s[1],g[u++]=l[2]*e[p+2]+s[2],g[u++]=l[3]*e[p+3]+s[3]});for(let m=0;m<o;m++){const p=n*v[m];f(p)}return i.nativeArray=g,i}function iwe(t,e,n,r){const a=[t[r*3]-t[n*3],t[r*3+1]-t[n*3+1],t[r*3+2]-t[n*3+2]],i=[t[e*3]-t[n*3],t[e*3+1]-t[n*3+1],t[e*3+2]-t[n*3+2]],o=[];return u0(a,i,o),cf(o),o}function owe(t,e){const n=e.getData(),r=t.getData();if(!r||!n)return null;const a=new Int8Array(t.getNumberOfCells()*4),i=r.length;let o=0;for(let s=0;s<i;){const l=iwe(n,r[s+1],r[s+2],r[s+3]);a[o++]=127*l[0],a[o++]=127*l[1],a[o++]=127*l[2],a[o++]=127,s+=r[s]+1}return a}function swe(t,e){e.classHierarchy.push("vtkWebGPUBufferManager");function n(r){r.dataArray&&!r.nativeArray&&(r.nativeArray=r.dataArray.getData());let a,i;if(r.usage===Fl.Index&&(a=twe.newInstance({label:r.label}),a.setDevice(e.device),i=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_DST,a.buildIndexBuffer(r),a.createAndWrite(r.nativeArray,i),a.setArrayInformation([{format:r.format}])),a||(a=ix.newInstance({label:r.label}),a.setDevice(e.device)),r.usage===Fl.UniformArray&&(i=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,a.createAndWrite(r.nativeArray,i)),r.usage===Fl.Storage&&(i=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST,a.createAndWrite(r.nativeArray,i)),r.usage===Fl.Texture&&(i=GPUBufferUsage.COPY_SRC,a.createAndWrite(r.nativeArray,i)),r.usage===Fl.PointArray){i=GPUBufferUsage.VERTEX;const o=e0.getNativeTypeFromBufferFormat(r.format),s=uM(r.indexBuffer,r.dataArray.getData(),r.dataArray.getNumberOfComponents(),o,{packExtra:r.packExtra,shift:r.shift,scale:r.scale,cellData:r.cellData,cellOffset:r.cellOffset});a.createAndWrite(s.nativeArray,i),a.setStrideInBytes(e0.getByteStrideFromBufferFormat(r.format)),a.setArrayInformation([{offset:0,format:r.format,interpolation:r.cellData?"flat":"perspective"}])}if(r.usage===Fl.NormalsFromPoints){i=GPUBufferUsage.VERTEX;const o=e0.getNativeTypeFromBufferFormat(r.format),s=owe(r.cells,r.dataArray),l=uM(r.indexBuffer,s,4,o,{cellData:!0});a.createAndWrite(l.nativeArray,i),a.setStrideInBytes(e0.getByteStrideFromBufferFormat(r.format)),a.setArrayInformation([{offset:0,format:r.format,interpolation:"flat"}])}return r.usage===Fl.RawVertex&&(i=GPUBufferUsage.VERTEX,a.createAndWrite(r.nativeArray,i),a.setStrideInBytes(e0.getByteStrideFromBufferFormat(r.format)),a.setArrayInformation([{offset:0,format:r.format}])),a.setSourceTime(r.time),a}t.hasBuffer=r=>e.device.hasCachedObject(r),t.getBuffer=r=>r.hash?e.device.getCachedObject(r.hash,n,r):n(r),t.getBufferForPointArray=(r,a)=>{const i=awe(r),o={hash:`${r.getMTime()}I${a.getMTime()}${i}`,usage:Fl.PointArray,format:i,dataArray:r,indexBuffer:a};return t.getBuffer(o)},t.getFullScreenQuadBuffer=()=>{if(e.fullScreenQuadBuffer)return e.fullScreenQuadBuffer;e.fullScreenQuadBuffer=ix.newInstance(),e.fullScreenQuadBuffer.setDevice(e.device);const r=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,-1,0,1,1,0,-1,1,0]);return e.fullScreenQuadBuffer.createAndWrite(r,GPUBufferUsage.VERTEX),e.fullScreenQuadBuffer.setStrideInBytes(12),e.fullScreenQuadBuffer.setArrayInformation([{offset:0,format:"float32x3"}]),e.fullScreenQuadBuffer}}const lwe={device:null,fullScreenQuadBuffer:null};function mj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lwe,n),ea(t,e),Ka(t,e,["device"]),swe(t,e)}const cwe=Vr(mj);var vj={newInstance:cwe,extend:mj,...rwe,...Lp};const{BufferUsage:uwe}=vj,{vtkErrorMacro:Kf}=ne;function fwe(t,e){e.classHierarchy.push("vtkWebGPUStorageBuffer"),t.addEntry=(n,r)=>{if(e._bufferEntryNames.has(n)){Kf(`entry named ${n} already exists`);return}e._bufferEntryNames.set(n,e.bufferEntries.length);const a=e0.getByteStrideFromShaderFormat(r);e.bufferEntries.push({name:n,type:r,sizeInBytes:a,offset:e.sizeInBytes,nativeType:e0.getNativeTypeFromShaderFormat(r)}),e.sizeInBytes+=a},t.send=n=>{if(!e._buffer){const r={nativeArray:e.Float32Array,usage:uwe.Storage,label:e.label};e._buffer=n.getBufferManager().getBuffer(r),e.bindGroupTime.modified(),e._sendTime.modified();return}n.getHandle().queue.writeBuffer(e._buffer.getHandle(),0,e.arrayBuffer,0,e.sizeInBytes*e.numberOfInstances),e._sendTime.modified()},t.createView=n=>{n in e||(e.arrayBuffer||(e.arrayBuffer=new ArrayBuffer(e.sizeInBytes*e.numberOfInstances)),e[n]=ne.newTypedArray(n,e.arrayBuffer))},t.setValue=(n,r,a)=>{const i=e._bufferEntryNames.get(n);if(i===void 0){Kf(`entry named ${n} not found in UBO`);return}const o=e.bufferEntries[i];t.createView(o.nativeType);const s=e[o.nativeType];s[(o.offset+r*e.sizeInBytes)/s.BYTES_PER_ELEMENT]=a},t.setArray=(n,r,a)=>{const i=e._bufferEntryNames.get(n);if(i===void 0){Kf(`entry named ${n} not found in UBO`);return}const o=e.bufferEntries[i];t.createView(o.nativeType);const s=e[o.nativeType],l=(o.offset+r*e.sizeInBytes)/s.BYTES_PER_ELEMENT;for(let c=0;c<a.length;c++)s[l+c]=a[c]},t.setAllInstancesFromArray=(n,r)=>{const a=e._bufferEntryNames.get(n);if(a===void 0){Kf(`entry named ${n} not found in UBO`);return}const i=e.bufferEntries[a];t.createView(i.nativeType);const o=e[i.nativeType],s=r.length/e.numberOfInstances;for(let l=0;l<e.numberOfInstances;l++){const c=(i.offset+l*e.sizeInBytes)/o.BYTES_PER_ELEMENT;for(let f=0;f<s;f++)o[c+f]=r[l*s+f]}},t.setAllInstancesFromArrayColorToFloat=(n,r)=>{const a=e._bufferEntryNames.get(n);if(a===void 0){Kf(`entry named ${n} not found in UBO`);return}const i=e.bufferEntries[a];t.createView(i.nativeType);const o=e[i.nativeType],s=r.length/e.numberOfInstances;for(let l=0;l<e.numberOfInstances;l++){const c=(i.offset+l*e.sizeInBytes)/o.BYTES_PER_ELEMENT;for(let f=0;f<s;f++)o[c+f]=r[l*s+f]/255}},t.setAllInstancesFromArray3x3To4x4=(n,r)=>{const a=e._bufferEntryNames.get(n);if(a===void 0){Kf(`entry named ${n} not found in UBO`);return}const i=e.bufferEntries[a];t.createView(i.nativeType);const o=e[i.nativeType],s=9;for(let l=0;l<e.numberOfInstances;l++){const c=(i.offset+l*e.sizeInBytes)/o.BYTES_PER_ELEMENT;for(let f=0;f<3;f++)for(let u=0;u<3;u++)o[c+f*4+u]=r[l*s+f*3+u]}},t.getSendTime=()=>e._sendTime.getMTime(),t.getShaderCode=(n,r)=>{const a=[`struct ${e.label}StructEntry
{`];for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];a.push(`  ${o.name}: ${o.type},`)}return a.push(`
};
struct ${e.label}Struct
{
  values: array<${e.label}StructEntry>,
};
@binding(${n}) @group(${r}) var<storage, read> ${e.label}: ${e.label}Struct;
`),a.join(`
`)},t.getBindGroupEntry=()=>({resource:{buffer:e._buffer.getHandle()}}),t.clearData=()=>{e.numberOfInstances=0,e.sizeInBytes=0,e.bufferEntries=[],e._bufferEntryNames=new Map,e._buffer=null,delete e.arrayBuffer,delete e.Float32Array}}const dwe={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,label:null,numberOfInstances:1};function pj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,dwe,n),ne.obj(t,e),e._bufferEntryNames=new Map,e.bufferEntries=[],e._sendTime={},ne.obj(e._sendTime,{mtime:0}),e.bindGroupTime={},ne.obj(e.bindGroupTime,{mtime:0}),e.bindGroupLayoutEntry=e.bindGroupLayoutEntry||{buffer:{type:"read-only-storage"}},ne.get(t,e,["bindGroupTime"]),ne.setGet(t,e,["device","bindGroupLayoutEntry","label","numberOfInstances","sizeInBytes"]),fwe(t,e)}const gwe=ne.newInstance(pj,"vtkWebGPUStorageBuffer");var mwe={newInstance:gwe,extend:pj};const{BufferUsage:vwe}=vj,{vtkErrorMacro:M8}=ne;function pwe(t,e){e.classHierarchy.push("vtkWebGPUUniformBuffer"),t.addEntry=(n,r)=>{if(e._bufferEntryNames.has(n)){M8(`entry named ${n} already exists`);return}e.sortDirty=!0,e._bufferEntryNames.set(n,e.bufferEntries.length),e.bufferEntries.push({name:n,type:r,sizeInBytes:e0.getByteStrideFromShaderFormat(r),offset:-1,nativeType:e0.getNativeTypeFromShaderFormat(r),packed:!1})},t.sortBufferEntries=()=>{if(!e.sortDirty)return;let n=0;const r=[];let a=4;for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];o.sizeInBytes%16===0&&(a=Math.max(16,a)),o.sizeInBytes%8===0&&(a=Math.max(8,a))}for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];o.packed===!1&&o.sizeInBytes%16===0&&(o.packed=!0,o.offset=n,r.push(o),n+=o.sizeInBytes)}for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];if(o.packed===!1&&o.sizeInBytes===12)for(let s=0;s<e.bufferEntries.length;s++){const l=e.bufferEntries[s];if(l.packed===!1&&l.sizeInBytes===4){o.packed=!0,o.offset=n,r.push(o),n+=o.sizeInBytes,l.packed=!0,l.offset=n,r.push(l),n+=l.sizeInBytes;break}}}for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];if(!o.packed&&o.sizeInBytes%8===0)for(let s=i+1;s<e.bufferEntries.length;s++){const l=e.bufferEntries[s];if(!l.packed&&l.sizeInBytes%8===0){o.packed=!0,o.offset=n,r.push(o),n+=o.sizeInBytes,l.packed=!0,l.offset=n,r.push(l),n+=l.sizeInBytes;break}}}for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];if(!o.packed&&o.sizeInBytes%8===0){let s=!1;for(let l=0;!s&&l<e.bufferEntries.length;l++){const c=e.bufferEntries[l];if(!c.packed&&c.sizeInBytes===4)for(let f=l+1;f<e.bufferEntries.length;f++){const u=e.bufferEntries[f];if(!u.packed&&u.sizeInBytes===4){o.packed=!0,o.offset=n,r.push(o),n+=o.sizeInBytes,c.packed=!0,c.offset=n,r.push(c),n+=c.sizeInBytes,u.packed=!0,u.offset=n,r.push(u),n+=u.sizeInBytes,s=!0;break}}}}}for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];!o.packed&&o.sizeInBytes>4&&(o.packed=!0,o.offset=n,r.push(o),n+=o.sizeInBytes)}for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];o.packed||(o.packed=!0,o.offset=n,r.push(o),n+=o.sizeInBytes)}e.bufferEntries=r,e._bufferEntryNames.clear();for(let i=0;i<e.bufferEntries.length;i++)e._bufferEntryNames.set(e.bufferEntries[i].name,i);e.sizeInBytes=n,e.sizeInBytes=a*Math.ceil(e.sizeInBytes/a),e.sortDirty=!1},t.sendIfNeeded=n=>{if(!e.UBO){const r={nativeArray:e.Float32Array,usage:vwe.UniformArray,label:e.label};e.UBO=n.getBufferManager().getBuffer(r),e.bindGroupTime.modified(),e.sendDirty=!1}e.sendDirty&&(n.getHandle().queue.writeBuffer(e.UBO.getHandle(),0,e.arrayBuffer,0,e.sizeInBytes),e.sendDirty=!1),e.sendTime.modified()},t.createView=n=>{n in e||(e.arrayBuffer||(e.arrayBuffer=new ArrayBuffer(e.sizeInBytes)),e[n]=ne.newTypedArray(n,e.arrayBuffer))},t.setValue=(n,r)=>{t.sortBufferEntries();const a=e._bufferEntryNames.get(n);if(a===void 0){M8(`entry named ${n} not found in UBO`);return}const i=e.bufferEntries[a];t.createView(i.nativeType);const o=e[i.nativeType];i.lastValue!==r&&(o[i.offset/o.BYTES_PER_ELEMENT]=r,e.sendDirty=!0),i.lastValue=r},t.setArray=(n,r)=>{t.sortBufferEntries();const a=e._bufferEntryNames.get(n);if(a===void 0){M8(`entry named ${n} not found in UBO`);return}const i=e.bufferEntries[a];t.createView(i.nativeType);const o=e[i.nativeType];let s=!1;for(let l=0;l<r.length;l++)(!i.lastValue||i.lastValue[l]!==r[l])&&(o[i.offset/o.BYTES_PER_ELEMENT+l]=r[l],s=!0);s&&(e.sendDirty=!0,i.lastValue=[...r])},t.getBindGroupEntry=()=>({resource:{buffer:e.UBO.getHandle()}}),t.getSendTime=()=>e.sendTime.getMTime(),t.getShaderCode=(n,r)=>{t.sortBufferEntries();const a=[`struct ${e.label}Struct
{`];for(let i=0;i<e.bufferEntries.length;i++){const o=e.bufferEntries[i];a.push(`  ${o.name}: ${o.type},`)}return a.push(`};
@binding(${n}) @group(${r}) var<uniform> ${e.label}: ${e.label}Struct;`),a.join(`
`)}}const hwe={bufferEntries:null,bufferEntryNames:null,sizeInBytes:0,label:null,bindGroupLayoutEntry:null,bindGroupEntry:null};function hj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,hwe,n),ne.obj(t,e),e._bufferEntryNames=new Map,e.bufferEntries=[],e.bindGroupLayoutEntry=e.bindGroupLayoutEntry||{buffer:{type:"uniform"}},e.sendTime={},ne.obj(e.sendTime,{mtime:0}),e.bindGroupTime={},ne.obj(e.bindGroupTime,{mtime:0}),e.sendDirty=!0,e.sortDirty=!0,ne.get(t,e,["binding","bindGroupTime"]),ne.setGet(t,e,["bindGroupLayoutEntry","device","label","sizeInBytes"]),pwe(t,e)}const Swe=ne.newInstance(hj,"vtkWebGPUUniformBuffer");var Gm={newInstance:Swe,extend:hj};const{vtkDebugMacro:ywe}=Ni,fM=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var computedColor: vec4<f32> = mapperUBO.BackgroundColor;

  //VTK::RenderEncoder::Impl
  return output;
}
`,Cwe=`
fn vecToRectCoord(dir: vec3<f32>) -> vec2<f32> {
  var tau: f32 = 6.28318530718;
  var pi: f32 = 3.14159265359;
  var out: vec2<f32> = vec2<f32>(0.0);

  out.x = atan2(dir.z, dir.x) / tau;
  out.x += 0.5;

  var phix: f32 = length(vec2(dir.x, dir.z));
  out.y = atan2(dir.y, phix) / pi + 0.5;

  return out;
}

//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  var tcoord: vec4<f32> = vec4<f32>(input.vertexVC.xy, -1, 1);
  var V: vec4<f32> = normalize(mapperUBO.FSQMatrix * tcoord); // vec2<f32>((input.tcoordVS.x - 0.5) * 2, -(input.tcoordVS.y - 0.5) * 2);
  // textureSampleLevel gets rid of some ugly artifacts
  var background = textureSampleLevel(EnvironmentTexture, EnvironmentTextureSampler, vecToRectCoord(V.xyz), 0.0);
  var computedColor: vec4<f32> = vec4<f32>(background.rgb, 1);

  //VTK::RenderEncoder::Impl
  return output;
}
`,Uh=new Float64Array(16),dM=new Float64Array(16);function xwe(t){return t.getPositional()?t.getConeAngle()>=90?0:2:1}function Twe(t,e){e.classHierarchy.push("vtkWebGPURenderer"),t.buildPass=n=>{if(n){if(!e.renderable)return;e.camera=e.renderable.getActiveCamera(),t.updateLights(),t.prepareNodes(),t.addMissingNode(e.camera),t.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),t.removeUnusedNodes(),e.webgpuCamera=t.getViewNodeFor(e.camera),t.updateStabilizedMatrix()}},t.updateStabilizedMatrix=()=>{const n=e.camera.getClippingRange(),r=e.camera.getPositionByReference(),a=e.camera.getDirectionOfProjectionByReference(),i=[],o=[];q0(o,a,.5*(n[0]+n[1])),Ac(i,r,o),Ca(o,i,e.stabilizedCenter),o3(o)/(n[1]-n[0])>e.recenterThreshold&&(e.stabilizedCenter=i,e.stabilizedTime.modified())},t.updateLights=()=>{let n=0;const r=e.renderable.getLightsByReference();for(let a=0;a<r.length;++a)r[a].getSwitch()>0&&n++;return n||(ywe("No lights are on, creating one."),e.renderable.createLight()),n},t.updateUBO=()=>{var r;const n=e.UBO.getSendTime();if(e._parent.getMTime()>n||t.getMTime()>n||e.camera.getMTime()>n||e.renderable.getMTime()>n){const a=e.webgpuCamera.getKeyMatrices(t);e.UBO.setArray("WCVCMatrix",a.wcvc),e.UBO.setArray("SCPCMatrix",a.scpc),e.UBO.setArray("PCSCMatrix",a.pcsc),e.UBO.setArray("SCVCMatrix",a.scvc),e.UBO.setArray("VCPCMatrix",a.vcpc),e.UBO.setArray("WCVCNormals",a.normalMatrix),e.UBO.setValue("LightCount",e.renderable.getLights().length),e.UBO.setValue("MaxEnvironmentMipLevel",(r=e.renderable.getEnvironmentTexture())==null?void 0:r.getMipLevel()),e.UBO.setValue("BackgroundDiffuseStrength",e.renderable.getEnvironmentTextureDiffuseStrength()),e.UBO.setValue("BackgroundSpecularStrength",e.renderable.getEnvironmentTextureSpecularStrength());const i=t.getYInvertedTiledSizeAndOrigin();e.UBO.setArray("viewportSize",[i.usize,i.vsize]),e.UBO.setValue("cameraParallel",e.camera.getParallelProjection());const o=e._parent.getDevice();e.UBO.sendIfNeeded(o)}},t.updateSSBO=()=>{const n=e.renderable.getLights(),r=e.webgpuCamera.getKeyMatrices(t);let a=`${e.renderable.getMTime()}`;for(let i=0;i<n.length;i++)a+=n[i].getMTime();if(a!==e.lightTimeString){const i=new Float32Array(n.length*4),o=new Float32Array(n.length*4),s=new Float32Array(n.length*4),l=new Float32Array(n.length*4);for(let f=0;f<n.length;f++){const u=f*4,d=n[f].getPosition();hr(d,d,r.wcvc),i[u]=d[0],i[u+1]=d[1],i[u+2]=d[2],i[u+3]=0,o[u]=-n[f].getDirection()[0],o[u+1]=-n[f].getDirection()[1],o[u+2]=-n[f].getDirection()[2],o[u+3]=0,s[u]=n[f].getColor()[0],s[u+1]=n[f].getColor()[1],s[u+2]=n[f].getColor()[2],s[u+3]=n[f].getIntensity()*5,l[u]=xwe(n[f]),l[u+1]=Math.cos(ma(n[f].getConeAngle())),l[u+2]=Math.cos(ma(n[f].getConeAngle()+n[f].getConeFalloff())),l[u+3]=0}e.SSBO.clearData(),e.SSBO.setNumberOfInstances(n.length),e.SSBO.addEntry("LightPos","vec4<f32>"),e.SSBO.addEntry("LightDir","vec4<f32>"),e.SSBO.addEntry("LightColor","vec4<f32>"),e.SSBO.addEntry("LightData","vec4<f32>"),e.SSBO.setAllInstancesFromArray("LightPos",i),e.SSBO.setAllInstancesFromArray("LightDir",o),e.SSBO.setAllInstancesFromArray("LightColor",s),e.SSBO.setAllInstancesFromArray("LightData",l);const c=e._parent.getDevice();e.SSBO.send(c)}e.lightTimeString=a},t.scissorAndViewport=n=>{const r=t.getYInvertedTiledSizeAndOrigin();n.getHandle().setViewport(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize,0,1),n.getHandle().setScissorRect(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize)},t.bindUBO=n=>{n.activateBindGroup(e.bindGroup)},t.opaquePass=n=>{n?(e.renderEncoder.begin(e._parent.getCommandEncoder()),t.updateUBO(),t.updateSSBO()):(t.scissorAndViewport(e.renderEncoder),t.clear(),e.renderEncoder.end())},t.clear=()=>{var i;if(e.renderable.getTransparent()||e.suppressClear)return;const n=e._parent.getDevice();if(!e.clearFSQ){e.clearFSQ=ax.newInstance(),e.clearFSQ.setDevice(n),e.clearFSQ.setPipelineHash("clearfsq"),e.clearFSQ.setFragmentShaderTemplate(fM);const o=Gm.newInstance({label:"mapperUBO"});o.addEntry("FSQMatrix","mat4x4<f32>"),o.addEntry("BackgroundColor","vec4<f32>"),e.clearFSQ.setUBO(o),e.backgroundTex=e.renderable.getEnvironmentTexture()}if(e.clearFSQ.getPipelineHash()!=="clearfsqwithtexture"&&e.renderable.getUseEnvironmentTextureAsBackground()&&((i=e.backgroundTex)!=null&&i.getImageLoaded())){e.clearFSQ.setFragmentShaderTemplate(Cwe);const o=Gm.newInstance({label:"mapperUBO"});o.addEntry("FSQMatrix","mat4x4<f32>"),o.addEntry("BackgroundColor","vec4<f32>"),e.clearFSQ.setUBO(o);const s=n.getTextureManager().getTextureForVTKTexture(e.backgroundTex);if(s.getReady()){const l=s.createView("EnvironmentTexture");e.clearFSQ.setTextureViews([l]),e.backgroundTexLoaded=!0;const c=e.backgroundTex.getInterpolate()?"linear":"nearest";l.addSampler(n,{addressModeU:"repeat",addressModeV:"clamp-to-edge",addressModeW:"repeat",minFilter:c,magFilter:c,mipmapFilter:"linear"})}e.clearFSQ.setPipelineHash("clearfsqwithtexture")}else if(e.clearFSQ.getPipelineHash()==="clearfsqwithtexture"&&!e.renderable.getUseEnvironmentTextureAsBackground()){e.clearFSQ=ax.newInstance(),e.clearFSQ.setDevice(n),e.clearFSQ.setPipelineHash("clearfsq"),e.clearFSQ.setFragmentShaderTemplate(fM);const o=Gm.newInstance({label:"mapperUBO"});o.addEntry("FSQMatrix","mat4x4<f32>"),o.addEntry("BackgroundColor","vec4<f32>"),e.clearFSQ.setUBO(o)}const r=e.webgpuCamera.getKeyMatrices(t),a=e.renderable.getBackgroundByReference();e.clearFSQ.getUBO().setArray("BackgroundColor",a),tr(dM,r.normalMatrix),a3(Uh,r.scvc,r.pcsc),a3(Uh,dM,Uh),e.clearFSQ.getUBO().setArray("FSQMatrix",Uh),e.clearFSQ.getUBO().sendIfNeeded(n),e.clearFSQ.prepareAndDraw(e.renderEncoder)},t.translucentPass=n=>{n?e.renderEncoder.begin(e._parent.getCommandEncoder()):(t.scissorAndViewport(e.renderEncoder),e.renderEncoder.end())},t.volumeDepthRangePass=n=>{n?e.renderEncoder.begin(e._parent.getCommandEncoder()):(t.scissorAndViewport(e.renderEncoder),e.renderEncoder.end())},t.getAspectRatio=()=>{const n=e._parent.getSizeByReference(),r=e.renderable.getViewportByReference();return n[0]*(r[2]-r[0])/((r[3]-r[1])*n[1])},t.convertToOpenGLDepth=n=>e.webgpuCamera.convertToOpenGLDepth(n),t.getYInvertedTiledSizeAndOrigin=()=>{const n=t.getTiledSizeAndOrigin(),r=e._parent.getSizeByReference();return n.lowerLeftV=r[1]-n.vsize-n.lowerLeftV,n},t.getTiledSizeAndOrigin=()=>{const n=e.renderable.getViewportByReference(),r=[0,0,1,1],a=n[0]-r[0],i=n[1]-r[1],o=e._parent.normalizedDisplayToDisplay(a,i),s=Math.round(o[0]),l=Math.round(o[1]),c=n[2]-r[0],f=n[3]-r[1],u=e._parent.normalizedDisplayToDisplay(c,f);let d=Math.round(u[0])-s,g=Math.round(u[1])-l;return d<0&&(d=0),g<0&&(g=0),{usize:d,vsize:g,lowerLeftU:s,lowerLeftV:l}},t.getPropFromID=n=>{for(let r=0;r<e.children.length;r++)if((e.children[r].getPropID?e.children[r].getPropID():-1)===n)return e.children[r];return null},t.getStabilizedTime=()=>e.stabilizedTime.getMTime(),t.releaseGraphicsResources=()=>{e.selector!==null&&e.selector.releaseGraphicsResources()}}const wwe={bindGroup:null,selector:null,renderEncoder:null,recenterThreshold:20,suppressClear:!1,stabilizedCenter:[0,0,0]};function bwe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,wwe,n),Va.extend(t,e,n),e.UBO=Gm.newInstance({label:"rendererUBO"}),e.UBO.addEntry("WCVCMatrix","mat4x4<f32>"),e.UBO.addEntry("SCPCMatrix","mat4x4<f32>"),e.UBO.addEntry("PCSCMatrix","mat4x4<f32>"),e.UBO.addEntry("SCVCMatrix","mat4x4<f32>"),e.UBO.addEntry("VCPCMatrix","mat4x4<f32>"),e.UBO.addEntry("WCVCNormals","mat4x4<f32>"),e.UBO.addEntry("viewportSize","vec2<f32>"),e.UBO.addEntry("LightCount","i32"),e.UBO.addEntry("MaxEnvironmentMipLevel","f32"),e.UBO.addEntry("BackgroundDiffuseStrength","f32"),e.UBO.addEntry("BackgroundSpecularStrength","f32"),e.UBO.addEntry("cameraParallel","u32"),e.SSBO=mwe.newInstance({label:"rendererLightSSBO"}),e.lightTimeString="",e.bindGroup=aj.newInstance({label:"rendererBG"}),e.bindGroup.setBindables([e.UBO,e.SSBO]),e.tmpMat4=Dn(new Float64Array(16)),e.stabilizedTime={},ea(e.stabilizedTime,{mtime:0}),Zi(t,e,["bindGroup","stabilizedTime"]),sg(t,e,["stabilizedCenter"]),Ka(t,e,["renderEncoder","selector","suppressClear","UBO"]),Twe(t,e)}const Ewe=Vr(bwe,"vtkWebGPURenderer");fg("vtkRenderer",Ewe);function Dwe(t,e){e.classHierarchy.push("vtkWebGPUSampler"),t.create=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.device=n,e.options.addressModeU=r.addressModeU?r.addressModeU:"clamp-to-edge",e.options.addressModeV=r.addressModeV?r.addressModeV:"clamp-to-edge",e.options.addressModeW=r.addressModeW?r.addressModeW:"clamp-to-edge",e.options.magFilter=r.magFilter?r.magFilter:"nearest",e.options.minFilter=r.minFilter?r.minFilter:"nearest",e.options.mipmapFilter=r.mipmapFilter?r.mipmapFilter:"nearest",e.options.label=e.label,e.handle=e.device.getHandle().createSampler(e.options),e.bindGroupTime.modified()},t.getShaderCode=(n,r)=>`@binding(${n}) @group(${r}) var ${e.label}: sampler;`,t.getBindGroupEntry=()=>({resource:e.handle})}const Owe={device:null,handle:null,label:null,options:null};function Sj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Owe,n),ne.obj(t,e),e.options={},e.bindGroupLayoutEntry={visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,sampler:{}},e.bindGroupTime={},ne.obj(e.bindGroupTime,{mtime:0}),ne.get(t,e,["bindGroupTime","handle","options"]),ne.setGet(t,e,["bindGroupLayoutEntry","device","label"]),Dwe(t,e)}const Rwe=ne.newInstance(Sj);var Iwe={newInstance:Rwe,extend:Sj};const{SlicingMode:gM}=oy,Awe=`
//VTK::Renderer::Dec

//VTK::Mapper::Dec

//VTK::TCoord::Dec

//VTK::Image::Dec

//VTK::RenderEncoder::Dec

//VTK::IOStructs::Dec

@fragment
fn main(
//VTK::IOStructs::Input
)
//VTK::IOStructs::Output
{
  var output: fragmentOutput;

  //VTK::Image::Sample

  // var computedColor: vec4<f32> = vec4<f32>(1.0,0.7, 0.5, 1.0);

//VTK::RenderEncoder::Impl

  return output;
}
`;function Mwe(t,e,n){if(e.apply(t)){const a=t.getIndependentComponents();return`${t.getMTime()}-${a}-${n}`}return"0"}const Co=new Float64Array(16),Hs=new Float64Array(16),Bh=new Float64Array(16),R0=new Float64Array(4),ka=new Float64Array(4);function Pwe(t,e){e.classHierarchy.push("vtkWebGPUImageMapper"),t.buildPass=a=>{if(a){e.WebGPUImageSlice=t.getFirstAncestorOfType("vtkWebGPUImageSlice"),e.WebGPURenderer=e.WebGPUImageSlice.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent(),e.device=e.WebGPURenderWindow.getDevice();const i=e.WebGPURenderer.getRenderable();e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(i.getActiveCamera())}},t.translucentPass=a=>{a&&t.render()},t.opaquePass=a=>{a&&t.render()},t.render=()=>{e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.prepareToDraw(e.WebGPURenderer.getRenderEncoder()),e.renderEncoder.registerDrawCallback(e.pipeline,t.draw)},t.computePipelineHash=()=>{const a=e.currentInput.getExtent();a[0]===a[1]||a[2]===a[3]||a[4]===a[5]?(e.dimensions=2,e.pipelineHash="img2"):(e.dimensions=3,e.pipelineHash="img3")},t.updateUBO=()=>{const a=e.UBO.getSendTime(),i=e.WebGPUImageSlice.getRenderable(),o=i.getMapper();if(t.getMTime()>a||e.renderable.getMTime()>a||i.getProperty().getMTime()>a){const s=o.getInputData(),l=e.WebGPURenderer.getStabilizedCenterByReference();Dn(Co),La(Co,Co,l);const c=i.getMatrix();tr(Hs,c),qa(Hs,Hs),Zn(Co,Hs,Co);const f=s.getWorldToIndex();Zn(Co,f,Co),qa(Bh,Co),Z5(Hs,[.5,.5,.5]),Zn(Co,Hs,Co);const u=s.getDimensions();Dn(Hs),ol(Hs,Hs,[1/u[0],1/u[1],1/u[2]]),Zn(Co,Hs,Co),e.UBO.setArray("SCTCMatrix",Co);const d=e.currentInput.getExtent(),{ijkMode:g}=e.renderable.getClosestIJKAxis();let v=e.renderable.getSlice();g!==e.renderable.getSlicingMode()&&(v=e.renderable.getSliceAtPosition(v));let m=2,p=0,h=1;g===gM.I?(m=0,p=1,h=2):g===gM.J&&(m=1,p=2,h=0),R0[m]=v,R0[p]=d[p*2]-.5,R0[h]=d[h*2]-.5,R0[3]=1,Vu(R0,R0,Bh),e.UBO.setArray("Origin",R0),ka[m]=v,ka[p]=d[p*2+1]+.5,ka[h]=d[h*2]-.5,ka[3]=1,Vu(ka,ka,Bh),pA(ka,ka,R0),ka[3]=1,e.UBO.setArray("Axis1",ka),ka[m]=v,ka[p]=d[p*2]-.5,ka[h]=d[h*2+1]+.5,ka[3]=1,Vu(ka,ka,Bh),pA(ka,ka,R0),ka[3]=1,e.UBO.setArray("Axis2",ka);const y=[1,1,1,1],C=[0,0,0,0],x=e.textureViews[0],T=x.getTexture().getScale(),w=x.getTexture().getNumberOfComponents();for(let b=0;b<w;b++){let E=i.getProperty().getColorWindow(),O=i.getProperty().getColorLevel();const R=i.getProperty().getRGBTransferFunction(0);if(R){const I=R.getRange();E=I[1]-I[0],O=.5*(I[1]+I[0])}y[b]=T/E,C[b]=-O/E+.5}e.UBO.setArray("cScale",y),e.UBO.setArray("cShift",C),e.UBO.sendIfNeeded(e.device)}},t.updateLUTImage=()=>{const a=e.WebGPUImageSlice.getRenderable().getProperty();t.getTextureViews()[0].getTexture().getNumberOfComponents();const o=1,s=Mwe(a,a.getRGBTransferFunction,o);if(e.colorTextureString!==s){e.numRows=o;const l=new Uint8ClampedArray(e.numRows*2*e.rowLength*4);let c=a.getRGBTransferFunction();if(c){const f=new Float32Array(e.rowLength*3);for(let u=0;u<o;u++){c=a.getRGBTransferFunction(u);const d=c.getRange();c.getTable(d[0],d[1],e.rowLength,f,1);for(let g=0;g<e.rowLength;g++){const v=u*e.rowLength*8+g*4;l[v]=255*f[g*3],l[v+1]=255*f[g*3+1],l[v+2]=255*f[g*3+2],l[v+3]=255;for(let m=0;m<4;m++)l[v+e.rowLength*4+m]=l[v+m]}}}else for(let f=0;f<e.rowLength;++f){const u=255*f/(e.rowLength-1);l[f*4]=u,l[f*4+1]=u,l[f*4+2]=u,l[f*4+3]=255;for(let d=0;d<4;d++)l[f*4+e.rowLength*4+d]=l[f*4+d]}{const f={nativeArray:l,width:e.rowLength,height:e.numRows*2,depth:1,format:"rgba8unorm"},d=e.device.getTextureManager().getTexture(f).createView("tfunTexture");e.textureViews[1]=d}e.colorTextureString=s}};const n=t.updateBuffers;t.updateBuffers=()=>{n();const a=e.device.getTextureManager().getTextureForImageData(e.currentInput),i=e.textureViews;if(!i[0]||i[0].getTexture()!==a){const l=a.createView("imgTexture");i[0]=l}t.updateLUTImage(),t.updateUBO();const s=e.WebGPUImageSlice.getRenderable().getProperty().getInterpolationType()===Ku.NEAREST?"nearest":"linear";(!e.clampSampler||s!==e.clampSampler.getOptions().minFilter)&&(e.clampSampler=Iwe.newInstance({label:"clampSampler"}),e.clampSampler.create(e.device,{minFilter:s,magFilter:s}),e.additionalBindables=[e.clampSampler])};const r=t.getShaderReplacements();t.replaceShaderPosition=(a,i,o)=>{const s=i.getShaderDescription("vertex");s.addBuiltinOutput("vec4<f32>","@builtin(position) Position");let l=s.getCode();const c=["var pos: vec4<f32> = mapperUBO.Origin +","   (vertexBC.x * 0.5 + 0.5) * mapperUBO.Axis1 + (vertexBC.y * 0.5 + 0.5) * mapperUBO.Axis2;","pos.w = 1.0;"];e.dimensions===2?c.push("var tcoord : vec2<f32> = (mapperUBO.SCTCMatrix * pos).xy;"):c.push("var tcoord : vec3<f32> = (mapperUBO.SCTCMatrix * pos).xyz;"),c.push("output.tcoordVS = tcoord;","output.Position = rendererUBO.SCPCMatrix * pos;"),l=Do.substitute(l,"//VTK::Position::Impl",c).result,s.setCode(l)},r.set("replaceShaderPosition",t.replaceShaderPosition),t.replaceShaderTCoord=(a,i,o)=>{const s=i.getShaderDescription("vertex");e.dimensions===2?s.addOutput("vec2<f32>","tcoordVS"):s.addOutput("vec3<f32>","tcoordVS")},r.set("replaceShaderTCoord",t.replaceShaderTCoord),t.replaceShaderImage=(a,i,o)=>{const s=i.getShaderDescription("fragment");let l=s.getCode();e.dimensions===3?l=Do.substitute(l,"//VTK::Image::Sample",["    var computedColor: vec4<f32> =","      textureSampleLevel(imgTexture, clampSampler, input.tcoordVS, 0.0);","//VTK::Image::Sample"]).result:l=Do.substitute(l,"//VTK::Image::Sample",["    var computedColor: vec4<f32> =","      textureSampleLevel(imgTexture, clampSampler, input.tcoordVS, 0.0);","//VTK::Image::Sample"]).result,l=Do.substitute(l,"//VTK::Image::Sample",["    var coord: vec2<f32> =","      vec2<f32>(computedColor.r * mapperUBO.cScale.r + mapperUBO.cShift.r, 0.5);","    computedColor = textureSampleLevel(tfunTexture, clampSampler, coord, 0.0);"]).result,s.setCode(l)},r.set("replaceShaderImage",t.replaceShaderImage)}const Lwe={rowLength:1024};function _we(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Lwe,n),ax.extend(t,e,n),t.setFragmentShaderTemplate(Awe),e.UBO=Gm.newInstance({label:"mapperUBO"}),e.UBO.addEntry("SCTCMatrix","mat4x4<f32>"),e.UBO.addEntry("Origin","vec4<f32>"),e.UBO.addEntry("Axis2","vec4<f32>"),e.UBO.addEntry("Axis1","vec4<f32>"),e.UBO.addEntry("cScale","vec4<f32>"),e.UBO.addEntry("cShift","vec4<f32>"),e.lutBuildTime={},ea(e.lutBuildTime,{mtime:0}),e.imagemat=Dn(new Float64Array(16)),e.imagematinv=Dn(new Float64Array(16)),e.VBOBuildTime={},ea(e.VBOBuildTime),Pwe(t,e)}const Nwe=Vr(_we,"vtkWebGPUImageMapper");fg("vtkImageMapper",Nwe);function Fwe(t,e){e.classHierarchy.push("vtkWebGPUImageSlice"),t.buildPass=n=>{if(!(!e.renderable||!e.renderable.getVisibility())&&n){if(!e.renderable)return;e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),e.propID===void 0&&(e.propID=e.WebGPURenderWindow.getUniquePropID()),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes()}},t.traverseOpaquePass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(r=>{r.traverse(n)}),t.apply(n,!1))},t.traverseTranslucentPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e.WebGPURenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(r=>{r.traverse(n)}),t.apply(n,!1))},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.getBufferShift=n=>(t.getKeyMatrices(n),e.bufferShift),t.getKeyMatrices=n=>{if(Math.max(e.renderable.getMTime(),n.getStabilizedTime())>e.keyMatricesTime.getMTime()){e.renderable.computeMatrix();const r=e.renderable.getMatrix(),a=n.getStabilizedCenterByReference();e.bufferShift[0]=r[3]-a[0],e.bufferShift[1]=r[7]-a[1],e.bufferShift[2]=r[11]-a[2],tr(e.keyMatrices.bcwc,r),e.renderable.getIsIdentity()?Dn(e.keyMatrices.normalMatrix):(Ea(e.keyMatrices.normalMatrix,e.keyMatrices.bcwc),e.keyMatrices.normalMatrix[3]=0,e.keyMatrices.normalMatrix[7]=0,e.keyMatrices.normalMatrix[11]=0,qa(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),tr(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),La(e.keyMatrices.bcwc,e.keyMatrices.bcwc,[-e.bufferShift[0],-e.bufferShift[1],-e.bufferShift[2]]),La(e.keyMatrices.bcsc,e.keyMatrices.bcwc,[-a[0],-a[1],-a[2]]),e.keyMatricesTime.modified()}return e.keyMatrices}}const $we={bufferShift:void 0,keyMatrixTime:null,keyMatrices:null,propID:void 0};function Vwe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$we,n),Va.extend(t,e,n),e.keyMatricesTime={},ea(e.keyMatricesTime,{mtime:0}),e.keyMatrices={normalMatrix:new Float64Array(16),bcwc:new Float64Array(16),bcsc:new Float64Array(16)},e.keyMatrixTime={},ea(e.keyMatrixTime,{mtime:0}),e.keyMatrices={mcwc:Dn(new Float64Array(16))},e.bufferShift=[0,0,0,0],Zi(t,e,["propID","keyMatricesTime"]),Fwe(t,e)}const kwe=Vr(Vwe,"vtkWebGPUImageSlice");fg("vtkImageSlice",kwe);function Uwe(t,e){e.classHierarchy.push("vtkWebGPUVolume"),t.buildPass=a=>{!e.renderable||!e.renderable.getVisibility()||a&&(e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getFirstAncestorOfType("vtkWebGPURenderWindow"),e.propID===void 0&&(e.propID=e.WebGPURenderWindow.getUniquePropID()),e.renderable.getMapper().update())},t.queryPass=(a,i)=>{if(a){if(!e.renderable||!e.renderable.getVisibility())return;const o=e.renderable.getMapper().getBounds();if(!o||o.length!==6||o[0]>o[1])return;i.addVolume(t)}};const n=new Float64Array(3),r=new Float64Array(3);t.getBoundingCubePoints=(a,i)=>{const o=e.renderable.getMapper().getInputData();if(!o)return;const s=o.getExtent(),l=e.renderable.getMatrix();let c=0;for(let f=4;f<6;f++){n[2]=s[f];for(let u=2;u<4;u++){n[1]=s[u];for(let d=0;d<2;d++){n[0]=s[d],o.indexToWorld(n,r);let g=i+c*3;a[g++]=l[0]*r[0]+l[1]*r[1]+l[2]*r[2]+l[3],a[g++]=l[4]*r[0]+l[5]*r[1]+l[6]*r[2]+l[7],a[g++]=l[8]*r[0]+l[9]*r[1]+l[10]*r[2]+l[11],c++}}}},t.getKeyMatrices=a=>{if(Math.max(e.renderable.getMTime(),a.getStabilizedTime())>e.keyMatricesTime.getMTime()){e.renderable.computeMatrix();const i=e.renderable.getMatrix(),o=a.getStabilizedCenterByReference();tr(e.keyMatrices.bcwc,i),La(e.keyMatrices.bcsc,e.keyMatrices.bcwc,[-o[0],-o[1],-o[2]]),e.keyMatricesTime.modified()}return e.keyMatrices}}const Bwe={propID:void 0,keyMatricesTime:null};function Gwe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Bwe,n),Va.extend(t,e,n),e.keyMatricesTime={},ne.obj(e.keyMatricesTime,{mtime:0}),e.keyMatrices={bcwc:new Float64Array(16),bcsc:new Float64Array(16)},ne.get(t,e,["propID","keyMatricesTime"]),Uwe(t,e)}const zwe=ne.newInstance(Gwe,"vtkWebGPUVolume");fg("vtkVolume",zwe);function Wwe(t,e){e.classHierarchy.push("vtkWebGPUPixelSpaceCallbackMapper"),t.opaquePass=(n,r)=>{e.WebGPURenderer=t.getFirstAncestorOfType("vtkWebGPURenderer"),e.WebGPURenderWindow=e.WebGPURenderer.getParent();const a=e.WebGPURenderer.getAspectRatio(),i=e.WebGPURenderer?e.WebGPURenderer.getRenderable().getActiveCamera():null,o=e.WebGPURenderer.getTiledSizeAndOrigin(),s=null;e.renderable.getUseZValues(),e.renderable.invokeCallback(e.renderable.getInputData(),i,a,o,s)}}const jwe={};function Hwe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jwe,n),Va.extend(t,e,n),Wwe(t,e)}const qwe=ne.newInstance(Hwe,"vtkWebGPUPixelSpaceCallbackMapper");fg("vtkPixelSpaceCallbackMapper",qwe);const mM=[[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],vM=[[0,-1,0],[0,1,0]],Kwe=[[0,-1,0],[0,1,0],[0,0,-1]],Qwe=[[0,-1,0],[0,1,0],[0,0,1]],Zb=class Zb{static copyMap(e,n){for(const[r,a]of n.rows)e.rows.set(r,structuredClone(a))}constructor(e,n,r=1){this.rows=new Map,this.height=1,this.width=1,this.depth=1,this.jMultiple=1,this.kMultiple=1,this.numComps=1,this.pixelDataConstructor=Uint8Array,this.updateScalarData=function(a){a.fill(0);const i=(o,s,l)=>{const{start:c,end:f,value:u}=s;for(let d=c;d<f;d++)a[o+d]=u};this.forEach(i)},this.get=a=>{const i=a%this.jMultiple,o=(a-i)/this.jMultiple,s=this.getRLE(i,o);return(s==null?void 0:s.value)??this.defaultValue},this.getRun=(a,i)=>{const o=a+i*this.height;return this.rows.get(o)},this.set=(a,i)=>{if(i===void 0)return;const o=a%this.width,s=(a-o)/this.width,l=this.rows.get(s);if(!l){this.rows.set(s,[{start:o,end:o+1,value:i}]);return}const c=this.findIndex(l,o),f=l[c],u=l[c-1];if(!f){if(!u||u.value!==i||u.end!==o){l[c]={start:o,end:o+1,value:i};return}u.end++;return}const{start:d,end:g,value:v}=f;if(i===v&&o>=d)return;const m={start:o,end:o+1,value:i},p=o>d,h=p?c+1:c,y=p?f:u;let C=p?l[c+1]:f;if((y==null?void 0:y.value)===i&&(y==null?void 0:y.end)===o){y.end++,(C==null?void 0:C.value)===i&&C.start===o+1?(y.end=C.end,l.splice(c,1)):(C==null?void 0:C.start)===o&&(C.start++,C.start===C.end&&(l.splice(c,1),C=l[c],(C==null?void 0:C.start)===o+1&&C.value===i&&(y.end=C.end,l.splice(c,1))));return}if((C==null?void 0:C.value)===i&&C.start===o+1){C.start--,(y==null?void 0:y.end)>o&&(y.end=o,y.end===y.start&&l.splice(c,1));return}if((C==null?void 0:C.start)===o&&C.end===o+1){C.value=i;const x=l[c+1];(x==null?void 0:x.start)==o+1&&x.value===i&&(l.splice(c+1,1),C.end=x.end);return}o===(C==null?void 0:C.start)&&C.start++,p&&g>o+1?l.splice(h,0,m,{start:o+1,end:y.end,value:y.value}):l.splice(h,0,m),(y==null?void 0:y.end)>o&&(y.end=o)},this.width=e,this.height=n,this.depth=r,this.jMultiple=e,this.kMultiple=this.jMultiple*n}toIJK(e){const n=e%this.jMultiple,r=(e-n)/this.jMultiple%this.height,a=Math.floor(e/this.kMultiple);return[n,r,a]}toIndex([e,n,r]){return e+r*this.kMultiple+n*this.jMultiple}getRLE(e,n,r=0){const a=this.rows.get(n+r*this.height);if(!a)return;const i=this.findIndex(a,e),o=a[i];return e>=(o==null?void 0:o.start)?o:void 0}has(e){const n=e%this.jMultiple,r=(e-n)/this.jMultiple,a=this.getRLE(n,r);return(a==null?void 0:a.value)!==void 0}delete(e){const n=e%this.width,r=(e-n)/this.width,a=this.rows.get(r);if(!a)return;const i=this.findIndex(a,n),o=a[i];if(!o||o.start>n)return;if(o.end===n+1){o.end--,o.start>=o.end&&(a.splice(i,1),a.length||this.rows.delete(r));return}if(o.start===n){o.start++;return}const s={value:o.value,start:n+1,end:o.end};o.end=n,a.splice(i+1,0,s)}findIndex(e,n){for(let r=0;r<e.length;r++){const{end:a}=e[r];if(n<a)return r}return e.length}forEach(e,n){const r=n==null?void 0:n.rowModified;for(const[a,i]of this.rows){const o=r?[...i]:i;for(const s of o)e(a*this.width,s,i)}}forEachRow(e){for(const[n,r]of this.rows)e(n*this.width,r)}clear(){this.rows.clear()}keys(){return[...this.rows.keys()]}getPixelData(e=0,n){n?n.fill(0):n=new this.pixelDataConstructor(this.width*this.height*this.numComps);const{width:r,height:a,numComps:i}=this;for(let o=0;o<a;o++){const s=this.getRun(o,e);if(s)if(i===1)for(const l of s){const c=o*r,{start:f,end:u,value:d}=l;for(let g=f;g<u;g++)n[c+g]=d}else for(const l of s){const c=o*r*i,{start:f,end:u,value:d}=l;for(let g=f;g<u;g+=i)for(let v=0;v<i;v++)n[c+g+v]=d[v]}}return n}floodFill(e,n,r,a,i){const o=this.getRLE(e,n,r);if(!o)throw new Error(`Initial point ${e},${n},${r} isn't in the RLE`);const s=[[o,n,r]],l=o.value;if(l===a)throw new Error(`source (${l}) and destination (${a}) are identical`);return this.flood(s,l,a,i)}flood(e,n,r,a){let i=0;const{planar:o=!0,diagonals:s=!0,singlePlane:l=!1}=a||{},c={planar:o,diagonals:s,singlePlane:l};for(;e.length;){const f=e.pop(),[u]=f;if(u.value!==n)continue;u.value=r,i+=u.end-u.start;const d=this.findAdjacents(f,c).filter(g=>g&&g[0].value===n);e.push(...d)}return i}fillFrom(e,n){for(let r=n[2][0];r<=n[2][1];r++)for(let a=n[1][0];a<=n[1][1];a++){let i,o;for(let s=n[0][0];s<=n[0][1];s++){const l=e(s,a,r);if(l===void 0){i=void 0;continue}o||(o=[],this.rows.set(a+r*this.height,o)),i&&i.value!==l&&(i=void 0),i||(i={start:s,end:s,value:l},o.push(i)),i.end++}}}findAdjacents(e,{diagonals:n=!0,planar:r=!0,singlePlane:a=!1}){const[i,o,s,l]=e,{start:c,end:f}=i,u=c>0&&this.getRLE(c-1,o,s),d=f<this.width&&this.getRLE(f,o,s),g=n?[c>0?c-1:c,f<this.width?f+1:f]:[c,f],v=[];u&&v.push([u,o,s]),d&&v.push([d,o,s]);for(const m of l||(a?vM:mM)){const[,p,h]=m,y=p+o,C=h+s;if(y<0||y>=this.height||C<0||C>=this.depth)continue;const x=this.getRun(y,C);if(x)for(const T of x){const w=l||a&&vM||r&&h>0&&Qwe||r&&h<0&&Kwe||mM;T.end<=g[0]||T.start>=g[1]||v.push([T,y,C,w])}}return v}};Zb.getScalarData=function(e=Uint8ClampedArray){const n=new e(this.frameSize);return this.map.updateScalarData(n),n};let ec=Zb,G2=class vm{constructor(e={}){this._dimensions=3,this._length=0,this._byteSize=4,this.growSize=128;const{initialSize:n=1024,dimensions:r=3,growSize:a=128}=e,i=n*r;this.growSize=a,this.array=new ArrayBuffer(i*this._byteSize),this.data=new Float32Array(this.array),this._dimensions=r}forEach(e){for(let n=0;n<this._length;n++)e(this.getPoint(n),n)}get length(){return this._length}get dimensions(){return this._dimensions}get dimensionLength(){return this._length*this._dimensions}getPoint(e){if(e<0&&(e+=this._length),e<0||e>=this._length)return;const n=this._dimensions*e;return this.data.subarray(n,n+this._dimensions)}getPointArray(e){const n=[];if(e<0&&(e+=this._length),e<0||e>=this._length)return;const r=this._dimensions*e;for(let a=0;a<this._dimensions;a++)n.push(this.data[a+r]);return n}grow(e=1,n=this.growSize){if(this.dimensionLength+e*this._dimensions<=this.data.length)return;const r=this.data.length+n,a=new ArrayBuffer(r*this._dimensions*this._byteSize),i=new Float32Array(a);i.set(this.data),this.data=i,this.array=a}reverse(){const e=Math.floor(this._length/2);for(let n=0;n<e;n++){const r=n*this._dimensions,a=(this._length-1-n)*this._dimensions;for(let i=0;i<this._dimensions;i++){const o=this.data[r+i];this.data[r+i]=this.data[a+i],this.data[a+i]=o}}}getTypedArray(){return this.data}push(e){this.grow(1);const n=this.length*this._dimensions;for(let r=0;r<this._dimensions;r++)this.data[r+n]=e[r];this._length++}map(e){const n=[];for(let r=0;r<this._length;r++)n.push(e(this.getPoint(r),r));return n}get points(){return this.map(e=>e)}toXYZ(){const e={x:[],y:[]};this._dimensions>=3&&(e.z=[]);const{x:n,y:r,z:a}=e;return this.forEach(i=>{n.push(i[0]),r.push(i[1]),a&&a.push(i[2])}),e}static fromXYZ({x:e,y:n,z:r}){const a=vm.create3(e.length);let i=0;for(let o=0;o<e.length;o++)a.data[i++]=e[o],a.data[i++]=n[o],a.data[i++]=r?r[o]:0;return a._length=e.length,a}subselect(e=10,n=0){const r=new vm({initialSize:e,dimensions:this._dimensions});for(let a=0;a<e;a++){const i=(n+Math.floor(this.length*a/e))%this.length;r.push(this.getPoint(i))}return r}static create3(e=128,n){e=Math.max(e,(n==null?void 0:n.length)||0);const r=new vm({initialSize:e,dimensions:3});return n&&n.forEach(a=>r.push(a)),r}static create2(e=128){return new vm({initialSize:e,dimensions:2})}};function yj(t){const e=Xt(),n=t.getDimensions(),r=G2.create3(n[0]),a=G2.create3(n[1]),i=G2.create3(n[2]),o=t.getDirection(),s=o.slice(0,3),l=o.slice(3,6),c=o.slice(6,9),f=t.getSpacing(),[u,d,g]=f,v=t.indexToWorld([0,0,0]),m=Yr(s[0]*u,s[1]*u,s[2]*u),p=Yr(l[0]*d,l[1]*d,l[2]*d),h=Yr(c[0]*g,c[1]*g,c[2]*g),y=Xt();for(let w=0;w<n[0];w++)r.push(Ac(y,v,q0(y,m,w)));for(let w=0;w<n[1];w++)a.push(q0(y,p,w));for(let w=0;w<n[2];w++)i.push(q0(y,h,w));const C=r.getTypedArray(),x=a.getTypedArray(),T=i.getTypedArray();return(w,b=e)=>{const[E,O,D]=w,R=E*3,I=O*3,M=D*3;return b[0]=C[R]+x[I]+T[M],b[1]=C[R+1]+x[I+1]+T[M+1],b[2]=C[R+2]+x[I+2]+T[M+2],b}}function tb(t,e){const{pointInShapeFn:n,callback:r,boundsIJK:a,returnPoints:i=!1}=e;let o;if(t.getScalarData)o=t.getScalarData();else{const u=t.getPointData().getScalars();if(u)o=u.getData();else{const{voxelManager:d}=t.get("voxelManager")||{};d&&(o=d.getCompleteScalarDataArray())}}const s=t.getDimensions(),l=[[0,s[0]],[0,s[1]],[0,s[2]]],f=Xwe({imageData:t,bounds:a||l,scalarData:o,pointInShapeFn:n,callback:r});return i?f:void 0}function Xwe({imageData:t,bounds:e,scalarData:n,pointInShapeFn:r,callback:a}){const[[i,o],[s,l],[c,f]]=e,{numComps:u}=t,d=t.getDimensions(),g=yj(t),v=[0,0,0],m=u||n.length/d[2]/d[1]/d[0],p=d[0]*m,h=d[1]*p,y=[];for(let C=c;C<=f;C++){v[2]=C;const x=C*h;for(let T=s;T<=l;T++){v[1]=T;const w=x+T*p;for(let b=i;b<=o;b++){v[0]=b;const E=g(v);if(r(E,v)){const O=w+b*m;let D;m>2?D=[n[O],n[O+1],n[O+2]]:D=n[O],y.push({value:D,index:O,pointIJK:v,pointLPS:E.slice()}),a({value:D,index:O,pointIJK:v,pointLPS:E})}}}}return y}function Ywe({voxelManager:t,bounds:e,imageData:n,pointInShapeFn:r,callback:a,returnPoints:i}){const[[o,s],[l,c],[f,u]]=e,d=yj(n),g=[0,0,0],v=[];for(let m=f;m<=u;m++){g[2]=m;for(let p=l;p<=c;p++){g[1]=p;for(let h=o;h<=s;h++){g[0]=h;const y=d(g);if(r(y,g)){const C=t.toIndex(g),x=t.getAtIndex(C);i&&v.push({value:x,index:C,pointIJK:[...g],pointLPS:y.slice()}),a==null||a({value:x,index:C,pointIJK:g,pointLPS:y})}}}}return v}const Zwe=5*1024;class Gr{constructor(e,n){this.modifiedSlices=new Set,this.boundsIJK=[[1/0,-1/0],[1/0,-1/0],[1/0,-1/0]],this.scalarData=null,this._sliceDataCache=null,this.getAtIJK=(r,a,i)=>{const o=this.toIndex([r,a,i]);return this._get(o)},this.setAtIJK=(r,a,i,o)=>{const s=this.toIndex([r,a,i]),l=this._set(s,o);return l!==!1&&(this.modifiedSlices.add(i),Gr.addBounds(this.boundsIJK,[r,a,i])),l},this.getAtIJKPoint=([r,a,i])=>this.getAtIJK(r,a,i),this.setAtIJKPoint=([r,a,i],o)=>{this.setAtIJK(r,a,i,o)},this.getAtIndex=r=>this._get(r),this.setAtIndex=(r,a)=>{const i=this._set(r,a);if(i!==!1){const o=this.toIJK(r);this.modifiedSlices.add(o[2]),Gr.addBounds(this.boundsIJK,o)}return i},this.getMiddleSliceData=()=>{const r=Math.floor(this.dimensions[2]/2);return this.getSliceData({sliceIndex:r,slicePlane:2})},this.forEach=(r,a={})=>{const i=a.boundsIJK||this.getBoundsIJK(),o=a.isInObject||this.isInObject||(()=>!0),s=a.returnPoints||!1,l=a.imageData,c=Math.min(i[0][0],i[0][1]),f=Math.max(i[0][0],i[0][1]),u=Math.min(i[1][0],i[1][1]),d=Math.max(i[1][0],i[1][1]),g=Math.min(i[2][0],i[2][1]),v=Math.max(i[2][0],i[2][1]),m=[];if(l)return Ywe({voxelManager:this,imageData:a.imageData,bounds:[[c,f],[u,d],[g,v]],pointInShapeFn:o,callback:r,returnPoints:s});if(this.map){if(this.map instanceof ec)return this.rleForEach(r,a);for(const p of this.map.keys()){const h=this.toIJK(p);if(!o(null,h))continue;const y=this._get(p);s&&m.push({value:y,index:p,pointIJK:h,pointLPS:null}),r({value:y,index:p,pointIJK:h,pointLPS:null})}return m}else{for(let p=g;p<=v;p++){const h=p*this.frameSize;for(let y=u;y<=d;y++){const C=h+y*this.width;for(let x=c,T=C+x;x<=f;x++,T++){const w=this.getAtIndex(T),b=[x,y,p];o(null,b)&&(s&&m.push({value:w,index:T,pointIJK:b,pointLPS:null}),r({value:w,index:T,pointIJK:[x,y,p],pointLPS:null}))}}}return m}},this.getSliceData=({sliceIndex:r,slicePlane:a})=>{const[i,o,s]=this.dimensions,l=i*o,c=r*l;let f;const u=this.getConstructor();function d(v){return typeof v=="function"}if(!d(u))return new Uint8Array(0);let g;switch(a){case 0:f=o*s,g=new u(f);for(let v=0;v<o;v++)for(let m=0;m<s;m++){const p=r+v*i+m*l;this.setSliceDataValue(g,v*s+m,this._get(p))}break;case 1:f=i*s,g=new u(f);for(let v=0;v<i;v++)for(let m=0;m<s;m++){const p=v+r*i+m*l;this.setSliceDataValue(g,v+m*i,this._get(p))}break;case 2:f=i*o,g=new u(f);for(let v=0;v<f;v++)this.setSliceDataValue(g,v,this._get(c+v));break;default:throw new Error("Oblique plane - todo - implement as ortho normal vector")}return g},this.dimensions=e,this.width=e[0],this.frameSize=this.width*e[1],this._get=n._get,this._set=n._set,this._id=n._id||"",this._getConstructor=n._getConstructor,this.numberOfComponents=this.numberOfComponents||1,this.scalarData=n.scalarData,this._getScalarData=n._getScalarData,this._updateScalarData=n._updateScalarData}getMinMax(){let e,n;const r=({value:a})=>{const i=Array.isArray(a);if(e===void 0&&(e=i?[...a]:a,n=i?[...a]:a),i)for(let o=0;o<a.length;o++)e[o]=Math.min(e[o],a[o]),n[o]=Math.max(n[o],a[o]);else e=Math.min(e,a),n=Math.max(n,a)};return this.forEach(r,{boundsIJK:this.getDefaultBounds()}),{min:e,max:n}}toIJK(e){return[e%this.width,Math.floor(e%this.frameSize/this.width),Math.floor(e/this.frameSize)]}toIndex(e){return e[0]+e[1]*this.width+e[2]*this.frameSize}getDefaultBounds(){return this.dimensions.map(e=>[0,e-1])}getBoundsIJK(){return this.boundsIJK[0][0]<this.dimensions[0]?this.boundsIJK:this.getDefaultBounds()}rleForEach(e,n){const r=(n==null?void 0:n.boundsIJK)||this.getBoundsIJK(),{isWithinObject:a}=n||{},i=this.map;i.defaultValue=void 0;for(let o=r[2][0];o<=r[2][1];o++)for(let s=r[1][0];s<=r[1][1];s++){const l=i.getRun(s,o);if(l)for(const c of l){const{start:f,end:u,value:d}=c,g=this.toIndex([0,s,o]);for(let v=f;v<u;v++){const m={value:d,index:g+v,pointIJK:[v,s,o]};(a==null?void 0:a(m))!==!1&&e(m)}}}}getScalarData(e=!1){var n;if(this.scalarData)return(n=this._updateScalarData)==null||n.call(this,this.scalarData),this.scalarData;if(this._getScalarData){const r=this._getScalarData();return e&&console.log("Not transient, should store value",r),r}throw new Error("No scalar data available")}setScalarData(e){this.scalarData=e}getScalarDataLength(){if(this.scalarData)return this.scalarData.length;if(this._getScalarDataLength)return this._getScalarDataLength();throw new Error("No scalar data available")}get sizeInBytes(){return this.getScalarDataLength()*this.bytePerVoxel}get bytePerVoxel(){return this.scalarData?this.scalarData.BYTES_PER_ELEMENT:this._get(0).BYTES_PER_ELEMENT}clear(){var e,n;(e=this.map)==null||e.clear(),this.boundsIJK.map(r=>{r[0]=1/0,r[1]=-1/0}),this.modifiedSlices.clear(),(n=this.points)==null||n.clear()}getConstructor(){return this.scalarData?this.scalarData.constructor:this._getConstructor?this._getConstructor():(console.warn("No scalar data available or can be used to get the constructor"),Float32Array)}getArrayOfModifiedSlices(){return Array.from(this.modifiedSlices)}resetModifiedSlices(){this.modifiedSlices.clear()}static addBounds(e,n){e||(e=[[1/0,-1/0],[1/0,-1/0],[1/0,-1/0]]),e[0][0]=Math.min(n[0],e[0][0]),e[0][1]=Math.max(n[0],e[0][1]),e[1][0]=Math.min(n[1],e[1][0]),e[1][1]=Math.max(n[1],e[1][1]),e[2][0]=Math.min(n[2],e[2][0]),e[2][1]=Math.max(n[2],e[2][1])}addPoint(e){const n=Array.isArray(e)?e[0]+this.width*e[1]+this.frameSize*e[2]:e;this.points||(this.points=new Set),this.points.add(n)}getPoints(){return this.points?[...this.points].map(e=>this.toIJK(e)):[]}setSliceDataValue(e,n,r){if(Array.isArray(r))for(let a=0;a<r.length;a++)e[n*r.length+a]=this.toNumber(r[a]);else e[n]=this.toNumber(r)}toNumber(e){return typeof e=="number"?e:Array.isArray(e)&&e[0]||0}static _createRGBScalarVolumeVoxelManager({dimensions:e,scalarData:n,numberOfComponents:r=3}){const a=new Gr(e,{_get:i=>(i*=r,[n[i++],n[i++],n[i++]]),_id:"_createRGBScalarVolumeVoxelManager",_set:(i,o)=>{i*=3;const s=!Da(n[i],o);return n[i++]=o[0],n[i++]=o[1],n[i++]=o[2],s},numberOfComponents:r,scalarData:n});return a.clear=()=>{n.fill(0)},a}static createImageVolumeVoxelManager({dimensions:e,imageIds:n,numberOfComponents:r=1}){const a=e[0]*e[1];function i(f){const u=Math.floor(f/a);if(u<0||u>=e[2])return{};const d=n[u];if(!d)return console.warn(`ImageId not found for sliceIndex: ${u}`),{pixelData:null,pixelIndex:null};const g=Yt.getImage(d);if(!g)return console.warn(`Image not found for imageId: ${d}`),{pixelData:null,pixelIndex:null};const v=g.voxelManager,m=f%a;return{voxelManager:v,pixelIndex:m}}function o(f){const{voxelManager:u,pixelIndex:d}=i(f);return!u||d===null?null:u.getAtIndex(d)}function s(f,u){const{voxelManager:d,pixelIndex:g}=i(f);if(!d||g===null)return!1;const v=d.getAtIndex(g),m=!Da(u,v);return m&&(d.setAtIndex(g,u),!0)}const l=()=>{const{voxelManager:f,pixelIndex:u}=i(0);return!f||u===null?null:f.getConstructor()},c=new Gr(e,{_get:o,_set:s,numberOfComponents:r,_getConstructor:l,_id:"createImageVolumeVoxelManager"});return c.getMiddleSliceData=()=>{const f=Math.floor(e[2]/2);return c.getSliceData({sliceIndex:f,slicePlane:2})},c.clear=()=>{for(const f of n)Yt.getImage(f).voxelManager.clear()},c.getRange=()=>{let f=1/0,u=-1/0;for(const d of n){const g=Yt.getImage(d);g&&(g.minPixelValue<f&&(f=g.minPixelValue),g.maxPixelValue>u&&(u=g.maxPixelValue))}return f===1/0&&u===-1/0?[0,0]:[f,u]},c._getScalarDataLength=()=>{const{voxelManager:f,pixelIndex:u}=i(0);return!f||u===null?0:f.getScalarDataLength()*e[2]},c.getCompleteScalarDataArray=()=>{const f=c._getConstructor();if(!f)return new Uint8Array(0);const u=c.getScalarDataLength(),d=new f(u),g=e[0]*e[1]*r;for(let v=0;v<e[2];v++){const{voxelManager:m,pixelIndex:p}=i(v*g/r);if(m&&p!==null){const h=v*g,y=m.getScalarData();if(r===1)d.set(y,h);else for(let C=0;C<y.length;C+=r)for(let x=0;x<r;x++)d[h+C+x]=y[C+x]}}return d},c.setCompleteScalarDataArray=f=>{const u=e[0]*e[1]*r,d=c._getConstructor();let g=1/0,v=-1/0;for(let m=0;m<e[2];m++){const{voxelManager:p}=i(m*u/r);if(p&&d){const h=m*u,y=h+u,C=new d(u);if(C.set(f.subarray(h,y)),p.scalarData)p.scalarData.set(C),p.modifiedSlices.add(m);else for(let w=0;w<u;w++)p.setAtIndex(w,C[w]);for(let w=0;w<C.length;w++){const b=C[w];g=Math.min(g,b),v=Math.max(v,b)}const x=n[m],T=Yt.getImage(x);T&&(T.minPixelValue=g,T.maxPixelValue=v)}}for(let m=0;m<e[2];m++)c.modifiedSlices.add(m);c.boundsIJK=[[0,e[0]-1],[0,e[1]-1],[0,e[2]-1]]},c}static createScalarVolumeVoxelManager({dimensions:e,scalarData:n,numberOfComponents:r}){if(e.length!==3)throw new Error("Dimensions must be provided as [number, number, number] for [width, height, depth]");if(!r&&(r=n.length/e[0]/e[1]/e[2],r>4||r<1||r===2))throw new Error(`Number of components ${r} must be 1, 3 or 4`);return r>1?Gr._createRGBScalarVolumeVoxelManager({dimensions:e,scalarData:n,numberOfComponents:r}):Gr._createNumberVolumeVoxelManager({dimensions:e,scalarData:n})}static createScalarDynamicVolumeVoxelManager({imageIdGroups:e,dimensions:n,dimensionGroupNumber:r=1,timePoint:a=0,numberOfComponents:i=1}){let o=0;if(r!==void 0?o=r-1:a!==void 0&&(console.warn("Warning: timePoint parameter is deprecated. Please use dimensionGroupNumber instead. timePoint is zero-based while dimensionGroupNumber starts at 1."),o=a),!i){const c=Yt.getImage(e[0][0]);if(!c)throw new Error("Unable to determine number of components: No image found");if(i=c.getPixelData().length/(n[0]*n[1]),i>4||i<1||i===2)throw new Error(`Number of components ${i} must be 1, 3 or 4`)}const s=e.map(c=>Gr.createImageVolumeVoxelManager({dimensions:n,imageIds:c,numberOfComponents:i})),l=new Gr(n,{_get:c=>s[o]._get(c),_set:(c,f)=>s[o]._set(c,f),numberOfComponents:i,_id:"createScalarDynamicVolumeVoxelManager"});return l.getScalarDataLength=()=>s[o].getScalarDataLength(),l.getConstructor=()=>s[o].getConstructor(),l.getRange=()=>s[o].getRange(),l.getMiddleSliceData=()=>s[o].getMiddleSliceData(),l.setTimePoint=c=>{console.warn("Warning: setTimePoint is deprecated. Please use setDimensionGroupNumber instead. Note that timePoint is zero-based while dimensionGroupNumber starts at 1."),l.setDimensionGroupNumber(c+1)},l.setDimensionGroupNumber=c=>{o=c-1,l._get=f=>s[o]._get(f),l._set=(f,u)=>s[o]._set(f,u)},l.getAtIndexAndTimePoint=(c,f)=>(console.warn("Warning: getAtIndexAndTimePoint is deprecated. Please use getAtIndexAndDimensionGroup instead. Note that timePoint is zero-based while dimensionGroupNumber starts at 1."),l.getAtIndexAndDimensionGroup(c,f+1)),l.getAtIndexAndDimensionGroup=(c,f)=>s[f-1]._get(c),l.getTimePointScalarData=c=>(console.warn("Warning: getTimePointScalarData is deprecated. Please use getDimensionGroupScalarData instead. Note that timePoint is zero-based while dimensionGroupNumber starts at 1."),l.getDimensionGroupScalarData(c+1)),l.getDimensionGroupScalarData=c=>s[c-1].getCompleteScalarDataArray(),l.getCurrentTimePointScalarData=()=>(console.warn("Warning: getCurrentTimePointScalarData is deprecated. Please use getCurrentDimensionGroupScalarData instead."),l.getCurrentDimensionGroupScalarData()),l.getCurrentDimensionGroupScalarData=()=>s[o].getCompleteScalarDataArray(),l.getCurrentTimePoint=()=>(console.warn("Warning: getCurrentTimePoint is deprecated. Please use getCurrentDimensionGroupNumber instead. Note that timePoint is zero-based while dimensionGroupNumber starts at 1."),o),l.getCurrentDimensionGroupNumber=()=>o+1,l}static createImageVoxelManager({width:e,height:n,scalarData:r,numberOfComponents:a=1}){const i=[e,n,1];if(!a&&(a=r.length/e/n,a>4||a<1||a===2))throw new Error(`Number of components ${a} must be 1, 3 or 4`);return a>1?Gr._createRGBScalarVolumeVoxelManager({dimensions:i,scalarData:r,numberOfComponents:a}):Gr._createNumberVolumeVoxelManager({dimensions:i,scalarData:r})}static _createNumberVolumeVoxelManager({dimensions:e,scalarData:n}){const r=new Gr(e,{_get:a=>n[a],_set:(a,i)=>{const o=n[a]!==i;return n[a]=i,o},_getConstructor:()=>n.constructor,_id:"_createNumberVolumeVoxelManager"});return r.scalarData=n,r.clear=()=>{r.scalarData.fill(0)},r.getMiddleSliceData=()=>{const a=Math.floor(e[2]/2);return r.getSliceData({sliceIndex:a,slicePlane:2})},r}static createMapVoxelManager({dimension:e}){const n=new Map,r=new Gr(e,{_get:n.get.bind(n),_set:(a,i)=>n.set(a,i)&&!0,_id:"createMapVoxelManager"});return r.map=n,r}static createHistoryVoxelManager({sourceVoxelManager:e}){const n=new Map,{dimensions:r}=e,a=new Gr(r,{_get:i=>n.get(i),_set:function(i,o){if(n.has(i))o===n.get(i)&&n.delete(i);else{const s=this.sourceVoxelManager.getAtIndex(i);if(s===o)return!1;n.set(i,s)}this.sourceVoxelManager.setAtIndex(i,o)},_id:"createHistoryVoxelManager"});return a.map=n,a.scalarData=e.scalarData,a.sourceVoxelManager=e,a}static createRLEHistoryVoxelManager(e){const{dimensions:n}=e,r=new ec(n[0],n[1],n[2]),a=new Gr(n,{_get:i=>r.get(i),_set:function(i,o){const s=r.get(i);if(s===void 0){const l=this.sourceVoxelManager.getAtIndex(i);if(l===o||l===void 0&&o===0||o===null)return!1;r.set(i,l??0)}else(o===s||o===null)&&(r.delete(i),o=s);this.sourceVoxelManager.setAtIndex(i,o)},_getScalarData:ec.getScalarData,_updateScalarData:i=>(r.updateScalarData(i),i),_id:"createRLEHistoryVoxelManager"});return a.map=r,a.sourceVoxelManager=e,a}static createLazyVoxelManager({dimensions:e,planeFactory:n}){const r=new Map,[a,i]=e,o=a*i,s=new Gr(e,{_get:l=>r.get(Math.floor(l/o))[l%o],_set:(l,c)=>{const f=Math.floor(l/o);let u=r.get(f);return u||(u=n(a,i),r.set(f,u)),u[l%o]=c,!0},_id:"createLazyVoxelManager"});return s.map=r,s}static createRLEVolumeVoxelManager({dimensions:e}){const[n,r,a]=e,i=new ec(n,r,a),o=new Gr(e,{_get:s=>i.get(s),_set:(s,l)=>(i.set(s,l),!0),_getScalarData:ec.getScalarData,_updateScalarData:s=>(i.updateScalarData(s),s),_id:"createRLEVolumeVoxelManager"});return o.map=i,o.getPixelData=i.getPixelData.bind(i),o}static createRLEImageVoxelManager({dimensions:e}){const[n,r]=e;return Gr.createRLEVolumeVoxelManager({dimensions:[n,r,1]})}static addInstanceToImage(e){const{width:n,height:r}=e,a=e.voxelManager.getScalarData();if(a.length>=n*r){e.voxelManager=Gr.createScalarVolumeVoxelManager({dimensions:[n,r,1],scalarData:a});return}e.voxelManager=Gr.createRLEVolumeVoxelManager({dimensions:[n,r,1]}),e.getPixelData=e.voxelManager.getPixelData,e.sizeInBytes=Zwe}}class uy{constructor(e){this._imageIdsIndexMap=new Map,this._imageURIsIndexMap=new Map,this.cornerstoneImageMetaData=null,this.isPreScaled=!1,this.numTimePoints=null,this.numFrames=null;const{imageIds:n,scaling:r,dimensions:a,spacing:i,origin:o,direction:s,dataType:l,volumeId:c,referencedVolumeId:f,metadata:u,referencedImageIds:d,additionalDetails:g,voxelManager:v,numberOfComponents:m}=e;if(!l)throw new Error('Data type is required, please provide a data type as string such as "Uint8Array", "Float32Array", etc.');let{imageData:p}=e;this.imageIds=n,this.volumeId=c,this.metadata=u,this.dimensions=a,this.spacing=i,this.origin=o,this.direction=s,this.dataType=l,this.vtkOpenGLTexture=Pxe.newInstance(),this.vtkOpenGLTexture.setVolumeId(c),this.voxelManager=v??Gr.createImageVolumeVoxelManager({dimensions:a,imageIds:n,numberOfComponents:m}),this.numVoxels=this.dimensions[0]*this.dimensions[1]*this.dimensions[2],p||(p=ny.newInstance(),p.setDimensions(a),p.setSpacing(i),p.setDirection(s),p.setOrigin(o)),p.set({dataType:l,voxelManager:this.voxelManager,id:c,numberOfComponents:m||1}),p.set({hasScalarVolume:!1}),this.imageData=p,this.numFrames=this._getNumFrames(),this._reprocessImageIds(),r&&(this.scaling=r),f&&(this.referencedVolumeId=f),d&&(this.referencedImageIds=d),g&&(this.additionalDetails=g)}get sizeInBytes(){return this.voxelManager.sizeInBytes}get imageIds(){return this._imageIds}set imageIds(e){this._imageIds=e,this._reprocessImageIds()}_reprocessImageIds(){this._imageIdsIndexMap.clear(),this._imageURIsIndexMap.clear(),this._imageIds.forEach((e,n)=>{const r=Ai(e);this._imageIdsIndexMap.set(e,n),this._imageURIsIndexMap.set(r,n)})}isDynamicVolume(){return this.numTimePoints>1}getImageIdIndex(e){return this._imageIdsIndexMap.get(e)}getImageIdByIndex(e){return this._imageIds[e]}getImageURIIndex(e){return this._imageURIsIndexMap.get(e)}load(e){}destroy(){this.imageData.delete(),this.imageData=null,this.voxelManager.clear(),this.vtkOpenGLTexture.releaseGraphicsResources(),this.vtkOpenGLTexture.delete()}invalidate(){for(let e=0;e<this.imageIds.length;e++)this.vtkOpenGLTexture.setUpdatedFrame(e);this.imageData.modified()}modified(){this.imageData.modified(),this.vtkOpenGLTexture.modified(),this.numFrames=this._getNumFrames()}removeFromCache(){Yt.removeVolumeLoadObject(this.volumeId)}getScalarDataLength(){return this.voxelManager.getScalarDataLength()}_getNumFrames(){return this.isDynamicVolume()?this.numTimePoints:this.imageIds.length}imageIdIndexToFrameIndex(e){return e%this.numFrames}getCornerstoneImages(){const{imageIds:e}=this;return e.map(n=>Yt.getImage(n))}}let zg={};const fy={add:(t,e)=>{fy.addRaw(t,{...e,metadata:structuredClone(e.metadata)})},addRaw:(t,e)=>{const n=e.type;zg[t]||(zg[t]={}),zg[t][n]=e.metadata},get:(t,e)=>{var n;return(n=zg[e])==null?void 0:n[t]},clear:()=>{zg={}}};ug(fy.get);const d0=new zw("imageLoadPool");d0.grabDelay=0;d0.setMaxSimultaneousRequests(Vn.Interaction,1e3);d0.setMaxSimultaneousRequests(Vn.Thumbnail,1e3);d0.setMaxSimultaneousRequests(Vn.Prefetch,1e3);const Cj={};let Jwe;function xj(t,e){const n=Yt.getImageLoadObject(t);if(n)return pM(n.promise,t),n;const r=t.split(":")[0],a=Cj[r]||Jwe;if(!a)throw new Error(`loadImageFromImageLoader: No image loader found for scheme '${r}'`);const i=a(t,e);return pM(i.promise,t),i}function pM(t,e){Promise.resolve(t).then(n=>{ebe(n),_t(Vt,It.IMAGE_LOADED,{image:n})}).catch(n=>{const r={imageId:e,error:n};_t(Vt,It.IMAGE_LOAD_FAILED,r)})}function ebe(t){if(!t.voxelManager){const{width:e,height:n,numberOfComponents:r}=t,a=Gr.createImageVoxelManager({scalarData:t.getPixelData(),width:e,height:n,numberOfComponents:r});t.voxelManager=a,t.getPixelData=()=>a.getScalarData(),delete t.imageFrame.pixelData}}function tbe(t,e={priority:0,requestType:"prefetch"}){if(t===void 0)throw new Error("loadImage: parameter imageId must not be undefined");return xj(t,e).promise}function _1(t,e={priority:0,requestType:"prefetch"}){if(t===void 0)throw new Error("loadAndCacheImage: parameter imageId must not be undefined");const n=xj(t,e);return Yt.getImageLoadObject(t)||Yt.putImageLoadObject(t,n),n.promise}function nbe(t,e){const{scalarData:n,origin:r,direction:a,targetBuffer:i,skipCreateBuffer:o,onCacheAdd:s,frameOfReferenceUID:l,voxelRepresentation:c}=e,f=e.dimensions,u=e.spacing;if(!f||!u)throw new Error("createAndCacheLocalImage: dimensions and spacing are required");const d=f[0],g=f[1],v=u[0],m=u[1],p={frameOfReferenceUID:l,rows:g,columns:d,imageOrientationPatient:a??[1,0,0,0,1,0],rowCosines:a?a.slice(0,3):[1,0,0],columnCosines:a?a.slice(3,6):[0,1,0],imagePositionPatient:r??[0,0,0],pixelSpacing:[m,v],rowPixelSpacing:m,columnPixelSpacing:v},h=d*g,y=n.length/h;let C;if(n){if(!(n instanceof Uint8Array||n instanceof Float32Array||n instanceof Uint16Array||n instanceof Int16Array))throw new Error("createAndCacheLocalImage: scalarData must be of type Uint8Array, Uint16Array, Int16Array or Float32Array");C=n}else if(!o){const{TypedArrayConstructor:M}=Kz(i==null?void 0:i.type,h);C=new M(h)}let x,T,w;if(C instanceof Uint8Array)x=8,T=8,w=7;else if(C instanceof Uint16Array)x=16,T=16,w=15;else if(C instanceof Int16Array)x=16,T=16,w=15;else if(C instanceof Float32Array)x=32,T=32,w=31;else throw new Error("Unsupported scalarData type");const b={samplesPerPixel:1,photometricInterpretation:C.length>f[0]*f[1]?"RGB":"MONOCHROME2",rows:g,columns:d,bitsAllocated:x,bitsStored:T,highBit:w},E={imagePlaneModule:p,imagePixelModule:b};["imagePlaneModule","imagePixelModule"].forEach(M=>{fy.add(t,{type:M,metadata:E[M]||{}})});const O=c===mU.RLE&&Gr.createRLEImageVoxelManager({dimensions:f})||Gr.createImageVoxelManager({height:g,width:d,numberOfComponents:y,scalarData:C});let D=C[0],R=C[0];for(let M=1;M<C.length;M++)C[M]<D&&(D=C[M]),C[M]>R&&(R=C[M]);const I={imageId:t,intercept:0,windowCenter:0,windowWidth:0,color:b.photometricInterpretation==="RGB",numberOfComponents:b.samplesPerPixel,dataType:i==null?void 0:i.type,slope:1,minPixelValue:D,maxPixelValue:R,rows:b.rows,columns:b.columns,getCanvas:void 0,height:b.rows,width:b.columns,rgba:void 0,columnPixelSpacing:p.columnPixelSpacing,rowPixelSpacing:p.rowPixelSpacing,FrameOfReferenceUID:p.frameOfReferenceUID,invert:!1,getPixelData:()=>O.getScalarData(),voxelManager:O,sizeInBytes:n.byteLength};return s==null||s(I),Yt.putImageSync(I.imageId,I),I}function z2(t,e){Cj[t]=e}function Tj(t){const e=t[0],{pixelRepresentation:n,bitsAllocated:r,bitsStored:a,highBit:i,photometricInterpretation:o,samplesPerPixel:s}=tn("imagePixelModule",e),l=[],c=tn("voiLutModule",e);let f;if(c){const{windowWidth:y,windowCenter:C}=c;if(f=c==null?void 0:c.voiLUTFunction,Array.isArray(y))for(let x=0;x<y.length;x++)l.push({windowWidth:y[x],windowCenter:C[x]});else l.push({windowWidth:y,windowCenter:C})}else l.push({windowWidth:void 0,windowCenter:void 0});const{modality:u,seriesInstanceUID:d}=tn("generalSeriesModule",e),{imageOrientationPatient:g,pixelSpacing:v,frameOfReferenceUID:m,columns:p,rows:h}=tn("imagePlaneModule",e);return{BitsAllocated:r,BitsStored:a,SamplesPerPixel:s,HighBit:i,PhotometricInterpretation:o,PixelRepresentation:n,Modality:u,ImageOrientationPatient:g,PixelSpacing:v,FrameOfReferenceUID:m,Columns:p,Rows:h,voiLut:l,VOILUTFunction:f,SeriesInstanceUID:d}}function wj(t){const{imagePositionPatient:e,imageOrientationPatient:n}=tn("imagePlaneModule",t[0]),r=Yr(n[0],n[1],n[2]),a=Yr(n[3],n[4],n[5]),i=Xt();ia(i,r,a);const o=Yr(e[0],e[1],e[2]),s=t[0].split(":")[0]==="wadouri";let l;function c(g){const{imagePositionPatient:v}=tn("imagePlaneModule",g),m=Xt(),p=Yr(v[0],v[1],v[2]);return Ca(m,o,p),Ln(m,i)}if(s){const g=[t[0],t[Math.floor(t.length/2)]];c(g[0]),c(g[1]);const v=tn("imagePlaneModule",g[1]);if(!v)throw new Error("Incomplete metadata required for volume construction.");const m=Xt(),p=Yr(v.imagePositionPatient[0],v.imagePositionPatient[1],v.imagePositionPatient[2]);Ca(m,o,p);const h=Ln(m,i);l=Math.abs(h)/Math.floor(t.length/2)}else{const g=t.map(m=>({distance:c(m),imageId:m}));g.sort((m,p)=>p.distance-m.distance);const v=g.length;l=Math.abs(g[v-1].distance-g[0].distance)/(v-1)}const{sliceThickness:f,spacingBetweenSlices:u}=tn("imagePlaneModule",t[0]),{strictZSpacingForVolumeViewport:d}=jw().rendering;return l===0&&!d&&(u?(console.debug("Could not calculate spacing. Using spacingBetweenSlices"),l=u):f?(console.debug("Could not calculate spacing and no spacingBetweenSlices. Using sliceThickness"),l=f):(console.debug("Could not calculate spacing. The VolumeViewport visualization is compromised. Setting spacing to 1 to render"),l=1)),l}function bj(t,e){const{imagePositionPatient:n,imageOrientationPatient:r}=tn("imagePlaneModule",t[0]);if(!e){const f=Yr(r[0],r[1],r[2]),u=Yr(r[3],r[4],r[5]);e=Xt(),ia(e,f,u)}const a=t[0].split(":")[0]==="wadouri",i=wj(t);let o;function s(f){const{imagePositionPatient:u}=tn("imagePlaneModule",f),d=Xt();return Ca(d,n,u),Ln(d,e)}if(a){const f=[t[0],t[Math.floor(t.length/2)]];o=t;const u=s(f[0]),d=s(f[1]);u-d<0&&o.reverse()}else{const f=t.map(u=>({distance:s(u),imageId:u}));f.sort((u,d)=>d.distance-u.distance),o=f.map(u=>u.imageId)}const{imagePositionPatient:l}=tn("imagePlaneModule",o[0]);return{zSpacing:i,origin:l,sortedImageIds:o}}function Ej(t){const e=tn("modalityLutModule",t)||{},n=tn("generalSeriesModule",t)||{},{modality:r}=n,a={rescaleSlope:e.rescaleSlope||1,rescaleIntercept:e.rescaleIntercept??0,modality:r},i=tn("scalingModule",t)||{};return{...a,...r==="PT"&&{suvbw:i.suvbw,suvbsa:i.suvbsa,suvlbm:i.suvlbm}}}const nb=t=>Object.values(t).some(n=>typeof n=="number"&&!Number.isInteger(n)),hM={Uint8Array:"Uint8Array",Int16Array:"Int16Array",Uint16Array:"Uint16Array",Float32Array:"Float32Array"};function rb(t,e){const n=Tj(t),{ImageOrientationPatient:r,PixelSpacing:a,Columns:i,Rows:o}=n,s=Yr(r[0],r[1],r[2]),l=Yr(r[3],r[4],r[5]),c=Xt();ia(c,s,l);const{zSpacing:f,origin:u,sortedImageIds:d}=bj(t,c),g=t.length,v=[a[1],a[0],f],m=[i,o,g].map(h=>Math.floor(h)),p=[...s,...l,...c];return{dimensions:m,spacing:v,origin:u,dataType:rbe(d,n),direction:p,metadata:n,imageIds:d,volumeId:e,voxelManager:null,numberOfComponents:n.PhotometricInterpretation==="RGB"?3:1}}function rbe(t,e){const{BitsAllocated:n,PixelRepresentation:r}=e,a=r===1,i=abe(t);if(i)return i;const[o,s,l]=[0,Math.floor(t.length/2),t.length-1],c=[o,s,l].map(g=>Ej(t[g])),f=c.some(g=>g.rescaleIntercept<0||g.rescaleSlope<0),u=c.some(g=>nb(g)),d=Ww();switch(n){case 8:return"Uint8Array";case 16:return d&&u?"Float32Array":a||f?"Int16Array":!a&&!f?"Uint16Array":"Float32Array";case 24:return"Uint8Array";case 32:return"Float32Array";default:throw new Error(`Bits allocated of ${n} is not defined to generate scalarData for the volume.`)}}function abe(t){const n=[0,Math.floor(t.length/2),t.length-1].map(a=>Yt.getImage(t[a]));if(!n.every(Boolean))return null;const r=n[0].getPixelData().constructor.name;return n.every(a=>a.getPixelData().constructor.name===r)&&r in hM?hM[r]:null}let x3=class Dj{constructor(e){this.name=e||"unknown"}static as(e){if(e.iterator)return e.iterator;const n=new Dj("as iterator");return e.then(r=>{try{n.add(r,!0)}catch(a){n.reject(a)}},r=>{n.reject(r)}),n}add(e,n=!1){this.nextValue=e,this.done||(this.done=n),this.waiting&&(this.waiting.resolve(e),this.waiting=void 0)}resolve(){this.done=!0,this.waiting&&(this.waiting.resolve(this.nextValue),this.waiting=void 0)}reject(e){var n;this.rejectReason=e,(n=this.waiting)==null||n.reject(e)}getRecent(){if(this.rejectReason)throw this.rejectReason;return this.nextValue}async*[Symbol.asyncIterator](){for(;!this.done;){if(this.rejectReason)throw this.rejectReason;if(this.nextValue!==void 0&&(yield this.nextValue,this.done))break;this.waiting||(this.waiting={},this.waiting.promise=new Promise((e,n)=>{this.waiting.resolve=e,this.waiting.reject=n})),await this.waiting.promise}yield this.nextValue}async forEach(e,n){let r=0;try{for await(const a of this){const{done:i}=this;try{await e(a,i,r),r++}catch(o){if(!i){console.warn("Caught exception in intermediate value",o);continue}if(n)n(o,i);else throw o}}}catch(a){if(n)n(a,!0);else throw a}}generate(e,n){return e(this,this.reject.bind(this)).then(()=>{this.done||this.resolve()},r=>{this.reject(r),n?n(r):console.warn("Couldn't process because",r)})}async nextPromise(){for await(const e of this)if(e)return e;return this.nextValue}async donePromise(){for await(const e of this);return this.nextValue}getNextPromise(){const e=this.nextPromise();return e.iterator=this,e}getDonePromise(){const e=this.donePromise();return e.iterator=this,e}};const Qf=new Map,SM="imageRetrieveConfiguration",jv={IMAGE_RETRIEVE_CONFIGURATION:SM,clear:()=>{Qf.clear()},add:(t,e)=>{Qf.set(t,e)},clone:()=>new Map(Qf),restore:t=>{Qf.clear(),t.forEach((e,n)=>{Qf.set(n,e)})},get:(t,...e)=>{if(t===SM)return e.map(n=>Qf.get(n)).find(n=>n!==void 0)}};ug(jv.get.bind(jv));function dy(t){const e=p0(),n=[];return e.forEach(r=>{const i=r.getVolumeViewports().filter(o=>o.hasVolumeId(t));n.push(...i)}),n}const ox=t=>{const e=ibe(t);e!=null&&e.length&&e.forEach(({renderingEngine:n,viewportIds:r})=>{n.hasBeenDestroyed||n.renderViewports(r)})};function ibe(t){const e=p0(),n=[];return e.forEach(r=>{const a=dy(t);a.length&&n.push({renderingEngine:r,viewportIds:a.map(i=>i.id)})}),n}const yM=[{id:"initialImages",retrieveType:"single"}],obe=[{id:"lossySequential",retrieveType:"singleFast"},{id:"finalSequential",retrieveType:"singleFinal"}],P8=[{offset:-1,imageQualityStatus:Mo.ADJACENT_REPLICATE},{offset:1,imageQualityStatus:Mo.ADJACENT_REPLICATE},{offset:2,imageQualityStatus:Mo.FAR_REPLICATE}],sbe=[{id:"initialImages",positions:[.5,0,-1],retrieveType:"default",requestType:Vn.Thumbnail,priority:5,nearbyFrames:P8},{id:"quarterThumb",decimate:4,offset:3,requestType:Vn.Thumbnail,retrieveType:"multipleFast",priority:6,nearbyFrames:P8},{id:"halfThumb",decimate:4,offset:1,priority:7,requestType:Vn.Thumbnail,retrieveType:"multipleFast",nearbyFrames:P8},{id:"quarterFull",decimate:4,offset:2,priority:8,requestType:Vn.Thumbnail,retrieveType:"multipleFinal"},{id:"halfFull",decimate:4,offset:0,priority:9,requestType:Vn.Thumbnail,retrieveType:"multipleFinal"},{id:"threeQuarterFull",decimate:4,offset:1,priority:10,requestType:Vn.Thumbnail,retrieveType:"multipleFinal"},{id:"finalFull",decimate:4,offset:3,priority:11,requestType:Vn.Thumbnail,retrieveType:"multipleFinal"},{id:"errorRetrieve"}];function Oj(t,e,n=0){const r=[];for(let a=n;a<t.length;a+=e)r.push(a);return r}function lbe(t,e,n){var r;if((r=e==null?void 0:e.nearbyRequests)!=null&&r.length)for(const a of e.nearbyRequests)try{const{itemId:i,imageQualityStatus:o}=a,s=Yt.getImageQuality(i);if(s!==void 0&&s>=o)continue;const l={...n,imageId:i,imageQualityStatus:o};Yt.setPartialImage(i,l),t.successCallback(i,l)}catch(i){console.warn("Couldn't fill nearby item ",a.itemId,i)}}const Ad=class Ad{constructor(e){this.stages=e.stages||yM,this.retrieveOptions=e.retrieveOptions||{}}loadImages(e,n){return new cbe(this,e,n).loadImages()}};Ad.createProgressive=Rj,Ad.interleavedRetrieveStages={stages:sbe},Ad.singleRetrieveStages={stages:yM},Ad.sequentialRetrieveStages={stages:obe};let T3=Ad;class cbe{constructor(e,n,r){this.outstandingRequests=0,this.stageStatusMap=new Map,this.displayedIterator=new x3("displayed"),this.stages=e.stages,this.retrieveOptions=e.retrieveOptions,this.imageIds=n,this.listener=r}async loadImages(){const e=this.createStageRequests();this.outstandingRequests=e.length;for(const n of e)this.addRequest(n);return this.outstandingRequests===0?Promise.resolve(null):this.displayedIterator.getDonePromise()}sendRequest(e,n){const{imageId:r,next:a}=e,i=(f,u)=>{this.listener.errorCallback(r,l||!a,f),u&&this.updateStageStatus(e.stage,f)},o=(n.loader||_1)(r,n),s=x3.as(o);let l=!1;return s.forEach(async(f,u)=>{const d=Yt.getImageQuality(r);if(!f){console.warn("No image retrieved",r);return}const{imageQualityStatus:g}=f;if(l||(l=g===Mo.FULL_RESOLUTION),d!==void 0&&d>g){this.updateStageStatus(e.stage,null,!0);return}this.listener.successCallback(r,f),this.displayedIterator.add(f),u&&this.updateStageStatus(e.stage),lbe(this.listener,e,f)},i).finally(()=>{if(!l&&a)Yt.setPartialImage(r),this.addRequest(a,n.streamingData);else{l||this.listener.errorCallback(r,!0,"Couldn't decode"),this.outstandingRequests--;for(let f=a;f;f=f.next)this.updateStageStatus(f.stage,null,!0)}this.outstandingRequests<=0&&this.displayedIterator.resolve()}),s.getDonePromise().catch(f=>null)}addRequest(e,n={}){const{imageId:r,stage:a}=e,i=this.listener.getLoaderImageOptions(r);if(!i)return;const{retrieveType:o="default"}=a,{retrieveOptions:s}=this,l=s[o]||s.default,c={...i,retrieveType:o,retrieveOptions:l,streamingData:n},f=a.priority??-5,u=a.requestType||Vn.Interaction,d={imageId:r};d0.addRequest(this.sendRequest.bind(this,e,c),u,d,f)}updateStageStatus(e,n,r=!1){const{id:a}=e,i=this.stageStatusMap.get(a);if(i&&(i.imageLoadPendingCount--,n?i.imageLoadFailedCount++:r||i.totalImageCount++,!r&&!i.stageStartTime&&(i.stageStartTime=Date.now()),!i.imageLoadPendingCount)){const{imageLoadFailedCount:o,totalImageCount:s,stageStartTime:l=Date.now(),startTime:c}=i,f={stageId:a,numberOfFailures:o,numberOfImages:s,stageDurationInMS:l?Date.now()-l:null,startDurationInMS:Date.now()-c};_t(Vt,It.IMAGE_RETRIEVAL_STAGE,f),this.stageStatusMap.delete(a)}}createStageRequests(){const e=new Array,n=new Map,r=(a,i)=>{const o=i<0?this.imageIds.length+i:i<1?Math.floor((this.imageIds.length-1)*i):i,s=this.imageIds[o];if(!s)throw new Error(`No value found to add to requests at ${i}`);const l={imageId:s,stage:a,index:o,nearbyRequests:this.findNearbyRequests(o,a)};this.addStageStatus(a);const c=n.get(s);c?c.next=l:e.push(l),n.set(s,l)};for(const a of this.stages)(a.positions||Oj(this.imageIds,a.decimate||1,a.offset??0)).forEach(o=>{r(a,o)});return e}findNearbyRequests(e,n){const r=new Array;if(!n.nearbyFrames)return r;for(const a of n.nearbyFrames){const i=e+a.offset;i<0||i>=this.imageIds.length||r.push({itemId:this.imageIds[i],imageQualityStatus:a.imageQualityStatus,index:i})}return r}addStageStatus(e){const{id:n}=e,r=this.stageStatusMap.get(n)||{stageId:n,startTime:Date.now(),stageStartTime:null,totalImageCount:0,imageLoadFailedCount:0,imageLoadPendingCount:0};return r.imageLoadPendingCount++,this.stageStatusMap.set(n,r),r}}function Rj(t){return new T3(t)}const CM=Vn.Prefetch;class ube extends uy{constructor(e,n){super(e),this.framesLoaded=0,this.framesProcessed=0,this.framesUpdated=0,this.autoRenderOnLoad=!0,this.cachedFrames=[],this.reRenderTarget=0,this.reRenderFraction=2,this.imagesLoader=this,this.cancelLoading=()=>{const{loadStatus:r}=this;if(!r||!r.loading)return;r.loading=!1,r.cancelled=!0,this.clearLoadCallbacks();const a=({additionalDetails:i})=>i.volumeId!==this.volumeId;d0.filterRequests(a)},this.loadStatus=n.loadStatus}invalidateVolume(e){const{vtkOpenGLTexture:n}=this,{numFrames:r}=this;for(let a=0;a<r;a++)n.setUpdatedFrame(a);this.modified(),e&&ox(this.volumeId)}clearLoadCallbacks(){this.loadStatus.callbacks=[]}callLoadStatusCallback(e){const{framesUpdated:n,framesProcessed:r,totalNumFrames:a}=e,{volumeId:i,reRenderFraction:o,loadStatus:s,metadata:l}=this,{FrameOfReferenceUID:c}=l;if(this.autoRenderOnLoad&&(n>this.reRenderTarget||r===a)&&(this.reRenderTarget+=o,ox(i)),r===a){s.callbacks.forEach(u=>u(e));const f={FrameOfReferenceUID:c,volumeId:i};_t(Vt,It.IMAGE_VOLUME_LOADING_COMPLETED,f)}}updateTextureAndTriggerEvents(e,n,r=Mo.FULL_RESOLUTION){const a=this.imageIdIndexToFrameIndex(e),{cachedFrames:i,numFrames:o,totalNumFrames:s}=this,{FrameOfReferenceUID:l}=this.metadata;if(i[a]>r||i[a]===Mo.FULL_RESOLUTION)return;const f=r===Mo.FULL_RESOLUTION;i[e]=r,this.framesUpdated++,f&&(this.framesLoaded++,this.framesProcessed++);const u={FrameOfReferenceUID:l,volumeId:this.volumeId,numberOfFrames:o,framesProcessed:this.framesProcessed};_t(Vt,It.IMAGE_VOLUME_MODIFIED,u),f&&this.framesProcessed===this.totalNumFrames&&(this.loadStatus.loaded=!0,this.loadStatus.loading=!1),this.callLoadStatusCallback({success:!0,imageIdIndex:e,imageId:n,framesLoaded:this.framesLoaded,framesProcessed:this.framesProcessed,framesUpdated:this.framesUpdated,numFrames:o,totalNumFrames:s,complete:f,imageQualityStatus:r}),this.vtkOpenGLTexture.setUpdatedFrame(a),this.loadStatus.loaded&&(this.loadStatus.callbacks=[])}successCallback(e,n){const r=this.getImageIdIndex(e),{imageQualityStatus:a}=n;if(this.loadStatus.cancelled){console.warn("volume load cancelled, returning for imageIdIndex: ",r);return}this.updateTextureAndTriggerEvents(r,e,a),this.isDynamicVolume()&&this.checkDimensionGroupCompletion(r)}errorCallback(e,n,r){if(!n)return;const{totalNumFrames:a,numFrames:i}=this,o=this.getImageIdIndex(e);this.framesProcessed++,this.framesProcessed===a&&(this.loadStatus.loaded=!0,this.loadStatus.loading=!1),this.callLoadStatusCallback({success:!1,imageId:e,imageIdIndex:o,error:r,framesLoaded:this.framesLoaded,framesProcessed:this.framesProcessed,framesUpdated:this.framesUpdated,numFrames:i,totalNumFrames:a}),this.loadStatus.loaded&&(this.loadStatus.callbacks=[]);const s={error:r,imageIdIndex:o,imageId:e};_t(Vt,It.IMAGE_LOAD_ERROR,s)}load(e){const{imageIds:n,loadStatus:r,numFrames:a}=this,{transferSyntaxUID:i}=tn("transferSyntax",n[0])||{},o=tn(jv.IMAGE_RETRIEVE_CONFIGURATION,this.volumeId,i,"volume");if(this.imagesLoader=this.isDynamicVolume()?this:o?(o.create||T3.createProgressive)(o):this,r.loading===!0)return;const{loaded:s}=this.loadStatus,l=n.length;if(s){e&&e({success:!0,framesLoaded:l,framesProcessed:l,numFrames:a,totalNumFrames:l});return}e&&this.loadStatus.callbacks.push(e),this._prefetchImageIds()}getLoaderImageOptions(e){const{transferSyntaxUID:n}=tn("transferSyntax",e)||{},r=tn("imagePlaneModule",e)||{},{rows:a,columns:i}=r,o=this.getImageIdIndex(e),s=tn("modalityLutModule",e)||{},l=tn("generalSeriesModule",e)||{},c={rescaleSlope:s.rescaleSlope,rescaleIntercept:s.rescaleIntercept,modality:l.modality};if(c.modality==="PT"){const g=tn("scalingModule",e);g&&(this._addScalingToVolume(g),c.suvbw=g.suvbw)}const f=nb(c),u=Ww();if(this.isPreScaled=!0,c&&c.rescaleSlope!==void 0&&c.rescaleIntercept!==void 0){const{rescaleSlope:g,rescaleIntercept:v}=c;this.isPreScaled=typeof g=="number"&&typeof v=="number"}return!u&&f&&(this.isPreScaled=!1),{targetBuffer:{type:this.dataType,rows:a,columns:i},allowFloatRendering:u,preScale:{enabled:this.isPreScaled,scalingParameters:c},transferPixelData:!0,requestType:CM,transferSyntaxUID:n,additionalDetails:{imageId:e,imageIdIndex:o,volumeId:this.volumeId}}}callLoadImage(e,n,r){const{cachedFrames:a}=this;if(a[n]===Mo.FULL_RESOLUTION)return;const i=s=>{const{image:l}=s.detail;l.imageId===e&&(this.vtkOpenGLTexture.setUpdatedFrame(n),Vt.removeEventListener(It.IMAGE_CACHE_IMAGE_ADDED,i))};return Vt.addEventListener(It.IMAGE_CACHE_IMAGE_ADDED,i),x3.as(_1(e,r)).forEach(s=>{this.successCallback(e,s)},this.errorCallback.bind(this,n,e))}getImageIdsRequests(e,n){this.totalNumFrames=this.imageIds.length;const r=2;return this.autoRenderOnLoad&&(this.reRenderFraction=this.totalNumFrames*(r/100),this.reRenderTarget=this.reRenderFraction),e.map(i=>{const o=this.getImageIdIndex(i),s=CM,l=n,c=this.getLoaderImageOptions(i);return{callLoadImage:this.callLoadImage.bind(this),imageId:i,imageIdIndex:o,options:c,priority:l,requestType:s,additionalDetails:{volumeId:this.volumeId}}})}getImageLoadRequests(e){throw new Error("Abstract method")}getImageIdsToLoad(){throw new Error("Abstract method")}loadImages(){return this.loadStatus.loading=!0,this.getImageLoadRequests(5).reverse().forEach(n=>{if(!n)return;const{callLoadImage:r,imageId:a,imageIdIndex:i,options:o,priority:s,requestType:l,additionalDetails:c}=n;d0.addRequest(r.bind(this,a,i,o),l,c,s)}),Promise.resolve(!0)}_prefetchImageIds(){this.loadStatus.loading=!0;const e=[...this.getImageIdsToLoad()];this.totalNumFrames=this.imageIds.length;const n=2;return this.autoRenderOnLoad&&(this.reRenderFraction=this.totalNumFrames*(n/100),this.reRenderTarget=this.reRenderFraction),this.imagesLoader.loadImages(e,this).catch(r=>{console.debug("progressive loading failed to complete",r)})}_addScalingToVolume(e){if(this.scaling)return;const{suvbw:n,suvlbm:r,suvbsa:a}=e,i={};r&&(i.suvbwToSuvlbm=r/n),a&&(i.suvbwToSuvbsa=a/n),n&&(i.suvbw=n),this.scaling={PT:i}}checkDimensionGroupCompletion(e){}}class fbe extends ube{constructor(e,n){e.imageIds||(e.imageIds=n.imageIds),super(e,n),this.getImageIdsToLoad=()=>{const{imageIds:r}=this;return this.numFrames=r.length,r}}getScalarData(){return this.voxelManager.getScalarData()}getImageLoadRequests(e){const{imageIds:n}=this;return this.getImageIdsRequests(n,e)}}function dbe(t,e){if(!e||!e.imageIds||!e.imageIds.length)throw new Error("ImageIds must be provided to create a streaming image volume");async function n(){if(e.imageIds[0].split(":")[0]==="wadouri"){const[v,m]=[Math.floor(e.imageIds.length/2),e.imageIds.length-1],p=[0,v,m];await Promise.all(p.map(h=>Yt.isLoaded(e.imageIds[h])?Promise.resolve(!0):new Promise((y,C)=>{const x=e.imageIds[h];d0.addRequest(async()=>{tbe(x).then(()=>{console.log(`Prefetched imageId: ${x}`),y(!0)}).catch(T=>{C(T)})},Vn.Prefetch,{volumeId:t},1)}))).catch(console.error)}const a=rb(e.imageIds,t),{dimensions:i,spacing:o,origin:s,direction:l,metadata:c,imageIds:f,dataType:u,numberOfComponents:d}=a;return new fbe({volumeId:t,metadata:c,dimensions:i,spacing:o,origin:s,direction:l,imageIds:f,dataType:u,numberOfComponents:d},{imageIds:f,loadStatus:{loaded:!1,loading:!1,cancelled:!1,cachedFrames:[],callbacks:[]}})}const r=n();return{promise:r,decache:()=>{r.then(a=>{a.destroy(),a=null})},cancel:()=>{r.then(a=>{a.cancelLoading()})}}}const Ij={};let W2=dbe;function Aj(t,e){const n=t.indexOf(":"),r=t.substring(0,n);let a=Ij[r];if(a==null){if(W2==null||typeof W2!="function")throw new Error(`No volume loader for scheme ${r} has been registered`);a=W2}const i=a(t,e);return i.promise.then(function(o){_t(Vt,It.VOLUME_LOADED,{volume:o})},function(o){const s={volumeId:t,error:o};_t(Vt,It.VOLUME_LOADED_FAILED,s)}),i}function Mj(t,e={imageIds:[]}){if(t===void 0)throw new Error("loadVolume: parameter volumeId must not be undefined");let n=Yt.getVolumeLoadObject(t);return n!==void 0?n.promise:(n=Aj(t,e),n.promise.then(r=>r))}async function Pj(t,e){if(t===void 0)throw new Error("createAndCacheVolume: parameter volumeId must not be undefined");let n=Yt.getVolumeLoadObject(t);return n!==void 0||(n=Aj(t,e),Yt.putVolumeLoadObject(t,n)),n.promise}async function gbe(t,e){if(e===void 0)throw new Error("createAndCacheVolumeFromImages: parameter imageIds must not be undefined");if(t===void 0)throw new Error("createAndCacheVolumeFromImages: parameter volumeId must not be undefined");const n=Yt.getVolume(t);return n||(e.filter(i=>!Yt.getImage(i)).length===0?mbe(t,e):await Pj(t,{imageIds:e}))}function mbe(t,e){if(e===void 0)throw new Error("createAndCacheVolumeFromImagesSync: parameter imageIds must not be undefined");if(t===void 0)throw new Error("createAndCacheVolumeFromImagesSync: parameter volumeId must not be undefined");const n=Yt.getVolume(t);if(n)return n;const r=rb(e,t),a=new uy({volumeId:t,dataType:r.dataType,metadata:structuredClone(r.metadata),dimensions:r.dimensions,spacing:r.spacing,origin:r.origin,direction:r.direction,referencedVolumeId:r.referencedVolumeId,imageIds:r.imageIds,referencedImageIds:r.referencedImageIds});return Yt.putVolumeSync(t,a),a}function vbe(t,e={}){const{metadata:n,dimensions:r,spacing:a,origin:i,direction:o,scalarData:s,targetBuffer:l,preventCache:c=!1}=e,f=Yt.getVolume(t);if(f)return f;const u=r[0]*r[1],d=s?s.constructor.name:(l==null?void 0:l.type)??"Float32Array",g=u*r[2];let v;switch(d){case"Uint8Array":case"Int8Array":v=g;break;case"Uint16Array":case"Int16Array":v=g*2;break;case"Float32Array":v=g*4;break}if(!Yt.isCacheable(v))throw new Error(`Cannot created derived volume: Volume with id ${t} is not cacheable.`);const p=[];for(let C=0;C<r[2];C++){const x=`${t}_slice_${C}`;p.push(x);const T=s.subarray(C*u,(C+1)*u);nbe(x,{scalarData:T,dimensions:[r[0],r[1]],spacing:[a[0],a[1]],origin:i,direction:o,targetBuffer:{type:d}})}const h=new uy({volumeId:t,metadata:structuredClone(n),dimensions:[r[0],r[1],r[2]],spacing:a,origin:i,direction:o,imageIds:p,dataType:d}),y=Gr.createImageVolumeVoxelManager({imageIds:p,dimensions:r,numberOfComponents:1});return h.voxelManager=y,c||Yt.putVolumeSync(t,h),h}function pbe(){return Object.keys(Ij)}function hbe(){return W2.name}function Sbe(t,e){const n=Dxe.newInstance();jw().rendering.preferSizeOverAccuracy&&n.setPreferSizeOverAccuracy(!0),n.setInputData(t);const r=t.getSpacing(),a=(r[0]+r[1]+r[2])/6;return n.setMaximumSamplesPerRay(4e3),n.setSampleDistance(a),n.setScalarTexture(e),n}function ybe(t){const e=FW.newInstance();e.setBlendMode(t.getBlendMode());const n=t.getInputData(),{voxelManager:r}=n.get("voxelManager"),a=r.getCompleteScalarDataArray(),i=Bn.newInstance({name:"Pixels",values:a});return n.getPointData().setScalars(i),e.setInputData(n),e.setMaximumSamplesPerRay(t.getMaximumSamplesPerRay()),e.setSampleDistance(t.getSampleDistance()),e}const Cbe=0,xbe=Vn.Prefetch;async function ab(t,e){let n=wbe(e);!n&&e.imageIds.length&&(n=await bbe(e),n=Tbe(e,n)),!(n.lower===0&&n.upper===0||n.lower===void 0||n.upper===void 0)&&t.getProperty().getRGBTransferFunction(0).setMappingRange(n.lower,n.upper)}function Tbe(t,e){const n=t.imageIds,r=Math.floor(n.length/2),a=n[r],i=tn("generalSeriesModule",a)||{};return Ebe(i.modality,t)?{lower:0,upper:5}:e}function wbe(t){const{imageIds:e,metadata:n}=t;let r;if(e!=null&&e.length){const a=Math.floor(e.length/2),i=e[a],o=tn("voiLutModule",i);if(o&&o.windowWidth&&o.windowCenter){o!=null&&o.voiLUTFunction&&(r={},r.voiLUTFunction=o==null?void 0:o.voiLUTFunction);const{windowWidth:s,windowCenter:l}=o,c=Array.isArray(s)?s[0]:s,f=Array.isArray(l)?l[0]:l;c!==0&&(r={windowWidth:c,windowCenter:f})}}else r=n.voiLut[0];if(r&&(r.windowWidth!==0||r.windowCenter!==0)){const{lower:a,upper:i}=Kd(Number(r.windowWidth),Number(r.windowCenter),r.voiLUTFunction);return{lower:a,upper:i}}}async function bbe(t){var g;const{imageIds:e}=t,n=Math.floor(e.length/2),r=t.imageIds[n],a=tn("generalSeriesModule",r)||{},{modality:i}=a,o=tn("modalityLutModule",r)||{},s={rescaleSlope:o.rescaleSlope,rescaleIntercept:o.rescaleIntercept,modality:i};let l;if(i==="PT"){const v=tn("scalingModule",r);v&&(l={...s,suvbw:v.suvbw})}const c={priority:Cbe,requestType:xbe,preScale:{scalingParameters:l}};let f=Yt.getImage(r);(g=t.referencedImageIds)!=null&&g.length||(f=await _1(r,{...c,ignoreCache:!0}));let{min:u,max:d}=f.voxelManager.getMinMax();return(u==null?void 0:u.length)>1&&(u=Math.min(...u),d=Math.max(...d)),{lower:u,upper:d}}function Ebe(t,e){var n;return!(t!=="PT"||!e.isPreScaled||!((n=e.scaling)!=null&&n.PT.suvbw))}async function sx(t,e,n,r=!1){const{volumeId:a,callback:i,blendMode:o}=t,s=await Mj(a);if(!s)throw new Error(`imageVolume with id: ${s.volumeId} does not exist`);const{imageData:l,vtkOpenGLTexture:c}=s,f=Sbe(l,c);o&&f.setBlendMode(o);const u=y7e.newInstance();u.setMapper(f);const{numberOfComponents:d}=l.get("numberOfComponents");return u.getProperty().set({viewportId:n}),d===3&&u.getProperty().setIndependentComponents(!1),await ab(u,s),i&&i({volumeActor:u,volumeId:a}),r||Dbe(e,n,u,a),u}function Dbe(t,e,n,r){const a=n.getProperty().getRGBTransferFunction(0).getRange(),i={viewportId:e,range:{lower:a[0],upper:a[1]},volumeId:r};_t(t,It.VOI_MODIFIED,i)}const dg=t=>{const e="volumeId:",n=t.includes(e)?t.substring(e.length):t,r=n.indexOf("sliceIndex=");return r===-1?n:n.substring(0,r-1)},Obe=1+l0,Rbe=(t,e)=>e===t.substring(0,Math.min(t.length,e.length)),xM=t=>!!pbe().find(e=>Rbe(t.volumeId,e));function _p(t,e,n,r=!1){const{viewPlaneNormal:a}=e,i=t.getActors();if(!i.length)return{spacingInNormalDirection:null,imageVolume:null,actorUID:null};const o=i.map(c=>{const f=c.referencedId??c.uid;return Yt.getVolume(f)}).filter(c=>!!c);if(n){const c=dg(n),f=o.findIndex(v=>c.includes(v.volumeId)),u=o[f],{uid:d}=i[f],g=TM(u,a,t,r);return{imageVolume:u,spacingInNormalDirection:g,actorUID:d}}if(!o.length)return{spacingInNormalDirection:null,imageVolume:null,actorUID:null};const s={spacingInNormalDirection:1/0,imageVolume:null,actorUID:null},l=o.find(xM);for(let c=0;c<o.length;c++){const f=o[c];if(l&&!xM(f))continue;const u=TM(f,a,t);u*Obe<s.spacingInNormalDirection&&(s.spacingInNormalDirection=u,s.imageVolume=f,s.actorUID=i[c].uid)}return s}function TM(t,e,n,r=!1){const{slabThickness:a}=n.getProperties();let i=a;return(!a||!r)&&(i=Pp(t,e)),i}function w3(t){const e=t.getCamera(),{spacingInNormalDirection:n,imageVolume:r}=_p(t,e);if(!r)return;const{viewPlaneNormal:a,focalPoint:i}=e,o=t.getActors().find(v=>v.referencedId===r.volumeId||v.uid===r.volumeId);o||console.warn("No actor found for with actorUID of",r.volumeId);const s=o.actor,l=sy(s,a,i),{min:c,max:f,current:u}=l,d=Math.round((f-c)/n)+1;let g=(u-c)/(f-c)*d;return g=Math.floor(g),g>d-1?g=d-1:g<0&&(g=0),{numberOfSlices:d,imageIndex:g}}const Ed={};function Ibe(t){Ed[t]!==void 0&&delete Ed[t]}function Abe(t){const{renderingEngineId:e,viewportId:n}=t.detail,a=Of(e).getViewport(n);if(!("setVolumes"in a))throw new Error("volumeNewImageEventDispatcher: viewport does not have setVolumes method");Ed[a.id]===void 0&&(Ed[a.id]=0);const i=w3(a);if(!i){console.warn(`volumeNewImageEventDispatcher: sliceData is undefined for viewport ${a.id}`);return}const{numberOfSlices:o,imageIndex:s}=i;if(Ed[a.id]===s)return;Ed[a.id]=s;const l={imageIndex:s,viewportId:n,renderingEngineId:e,numberOfSlices:o};_t(a.element,It.VOLUME_NEW_IMAGE,l)}function Lj(t,e,n){const[r,a,i]=t,[o,s,l]=e,[c,f,u,d]=n,g=o-r,v=s-a,m=l-i,p=-1*(c*r+f*a+u*i-d)/(c*g+f*v+u*m),h=g*p+r,y=v*p+a,C=m*p+i;return[h,y,C]}function _j(t,e,n=!1){const[r,a,i]=t,o=r*e[0]+a*e[1]+i*e[2];if(n){const s=Math.sqrt(r*r+a*a+i*i);return[r/s,a/s,i/s,o/s]}return[r,a,i,o]}function Mbe(t,e,n){const[r,a,i,o]=t,[s,l,c,f]=e,[u,d,g,v]=n,m=cm(r,s,u,a,l,d,i,c,g),p=cm(o,f,v,a,l,d,i,c,g),h=cm(r,s,u,o,f,v,i,c,g),y=cm(r,s,u,a,l,d,o,f,v),C=Su(p)/Su(m),x=Su(h)/Su(m),T=Su(y)/Su(m);return[C,x,T]}function Nj(t,e,n=!1){const[r,a,i,o]=t,[s,l,c]=e,f=r*s+a*l+i*c-o,u=Math.abs(f)/Math.sqrt(r*r+a*a+i*i);return(n?Math.sign(f):1)*u}const Pbe=Object.freeze(Object.defineProperty({__proto__:null,linePlaneIntersection:Lj,planeDistanceToPoint:Nj,planeEquation:_j,threePlaneIntersection:Mbe},Symbol.toStringTag,{value:"Module"}));function lx(t){return Array.isArray(t)?t.some(e=>Number.isNaN(e)):Number.isNaN(t)}function Es(t){if(t===null||typeof t!="object"||typeof t=="function"||typeof structuredClone=="function")return t;if(Array.isArray(t))return t.map(Es);{const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Es(t[n]));return e}}const Ym=class Ym{constructor(e){this.insetImageMultiplier=1.1,this.flipHorizontal=!1,this.flipVertical=!1,this.viewportStatus=Bi.NO_DATA,this._suppressCameraModifiedEvents=!1,this.hasPixelSpacing=!0,this.getProperties=()=>({}),this.setRotation=n=>{},this.viewportWidgets=new Map,this.addWidget=(n,r)=>{this.viewportWidgets.set(n,r)},this.getWidget=n=>this.viewportWidgets.get(n),this.getWidgets=()=>Array.from(this.viewportWidgets.values()),this.removeWidgets=()=>{this.getWidgets().forEach(r=>{if(r.getEnabled()&&r.setEnabled(!1),r.getActor&&r.getRenderer){const a=r.getActor(),i=r.getRenderer();i&&a&&i.removeActor(a)}})},this.id=e.id,this.renderingEngineId=e.renderingEngineId,this.type=e.type,this.element=e.element,this.canvas=e.canvas,this.sx=e.sx,this.sy=e.sy,this.sWidth=e.sWidth,this.sHeight=e.sHeight,this._actors=new Map,this.element.setAttribute("data-viewport-uid",this.id),this.element.setAttribute("data-rendering-engine-uid",this.renderingEngineId),this.defaultOptions=Es(e.defaultOptions),this.suppressEvents=e.defaultOptions.suppressEvents?e.defaultOptions.suppressEvents:!1,this.options=Es(e.defaultOptions),this.isDisabled=!1}static get useCustomRenderingPipeline(){return!1}setRendered(){this.viewportStatus===Bi.NO_DATA||this.viewportStatus===Bi.LOADING||(this.viewportStatus=Bi.RENDERED)}getRenderingEngine(){return Vv.get(this.renderingEngineId)}getRenderer(){var n;const e=this.getRenderingEngine();if(!e||e.hasBeenDestroyed)throw new Error("Rendering engine has been destroyed");return(n=e.offscreenMultiRenderWindow)==null?void 0:n.getRenderer(this.id)}render(){this.getRenderingEngine().renderViewport(this.id)}setOptions(e,n=!1){var r,a;this.options=structuredClone(e),(r=this.options)!=null&&r.displayArea&&this.setDisplayArea((a=this.options)==null?void 0:a.displayArea),n&&this.render()}reset(e=!1){this.options=structuredClone(this.defaultOptions),e&&this.render()}getSliceViewInfo(){throw new Error("Method not implemented.")}flip({flipHorizontal:e,flipVertical:n}){const r=this.getDefaultImageData();if(!r)return;const a=this.getCamera(),{viewPlaneNormal:i,viewUp:o,focalPoint:s,position:l}=a,c=ia(Xt(),i,o);let f=P5e(Xt(),o);const u=K0(Xt(),i),d=Bv(l,s),v=r.getDimensions().map(T=>Math.floor(T/2)),m=[v[0],v[1],v[2]],p=r.indexToWorld(m,Xt()),h=this._getFocalPointForResetCamera(p,a,{resetPan:!0,resetToCenter:!1}),y=Ga(Xt(),s,h),C=Tc(y),x=T=>{const w=q0(Xt(),T,2*Ln(y,T));return Ga(w,w,y),Na(w,w),w};if(e){const T=x(f),w=li(Xt(),h,T,C),b=li(Xt(),w,u,d);this.setCamera({viewPlaneNormal:u,position:b,focalPoint:w}),this.flipHorizontal=!this.flipHorizontal}if(n){f=K0(f,o);const T=x(c),w=li(Xt(),h,T,C),b=li(Xt(),w,u,d);this.setCamera({focalPoint:w,viewPlaneNormal:u,viewUp:f,position:b}),this.flipVertical=!this.flipVertical}this.render()}getDefaultImageData(){const e=this.getDefaultActor();if(e&&Js(e))return e.actor.getMapper().getInputData()}getDefaultActor(){return this.getActors()[0]}getActors(){return Array.from(this._actors.values())}getActorUIDs(){return Array.from(this._actors.keys())}getActor(e){return this._actors.get(e)}getImageActor(e){const n=this.getActors();let r=n[0];return e&&(r=n.find(i=>i.referencedId===e)),!r||!Js(r)?null:r.actor}getActorUIDByIndex(e){const n=this.getActors()[e];if(n)return n.uid}getActorByIndex(e){return this.getActors()[e]}setActors(e){this.removeAllActors(),this.addActors(e,{resetCamera:!0})}_removeActor(e){const n=this.getActor(e);if(!n){console.warn(`Actor ${e} does not exist for this viewport`);return}this.getRenderer().removeViewProp(n.actor),this._actors.delete(e)}removeActors(e){e.forEach(n=>{this._removeActor(n)})}addActors(e,n={}){const{resetCamera:r=!1}=n,a=this.getRenderingEngine();if(!a||a.hasBeenDestroyed){console.warn("Viewport::addActors::Rendering engine has not been initialized or has been destroyed");return}e.forEach(s=>{this.addActor(s)});const i=this.getViewPresentation(),o=this.getViewReference();this.resetCamera(),r||(this.setViewReference(o),this.setViewPresentation(i))}addActor(e){const{uid:n,actor:r}=e,a=this.getRenderingEngine();if(!a||a.hasBeenDestroyed){console.warn(`Cannot add actor UID of ${n} Rendering Engine has been destroyed`);return}if(!n||!r)throw new Error("Actors should have uid and vtk Actor properties");if(this.getActor(n)){console.warn(`Actor ${n} already exists for this viewport`);return}const i=this.getRenderer();i==null||i.addActor(r),this._actors.set(n,Object.assign({},e)),this.updateCameraClippingPlanesAndRange()}removeAllActors(){var e;(e=this.getRenderer())==null||e.removeAllViewProps(),this._actors=new Map}resetCameraNoEvent(){this._suppressCameraModifiedEvents=!0,this.resetCamera(),this._suppressCameraModifiedEvents=!1}setCameraNoEvent(e){this._suppressCameraModifiedEvents=!0,this.setCamera(e),this._suppressCameraModifiedEvents=!1}_getViewImageDataIntersections(e,n,r){const a=r[0],i=r[1],o=r[2],s=a*n[0]+i*n[1]+o*n[2],l=e.getBounds(),c=this._getEdges(l),f=[];for(const u of c){const[[d,g,v],[m,p,h]]=u;if(a*(m-d)+i*(p-g)+o*(h-v)===0)continue;const y=Lj([d,g,v],[m,p,h],[a,i,o,s]);this._isInBounds(y,l)&&f.push(y)}return f}setInterpolationType(e,n){}setDisplayArea(e,n=!1){var o;if(!e)return;const{storeAsInitialCamera:r,type:a}=e;r&&(this.options.displayArea=e);const{_suppressCameraModifiedEvents:i}=this;if(this._suppressCameraModifiedEvents=!0,this.setCamera(this.fitToCanvasCamera),a==="SCALE"?this.setDisplayAreaScale(e):(this.setInterpolationType(((o=this.getProperties())==null?void 0:o.interpolationType)??G0.LINEAR),this.setDisplayAreaFit(e)),r&&(this.initialCamera=this.getCamera()),this._suppressCameraModifiedEvents=i,!n&&!i){const s={viewportId:this.id,displayArea:e,storeAsInitialCamera:r};_t(this.element,It.DISPLAY_AREA_MODIFIED,s),this.setCamera(this.getCamera())}}setDisplayAreaScale(e){const{scale:n=1}=e,r=this.canvas,a=r.height,i=r.width;if(a<8||i<8)return;const l=this.getDefaultImageData().getSpacing()[1];this.setInterpolationType(G0.NEAREST),this.setCamera({parallelScale:a*l/(2*n)}),delete e.imageArea,this.setDisplayAreaFit(e);const{focalPoint:c,position:f,viewUp:u,viewPlaneNormal:d}=this.getCamera(),g=Xt();if(r.height%2&&li(g,g,u,n*.5*l),r.width%2){const v=ia(Xt(),u,d);li(g,g,v,n*.5*l)}!g[0]&&!g[1]&&!g[2]||this.setCamera({focalPoint:Ac(Xt(),c,g),position:Ac(Xt(),f,g)})}setDisplayAreaFit(e){const{imageArea:n,imageCanvasPoint:r}=e,a=(window==null?void 0:window.devicePixelRatio)||1,i=this.getDefaultImageData();if(!i)return;const o=this.sWidth/a,s=this.sHeight/a,l=i.getDimensions(),c=this.worldToCanvas(i.indexToWorld([0,0,0])),f=this.worldToCanvas(i.indexToWorld([l[0],l[1],l[2]])),u=[Math.abs(f[0]-c[0]),Math.abs(f[1]-c[1])],[d,g]=u;let v=this.getZoom()/this.insetImageMultiplier;if(n){const[m,p]=n,h=Math.max(Math.abs(d/o),Math.abs(g/s)),y=Math.abs(m*d/o),C=Math.abs(p*g/s),x=this.getZoom(),T=this.getZoom(this.fitToCanvasCamera);v=(y>C?h/y:h/C)*x/T,this.setZoom(this.insetImageMultiplier*v,!1)}if(r){console.log("Starting pan update zoom=",v);const{imagePoint:m,canvasPoint:p=m||[.5,.5]}=r,[h,y]=p,C=o*(h-.5),x=s*(y-.5),[T,w]=m||p,b=v,E=this.insetImageMultiplier*b*d*(.5-T),O=this.insetImageMultiplier*b*g*(.5-w),D=E+C,R=O+x,I=[D,R];console.log("delta point",D,this.getPan()[0],E,C),xw(I,I,this.getPan()),this.setPan(I,!1)}}getDisplayArea(){var e;return(e=this.options)==null?void 0:e.displayArea}resetCamera(e){const{resetPan:n=!0,resetZoom:r=!0,resetToCenter:a=!0,storeAsInitialCamera:i=!0}=e||{},o=this.getRenderer();this.setCameraNoEvent({flipHorizontal:!1,flipVertical:!1});const s=this.getCamera(),l=o.computeVisiblePropBounds(),c=[0,0,0],f=this.getDefaultImageData();if(f){const M=f.getSpacing();l[0]=l[0]+M[0]/2,l[1]=l[1]-M[0]/2,l[2]=l[2]+M[1]/2,l[3]=l[3]-M[1]/2,l[4]=l[4]+M[2]/2,l[5]=l[5]-M[2]/2}const u=this.getVtkActiveCamera(),d=u.getViewPlaneNormal(),g=u.getViewUp();if(c[0]=(l[0]+l[1])/2,c[1]=(l[2]+l[3])/2,c[2]=(l[4]+l[5])/2,f){const A=f.getDimensions().map(L=>Math.floor(L/2)),B=[A[0],A[1],A[2]];f.indexToWorld(B,c)}const{widthWorld:v,heightWorld:m}=this._getWorldDistanceViewUpAndViewRight(l,g,d),p=[this.sWidth,this.sHeight],h=v/m,y=p[0]/p[1],C=h/y,x=C<1?this.insetImageMultiplier*m/2:this.insetImageMultiplier*m*C/2,T=Ym.boundsRadius(l)*(this.type===ya.VOLUME_3D?10:1),w=this.insetImageMultiplier*T,b=Math.abs(Jo.dot(g,d))>.999?[-g[2],g[0],g[1]]:g,E=this._getFocalPointForResetCamera(c,s,{resetPan:n,resetToCenter:a}),O=[E[0]+w*d[0],E[1]+w*d[1],E[2]+w*d[2]];o.resetCameraClippingRange(l);const D=[-va.MAXIMUM_RAY_DISTANCE,va.MAXIMUM_RAY_DISTANCE];u.setPhysicalScale(T),u.setPhysicalTranslation(-E[0],-E[1],-E[2]),this.setCamera({parallelScale:r?x:s.parallelScale,focalPoint:E,position:O,viewAngle:90,viewUp:b,clippingRange:D});const R=this.getCamera();this.setFitToCanvasCamera(this.getCamera()),i&&this.setInitialCamera(R),r&&this.setZoom(1,i);const I={type:"ResetCameraEvent",renderer:o};return o.invokeEvent(I),this.triggerCameraModifiedEventIfNecessary(s,R),f&&this.options.displayArea&&r&&n&&a&&this.setDisplayArea(this.options.displayArea),!0}setInitialCamera(e){this.initialCamera=e}setFitToCanvasCamera(e){this.fitToCanvasCamera=e}getPan(e=this.initialCamera){if(!e)return[0,0];const r=this.getVtkActiveCamera().getFocalPoint(),a=this.canvasToWorld([0,0]),i=this.worldToCanvas(Ga([0,0,0],e.focalPoint,a)),o=this.worldToCanvas(Ga([0,0,0],r,a));return A1([0,0],i,o)}getCurrentImageIdIndex(){throw new Error("Not implemented")}getSliceIndex(){throw new Error("Not implemented")}getImageData(){throw new Error("Not implemented")}getViewReferenceId(e){return null}setPan(e,n=!1){const r=this.getCamera(),{focalPoint:a,position:i}=r,o=this.canvasToWorld([0,0]),s=A1([0,0],e,this.getPan());if(Math.abs(s[0])<1&&Math.abs(s[1])<1&&!n)return;const l=Ga(Xt(),this.canvasToWorld(s),o),c=Ga(Xt(),a,l),f=Ga(Xt(),i,l);this.setCamera({...r,focalPoint:c,position:f},n)}getZoom(e=this.initialCamera){if(!e)return 1;const n=this.getVtkActiveCamera(),{parallelScale:r}=e;return r/n.getParallelScale()}setZoom(e,n=!1){const r=this.getCamera(),{parallelScale:a}=this.initialCamera,i=a/e;r.parallelScale===i&&!n||this.setCamera({...r,parallelScale:i},n)}_getFocalPointForViewPlaneReset(e){const{focalPoint:n,viewPlaneNormal:r}=this.getCamera(),a=this._getViewImageDataIntersections(e,n,r);let i=0,o=0,s=0;return a.forEach(([c,f,u])=>{i+=c,o+=f,s+=u}),[i/a.length,o/a.length,s/a.length]}getCanvas(){return this.canvas}getVtkActiveCamera(){const e=this.getRenderer();return e?e.getActiveCamera():(console.warn("No renderer found for the viewport"),null)}getCameraNoRotation(){const e=this.getVtkActiveCamera(),n=(s,l)=>s.some(c=>isNaN(c))?l:s,r=n([...e.getViewUp()],[0,1,0]),a=n([...e.getViewPlaneNormal()],[0,0,-1]),i=n([...e.getPosition()],[0,0,1]),o=n([...e.getFocalPoint()],[0,0,0]);return{viewUp:r,viewPlaneNormal:a,position:i,focalPoint:o,parallelProjection:e.getParallelProjection(),parallelScale:e.getParallelScale(),viewAngle:e.getViewAngle(),flipHorizontal:this.flipHorizontal,flipVertical:this.flipVertical}}getCamera(){return{...this.getCameraNoRotation(),rotation:this.getRotation()}}setCamera(e,n=!1){const r=this.getVtkActiveCamera(),a=this.getCamera(),i=Object.assign({},a,e),{viewUp:o,viewPlaneNormal:s,position:l,focalPoint:c,parallelScale:f,viewAngle:u,flipHorizontal:d,flipVertical:g,clippingRange:v}=e;if(d!==void 0){const h=d&&!this.flipHorizontal||!d&&this.flipHorizontal;h&&this.flip({flipHorizontal:h})}if(g!==void 0){const h=g&&!this.flipVertical||!g&&this.flipVertical;h&&this.flip({flipVertical:h})}o!==void 0&&r.setViewUp(o),s!==void 0&&r.setDirectionOfProjection(-s[0],-s[1],-s[2]),l!==void 0&&r.setPosition(...l),c!==void 0&&r.setFocalPoint(...c),f!==void 0&&r.setParallelScale(f),u!==void 0&&r.setViewAngle(u),v!==void 0&&r.setClippingRange(v);const m=a.focalPoint,p=a.viewUp;if(m&&c||p&&o){const h=r.getViewPlaneNormal(),y=r.getViewUp();let C=!1,x=!1;if(c){const T=[c[0]-m[0],c[1]-m[1],c[2]-m[2]];C=Math.abs(Jo.dot(T,h))>0}if(o&&(x=!Da(y,p)),C||x){const T=this.getDefaultActor();if(!(T!=null&&T.actor))return;fo(T,"vtkActor")||this.updateClippingPlanesForActors(i),(fo(T,"vtkImageSlice")||this.type===ya.VOLUME_3D)&&this.getRenderer().resetCameraClippingRange()}}n&&this.setInitialCamera(i),this.triggerCameraModifiedEventIfNecessary(a,this.getCamera())}triggerCameraModifiedEventIfNecessary(e,n){if(!this._suppressCameraModifiedEvents&&!this.suppressEvents){const r={previousCamera:e,camera:n,element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId};_t(this.element,It.CAMERA_MODIFIED,r)}}updateCameraClippingPlanesAndRange(){const e=this.getCamera();this.updateClippingPlanesForActors(e),this.getRenderer().resetCameraClippingRange()}async updateClippingPlanesForActors(e){this.getActors().map(r=>{if(!r.actor)return;const a=r.actor.getMapper();let i=r!=null&&r.clippingFilter?r==null?void 0:r.clippingFilter.getClippingPlanes():a.getClippingPlanes();i.length===0&&(r!=null&&r.clippingFilter)&&(i=[Ii.newInstance(),Ii.newInstance()]);let o=va.MINIMUM_SLAB_THICKNESS;r.slabThickness&&(o=r.slabThickness);const{viewPlaneNormal:s,focalPoint:l}=e;this.setOrientationOfClippingPlanes(i,o,s,l),_t(this.element,It.CLIPPING_PLANES_UPDATED,{actorEntry:r,focalPoint:l,vtkPlanes:i,viewport:this})})}setOrientationOfClippingPlanes(e,n,r,a){if(e.length<2)return;const i=[r[0],r[1],r[2]];Jo.multiplyScalar(i,n),e[0].setNormal(r);const o=[0,0,0];Jo.subtract(a,i,o),e[0].setOrigin(o),e[1].setNormal(-r[0],-r[1],-r[2]);const s=[0,0,0];Jo.add(a,i,s),e[1].setOrigin(s)}getClippingPlanesForActor(e){if(e||(e=this.getDefaultActor()),!e.actor)throw new Error("Invalid actor entry: Actor is undefined");const n=e.actor.getMapper();let r=e!=null&&e.clippingFilter?e==null?void 0:e.clippingFilter.getClippingPlanes():n.getClippingPlanes();return r.length===0&&(e!=null&&e.clippingFilter)&&(r=[Ii.newInstance(),Ii.newInstance()]),r}_getWorldDistanceViewUpAndViewRight(e,n,r){const a=this._getCorners(e),i=this._getCorners(e),o=ia(Xt(),n,r);let s=Uu.buildFromDegree().identity().rotateFromDirections(n,[1,0,0]);a.forEach(d=>s.apply(d));let l=1/0,c=-1/0;for(let d=0;d<8;d++){const g=a[d][0];g>c&&(c=g),g<l&&(l=g)}s=Uu.buildFromDegree().identity().rotateFromDirections([o[0],o[1],o[2]],[1,0,0]),i.forEach(d=>s.apply(d));let f=1/0,u=-1/0;for(let d=0;d<8;d++){const g=i[d][0];g>u&&(u=g),g<f&&(f=g)}return{widthWorld:u-f,heightWorld:c-l}}getViewReference(e){const{focalPoint:n,viewPlaneNormal:r,viewUp:a}=this.getCamera();return{FrameOfReferenceUID:this.getFrameOfReferenceUID(),cameraFocalPoint:n,viewPlaneNormal:r,viewUp:a,sliceIndex:(e==null?void 0:e.sliceIndex)??this.getSliceIndex()}}isReferenceViewable(e,n){if(e.FrameOfReferenceUID&&e.FrameOfReferenceUID!==this.getFrameOfReferenceUID())return!1;const{viewPlaneNormal:r}=e,a=this.getCamera();return r&&!Da(r,a.viewPlaneNormal)&&!Da(K0(a.viewPlaneNormal,a.viewPlaneNormal),r)?n==null?void 0:n.withOrientation:!0}getViewPresentation(e={rotation:!0,displayArea:!0,zoom:!0,pan:!0,flipHorizontal:!0,flipVertical:!0}){const n={},{rotation:r,displayArea:a,zoom:i,pan:o,flipHorizontal:s,flipVertical:l}=e;r&&(n.rotation=this.getRotation()),a&&(n.displayArea=this.getDisplayArea());const c=this.getZoom();return i&&(n.zoom=c),o&&(n.pan=this.getPan(),CA(n.pan,n.pan,1/c)),s&&(n.flipHorizontal=this.flipHorizontal),l&&(n.flipVertical=this.flipVertical),n}setViewReference(e){}setViewPresentation(e){if(!e)return;const{displayArea:n,zoom:r=this.getZoom(),pan:a,rotation:i,flipHorizontal:o=this.flipHorizontal,flipVertical:s=this.flipVertical}=e;n!==this.getDisplayArea()&&this.setDisplayArea(n),this.setZoom(r),a&&this.setPan(CA([0,0],a,r)),i>=0&&this.setRotation(i),(o||s)&&this.flip({flipHorizontal:o,flipVertical:s})}_getCorners(e){return[[e[0],e[2],e[4]],[e[0],e[2],e[5]],[e[0],e[3],e[4]],[e[0],e[3],e[5]],[e[1],e[2],e[4]],[e[1],e[2],e[5]],[e[1],e[3],e[4]],[e[1],e[3],e[5]]]}_getFocalPointForResetCamera(e,n,{resetPan:r=!0,resetToCenter:a=!0}){if(a&&r)return e;if(a&&!r)return lx(n.focalPoint)?e:n.focalPoint;if(!a&&r){const i=n,o=i.focalPoint,s=i.viewPlaneNormal,l=Ga(Xt(),e,o),c=Ln(l,s),f=li(Xt(),e,s,-1*c);return[f[0],f[1],f[2]]}if(!r&&!a)return lx(n.focalPoint)?e:n.focalPoint}_isInBounds(e,n){const[r,a,i,o,s,l]=n,[c,f,u]=e;return!(c<r||c>a||f<i||f>o||u<s||u>l)}_getEdges(e){const[n,r,a,i,o,s,l,c]=this._getCorners(e);return[[n,r],[n,o],[n,a],[r,i],[r,s],[a,i],[a,l],[i,c],[o,l],[o,s],[s,c],[l,c]]}static boundsRadius(e){const n=(e[1]-e[0])**2,r=(e[3]-e[2])**2,a=(e[5]-e[4])**2;return Math.sqrt(n+r+a||1)*.5}setDataIds(e,n){throw new Error("Unsupported operatoin setDataIds")}};Ym.CameraViewPresentation={rotation:!0,pan:!0,zoom:!0,displayArea:!0},Ym.TransferViewPresentation={windowLevel:!0,paletteLut:!0};let N1=Ym;function Fj(t,e,n=!1){const r=t.getCamera(),{focalPoint:a,viewPlaneNormal:i}=r,{spacingInNormalDirection:o,actorUID:s}=_p(t,r,e,n);if(!s)throw new Error(`Could not find image volume with id ${e} in the viewport`);const l=t.getActor(s);if(!l)return console.warn("No actor found for with actorUID of",s),null;const c=l.actor;return{sliceRange:sy(c,i,a),spacingInNormalDirection:o,camera:r}}function Qd(t,e,n=!1){const{sliceRange:r,spacingInNormalDirection:a,camera:i}=Fj(t,e,n),{min:o,max:s,current:l}=r,c=Math.round((s-o)/a),u=(l-o)/(s-o)*c,d=Math.round(u);return{numScrollSteps:c,currentStepIndex:d,sliceRangeInfo:{sliceRange:r,spacingInNormalDirection:a,camera:i}}}function $j(t){let e=[];const[n,r]=t.getRange();t.getTable(n,r,1024,e),e=e.filter((g,v)=>v%3===0);const a=[...Array(1024).keys()].map((g,v)=>n+(r-n)/1023*v),i=e[256],o=Math.log((1-i)/i),s=a[256],l=e[256*3],c=Math.log((1-l)/l),f=a[256*3],u=Math.round(4*(f-s)/(o-c)),d=Math.round(s+u*o/4);return[Math.round(d-u/2),Math.round(d+u/2)]}function Vj(t,e){const n=e.colorTransfer.split(" ").splice(1).map(parseFloat),{shiftRange:r}=Lbe(n),a=r[0],i=r[1]-r[0],o=Pc.newInstance(),s=[];for(let x=0;x<n.length;x+=4){let T=n[x];const w=n[x+1],b=n[x+2],E=n[x+3];T=(T-a)/i,s.push([T,w,b,E])}_be(s,r,o),t.getProperty().setRGBTransferFunction(0,o);const l=e.scalarOpacity.split(" ").splice(1).map(parseFloat),c=M1.newInstance(),f=[];for(let x=0;x<l.length;x+=2){let T=l[x];const w=l[x+1];T=(T-a)/i,f.push([T,w])}Nbe(f,r,c);const u=t.getProperty();u.setScalarOpacity(0,c);const[d,g,v,m]=e.gradientOpacity.split(" ").splice(1).map(parseFloat);u.setUseGradientOpacity(0,!0),u.setGradientOpacityMinimumValue(0,d),u.setGradientOpacityMinimumOpacity(0,g),u.setGradientOpacityMaximumValue(0,v),u.setGradientOpacityMaximumOpacity(0,m),e.interpolation==="1"&&u.setInterpolationTypeToFastLinear(),u.setShade(e.shade==="1");const p=parseFloat(e.ambient),h=parseFloat(e.diffuse),y=parseFloat(e.specular),C=parseFloat(e.specularPower);u.setAmbient(p),u.setDiffuse(h),u.setSpecular(y),u.setSpecularPower(C)}function Lbe(t){let e=1/0,n=-1/0;for(let a=0;a<t.length;a+=4)e=Math.min(e,t[a]),n=Math.max(n,t[a]);const r=(n-e)/2;return{shiftRange:[-r,r],min:e,max:n}}function _be(t,e,n){const r=e[1]-e[0],a=t.map(([i,o,s,l])=>[i*r+e[0],o,s,l]);return n.removeAllPoints(),a.forEach(([i,o,s,l])=>n.addRGBPoint(i,o,s,l)),a}function Nbe(t,e,n){const r=e[1]-e[0],a=t.map(([i,o])=>[i*r+e[0],o]);return n.removeAllPoints(),a.forEach(([i,o])=>n.addPoint(i,o)),a}class fs extends N1{constructor(e){if(super(e),this.useCPURendering=!1,this.perVolumeIdDefaultProperties=new Map,this.viewportProperties={},this.volumeIds=new Set,this.setRotation=a=>{const i=this.getPan(this.fitToCanvasCamera),o=this.getPan(),s=this.getCamera(),l=s3([0,0],i,o);this.setPan(l,!1);const{flipVertical:c}=this.getCamera(),f=c?K0([0,0,0],this.initialViewUp):this.initialViewUp;this.setCameraNoEvent({viewUp:f}),this.rotateCamera(a);const u=this.getPan(),d=this.getPan(this.fitToCanvasCamera),g=s3([0,0],u,d),v=xw([0,0],i,g);if(this.setPan(v,!1),this._suppressCameraModifiedEvents)return;const m=this.getCamera(),p={previousCamera:s,camera:m,element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId};_t(this.element,It.CAMERA_MODIFIED,p)},this.getDefaultProperties=a=>{let i;return a!==void 0&&(i=this.perVolumeIdDefaultProperties.get(a)),i!==void 0?i:{...this.globalDefaultProperties}},this.getProperties=a=>{var T;if(!this._getApplicableVolumeActor(a))return;const{colormap:o,VOILUTFunction:s,interpolationType:l,invert:c,slabThickness:f,preset:u}=this.viewportProperties;if(a||(a=this.getVolumeId()),!Yt.getVolume(a))return null;const g=this.getActors().find(w=>w.referencedId===a);if(!g)return;const m=g.actor.getProperty().getRGBTransferFunction(0),[p,h]=((T=this.viewportProperties)==null?void 0:T.VOILUTFunction)==="SIGMOID"?$j(m):m.getRange(),y={lower:p,upper:h},C=this.getColormap(a);return{colormap:a&&C?C:o,voiRange:y,VOILUTFunction:s,interpolationType:l,invert:c,slabThickness:f,preset:u}},this.getColormap=a=>{const i=this._getApplicableVolumeActor(a);if(!i)return;const{volumeActor:o}=i,s=this._getOrCreateColorTransferFunction(a),{nodes:l}=s.getState(),c=l.reduce((u,d)=>(u.push(d.x,d.r,d.g,d.b),u),[]);return Zw(c,o)},this.getRotation=()=>{const{viewUp:a,viewPlaneNormal:i,flipVertical:o}=this.getCameraNoRotation(),s=o?K0([0,0,0],this.initialViewUp):this.initialViewUp;if(!s)return 0;const l=YB(s,a)*180/Math.PI,c=ia([0,0,0],s,a);return Ln(c,i)>=0?l:(360-l)%360},this.getFrameOfReferenceUID=()=>this._FrameOfReferenceUID,this.canvasToWorld=a=>{var v,m;const i=this.getVtkActiveCamera();(v=i.setIsPerformingCoordinateTransformation)==null||v.call(i,!0);const o=this.getRenderer(),l=this.getRenderingEngine().offscreenMultiRenderWindow.getOpenGLRenderWindow(),c=l.getSize(),f=window.devicePixelRatio||1,u=[a[0]*f,a[1]*f],d=[u[0]+this.sx,u[1]+this.sy];d[1]=c[1]-d[1];const g=l.displayToWorld(d[0],d[1],0,o);return(m=i.setIsPerformingCoordinateTransformation)==null||m.call(i,!1),[g[0],g[1],g[2]]},this.worldToCanvas=a=>{var v;const i=this.getVtkActiveCamera();(v=i.setIsPerformingCoordinateTransformation)==null||v.call(i,!0);const o=this.getRenderer(),l=this.getRenderingEngine().offscreenMultiRenderWindow.getOpenGLRenderWindow(),c=l.getSize(),f=l.worldToDisplay(...a,o);f[1]=c[1]-f[1];const u=[f[0]-this.sx,f[1]-this.sy],d=window.devicePixelRatio||1,g=[u[0]/d,u[1]/d];return i.setIsPerformingCoordinateTransformation(!1),g},this.hasImageURI=a=>this.getActors().filter(o=>fo(o,"vtkVolume")).some(({uid:o,referencedId:s})=>{const l=Yt.getVolume(s||o);return l!=null&&l.imageIds?l.imageIds.map(Ai).includes(a):!1}),this.getImageIds=a=>{const i=this._getApplicableVolumeActor(a);if(!i)throw new Error(`No actor found for the given volumeId: ${a}`);const o=i.volumeId,s=Yt.getVolume(o);if(!s)throw new Error(`imageVolume with id: ${o} does not exist in cache`);return s.imageIds},this.useCPURendering=Um(),this.useCPURendering)throw new Error("VolumeViewports cannot be used whilst CPU Fallback Rendering is enabled.");const n=this.getRenderer(),r=Fxe.newInstance();switch(n.setActiveCamera(r),this.type){case ya.ORTHOGRAPHIC:r.setParallelProjection(!0);break;case ya.VOLUME_3D:r.setParallelProjection(!0);break;case ya.PERSPECTIVE:r.setParallelProjection(!1);break;default:throw new Error(`Unrecognized viewport type: ${this.type}`)}this.initializeVolumeNewImageEventDispatcher()}static get useCustomRenderingPipeline(){return!1}getSliceViewInfo(){throw new Error("Method not implemented.")}applyViewOrientation(e,n=!0){const{viewPlaneNormal:r,viewUp:a}=this._getOrientationVectors(e),i=this.getVtkActiveCamera();i.setDirectionOfProjection(-r[0],-r[1],-r[2]),i.setViewUpFrom(a),this.initialViewUp=a,n&&this.resetCamera({resetOrientation:!1,resetRotation:!1})}initializeVolumeNewImageEventDispatcher(){const e=r.bind(this),n=a.bind(this);function r(i){const{viewportId:o}=i.detail;o!==this.id||this.isDisabled||!this.getImageData()||Abe(i)}function a(i){const{viewportId:o}=i.detail;o===this.id&&(this.element.removeEventListener(It.CAMERA_MODIFIED,e),Vt.removeEventListener(It.ELEMENT_DISABLED,n),Ibe(o))}this.element.removeEventListener(It.CAMERA_MODIFIED,e),this.element.addEventListener(It.CAMERA_MODIFIED,e),Vt.addEventListener(It.ELEMENT_DISABLED,n)}setVOILUTFunction(e,n,r){Object.values(zi).includes(e)||(e=zi.LINEAR);const{voiRange:a}=this.getProperties();this.setVOI(a,n,r),this.viewportProperties.VOILUTFunction=e}setColormap(e,n,r){const a=this._getApplicableVolumeActor(n);if(!a)return;const{volumeActor:i}=a,o=Pc.newInstance();let s=Wv(e.name);const{name:l}=e;if(s||(s=y3.getPresetByName(l)),!s)throw new Error(`Colormap ${e} not found`);const c=i.getProperty().getRGBTransferFunction(0).getRange();if(o.applyColorMap(s),o.setMappingRange(c[0],c[1]),i.getProperty().setRGBTransferFunction(0,o),this.viewportProperties.colormap=e,!r){const f={viewportId:this.id,colormap:e,volumeId:n};_t(this.element,It.VOI_MODIFIED,f),_t(this.element,It.COLORMAP_MODIFIED,f)}}setOpacity(e,n){const r=this._getApplicableVolumeActor(n);if(!r)return;const{volumeActor:a}=r,i=M1.newInstance();if(typeof e.opacity=="number"){const o=a.getProperty().getRGBTransferFunction(0).getRange();i.addPoint(o[0],e.opacity),i.addPoint(o[1],e.opacity)}else e.opacity.forEach(({opacity:o,value:s})=>{i.addPoint(s,o)});a.getProperty().setScalarOpacity(0,i),this.viewportProperties.colormap||(this.viewportProperties.colormap={}),this.viewportProperties.colormap.opacity=e.opacity}setInvert(e,n,r){const a=this._getApplicableVolumeActor(n);if(!a)return;const i=a.volumeId,o=this._getOrCreateColorTransferFunction(i);if(Bm(o),this.viewportProperties.invert=e,!r){const s={...this.getVOIModifiedEventDetail(i),invertStateChanged:!0};_t(this.element,It.VOI_MODIFIED,s)}}getVOIModifiedEventDetail(e){const n=this._getApplicableVolumeActor(e);if(!n)throw new Error(`No actor found for the given volumeId: ${e}`);const i=n.volumeActor.getProperty().getRGBTransferFunction(0).getMappingRange(),o=this.getColormap(e),{VOILUTFunction:s,invert:l}=this.getProperties(e);return{viewportId:this.id,range:{lower:i[0],upper:i[1]},volumeId:n.volumeId,VOILUTFunction:s,colormap:o,invert:l}}_getOrCreateColorTransferFunction(e){const n=this._getApplicableVolumeActor(e);if(!n)return null;const{volumeActor:r}=n,a=r.getProperty().getRGBTransferFunction(0);if(a)return a;const i=Pc.newInstance();return r.getProperty().setRGBTransferFunction(0,i),i}setInterpolationType(e,n){const r=this._getApplicableVolumeActor(n);if(!r)return;const{volumeActor:a}=r;a.getProperty().setInterpolationType(e),this.viewportProperties.interpolationType=e}setVOI(e,n,r=!1){const a=this._getApplicableVolumeActor(n);if(!a)return;const{volumeActor:i}=a,o=a.volumeId,s=e;if(typeof s>"u")throw new Error("voiRangeToUse is undefined, need to implement this in the new volume model");const{VOILUTFunction:l}=this.getProperties(o);if(l===zi.SAMPLED_SIGMOID){const c=Jw(s);i.getProperty().setRGBTransferFunction(0,c)}else{const{lower:c,upper:f}=s;i.getProperty().getRGBTransferFunction(0).setRange(c,f)}if(!r){const c={...this.getVOIModifiedEventDetail(o)};_t(this.element,It.VOI_MODIFIED,c)}this.viewportProperties.voiRange=s}rotateCamera(e){const n=e-this.getRotation();this.getVtkActiveCamera().roll(-n)}setDefaultProperties(e,n){n==null?this.globalDefaultProperties=e:this.perVolumeIdDefaultProperties.set(n,e)}clearDefaultProperties(e){e==null?(this.globalDefaultProperties={},this.resetProperties()):(this.perVolumeIdDefaultProperties.delete(e),this.resetToDefaultProperties(e))}getViewReference(e={}){const n=super.getViewReference(e),r=this.getVolumeId(e);if((e==null?void 0:e.forFrameOfReference)!==!1&&(n.volumeId=r),typeof(e==null?void 0:e.sliceIndex)!="number")return n;const{viewPlaneNormal:a}=n,i=(e==null?void 0:e.sliceIndex)-this.getSliceIndex(),{sliceRangeInfo:o}=Qd(this,r,!0),{sliceRange:s,spacingInNormalDirection:l,camera:c}=o,{focalPoint:f,position:u}=c,{newFocalPoint:d}=qd(f,u,s,a,l,i);return n.cameraFocalPoint=d,n}isReferenceViewable(e,n){if(!e.FrameOfReferenceUID||!super.isReferenceViewable(e,n))return!1;if(n!=null&&n.withNavigation)return!0;const r=this.getSliceIndex(),{sliceIndex:a}=e;return Array.isArray(a)?a[0]<=r&&r<=a[1]:a===void 0||a===r}scroll(e=1){const n=this.getVolumeId(),{sliceRangeInfo:r}=Qd(this,n,!0);if(!r)return;const{sliceRange:a,spacingInNormalDirection:i,camera:o}=r,{focalPoint:s,viewPlaneNormal:l,position:c}=o,{newFocalPoint:f,newPosition:u}=qd(s,c,a,l,i,e);this.setCamera({focalPoint:f,position:u})}setViewReference(e){if(!e)return;const n=this.getVolumeId(),{viewPlaneNormal:r,FrameOfReferenceUID:a,cameraFocalPoint:i,viewUp:o}=e;let{sliceIndex:s}=e;const{focalPoint:l,viewPlaneNormal:c,position:f}=this.getCamera(),u=qW(c,r),d=Da(c,r);if(typeof s=="number"&&e.volumeId===n&&(u||d)){const{currentStepIndex:g,sliceRangeInfo:v,numScrollSteps:m}=Qd(this,n,!0),{sliceRange:p,spacingInNormalDirection:h}=v;u&&(s=m-s-1);const y=s-g,{newFocalPoint:C,newPosition:x}=qd(l,f,p,c,h,y);this.setCamera({focalPoint:C,position:x})}else if(a===this.getFrameOfReferenceUID()){if(r&&!u&&!d){this.setOrientation({viewPlaneNormal:r,viewUp:o}),this.setViewReference(e);return}if(i){const g=Ga([0,0,0],i,l),v=r??c,m=Ln(g,v);Da(m,0)||q0(g,v,m);const p=Ac([0,0,0],l,g),h=Ac([0,0,0],f,g);this.setCamera({focalPoint:p,position:h})}}else throw new Error(`Incompatible view refs: ${a}!==${this.getFrameOfReferenceUID()}`)}setProperties({voiRange:e,VOILUTFunction:n,invert:r,colormap:a,preset:i,interpolationType:o,slabThickness:s}={},l,c=!1){this.globalDefaultProperties==null&&this.setDefaultProperties({voiRange:e,VOILUTFunction:n,invert:r,colormap:a,preset:i,slabThickness:s}),r!==void 0&&this.viewportProperties.invert!==r&&this.setInvert(r,l,c),a!=null&&a.name&&this.setColormap(a,l,c),(a==null?void 0:a.opacity)!=null&&this.setOpacity(a,l),e!==void 0&&this.setVOI(e,l,c),typeof o<"u"&&this.setInterpolationType(o),n!==void 0&&this.setVOILUTFunction(n,l,c),i!==void 0&&this.setPreset(i,l,c),s!==void 0&&this.setSlabThickness(s)}resetToDefaultProperties(e){var r,a;const n=this.globalDefaultProperties;(r=n.colormap)!=null&&r.name&&this.setColormap(n.colormap,e),((a=n.colormap)==null?void 0:a.opacity)!=null&&this.setOpacity(n.colormap,e),n.voiRange!==void 0&&this.setVOI(n.voiRange,e),n.VOILUTFunction!==void 0&&this.setVOILUTFunction(n.VOILUTFunction,e),n.invert!==void 0&&this.setInvert(n.invert,e),n.slabThickness!==void 0&&(this.setSlabThickness(n.slabThickness),this.viewportProperties.slabThickness=n.slabThickness),n.preset!==void 0&&this.setPreset(n.preset,e,!1),n.preset!==void 0&&this.setPreset(n.preset,e,!1),this.render()}setPreset(e,n,r){const a=this._getApplicableVolumeActor(n);if(!a)return;const{volumeActor:i}=a;let o=e;typeof o=="string"&&(o=pU.find(s=>s.name===e)),o&&(Vj(i,o),this.viewportProperties.preset=o,this.render(),r||_t(this.element,It.PRESET_MODIFIED,{viewportId:this.id,volumeId:a.volumeId,actor:i,presetName:o.name}))}async setVolumes(e,n=!1,r=!1){const a=Yt.getVolume(e[0].volumeId);if(!a)throw new Error(`imageVolume with id: ${a.volumeId} does not exist, you need to create/allocate the volume first`);const i=a.metadata.FrameOfReferenceUID;this._isValidVolumeInputArray(e,i),this._FrameOfReferenceUID=i,e.forEach(s=>{this._addVolumeId(s.volumeId)});const o=[];for(let s=0;s<e.length;s++){const{volumeId:l,actorUID:c,slabThickness:f,...u}=e[s],d=await sx(e[s],this.element,this.id,r),g=c||Li();o.push({uid:g,actor:d,slabThickness:f,referencedId:l,...u})}this._setVolumeActors(o),this.viewportStatus=Bi.PRE_RENDER,this.initializeColorTransferFunction(e),_t(this.element,It.VOLUME_VIEWPORT_NEW_VOLUME,{viewportId:this.id,volumeActors:o}),n&&this.render()}async addVolumes(e,n=!1,r=!1){const a=Yt.getVolume(e[0].volumeId);if(!a)throw new Error(`imageVolume with id: ${a.volumeId} does not exist`);const i=[];this._isValidVolumeInputArray(e,this._FrameOfReferenceUID),e.forEach(o=>{this._addVolumeId(o.volumeId)});for(let o=0;o<e.length;o++){const{volumeId:s,visibility:l,actorUID:c,slabThickness:f,...u}=e[o],d=await sx(e[o],this.element,this.id,r);l||d.setVisibility(!1);const g=c||Li();i.push({uid:g,actor:d,slabThickness:f,referencedId:s,...u})}this.addActors(i),this.initializeColorTransferFunction(e),n&&this.render()}removeVolumeActors(e,n=!1){this.removeActors(e),n&&this.render()}setOrientation(e,n=!0){console.warn('Method "setOrientation" needs implementation')}initializeColorTransferFunction(e){const n=e[0].volumeId,r=this._getOrCreateColorTransferFunction(n);!this.initialTransferFunctionNodes&&r&&(this.initialTransferFunctionNodes=C3(r))}_getApplicableVolumeActor(e){const n=this.getActors();if(!(n!=null&&n.length))return;if(e){const a=n.find(i=>i.referencedId===e);return a?{volumeActor:a.actor,volumeId:e,actorUID:a.uid}:void 0}const r=n[0];return{volumeActor:r.actor,volumeId:r.referencedId,actorUID:r.uid}}async _isValidVolumeInputArray(e,n){const r=e.length;for(let a=1;a<r;a++){const i=Yt.getVolume(e[a].volumeId);if(n!==i.metadata.FrameOfReferenceUID)throw new Error(`Volumes being added to viewport ${this.id} do not share the same FrameOfReferenceUID. This is not yet supported`)}return!0}getBounds(){return this.getRenderer().computeVisiblePropBounds()}flip(e){super.flip(e)}hasVolumeId(e){return this.volumeIds.has(e)}hasVolumeURI(e){for(const n of this.volumeIds)if(n.includes(e))return!0;return!1}getImageData(e){var s,l,c;if(!this.getDefaultActor())return;e||(e=this.getVolumeId());const r=(s=this.getActors())==null?void 0:s.find(f=>f.referencedId===e);if(!fo(r,"vtkVolume"))return;const a=r.actor,i=Yt.getVolume(e),o=a.getMapper().getInputData();return{dimensions:o.getDimensions(),spacing:o.getSpacing(),origin:o.getOrigin(),direction:o.getDirection(),imageData:a.getMapper().getInputData(),metadata:{Modality:(l=i==null?void 0:i.metadata)==null?void 0:l.Modality,FrameOfReferenceUID:(c=i==null?void 0:i.metadata)==null?void 0:c.FrameOfReferenceUID},get scalarData(){var f;return(f=i==null?void 0:i.voxelManager)==null?void 0:f.getScalarData()},scaling:i==null?void 0:i.scaling,hasPixelSpacing:!0,voxelManager:i==null?void 0:i.voxelManager}}setCameraClippingRange(){throw new Error("Method not implemented.")}getSliceIndex(){throw new Error("Method not implemented.")}setCamera(e,n){super.setCamera(e,n),this.setCameraClippingRange()}_setVolumeActors(e){for(let n=0;n<e.length;n++)this.viewportProperties.invert=!1;this.setActors(e)}_getOrientationVectors(e){if(typeof e=="object"){if(e.viewPlaneNormal&&e.viewUp)return e;throw new Error("Invalid orientation object. It must contain viewPlaneNormal and viewUp")}else{if(typeof e=="string"&&uc[e])return this.viewportProperties.orientation=e,uc[e];throw new Error(`Invalid orientation: ${e}. Valid orientations are: ${Object.keys(uc).join(", ")}`)}}getSlabThickness(){const e=this.getActors();let n=va.MINIMUM_SLAB_THICKNESS;return e.forEach(r=>{r.slabThickness>n&&(n=r.slabThickness)}),n}getIntensityFromWorld(e){const n=this.getDefaultActor();if(!fo(n,"vtkVolume"))return;const{actor:r}=n,a=r.getMapper().getInputData(),i=Yt.getVolume(this.getVolumeId()),o=V0(a,e);return i.voxelManager.getAtIJKPoint(o)}getVolumeId(e){const n=this.getActors();if(!n)return;if(!(e!=null&&e.volumeId)){const a=n.find(i=>i.actor.getClassName()==="vtkVolume");return(a==null?void 0:a.referencedId)||(a==null?void 0:a.uid)}const r=n.find(a=>a.actor.getClassName()==="vtkVolume"&&a.referencedId===(e==null?void 0:e.volumeId));return(r==null?void 0:r.referencedId)||(r==null?void 0:r.uid)}getViewReferenceId(e={}){var l;let{volumeId:n,sliceIndex:r}=e;if(!n){const c=this.getActors();if(!c)return;n=(l=c.find(f=>f.actor.getClassName()==="vtkVolume"))==null?void 0:l.referencedId}const a=this.getSliceIndex();r??(r=a);const{viewPlaneNormal:i,focalPoint:o}=this.getCamera(),s=n.includes("?")?"&":"?";return`volumeId:${n}${s}sliceIndex=${r}&viewPlaneNormal=${i.join(",")}`}_addVolumeId(e){this.volumeIds.add(e)}getAllVolumeIds(){return Array.from(this.volumeIds)}}function tc(t,e){const{imageData:n}=t.getImageData(),r=t.canvasToWorld(e);return V0(n,r)}function b3(t,e){return t.indexToWorld(e)}function Fbe(t,e){const{imageData:n}=t.getImageData(),r=b3(n,e);return t.worldToCanvas(r)}class go extends fs{constructor(e){super(e),this._useAcquisitionPlaneForViewPlane=!1,this.getNumberOfSlices=()=>{const{numberOfSlices:r}=w3(this)||{};return r},this.resetCameraForResize=()=>this.resetCamera({resetPan:!0,resetZoom:!0,resetToCenter:!0,resetRotation:!1,suppressEvents:!0}),this.getCurrentImageIdIndex=(r,a=!0)=>{const{currentStepIndex:i}=Qd(this,r||this.getVolumeId(),a);return i},this.getSliceIndex=()=>{const{imageIndex:r}=w3(this)||{};return r},this.getCurrentImageId=()=>{const r=this.getDefaultActor();if(!r||!fo(r,"vtkVolume"))return;const a=Yt.getVolume(this.getVolumeId());if(!a)return;const{viewPlaneNormal:i,focalPoint:o}=this.getCamera();return zv(a,o,i)},this.getSlicePlaneCoordinates=()=>{const r=this.getDefaultActor();if(!(r!=null&&r.actor))return console.warn("No image data found for calculating vtkPlanes."),[];const a=this.getVolumeId(),i=Yt.getVolume(a),o=this.getCamera(),{focalPoint:s,position:l,viewPlaneNormal:c}=o,f=Pp(i,c),u=sy(r.actor,c,s),d=Math.round((u.current-u.min)/f),g=Math.round((u.max-u.current)/f),v=this.getSliceIndex(),m=[];for(let p=-d;p<=g;p++){const{newFocalPoint:h}=qd(s,l,u,c,f,p);m.push({sliceIndex:v+p,point:h})}return m};const{orientation:n}=this.options;if(n&&n!==O1.ACQUISITION){this.applyViewOrientation(n);return}this._useAcquisitionPlaneForViewPlane=!0}async setVolumes(e,n=!1,r=!1){const a=Yt.getVolume(e[0].volumeId);if(!a)throw new Error(`imageVolume with id: ${a.volumeId} does not exist`);return this._useAcquisitionPlaneForViewPlane&&(this._setViewPlaneToAcquisitionPlane(a),this._useAcquisitionPlaneForViewPlane=!1),super.setVolumes(e,n,r)}async addVolumes(e,n=!1,r=!1){const a=Yt.getVolume(e[0].volumeId);if(!a)throw new Error(`imageVolume with id: ${a.volumeId} does not exist`);return this._useAcquisitionPlaneForViewPlane&&(this._setViewPlaneToAcquisitionPlane(a),this._useAcquisitionPlaneForViewPlane=!1),super.addVolumes(e,n,r)}jumpToWorld(e){const{focalPoint:n}=this.getCamera(),r=[0,0,0];Ca(r,e,n);const a=this.getCamera(),i=a.viewPlaneNormal,o=Ln(r,i),s=Yr(i[0],i[1],i[2]);if(q0(s,s,o),Math.abs(s[0])>.001||Math.abs(s[1])>.001||Math.abs(s[2])>.001){const l=[0,0,0],c=[0,0,0];Ac(l,a.focalPoint,s),Ac(c,a.position,s),this.setCamera({focalPoint:l,position:c}),this.render()}return!0}setOrientation(e,n=!0){let r,a;if(typeof e=="string"){if(uc[e])({viewPlaneNormal:r,viewUp:a}=uc[e]);else if(e==="acquisition")({viewPlaneNormal:r,viewUp:a}=this._getAcquisitionPlaneOrientation());else throw new Error(`Invalid orientation: ${e}. Use Enums.OrientationAxis instead.`);this.setCamera({viewPlaneNormal:r,viewUp:a}),this.viewportProperties.orientation=e,this.resetCamera()}else({viewPlaneNormal:r,viewUp:a}=e),this.applyViewOrientation(e);n&&this.render()}setCameraClippingRange(){const e=this.getVtkActiveCamera();if(!e){console.warn("No active camera found");return}e.getParallelProjection()?e.setClippingRange(-va.MAXIMUM_RAY_DISTANCE,va.MAXIMUM_RAY_DISTANCE):e.setClippingRange(va.MINIMUM_SLAB_THICKNESS,va.MAXIMUM_RAY_DISTANCE)}_getAcquisitionPlaneOrientation(){if(!this.getDefaultActor())return;const n=this.getVolumeId(),r=Yt.getVolume(n);if(!r)throw new Error(`imageVolume with id: ${n} does not exist in cache`);const{direction:a}=r,i=a.slice(6,9).map(s=>-s),o=a.slice(3,6).map(s=>-s);return{viewPlaneNormal:i,viewUp:o}}_setViewPlaneToAcquisitionPlane(e){let n,r;if(e){const{direction:a}=e;n=a.slice(6,9).map(i=>-i),r=a.slice(3,6).map(i=>-i)}else({viewPlaneNormal:n,viewUp:r}=this._getAcquisitionPlaneOrientation());this.setCamera({viewPlaneNormal:n,viewUp:r}),this.initialViewUp=r,this.resetCamera()}getBlendMode(e){const n=this.getActors(),r=(e==null?void 0:e.length)>0?n.find(a=>e.includes(a.uid)):n[0];return(r==null?void 0:r.blendMode)||(r==null?void 0:r.actor.getMapper().getBlendMode())}setBlendMode(e,n=[],r=!1){let a=this.getActors();(n==null?void 0:n.length)>0&&(a=a.filter(i=>n.includes(i.uid))),a.forEach(i=>{var l;const{actor:o}=i,s=o.getMapper();(l=s.setBlendMode)==null||l.call(s,e),i.blendMode=e}),r&&this.render()}resetCamera(e){const{resetPan:n=!0,resetZoom:r=!0,resetRotation:a=!0,resetToCenter:i=!0,suppressEvents:o=!1,resetOrientation:s=!0}=e||{},{orientation:l}=this.viewportProperties;l&&s&&this.applyViewOrientation(l,!1),super.resetCamera({resetPan:n,resetZoom:r,resetToCenter:i});const c=this.getVtkActiveCamera(),f=c.getViewPlaneNormal(),u=c.getFocalPoint();if(this.getActors().forEach(g=>{if(!g.actor)return;const v=g.actor.getMapper();if(v.getClippingPlanes().length===0&&!(g!=null&&g.clippingFilter)){const p=Ii.newInstance(),h=Ii.newInstance(),y=[p,h];let C=va.MINIMUM_SLAB_THICKNESS;g.slabThickness&&(C=g.slabThickness),this.setOrientationOfClippingPlanes(y,C,f,u),v.addClippingPlane(p),v.addClippingPlane(h)}}),a&&uc[this.viewportProperties.orientation]!==void 0){const g=uc[this.viewportProperties.orientation];this.setCameraNoEvent({viewUp:g.viewUp,viewPlaneNormal:g.viewPlaneNormal})}if(!o){const g={viewportId:this.id,camera:this.getCamera(),renderingEngineId:this.renderingEngineId,element:this.element};_t(this.element,It.CAMERA_RESET,g)}return!0}setSlabThickness(e,n=[]){e<.1&&(e=.1);let r=this.getActors();(n==null?void 0:n.length)>0&&(r=r.filter(i=>n.includes(i.uid))),r.forEach(i=>{fo(i,"vtkVolume")&&(i.slabThickness=e)});const a=this.getCamera();this.updateClippingPlanesForActors(a),this.triggerCameraModifiedEventIfNecessary(a,a),this.viewportProperties.slabThickness=e}resetSlabThickness(){this.getActors().forEach(r=>{fo(r,"vtkVolume")&&(r.slabThickness=va.MINIMUM_SLAB_THICKNESS)});const n=this.getCamera();this.updateClippingPlanesForActors(n),this.triggerCameraModifiedEventIfNecessary(n,n),this.viewportProperties.slabThickness=void 0}getSliceViewInfo(){const{width:e,height:n}=this.getCanvas(),r=tc(this,[0,0]),a=tc(this,[e-1,0]),i=tc(this,[0,n-1]),o=Ca(Xt(),a,r),s=Ca(Xt(),i,r),l=ia(Xt(),o,s);Na(o,o),Na(s,s),Na(l,l);const{dimensions:c}=this.getImageData(),[f,u,d]=c,m=[[0,0,0],[f-1,0,0],[0,u-1,0],[f-1,u-1,0],[0,0,d-1],[f-1,0,d-1],[0,u-1,d-1],[f-1,u-1,d-1]].map(D=>Fbe(this,D)).reduce((D,R)=>(D.minX=Math.min(D.minX,R[0]),D.minY=Math.min(D.minY,R[1]),D.maxX=Math.max(D.maxX,R[0]),D.maxY=Math.max(D.maxY,R[1]),D),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),p=tc(this,[m.minX,m.minY]),h=GB(o[0],o[1],o[2],0,s[0],s[1],s[2],0,l[0],l[1],l[2],0,p[0],p[1],p[2],1),y=tc(this,[m.maxX,m.maxY]),C=Ca(Xt(),y,p),x=qa(kc(),h),{viewPlaneNormal:T}=this.getCamera();if(T.filter(D=>Math.abs(D)>l0).length>1)throw new Error("getSliceInfo is not supported for oblique views");const b=T.findIndex(D=>Math.abs(D)>1-l0);if(b===-1)throw new Error("Unable to determine slice axis");const E=Ln(o,C)+1,O=Ln(s,C)+1;return{sliceIndex:this.getSliceIndex(),width:E,height:O,slicePlane:b,sliceToIndexMatrix:h,indexToSliceMatrix:x}}getCurrentSlicePixelData(){const{voxelManager:e}=this.getImageData();return e.getSliceData(this.getSliceViewInfo())}getViewReference(e={}){const n=super.getViewReference(e);if(!(n!=null&&n.volumeId))return;const r=Yt.getVolume(n.volumeId);return n.referencedImageId=zv(r,n.cameraFocalPoint,n.viewPlaneNormal),n}resetProperties(e){this._resetProperties(e)}_resetProperties(e){const n=e?this.getActor(e):this.getDefaultActor();if(!n)throw new Error(`No actor found for the given volumeId: ${e}`);n.slabThickness&&(n.slabThickness=va.MINIMUM_SLAB_THICKNESS,this.viewportProperties.slabThickness=void 0,this.updateClippingPlanesForActors(this.getCamera())),e||(e=this.getVolumeId());const r=Yt.getVolume(e);if(!r)throw new Error(`imageVolume with id: ${e} does not exist in cache`);if(ab(n.actor,r),Js(n)){const c=n.actor.getProperty().getRGBTransferFunction(0);cy(c,this.initialTransferFunctionNodes)}const a={...super.getVOIModifiedEventDetail(e)};this.resetCamera({resetPan:!0,resetZoom:!0,resetToCenter:!0,resetCameraRotation:!0}),_t(this.element,It.VOI_MODIFIED,a)}getSlicesClippingPlanes(){const e=this.getSlicePlaneCoordinates(),{viewPlaneNormal:n}=this.getCamera(),r=va.MINIMUM_SLAB_THICKNESS;return e.map(({point:a,sliceIndex:i})=>{const o=[Ii.newInstance(),Ii.newInstance()];return this.setOrientationOfClippingPlanes(o,r,n,a),{sliceIndex:i,planes:o.map(s=>({normal:s.getNormal(),origin:s.getOrigin()}))}})}}function $be(t,e){e.classHierarchy.push("vtkAbstractImageMapper"),t.getIsOpaque=()=>!0,t.getCurrentImage=()=>null,t.getBoundsForSlice=()=>(ne.vtkErrorMacro("vtkAbstractImageMapper.getBoundsForSlice - NOT IMPLEMENTED"),Ic())}const Vbe={slice:0,customDisplayExtent:[0,0,0,0,0,0],useCustomExtents:!1,backgroundColor:[0,0,0,1]};function kbe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Vbe,n),_w.extend(t,e,n),ne.setGet(t,e,["slice","useCustomExtents"]),ne.setGetArray(t,e,["customDisplayExtent"],6),ne.setGetArray(t,e,["backgroundColor"],4),$be(t,e)}var Ube={extend:kbe};function kj(t,e,n){const r=n.getCurrentImage(),a=r.getExtent(),i=[a[0],a[2],a[4]],{ijkMode:o}=n.getClosestIJKAxis();let s=n.isA("vtkImageArrayMapper")?n.getSubSlice():n.getSlice();o!==n.getSlicingMode()&&(s=n.getSliceAtPosition(s)),i[o]+=s;const l=[0,0,0];r.indexToWorld(i,l),i[o]+=1;const c=[0,0,0];r.indexToWorld(i,c),c[0]-=l[0],c[1]-=l[1],c[2]-=l[2],Na(c,c);const f=Ii.intersectWithLine(t,e,l,c);if(f.intersection){const u=f.x,d=[0,0,0];return r.worldToIndex(u,d),{t:f.t,absoluteIJK:d}}return null}function Bbe(t,e,n){const r=kj(t,e,n);if(r){const i=n.getCurrentImage().getExtent(),o=[Math.round(r.absoluteIJK[0]),Math.round(r.absoluteIJK[1]),Math.round(r.absoluteIJK[2])];return o[0]<i[0]||o[0]>i[1]||o[1]<i[2]||o[1]>i[3]||o[2]<i[4]||o[2]>i[5]?null:{t:r.t,ijk:o}}return null}function Gbe(t,e,n){const r=kj(t,e,n);if(r){const i=n.getCurrentImage().getExtent(),o=r.absoluteIJK,s=[Math.floor(o[0]),Math.floor(o[1]),Math.floor(o[2])];if(s[0]<i[0]||s[0]>i[1]-1||s[1]<i[2]||s[1]>i[3]-1||s[2]<i[4]||s[2]>(i[5]?i[5]-1:i[5]))return null;const l=[o[0]-s[0],o[1]-s[1],o[2]-s[2]];return{t:r.t,ijk:s,pCoords:l}}return null}const{staticOffsetAPI:zbe,otherStaticMethods:Wbe}=ay,{SlicingMode:sr}=oy;function jbe(t,e){e.classHierarchy.push("vtkImageMapper"),t.getSliceAtPosition=r=>{const a=t.getCurrentImage();let i;if(r.length===3)i=r;else if(Number.isFinite(r)){const f=a.getBounds();switch(e.slicingMode){case sr.X:i=[r,(f[3]+f[2])/2,(f[5]+f[4])/2];break;case sr.Y:i=[(f[1]+f[0])/2,r,(f[5]+f[4])/2];break;case sr.Z:i=[(f[1]+f[0])/2,(f[3]+f[2])/2,r];break}}const o=[0,0,0];a.worldToIndex(i,o);const s=a.getExtent(),{ijkMode:l}=t.getClosestIJKAxis();let c=0;switch(l){case sr.I:c=Rs(o[0],s[0],s[1]);break;case sr.J:c=Rs(o[1],s[2],s[3]);break;case sr.K:c=Rs(o[2],s[4],s[5]);break;default:return 0}return c},t.setSliceFromCamera=r=>{const a=r.getFocalPoint();switch(e.slicingMode){case sr.I:case sr.J:case sr.K:{const i=t.getSliceAtPosition(a);t.setSlice(i)}break;case sr.X:t.setSlice(a[0]);break;case sr.Y:t.setSlice(a[1]);break;case sr.Z:t.setSlice(a[2]);break}},t.setXSlice=r=>{t.setSlicingMode(sr.X),t.setSlice(r)},t.setYSlice=r=>{t.setSlicingMode(sr.Y),t.setSlice(r)},t.setZSlice=r=>{t.setSlicingMode(sr.Z),t.setSlice(r)},t.setISlice=r=>{t.setSlicingMode(sr.I),t.setSlice(r)},t.setJSlice=r=>{t.setSlicingMode(sr.J),t.setSlice(r)},t.setKSlice=r=>{t.setSlicingMode(sr.K),t.setSlice(r)},t.getSlicingModeNormal=()=>{const r=[0,0,0],a=t.getCurrentImage().getDirection();switch(e.slicingMode){case sr.X:r[0]=1;break;case sr.Y:r[1]=1;break;case sr.Z:r[2]=1;break;case sr.I:A2(a,[1,0,0],r);break;case sr.J:A2(a,[0,1,0],r);break;case sr.K:A2(a,[0,0,1],r);break}return r};function n(){let r;switch(e.slicingMode){case sr.X:r=0;break;case sr.Y:r=1;break;case sr.Z:r=2;break;default:e.closestIJKAxis={ijkMode:e.slicingMode,flip:!1};return}const a=t.getCurrentImage().getDirection(),i=OB(a);let o=0;for(;o<3&&i[r+3*o]===0;++o);const s=i[r+3*o]<0;e.closestIJKAxis={ijkMode:o,flip:s}}t.setSlicingMode=r=>{e.slicingMode!==r&&(e.slicingMode=r,t.getCurrentImage()&&n(),t.modified())},t.getClosestIJKAxis=()=>((e.closestIJKAxis===void 0||e.closestIJKAxis.ijkMode===sr.NONE)&&t.getCurrentImage()&&n(),e.closestIJKAxis),t.getBounds=()=>{const r=t.getCurrentImage();if(!r)return Ic();if(!e.useCustomExtents)return r.getBounds();const a=e.customDisplayExtent.slice(),{ijkMode:i}=t.getClosestIJKAxis();let o=e.slice;switch(i!==e.slicingMode&&(o=t.getSliceAtPosition(e.slice)),i){case sr.I:a[0]=o,a[1]=o;break;case sr.J:a[2]=o,a[3]=o;break;case sr.K:a[4]=o,a[5]=o;break}return r.extentToBounds(a)},t.getBoundsForSlice=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.slice,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=t.getCurrentImage();if(!i)return Ic();const o=i.getSpatialExtent(),{ijkMode:s}=t.getClosestIJKAxis();let l=r;switch(s!==e.slicingMode&&(l=t.getSliceAtPosition(r)),s){case sr.I:o[0]=l-a,o[1]=l+a;break;case sr.J:o[2]=l-a,o[3]=l+a;break;case sr.K:o[4]=l-a,o[5]=l+a;break}return i.extentToBounds(o)},t.intersectWithLineForPointPicking=(r,a)=>Bbe(r,a,t),t.intersectWithLineForCellPicking=(r,a)=>Gbe(r,a,t),t.getCurrentImage=()=>t.getInputData()}const Hbe={slicingMode:sr.NONE,closestIJKAxis:{ijkMode:sr.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1,preferSizeOverAccuracy:!1};function Uj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Hbe,n),Ube.extend(t,e,n),ne.get(t,e,["slicingMode"]),ne.setGet(t,e,["closestIJKAxis","renderToRectangle","sliceAtFocalPoint","preferSizeOverAccuracy"]),ay.implementCoincidentTopologyMethods(t,e),jbe(t,e)}const qbe=ne.newInstance(Uj,"vtkImageMapper");var Kbe={newInstance:qbe,extend:Uj,...zbe,...Wbe,...oy};const{InterpolationType:j2}=yCe,{vtkErrorMacro:wM}=ne,H2=4;function Qbe(t,e){e.classHierarchy.push("vtkImageProperty"),t.getMTime=()=>{let n=e.mtime,r;for(let a=0;a<H2;a++)e.componentData[a].rGBTransferFunction&&(r=e.componentData[a].rGBTransferFunction.getMTime(),n=n>r?n:r),e.componentData[a].piecewiseFunction&&(r=e.componentData[a].piecewiseFunction.getMTime(),n=n>r?n:r);return n},t.setRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=n,i=r;return Number.isInteger(n)||(i=n,a=0),e.componentData[a].rGBTransferFunction!==i?(e.componentData[a].rGBTransferFunction=i,t.modified(),!0):!1},t.getRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].rGBTransferFunction},t.setPiecewiseFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=n,i=r;return Number.isInteger(n)||(i=n,a=0),e.componentData[a].piecewiseFunction!==i?(e.componentData[a].piecewiseFunction=i,t.modified(),!0):!1},t.getPiecewiseFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].piecewiseFunction},t.setScalarOpacity=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=n,i=r;return Number.isInteger(n)||(i=n,a=0),t.setPiecewiseFunction(a,i)},t.getScalarOpacity=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.getPiecewiseFunction(n)},t.setComponentWeight=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n<0||n>=H2)return wM("Invalid index"),!1;const a=Math.min(1,Math.max(0,r));return e.componentData[n].componentWeight!==a?(e.componentData[n].componentWeight=a,t.modified(),!0):!1},t.getComponentWeight=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return n<0||n>=H2?(wM("Invalid index"),0):e.componentData[n].componentWeight},t.setInterpolationTypeToNearest=()=>t.setInterpolationType(j2.NEAREST),t.setInterpolationTypeToLinear=()=>t.setInterpolationType(j2.LINEAR),t.getInterpolationTypeAsString=()=>ne.enumToString(j2,e.interpolationType)}const Xbe={independentComponents:!1,interpolationType:j2.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,useLookupTableScalarRange:!1,useLabelOutline:!1,labelOutlineThickness:[1],labelOutlineOpacity:1};function Bj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,Xbe,n),ne.obj(t,e),!e.componentData){e.componentData=[];for(let r=0;r<H2;r++)e.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}ne.setGet(t,e,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity","useLookupTableScalarRange","useLabelOutline","labelOutlineOpacity"]),ne.setGetArray(t,e,["labelOutlineThickness"]),Qbe(t,e)}const Ybe=ne.newInstance(Bj,"vtkImageProperty");var Zbe={newInstance:Ybe,extend:Bj};const{vtkDebugMacro:Jbe}=ne;function eEe(t,e){e.classHierarchy.push("vtkImageSlice"),t.getActors=()=>t,t.getImages=()=>t,t.getIsOpaque=()=>{if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();let n=e.property.getOpacity()>=1;return n=n&&(!e.mapper||e.mapper.getIsOpaque()),n},t.hasTranslucentPolygonalGeometry=()=>!1,t.makeProperty=Zbe.newInstance,t.getProperty=()=>(e.property===null&&(e.property=t.makeProperty()),e.property),t.getBounds=()=>{if(e.mapper===null)return e.bounds;const n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;const r=a=>a[0].map((i,o)=>a.map(s=>s[o]));if(!e.mapperBounds||!r([n,e.mapperBounds]).reduce((a,i)=>a&&i[0]===i[1],!0)||t.getMTime()>e.boundsMTime.getMTime()){Jbe("Recomputing bounds..."),e.mapperBounds=n.map(i=>i),t.computeMatrix();const a=new Float64Array(16);tr(a,e.matrix),Wr.transformBounds(n,a,e.bounds),e.boundsMTime.modified()}return e.bounds},t.getBoundsForSlice=(n,r)=>{const a=e.mapper.getBoundsForSlice(n,r);if(!Wr.isValid(a))return a;t.computeMatrix();const i=new Float64Array(16);return tr(i,e.matrix),Wr.transformBounds(a,i)},t.getMinXBound=()=>t.getBounds()[0],t.getMaxXBound=()=>t.getBounds()[1],t.getMinYBound=()=>t.getBounds()[2],t.getMaxYBound=()=>t.getBounds()[3],t.getMinZBound=()=>t.getBounds()[4],t.getMaxZBound=()=>t.getBounds()[5],t.getMTime=()=>{let n=e.mtime;if(e.property!==null){const r=e.property.getMTime();n=r>n?r:n}return n},t.getRedrawMTime=()=>{let n=e.mtime;if(e.mapper!==null){let r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}if(e.property!==null){let r=e.property.getMTime();n=r>n?r:n,e.property.getRGBTransferFunction()!==null&&(r=e.property.getRGBTransferFunction().getMTime(),n=r>n?r:n)}return n},t.getSupportsSelection=()=>e.mapper?e.mapper.getSupportsSelection():!1}const tEe={mapper:null,property:null,forceOpaque:!1,forceTranslucent:!1,bounds:[...Wr.INIT_BOUNDS]};function Gj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,tEe,n),Qw.extend(t,e,n),e.boundsMTime={},ne.obj(e.boundsMTime),ne.set(t,e,["property"]),ne.setGet(t,e,["mapper","forceOpaque","forceTranslucent"]),ne.getArray(t,e,["bounds"],6),eEe(t,e)}const nEe=ne.newInstance(Gj,"vtkImageSlice");var rEe={newInstance:nEe,extend:Gj};function zj(t){const e=Pc.newInstance();let n=0,r=1024;return t.lower!==void 0&&t.upper!==void 0&&(n=t.lower,r=t.upper),e.addRGBPoint(n,0,0,0),e.addRGBPoint(r,1,1,1),e}function gy(t,e){const n=e.voxelManager.getScalarData();if(!t.getPointData)return;const r=t.getPointData().getScalars().getData();if(e.color&&e.rgba){const a=new Uint8Array(e.columns*e.rows*3);for(let i=0;i<e.columns*e.rows;i++)a[i*3]=n[i*4],a[i*3+1]=n[i*4+1],a[i*3+2]=n[i*4+2];e.rgba=!1,e.getPixelData=()=>a,r.set(a)}else r.set(n);t.modified()}function Kn(){return window.performance?performance.now():Date.now()}function aEe(t,e){return function(n){const r=((n-(e-.5))/(t-1)+.5)*255;return Math.min(Math.max(r,0),255)}}function iEe(t){const n=Math.max(...t.lut).toString(2).length-8,r=t.lut[0]>>n,a=t.lut[t.lut.length-1]>>n,i=t.firstValueMapped+t.lut.length-1;return function(o){return o<t.firstValueMapped?r:o>=i?a:t.lut[o-t.firstValueMapped]>>n}}function Wj(t,e,n){return n?iEe(n):aEe(t,e)}function oEe(t,e,n,r,a){const i=t.maxPixelValue,o=t.minPixelValue,s=Math.min(o,0);if(t.cachedLut===void 0){const f=i-s+1;t.cachedLut={},t.cachedLut.lutArray=new Uint8ClampedArray(f)}const l=t.cachedLut.lutArray,c=Wj(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n,a);if(r)for(let f=o;f<=i;f++)l[f+-s]=255-c(f);else for(let f=o;f<=i;f++)l[f+-s]=c(f);return l}function sEe(t,e,n){let r=Kn();const a=t.voxelManager.getScalarData();t.stats.lastGetPixelDataTime=Kn()-r;const i=t.minPixelValue;let o=0,s=0;const l=a.length;if(r=Kn(),i<0)for(;s<l;)n[o++]=e[a[s++]+-i],n[o++]=e[a[s++]+-i],n[o]=e[a[s]+-i],s+=2,o+=2;else for(;s<l;)n[o++]=e[a[s++]],n[o++]=e[a[s++]],n[o]=e[a[s]],s+=2,o+=2;t.stats.lastStoredPixelDataToCanvasImageDataTime=Kn()-r}function lEe(t,e,n){let r=Kn();const a=t.getPixelData();t.stats.lastGetPixelDataTime=Kn()-r;const i=t.minPixelValue;let o=0,s=0;const l=a.length;if(r=Kn(),i<0)for(;s<l;)n[o++]=e[a[s++]+-i],n[o++]=e[a[s++]+-i],n[o++]=e[a[s++]+-i],n[o++]=a[s++];else for(;s<l;)n[o++]=e[a[s++]],n[o++]=e[a[s++]],n[o++]=e[a[s++]],n[o++]=a[s++];t.stats.lastStoredPixelDataToCanvasImageDataTime=Kn()-r}class gg{constructor(){this.reset()}getMatrix(){return this.m}reset(){this.m=[1,0,0,1,0,0]}clone(){const e=new gg;return e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5],e}multiply(e){const n=this.m[0]*e[0]+this.m[2]*e[1],r=this.m[1]*e[0]+this.m[3]*e[1],a=this.m[0]*e[2]+this.m[2]*e[3],i=this.m[1]*e[2]+this.m[3]*e[3],o=this.m[0]*e[4]+this.m[2]*e[5]+this.m[4],s=this.m[1]*e[4]+this.m[3]*e[5]+this.m[5];this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=i,this.m[4]=o,this.m[5]=s}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,a=-this.m[2]*e,i=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=i,this.m[4]=o,this.m[5]=s}rotate(e){const n=Math.cos(e),r=Math.sin(e),a=this.m[0]*n+this.m[2]*r,i=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,s=this.m[1]*-r+this.m[3]*n;this.m[0]=a,this.m[1]=i,this.m[2]=o,this.m[3]=s}translate(e,n){this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n}scale(e,n){this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n}transformPoint(e){const n=e[0],r=e[1];return[n*this.m[0]+r*this.m[2]+this.m[4],n*this.m[1]+r*this.m[3]+this.m[5]]}}function Hv(t,e){const n=new gg;if(!t.viewport.displayedArea)return n;n.translate(t.canvas.width/2,t.canvas.height/2);const r=t.viewport.rotation;r!==0&&n.rotate(r*Math.PI/180);let a=t.viewport.scale,i=t.viewport.scale;const o=t.viewport.displayedArea.brhc.x-(t.viewport.displayedArea.tlhc.x-1),s=t.viewport.displayedArea.brhc.y-(t.viewport.displayedArea.tlhc.y-1);if(t.viewport.displayedArea.presentationSizeMode==="NONE")t.image.rowPixelSpacing<t.image.columnPixelSpacing?a*=t.image.columnPixelSpacing/t.image.rowPixelSpacing:t.image.columnPixelSpacing<t.image.rowPixelSpacing&&(i*=t.image.rowPixelSpacing/t.image.columnPixelSpacing);else if(a=t.viewport.displayedArea.columnPixelSpacing,i=t.viewport.displayedArea.rowPixelSpacing,t.viewport.displayedArea.presentationSizeMode==="SCALE TO FIT"){const l=t.canvas.height/(s*i),c=t.canvas.width/(o*a);a=i=Math.min(c,l),t.viewport.displayedArea.rowPixelSpacing<t.viewport.displayedArea.columnPixelSpacing?a*=t.viewport.displayedArea.columnPixelSpacing/t.viewport.displayedArea.rowPixelSpacing:t.viewport.displayedArea.columnPixelSpacing<t.viewport.displayedArea.rowPixelSpacing&&(i*=t.viewport.displayedArea.rowPixelSpacing/t.viewport.displayedArea.columnPixelSpacing)}return n.scale(a,i),r!==0&&n.rotate(-r*Math.PI/180),n.translate(t.viewport.translation.x,t.viewport.translation.y),r!==0&&n.rotate(r*Math.PI/180),t.viewport.hflip&&n.scale(-1,1),t.viewport.vflip&&n.scale(1,-1),n.translate(-o/2,-s/2),n}function ib(t,e,n){if(t===void 0)throw new Error("setToPixelCoordinateSystem: parameter enabledElement must not be undefined");if(e===void 0)throw new Error("setToPixelCoordinateSystem: parameter context must not be undefined");const a=Hv(t).getMatrix();e.setTransform(a[0],a[1],a[2],a[3],a[4],a[5])}function ob(t,e){const n=t.renderingTools.lastRenderedImageId,r=t.renderingTools.lastRenderedViewport;return e.imageId!==n||!r||r.windowCenter!==t.viewport.voi.windowCenter||r.windowWidth!==t.viewport.voi.windowWidth||r.invert!==t.viewport.invert||r.rotation!==t.viewport.rotation||r.hflip!==t.viewport.hflip||r.vflip!==t.viewport.vflip||r.modalityLUT!==t.viewport.modalityLUT||r.voiLUT!==t.viewport.voiLUT||r.colormap!==t.viewport.colormap}function E3(t,e){const n=t.renderingTools.renderCanvas;n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.fillStyle="white",r.fillRect(0,0,n.width,n.height);const a=r.getImageData(0,0,e.width,e.height);t.renderingTools.renderCanvasContext=r,t.renderingTools.renderCanvasData=a}function sb(t){const e=t.image.imageId,n=t.viewport,r=t.image.color;return t.renderingTools.lastRenderedImageId=e,t.renderingTools.lastRenderedIsColor=r,t.renderingTools.lastRenderedViewport={windowCenter:n.voi.windowCenter,windowWidth:n.voi.windowWidth,invert:n.invert,rotation:n.rotation,hflip:n.hflip,vflip:n.vflip,modalityLUT:n.modalityLUT,voiLUT:n.voiLUT,colormap:n.colormap},t.renderingTools}function cEe(t,e){return t.cachedLut!==void 0&&t.cachedLut.windowCenter===e.voi.windowCenter&&t.cachedLut.windowWidth===e.voi.windowWidth&&t.cachedLut.invert===e.invert||(oEe(t,e.voi.windowWidth,e.voi.windowCenter,e.invert),t.cachedLut.windowWidth=e.voi.windowWidth,t.cachedLut.windowCenter=e.voi.windowCenter,t.cachedLut.invert=e.invert),t.cachedLut.lutArray}function uEe(t,e,n){const r=t.renderingTools.lastRenderedIsColor;(!t.renderingTools.renderCanvas||!r)&&(t.renderingTools.renderCanvas=document.createElement("canvas"));const a=t.renderingTools.renderCanvas,{windowWidth:i,windowCenter:o}=t.viewport.voi;if((i===256||i===255)&&(o===128||o===127)&&!t.viewport.invert&&e.getCanvas&&e.getCanvas())return e.getCanvas();if(!ob(t,e)&&!n)return a;(a.width!==e.width||a.height!==e.height)&&E3(t,e);let s=Kn();const l=cEe(e,t.viewport);e.stats=e.stats||{},e.stats.lastLutGenerateTime=Kn()-s;const c=t.renderingTools.renderCanvasData,f=t.renderingTools.renderCanvasContext;return e.rgba?lEe(e,l,c.data):sEe(e,l,c.data),s=Kn(),f.putImageData(c,0,0),e.stats.lastPutImageDataTime=Kn()-s,a}function fEe(t,e){if(t===void 0)throw new Error("renderColorImage: enabledElement parameter must not be undefined");const n=t.image;if(n===void 0)throw new Error("renderColorImage: image must be loaded before it can be drawn");const r=t.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),r.fillStyle="black",r.fillRect(0,0,t.canvas.width,t.canvas.height),r.imageSmoothingEnabled=!t.viewport.pixelReplication,ib(t,r);const a=uEe(t,n,e),i=t.viewport.displayedArea.tlhc.x-1,o=t.viewport.displayedArea.tlhc.y-1,s=t.viewport.displayedArea.brhc.x-i,l=t.viewport.displayedArea.brhc.y-o;r.drawImage(a,i,o,s,l,0,0,s,l),t.renderingTools=sb(t)}function dEe(t,e,n){let r=Kn();const a=t.voxelManager.getScalarData();t.stats.lastGetPixelDataTime=Kn()-r;const i=a.length,o=t.minPixelValue;let s=3,l=0;if(r=Kn(),a instanceof Int16Array)if(o<0)for(;l<i;)n[s]=e[a[l++]+-o],s+=4;else for(;l<i;)n[s]=e[a[l++]],s+=4;else if(a instanceof Uint16Array)for(;l<i;)n[s]=e[a[l++]],s+=4;else if(o<0)for(;l<i;)n[s]=e[a[l++]+-o],s+=4;else for(;l<i;)n[s]=e[a[l++]],s+=4;t.stats.lastStoredPixelDataToCanvasImageDataTime=Kn()-r}function gEe(t,e,n){let r=Kn();const a=t.voxelManager.getScalarData();t.stats.lastGetPixelDataTime=Kn()-r;const i=a.length;let o=3,s=0;for(r=Kn();s<i;)n[o]=e(a[s++]),o+=4;t.stats.lastStoredPixelDataToCanvasImageDataTime=Kn()-r}function mEe(t,e,n){let r=Kn();const a=t.voxelManager.getScalarData();t.stats.lastGetPixelDataTime=Kn()-r;const i=a.length,o=t.minPixelValue;let s=0,l=0,c;if(r=Kn(),a instanceof Int16Array)if(o<0)for(;l<i;)c=e[a[l++]+-o],n[s++]=c,n[s++]=c,n[s++]=c,n[s++]=255;else for(;l<i;)c=e[a[l++]],n[s++]=c,n[s++]=c,n[s++]=c,n[s++]=255;else if(a instanceof Uint16Array)for(;l<i;)c=e[a[l++]],n[s++]=c,n[s++]=c,n[s++]=c,n[s++]=255;else if(o<0)for(;l<i;)c=e[a[l++]+-o],n[s++]=c,n[s++]=c,n[s++]=c,n[s++]=255;else for(;l<i;)c=e[a[l++]],n[s++]=c,n[s++]=c,n[s++]=c,n[s++]=255;t.stats.lastStoredPixelDataToCanvasImageDataTime=Kn()-r}function vEe(t,e){if(pEe(t))return;const n=e.maxPixelValue*e.slope+e.intercept,r=e.minPixelValue*e.slope+e.intercept,a=n-r,i=(n+r)/2;t.voi===void 0?t.voi={windowWidth:a,windowCenter:i,voiLUTFunction:e.voiLUTFunction}:(t.voi.windowWidth=a,t.voi.windowCenter=i)}function pEe(t){return t.voiLUT&&t.voiLUT.lut&&t.voiLUT.lut.length>0||t.voi.windowWidth!==void 0&&t.voi.windowCenter!==void 0}function bM(t,e){return!t&&!e?!0:!t||!e?!1:t.id===e.id}function hEe(t,e){return n=>n*t+e}function SEe(t){const e=t.lut[0],n=t.lut[t.lut.length-1],r=t.firstValueMapped+t.lut.length;return a=>a<t.firstValueMapped?e:a>=r?n:t.lut[a]}function yEe(t,e,n){return n?SEe(n):hEe(t,e)}function CEe(t,e,n,r,a,i){const o=t.maxPixelValue,s=t.minPixelValue,l=Math.min(s,0);if(t.cachedLut===void 0){const d=o-l+1;t.cachedLut={},t.cachedLut.lutArray=new Uint8ClampedArray(d)}const c=t.cachedLut.lutArray,f=yEe(t.slope,t.intercept,a),u=Wj(e,n,i);if(t.isPreScaled)if(r)for(let d=s;d<=o;d++)c[d+-l]=255-u(d);else for(let d=s;d<=o;d++)c[d+-l]=u(d);else if(r)for(let d=s;d<=o;d++)c[d+-l]=255-u(f(d));else for(let d=s;d<=o;d++)c[d+-l]=u(f(d));return c}function jj(t,e,n){return t.cachedLut!==void 0&&t.cachedLut.windowCenter===e.voi.windowCenter&&t.cachedLut.windowWidth===e.voi.windowWidth&&bM(t.cachedLut.modalityLUT,e.modalityLUT)&&bM(t.cachedLut.voiLUT,e.voiLUT)&&t.cachedLut.invert===e.invert&&!n||(vEe(e,t),CEe(t,e.voi.windowWidth,e.voi.windowCenter,e.invert,e.modalityLUT,e.voiLUT),t.cachedLut.windowWidth=e.voi.windowWidth,t.cachedLut.windowCenter=e.voi.windowCenter,t.cachedLut.invert=e.invert,t.cachedLut.voiLUT=e.voiLUT,t.cachedLut.modalityLUT=e.modalityLUT),t.cachedLut.lutArray}function xEe(t,e,n,r=!0){const a=t.renderingTools.lastRenderedIsColor;(!t.renderingTools.renderCanvas||a)&&(t.renderingTools.renderCanvas=document.createElement("canvas"),E3(t,e));const i=t.renderingTools.renderCanvas;if(!ob(t,e)&&!n)return i;(i.width!==e.width||i.height!==e.height)&&E3(t,e),e.stats=e.stats||{};const o=t.renderingTools.renderCanvasData,s=t.renderingTools.renderCanvasContext;let l=Kn();e.stats.lastLutGenerateTime=Kn()-l;const{viewport:c}=t;if(c.modality==="PT"&&e.isPreScaled){const{windowWidth:f,windowCenter:u}=c.voi,d=u-f/2,m=255/(u+f/2-d);let p;c.invert?p=h=>255-(h-d)*m:p=h=>(h-d)*m,gEe(e,p,o.data)}else{const f=jj(e,c,n);r?dEe(e,f,o.data):mEe(e,f,o.data)}return l=Kn(),s.putImageData(o,0,0),e.stats.lastPutImageDataTime=Kn()-l,i}function TEe(t,e){if(t===void 0)throw new Error("drawImage: enabledElement parameter must not be undefined");const n=t.image;if(n===void 0)throw new Error("drawImage: image must be loaded before it can be drawn");const r=t.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),r.fillStyle="black",r.fillRect(0,0,t.canvas.width,t.canvas.height),r.imageSmoothingEnabled=!t.viewport.pixelReplication,ib(t,r);const a=xEe(t,n,e),i=t.viewport.displayedArea.tlhc.x-1,o=t.viewport.displayedArea.tlhc.y-1,s=t.viewport.displayedArea.brhc.x-i,l=t.viewport.displayedArea.brhc.y-o;r.drawImage(a,i,o,s,l,0,0,s,l),t.renderingTools=sb(t)}const cx=0,ux=1,wEe=2;function bEe(t,e,n){if(t>1)throw new Error("HSVToRGB expects hue < 1");const r=[];if(e===0)return r[0]=n,r[1]=n,r[2]=n,r;const a=Math.floor(t*6),i=6*t-a,o=n*(1-e),s=n*(1-e*i),l=n*(1-e*(1-i));switch(a){case 0:case 6:r[0]=n,r[1]=l,r[2]=o;break;case 1:r[0]=s,r[1]=n,r[2]=o;break;case 2:r[0]=o,r[1]=n,r[2]=l;break;case 3:r[0]=o,r[1]=s,r[2]=n;break;case 4:r[0]=l,r[1]=o,r[2]=n;break;case 5:r[0]=n,r[1]=o,r[2]=s;break}return r}function EEe(t,e){let n;return t<e.Range[0]?n=e.MaxIndex+cx+1.5:t>e.Range[1]?n=e.MaxIndex+ux+1.5:n=(t+e.Shift)*e.Scale,Math.floor(n)}class lb{constructor(){this.NumberOfColors=256,this.Ramp="linear",this.TableRange=[0,255],this.HueRange=[0,.66667],this.SaturationRange=[1,1],this.ValueRange=[1,1],this.AlphaRange=[1,1],this.NaNColor=[128,0,0,255],this.BelowRangeColor=[0,0,0,255],this.UseBelowRangeColor=!0,this.AboveRangeColor=[255,255,255,255],this.UseAboveRangeColor=!0,this.InputRange=[0,255],this.Table=[]}setNumberOfTableValues(e){this.NumberOfColors=e}setRamp(e){this.Ramp=e}setTableRange(e,n){this.TableRange[0]=e,this.TableRange[1]=n}setHueRange(e,n){this.HueRange[0]=e,this.HueRange[1]=n}setSaturationRange(e,n){this.SaturationRange[0]=e,this.SaturationRange[1]=n}setValueRange(e,n){this.ValueRange[0]=e,this.ValueRange[1]=n}setRange(e,n){this.InputRange[0]=e,this.InputRange[1]=n}setAlphaRange(e,n){this.AlphaRange[0]=e,this.AlphaRange[1]=n}getColor(e){return this.mapValue(e)}build(e){if(this.Table.length>1&&!e)return;this.Table=[];const n=this.NumberOfColors-1;let r,a,i,o;n?(r=(this.HueRange[1]-this.HueRange[0])/n,a=(this.SaturationRange[1]-this.SaturationRange[0])/n,i=(this.ValueRange[1]-this.ValueRange[0])/n,o=(this.AlphaRange[1]-this.AlphaRange[0])/n):r=a=i=o=0;for(let s=0;s<=n;s++){const l=this.HueRange[0]+s*r,c=this.SaturationRange[0]+s*a,f=this.ValueRange[0]+s*i,u=this.AlphaRange[0]+s*o,d=bEe(l,c,f),g=[0,0,0,0];switch(this.Ramp){case"scurve":g[0]=Math.floor(127.5*(1+Math.cos((1-d[0])*Math.PI))),g[1]=Math.floor(127.5*(1+Math.cos((1-d[1])*Math.PI))),g[2]=Math.floor(127.5*(1+Math.cos((1-d[2])*Math.PI))),g[3]=Math.floor(u*255);break;case"linear":g[0]=Math.floor(d[0]*255+.5),g[1]=Math.floor(d[1]*255+.5),g[2]=Math.floor(d[2]*255+.5),g[3]=Math.floor(u*255+.5);break;case"sqrt":g[0]=Math.floor(Math.sqrt(d[0])*255+.5),g[1]=Math.floor(Math.sqrt(d[1])*255+.5),g[2]=Math.floor(Math.sqrt(d[2])*255+.5),g[3]=Math.floor(Math.sqrt(u)*255+.5);break;default:throw new Error(`Invalid Ramp value (${this.Ramp})`)}this.Table.push(g)}this.buildSpecialColors()}buildSpecialColors(){const e=this.NumberOfColors,n=e+cx,r=e+ux,a=e+wEe;this.UseBelowRangeColor||e===0?this.Table[n]=this.BelowRangeColor:this.Table[n]=this.Table[0],this.UseAboveRangeColor||e===0?this.Table[r]=this.AboveRangeColor:this.Table[r]=this.Table[e-1],this.Table[a]=this.NaNColor}mapValue(e){const n=this.getIndex(e);if(n<0)return this.NaNColor;if(n===0){if(this.UseBelowRangeColor&&e<this.TableRange[0])return this.BelowRangeColor}else if(n===this.NumberOfColors-1&&this.UseAboveRangeColor&&e>this.TableRange[1])return this.AboveRangeColor;return this.Table[n]}getIndex(e){const n={Range:[],MaxIndex:this.NumberOfColors-1,Shift:-this.TableRange[0],Scale:1};if(this.TableRange[1]<=this.TableRange[0]?n.Scale=Number.MAX_VALUE:n.Scale=n.MaxIndex/(this.TableRange[1]-this.TableRange[0]),n.Range[0]=this.TableRange[0],n.Range[1]=this.TableRange[1],isNaN(e))return-1;let r=EEe(e,n);return r===this.NumberOfColors+cx?r=0:r===this.NumberOfColors+ux&&(r=this.NumberOfColors-1),r}setTableValue(e,n,r,a,i){let o;if(typeof n=="number"&&r!==void 0&&a!==void 0&&i!==void 0)o=[n,r,a,i];else if(Array.isArray(n))o=n;else throw new Error("Invalid arguments for setTableValue");if(e<0)throw new Error(`Can't set the table value for negative index (${e})`);if(e>=this.NumberOfColors)throw new Error(`Index ${e} is greater than the number of colors ${this.NumberOfColors}`);this.Table[e]=o,(e===0||e===this.NumberOfColors-1)&&this.buildSpecialColors()}}const EM=[0,0,0,0];function DEe(t,e,n){n=n===null?100:n;const r=(e-t)/(n-1),a=[];for(;n-- >0;)a.push(t),t+=r;return a[a.length-1]=e,a}function OEe(t,e){let n=0,r=t.length-1;for(;n<=r;){const a=n+Math.floor((r-n)/2),i=t[a];if(i===e)return a;e<i?r=a-1:n=a+1}return n}function REe(t,e){let n;const r=[],a=e.length;for(t.sort(function(i,o){return i-o}),n=0;n<a;n++)r[n]=OEe(t,e[n]);return r}function L8(t,e,n){let r;const a=[],i=[],o=[],s=[];for(n=n===null?1:n,r=0;r<e.length;r++){const f=e[r];a.push((t-1)*f[0]),i.push(f[1]),o.push(f[1])}const l=DEe(0,1,t);for(r=0;r<t;r++)l[r]=(t-1)*Math.pow(l[r],n);const c=REe(a,l);for(r=1;r<t-1;r++){const f=c[r],u=(l[r]-a[f-1])/(a[f]-a[f-1]),d=i[f]-o[f-1];s[r]=u*d+o[f-1]}return s[0]=o[0],s[t-1]=i[e.length-1],s}function IEe(t,e,n){let r;const a=[];e=e===null?256:e,n=n===null?1:n;const i=L8(e,t.red,n),o=L8(e,t.green,n),s=L8(e,t.blue,n);for(r=0;r<e;r++){const l=Math.round(i[r]*255),c=Math.round(o[r]*255),f=Math.round(s[r]*255),u=[l,c,f,255];a.push(u)}return a}function AEe(t,e){let n=M9[t];return n||(n=M9[t]={name:"",colors:[]}),!n.colors&&n.segmentedData&&(n.colors=IEe(n.segmentedData,n.numColors,n.gamma)),{getId(){return t},getColorSchemeName(){return n.name},setColorSchemeName(a){n.name=a},getNumberOfColors(){return n.colors.length},setNumberOfColors(a){for(;n.colors.length<a;)n.colors.push(EM);n.colors.length=a},getColor(a){return this.isValidIndex(a)?n.colors[a]:EM},getColorRepeating(a){const i=n.colors.length;return a=i?a%i:0,this.getColor(a)},setColor(a,i){this.isValidIndex(a)&&(n.colors[a]=i)},addColor(a){n.colors.push(a)},insertColor(a,i){this.isValidIndex(a)&&n.colors.splice(a,1,i)},removeColor(a){this.isValidIndex(a)&&n.colors.splice(a,1)},clearColors(){n.colors=[]},buildLookupTable(a){if(!a)return;const i=n.colors.length;a.setNumberOfTableValues(i);for(let o=0;o<i;o++)a.setTableValue(o,n.colors[o])},createLookupTable(){const a=new lb;return this.buildLookupTable(a),a},isValidIndex(a){return a>=0&&a<n.colors.length}}}function MEe(t,e,n,r){let a=Kn();const i=t.voxelManager.getScalarData();t.stats.lastGetPixelDataTime=Kn()-a;const o=i.length,s=t.minPixelValue;let l=0,c=0,f,u,d;if(a=Kn(),n instanceof lb?d=n.Table:d=n,s<0)for(;c<o;)f=e[i[c++]+-s],u=d[f],r[l++]=u[0],r[l++]=u[1],r[l++]=u[2],r[l++]=u[3];else for(;c<o;)f=e[i[c++]],u=d[f],r[l++]=u[0],r[l++]=u[1],r[l++]=u[2],r[l++]=u[3];t.stats.lastStoredPixelDataToCanvasImageDataTime=Kn()-a}function PEe(t,e,n,r){let a=Kn();const i=t.voxelManager.getScalarData();t.stats.lastGetPixelDataTime=Kn()-a;const o=i.length,s=t.minPixelValue;let l=0,c=0,f,u,d;if(a=Kn(),n instanceof lb?d=n.Table:d=n,s<0)for(;c<o;)f=e(i[c++]+-s),u=d[f],r[l++]=u[0],r[l++]=u[1],r[l++]=u[2],r[l++]=u[3];else for(;c<o;)f=e(i[c++]),u=d[f],r[l++]=u[0],r[l++]=u[1],r[l++]=u[2],r[l++]=u[3];t.stats.lastStoredPixelDataToCanvasImageDataTime=Kn()-a}function fx(t,e,n){return Math.max(e,Math.min(n,t))}function LEe(t,e,n){t.renderingTools.renderCanvas||(t.renderingTools.renderCanvas=document.createElement("canvas"));const r=t.renderingTools.renderCanvas;let a=t.viewport.colormap||t.options.colormap;if(t.options&&t.options.colormap&&console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead"),a&&typeof a=="string"&&(a=AEe(a)),!a)throw new Error("renderPseudoColorImage: colormap not found.");const i=a.getId();if(!ob(t,e)&&!n&&t.renderingTools.colormapId===i)return r;(r.width!==e.width||r.height!==e.height)&&E3(t,e);let o=Kn();(!t.renderingTools.colorLUT||n||t.renderingTools.colormapId!==i)&&(a.setNumberOfColors(256),t.renderingTools.colorLUT=a.createLookupTable(),t.renderingTools.colormapId=i);const s=t.renderingTools.renderCanvasData,l=t.renderingTools.renderCanvasContext,{viewport:c}=t,f=t.renderingTools.colorLUT;if(c.modality==="PT"){const{windowWidth:u,windowCenter:d}=c.voi,g=d-u/2,p=255/(d+u/2-g);let h;c.invert?h=y=>fx(Math.floor(255-(y-g)*p),0,255):h=y=>fx(Math.floor((y-g)*p),0,255),PEe(e,h,f,s.data)}else{const u=jj(e,t.viewport,n);e.stats=e.stats||{},e.stats.lastLutGenerateTime=Kn()-o,MEe(e,u,f,s.data)}return o=Kn(),l.putImageData(s,0,0),e.stats.lastPutImageDataTime=Kn()-o,r}function _Ee(t,e){if(t===void 0)throw new Error("drawImage: enabledElement parameter must not be undefined");const n=t.image;if(n===void 0)throw new Error("drawImage: image must be loaded before it can be drawn");const r=t.canvas.getContext("2d");r.setTransform(1,0,0,1,0,0),r.fillStyle="black",r.fillRect(0,0,t.canvas.width,t.canvas.height),r.imageSmoothingEnabled=!t.viewport.pixelReplication,ib(t,r);const a=LEe(t,n,e),i=t.viewport.displayedArea.tlhc.x-1,o=t.viewport.displayedArea.tlhc.y-1,s=t.viewport.displayedArea.brhc.x-i,l=t.viewport.displayedArea.brhc.y-o;r.drawImage(a,i,o,s,l,0,0,s,l),t.renderingTools=sb(t)}function Hj(t,e){const n=t.image;if(!t.canvas||!t.image)return;const r=Kn();if(n.stats={lastGetPixelDataTime:-1,lastStoredPixelDataToCanvasImageDataTime:-1,lastPutImageDataTime:-1,lastRenderTime:-1,lastLutGenerateTime:-1},n){let i=n.render;i||(t.viewport.colormap?i=_Ee:n.color?i=fEe:i=TEe),i(t,e)}const a=Kn()-r;n.stats.lastRenderTime=a,t.invalid=!1,t.needsRedraw=!1}function qj(t){return Hv(t)}function Gh(t,e){const n=qj(t);return n.invert(),n.transformPoint(e)}const NEe={viewport:{}};function FEe(){return{tlhc:{x:1,y:1},brhc:{x:1,y:1},rowPixelSpacing:1,columnPixelSpacing:1,presentationSizeMode:"NONE"}}function $Ee(){const t=FEe(),e={scale:1,translation:{x:0,y:0},voi:{windowWidth:void 0,windowCenter:void 0,voiLUTFunction:zi.LINEAR},invert:!1,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:void 0,voiLUT:void 0,colormap:void 0,labelmap:!1,displayedArea:t};return Object.assign({},e,NEe.viewport)}function zm(t,e){if(t==null)throw new Error(e)}function VEe(t){return!(t==null||t===0||t===180)}function Kj(t,e=null){return zm(t,"getImageSize: parameter image must not be undefined"),zm(t.width,"getImageSize: parameter image must have width"),zm(t.height,"getImageSize: parameter image must have height"),VEe(e)?{height:t.width,width:t.height}:{width:t.width,height:t.height}}function cb(t,e,n=null){zm(t,"getImageScale: parameter canvas must not be undefined"),zm(e,"getImageScale: parameter image must not be undefined");const r=Kj(e,n),a=e.rowPixelSpacing||1,i=e.columnPixelSpacing||1;let o=1,s=1;a<i?s=i/a:o=a/i;const l=t.height/r.height/o,c=t.width/r.width/s;return{verticalScale:l,horizontalScale:c,scaleFactor:Math.min(c,l)}}function Qj(t,e,n,r){if(t===void 0)throw new Error("getDefaultViewport: parameter canvas must not be undefined");if(e===void 0)return $Ee();const a=cb(t,e,0).scaleFactor;let i;return n==="PT"&&e.isPreScaled?i={windowWidth:5,windowCenter:2.5}:e.windowWidth!==void 0&&e.windowCenter!==void 0&&(i={windowWidth:Array.isArray(e.windowWidth)?e.windowWidth[0]:e.windowWidth,windowCenter:Array.isArray(e.windowCenter)?e.windowCenter[0]:e.windowCenter}),{scale:a,translation:{x:0,y:0},voi:i,invert:e.invert,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:e.modalityLUT,modality:n,voiLUT:e.voiLUT,colormap:r!==void 0?r:e.colormap,displayedArea:{tlhc:{x:1,y:1},brhc:{x:e.columns,y:e.rows},rowPixelSpacing:e.rowPixelSpacing===void 0?1:e.rowPixelSpacing,columnPixelSpacing:e.columnPixelSpacing===void 0?1:e.columnPixelSpacing,presentationSizeMode:"NONE"}}}function DM(t,e){return qj(t).transformPoint(e)}function kEe(t){const{image:e}=t;t.viewport.scale=cb(t.canvas,e,t.viewport.rotation).scaleFactor,t.viewport.translation.x=0,t.viewport.translation.y=0}function UEe(t){const{canvas:e}=t,{clientWidth:n,clientHeight:r}=e;(e.width!==n||e.height!==r)&&(e.width=n,e.height=r)}function BEe(t,e,n){const r=t.viewport.scale,a=Kj(t.image,t.viewport.rotation),i=Math.round(a.width*r),o=Math.round(a.height*r),s=t.viewport.translation.x,l=t.viewport.translation.y;return i===e&&o<=n||i<=e&&o===n&&s===0&&l===0}function GEe(t,e,n){const r=t.viewport.scale,a=t.canvas.width,i=t.canvas.height,o=a/e,s=i/n,l=Math.sqrt(o*s);t.viewport.scale=l*r}function zEe(t,e=!1){const n=t.canvas.width,r=t.canvas.height;UEe(t),t.image!==void 0&&(e||BEe(t,n,r)?kEe(t):GEe(t,n,r))}function WEe(t,e){const{hflip:n,vflip:r,rotation:a}=e;if(t.x*=n?-1:1,t.y*=r?-1:1,a!==0){const i=a*Math.PI/180,o=Math.cos(i),s=Math.sin(i),l=t.x*o-t.y*s,c=t.x*s+t.y*o;t.x=l,t.y=c}return t}function jEe(t,e=!0,n=!0){const{canvas:r,image:a,viewport:i}=t,o=cb(r,a,0).scaleFactor;i.vflip=!1,i.hflip=!1,e&&(i.translation.x=0,i.translation.y=0),n&&(i.displayedArea.tlhc.x=1,i.displayedArea.tlhc.y=1,i.displayedArea.brhc.x=a.columns,i.displayedArea.brhc.y=a.rows,i.scale=o)}const HEe=1;class rs extends N1{constructor(e){super(e),this.imageIds=[],this.imageKeyToIndexMap=new Map,this.currentImageIdIndex=0,this.targetImageIdIndex=0,this.imagesLoader=this,this.globalDefaultProperties={},this.perImageIdDefaultProperties=new Map,this.voiUpdatedWithSetProperties=!1,this.invert=!1,this.initialInvert=!1,this.initialTransferFunctionNodes=null,this.stackInvalidated=!1,this._publishCalibratedEvent=!1,this.updateRenderingPipeline=()=>{this._configureRenderingPipeline()},this.resize=()=>{this.useCPURendering&&this._resizeCPU()},this._resizeCPU=()=>{this._cpuFallbackEnabledElement.viewport&&zEe(this._cpuFallbackEnabledElement)},this.getFrameOfReferenceUID=n=>{var r;return(r=this.getImagePlaneReferenceData(n))==null?void 0:r.FrameOfReferenceUID},this.getCornerstoneImage=()=>this.csImage,this.createActorMapper=n=>{const r=Kbe.newInstance();r.setInputData(n);const a=rEe.newInstance();a.setMapper(r);const{preferSizeOverAccuracy:i}=jw().rendering;return i&&r.setPreferSizeOverAccuracy(!0),n.getPointData().getScalars().getNumberOfComponents()>1&&a.getProperty().setIndependentComponents(!1),a},this.getNumberOfSlices=()=>this.imageIds.length,this.getDefaultProperties=n=>{let r;return n!==void 0&&(r=this.perImageIdDefaultProperties.get(n)),r!==void 0?r:{...this.globalDefaultProperties}},this.getProperties=()=>{const{colormap:n,voiRange:r,VOILUTFunction:a,interpolationType:i,invert:o,voiUpdatedWithSetProperties:s}=this;return{colormap:n,voiRange:r,VOILUTFunction:a,interpolationType:i,invert:o,isComputedVOI:!s}},this.resetCameraForResize=()=>this.resetCamera({resetPan:!0,resetZoom:!0,resetToCenter:!0,suppressEvents:!0}),this.getRotationCPU=()=>{const{viewport:n}=this._cpuFallbackEnabledElement;return n.rotation},this.getRotationGPU=()=>{const{viewUp:n,viewPlaneNormal:r,flipVertical:a}=this.getCameraNoRotation(),i=a?K0(Xt(),this.initialViewUp):this.initialViewUp,o=YB(i,n)*180/Math.PI,s=ia(Xt(),i,n);return Ln(s,r)>=0?o:(360-o)%360},this.setRotation=n=>{const r=this.getCamera();if(this.useCPURendering?this.setRotationCPU(n):this.setRotationGPU(n),this._suppressCameraModifiedEvents)return;const a=this.getCamera(),i={previousCamera:r,camera:a,element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId};_t(this.element,It.CAMERA_MODIFIED,i)},this.renderImageObject=n=>{this._setCSImage(n),(this.useCPURendering?this._updateToDisplayImageCPU:this._updateActorToDisplayImageId).call(this,n)},this._setCSImage=n=>{var r;n.isPreScaled=(r=n.preScale)==null?void 0:r.scaled,this.csImage=n},this.canvasToWorldCPU=(n,r=[0,0,0])=>{if(!this._cpuFallbackEnabledElement.image)return;const[a,i]=Gh(this._cpuFallbackEnabledElement,n),{origin:o,spacing:s,direction:l}=this.getImageData(),c=l.slice(0,3),f=l.slice(3,6);return li(r,o,c,a*s[0]),li(r,r,f,i*s[1]),r},this.worldToCanvasCPU=n=>{const{spacing:r,direction:a,origin:i}=this.getImageData(),o=a.slice(0,3),s=a.slice(3,6),l=Ga(Xt(),n,i),c=[Ln(l,o)/r[0],Ln(l,s)/r[1]];return DM(this._cpuFallbackEnabledElement,c)},this.canvasToWorldGPU=n=>{const r=this.getRenderer(),a=this.getVtkActiveCamera(),i=a.getClippingRange(),o=a.getDistance();a.setClippingRange(o,o+.1);const l=this.getRenderingEngine().offscreenMultiRenderWindow.getOpenGLRenderWindow(),c=l.getSize(),f=window.devicePixelRatio||1,u=[n[0]*f,n[1]*f],d=[u[0]+this.sx,u[1]+this.sy];d[1]=c[1]-d[1];const g=l.displayToWorld(d[0],d[1],0,r);return a.setClippingRange(i[0],i[1]),[g[0],g[1],g[2]]},this.worldToCanvasGPU=n=>{const r=this.getRenderer(),a=this.getVtkActiveCamera(),i=a.getClippingRange(),o=a.getDistance();a.setClippingRange(o,o+.1);const l=this.getRenderingEngine().offscreenMultiRenderWindow.getOpenGLRenderWindow(),c=l.getSize(),f=l.worldToDisplay(...n,r);f[1]=c[1]-f[1];const u=[f[0]-this.sx,f[1]-this.sy];a.setClippingRange(i[0],i[1]);const d=window.devicePixelRatio||1;return[u[0]/d,u[1]/d]},this.getCurrentImageIdIndex=()=>this.currentImageIdIndex,this.getSliceIndex=()=>this.currentImageIdIndex,this.getTargetImageIdIndex=()=>this.targetImageIdIndex,this.getImageIds=()=>this.imageIds,this.getCurrentImageId=(n=this.getCurrentImageIdIndex())=>this.imageIds[n],this.hasImageId=n=>this.imageKeyToIndexMap.has(n),this.hasImageURI=n=>this.imageKeyToIndexMap.has(n),this.customRenderViewportToCanvas=()=>{if(!this.useCPURendering)throw new Error("Custom cpu rendering pipeline should only be hit in CPU rendering mode");return this._cpuFallbackEnabledElement.image?(Hj(this._cpuFallbackEnabledElement,this.cpuRenderingInvalidated),this.cpuRenderingInvalidated=!1):this.fillWithBackgroundColor(),{canvas:this.canvas,element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId,viewportStatus:this.viewportStatus}},this.renderingPipelineFunctions={getImageData:{cpu:this.getImageDataCPU,gpu:this.getImageDataGPU},setColormap:{cpu:this.setColormapCPU,gpu:this.setColormapGPU},getCamera:{cpu:this.getCameraCPU,gpu:super.getCamera},setCamera:{cpu:this.setCameraCPU,gpu:super.setCamera},getPan:{cpu:this.getPanCPU,gpu:super.getPan},setPan:{cpu:this.setPanCPU,gpu:super.setPan},getZoom:{cpu:this.getZoomCPU,gpu:super.getZoom},setZoom:{cpu:this.setZoomCPU,gpu:super.setZoom},setVOI:{cpu:this.setVOICPU,gpu:this.setVOIGPU},getRotation:{cpu:this.getRotationCPU,gpu:this.getRotationGPU},setInterpolationType:{cpu:this.setInterpolationTypeCPU,gpu:this.setInterpolationTypeGPU},setInvertColor:{cpu:this.setInvertColorCPU,gpu:this.setInvertColorGPU},resetCamera:{cpu:(n={})=>{const{resetPan:r=!0,resetZoom:a=!0}=n;return this.resetCameraCPU({resetPan:r,resetZoom:a}),!0},gpu:(n={})=>{const{resetPan:r=!0,resetZoom:a=!0}=n;return this.resetCameraGPU({resetPan:r,resetZoom:a}),!0}},canvasToWorld:{cpu:this.canvasToWorldCPU,gpu:this.canvasToWorldGPU},worldToCanvas:{cpu:this.worldToCanvasCPU,gpu:this.worldToCanvasGPU},getRenderer:{cpu:()=>this.getCPUFallbackError("getRenderer"),gpu:super.getRenderer},getDefaultActor:{cpu:()=>this.getCPUFallbackError("getDefaultActor"),gpu:super.getDefaultActor},getActors:{cpu:()=>this.getCPUFallbackError("getActors"),gpu:super.getActors},getActor:{cpu:()=>this.getCPUFallbackError("getActor"),gpu:super.getActor},setActors:{cpu:()=>this.getCPUFallbackError("setActors"),gpu:super.setActors},addActors:{cpu:()=>this.getCPUFallbackError("addActors"),gpu:super.addActors},addActor:{cpu:()=>this.getCPUFallbackError("addActor"),gpu:super.addActor},removeAllActors:{cpu:()=>this.getCPUFallbackError("removeAllActors"),gpu:super.removeAllActors},unsetColormap:{cpu:this.unsetColormapCPU,gpu:this.unsetColormapGPU}},this.scaling={},this.modality=null,this.useCPURendering=Um(),this._configureRenderingPipeline(),this.useCPURendering?this._resetCPUFallbackElement():this._resetGPUViewport(),this.currentImageIdIndex=0,this.targetImageIdIndex=0,this.resetCamera(),this.initializeElementDisabledHandler()}setUseCPURendering(e){this.useCPURendering=e,this._configureRenderingPipeline(e)}static get useCustomRenderingPipeline(){return Um()}_configureRenderingPipeline(e){this.useCPURendering=e??Um();for(const n in this.renderingPipelineFunctions)if(Object.prototype.hasOwnProperty.call(this.renderingPipelineFunctions,n)){const r=this.renderingPipelineFunctions[n];this[n]=this.useCPURendering?r.cpu:r.gpu}this.useCPURendering?this._resetCPUFallbackElement():this._resetGPUViewport()}_resetCPUFallbackElement(){this._cpuFallbackEnabledElement={canvas:this.canvas,renderingTools:{},transform:new gg,viewport:{rotation:0}}}_resetGPUViewport(){const e=this.getRenderer(),n=Hw.newInstance();e.setActiveCamera(n);const r=[0,0,-1];this.initialViewUp=[0,-1,0],n.setDirectionOfProjection(-r[0],-r[1],-r[2]),n.setViewUp(...this.initialViewUp),n.setParallelProjection(!0),n.setThicknessFromFocalPoint(.1),n.setFreezeFocalPoint(!0)}initializeElementDisabledHandler(){Vt.addEventListener(It.ELEMENT_DISABLED,function e(){clearTimeout(this.debouncedTimeout),Vt.removeEventListener(It.ELEMENT_DISABLED,e)})}getImageDataGPU(){const e=this.getDefaultActor();if(!e||!Js(e))return;const{actor:n}=e,r=n.getMapper().getInputData(),a=this.csImage;return{dimensions:r.getDimensions(),spacing:r.getSpacing(),origin:r.getOrigin(),direction:r.getDirection(),get scalarData(){return a==null?void 0:a.voxelManager.getScalarData()},imageData:n.getMapper().getInputData(),metadata:{Modality:this.modality,FrameOfReferenceUID:this.getFrameOfReferenceUID()},scaling:this.scaling,hasPixelSpacing:this.hasPixelSpacing,calibration:{...a==null?void 0:a.calibration,...this.calibration},preScale:{...a==null?void 0:a.preScale},voxelManager:a==null?void 0:a.voxelManager}}getImageDataCPU(){const{metadata:e}=this._cpuFallbackEnabledElement;if(!e)return;const n=e.spacing,r=this.csImage;return{dimensions:e.dimensions,spacing:n,origin:e.origin,direction:e.direction,metadata:{Modality:this.modality,FrameOfReferenceUID:this.getFrameOfReferenceUID()},scaling:this.scaling,imageData:{getDirection:()=>e.direction,getDimensions:()=>e.dimensions,getScalarData:()=>this.cpuImagePixelData,getSpacing:()=>n,worldToIndex:a=>{const i=this.worldToCanvasCPU(a),o=Gh(this._cpuFallbackEnabledElement,i);return[o[0],o[1],0]},indexToWorld:(a,i)=>{const o=DM(this._cpuFallbackEnabledElement,[a[0],a[1]]);return this.canvasToWorldCPU(o,i)}},scalarData:this.cpuImagePixelData,hasPixelSpacing:this.hasPixelSpacing,calibration:{...r==null?void 0:r.calibration,...this.calibration},preScale:{...r==null?void 0:r.preScale},voxelManager:r==null?void 0:r.voxelManager}}buildMetadata(e){const n=e.imageId,{pixelRepresentation:r,bitsAllocated:a,bitsStored:i,highBit:o,photometricInterpretation:s,samplesPerPixel:l}=tn("imagePixelModule",n),{windowWidth:c,windowCenter:f,voiLUTFunction:u}=e,{modality:d}=tn("generalSeriesModule",n),g=tn("scalingModule",n),v=tn(io.CALIBRATION,n);d==="PT"&&g&&this._addScalingToViewport(g),this.modality=d;const m=this._getValidVOILUTFunction(u);this.VOILUTFunction=m,this.calibration=v;let p=this._getImagePlaneModule(n);return this.useCPURendering||(p=this.calibrateIfNecessary(n,p)),{imagePlaneModule:p,imagePixelModule:{bitsAllocated:a,bitsStored:i,samplesPerPixel:l,highBit:o,photometricInterpretation:s,pixelRepresentation:r,windowWidth:c,windowCenter:f,modality:d,voiLUTFunction:m}}}calibrateIfNecessary(e,n){const r=tn("calibratedPixelSpacing",e),a=this.calibration!==r,{scale:i}=r||{};return this.hasPixelSpacing=i>0||n.rowPixelSpacing>0,n.calibration=r,a&&(this.calibration=r,this._publishCalibratedEvent=!0,this._calibrationEvent={scale:i,calibration:r}),n}setDefaultProperties(e,n){n==null?this.globalDefaultProperties=e:(this.perImageIdDefaultProperties.set(n,e),this.getCurrentImageId()===n&&this.setProperties(e))}clearDefaultProperties(e){e==null?(this.globalDefaultProperties={},this.resetProperties()):(this.perImageIdDefaultProperties.delete(e),this.resetToDefaultProperties())}setProperties({colormap:e,voiRange:n,VOILUTFunction:r,invert:a,interpolationType:i}={},o=!1){this.viewportStatus=this.csImage?Bi.PRE_RENDER:Bi.LOADING,this.globalDefaultProperties={colormap:this.globalDefaultProperties.colormap??e,voiRange:this.globalDefaultProperties.voiRange??n,VOILUTFunction:this.globalDefaultProperties.VOILUTFunction??r,invert:this.globalDefaultProperties.invert??a,interpolationType:this.globalDefaultProperties.interpolationType??i},typeof e<"u"&&this.setColormap(e),typeof n<"u"&&this.setVOI(n,{suppressEvents:o,voiUpdatedWithSetProperties:!0}),typeof r<"u"&&this.setVOILUTFunction(r,o),typeof a<"u"&&this.setInvertColor(a),typeof i<"u"&&this.setInterpolationType(i)}resetProperties(){this.cpuRenderingInvalidated=!0,this.voiUpdatedWithSetProperties=!1,this.viewportStatus=Bi.PRE_RENDER,this.fillWithBackgroundColor(),this.useCPURendering&&(this._cpuFallbackEnabledElement.renderingTools={}),this._resetProperties(),this.render()}_resetProperties(){let e;if(this._isCurrentImagePTPrescaled()?e=this._getDefaultPTPrescaledVOIRange():e=this._getVOIRangeForCurrentImage(),this.setVOI(e),this.setInvertColor(this.initialInvert),this.setInterpolationType(G0.LINEAR),!this.useCPURendering){const n=this.getTransferFunction();cy(n,this.initialTransferFunctionNodes);const a=C3(n).reduce((s,l)=>(s.push(l[0],l[1],l[2],l[3]),s),[]),i=this.getDefaultActor(),o=Zw(a,i.actor);this.setColormap(o)}}resetToDefaultProperties(){var a;this.cpuRenderingInvalidated=!0,this.viewportStatus=Bi.PRE_RENDER,this.fillWithBackgroundColor(),this.useCPURendering&&(this._cpuFallbackEnabledElement.renderingTools={});const e=this.getCurrentImageId(),n=this.perImageIdDefaultProperties.get(e)||this.globalDefaultProperties;(a=n.colormap)!=null&&a.name&&this.setColormap(n.colormap);let r;n.voiRange==null?r=this._getVOIRangeForCurrentImage():r=n.voiRange,this.setVOI(r),this.setInterpolationType(G0.LINEAR),this.setInvertColor(!1),this.render()}_getVOIFromCache(){let e;return this.voiUpdatedWithSetProperties?e=this.voiRange:this._isCurrentImagePTPrescaled()?e=this._getDefaultPTPrescaledVOIRange():e=this._getVOIRangeForCurrentImage()??this.voiRange,e}_setPropertiesFromCache(){const e=this._getVOIFromCache(),{interpolationType:n,invert:r}=this;this.setVOI(e),this.setInterpolationType(n),this.setInvertColor(r)}getCameraCPU(){const{metadata:e,viewport:n}=this._cpuFallbackEnabledElement;if(!e)return{};const{direction:r}=e,a=r.slice(6,9).map(u=>-u);let i=r.slice(3,6).map(u=>-u);if(n.rotation){const u=Sw(kc(),n.rotation*Math.PI/180,a);i=hr(Xt(),i,u)}const o=[this.element.clientWidth/2,this.element.clientHeight/2],s=this.canvasToWorld(o),l=this.canvasToWorld([0,0]),c=this.canvasToWorld([0,this.element.clientHeight]),f=Bv(l,c)/2;return{parallelProjection:!0,focalPoint:s,position:[0,0,0],parallelScale:f,scale:n.scale,viewPlaneNormal:[a[0],a[1],a[2]],viewUp:[i[0],i[1],i[2]],flipHorizontal:this.flipHorizontal,flipVertical:this.flipVertical}}setCameraCPU(e){const{viewport:n,image:r}=this._cpuFallbackEnabledElement,a=this.getCameraCPU(),{focalPoint:i,parallelScale:o,scale:s,flipHorizontal:l,flipVertical:c}=e,{clientHeight:f}=this.element;if(i){const d=this.worldToCanvasCPU(i),g=Gh(this._cpuFallbackEnabledElement,d),v=this.worldToCanvasCPU(a.focalPoint),m=Gh(this._cpuFallbackEnabledElement,v),p=Q0();A1(p,yA(g[0],g[1]),yA(m[0],m[1]));const h=WEe({x:p[0],y:p[1]},n);n.translation.x-=h.x,n.translation.y-=h.y}if(o){const{rowPixelSpacing:d}=r,g=f*d*.5/o;n.scale=g,n.parallelScale=o}if(s){const{rowPixelSpacing:d}=r;n.scale=s,n.parallelScale=f*d*.5/s}(l!==void 0||c!==void 0)&&this.setFlipCPU({flipHorizontal:l,flipVertical:c}),this._cpuFallbackEnabledElement.transform=Hv(this._cpuFallbackEnabledElement);const u={previousCamera:a,camera:this.getCamera(),element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId};_t(this.element,It.CAMERA_MODIFIED,u)}getPanCPU(){const{viewport:e}=this._cpuFallbackEnabledElement;return[e.translation.x,e.translation.y]}setPanCPU(e){const n=this.getCameraCPU();this.setCameraCPU({...n,focalPoint:[...e.map(r=>-r),0]})}getZoomCPU(){const{viewport:e}=this._cpuFallbackEnabledElement;return e.scale}setZoomCPU(e){const n=this.getCameraCPU();this.setCameraCPU({...n,scale:e})}setFlipCPU({flipHorizontal:e,flipVertical:n}){const{viewport:r}=this._cpuFallbackEnabledElement;e!==void 0&&(r.hflip=e,this.flipHorizontal=r.hflip),n!==void 0&&(r.vflip=n,this.flipVertical=r.vflip)}setVOILUTFunction(e,n){if(this.useCPURendering)throw new Error("VOI LUT function is not supported in CPU rendering");const r=this._getValidVOILUTFunction(e);let a=!1;this.VOILUTFunction!==r&&(a=!0),this.VOILUTFunction=r;const{voiRange:i}=this.getProperties();this.setVOI(i,{suppressEvents:n,forceRecreateLUTFunction:a})}setRotationCPU(e){const{viewport:n}=this._cpuFallbackEnabledElement;n.rotation=e}setRotationGPU(e){const n=this.getPan(this.fitToCanvasCamera),r=this.getPan(),a=s3([0,0],n,r);this.setPan(a,!1);const{flipVertical:i}=this.getCamera(),o=i?K0(Xt(),this.initialViewUp):this.initialViewUp;this.setCameraNoEvent({viewUp:o}),this.getVtkActiveCamera().roll(-e);const s=this.getPan(),l=this.getPan(this.fitToCanvasCamera),c=s3([0,0],s,l),f=xw([0,0],n,c);this.setPan(f,!1)}setInterpolationTypeGPU(e){const n=this.getDefaultActor();if(!n||!Js(n))return;const{actor:r}=n;r.getProperty().setInterpolationType(e),this.interpolationType=e}setInterpolationTypeCPU(e){const{viewport:n}=this._cpuFallbackEnabledElement;n.pixelReplication=e!==G0.LINEAR,this.interpolationType=e}setInvertColorCPU(e){const{viewport:n}=this._cpuFallbackEnabledElement;n&&(n.invert=e,this.invert=e)}setInvertColorGPU(e){const n=this.getDefaultActor();if(n&&Js(n)){if(fo(n,"vtkVolume")){const a=n.actor.getProperty().getRGBTransferFunction(0);(!this.invert&&e||this.invert&&!e)&&Bm(a),this.invert=e}else if(fo(n,"vtkImageSlice")){const a=n.actor.getProperty().getRGBTransferFunction(0);(!this.invert&&e||this.invert&&!e)&&Bm(a),this.invert=e}}}setVOICPU(e,n={}){const{suppressEvents:r=!1}=n,{viewport:a,image:i}=this._cpuFallbackEnabledElement;if(!a||!i)return;if(typeof e>"u"){const{windowWidth:s,windowCenter:l}=i,c=Array.isArray(s)?s[0]:s,f=Array.isArray(l)?l[0]:l;a.voi={windowWidth:c,windowCenter:f,voiLUTFunction:i.voiLUTFunction};const{lower:u,upper:d}=Kd(c,f,i.voiLUTFunction);e={lower:u,upper:d}}else{const{lower:s,upper:l}=e,{windowCenter:c,windowWidth:f}=ly(s,l);a.voi||(a.voi={windowWidth:0,windowCenter:0,voiLUTFunction:i.voiLUTFunction}),a.voi.windowWidth=f,a.voi.windowCenter=c}this.voiRange=e;const o={viewportId:this.id,range:e};r||_t(this.element,It.VOI_MODIFIED,o)}getTransferFunction(){const e=this.getDefaultActor();return!e||!Js(e)?void 0:e.actor.getProperty().getRGBTransferFunction(0)}setVOIGPU(e,n={}){const{suppressEvents:r=!1,forceRecreateLUTFunction:a=!1,voiUpdatedWithSetProperties:i=!1}=n;if(e&&this.voiRange&&this.voiRange.lower===e.lower&&this.voiRange.upper===e.upper&&!a&&!this.stackInvalidated)return;const o=this.getDefaultActor();if(!o||!Js(o))return;const s=o.actor;let l=e;if(typeof l>"u"){const g=s.getMapper().getInputData().getPointData().getScalars().getRange();l={lower:g[0],upper:g[1]}}s.getProperty().setUseLookupTableScalarRange(!0);let c=s.getProperty().getRGBTransferFunction(0);const f=this.VOILUTFunction===zi.SAMPLED_SIGMOID;if((f||!c||a)&&(c=(f?Jw:zj)(l),this.invert&&Bm(c),s.getProperty().setRGBTransferFunction(0,c),this.initialTransferFunctionNodes=C3(c)),f||c.setRange(l.lower,l.upper),this.voiRange=l,this.voiUpdatedWithSetProperties||(this.voiUpdatedWithSetProperties=i),r)return;const u={viewportId:this.id,range:l,VOILUTFunction:this.VOILUTFunction};_t(this.element,It.VOI_MODIFIED,u)}_addScalingToViewport(e){if(this.scaling.PT)return;const{suvbw:n,suvlbm:r,suvbsa:a}=e,i={};r&&(i.suvbwToSuvlbm=r/n),a&&(i.suvbwToSuvbsa=a/n),this.scaling.PT=i}_getNumCompsFromPhotometricInterpretation(e){let n=1;return(e==="RGB"||e.includes("YBR")||e==="PALETTE COLOR")&&(n=3),n}getImageDataMetadata(e){const{imagePlaneModule:n,imagePixelModule:r}=this.buildMetadata(e);let{rowCosines:a,columnCosines:i}=n;(a==null||i==null)&&(a=[1,0,0],i=[0,1,0]);const o=Yr(a[0],a[1],a[2]),s=Yr(i[0],i[1],i[2]),l=Xt();ia(l,o,s);let c=n.imagePositionPatient;c==null&&(c=[0,0,0]);const f=n.columnPixelSpacing||e.columnPixelSpacing,u=n.rowPixelSpacing||e.rowPixelSpacing,d=e.columns,g=e.rows,v=HEe,m=1,p=e.numberOfComponents||this._getNumCompsFromPhotometricInterpretation(r.photometricInterpretation);return{bitsAllocated:r.bitsAllocated,numberOfComponents:p,origin:c,direction:[...o,...s,...l],dimensions:[d,g,m],spacing:[f,u,v],numVoxels:d*g*m,imagePlaneModule:n,imagePixelModule:r}}matchImagesForOverlay(e,n){return(a=>{const i=tn(io.IMAGE_PLANE,n),o=tn(io.IMAGE_PLANE,a),s=i.imageOrientationPatient,l=o.imageOrientationPatient;if(s&&l){if(Da(i.imageOrientationPatient,o.imageOrientationPatient)){const f=i.imagePositionPatient,u=o.imagePositionPatient;if(f&&u&&Da(f,u)){const g=i.rows,v=i.columns,m=o.rows,p=o.columns;if(g===m&&v===p)return a}}}else{const c=i.rows,f=i.columns,u=o.rows,d=o.columns;if(c===u&&f===d)return a}})(e)}getImagePlaneReferenceData(e=this.getCurrentImageIdIndex()){const n=this.imageIds[e];if(!n)return;const r=tn(io.IMAGE_PLANE,n);if(!r)return;const{imagePositionPatient:a,frameOfReferenceUID:i}=r;let{rowCosines:o,columnCosines:s}=r;o||(o=[1,0,0]),s||(s=[0,1,0]);const l=ia([0,0,0],s,o);return{FrameOfReferenceUID:i,viewPlaneNormal:l,cameraFocalPoint:a,referencedImageId:n,sliceIndex:e}}_getCameraOrientation(e){const n=e.slice(6,9).map(a=>-a),r=e.slice(3,6).map(a=>-a);return{viewPlaneNormal:[n[0],n[1],n[2]],viewUp:[r[0],r[1],r[2]]}}createVTKImageData({origin:e,direction:n,dimensions:r,spacing:a,numberOfComponents:i,pixelArray:o}){const s=new o.constructor(o.length),l=Bn.newInstance({name:"Pixels",numberOfComponents:i,values:s}),c=ny.newInstance();return c.setDimensions(r),c.setSpacing(a),c.setDirection(n),c.setOrigin(e),c.getPointData().setScalars(l),c}_createVTKImageData({origin:e,direction:n,dimensions:r,spacing:a,numberOfComponents:i,pixelArray:o}){try{this._imageData=this.createVTKImageData({origin:e,direction:n,dimensions:r,spacing:a,numberOfComponents:i,pixelArray:o})}catch(s){console.error(s)}}async setStack(e,n=0){this._throwIfDestroyed(),this.imageIds=e,this.imageKeyToIndexMap.clear(),e.forEach((o,s)=>{this.imageKeyToIndexMap.set(o,s),this.imageKeyToIndexMap.set(Ai(o),s)}),this.currentImageIdIndex=n,this.targetImageIdIndex=n;const r=tn(jv.IMAGE_RETRIEVE_CONFIGURATION,e[n],"stack");this.imagesLoader=r?(r.create||Rj)(r):this,this.stackInvalidated=!0,this.flipVertical=!1,this.flipHorizontal=!1,this.voiRange=null,this.interpolationType=G0.LINEAR,this.invert=!1,this.viewportStatus=Bi.LOADING,this.fillWithBackgroundColor(),this.useCPURendering&&(this._cpuFallbackEnabledElement.renderingTools={},delete this._cpuFallbackEnabledElement.viewport.colormap);const a=await this._setImageIdIndex(n),i={imageIds:e,viewportId:this.id,element:this.element,currentImageIdIndex:n};return _t(this.element,It.VIEWPORT_NEW_IMAGE_SET,i),a}_throwIfDestroyed(){if(this.isDisabled)throw new Error("The stack viewport has been destroyed and is no longer usable. Renderings will not be performed. If you are using the same viewportId and have re-enabled the viewport, you need to grab the new viewport instance using renderingEngine.getViewport(viewportId), instead of using your lexical scoped reference to the viewport instance.")}_checkVTKImageDataMatchesCornerstoneImage(e,n){if(!n)return!1;const[r,a]=n.getSpacing(),[i,o]=n.getDimensions(),s=this._getImagePlaneModule(e.imageId),l=n.getDirection(),c=l.slice(0,3),f=l.slice(3,6),u=n.getPointData().getScalars().getDataType(),d=Da(r,e.columnPixelSpacing),g=Da(a,e.rowPixelSpacing),v=d||e.columnPixelSpacing===null&&r===1,m=g||e.rowPixelSpacing===null&&a===1,p=i===e.columns,h=o===e.rows,y=Da(s.rowCosines,c),C=Da(s.columnCosines,f),x=u===e.voxelManager.getScalarData().constructor.name;return v&&m&&p&&h&&y&&C&&x}_updateVTKImageDataFromCornerstoneImage(e){let r=this._getImagePlaneModule(e.imageId).imagePositionPatient;r==null&&(r=[0,0,0]),this._imageData.setOrigin(r),gy(this._imageData,e)}_loadAndDisplayImage(e,n){return this.useCPURendering?this._loadAndDisplayImageCPU(e,n):this._loadAndDisplayImageGPU(e,n)}_loadAndDisplayImageCPU(e,n){return new Promise((r,a)=>{function i(g,v,m){if(this.currentImageIdIndex!==v)return;const p=g.voxelManager.getScalarData(),h=g.preScale,y=h==null?void 0:h.scalingParameters,C=(h==null?void 0:h.scaled)&&(y==null?void 0:y.rescaleIntercept)%1!==0||(y==null?void 0:y.rescaleSlope)%1!==0;if(p instanceof Float32Array&&C){const T={min:g.maxPixelValue,max:g.minPixelValue},E=Math.abs(T.max-T.min)/65535,O=T.min,D=p.length,R=new Uint16Array(D);let I=65535,M=0;for(let A=0;A<D;A++){const B=Math.floor((p[A]-O)/E);R[A]=B,I=Math.min(I,B),M=Math.max(M,B)}g.minPixelValue=I,g.maxPixelValue=M,g.slope=E,g.intercept=O,g.getPixelData=()=>R,g.preScale={...g.preScale,scaled:!1}}this._setCSImage(g),this.viewportStatus=Bi.PRE_RENDER;const x={image:g,imageId:m,imageIdIndex:v,viewportId:this.id,renderingEngineId:this.renderingEngineId};_t(this.element,It.STACK_NEW_IMAGE,x),this._updateToDisplayImageCPU(g),this.render(),this.currentImageIdIndex=v,r(m)}function o(g,v,m){const p={error:g,imageIdIndex:v,imageId:m};this.suppressEvents||_t(Vt,It.IMAGE_LOAD_ERROR,p),a(g)}function s(g,v,m){return _1(g,m).then(p=>{i.call(this,p,v,g)},p=>{o.call(this,p,v,g)})}const l=-5,c=Vn.Interaction,f={imageId:e,imageIdIndex:n},u={useRGBA:!0,requestType:c},d={imageId:e,imageIdIndex:n,viewportId:this.id,renderingEngineId:this.renderingEngineId};_t(this.element,It.PRE_STACK_NEW_IMAGE,d),d0.addRequest(s.bind(this,e,n,u),c,f,l)})}successCallback(e,n){var c,f;const r=this.imageIds.indexOf(e);if(this.currentImageIdIndex!==r)return;const a=(c=this.csImage)==null?void 0:c.imageFrame,i=n==null?void 0:n.imageFrame,o=(a==null?void 0:a.photometricInterpretation)||((f=this.csImage)==null?void 0:f.photometricInterpretation),s=(i==null?void 0:i.photometricInterpretation)||(n==null?void 0:n.photometricInterpretation);o!==s&&(this.stackInvalidated=!0),this._setCSImage(n);const l={image:n,imageId:e,imageIdIndex:r,viewportId:this.id,renderingEngineId:this.renderingEngineId};this._updateActorToDisplayImageId(n),_t(this.element,It.STACK_NEW_IMAGE,l),this.render(),this.currentImageIdIndex=r}errorCallback(e,n,r){if(!n)return;const a=this.imageIds.indexOf(e),i={error:r,imageIdIndex:a,imageId:e};_t(Vt,It.IMAGE_LOAD_ERROR,i)}getLoaderImageOptions(e){const n=this.imageIds.indexOf(e),{transferSyntaxUID:r}=tn("transferSyntax",e)||{};return{useRGBA:!1,transferSyntaxUID:r,priority:5,requestType:Vn.Interaction,additionalDetails:{imageId:e,imageIdIndex:n}}}async loadImages(e,n){const r=await Promise.allSettled(e.map(i=>{const o=this.getLoaderImageOptions(i);return _1(i,o).then(s=>(n.successCallback(i,s),i),s=>(n.errorCallback(i,!0,s),i))})),a=r.filter(i=>i.status==="rejected");if(a&&a.length){const i=new CustomEvent(It.IMAGE_LOAD_ERROR,{detail:a,cancelable:!0});Vt.dispatchEvent(i)}return r}_loadAndDisplayImageGPU(e,n){const r={imageId:e,imageIdIndex:n,viewportId:this.id,renderingEngineId:this.renderingEngineId};return _t(this.element,It.PRE_STACK_NEW_IMAGE,r),this.imagesLoader.loadImages([e],this).then(a=>e)}_updateToDisplayImageCPU(e){const n=this.getImageDataMetadata(e),r=Qj(this.canvas,e,this.modality,this._cpuFallbackEnabledElement.viewport.colormap),{windowCenter:a,windowWidth:i,voiLUTFunction:o}=r.voi;this.voiRange=Kd(i,a,o),this._cpuFallbackEnabledElement.image=e,this._cpuFallbackEnabledElement.metadata={...n},this.cpuImagePixelData=e.voxelManager.getScalarData();const s=Object.assign({},r,this._cpuFallbackEnabledElement.viewport);this._cpuFallbackEnabledElement.viewport=this.stackInvalidated?r:s,this.stackInvalidated=!1,this.cpuRenderingInvalidated=!0,this._cpuFallbackEnabledElement.transform=Hv(this._cpuFallbackEnabledElement)}getSliceViewInfo(){throw new Error("Method not implemented.")}addImages(e){const n=[];e.forEach(r=>{const{imageId:a,...i}=r,o=Yt.getImage(a),{origin:s,dimensions:l,direction:c,spacing:f,numberOfComponents:u}=this.getImageDataMetadata(o),d=this.createVTKImageData({origin:s,dimensions:l,direction:c,spacing:f,numberOfComponents:u,pixelArray:o.voxelManager.getScalarData()}),g=this.createActorMapper(d);g&&(n.push({uid:r.actorUID??Li(),actor:g,referencedId:a,...i}),r.callback&&r.callback({imageActor:g,imageId:r.imageId}))}),this.addActors(n)}_updateActorToDisplayImageId(e){const n=this._checkVTKImageDataMatchesCornerstoneImage(e,this._imageData),r=this.getViewPresentation();if(n&&!this.stackInvalidated){this._updateVTKImageDataFromCornerstoneImage(e),this.resetCameraNoEvent(),this.setViewPresentation(r),this._setPropertiesFromCache(),this.stackActorReInitialized=!1;return}const{origin:a,direction:i,dimensions:o,spacing:s,numberOfComponents:l,imagePixelModule:c}=this.getImageDataMetadata(e),f=e.voxelManager.getScalarData();this._createVTKImageData({origin:a,direction:i,dimensions:o,spacing:s,numberOfComponents:l,pixelArray:f}),this._updateVTKImageDataFromCornerstoneImage(e);const u=this.createActorMapper(this._imageData),d=this.getActors();d.length&&d[0].uid===this.id?d[0].actor=u:d.unshift({uid:this.id,actor:u}),this.setActors(d);const{viewPlaneNormal:g,viewUp:v}=this._getCameraOrientation(i),m=this.getCamera();this.setCameraNoEvent({viewUp:v,viewPlaneNormal:g}),this.initialViewUp=v,this.resetCameraNoEvent(),this.setViewPresentation(r),this.triggerCameraEvent(this.getCamera(),m);const p=c.photometricInterpretation==="MONOCHROME1";this.stackInvalidated=!0;const h=this._getInitialVOIRange(e);this.setVOI(h,{forceRecreateLUTFunction:!!p}),this.initialInvert=!!p,this.setInvertColor(this.invert||this.initialInvert),this.stackInvalidated=!1,this.stackActorReInitialized=!0,this._publishCalibratedEvent&&this.triggerCalibrationEvent()}_getInitialVOIRange(e){if(this.voiRange&&this.voiUpdatedWithSetProperties)return this.voiRange;const{windowCenter:n,windowWidth:r,voiLUTFunction:a}=e;let i=this._getVOIRangeFromWindowLevel(r,n,a);return i=this._getPTPreScaledRange()||i,i}_getPTPreScaledRange(){if(this._isCurrentImagePTPrescaled())return this._getDefaultPTPrescaledVOIRange()}_isCurrentImagePTPrescaled(){var e;return!(this.modality!=="PT"||!this.csImage.isPreScaled||!((e=this.csImage.preScale)!=null&&e.scalingParameters.suvbw))}_getDefaultPTPrescaledVOIRange(){return{lower:0,upper:5}}_getVOIRangeFromWindowLevel(e,n,r=zi.LINEAR){let a,i;if(typeof n=="number"&&typeof e=="number"?(a=n,i=e):Array.isArray(n)&&Array.isArray(e)&&(a=n[0],i=e[0]),a!==void 0&&i!==void 0)return Kd(i,a,r)}async _setImageIdIndex(e){if(e>=this.imageIds.length)throw new Error(`ImageIdIndex provided ${e} is invalid, the stack only has ${this.imageIds.length} elements`);this.currentImageIdIndex=e,this.hasPixelSpacing=!0,this.viewportStatus=Bi.PRE_RENDER;const n=await this._loadAndDisplayImage(this.imageIds[e],e);if(this.perImageIdDefaultProperties.size>=1){const r=this.perImageIdDefaultProperties.get(n);r!==void 0?this.setProperties(r):this.globalDefaultProperties!==void 0&&this.setProperties(this.globalDefaultProperties)}return n}resetCameraCPU({resetPan:e=!0,resetZoom:n=!0}){const{image:r}=this._cpuFallbackEnabledElement;if(!r)return;jEe(this._cpuFallbackEnabledElement,e,n);const{scale:a}=this._cpuFallbackEnabledElement.viewport,{clientWidth:i,clientHeight:o}=this.element,s=[i/2,o/2],l=this.canvasToWorldCPU(s);this.setCameraCPU({focalPoint:l,scale:a})}resetCameraGPU({resetPan:e,resetZoom:n}){return this.setCamera({flipHorizontal:!1,flipVertical:!1,viewUp:this.initialViewUp}),super.resetCamera({resetPan:e,resetZoom:n,resetToCenter:!0})}scroll(e,n=!0,r=!1){const a=this.imageIds,i=this.targetImageIdIndex,o=a.length;let s=i+e;s=Math.max(0,s),r?s=s%o:s=Math.min(o-1,s),this.targetImageIdIndex=s;const l=a[s];Yt.isLoaded(l)||!n?this.setImageIdIndex(s):(clearTimeout(this.debouncedTimeout),this.debouncedTimeout=window.setTimeout(()=>{this.setImageIdIndex(s)},40));const f={newImageIdIndex:s,imageId:l,direction:e};s!==i&&_t(this.element,It.STACK_VIEWPORT_SCROLL,f)}setImageIdIndex(e){return this._throwIfDestroyed(),this.currentImageIdIndex===e?Promise.resolve(this.getCurrentImageId()):this._setImageIdIndex(e)}calibrateSpacing(e){const n=this.getImageIds().indexOf(e);this.stackInvalidated=!0,this._loadAndDisplayImage(e,n)}triggerCameraEvent(e,n){const r={previousCamera:n,camera:e,element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId};this.suppressEvents||_t(this.element,It.CAMERA_MODIFIED,r)}triggerCalibrationEvent(){const{imageData:e}=this.getImageData(),n={element:this.element,viewportId:this.id,renderingEngineId:this.renderingEngineId,imageId:this.getCurrentImageId(),imageData:e,worldToIndex:e.getWorldToIndex(),...this._calibrationEvent};this.suppressEvents||_t(this.element,It.IMAGE_SPACING_CALIBRATED,n),this._publishCalibratedEvent=!1}jumpToWorld(e){const n=this.getImageIds(),r=this.getImageData(),{direction:a,spacing:i}=r,o=zv({direction:a,spacing:i,imageIds:n},e,this.getCamera().viewPlaneNormal),s=n.indexOf(o);return s===-1?!1:(this.setImageIdIndex(s),this.render(),!0)}_getVOIRangeForCurrentImage(){const{windowCenter:e,windowWidth:n,voiLUTFunction:r}=this.csImage;return this._getVOIRangeFromWindowLevel(n,e,r)}_getValidVOILUTFunction(e){return Object.values(zi).includes(e)?e:zi.LINEAR}getSliceInfo(){const e=this.getSliceIndex(),{dimensions:n}=this.getImageData();return{width:n[0],height:n[1],sliceIndex:e,slicePlane:2}}isReferenceViewable(e,n={}){const r=this.getCurrentImageIdIndex(),a=this.imageIds[r];if(!a||!e)return!1;const{referencedImageId:i,multiSliceReference:o}=e;if(i){if(i===a)return!0;e.referencedImageURI||(e.referencedImageURI=Ai(i));const{referencedImageURI:l}=e,c=this.imageKeyToIndexMap.get(l);if(n.asOverlay&&this.matchImagesForOverlay(a,i))return!0;if(c===void 0)return!1;if(n.withNavigation)return!0;const f=o&&this.imageKeyToIndexMap.get(o.referencedImageId);return r<=f&&r>=c}if(!super.isReferenceViewable(e,n))return!1;if(e.volumeId)return n.asVolume;const{cameraFocalPoint:s}=e;if(n.asNearbyProjection&&s){const{spacing:l,direction:c,origin:f}=this.getImageData(),u=c.slice(6,9),d=Pp({direction:c,spacing:l},u),g=Ga(Xt(),s,f),v=Ln(g,u),m=d/2;if(Math.abs(v)<=m)return!0}return!1}getViewReference(e={}){const{sliceIndex:n=this.getCurrentImageIdIndex()}=e,r=super.getViewReference(e),a=this.getCurrentImageId(n);if(a){if(r.referencedImageId=a,this.getCurrentImageIdIndex()!==n){const i=this.getImagePlaneReferenceData(n);if(!i)return;Object.assign(r,i)}return r}}setViewReference(e){if(!(e!=null&&e.referencedImageId)){(e==null?void 0:e.sliceIndex)!==void 0&&this.scroll(e.sliceIndex-this.targetImageIdIndex);return}const{referencedImageId:n}=e;e.referencedImageURI||(e.referencedImageURI=Ai(n));const{referencedImageURI:r}=e,a=this.imageKeyToIndexMap.get(r);if(a===void 0){console.error(`No image URI found for ${r}`);return}this.scroll(a-this.targetImageIdIndex)}getViewReferenceId(e={}){const{sliceIndex:n=this.currentImageIdIndex}=e;return`imageId:${this.imageIds[n]}`}getSliceIndexForImage(e){if(e){if(typeof e=="string")return this.imageKeyToIndexMap.get(e);if(e.referencedImageId)return this.imageKeyToIndexMap.get(e.referencedImageId)}}getCPUFallbackError(e){return new Error(`method ${e} cannot be used during CPU Fallback mode`)}fillWithBackgroundColor(){const e=this.getRenderingEngine();e&&e.fillCanvasWithBackgroundColor(this.canvas,this.options.background)}unsetColormapCPU(){delete this._cpuFallbackEnabledElement.viewport.colormap,this._cpuFallbackEnabledElement.renderingTools={},this.cpuRenderingInvalidated=!0,this.fillWithBackgroundColor(),this.render()}setColormapCPU(e){this.colormap=e;const n=Wv(e.name);this._cpuFallbackEnabledElement.viewport.colormap=n,this._cpuFallbackEnabledElement.renderingTools={},this.fillWithBackgroundColor(),this.cpuRenderingInvalidated=!0,this.render();const r={viewportId:this.id,colormap:e};_t(this.element,It.COLORMAP_MODIFIED,r)}setColormapGPU(e){const a=this.getDefaultActor().actor.getProperty(),i=a.getRGBTransferFunction(),o=Wv(e.name)||y3.getPresetByName(e.name);if(i)i.applyColorMap(o),i.setMappingRange(this.voiRange.lower,this.voiRange.upper),a.setRGBTransferFunction(0,i);else{const l=Pc.newInstance();l.applyColorMap(o),l.setMappingRange(this.voiRange.lower,this.voiRange.upper),a.setRGBTransferFunction(0,l)}this.colormap=e,this.render();const s={viewportId:this.id,colormap:e};_t(this.element,It.COLORMAP_MODIFIED,s)}unsetColormapGPU(){throw new Error("unsetColormapGPU not implemented.")}_getImagePlaneModule(e){var a;const n=tn(io.IMAGE_PLANE,e);this.hasPixelSpacing=!n.usingDefaultValues||((a=this.calibration)==null?void 0:a.scale)>0,this.calibration||(this.calibration=n.calibration);const r={...n};return r.columnPixelSpacing||(r.columnPixelSpacing=1),r.rowPixelSpacing||(r.rowPixelSpacing=1),r.columnCosines||(r.columnCosines=[0,1,0]),r.rowCosines||(r.rowCosines=[1,0,0]),r.imagePositionPatient||(r.imagePositionPatient=[0,0,0]),r.imageOrientationPatient||(r.imageOrientationPatient=new Float32Array([1,0,0,0,1,0])),r}}class Xj extends fs{constructor(e){super(e),this.getNumberOfSlices=()=>1,this.getRotation=()=>0,this.getCurrentImageIdIndex=()=>0,this.getCurrentImageId=()=>null,this.resetCameraForResize=()=>this.resetCamera({resetPan:!0,resetZoom:!0,resetToCenter:!0});const{parallelProjection:n,orientation:r}=this.options,a=this.getVtkActiveCamera();n!=null&&a.setParallelProjection(n),r&&r!==O1.ACQUISITION&&this.applyViewOrientation(r)}resetCamera({resetPan:e=!0,resetZoom:n=!0,resetToCenter:r=!0}={}){super.resetCamera({resetPan:e,resetZoom:n,resetToCenter:r});const a=this.getVtkActiveCamera();return a.getParallelProjection()?a.setClippingRange(-va.MAXIMUM_RAY_DISTANCE,va.MAXIMUM_RAY_DISTANCE):a.setClippingRange(va.MINIMUM_SLAB_THICKNESS,va.MAXIMUM_RAY_DISTANCE),this.getRenderer().resetCameraClippingRange(),!0}setSlabThickness(e,n){return null}setBlendMode(e,n,r){return null}resetProperties(e){const n=e?this.getActor(e):this.getDefaultActor();if(!n)throw new Error(`No actor found for the given volumeId: ${e}`);n.slabThickness&&(n.slabThickness=va.MINIMUM_SLAB_THICKNESS,this.viewportProperties.slabThickness=void 0,this.updateClippingPlanesForActors(this.getCamera())),e||(e=this.getVolumeId());const r=Yt.getVolume(e);if(!r)throw new Error(`imageVolume with id: ${e} does not exist in cache`);if(ab(n.actor,r),Js(n)){const a=n.actor.getProperty().getRGBTransferFunction(0);cy(a,this.initialTransferFunctionNodes)}this.setCamera(this.initialCamera),_t(this.element,It.VOI_MODIFIED,super.getVOIModifiedEventDetail(e))}getSliceIndex(){return null}setCamera(e){super.setCamera(e),this.getRenderer().resetCameraClippingRange(),this.render()}setCameraClippingRange(){const e=this.getVtkActiveCamera();e.getParallelProjection()?e.setClippingRange(-va.MAXIMUM_RAY_DISTANCE,va.MAXIMUM_RAY_DISTANCE):e.setClippingRange(va.MINIMUM_SLAB_THICKNESS,va.MAXIMUM_RAY_DISTANCE)}resetSlabThickness(){return null}}const Yj="viewport-element",Zj="cornerstone-canvas",OM=1e-4;function qEe(t){const e=document.createElement("canvas");return e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.imageRendering="pixelated",e.classList.add(Zj),t.appendChild(e),e}function KEe(t){const e=document.createElement("div");return e.style.position="relative",e.style.width="100%",e.style.height="100%",e.style.overflow="hidden",e.classList.add(Yj),t.appendChild(e),e}function N0(t){const e=`canvas.${Zj}`,n=`div.${Yj}`,r=t.querySelector(n)||KEe(t),a=r.querySelector(e);if(a)return a;const i=qEe(r),o=r.getBoundingClientRect(),s=window.devicePixelRatio||1,l=Math.ceil(o.width*s),c=Math.ceil(o.height*s);return i.width=l,i.height=c,i}async function QEe(t,e,n,r=!1,a=!1){n.forEach(o=>{const s=t.getViewport(o);if(!s)throw new Error(`Viewport with Id ${o} does not exist`);if(!(s instanceof fs))throw new Error("setVolumesForViewports only supports VolumeViewport and VolumeViewport3D")});const i=n.map(async o=>{await t.getViewport(o).setVolumes(e,r,a)});await Promise.all(i)}async function XEe(t,e,n,r=!1,a=!1){for(const o of n){const s=t.getViewport(o);if(!s)throw new Error(`Viewport with Id ${o} does not exist`);if(!(s instanceof fs)){console.warn(`Viewport with Id ${o} is not a BaseVolumeViewport. Cannot add volume to this viewport.`);return}}const i=n.map(async o=>{await t.getViewport(o).addVolumes(e,r,a)});await Promise.all(i)}function YEe(t,e,n){for(const r of n){const a=t.getViewport(r);if(!a)throw new Error(`Viewport with Id ${r} does not exist`);if(!a.addImages){console.warn(`Viewport with Id ${r} does not have addImages. Cannot add image segmentation to this viewport.`);return}}n.forEach(r=>{t.getViewport(r).addImages(e)})}class ZEe{constructor(e){this.opacity=.4,this.outlineOpacity=.4,this.transferFunction=[],this.actor=e}setRGBTransferFunction(e,n){this.transferFunction[e]=n}setScalarOpacity(e){}setInterpolationTypeToNearest(){}setUseLabelOutline(){}setLabelOutlineOpacity(e){this.outlineOpacity=e}setLabelOutlineThickness(){}getColor(e){const n=this.transferFunction[0],r=n.getRedValue(e),a=n.getGreenValue(e),i=n.getBlueValue(e);return[r,a,i,this.opacity]}}class JEe{constructor(e){this.actor=e}getInputData(){return this.actor.getImage()}}class eDe{constructor(e,n){this.canvasProperties=new ZEe(this),this.visibility=!1,this.mapper=new JEe(this),this.className="CanvasActor",this.derivedImage=n,this.viewport=e}renderRLE(e,n,r){const{width:a,height:i}=this.image;let{canvas:o}=this;(!o||o.width!==a||o.height!==i)&&(this.canvas=o=new window.OffscreenCanvas(a,i));const s=o.getContext("2d"),l=s.createImageData(a,i),{data:c}=l;c.fill(0);const{map:f}=r;let u=1/0,d=1/0,g=-1/0,v=-1/0;for(let h=0;h<i;h++){const y=f.getRun(h,0);if(!y)continue;d=Math.min(d,h),v=Math.max(v,h);const C=h*a<<2;let x;for(const T of y){const{start:w,end:b,value:E}=T;if(E===0){x||(x=[]),x.push(y.indexOf(T));continue}u=Math.min(u,w),g=Math.max(g,b);const O=this.canvasProperties.getColor(E).map(R=>R*255);let D=C+(w<<2);for(let R=w;R<b;R++)c[D++]=O[0],c[D++]=O[1],c[D++]=O[2],c[D++]=O[3]}}if(u>a)return;const m=g-u,p=v-d;s.putImageData(l,0,0,u-1,d-1,m+2,p+2),n.drawImage(o,u,d,m,p,u,d,m,p)}setMapper(e){this.mapper=e}render(e,n){if(!this.visibility)return;const r=this.image||this.getImage(),{width:a,height:i}=r,o=r.getScalarData();if(!o)return;const{voxelManager:s}=r;if(s&&s.map.getRun){this.renderRLE(e,n,s);return}let{canvas:l}=this;(!l||l.width!==a||l.height!==i)&&(this.canvas=l=new window.OffscreenCanvas(a,i));const c=l.getContext("2d"),f=c.createImageData(a,i),{data:u}=f;let d=0,g=0,v=1/0,m=1/0,p=-1/0,h=-1/0;for(let x=0;x<i;x++)for(let T=0;T<a;T++){const w=o[d++];if(w){v=Math.min(T,v),m=Math.min(x,m),p=Math.max(T,p),h=Math.max(x,h);const b=this.canvasProperties.getColor(w);u[g]=b[0]*255,u[g+1]=b[1]*255,u[g+2]=b[2]*255,u[g+3]=127}g+=4}if(v>a)return;const y=p-v+1,C=h-m+1;c.putImageData(f,0,0,v,m,y,C),n.drawImage(l,v,m,y,C,v,m,y,C)}getClassName(){return this.className}getProperty(){return this.canvasProperties}setVisibility(e){this.visibility=e}getMapper(){return this.mapper}isA(e){return e===this.className}getImage(){if(this.image)return this.image;this.image={...this.derivedImage};const e=this.viewport.getImageData();return Object.assign(this.image,{worldToIndex:n=>e.imageData.worldToIndex(n),indexToWorld:(n,r)=>e.imageData.indexToWorld(n,r),getDimensions:()=>e.dimensions,getScalarData:()=>{var n;return(n=this.derivedImage)==null?void 0:n.getPixelData()},getDirection:()=>e.direction,getSpacing:()=>e.spacing,setOrigin:()=>null,setDerivedImage:n=>{this.derivedImage=n,this.image=null},modified:()=>null}),this.image}}const Jb=class Jb{static imageIdToFrames(e){const n=e.match(this.frameRangeExtractor);if(!n||!n[2])return null;const r=n[2].split("-").map(a=>Number(a));return r.length===1?r[0]:r}static imageIdToFrameEnd(e){const n=this.imageIdToFrames(e);return Array.isArray(n)?n[1]:n}static imageIdToFrameStart(e){const n=this.imageIdToFrames(e);return Array.isArray(n)?n[0]:n}static framesToString(e){return Array.isArray(e)?`${e[0]}-${e[1]}`:String(e)}static framesToImageId(e,n){const r=e.match(this.frameRangeExtractor);if(!r||!r[2])return null;const a=this.framesToString(n);return e.replace(this.frameRangeExtractor,`${r[1]}${a}`)}};Jb.frameRangeExtractor=/(\/frames\/|[&?]frameNumber=)([^/&?]*)/i;let Xd=Jb;const Zm=class Zm extends N1{constructor(e){super({...e,canvas:e.canvas||N0(e.element)}),this.videoWidth=0,this.videoHeight=0,this.loop=!0,this.mute=!0,this.isPlaying=!1,this.scrollSpeed=1,this.playbackRate=1,this.frameRange=[0,0],this.fps=30,this.videoCamera={panWorld:[0,0],parallelScale:1},this.voiRange={lower:0,upper:255},this.getProperties=()=>({loop:this.videoElement.loop,muted:this.videoElement.muted,playbackRate:this.playbackRate,scrollSpeed:this.scrollSpeed,voiRange:{...this.voiRange}}),this.getMiddleSliceData=()=>{throw new Error("Method not implemented.")},this.useCustomRenderingPipeline=!0,this.resetCamera=()=>(this.refreshRenderValues(),this.canvasContext.fillRect(0,0,this.canvas.width,this.canvas.height),this.isPlaying||this.renderFrame(),!0),this.getNumberOfSlices=()=>{const n=Math.round(this.videoElement.duration*this.fps/this.scrollSpeed);return isNaN(n)?this.numberOfFrames:n},this.getFrameOfReferenceUID=()=>this.videoElement.src,this.resize=()=>{const n=this.canvas,{clientWidth:r,clientHeight:a}=n;(n.width!==r||n.height!==a)&&(n.width=r,n.height=a),this.refreshRenderValues(),this.isPlaying||this.renderFrame()},this.canvasToWorld=(n,r=[0,0,0])=>{const a=this.videoCamera.panWorld,i=this.getWorldToCanvasRatio(),o=[a[0]*i,a[1]*i],s=[n[0]-o[0],n[1]-o[1]];return r.splice(0,2,s[0]/i,s[1]/i),r},this.worldToCanvas=n=>{const r=this.videoCamera.panWorld,a=this.getWorldToCanvasRatio();return[(n[0]+r[0])*a,(n[1]+r[1])*a]},this.getRotation=()=>0,this.canvasToIndex=n=>{const r=this.getTransform();return r.invert(),r.transformPoint(n.map(a=>a*devicePixelRatio))},this.indexToCanvas=n=>this.getTransform().transformPoint(n).map(a=>a/devicePixelRatio),this.customRenderViewportToCanvas=()=>{this.renderFrame()},this.renderFrame=()=>{var s;const n=window.devicePixelRatio||1,a=this.getTransform().getMatrix(),i=this.canvasContext;i.resetTransform(),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.transform(a[0]/n,a[1]/n,a[2]/n,a[3]/n,a[4]/n,a[5]/n),i.drawImage(this.videoElement,0,0,this.videoWidth,this.videoHeight);for(const l of this.getActors())l.actor.render(this,this.canvasContext);this.canvasContext.resetTransform(),_t(this.element,It.STACK_NEW_IMAGE,{element:this.element,viewportId:this.id,viewport:this,renderingEngineId:this.renderingEngineId,time:this.videoElement.currentTime,duration:this.videoElement.duration}),_t(this.element,It.IMAGE_RENDERED,{element:this.element,viewportId:this.id,viewport:this,imageIndex:this.getCurrentImageIdIndex(),numberOfSlices:this.numberOfFrames,renderingEngineId:this.renderingEngineId,time:this.videoElement.currentTime,duration:this.videoElement.duration}),(s=this.initialRender)==null||s.call(this);const o=this.getFrameNumber();this.isPlaying&&(o<this.frameRange[0]?this.setFrameNumber(this.frameRange[0]):o>this.frameRange[1]&&(this.loop?this.setFrameNumber(this.frameRange[0]):this.pause()))},this.renderWhilstPlaying=()=>{this.renderFrame(),this.isPlaying&&requestAnimationFrame(this.renderWhilstPlaying)},this.canvasContext=this.canvas.getContext("2d"),this.renderingEngineId=e.renderingEngineId,this.element.setAttribute("data-viewport-uid",this.id),this.element.setAttribute("data-rendering-engine-uid",this.renderingEngineId),this.videoElement=document.createElement("video"),this.videoElement.muted=this.mute,this.videoElement.loop=this.loop,this.videoElement.autoplay=!0,this.videoElement.crossOrigin="anonymous",this.addEventListeners(),this.resize()}static get useCustomRenderingPipeline(){return!0}addEventListeners(){this.canvas.addEventListener(It.ELEMENT_DISABLED,this.elementDisabledHandler)}removeEventListeners(){this.canvas.removeEventListener(It.ELEMENT_DISABLED,this.elementDisabledHandler)}elementDisabledHandler(){this.removeEventListeners(),this.videoElement.remove()}getImageDataMetadata(e){const n=typeof e=="string"?e:e.imageId,r=tn(io.IMAGE_PLANE,n);let a=r.rowCosines,i=r.columnCosines;(r.usingDefaultValues||a==null||i==null)&&(a=[1,0,0],i=[0,1,0]);const s=Yr(a[0],a[1],a[2]),l=Yr(i[0],i[1],i[2]),{rows:c,columns:f}=r,u=Xt();ia(u,s,l);let d=r.imagePositionPatient;d==null&&(d=[0,0,0]);const g=r.columnPixelSpacing||1,v=r.rowPixelSpacing||1,m=r.columns,p=r.rows,h=1,y=1;return this.hasPixelSpacing=!!r.columnPixelSpacing,{bitsAllocated:8,numberOfComponents:3,origin:d,rows:c,columns:f,direction:[...s,...l,...u],dimensions:[m,p,y],spacing:[g,v,h],hasPixelSpacing:this.hasPixelSpacing,numVoxels:m*p*y,imagePlaneModule:r}}setDataIds(e,n){var r;this.setVideo(e[0],(((r=n.viewReference)==null?void 0:r.sliceIndex)||0)+1)}setVideo(e,n){this.imageId=Array.isArray(e)?e[0]:e;const r=tn(io.IMAGE_URL,e);if(!(r!=null&&r.rendered))throw new Error(`Video Image ID ${e} does not have a rendered video view`);const{rendered:a}=r,i=tn(io.GENERAL_SERIES,e);this.modality=i==null?void 0:i.Modality,this.metadata=this.getImageDataMetadata(e);let{cineRate:o,numberOfFrames:s}=tn(io.CINE,e);return this.numberOfFrames=s,this.setVideoURL(a).then(()=>((!s||s===1)&&(s=Math.round(this.videoElement.duration*(o||30))),o||(o=Math.round(s/this.videoElement.duration)),this.fps=o,this.numberOfFrames=s,this.setFrameRange([1,s]),this.initialRender=()=>{this.initialRender=null,this.pause(),this.setFrameNumber(n||1)},new Promise(l=>{window.setTimeout(()=>{this.setFrameNumber(n||1),l(this)},25)})))}async setVideoURL(e){return new Promise(n=>{this.videoElement.src=e,this.videoElement.preload="auto";const r=()=>{this.videoWidth=this.videoElement.videoWidth,this.videoHeight=this.videoElement.videoHeight,this.videoElement.removeEventListener("loadedmetadata",r),this.refreshRenderValues(),n(!0)};this.videoElement.addEventListener("loadedmetadata",r)})}getImageIds(){const e=new Array(this.numberOfFrames),n=this.imageId.replace(/[0-9]+$/,"");for(let r=0;r<this.numberOfFrames;r++)e[r]=`${n}${r+1}`;return e}togglePlayPause(){return this.isPlaying?(this.pause(),!1):(this.play(),!0)}async play(){try{this.isPlaying||(this.isPlaying=!0,await this.videoElement.play(),this.renderWhilstPlaying())}catch{}}pause(){try{this.isPlaying=!1,this.videoElement.pause()}catch{}}async scroll(e=1){await this.pause();const n=this.videoElement,r=this.renderFrame,i=n.currentTime+e*this.scrollSpeed/this.fps;n.currentTime=i;const o=s=>{r(),n.removeEventListener("seeked",o)};n.addEventListener("seeked",o)}async start(){const e=this.videoElement,n=this.renderFrame;if(e.currentTime=0,e.paused){const r=a=>{n(),e.removeEventListener("seeked",r)};e.addEventListener("seeked",r)}}async end(){const e=this.videoElement,n=this.renderFrame;if(e.currentTime=e.duration,e.paused){const r=a=>{n(),e.removeEventListener("seeked",r)};e.addEventListener("seeked",r)}}async setTime(e){const n=this.videoElement,r=this.renderFrame;if(n.currentTime=e,n.paused){const a=i=>{r(),n.removeEventListener("seeked",a)};n.addEventListener("seeked",a)}}getSliceViewInfo(){throw new Error("Method not implemented.")}async setFrameNumber(e){this.setTime((e-1)/this.fps)}setFrameRange(e){if(!e){this.frameRange=[1,this.numberOfFrames];return}e.length!==2||e[0]===e[1]||(this.frameRange=[e[0],e[1]])}getSliceIndexForImage(e){if(e){if(typeof e=="string")return Xd.imageIdToFrameStart(e);if(e.referencedImageId)return Xd.imageIdToFrameStart(e.referencedImageId)}}getFrameRange(){return this.frameRange}setProperties(e){e.loop!==void 0&&(this.videoElement.loop=e.loop),e.muted!==void 0&&(this.videoElement.muted=e.muted),e.playbackRate!==void 0&&this.setPlaybackRate(e.playbackRate),e.scrollSpeed!==void 0&&this.setScrollSpeed(e.scrollSpeed),e.voiRange&&this.setVOI(e.voiRange)}setPlaybackRate(e=1){if(this.playbackRate=e,e<.0625){this.pause();return}this.videoElement&&(this.videoElement.playbackRate=e,this.play())}setScrollSpeed(e=1,n=$v.FRAME){this.scrollSpeed=n===$v.SECOND?e*this.fps:e}resetProperties(){this.setProperties({loop:!1,muted:!0})}getScalarData(){var i;if(((i=this.scalarData)==null?void 0:i.frameNumber)===this.getFrameNumber())return this.scalarData;if(!this.videoElement||!this.videoElement.videoWidth||!this.videoElement.videoHeight){console.debug("Video not ready yet, returning empty scalar data");const o=new Uint8ClampedArray;return o.getRange=()=>[0,255],o.frameNumber=-1,o}const e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const n=e.getContext("2d");n.drawImage(this.videoElement,0,0);const a=n.getImageData(0,0,e.width,e.height).data;return a.getRange=()=>[0,255],a.frameNumber=this.getFrameNumber(),this.scalarData=a,a}getImageData(){const{metadata:e}=this,n=e.spacing,r={getDirection:()=>e.direction,getDimensions:()=>e.dimensions,getRange:()=>[0,255],getScalarData:()=>this.getScalarData(),getSpacing:()=>e.spacing,worldToIndex:i=>{const o=this.worldToCanvas(i),s=this.canvasToIndex(o);return[s[0],s[1],0]},indexToWorld:(i,o)=>{const s=this.indexToCanvas([i[0],i[1]]);return this.canvasToWorld(s,o)}},a={dimensions:e.dimensions,spacing:n,origin:e.origin,direction:e.direction,metadata:{Modality:this.modality,FrameOfReferenceUID:e.FrameOfReferenceUID},getScalarData:()=>this.getScalarData(),scalarData:this.getScalarData(),imageData:r,voxelManager:{forEach:(i,o)=>tb(o.imageData,{pointInShapeFn:o.isInObject??(()=>!0),callback:i,boundsIJK:o.boundsIJK,returnPoints:o.returnPoints??!1})},hasPixelSpacing:this.hasPixelSpacing,calibration:this.calibration,preScale:{scaled:!1}};return Object.defineProperty(r,"scalarData",{get:()=>this.getScalarData(),enumerable:!0}),a}hasImageURI(e){const n=e.match(Zm.frameRangeExtractor),r=n?e.substring(0,n.index):e;return this.imageId.includes(r)}setVOI(e){this.voiRange=e,this.setColorTransform()}setWindowLevel(e=256,n=128){const r=n-e/2,a=n+e/2-1;this.setVOI({lower:r,upper:a}),this.setColorTransform()}setAverageWhite(e){this.averageWhite=e,this.setColorTransform()}setColorTransform(){if(!this.voiRange&&!this.averageWhite){this.feFilter=null;return}const e=this.averageWhite||[255,255,255],n=Math.max(...e),r=e.map(l=>n/l),{lower:a=0,upper:i=255}=this.voiRange||{},o=(i-a+1)/255,s=a/255;this.feFilter=`url('data:image/svg+xml,      <svg xmlns="http://www.w3.org/2000/svg">        <filter id="colour" color-interpolation-filters="linearRGB">        <feColorMatrix type="matrix"         values="          ${r[0]*o} 0 0 0 ${s}           0 ${r[1]*o} 0 0 ${s}           0 0 ${r[2]*o} 0 ${s}           0 0 0 1 0" />        </filter>      </svg>#colour')`,this.canvas.style.filter=this.feFilter}setCamera(e){const{parallelScale:n,focalPoint:r}=e;if(n&&(this.videoCamera.parallelScale=this.element.clientHeight/2/n),r!==void 0){const a=this.worldToCanvas(r),i=[this.element.clientWidth/2,this.element.clientHeight/2],o=[(a[0]-i[0])/this.videoCamera.parallelScale,(a[1]-i[1])/this.videoCamera.parallelScale];this.videoCamera.panWorld=[this.videoCamera.panWorld[0]-o[0],this.videoCamera.panWorld[1]-o[1]]}this.canvasContext.fillStyle="rgba(0,0,0,1)",this.canvasContext.fillRect(0,0,this.canvas.width,this.canvas.height),this.isPlaying||this.renderFrame()}getCurrentImageId(e=this.getCurrentImageIdIndex()){return this.imageId.replace("/frames/1",`/frames/${e+1}`)}getViewReferenceId(e={}){const{sliceIndex:n}=e;return n===void 0?`videoId:${this.getCurrentImageId()}`:Array.isArray(n)?`videoId:${this.imageId.substring(0,this.imageId.length-1)}${n[0]+1}-${n[1]+1}`:`videoId:${this.imageId.replace("/frames/1",`/frames/${1+n}`)}`}isReferenceViewable(e,n={}){let{imageURI:r}=n;const{referencedImageId:a,sliceIndex:i,multiSliceReference:o}=e;if(!super.isReferenceViewable(e))return!1;const s=this.getCurrentImageId();if(!r){const d=s.indexOf(":");r=s.substring(d+1,s.length-1)}if(n.withNavigation)return!0;const l=this.getSliceIndex();if(o){const d=Xd.imageIdToFrameEnd(o.referencedImageId);return l>=i&&l<=d}if(i!==void 0)return l===i;if(!a)return!1;const c=a.match(Zm.frameRangeExtractor);if(!c||!c[2])return!0;const f=c[2].split("-").map(d=>Number(d)),u=l+1;return f[0]<=u&&u<=(f[1]??f[0])}setViewReference(e){typeof e.sliceIndex=="number"?this.setFrameNumber(e.sliceIndex+1):Array.isArray(e.sliceIndex)&&this.setFrameRange(e.sliceIndex)}getViewReference(e){const n=(e==null?void 0:e.sliceIndex)??(this.isPlaying?this.frameRange[0]:this.getCurrentImageIdIndex()),r=(e==null?void 0:e.rangeEndSliceIndex)??(this.isPlaying?this.frameRange[1]-1:void 0),a=r>n?{sliceIndex:r,referencedImageId:this.getCurrentImageId(r)}:void 0;return{...super.getViewReference(e),referencedImageId:this.getViewReferenceId(e),sliceIndex:n,multiSliceReference:a}}getFrameNumber(){return 1+this.getCurrentImageIdIndex()}getCurrentImageIdIndex(){return Math.round(this.videoElement.currentTime*this.fps)}getSliceIndex(){return this.getCurrentImageIdIndex()/this.scrollSpeed}getCamera(){const{parallelScale:e}=this.videoCamera,n=[this.element.clientWidth/2,this.element.clientHeight/2];return{parallelProjection:!0,focalPoint:this.canvasToWorld(n),position:[0,0,0],viewUp:[0,-1,0],parallelScale:this.element.clientHeight/2/e,viewPlaneNormal:[0,0,1]}}getFrameRate(){return this.fps}getPan(){const e=this.videoCamera.panWorld;return[e[0],e[1]]}refreshRenderValues(){let e=this.canvas.offsetWidth/this.videoWidth;this.videoHeight*e>this.canvas.height&&(e=this.canvas.offsetHeight/this.videoHeight);const n=Math.floor(this.videoWidth*e),r=Math.floor(this.videoHeight*e),a=(this.canvas.offsetWidth-n)/2,i=(this.canvas.offsetHeight-r)/2,o=a/e,s=i/e;this.videoCamera.panWorld=[o,s],this.videoCamera.parallelScale=e}getWorldToCanvasRatio(){return this.videoCamera.parallelScale}getCanvasToWorldRatio(){return 1/this.videoCamera.parallelScale}getTransform(){const e=this.videoCamera.panWorld,n=window.devicePixelRatio||1,r=this.getWorldToCanvasRatio(),a=this.getCanvasToWorldRatio(),i=[this.canvas.offsetWidth/2,this.canvas.offsetHeight/2],o=[i[0]*a,i[1]*a],s=new gg;return s.scale(n,n),s.translate(i[0],i[1]),s.scale(r,r),s.translate(e[0],e[1]),s.translate(-o[0],-o[1]),s}updateCameraClippingPlanesAndRange(){}addImages(e){const n=this.getActors();e.forEach(r=>{const{imageId:a,...i}=r,o=Yt.getImage(a),s=this.createActorMapper(o),l=r.actorUID??Li();s&&(n.push({uid:l,actor:s,referencedId:a,...i}),r.callback&&r.callback({imageActor:s,imageId:a}))}),this.setActors(n)}createActorMapper(e){return new eDe(this,e)}};Zm.frameRangeExtractor=/(\/frames\/|[&?]frameNumber=)([^/&?]*)/i;let dx=Zm;const tDe=`
.DicomMicroscopyViewer {
  --ol-partial-background-color: rgba(127, 127, 127, 0.7);
  --ol-foreground-color: #000000;
  --ol-subtle-foreground-color: #000;
  --ol-subtle-background-color: rgba(78, 78, 78, 0.5);
}

.DicomMicroscopyViewer .ol-box {
  box-sizing: border-box;
  border-radius: 2px;
  border: 1.5px solid var(--ol-background-color);
  background-color: var(--ol-partial-background-color);
}

.DicomMicroscopyViewer .ol-mouse-position {
  top: 8px;
  right: 8px;
  position: absolute;
}

.DicomMicroscopyViewer .ol-scale-line {
  background: var(--ol-partial-background-color);
  border-radius: 4px;
  bottom: 8px;
  left: 8px;
  padding: 2px;
  position: absolute;
}

.DicomMicroscopyViewer .ol-scale-line-inner {
  border: 1px solid var(--ol-subtle-foreground-color);
  border-top: none;
  color: var(--ol-foreground-color);
  font-size: 10px;
  text-align: center;
  margin: 1px;
  will-change: contents, width;
  transition: all 0.25s;
}

.DicomMicroscopyViewer .ol-scale-bar {
  position: absolute;
  bottom: 8px;
  left: 8px;
}

.DicomMicroscopyViewer .ol-scale-bar-inner {
  display: flex;
}

.DicomMicroscopyViewer .ol-scale-step-marker {
  width: 1px;
  height: 15px;
  background-color: var(--ol-foreground-color);
  float: right;
  z-index: 10;
}

.DicomMicroscopyViewer .ol-scale-step-text {
  position: absolute;
  bottom: -5px;
  font-size: 10px;
  z-index: 11;
  color: var(--ol-foreground-color);
  text-shadow:
    -1.5px 0 var(--ol-partial-background-color),
    0 1.5px var(--ol-partial-background-color),
    1.5px 0 var(--ol-partial-background-color),
    0 -1.5px var(--ol-partial-background-color);
}

.DicomMicroscopyViewer .ol-scale-text {
  position: absolute;
  font-size: 12px;
  text-align: center;
  bottom: 25px;
  color: var(--ol-foreground-color);
  text-shadow:
    -1.5px 0 var(--ol-partial-background-color),
    0 1.5px var(--ol-partial-background-color),
    1.5px 0 var(--ol-partial-background-color),
    0 -1.5px var(--ol-partial-background-color);
}

.DicomMicroscopyViewer .ol-scale-singlebar {
  position: relative;
  height: 10px;
  z-index: 9;
  box-sizing: border-box;
  border: 1px solid var(--ol-foreground-color);
}

.DicomMicroscopyViewer .ol-scale-singlebar-even {
  background-color: var(--ol-subtle-foreground-color);
}

.DicomMicroscopyViewer .ol-scale-singlebar-odd {
  background-color: var(--ol-background-color);
}

.DicomMicroscopyViewer .ol-unsupported {
  display: none;
}

.DicomMicroscopyViewer .ol-viewport,
.DicomMicroscopyViewer .ol-unselectable {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.DicomMicroscopyViewer .ol-viewport canvas {
  all: unset;
}

.DicomMicroscopyViewer .ol-selectable {
  -webkit-touch-callout: default;
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
}

.DicomMicroscopyViewer .ol-grabbing {
  cursor: -webkit-grabbing;
  cursor: -moz-grabbing;
  cursor: grabbing;
}

.DicomMicroscopyViewer .ol-grab {
  cursor: move;
  cursor: -webkit-grab;
  cursor: -moz-grab;
  cursor: grab;
}

.DicomMicroscopyViewer .ol-control {
  position: absolute;
  background-color: var(--ol-subtle-background-color);
  border-radius: 4px;
}

.DicomMicroscopyViewer .ol-zoom {
  top: 0.5em;
  left: 0.5em;
}

.DicomMicroscopyViewer .ol-rotate {
  top: 0.5em;
  right: 0.5em;
  transition:
    opacity 0.25s linear,
    visibility 0s linear;
}

.DicomMicroscopyViewer .ol-rotate.ol-hidden {
  opacity: 0;
  visibility: hidden;
  transition:
    opacity 0.25s linear,
    visibility 0s linear 0.25s;
}

.DicomMicroscopyViewer .ol-zoom-extent {
  top: 4.643em;
  left: 0.5em;
}

.DicomMicroscopyViewer .ol-full-screen {
  right: 0.5em;
  top: 0.5em;
}

.DicomMicroscopyViewer .ol-control button {
  display: block;
  margin: 1px;
  padding: 0;
  color: var(--ol-subtle-foreground-color);
  font-weight: bold;
  text-decoration: none;
  font-size: inherit;
  text-align: center;
  height: 1.375em;
  width: 1.375em;
  line-height: 0.4em;
  background-color: var(--ol-background-color);
  border: none;
  border-radius: 2px;
}

.DicomMicroscopyViewer .ol-control button::-moz-focus-inner {
  border: none;
  padding: 0;
}

.DicomMicroscopyViewer .ol-zoom-extent button {
  line-height: 1.4em;
}

.DicomMicroscopyViewer .ol-compass {
  display: block;
  font-weight: normal;
  will-change: transform;
}

.DicomMicroscopyViewer .ol-touch .ol-control button {
  font-size: 1.5em;
}

.DicomMicroscopyViewer .ol-touch .ol-zoom-extent {
  top: 5.5em;
}

.DicomMicroscopyViewer .ol-control button:hover,
.DicomMicroscopyViewer .ol-control button:focus {
  text-decoration: none;
  outline: 1px solid var(--ol-subtle-foreground-color);
  color: var(--ol-foreground-color);
}

.DicomMicroscopyViewer .ol-zoom .ol-zoom-in {
  border-radius: 2px 2px 0 0;
}

.DicomMicroscopyViewer .ol-zoom .ol-zoom-out {
  border-radius: 0 0 2px 2px;
}

.DicomMicroscopyViewer .ol-attribution {
  text-align: right;
  bottom: 0.5em;
  right: 0.5em;
  max-width: calc(100% - 1.3em);
  display: flex;
  flex-flow: row-reverse;
  align-items: center;
}

.DicomMicroscopyViewer .ol-attribution a {
  color: var(--ol-subtle-foreground-color);
  text-decoration: none;
}

.DicomMicroscopyViewer .ol-attribution ul {
  margin: 0;
  padding: 1px 0.5em;
  color: var(--ol-foreground-color);
  text-shadow: 0 0 2px var(--ol-background-color);
  font-size: 12px;
}

.DicomMicroscopyViewer .ol-attribution li {
  display: inline;
  list-style: none;
}

.DicomMicroscopyViewer .ol-attribution li:not(:last-child):after {
  content: ' ';
}

.DicomMicroscopyViewer .ol-attribution img {
  max-height: 2em;
  max-width: inherit;
  vertical-align: middle;
}

.DicomMicroscopyViewer .ol-attribution button {
  flex-shrink: 0;
}

.DicomMicroscopyViewer .ol-attribution.ol-collapsed ul {
  display: none;
}

.DicomMicroscopyViewer .ol-attribution:not(.ol-collapsed) {
  background: var(--ol-partial-background-color);
}

.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible {
  bottom: 0;
  right: 0;
  border-radius: 4px 0 0;
}

.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible img {
  margin-top: -0.2em;
  max-height: 1.6em;
}

.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible button {
  display: none;
}

.DicomMicroscopyViewer .ol-zoomslider {
  top: 4.5em;
  left: 0.5em;
  height: 200px;
}

.DicomMicroscopyViewer .ol-zoomslider button {
  position: relative;
  height: 10px;
}

.DicomMicroscopyViewer .ol-touch .ol-zoomslider {
  top: 5.5em;
}

.DicomMicroscopyViewer .ol-overviewmap {
  left: 0.5em;
  bottom: 0.5em;
}

.DicomMicroscopyViewer .ol-overviewmap.ol-uncollapsible {
  bottom: 0;
  left: 0;
  border-radius: 0 4px 0 0;
}

.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-map,
.DicomMicroscopyViewer .ol-overviewmap button {
  display: block;
}

.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-map {
  border: 1px solid var(--ol-subtle-foreground-color);
  height: 150px;
  width: 150px;
}

.DicomMicroscopyViewer .ol-overviewmap:not(.ol-collapsed) button {
  bottom: 0;
  left: 0;
  position: absolute;
}

.DicomMicroscopyViewer .ol-overviewmap.ol-collapsed .ol-overviewmap-map,
.DicomMicroscopyViewer .ol-overviewmap.ol-uncollapsible button {
  display: none;
}

.DicomMicroscopyViewer .ol-overviewmap:not(.ol-collapsed) {
  background: var(--ol-subtle-background-color);
}

.DicomMicroscopyViewer .ol-overviewmap-box {
  border: 0.5px dotted var(--ol-subtle-foreground-color);
}

.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-box:hover {
  cursor: move;
}

@layout-header-background: #007ea3;
@primary-color: #007ea3;
@processing-color: #8cb8c6;
@success-color: #3f9c35;
@warning-color: #eeaf30;
@error-color: #96172e;
@font-size-base: 14px;

.DicomMicroscopyViewer .ol-tooltip {
  font-size: 16px !important;
}
`,RM=Symbol.for("map"),nDe="postrender",Md=class Md extends N1{constructor(e){super({...e,canvas:e.canvas||N0(e.element)}),this.internalCamera={rotation:0,centerIndex:[0,0],extent:[0,-2,1,-1],xSpacing:1,ySpacing:1,resolution:1,zoom:1},this.voiRange={lower:0,upper:255},this.getProperties=()=>({}),this.resetCamera=()=>!0,this.getNumberOfSlices=()=>1,this.getFrameOfReferenceUID=()=>this.frameOfReferenceUID,this.resize=()=>{const r=this.canvas,{clientWidth:a,clientHeight:i}=r;(r.width!==a||r.height!==i)&&(r.width=a,r.height=i),this.refreshRenderValues()},this.canvasToWorld=r=>{if(!this.metadata)return;const[a,i]=this.canvasToIndex(r),{origin:o,spacing:s,direction:l}=this.getImageData(),c=Yr(0,0,0),f=l.slice(0,3),u=l.slice(3,6);return li(c,o,f,a*s[0]),li(c,c,u,i*s[1]),[c[0],c[1],c[2]]},this.worldToCanvas=r=>{if(!this.metadata)return;const{spacing:a,direction:i,origin:o}=this.metadata,s=i.slice(0,3),l=i.slice(3,6),c=Ga([0,0,0],r,o),f=[Ln(c,s)/a[0],Ln(c,l)/a[1]];return this.indexToCanvas(f)},this.postrender=()=>{this.refreshRenderValues(),_t(this.element,It.IMAGE_RENDERED,{element:this.element,viewportId:this.id,viewport:this,renderingEngineId:this.renderingEngineId})},this.getRotation=()=>0,this.canvasToIndex=r=>{const a=this.getTransform();return a.invert(),a.transformPoint(r)},this.indexToCanvas=r=>this.getTransform().transformPoint(r),this.customRenderViewportToCanvas=()=>{},this.getImageIds=()=>[this.imageIds[0]],this.renderingEngineId=e.renderingEngineId,this.element.setAttribute("data-viewport-uid",this.id),this.element.setAttribute("data-rendering-engine-uid",this.renderingEngineId),this.element.style.position="relative",this.microscopyElement=document.createElement("div"),this.microscopyElement.setAttribute("class","DicomMicroscopyViewer"),this.microscopyElement.id=Li(),this.microscopyElement.innerText="Initial",this.microscopyElement.style.background="grey",this.microscopyElement.style.width="100%",this.microscopyElement.style.height="100%",this.microscopyElement.style.position="absolute",this.microscopyElement.style.left="0",this.microscopyElement.style.top="0";const n=this.element.firstElementChild;n.insertBefore(this.microscopyElement,n.childNodes[1]),this.addEventListeners(),this.addWidget("DicomMicroscopyViewer",{getEnabled:()=>!!this.viewer,setEnabled:()=>{this.elementDisabledHandler()}}),this.resize()}static get useCustomRenderingPipeline(){return!0}addEventListeners(){this.canvas.addEventListener(It.ELEMENT_DISABLED,this.elementDisabledHandler)}removeEventListeners(){this.canvas.removeEventListener(It.ELEMENT_DISABLED,this.elementDisabledHandler)}elementDisabledHandler(){var n;this.removeEventListeners(),(n=this.viewer)==null||n.cleanup(),this.viewer=null,this.element.firstElementChild.removeChild(this.microscopyElement),this.microscopyElement=null}getImageDataMetadata(e=0){var O;const n=this.metadataDicomweb.reduce((D,R)=>(D==null?void 0:D.NumberOfFrames)<R.NumberOfFrames?R:D),{TotalPixelMatrixColumns:r,TotalPixelMatrixRows:a,ImageOrientationSlide:i,ImagedVolumeWidth:o,ImagedVolumeHeight:s,ImagedVolumeDepth:l}=n,c=tn(io.IMAGE_PLANE,this.imageIds[e]);let f=i.slice(0,3),u=i.slice(3,6);(f==null||u==null)&&(f=[1,0,0],u=[0,1,0]);const d=Yr(f[0],f[1],f[2]),g=Yr(u[0],u[1],u[2]),v=Xt();ia(v,d,g);const{XOffsetInSlideCoordinateSystem:m=0,YOffsetInSlideCoordinateSystem:p=0,ZOffsetInSlideCoordinateSystem:h=0}=((O=n.TotalPixelMatrixOriginSequence)==null?void 0:O[0])||{},y=[m,p,h],C=o/r,x=s/a,T=r,w=a,b=l,E=1;return this.hasPixelSpacing=!!(o&&s),{bitsAllocated:8,numberOfComponents:3,origin:y,direction:[...d,...g,...v],dimensions:[T,w,E],spacing:[C,x,b],hasPixelSpacing:this.hasPixelSpacing,numVoxels:T*w*E,imagePlaneModule:c}}async setFrameNumber(e){}setProperties(e){}resetProperties(){this.setProperties({})}getScalarData(){return null}getImageData(){const{metadata:e}=this;if(!e)return null;const{spacing:n}=e,r={getDirection:()=>e.direction,getDimensions:()=>e.dimensions,getRange:()=>[0,255],getScalarData:()=>this.getScalarData(),getSpacing:()=>e.spacing,worldToIndex:i=>{const o=this.worldToCanvas(i),s=this.canvasToIndex(o);return[s[0],s[1],0]},indexToWorld:i=>{const o=this.indexToCanvas([i[0],i[1]]);return this.canvasToWorld(o)}};return{dimensions:e.dimensions,spacing:n,numberOfComponents:3,origin:e.origin,direction:e.direction,metadata:{Modality:this.modality,FrameOfReferenceUID:this.frameOfReferenceUID},hasPixelSpacing:this.hasPixelSpacing,calibration:this.calibration,preScale:{scaled:!1},scalarData:this.getScalarData(),imageData:r,voxelManager:{forEach:(i,o)=>tb(o.imageData,{pointInShapeFn:o.isInObject??(()=>!0),callback:i,boundsIJK:o.boundsIJK,returnPoints:o.returnPoints??!1})}}}hasImageURI(e){return!0}setCamera(e){const n=this.getCamera(),{parallelScale:r,focalPoint:a}=e,i=this.getView(),{xSpacing:o}=this.internalCamera;if(r){const l=this.element.clientHeight/r,c=1/o/l;i.setResolution(c)}if(a){const l=this.worldToCanvas(a),c=this.canvasToIndex(l);i.setCenter(c)}const s=this.getCamera();this.triggerCameraModifiedEventIfNecessary(n,s)}getCurrentImageId(){return this.imageIds[0]}getFrameNumber(){return 1}getCamera(){this.refreshRenderValues();const{resolution:e,xSpacing:n}=this.internalCamera,r=e*n,a=[this.element.clientWidth/2,this.element.clientHeight/2],i=this.canvasToWorld(a);return{parallelProjection:!0,focalPoint:i,position:i,viewUp:[0,-1,0],parallelScale:this.element.clientHeight*r,viewPlaneNormal:[0,0,1]}}setDataIds(e,n){(n==null?void 0:n.miniNavigationOverlay)!==!1&&Md.addMiniNavigationOverlayCss();const r=(n==null?void 0:n.webClient)||tn(io.WADO_WEB_CLIENT,e[0]);if(!r)throw new Error(`To use setDataIds on WSI data, you must provide metaData.webClient for ${e[0]}`);return this.setWSI(e,r)}async setWSI(e,n){this.microscopyElement.style.background="black",this.microscopyElement.innerText="Loading",this.imageIds=e;const r=await Md.getDicomMicroscopyViewer();this.frameOfReferenceUID=null;const a=this.imageIds.map(s=>{var u,d,g;const l=n.getDICOMwebMetadata(s);Object.defineProperty(l,"isMultiframe",{value:l.isMultiframe,enumerable:!1}),Object.defineProperty(l,"frameNumber",{value:void 0,enumerable:!1});const c=(u=l["00080008"])==null?void 0:u.Value;(c==null?void 0:c.length)===1&&(l["00080008"].Value=c[0].split("\\"));const f=(g=(d=l["00200052"])==null?void 0:d.Value)==null?void 0:g[0];return this.frameOfReferenceUID?f!==this.frameOfReferenceUID&&(l["00200052"].Value=[this.frameOfReferenceUID]):this.frameOfReferenceUID=f,l}),i=[];a.forEach(s=>{const l=new r.metadata.VLWholeSlideMicroscopyImage({metadata:s}),c=l.ImageType[2];c==="VOLUME"||c==="THUMBNAIL"?i.push(l):console.log("Unknown image type",l.ImageType)}),this.metadataDicomweb=i;const o=new r.viewer.VolumeImageViewer({client:n,metadata:i,controls:["overview","position"],retrieveRendered:!1,bindings:{}});o.render({container:this.microscopyElement}),this.metadata=this.getImageDataMetadata(),o.deactivateDragPanInteraction(),this.viewer=o,this.map=o[RM],this.map.on(nDe,this.postrender),this.resize(),this.microscopyElement.innerText="",Object.assign(this.microscopyElement.style,{"--ol-partial-background-color":"rgba(127, 127, 127, 0.7)","--ol-foreground-color":"#000000","--ol-subtle-foreground-color":"#000","--ol-subtle-background-color":"rgba(78, 78, 78, 0.5)",background:"none"})}scroll(e){const n=this.getCamera();this.setCamera({parallelScale:n.parallelScale*(1+.1*e)})}getSliceIndex(){return 0}getView(){if(!this.viewer)return;const e=this.viewer[RM],n=window;return n.map=e,n.viewer=this.viewer,n.view=e==null?void 0:e.getView(),n.wsi=this,e==null?void 0:e.getView()}refreshRenderValues(){const e=this.getView();if(!e)return;const n=e.getResolution();if(!n||n<l0)return;const r=e.getCenter(),a=e.getProjection().getExtent(),i=e.getRotation(),o=e.getZoom(),{metadata:{spacing:[s,l]}}=this,c=1/n/s;Object.assign(this.internalCamera,{extent:a,centerIndex:r,worldToCanvasRatio:c,xSpacing:s,ySpacing:l,resolution:n,rotation:i,zoom:o})}getZoom(){var e;return(e=this.getView())==null?void 0:e.getZoom()}setZoom(e){var n;(n=this.getView())==null||n.setZoom(e)}getTransform(){this.refreshRenderValues();const{centerIndex:e,resolution:n,rotation:r}=this.internalCamera,a=[this.canvas.width/2,this.canvas.height/2],i=new gg;return i.translate(a[0],a[1]),i.rotate(r),i.scale(1/n,-1/n),i.translate(-e[0],-e[1]),i}getViewReferenceId(){return`imageId:${this.getCurrentImageId()}`}getCurrentImageIdIndex(){return 0}static addMiniNavigationOverlayCss(){if(document.getElementById(this.overlayCssId))return;const e=document.createElement("style");e.innerText=tDe,e.setAttribute("id",this.overlayCssId),document.getElementsByTagName("head")[0].append(e)}};Md.getDicomMicroscopyViewer=async()=>O6e("dicom-microscopy-viewer"),Md.overlayCssId="overlayCss";let gx=Md;const Jj={[ya.ORTHOGRAPHIC]:go,[ya.PERSPECTIVE]:go,[ya.STACK]:rs,[ya.VOLUME_3D]:Xj,[ya.VIDEO]:dx,[ya.WHOLE_SLIDE]:gx};function Xf(t){return Jj[t].useCustomRenderingPipeline}const IM=2;class eH{constructor(e){if(this._needsRender=new Set,this._animationFrameSet=!1,this._animationFrameHandle=null,this.renderFrameOfReference=n=>{const a=this._getViewportsAsArray().map(i=>{if(i.getFrameOfReferenceUID()===n)return i.id});this.renderViewports(a)},this._renderFlaggedViewports=()=>{this._throwIfDestroyed(),this.useCPURendering||this.performVtkDrawCall();const n=this._getViewportsAsArray(),r=[];for(let a=0;a<n.length;a++){const i=n[a];if(this._needsRender.has(i.id)){const o=this.renderViewportUsingCustomOrVtkPipeline(i);if(r.push(o),i.setRendered(),this._needsRender.delete(i.id),this._needsRender.size===0)break}}this._animationFrameSet=!1,this._animationFrameHandle=null,r.forEach(a=>{a!=null&&a.element&&_t(a.element,It.IMAGE_RENDERED,a)})},this.id=e||Li(),this.useCPURendering=Um(),Vv.set(this),!D6e())throw new Error("@cornerstonejs/core is not initialized, run init() first");this.useCPURendering||(this.offscreenMultiRenderWindow=mxe.newInstance(),this.offScreenCanvasContainer=document.createElement("div"),this.offscreenMultiRenderWindow.setContainer(this.offScreenCanvasContainer)),this._viewports=new Map,this.hasBeenDestroyed=!1}enableElement(e){const n=this._normalizeViewportInputEntry(e);this._throwIfDestroyed();const{element:r,viewportId:a}=n;if(!r)throw new Error("No element provided");this.getViewport(a)&&this.disableElement(a);const{type:o}=n,s=Xf(o);!this.useCPURendering&&!s?this.enableVTKjsDrivenViewport(n):this.addCustomViewport(n);const l=N0(r),{background:c}=n.defaultOptions;this.fillCanvasWithBackgroundColor(l,c)}disableElement(e){this._throwIfDestroyed();const n=this.getViewport(e);if(!n){console.warn(`viewport ${e} does not exist`);return}this._resetViewport(n),!Xf(n.type)&&!this.useCPURendering&&this.offscreenMultiRenderWindow.removeRenderer(e),this._removeViewport(e),n.isDisabled=!0,this._needsRender.delete(e),this.getViewports().length||this._clearAnimationFrame()}setViewports(e){const n=this._normalizeViewportInputEntries(e);this._throwIfDestroyed(),this._reset();const r=[],a=[];n.forEach(i=>{!this.useCPURendering&&!Xf(i.type)?r.push(i):a.push(i)}),this.setVtkjsDrivenViewports(r),this.setCustomViewports(a),n.forEach(i=>{const o=N0(i.element),{background:s}=i.defaultOptions;this.fillCanvasWithBackgroundColor(o,s)})}resize(e=!0,n=!0){this._throwIfDestroyed();const r=this._getViewportsAsArray(),a=[],i=[];r.forEach(o=>{Xf(o.type)?i.push(o):a.push(o)}),a.length&&this._resizeVTKViewports(a,n,e),i.length&&this._resizeUsingCustomResizeHandler(i,n,e)}getViewport(e){return this._viewports.get(e)}getViewports(){return this._throwIfDestroyed(),this._getViewportsAsArray()}getStackViewport(e){this._throwIfDestroyed();const n=this.getViewport(e);if(!n)throw new Error(`Viewport with Id ${e} does not exist`);if(!(n instanceof rs))throw new Error(`Viewport with Id ${e} is not a StackViewport.`);return n}getStackViewports(){return this._throwIfDestroyed(),this.getViewports().filter(n=>n instanceof rs)}getVolumeViewports(){this._throwIfDestroyed();const e=this.getViewports(),n=r=>r instanceof fs;return e.filter(n)}render(){const n=this.getViewports().map(r=>r.id);this._setViewportsToBeRenderedNextFrame(n)}renderViewports(e){this._setViewportsToBeRenderedNextFrame(e)}renderViewport(e){this._setViewportsToBeRenderedNextFrame([e])}destroy(){this.hasBeenDestroyed||(this.useCPURendering||(this._getViewportsAsArray().forEach(n=>{this.offscreenMultiRenderWindow.removeRenderer(n.id)}),this.offscreenMultiRenderWindow.delete(),delete this.offscreenMultiRenderWindow),this._reset(),Vv.delete(this.id),this.hasBeenDestroyed=!0)}fillCanvasWithBackgroundColor(e,n){const r=e.getContext("2d");let a;if(n){const i=n.map(o=>Math.floor(255*o));a=`rgb(${i[0]}, ${i[1]}, ${i[2]})`}else a="black";r.fillStyle=a,r.fillRect(0,0,e.width,e.height)}_normalizeViewportInputEntry(e){const{type:n,defaultOptions:r}=e;let a=r;return(!a||Object.keys(a).length===0)&&(a={background:[0,0,0],orientation:null,displayArea:null},n===ya.ORTHOGRAPHIC&&(a={...a,orientation:O1.AXIAL})),{...e,defaultOptions:a}}_normalizeViewportInputEntries(e){const n=[];return e.forEach(r=>{n.push(this._normalizeViewportInputEntry(r))}),n}_resizeUsingCustomResizeHandler(e,n=!0,r=!0){e.forEach(a=>{typeof a.resize=="function"&&a.resize()}),e.forEach(a=>{const i=a.getCamera();a.resetCamera(),n&&a.setCamera(i)}),r&&this.render()}_resizeVTKViewports(e,n=!0,r=!0){const a=e.map(i=>N0(i.element));if(a.forEach(i=>{const o=window.devicePixelRatio||1;i.width=i.clientWidth*o,i.height=i.clientHeight*o}),a.length){const{offScreenCanvasWidth:i,offScreenCanvasHeight:o}=this._resizeOffScreenCanvas(a);this._resize(e,i,o)}e.forEach(i=>{const o=i.getCamera(),s=i.getRotation(),{flipHorizontal:l}=o;i.resetCameraForResize();const c=i.getDisplayArea();n&&(c?(l&&i.setCamera({flipHorizontal:l}),s&&i.setViewPresentation({rotation:s})):i.setCamera(o))}),r&&this.render()}enableVTKjsDrivenViewport(e){const r=this._getViewportsAsArray().filter(f=>Xf(f.type)===!1),a=r.map(f=>f.canvas),i=N0(e.element);a.push(i);const{offScreenCanvasWidth:o,offScreenCanvasHeight:s}=this._resizeOffScreenCanvas(a),l=this._resize(r,o,s),c={...e,canvas:i};this.addVtkjsDrivenViewport(c,{offScreenCanvasWidth:o,offScreenCanvasHeight:s,xOffset:l})}_removeViewport(e){if(!this.getViewport(e)){console.warn(`viewport ${e} does not exist`);return}this._viewports.delete(e)}addVtkjsDrivenViewport(e,n){const{element:r,canvas:a,viewportId:i,type:o,defaultOptions:s}=e;r.tabIndex=-1;const{offScreenCanvasWidth:l,offScreenCanvasHeight:c,xOffset:f}=n,{sxStartDisplayCoords:u,syStartDisplayCoords:d,sxEndDisplayCoords:g,syEndDisplayCoords:v,sx:m,sy:p,sWidth:h,sHeight:y}=this._getViewportCoordsOnOffScreenCanvas(e,l,c,f);this.offscreenMultiRenderWindow.addRenderer({viewport:[u,d,g,v],id:i,background:s.background?s.background:[0,0,0]});const C={id:i,element:r,renderingEngineId:this.id,type:o,canvas:a,sx:m,sy:p,sWidth:h,sHeight:y,defaultOptions:s||{}};let x;if(o===ya.STACK)x=new rs(C);else if(o===ya.ORTHOGRAPHIC||o===ya.PERSPECTIVE)x=new go(C);else if(o===ya.VOLUME_3D)x=new Xj(C);else throw new Error(`Viewport Type ${o} is not supported`);this._viewports.set(i,x);const T={element:r,viewportId:i,renderingEngineId:this.id};x.suppressEvents||_t(Vt,It.ELEMENT_ENABLED,T)}addCustomViewport(e){const{element:n,viewportId:r,type:a,defaultOptions:i}=e;n.tabIndex=-1;const o=N0(n),{clientWidth:s,clientHeight:l}=o;(o.width!==s||o.height!==l)&&(o.width=s,o.height=l);const c={id:r,renderingEngineId:this.id,element:n,type:a,canvas:o,sx:0,sy:0,sWidth:s,sHeight:l,defaultOptions:i||{}},f=Jj[a],u=new f(c);this._viewports.set(r,u);const d={element:n,viewportId:r,renderingEngineId:this.id};_t(Vt,It.ELEMENT_ENABLED,d)}setCustomViewports(e){e.forEach(n=>{this.addCustomViewport(n)})}setVtkjsDrivenViewports(e){if(e.length){const n=e.map(o=>N0(o.element));n.forEach(o=>{const s=window.devicePixelRatio||1,l=o.getBoundingClientRect();o.width=l.width*s,o.height=l.height*s});const{offScreenCanvasWidth:r,offScreenCanvasHeight:a}=this._resizeOffScreenCanvas(n);let i=0;for(let o=0;o<e.length;o++){const s=e[o],l=n[o],c={...s,canvas:l};this.addVtkjsDrivenViewport(c,{offScreenCanvasWidth:r,offScreenCanvasHeight:a,xOffset:i}),i+=l.width}}}_resizeOffScreenCanvas(e){const{offScreenCanvasContainer:n,offscreenMultiRenderWindow:r}=this,a=Math.max(...e.map(o=>o.height));let i=0;return e.forEach(o=>{i+=o.width}),n.width=i,n.height=a,r.resize(),{offScreenCanvasWidth:i,offScreenCanvasHeight:a}}_resize(e,n,r){let a=0;for(let i=0;i<e.length;i++){const o=e[i],{sxStartDisplayCoords:s,syStartDisplayCoords:l,sxEndDisplayCoords:c,syEndDisplayCoords:f,sx:u,sy:d,sWidth:g,sHeight:v}=this._getViewportCoordsOnOffScreenCanvas(o,n,r,a);a+=o.canvas.width,o.sx=u,o.sy=d,o.sWidth=g,o.sHeight=v,this.offscreenMultiRenderWindow.getRenderer(o.id).setViewport([s,l,c,f])}return a}_getViewportCoordsOnOffScreenCanvas(e,n,r,a){const{canvas:i}=e,{width:o,height:s}=i,l=a,c=0,f=l/n,u=c+(r-s)/r,d=o/n,g=s/r;return{sxStartDisplayCoords:f,syStartDisplayCoords:u,sxEndDisplayCoords:f+d,syEndDisplayCoords:u+g,sx:l,sy:c,sWidth:o,sHeight:s}}_getViewportsAsArray(){return Array.from(this._viewports.values())}_setViewportsToBeRenderedNextFrame(e){e.forEach(n=>{this._needsRender.add(n)}),this._render()}_render(){this._needsRender.size>0&&!this._animationFrameSet&&(this._animationFrameHandle=window.requestAnimationFrame(this._renderFlaggedViewports),this._animationFrameSet=!0)}performVtkDrawCall(){const{offscreenMultiRenderWindow:e}=this,n=e.getRenderWindow(),r=e.getRenderers();if(r.length){for(let a=0;a<r.length;a++){const{renderer:i,id:o}=r[a];this._needsRender.has(o)?i.setDraw(!0):i.setDraw(!1)}n.render();for(let a=0;a<r.length;a++)r[a].renderer.setDraw(!1)}}renderViewportUsingCustomOrVtkPipeline(e){let n;if(e.sWidth<IM||e.sHeight<IM){console.warn("Viewport is too small",e.sWidth,e.sHeight);return}if(Xf(e.type)===!0)n=e.customRenderViewportToCanvas();else{if(this.useCPURendering)throw new Error("GPU not available, and using a viewport with no custom render pipeline.");const{offscreenMultiRenderWindow:r}=this,o=r.getOpenGLRenderWindow().get3DContext().canvas;n=this._renderViewportFromVtkCanvasToOnscreenCanvas(e,o)}return n}_renderViewportFromVtkCanvasToOnscreenCanvas(e,n){const{element:r,canvas:a,sx:i,sy:o,sWidth:s,sHeight:l,id:c,renderingEngineId:f,suppressEvents:u}=e,{width:d,height:g}=a;return a.getContext("2d").drawImage(n,i,o,s,l,0,0,d,g),{element:r,suppressEvents:u,viewportId:c,renderingEngineId:f,viewportStatus:e.viewportStatus}}_resetViewport(e){const n=this.id,{element:r,canvas:a,id:i}=e,o={element:r,viewportId:i,renderingEngineId:n};e.removeWidgets(),_t(Vt,It.ELEMENT_DISABLED,o),r.removeAttribute("data-viewport-uid"),r.removeAttribute("data-rendering-engine-uid"),a.getContext("2d").clearRect(0,0,a.width,a.height)}_clearAnimationFrame(){window.cancelAnimationFrame(this._animationFrameHandle),this._needsRender.clear(),this._animationFrameSet=!1,this._animationFrameHandle=null}_reset(){this._getViewportsAsArray().forEach(n=>{this._resetViewport(n)}),this._clearAnimationFrame(),this._viewports=new Map}_throwIfDestroyed(){if(this.hasBeenDestroyed)throw new Error("this.destroy() has been manually called to free up memory, can not longer use this instance. Instead make a new one.")}_downloadOffScreenCanvas(){const e=this._debugRender();rDe(e)}_debugRender(){const{offscreenMultiRenderWindow:e}=this,n=e.getRenderWindow(),r=e.getRenderers();for(let l=0;l<r.length;l++)r[l].renderer.setDraw(!0);n.render();const o=e.getOpenGLRenderWindow().get3DContext().canvas,s=o.toDataURL();return this._getViewportsAsArray().forEach(l=>{const{sx:c,sy:f,sWidth:u,sHeight:d}=l,g=l.canvas,{width:v,height:m}=g;g.getContext("2d").drawImage(o,c,f,u,d,0,0,v,m)}),s}}function rDe(t){const e=document.createElement("a");e.download="viewport.png",e.href=t,document.body.appendChild(e),e.click(),document.body.removeChild(e)}var hs;(function(t){t[t.None=0]="None",t[t.Capture=1]="Capture",t[t.Bubble=2]="Bubble"})(hs||(hs={}));class my{constructor(e){this._eventListeners=new Map,this._children=new Map,this._target=e}get isEmpty(){return this._eventListeners.size===0&&this._children.size===0}addEventListener(e,n,r){const a=e.indexOf(".");if(a!==-1){const o=e.substring(0,a);let s=this._children.get(o);s||(s=new my(this._target),this._children.set(o,s)),e=e.substring(a+1),s.addEventListener(e,n,r)}else this._addEventListener(e,n,r)}removeEventListener(e,n,r){const a=e.indexOf(".");if(a!==-1){const o=e.substring(0,a),s=this._children.get(o);if(!s)return;e=e.substring(a+1),s.removeEventListener(e,n,r),s.isEmpty&&this._children.delete(o)}else this._removeEventListener(e,n,r)}reset(){Array.from(this._children.entries()).forEach(([e,n])=>{if(n.reset(),n.isEmpty)this._children.delete(e);else throw new Error("Child is not empty and cannot be removed")}),this._unregisterAllEvents()}_addEventListener(e,n,r){let a=this._eventListeners.get(e);a||(a=new Map,this._eventListeners.set(e,a));const o=(r==null?void 0:r.capture)??!1?hs.Capture:hs.Bubble,s=a.get(n)??hs.None;if(s&o){console.warn("A listener is already registered for this phase");return}a.set(n,s|o),this._target.addEventListener(e,n,r)}_removeEventListener(e,n,r){const i=(r==null?void 0:r.capture)??!1?hs.Capture:hs.Bubble,o=this._eventListeners.get(e);if(!o)return;(n?[n]:Array.from(o.keys())).forEach(l=>{const c=o.get(l)??hs.None;if(!!!(c&i))return;this._target.removeEventListener(e,l,r);const u=c^i;u===hs.None?o.delete(l):o.set(l,u)}),o.size||this._eventListeners.delete(e)}_unregisterAllListeners(e,n){Array.from(n.entries()).forEach(([r,a])=>{const i=hs.Capture;for(let o=i;a;o<<=1){if(!(a&o))continue;const s=o===hs.Capture;this.removeEventListener(e,r,{capture:s}),a^=o}})}_unregisterAllEvents(){Array.from(this._eventListeners.entries()).forEach(([e,n])=>{this._unregisterAllListeners(e,n)})}}class aDe{constructor(){this._targetsEventListeners=new Map}addEventListener(e,n,r,a){let i=this._targetsEventListeners.get(e);i||(i=new my(e),this._targetsEventListeners.set(e,i)),i.addEventListener(n,r,a)}removeEventListener(e,n,r,a){const i=this._targetsEventListeners.get(e);i&&(i.removeEventListener(n,r,a),i.isEmpty&&this._targetsEventListeners.delete(e))}reset(){Array.from(this._targetsEventListeners.entries()).forEach(([e,n])=>{n.reset(),this._targetsEventListeners.delete(e)})}}const iDe=Object.freeze(Object.defineProperty({__proto__:null,MultiTargetEventListenerManager:aDe,TargetEventListeners:my},Symbol.toStringTag,{value:"Module"}));function oDe(t,e){const n=t.getSize();for(let r=0;r<n;r++){const a=[];t.getNodeValue(r,a),a[1]=a[1]*e,a[2]=a[2]*e,a[3]=a[3]*e,t.setNodeValue(r,a)}}function sDe(t){let e=t[0],n=t[0],r;const a=t.length;for(let i=1;i<a;i++)r=t[i],e=Math.min(e,r),n=Math.max(n,r);return{min:e,max:n}}const lDe=Symbol("LastRuntimeId"),cDe={},uDe=4294967295,fDe="-";function tH(t,e,n){return dDe(t!==null&&typeof t=="object"?t:cDe,lDe,(typeof n=="number"&&n>0?n:uDe)>>>0).join(typeof e=="string"?e:fDe)}function dDe(t,e,n){let r=t[e];r instanceof Array||(r=[0],Object.defineProperty(t,e,{value:r}));for(let a=!0,i=0;a&&i<r.length;++i){let o=r[i]|0;o<n?(a=!1,o=o+1):(o=0,i+1===r.length&&r.push(0)),r[i]=o}return r}const AM={},gDe={add:(t,e)=>{const n=Ai(t);AM[n]=e},get:(t,e)=>{if(t==="calibratedPixelSpacing"){const n=Ai(e);return AM[n]}}};function mDe(t,e,n=1e-5){return Math.abs(t[0]+e[0])<n&&Math.abs(t[1]+e[1])<n&&Math.abs(t[2]+e[2])<n}function vDe(t,e){return!(t[0]<0||t[0]>=e[0]||t[1]<0||t[1]>=e[1]||t[2]<0||t[2]>=e[2])}function pDe(t,e){let n;e?n=[Of(e)]:n=p0();const r=[];return n.forEach(a=>{const i=t.getActors(),o=a.getVolumeViewports();for(const s of o){const l=s.getActors();if(l.length!==i.length)continue;i.every(({uid:f})=>l.find(u=>f===u.uid))&&r.push(s)}}),r}const nH=t=>t.preScale.scaled&&t.preScale.scalingParameters.suvbw;function rH(t,e,n=void 0,r="_thumbnails",a={displayArea:{imageArea:[1,1]}}){if(!t||!(t instanceof HTMLCanvasElement))throw new Error("canvas element is required");const i=!e.imageId,o=!i&&e,s=i&&e,c=`renderGPUViewport-${o.imageId||s.volumeId}`,f=document.createElement("div"),u=window.devicePixelRatio||1;a.displayArea||(a.displayArea={imageArea:[1,1]});const d=t.width,g=t.height;f.style.width=`${d/u+OM}px`,f.style.height=`${g/u+OM}px`,f.style.visibility="hidden",f.style.position="absolute",document.body.appendChild(f);const v=c.split(":").join("-");f.setAttribute("viewport-id-for-remove",v);const m=N0(f),p=Of(r)||new eH(r);let h=p.getViewport(c);if(!h){const y={viewportId:c,type:i?ya.ORTHOGRAPHIC:ya.STACK,element:f,defaultOptions:{...a,suppressEvents:!0}};p.enableElement(y),h=p.getViewport(c)}return new Promise(y=>{let C=!1,{viewReference:x}=a;const T=w=>{if(C)return;if(x){const I=x;x=null,h.setViewReference(I),h.render();return}t.getContext("2d").drawImage(m,0,0,m.width,m.height,0,0,t.width,t.height);const E=h.canvasToWorld([0,0]),O=h.canvasToWorld([m.width/u,0]),D=h.canvasToWorld([0,m.height/u]),R=1;C=!0,f.removeEventListener(It.IMAGE_RENDERED,T),setTimeout(()=>{p.disableElement(c),document.querySelectorAll(`[viewport-id-for-remove="${v}"]`).forEach(M=>{M.remove()})},0),y({origin:E,bottomLeft:D,topRight:O,thicknessMm:R})};f.addEventListener(It.IMAGE_RENDERED,T),i?h.setVolumes([s],!1,!0):h.renderImageObject(e),h.resetCamera(),n==="PT"&&!nH(o)&&h.setProperties({voiRange:{lower:o.minPixelValue,upper:o.maxPixelValue}}),h.render()})}function aH(t,e,n,r,a){if(e.volumeId)throw new Error("Unsupported volume rendering for CPU");const o=e,s=Qj(t,o,n),l={canvas:t,viewport:s,image:o,renderingTools:{}};l.transform=Hv(l);const c=!0;return new Promise((f,u)=>{Hj(l,c),f(null)})}function hDe(t){const{canvas:e,imageId:n,viewReference:r,requestType:a=Vn.Thumbnail,priority:i=-5,renderingEngineId:o="_thumbnails",useCPURendering:s=!1,thumbnail:l=!1,imageAspect:c=!1,viewportOptions:f}=t,u=r==null?void 0:r.volumeId,d=u&&!n,g=r&&f?{...f,viewReference:r}:f,v=s?aH:rH;return new Promise((m,p)=>{function h(T,w){var D;const{modality:b}=tn("generalSeriesModule",w)||{},E=!d&&T,O=d&&T;E&&(E.isPreScaled=E.isPreScaled||((D=E.preScale)==null?void 0:D.scaled)),l&&(e.height=256,e.width=256),c&&E&&(e.width=E&&e.height*E.width/E.height),e.style.width=`${e.width/devicePixelRatio}px`,e.style.height=`${e.height/devicePixelRatio}px`,O&&s&&p(new Error("CPU rendering of volume not supported")),v(e,T,b,o,g).then(m)}function y(T,w){console.error(T,w),p(T)}function C(T,w,b){return _1(T,b).then(E=>{h.call(this,E,T)},E=>{y.call(this,E,T)})}const x={useRGBA:!!s,requestType:a};if(u){const T=Yt.getVolume(u);T||p(new Error(`Volume id ${u} not found in cache`));const w=T.imageIds[0];h(T,w)}else d0.addRequest(C.bind(null,n,null,x),a,{imageId:n},i)})}class iH{constructor(e="Tools",n=50){this.position=-1,this.redoAvailable=0,this.undoAvailable=0,this.ring=new Array,this.label=e,this._size=n}get size(){return this._size}set size(e){this.ring=new Array(e),this._size=e,this.position=-1,this.redoAvailable=0,this.undoAvailable=0}undo(e=1){for(;e>0&&this.undoAvailable>0;)this.ring[this.position].restoreMemo(!0),e--,this.redoAvailable++,this.undoAvailable--,this.position=(this.position-1+this.size)%this.size}redo(e=1){for(;e>0&&this.redoAvailable>0;){const n=(this.position+1)%this.size;this.ring[n].restoreMemo(!1),e--,this.position=n,this.undoAvailable++,this.redoAvailable--}}push(e){var r;if(!e)return;const n=e.restoreMemo?e:(r=e.createMemo)==null?void 0:r.call(e);if(n)return this.redoAvailable=0,this.undoAvailable<this._size&&this.undoAvailable++,this.position=(this.position+1)%this._size,this.ring[this.position]=n,n}}const SDe=new iH,ub=Object.freeze(Object.defineProperty({__proto__:null,DefaultHistoryMemo:SDe,HistoryMemo:iH},Symbol.toStringTag,{value:"Module"}));function yDe(t,e){const n=tn("imagePlaneModule",t);if(!n)throw new Error(`No imagePlaneModule found for imageId: ${t}`);const{columnCosines:r,rowCosines:a,imagePositionPatient:i}=n;let{columnPixelSpacing:o,rowPixelSpacing:s}=n;o||(o=1),s||(s=1);const l=Xt();li(l,i,r,-o/2),li(l,l,a,-s/2);const c=Xt();Ca(c,e,l);const f=Ln(c,a),u=Ln(c,r);return[f/s,u/o]}function CDe(t,e){const n=tn("imagePlaneModule",t);if(!n)throw new Error(`No imagePlaneModule found for imageId: ${t}`);const{columnCosines:r,rowCosines:a,imagePositionPatient:i}=n;let{columnPixelSpacing:o,rowPixelSpacing:s}=n;o||(o=1),s||(s=1);const l=Xt();return li(l,i,a,s*(e[0]-.5)),li(l,l,r,o*(e[1]-.5)),Array.from(l)}function mx(t){const e=p0(),n=[];return e.forEach(r=>{r.getViewports().forEach(i=>{i.hasImageURI(t)&&n.push(i)})}),n}function xDe(t,e){const n=TDe(t,e);return n?n.index:null}function TDe(t,e){const n=e.getImageIds(),r=e.getCurrentImageIdIndex();if(n.length===0)return null;const a=l=>{const c=wDe(l);if(!c)return null;const f=_j(c.planeNormal,c.imagePositionPatient);return Nj(f,t)},i={distance:a(n[r])??1/0,index:r},o=n.slice(r+1);for(let l=0;l<o.length;l++){const c=o[l],f=a(c);if(f!==null)if(f<=i.distance)i.distance=f,i.index=l+r+1;else break}const s=n.slice(0,r);for(let l=s.length-1;l>=0;l--){const c=s[l],f=a(c);if(!(f===null||f===i.distance))if(f<i.distance)i.distance=f,i.index=l;else break}return i.distance===1/0?null:i}function wDe(t){const e=tn("imagePlaneModule",t);if(!e||!(e.rowCosines instanceof Array&&e.rowCosines.length===3)||!(e.columnCosines instanceof Array&&e.columnCosines.length===3)||!(e.imagePositionPatient instanceof Array&&e.imagePositionPatient.length===3))return null;const{rowCosines:n,columnCosines:r,imagePositionPatient:a}=e,i=xr(Xt(),...n),o=xr(Xt(),...r),s=ia(Xt(),i,o);return{rowCosines:n,columnCosines:r,imagePositionPatient:a,planeNormal:s}}function bDe(t){const{width:e,height:n}=t.getCanvas(),{sliceToIndexMatrix:r,indexToSliceMatrix:a}=t.getSliceViewInfo(),i=tc(t,[0,0]),o=tc(t,[e-1,0]),s=tc(t,[0,n-1]),l=Ca(Xt(),o,i),c=Ca(Xt(),s,i),f=ia(Xt(),l,c);Na(l,l),Na(c,c),Na(f,f);const u=Math.max(Math.abs(l[0]),Math.abs(l[1]),Math.abs(l[2])),d=Math.max(Math.abs(c[0]),Math.abs(c[1]),Math.abs(c[2]));if(!Uv(1,u)||!Uv(1,d))throw new Error("Livewire is not available for rotate/oblique viewports");const{voxelManager:g}=t.getImageData(),v=t.getSliceViewInfo(),m=g.getSliceData(v);return{width:v.width,height:v.height,scalarData:m,sliceToIndexMatrix:r,indexToSliceMatrix:a}}const mu={},D3={add:(t,e)=>{const[n,r]=t,a=`${n}_${r}`;mu[a]||(mu[a]={}),mu[a]=e},get:(t,e,n)=>{if(t!=="spatialRegistrationModule")return;const r=`${e}_${n}`;if(mu[r])return mu[r];const a=`${n}_${e}`;if(mu[a])return qa(kc(),mu[a])}};ug(D3.get.bind(D3));const EDe=.05;function DDe(t,e){const n=t.getSliceIndex(),r=e.getSliceIndex(),a=tn("imagePlaneModule",n.toString()),i=tn("imagePlaneModule",r.toString());if(!a||!i){console.log("Viewport spatial registration requires image plane module");return}const{imageOrientationPatient:o}=i;if(!a.imageOrientationPatient.every((d,g)=>Math.abs(d-o[g])<EDe)){console.log("Viewport spatial registration only supported for same orientation (hence translation only) for now",a==null?void 0:a.imageOrientationPatient,i==null?void 0:i.imageOrientationPatient);return}const l=a.imagePositionPatient,c=i.imagePositionPatient,f=Ga(Xt(),l,c),u=Z5(kc(),f);D3.add([t.id,e.id],u)}function ODe(t){const{imageData:e,dimensions:n}=t.getImageData()||{};if(!e||!n)return[];const{canvas:r}=t,a=window.devicePixelRatio,i=[0,0],o=[r.width/a,0],s=[r.width/a,r.height/a],l=[0,r.height/a],c=t.canvasToWorld(i),f=t.canvasToWorld(o),u=t.canvasToWorld(s),d=t.canvasToWorld(l),g=e.worldToIndex(c),v=e.worldToIndex(f),m=e.worldToIndex(u),p=e.worldToIndex(d);return RDe({dimensions:n,imageData:e,topLeftImage:g,topRightImage:v,bottomRightImage:m,bottomLeftImage:p,topLeftWorld:c,topRightWorld:f,bottomRightWorld:u,bottomLeftWorld:d})}function RDe({dimensions:t,imageData:e,topLeftImage:n,topRightImage:r,bottomRightImage:a,bottomLeftImage:i,topLeftWorld:o,topRightWorld:s,bottomRightWorld:l,bottomLeftWorld:c}){const f=zh(n,t)?o:e.indexToWorld([0,0,0]),u=zh(r,t)?s:e.indexToWorld([t[0]-1,0,0]),d=zh(a,t)?l:e.indexToWorld([t[0]-1,t[1]-1,0]),g=zh(i,t)?c:e.indexToWorld([0,t[1]-1,0]);return[f,u,g,d]}function zh(t,e){return t[0]>0||t[0]<e[0]-1||t[1]>0||t[1]<e[1]-1||t[2]>0||t[2]<e[2]-1}function yn(t){if(!t)return;const{viewportUid:e,renderingEngineUid:n}=t.dataset;return mg(e,n)}function mg(t,e){if(!e||!t)return;const n=Of(e);if(!n||n.hasBeenDestroyed)return;const r=n.getViewport(t);if(!r)return;const a=r.getFrameOfReferenceUID();return{viewport:r,renderingEngine:n,viewportId:t,renderingEngineId:e,FrameOfReferenceUID:a}}function pi(t){const e=p0();for(let n=0;n<e.length;n++){const r=e[n];if(r.getViewport(t))return mg(t,r.id)}}function IDe(){const t=[];return p0().forEach(n=>{n.getViewports().forEach(({element:a})=>{t.push(yn(a))})}),t}function ADe(t){const e=yn(t);if(!e)return;const{viewport:n}=e;if(!(n instanceof rs))throw new Error(`An image can only be fetched for a stack viewport and not for a viewport of type: ${n.type}`);return n.getCornerstoneImage()}function MDe(t){const e=t[0],{modality:n,seriesInstanceUID:r}=tn("generalSeriesModule",e),{imageOrientationPatient:a,pixelSpacing:i,frameOfReferenceUID:o,columns:s,rows:l}=tn("imagePlaneModule",e),c={modality:n,imageOrientationPatient:a,pixelSpacing:i,frameOfReferenceUID:o,columns:s,rows:l,seriesInstanceUID:r};return t.every(u=>{const{modality:d,seriesInstanceUID:g}=tn("generalSeriesModule",u),{imageOrientationPatient:v,pixelSpacing:m,columns:p,rows:h}=tn("imagePlaneModule",u);return g===c.seriesInstanceUID&&d===c.modality&&p===c.columns&&h===c.rows&&Da(v,c.imageOrientationPatient)&&Da(m,c.pixelSpacing)})}const PDe=new Set(["1.2.840.10008.1.2.4.100","1.2.840.10008.1.2.4.100.1","1.2.840.10008.1.2.4.101","1.2.840.10008.1.2.4.101.1","1.2.840.10008.1.2.4.102","1.2.840.10008.1.2.4.102.1","1.2.840.10008.1.2.4.103","1.2.840.10008.1.2.4.103.1","1.2.840.10008.1.2.4.104","1.2.840.10008.1.2.4.104.1","1.2.840.10008.1.2.4.105","1.2.840.10008.1.2.4.105.1","1.2.840.10008.1.2.4.106","1.2.840.10008.1.2.4.106.1","1.2.840.10008.1.2.4.107","1.2.840.10008.1.2.4.108"]);function oH(t){return t?(Array.isArray(t)?t:[t]).find(n=>PDe.has(n)):!1}async function LDe({viewport:t,options:e={}}){const n=t.getRenderingEngine();let r=e.volumeId||`${Li()}`;r.split(":").length===0&&(r=`${hbe()}:${r}`);const{id:a,element:i}=t,o=e.viewportId||a,s=t.getImageIds(),l=t.getViewPresentation(),c=t.getViewReference();n.enableElement({viewportId:o,type:ya.ORTHOGRAPHIC,element:i,defaultOptions:{background:e.background,orientation:e.orientation}}),(await Pj(r,{imageIds:s})).load();const u=n.getViewport(o);await QEe(n,[{volumeId:r}],[o]);const d=()=>{u.render(),i.removeEventListener(It.VOLUME_VIEWPORT_NEW_VOLUME,d)};return(()=>{i.addEventListener(It.VOLUME_VIEWPORT_NEW_VOLUME,d)})(),u.setViewPresentation(l),u.setViewReference(c),u.render(),u}async function _De({viewport:t,options:e}){const n=t,{id:r,element:a}=n,i=t.getRenderingEngine(),{background:o}=e,s=e.viewportId||r,l=Yt.getVolume(n.getVolumeId());if(!(l instanceof uy))throw new Error("Currently, you cannot decache a volume that is not an ImageVolume. So, unfortunately, volumes such as nifti  (which are basic Volume, without imageIds) cannot be decached.");const c={viewportId:s,type:ya.STACK,element:a,defaultOptions:{background:o}},f=n.getViewReference();i.enableElement(c);const u=i.getViewport(s);return await u.setStack(l.imageIds),u.setViewReference(f),u.render(),u}function Xl(t,e=2){if(Array.isArray(t))return t.map(a=>Xl(a,e)).join(", ");if(t==null||t==="")return"NaN";t=Number(t);const n=Math.abs(t);if(n<1e-4)return`${t}`;const r=n>=100?e-2:n>=10?e-1:n>=1?e:n>=.1?e+1:n>=.01?e+2:n>=.001?e+3:e+4;return t.toFixed(r)}function NDe(t){return Math.round(t/l0)*l0}function FDe(t,e,n){const r=t.length===e*n*4,a=t.length===e*n*3;if(r||a){const i=new Float32Array(e*n);let o=0,s=0;const l=r?4:3;for(let c=0;c<e;c++)for(let f=0;f<n;f++){const u=t[o],d=t[o+1],g=t[o+2];i[s]=(u+d+g)/3,o+=l,s++}return i}else return t}function $De(t){if(t instanceof go)return Yt.getVolume(t.getVolumeId()).imageIds;if(t.getImageIds)return t.getImageIds()}function sH(t,e){const n=[...t];return e>=n.length?(MM(n),n):(MM(n),n.slice(0,e))}function MM(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}function _8(t){const e=t.toString(16);return e.length==1?"0"+e:e}function VDe(t,e,n){return"#"+_8(t)+_8(e)+_8(n)}function kDe(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}const UDe=Object.freeze(Object.defineProperty({__proto__:null,hexToRgb:kDe,rgbToHex:VDe},Symbol.toStringTag,{value:"Module"}));function lH(t,e){if(t===e)return!0;if(t==null||e==null)return!1;try{return JSON.stringify(t)===JSON.stringify(e)}catch(n){return console.debug("Error in JSON.stringify during deep comparison:",n),t===e}}function BDe(t,e,n){if(!n)throw new Error("getVolume is required, use the utilities export instead ");if(t.modality)return t.modality;if(t.setVolumes)return e=e??t.getVolumeId(),!e||!n?void 0:n(e).metadata.Modality;throw new Error("Invalid viewport type")}const GDe=(t,e)=>t.reduce((n,r)=>((n[r[e]]=n[r[e]]||[]).push(r),n),{});function zDe(t){const e=t.map(o=>{const{imagePositionPatient:s}=tn("imagePlaneModule",o)||{};return{imageId:o,imagePositionPatient:s}});if(!e.every(o=>o.imagePositionPatient))return null;const n=GDe(e,"imagePositionPatient"),r=Object.keys(n),a=n[r[0]].length;return a===1||!r.every(o=>n[o].length===a)?null:n}function WDe(t,e){const n={};let r=[];const a=Object.keys(t);for(let i=0;i<a.length;i++){const o=new Set,s=t[a[i]];for(let l=0;l<s.length;l++){const c=e(s[l].imageId)||0;if(n[c]=n[c]||[],n[c].push({imageId:s[l].imageId}),o.add(c),o.size-1<l)return}if(i==0)r=Array.from(o);else if(!KDe(r,o))return}return n}function Wg(t,e){const n=tn(e,t);try{return parseFloat(n)}catch{return}}function jDe(t){const e=tn("20011003",t);try{const{InlineBinary:n}=e;if(n){const r=atob(n),a=new ArrayBuffer(r.length),i=new DataView(a);for(let o=0;o<r.length;o++)i.setUint8(o,r.charCodeAt(o));return new Float32Array(a)[0]}return parseFloat(e)}catch{return}}function HDe(t){let e=tn("0019100c",t)||tn("0019100C",t);try{const{InlineBinary:n}=e;return n&&(e=atob(n)),parseFloat(e)}catch{return}}function qDe(t){let e=tn("00431039",t);try{const{InlineBinary:n}=e;return n&&(e=atob(n).split("//")),parseFloat(e[0])%1e5}catch{return}}function KDe(t,e){if(t.length!=e.size)return!1;for(let n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}function QDe(t){const e=tn("petImageModule",t);return e?e.frameReferenceTime:0}function cH(t){const e=zDe(t);if(!e)return{imageIdGroups:[t],splittingTag:null};const n=["TemporalPositionIdentifier","DiffusionBValue","TriggerTime","EchoTime","EchoNumber","PhilipsPrivateBValue","SiemensPrivateBValue","GEPrivateBValue","PetFrameReferenceTime"],r=[a=>Wg(a,n[0]),a=>Wg(a,n[1]),a=>Wg(a,n[2]),a=>Wg(a,n[3]),a=>Wg(a,n[4]),jDe,HDe,qDe,QDe];for(let a=0;a<r.length;a++){const i=WDe(e,r[a]);if(i)return{imageIdGroups:Object.keys(i).map(Number.parseFloat).sort((l,c)=>l-c).map(l=>i[l].map(c=>c.imageId)),splittingTag:n[a]}}return{imageIdGroups:[t],splittingTag:null}}function XDe(t){const{imageIdGroups:e,splittingTag:n}=cH(t);return{isDynamicVolume:e.length>1,timePoints:e,splittingTag:n}}function YDe(t,e){const n=t.length,{rescaleSlope:r,rescaleIntercept:a,suvbw:i}=e;if(e.modality==="PT"&&typeof i=="number")for(let o=0;o<n;o++)t[o]=i*(t[o]*r+a);else for(let o=0;o<n;o++)t[o]=t[o]*r+a;return t}function uH(t,e,n){return Math.min(Math.max(e,t),n)}function O3(t,e){if(!yn(t.element))throw new Error("Scroll::Viewport is not enabled (it might be disabled)");if(t instanceof rs&&t.getImageIds().length===0)throw new Error("Scroll::Stack Viewport has no images");const{volumeId:r,delta:a,scrollSlabs:i}=e;if(t instanceof go)ZDe(t,r,a,i);else{const o=t.getCurrentImageIdIndex();if(o+a>t.getImageIds().length-1||o+a<0){const s={imageIdIndex:o,direction:a};_t(Vt,It.STACK_SCROLL_OUT_OF_BOUNDS,s)}t.scroll(a,e.debounceLoading,e.loop)}}function ZDe(t,e,n,r=!1){const a=r,{numScrollSteps:i,currentStepIndex:o,sliceRangeInfo:s}=Qd(t,e,a);if(!s)return;const{sliceRange:l,spacingInNormalDirection:c,camera:f}=s,{focalPoint:u,viewPlaneNormal:d,position:g}=f,{newFocalPoint:v,newPosition:m}=qd(u,g,l,d,c,n);t.setCamera({focalPoint:v,position:m}),t.render();const p=o+n,h={volumeId:e,viewport:t,delta:n,desiredStepIndex:p,currentStepIndex:o,numScrollSteps:i,currentImageId:t.getCurrentImageId()};(p>i||p<0)&&t.getCurrentImageId()?_t(Vt,It.VOLUME_VIEWPORT_SCROLL_OUT_OF_BOUNDS,h):_t(Vt,It.VOLUME_VIEWPORT_SCROLL,h)}async function JDe(t,e={}){const{imageIndex:n,debounceLoading:r,volumeId:a}=e,i=yn(t);if(!i)throw new Error("Element has been disabled");const{viewport:o}=i,{imageIndex:s,numberOfSlices:l}=eOe(o,r),f=tOe(l,n)-s;O3(o,{delta:f,debounceLoading:r,volumeId:a})}function eOe(t,e){return t instanceof rs?{numberOfSlices:t.getImageIds().length,imageIndex:e?t.getTargetImageIdIndex():t.getCurrentImageIdIndex()}:{numberOfSlices:t.getNumberOfSlices(),imageIndex:t.getSliceIndex()}}function tOe(t,e){const n=t-1;return uH(e,0,n)}function nOe(t,e,n={}){const r=Yt.getVolume(t);if(!r)throw new Error(`Referenced volume with id ${t} does not exist.`);const{metadata:a,spacing:i,direction:o,dimensions:s}=r,{minX:l,maxX:c,minY:f,maxY:u,minZ:d,maxZ:g}=e,v=[Math.min(l,c),Math.min(f,u),Math.min(d,g)],m=b3(r.imageData,v),p=[Math.abs(c-l)+1,Math.abs(u-f)+1,Math.abs(g-d)+1],{targetBuffer:h}=n,y={metadata:a,dimensions:p,spacing:i,origin:m,direction:o,targetBuffer:h,scalarData:(h==null?void 0:h.type)==="Float32Array"?new Float32Array(p[0]*p[1]*p[2]):void 0},C=vbe(Li(),y),x=C.voxelManager.getCompleteScalarDataArray(),T=p[0]*p[1],w=s[0]*s[1],b=r.voxelManager.getCompleteScalarDataArray();for(let E=0;E<p[2];E++)for(let O=0;O<p[1];O++){const D=b3(C.imageData,[0,O,E]),R=V0(r.imageData,D),I=R[2]*w+R[1]*s[0]+R[0],M=b.slice(I,I+p[0]),A=E*T+O*p[0];x.set(M,A)}return C.voxelManager.setCompleteScalarDataArray(x),C}function rOe(t,e){const{viewUp:n,viewPlaneNormal:r}=e,a=U2(t,[0,0,0]),i=K0(Xt(),n),o=K0(Xt(),r),s=ia(Xt(),i,o),l=Ca(Xt(),U2(t,i),a),c=Ca(Xt(),U2(t,o),a);Na(l,l),Na(c,c);const f=ia(Xt(),l,c);return{worldVecRowDir:s,worldVecColDir:i,worldVecSliceDir:o,ijkVecRowDir:f,ijkVecColDir:l,ijkVecSliceDir:c}}const aOe=(t,e)=>BDe(t,e,Yt.getVolume),gl=Object.freeze(Object.defineProperty({__proto__:null,FrameRange:Xd,HistoryMemo:ub,PointsManager:G2,ProgressiveIterator:x3,RLEVoxelMap:ec,VoxelManager:Gr,actorIsA:fo,applyPreset:Vj,autoLoad:ox,calculateSpacingBetweenImageIds:wj,calculateViewportsSpatialRegistration:DDe,calibratedPixelSpacingMetadataProvider:gDe,clamp:fx,clip:uH,color:UDe,colormap:s7e,convertStackToVolumeViewport:LDe,convertToGrayscale:FDe,convertVolumeToStackViewport:_De,createLinearRGBTransferFunction:zj,createSigmoidRGBTransferFunction:Jw,createSubVolume:nOe,decimate:Oj,deepClone:Es,deepEqual:lH,deepMerge:uo,eventListener:iDe,fnv1aHash:VW,generateVolumePropsFromImageIds:rb,genericMetadataProvider:fy,getBufferConfiguration:Kz,getClosestImageId:zv,getClosestStackImageIndexForPoint:xDe,getCurrentVolumeViewportSlice:bDe,getDynamicVolumeInfo:XDe,getImageLegacy:ADe,getImageSliceDataForVolumeViewport:w3,getMinMax:sDe,getRandomSampleFromArray:sH,getRuntimeId:tH,getScalingParameters:Ej,getSliceRange:sy,getSpacingInNormalDirection:Pp,getTargetVolumeAndSpacingInNormalDir:_p,getViewportImageCornersInWorld:ODe,getViewportImageIds:$De,getViewportModality:aOe,getViewportsWithImageURI:mx,getViewportsWithVolumeId:dy,getVoiFromSigmoidRGBTransferFunction:$j,getVolumeActorCorners:GW,getVolumeDirectionVectors:rOe,getVolumeId:dg,getVolumeSliceRangeInfo:Fj,getVolumeViewportScrollInfo:Qd,getVolumeViewportsContainingSameVolumes:pDe,hasFloatScalingParameters:nb,hasNaNValues:lx,imageIdToURI:Ai,imageRetrieveMetadataProvider:jv,imageToWorldCoords:CDe,indexWithinDimensions:vDe,invertRgbTransferFunction:Bm,isEqual:Da,isEqualAbs:i7e,isEqualNegative:qW,isImageActor:Js,isOpposite:mDe,isPTPrescaledWithSUV:nH,isValidVolume:MDe,isVideoTransferSyntax:oH,jumpToSlice:JDe,loadImageToCanvas:hDe,makeVolumeMetadata:Tj,planar:Pbe,pointInShapeCallback:tb,renderToCanvasCPU:aH,renderToCanvasGPU:rH,roundNumber:Xl,roundToPrecision:NDe,scaleArray:YDe,scaleRgbTransferFunction:oDe,scroll:O3,snapFocalPointToSlice:qd,sortImageIdsAndGetSpacing:bj,spatialRegistrationMetadataProvider:D3,splitImageIdsBy4DTags:cH,transferFunctionUtils:c7e,transformIndexToWorld:b3,transformWorldToIndex:V0,transformWorldToIndexContinuous:U2,triggerEvent:_t,updateVTKImageDataWithCornerstoneImage:gy,uuidv4:Li,windowLevel:l7e,worldToImageCoords:yDe},Symbol.toStringTag,{value:"Module"})),Np=new zw("imageRetrievalPool");Np.setMaxSimultaneousRequests(Vn.Interaction,200);Np.setMaxSimultaneousRequests(Vn.Thumbnail,200);Np.setMaxSimultaneousRequests(Vn.Prefetch,200);Np.grabDelay=0;const PM=Symbol("DefaultSettings"),LM=Symbol("RuntimeSettings"),_M=Symbol("ObjectSettingsMap"),I0=Symbol("Dictionary");class qr{constructor(e){const n=Object.create(e instanceof qr&&I0 in e?e[I0]:null);Object.seal(Object.defineProperty(this,I0,{value:n}))}set(e,n){return R3(this[I0],e,n,null)}get(e){return sOe(this[I0],e)}unset(e){return iOe(this[I0],e+"")}forEach(e){NM(this[I0],e)}extend(){return new qr(this)}import(e){fH(e)&&Object.keys(e).forEach(n=>{R3(this[I0],n,e[n],null)})}dump(){const e={};return NM(this[I0],(n,r)=>{typeof r<"u"&&dH(e,n,r)}),e}static assert(e){return e instanceof qr?e:qr.getRuntimeSettings()}static getDefaultSettings(e=null){let n=qr[PM];if(n instanceof qr||(n=new qr,qr[PM]=n),e){const r={};return n.forEach(a=>{if(a.startsWith(e)){const i=a.split(`${e}.`)[1];r[i]=n.get(a)}}),r}return n}static getRuntimeSettings(){let e=qr[LM];return e instanceof qr||(e=new qr(qr.getDefaultSettings()),qr[LM]=e),e}static getObjectSettings(e,n){let r=null;if(e instanceof qr)r=e;else if(typeof e=="object"&&e!==null){let a=qr[_M];a instanceof WeakMap||(a=new WeakMap,qr[_M]=a),r=a.get(e),r instanceof qr||(r=new qr(qr.assert(qr.getObjectSettings(n))),a.set(e,r))}return r}static extendRuntimeSettings(){return qr.getRuntimeSettings().extend()}}function iOe(t,e){if(e.endsWith(".")){let n=0;const r=e,a=r.slice(0,-1),i=a.length===0;for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i||o.startsWith(r)||o===a)&&(delete t[o],++n);return n>0}return delete t[e]}function NM(t,e){for(const n in t)e(n,t[n])}function oOe(t,e,n,r){let a;if(r.has(n))return R3(t,e,null,r);r.add(n),a=0;for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=i.length===0?e:`${e}.${i}`;R3(t,o,n[i],r)||++a}return r.delete(n),a===0}function R3(t,e,n,r){return lOe(e)?fH(n)?oOe(t,e,n,r instanceof WeakSet?r:new WeakSet):(t[e]=n,!0):!1}function sOe(t,e){return t[e]}function lOe(t){let e,n,r;if(typeof t!="string"||(e=t.length-1)<0)return!1;for(r=-1;(n=t.indexOf(".",r+1))>=0;){if(n-r<2||n===e)return!1;r=n}return!0}function fH(t){if(typeof t=="object"&&t!==null){const e=Object.getPrototypeOf(t);if(e===Object.prototype||e===null)return!0}return!1}function dH(t,e,n){const r=e.indexOf(".");if(r>=0){const a=e.slice(0,r);let i=t[a];if(typeof i!="object"||i===null){const o=i;i={},typeof o<"u"&&(i[""]=o),t[a]=i}dH(i,e.slice(r+1,e.length),n)}else t[e]=n}qr.getDefaultSettings().set("useCursors",!0);function cOe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function uOe(t){if(!(i=t.length))return[];for(var e=-1,n=cOe(t,fOe),r=new Array(n);++e<n;)for(var a=-1,i,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r}function fOe(t){return t.length}function FM(){return uOe(arguments)}function dOe(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function N8(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,s=r<e-1?t[r+2]:2*i-a;return dOe((n-r/e)*e,o,a,i,s)}}function jg(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function gOe(t,e,n){if(t===void 0)throw new Error("decodeRGB: rgbBuffer must be defined");if(t.length%3!==0)throw new Error(`decodeRGB: rgbBuffer length ${t.length} must be divisible by 3`);const r=t.length/3;let a=0,i=0;if(n){for(let o=0;o<r;o++)e[i++]=t[a++],e[i++]=t[a++],e[i++]=t[a++],e[i++]=255;return}e.set(t)}function mOe(t,e,n){if(t===void 0)throw new Error("decodeRGB: rgbBuffer must be defined");if(t.length%3!==0)throw new Error(`decodeRGB: rgbBuffer length ${t.length} must be divisible by 3`);const r=t.length/3;let a=0,i=0,o=r,s=r*2;if(n)for(let l=0;l<r;l++)e[a++]=t[i++],e[a++]=t[o++],e[a++]=t[s++],e[a++]=255;else for(let l=0;l<r;l++)e[a++]=t[i++],e[a++]=t[o++],e[a++]=t[s++]}function vOe(t,e,n){if(t===void 0)throw new Error("convertYBRFullByPixel: ybrBuffer must be defined");if(t.length%3!==0)throw new Error(`convertYBRFullByPixel: ybrBuffer length ${t.length} must be divisible by 3`);const r=t.length/3;let a=0,i=0;if(n){for(let o=0;o<r;o++){const s=t[a++],l=t[a++],c=t[a++];e[i++]=s+1.402*(c-128),e[i++]=s-.34414*(l-128)-.71414*(c-128),e[i++]=s+1.772*(l-128),e[i++]=255}return}for(let o=0;o<r;o++){const s=t[a++],l=t[a++],c=t[a++];e[i++]=s+1.402*(c-128),e[i++]=s-.34414*(l-128)-.71414*(c-128),e[i++]=s+1.772*(l-128)}}function pOe(t,e,n){if(t===void 0)throw new Error("convertYBRFullByPlane: ybrBuffer must be defined");if(t.length%3!==0)throw new Error(`convertYBRFullByPlane: ybrBuffer length ${t.length} must be divisible by 3`);const r=t.length/3;let a=0,i=0,o=r,s=r*2;if(n){for(let l=0;l<r;l++){const c=t[i++],f=t[o++],u=t[s++];e[a++]=c+1.402*(u-128),e[a++]=c-.34414*(f-128)-.71414*(u-128),e[a++]=c+1.772*(f-128),e[a++]=255}return}for(let l=0;l<r;l++){const c=t[i++],f=t[o++],u=t[s++];e[a++]=c+1.402*(u-128),e[a++]=c-.34414*(f-128)-.71414*(u-128),e[a++]=c+1.772*(f-128)}}function hOe(t,e,n){if(t===void 0)throw new Error("convertYBRFull422ByPixel: ybrBuffer must be defined");if(t.length%2!==0)throw new Error(`convertYBRFull422ByPixel: ybrBuffer length ${t.length} must be divisible by 2`);const r=t.length/2;let a=0,i=0;if(n){for(let o=0;o<r;o+=2){const s=t[a++],l=t[a++],c=t[a++],f=t[a++];e[i++]=s+1.402*(f-128),e[i++]=s-.34414*(c-128)-.71414*(f-128),e[i++]=s+1.772*(c-128),e[i++]=255,e[i++]=l+1.402*(f-128),e[i++]=l-.34414*(c-128)-.71414*(f-128),e[i++]=l+1.772*(c-128),e[i++]=255}return}for(let o=0;o<r;o+=2){const s=t[a++],l=t[a++],c=t[a++],f=t[a++];e[i++]=s+1.402*(f-128),e[i++]=s-.34414*(c-128)-.71414*(f-128),e[i++]=s+1.772*(c-128),e[i++]=l+1.402*(f-128),e[i++]=l-.34414*(c-128)-.71414*(f-128),e[i++]=l+1.772*(c-128)}}function F8(t,e){const n=t.length,r=new Uint8ClampedArray(n);for(let a=0;a<n;++a)r[a]=t[a]>>e;return r}function $8(t,e,n){const r=t[`${e}PaletteColorLookupTableData`];if(r)return Promise.resolve(r);const a=tn("imagePixelModule",t.imageId);return a&&typeof a.then=="function"?a.then(i=>i?i[`${e}PaletteColorLookupTableData`]:n):Promise.resolve(a?a[`${e}PaletteColorLookupTableData`]:n)}function SOe(t,e,n){const r=t.columns*t.rows,a=t.pixelData;Promise.all([$8(t,"red",null),$8(t,"green",null),$8(t,"blue",null)]).then(([i,o,s])=>{if(!i||!o||!s)throw new Error("The image does not have a complete color palette. R, G, and B palette data are required.");const l=i.length;let c=0,f=0;const u=t.redPaletteColorLookupTableDescriptor[1],d=t.redPaletteColorLookupTableDescriptor[2]===8?0:8,g=F8(i,d),v=F8(o,d),m=F8(s,d);if(n){for(let p=0;p<r;++p){let h=a[c++];h<u?h=0:h>u+l-1?h=l-1:h-=u,e[f++]=g[h],e[f++]=v[h],e[f++]=m[h],e[f++]=255}return}for(let p=0;p<r;++p){let h=a[c++];h<u?h=0:h>u+l-1?h=l-1:h-=u,e[f++]=g[h],e[f++]=v[h],e[f++]=m[h]}})}function V8(t,e){if(!(!t.elements[e]||t.elements[e].length!==6))return[t.uint16(e,0),t.uint16(e,1),t.uint16(e,2)]}function k8(t,e,n){const r=[],a=t.elements[e];for(let i=0;i<n[0];i++)n[2]===16?r[i]=t.uint16(e,i):r[i]=t.byteArray[i+a.dataOffset];return r}function yOe(t,e){e.redPaletteColorLookupTableDescriptor=V8(t,"x00281101"),e.greenPaletteColorLookupTableDescriptor=V8(t,"x00281102"),e.bluePaletteColorLookupTableDescriptor=V8(t,"x00281103"),e.redPaletteColorLookupTableDescriptor[0]===0&&(e.redPaletteColorLookupTableDescriptor[0]=65536,e.greenPaletteColorLookupTableDescriptor[0]=65536,e.bluePaletteColorLookupTableDescriptor[0]=65536);const n=e.redPaletteColorLookupTableDescriptor[0],a=t.elements.x00281201.length===n?8:16;e.redPaletteColorLookupTableDescriptor[2]!==a&&(e.redPaletteColorLookupTableDescriptor[2]=a,e.greenPaletteColorLookupTableDescriptor[2]=a,e.bluePaletteColorLookupTableDescriptor[2]=a),e.redPaletteColorLookupTableData=k8(t,"x00281201",e.redPaletteColorLookupTableDescriptor),e.greenPaletteColorLookupTableData=k8(t,"x00281202",e.greenPaletteColorLookupTableDescriptor),e.bluePaletteColorLookupTableData=k8(t,"x00281203",e.bluePaletteColorLookupTableDescriptor)}function COe(t,e){t.uint16("x00280103")===0?(e.smallestPixelValue=t.uint16("x00280106"),e.largestPixelValue=t.uint16("x00280107")):(e.smallestPixelValue=t.int16("x00280106"),e.largestPixelValue=t.int16("x00280107"))}function xOe(t){const e={samplesPerPixel:t.uint16("x00280002"),photometricInterpretation:t.string("x00280004"),rows:t.uint16("x00280010"),columns:t.uint16("x00280011"),bitsAllocated:t.uint16("x00280100"),bitsStored:t.uint16("x00280101"),highBit:t.uint16("x00280102"),pixelRepresentation:t.uint16("x00280103"),planarConfiguration:t.uint16("x00280006"),pixelAspectRatio:t.string("x00280034")};return COe(t,e),e.photometricInterpretation==="PALETTE COLOR"&&t.elements.x00281101&&yOe(t,e),e}function TOe(t,e){let n=e.uint16("x00283002",0);n===0&&(n=65535);let r=0;t===0?r=e.uint16("x00283002",1):r=e.int16("x00283002",1);const a=e.uint16("x00283002",2),i={id:"1",firstValueMapped:r,numBitsPerEntry:a,lut:[]};for(let o=0;o<n;o++)t===0?i.lut[o]=e.uint16("x00283006",o):i.lut[o]=e.int16("x00283006",o);return i}function $M(t,e){if(!e||!e.items||!e.items.length)return;const n=[];for(let r=0;r<e.items.length;r++){const a=e.items[r].dataSet,i=TOe(t,a);i&&n.push(i)}return n}function wOe(t){const e=t.uint16("x00280103"),n=t.uint16("x00280101");return e===0?0:-1<<n-1}function bOe(t){const e=t.string("x00080016");if(e==="1.2.840.10008.5.1.4.1.1.2"||e==="1.2.840.10008.5.1.4.1.1.2.1")return 1;const n=t.floatString("x00281052"),r=t.floatString("x00281053");return n!==void 0&&r!==void 0?wOe(t)*r+n<0?1:0:t.elements.x00283000&&t.elements.x00283000.length>0?0:t.uint16("x00280103")}function g0(t,e,n){const r=[],a=t.string(e);if(!a)return;const i=a.split("\\");if(!(n&&i.length<n)){for(let o=0;o<i.length;o++)r.push(parseFloat(i[o]));return r}}var gH={exports:{}};/*! dicom-parser - 1.8.12 - 2023-02-20 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */(function(t,e){(function(n,r){t.exports=r(c0)})(hi,function(n){return a=[function(o,s){o.exports=n},function(o,s,l){l.r(s),l.d(s,"isStringVr",function(){return f}),l.d(s,"isPrivateTag",function(){return u}),l.d(s,"parsePN",function(){return d}),l.d(s,"parseTM",function(){return g}),l.d(s,"parseDA",function(){return m}),l.d(s,"explicitElementToString",function(){return p}),l.d(s,"explicitDataSetToJS",function(){return h}),l.d(s,"createJPEGBasicOffsetTable",function(){return x}),l.d(s,"parseDicomDataSetExplicit",function(){return H}),l.d(s,"parseDicomDataSetImplicit",function(){return K}),l.d(s,"readFixedString",function(){return E}),l.d(s,"alloc",function(){return te}),l.d(s,"version",function(){return se}),l.d(s,"bigEndianByteArrayParser",function(){return pe}),l.d(s,"ByteStream",function(){return _e}),l.d(s,"sharedCopy",function(){return ve}),l.d(s,"DataSet",function(){return R}),l.d(s,"findAndSetUNElementLength",function(){return b}),l.d(s,"findEndOfEncapsulatedElement",function(){return w}),l.d(s,"findItemDelimitationItemAndSetElementLength",function(){return I}),l.d(s,"littleEndianByteArrayParser",function(){return fe}),l.d(s,"parseDicom",function(){return we}),l.d(s,"readDicomElementExplicit",function(){return k}),l.d(s,"readDicomElementImplicit",function(){return A}),l.d(s,"readEncapsulatedImageFrame",function(){return Me}),l.d(s,"readEncapsulatedPixelData",function(){return Be}),l.d(s,"readEncapsulatedPixelDataFromFragments",function(){return Re}),l.d(s,"readPart10Header",function(){return ce}),l.d(s,"readSequenceItemsExplicit",function(){return P}),l.d(s,"readSequenceItemsImplicit",function(){return F}),l.d(s,"readSequenceItem",function(){return B}),l.d(s,"readTag",function(){return T});var c={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},f=function(z){return c[z]},u=function(z){if(z=parseInt(z[4],16),isNaN(z))throw"dicomParser.isPrivateTag: cannot parse last character of group";return z%2==1},d=function(z){if(z!==void 0)return z=z.split("^"),{familyName:z[0],givenName:z[1],middleName:z[2],prefix:z[3],suffix:z[4]}};function g(z,Y){if(2<=z.length){var ee=parseInt(z.substring(0,2),10),j=4<=z.length?parseInt(z.substring(2,4),10):void 0,oe=6<=z.length?parseInt(z.substring(4,6),10):void 0,be=8<=z.length?z.substring(7,13):void 0,be=be?parseInt(be,10)*Math.pow(10,6-be.length):void 0;if(Y&&(isNaN(ee)||j!==void 0&&isNaN(j)||oe!==void 0&&isNaN(oe)||be!==void 0&&isNaN(be)||ee<0||23<ee||j&&(j<0||59<j)||oe&&(oe<0||59<oe)||be&&(be<0||999999<be)))throw"invalid TM '".concat(z,"'");return{hours:ee,minutes:j,seconds:oe,fractionalSeconds:be}}if(Y)throw"invalid TM '".concat(z,"'")}function v(z,Y,ee){return!isNaN(ee)&&0<Y&&Y<=12&&0<z&&z<=function(j,oe){switch(j){case 2:return oe%4==0&&oe%100||oe%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(Y,ee)}function m(z,Y){if(z&&z.length===8){var ee=parseInt(z.substring(0,4),10),j=parseInt(z.substring(4,6),10),oe=parseInt(z.substring(6,8),10);if(Y&&v(oe,j,ee)!==!0)throw"invalid DA '".concat(z,"'");return{year:ee,month:j,day:oe}}if(Y)throw"invalid DA '".concat(z,"'")}function p(z,Y){if(z===void 0||Y===void 0)throw"dicomParser.explicitElementToString: missing required parameters";if(Y.vr===void 0)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var ee,j=Y.vr,oe=Y.tag;function be(ze,at){for(var gt="",St=0;St<ze;St++)St!==0&&(gt+="/"),gt+=at.call(z,oe,St).toString();return gt}if(f(j)===!0)ee=z.string(oe);else{if(j==="AT"){var Ue=z.uint32(oe);return Ue===void 0?void 0:"x".concat((Ue=Ue<0?4294967295+Ue+1:Ue).toString(16).toUpperCase())}j==="US"?ee=be(Y.length/2,z.uint16):j==="SS"?ee=be(Y.length/2,z.int16):j==="UL"?ee=be(Y.length/4,z.uint32):j==="SL"?ee=be(Y.length/4,z.int32):j==="FD"?ee=be(Y.length/8,z.double):j==="FL"&&(ee=be(Y.length/4,z.float))}return ee}function h(z,Y){if(z===void 0)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";Y=Y||{omitPrivateAttibutes:!0,maxElementLength:128};var ee,j={};for(ee in z.elements){var oe=z.elements[ee];if(Y.omitPrivateAttibutes!==!0||!u(ee))if(oe.items){for(var be=[],Ue=0;Ue<oe.items.length;Ue++)be.push(h(oe.items[Ue].dataSet,Y));j[ee]=be}else{var ze=void 0;oe.length<Y.maxElementLength&&(ze=p(z,oe)),j[ee]=ze!==void 0?ze:{dataOffset:oe.dataOffset,length:oe.length}}}return j}function y(z,Y){return z.byteArray[Y]===255&&z.byteArray[Y+1]===217}function C(z,Y,ee){for(var j,oe,be=ee;be<Y.fragments.length;be++)if(j=z,oe=be,oe=Y.fragments[oe],!(!y(j,oe.position+oe.length-2)&&!y(j,oe.position+oe.length-3)))return be}function x(z,Y,ee){if(z===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(Y===void 0)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if(Y.tag!=="x7fe00010")throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(Y.encapsulatedPixelData!==!0||Y.hadUndefinedLength!==!0||Y.basicOffsetTable===void 0||Y.fragments===void 0||Y.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(ee&&ee.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";ee=ee||Y.fragments;for(var j=[],oe=0;;){j.push(Y.fragments[oe].offset);var be=C(z,Y,oe);if(be===void 0||be===Y.fragments.length-1)return j;oe=be+1}}function T(ee){if(ee===void 0)throw"dicomParser.readTag: missing required parameter 'byteStream'";var Y=256*ee.readUint16()*256,ee=ee.readUint16();return"x".concat("00000000".concat((Y+ee).toString(16)).substr(-8))}function w(z,Y,ee){if(z===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(Y===void 0)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(Y.encapsulatedPixelData=!0,Y.basicOffsetTable=[],Y.fragments=[],T(z)!=="xfffee000")throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var j=z.readUint32()/4,oe=0;oe<j;oe++){var be=z.readUint32();Y.basicOffsetTable.push(be)}for(var Ue=z.position;z.position<z.byteArray.length;){var ze=T(z),at=z.readUint32();if(ze==="xfffee0dd")return z.seek(at),void(Y.length=z.position-Y.dataOffset);if(ze!=="xfffee000")return ee&&ee.push("unexpected tag ".concat(ze," while searching for end of pixel data element with undefined length")),at>z.byteArray.length-z.position&&(at=z.byteArray.length-z.position),Y.fragments.push({offset:z.position-Ue-8,position:z.position,length:at}),z.seek(at),void(Y.length=z.position-Y.dataOffset);Y.fragments.push({offset:z.position-Ue-8,position:z.position,length:at}),z.seek(at)}ee&&ee.push("pixel data element ".concat(Y.tag," missing sequence delimiter tag xfffee0dd"))}function b(z,Y){if(z===void 0)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var ee=z.byteArray.length-8;z.position<=ee;)if(z.readUint16()===65534){var j=z.readUint16();if(j===57565)return z.readUint32()!==0&&z.warnings("encountered non zero length following item delimiter at position ".concat(z.position-4," while reading element of undefined length with tag ").concat(Y.tag)),void(Y.length=z.position-Y.dataOffset)}Y.length=z.byteArray.length-Y.dataOffset,z.seek(z.byteArray.length-z.position)}function E(z,Y,ee){if(ee<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(Y+ee>z.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var j,oe="",be=0;be<ee;be++){if((j=z[Y+be])===0)return Y+=ee,oe;oe+=String.fromCharCode(j)}return oe}function O(z,Y){for(var ee=0;ee<Y.length;ee++){var j=Y[ee];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(z,j.key,j)}}function D(z,Y){return z.parser!==void 0?z.parser:Y}var R=function(){function z(j,oe,be){(function(Ue,ze){if(!(Ue instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,z),this.byteArrayParser=j,this.byteArray=oe,this.elements=be}var Y,ee;return Y=z,(ee=[{key:"uint16",value:function(j,oe){if(j=this.elements[j],oe=oe!==void 0?oe:0,j&&j.length!==0)return D(j,this.byteArrayParser).readUint16(this.byteArray,j.dataOffset+2*oe)}},{key:"int16",value:function(j,oe){if(j=this.elements[j],oe=oe!==void 0?oe:0,j&&j.length!==0)return D(j,this.byteArrayParser).readInt16(this.byteArray,j.dataOffset+2*oe)}},{key:"uint32",value:function(j,oe){if(j=this.elements[j],oe=oe!==void 0?oe:0,j&&j.length!==0)return D(j,this.byteArrayParser).readUint32(this.byteArray,j.dataOffset+4*oe)}},{key:"int32",value:function(j,oe){if(j=this.elements[j],oe=oe!==void 0?oe:0,j&&j.length!==0)return D(j,this.byteArrayParser).readInt32(this.byteArray,j.dataOffset+4*oe)}},{key:"float",value:function(j,oe){if(j=this.elements[j],oe=oe!==void 0?oe:0,j&&j.length!==0)return D(j,this.byteArrayParser).readFloat(this.byteArray,j.dataOffset+4*oe)}},{key:"double",value:function(j,oe){if(j=this.elements[j],oe=oe!==void 0?oe:0,j&&j.length!==0)return D(j,this.byteArrayParser).readDouble(this.byteArray,j.dataOffset+8*oe)}},{key:"numStringValues",value:function(j){if(j=this.elements[j],j&&0<j.length)return j=E(this.byteArray,j.dataOffset,j.length).match(/\\/g),j===null?1:j.length+1}},{key:"string",value:function(j,oe){if(j=this.elements[j],j&&j.Value)return j.Value;if(j&&0<j.length)return j=E(this.byteArray,j.dataOffset,j.length),0<=oe?j.split("\\")[oe].trim():j.trim()}},{key:"text",value:function(j,oe){if(j=this.elements[j],j&&0<j.length)return j=E(this.byteArray,j.dataOffset,j.length),0<=oe?j.split("\\")[oe].replace(/ +$/,""):j.replace(/ +$/,"")}},{key:"floatString",value:function(j,oe){var be=this.elements[j];if(be&&0<be.length&&(oe=this.string(j,oe=oe!==void 0?oe:0),oe!==void 0))return parseFloat(oe)}},{key:"intString",value:function(j,oe){var be=this.elements[j];if(be&&0<be.length&&(oe=this.string(j,oe=oe!==void 0?oe:0),oe!==void 0))return parseInt(oe)}},{key:"attributeTag",value:function(j){var oe=this.elements[j];if(oe&&oe.length===4){var be=D(oe,this.byteArrayParser).readUint16,j=this.byteArray,oe=oe.dataOffset;return"x".concat("00000000".concat((256*be(j,oe)*256+be(j,oe+2)).toString(16)).substr(-8))}}}])&&O(Y.prototype,ee),Object.defineProperty(Y,"prototype",{writable:!1}),z}();function I(z,Y){if(z===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var ee=z.byteArray.length-8;z.position<=ee;)if(z.readUint16()===65534){var j=z.readUint16();if(j===57357)return z.readUint32()!==0&&z.warnings("encountered non zero length following item delimiter at position ".concat(z.position-4," while reading element of undefined length with tag ").concat(Y.tag)),void(Y.length=z.position-Y.dataOffset)}Y.length=z.byteArray.length-Y.dataOffset,z.seek(z.byteArray.length-z.position)}var M=function(z,Y){return z.vr!==void 0?z.vr==="SQ":Y.position+4<=Y.byteArray.length?(z=T(Y),Y.seek(-4),z==="xfffee000"||z==="xfffee0dd"):(Y.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1)};function A(z,Y,ee){if(z===void 0)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var j=T(z),j={tag:j,vr:ee!==void 0?ee(j):void 0,length:z.readUint32(),dataOffset:z.position};return j.length===4294967295&&(j.hadUndefinedLength=!0),j.tag===Y||(!M(j,z)||u(j.tag)&&!j.hadUndefinedLength?j.hadUndefinedLength?I(z,j):z.seek(j.length):(F(z,j,ee),u(j.tag)&&(j.items=void 0))),j}function B(z){if(z===void 0)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var Y={tag:T(z),length:z.readUint32(),dataOffset:z.position};if(Y.tag!=="xfffee000")throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset ".concat(z.position);return Y}function L(z,Y){var ee=B(z);return ee.length===4294967295?(ee.hadUndefinedLength=!0,ee.dataSet=function(j,oe){for(var be={};j.position<j.byteArray.length;){var Ue=A(j,void 0,oe);if((be[Ue.tag]=Ue).tag==="xfffee00d")return new R(j.byteArrayParser,j.byteArray,be)}return j.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new R(j.byteArrayParser,j.byteArray,be)}(z,Y),ee.length=z.position-ee.dataOffset):(ee.dataSet=new R(z.byteArrayParser,z.byteArray,{}),K(ee.dataSet,z,z.position+ee.length,{vrCallback:Y})),ee}function F(z,Y,ee){if(z===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(Y===void 0)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";Y.items=[],(Y.length===4294967295?function(j,oe,be){for(;j.position+4<=j.byteArray.length;){var Ue=T(j);if(j.seek(-4),Ue==="xfffee0dd")return oe.length=j.position-oe.dataOffset,j.seek(8);Ue=L(j,be),oe.items.push(Ue)}j.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),oe.length=j.byteArray.length-oe.dataOffset}:function(j,oe,be){for(var Ue=oe.dataOffset+oe.length;j.position<Ue;){var ze=L(j,be);oe.items.push(ze)}})(z,Y,ee)}function _(z,Y){var ee=B(z);return ee.length===4294967295?(ee.hadUndefinedLength=!0,ee.dataSet=function(j,oe){for(var be={};j.position<j.byteArray.length;){var Ue=k(j,oe);if((be[Ue.tag]=Ue).tag==="xfffee00d")return new R(j.byteArrayParser,j.byteArray,be)}return oe.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new R(j.byteArrayParser,j.byteArray,be)}(z,Y),ee.length=z.position-ee.dataOffset):(ee.dataSet=new R(z.byteArrayParser,z.byteArray,{}),H(ee.dataSet,z,z.position+ee.length)),ee}function P(z,Y,ee){if(z===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(Y===void 0)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";Y.items=[],(Y.length===4294967295?function(j,oe,be){for(;j.position+4<=j.byteArray.length;){var Ue=T(j);if(j.seek(-4),Ue==="xfffee0dd")return oe.length=j.position-oe.dataOffset,j.seek(8);Ue=_(j,be),oe.items.push(Ue)}be.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),oe.length=j.position-oe.dataOffset}:function(j,oe,be){for(var Ue=oe.dataOffset+oe.length;j.position<Ue;){var ze=_(j,be);oe.items.push(ze)}})(z,Y,ee)}var N=function(z){return z==="OB"||z==="OD"||z==="OL"||z==="OW"||z==="SQ"||z==="OF"||z==="UC"||z==="UR"||z==="UT"||z==="UN"?4:2};function k(z,Y,ee){if(z===void 0)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var j={tag:T(z),vr:z.readFixedString(2)};return N(j.vr)===2?j.length=z.readUint16():(z.seek(2),j.length=z.readUint32()),j.dataOffset=z.position,j.length===4294967295&&(j.hadUndefinedLength=!0),j.tag===ee||(j.vr==="SQ"?P(z,j,Y):j.length===4294967295?j.tag==="x7fe00010"?w(z,j,Y):(j.vr==="UN"?F:I)(z,j):z.seek(j.length)),j}function H(z,Y,ee){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(ee=ee===void 0?Y.byteArray.length:ee,Y===void 0)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(ee<Y.position||ee>Y.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var oe=z.elements;Y.position<ee;){var be=k(Y,z.warnings,j.untilTag);if((oe[be.tag]=be).tag===j.untilTag)return}if(Y.position>ee)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}function K(z,Y,ee){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};if(ee=ee===void 0?z.byteArray.length:ee,Y===void 0)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(ee<Y.position||ee>Y.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var oe=z.elements;Y.position<ee;){var be=A(Y,j.untilTag,j.vrCallback);if((oe[be.tag]=be).tag===j.untilTag)return}}function te(z,Y){if(typeof Buffer<"u"&&z instanceof Buffer)return Buffer.alloc(Y);if(z instanceof Uint8Array)return new Uint8Array(Y);throw"dicomParser.alloc: unknown type for byteArray"}var se="1.8.12",pe={readUint16:function(z,Y){if(Y<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(Y+2>z.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(z[Y]<<8)+z[Y+1]},readInt16:function(z,Y){if(Y<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(Y+2>z.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";return Y=(z[Y]<<8)+z[Y+1],Y=32768&Y?Y-65535-1:Y},readUint32:function(z,Y){if(Y<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(Y+4>z.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*z[Y]+z[Y+1])+z[Y+2])+z[Y+3]},readInt32:function(z,Y){if(Y<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(Y+4>z.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(z[Y]<<24)+(z[Y+1]<<16)+(z[Y+2]<<8)+z[Y+3]},readFloat:function(z,Y){if(Y<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(Y+4>z.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var ee=new Uint8Array(4);return ee[3]=z[Y],ee[2]=z[Y+1],ee[1]=z[Y+2],ee[0]=z[Y+3],new Float32Array(ee.buffer)[0]},readDouble:function(z,Y){if(Y<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(Y+8>z.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var ee=new Uint8Array(8);return ee[7]=z[Y],ee[6]=z[Y+1],ee[5]=z[Y+2],ee[4]=z[Y+3],ee[3]=z[Y+4],ee[2]=z[Y+5],ee[1]=z[Y+6],ee[0]=z[Y+7],new Float64Array(ee.buffer)[0]}};function ve(z,Y,ee){if(typeof Buffer<"u"&&z instanceof Buffer)return z.slice(Y,Y+ee);if(z instanceof Uint8Array)return new Uint8Array(z.buffer,z.byteOffset+Y,ee);throw"dicomParser.from: unknown type for byteArray"}function Te(z,Y){for(var ee=0;ee<Y.length;ee++){var j=Y[ee];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(z,j.key,j)}}var _e=function(){function z(j,oe,be){if(function(Ue,ze){if(!(Ue instanceof ze))throw new TypeError("Cannot call a class as a function")}(this,z),j===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(oe===void 0)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(!(oe instanceof Uint8Array)&&(typeof Buffer>"u"||!(oe instanceof Buffer)))throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(be<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(be>=oe.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=j,this.byteArray=oe,this.position=be||0,this.warnings=[]}var Y,ee;return Y=z,(ee=[{key:"seek",value:function(j){if(this.position+j<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=j}},{key:"readByteStream",value:function(j){if(this.position+j>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var oe=ve(this.byteArray,this.position,j);return this.position+=j,new z(this.byteArrayParser,oe)}},{key:"getSize",value:function(){return this.byteArray.length}},{key:"readUint16",value:function(){var j=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,j}},{key:"readUint32",value:function(){var j=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,j}},{key:"readFixedString",value:function(j){var oe=E(this.byteArray,this.position,j);return this.position+=j,oe}}])&&Te(Y.prototype,ee),Object.defineProperty(Y,"prototype",{writable:!1}),z}(),fe={readUint16:function(z,Y){if(Y<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(Y+2>z.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return z[Y]+256*z[Y+1]},readInt16:function(z,Y){if(Y<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(Y+2>z.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";return Y=z[Y]+(z[Y+1]<<8),Y=32768&Y?Y-65535-1:Y},readUint32:function(z,Y){if(Y<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(Y+4>z.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return z[Y]+256*z[Y+1]+256*z[Y+2]*256+256*z[Y+3]*256*256},readInt32:function(z,Y){if(Y<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(Y+4>z.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return z[Y]+(z[Y+1]<<8)+(z[Y+2]<<16)+(z[Y+3]<<24)},readFloat:function(z,Y){if(Y<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(Y+4>z.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var ee=new Uint8Array(4);return ee[0]=z[Y],ee[1]=z[Y+1],ee[2]=z[Y+2],ee[3]=z[Y+3],new Float32Array(ee.buffer)[0]},readDouble:function(z,Y){if(Y<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(Y+8>z.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var ee=new Uint8Array(8);return ee[0]=z[Y],ee[1]=z[Y+1],ee[2]=z[Y+2],ee[3]=z[Y+3],ee[4]=z[Y+4],ee[5]=z[Y+5],ee[6]=z[Y+6],ee[7]=z[Y+7],new Float64Array(ee.buffer)[0]}};function ce(z){var Y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(z===void 0)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var ee=Y.TransferSyntaxUID,j=new _e(fe,z);return function(){var oe=function(){if(j.getSize()<=132&&ee)return!1;if(j.seek(128),j.readFixedString(4)==="DICM")return!0;if(!(Y||{}).TransferSyntaxUID)throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.";return j.seek(0),!1}(),be=[],Ue={};if(!oe)return j.position=0,{elements:{x00020010:{tag:"x00020010",vr:"UI",Value:ee}},warnings:be};for(;j.position<j.byteArray.length;){var ze=j.position,at=k(j,be);if("x0002ffff"<at.tag){j.position=ze;break}at.parser=fe,Ue[at.tag]=at}return(oe=new R(j.byteArrayParser,j.byteArray,Ue)).warnings=j.warnings,oe.position=j.position,oe}()}var Ee="1.2.840.10008.1.2.2";function we(z){var Y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(z===void 0)throw new Error("dicomParser.parseDicom: missing required parameter 'byteArray'");var ee,j=function(be){if(be.elements.x00020010===void 0)throw new Error("dicomParser.parseDicom: missing required meta header attribute 0002,0010");return be=be.elements.x00020010,be&&be.Value||E(z,be.dataOffset,be.length)};function oe(at){var ze=j(at),Ue=ze!=="1.2.840.10008.1.2",ze=function(gt,St){var ct=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";if(gt!=="1.2.840.10008.1.2.1.99")return new _e(gt===Ee?pe:fe,z,St);if(Y&&Y.inflater)return gt=Y.inflater(z,St),new _e(fe,gt,0);if(ct==!0){var et=l(0),Ne=ve(z,St,z.length-St),et=et.inflateRawSync(Ne),Ne=te(z,et.length+St);return z.copy(Ne,0,0,St),et.copy(Ne,St),new _e(fe,Ne,0)}if(typeof pako>"u")throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax";return et=z.slice(St),Ne=pako.inflateRaw(et),(et=te(z,Ne.length+St)).set(z.slice(0,St),0),et.set(Ne,St),new _e(fe,et,0)}(ze,at.position),at=new R(ze.byteArrayParser,ze.byteArray,{});at.warnings=ze.warnings;try{(Ue?H:K)(at,ze,ze.byteArray.length,Y)}catch(gt){throw{exception:gt,dataSet:at}}return at}return function(be,Ue){for(var ze in be.elements)be.elements.hasOwnProperty(ze)&&(Ue.elements[ze]=be.elements[ze]);return be.warnings!==void 0&&(Ue.warnings=be.warnings.concat(Ue.warnings)),Ue}(ee=ce(z,Y),oe(ee))}var he=function(z,Y,ee){for(var j=0,oe=Y;oe<Y+ee;oe++)j+=z[oe].length;return j};function Re(z,Ue,ee,j,oe){if(oe=oe||Ue.fragments,z===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(Ue===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(ee===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if((j=j||1)===void 0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if(Ue.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(Ue.encapsulatedPixelData!==!0||Ue.hadUndefinedLength!==!0||Ue.basicOffsetTable===void 0||Ue.fragments===void 0||Ue.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(ee<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(ee>=Ue.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(j<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(ee+j>Ue.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var be=new _e(z.byteArrayParser,z.byteArray,Ue.dataOffset),Ue=B(be);if(Ue.tag!=="xfffee000")throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";be.seek(Ue.length);var ze=be.position;if(j===1)return ve(be.byteArray,ze+oe[ee].offset+8,oe[ee].length);for(var Ue=he(oe,ee,j),at=te(be.byteArray,Ue),gt=0,St=ee;St<ee+j;St++)for(var ct=ze+oe[St].offset+8,et=0;et<oe[St].length;et++)at[gt++]=be.byteArray[ct++];return at}var Pe=function(z,Y){for(var ee=0;ee<z.length;ee++)if(z[ee].offset===Y)return ee},We=function(z,Y,ee,j){if(z===Y.length-1)return ee.length-j;for(var oe=Y[z+1],be=j+1;be<ee.length;be++)if(ee[be].offset===oe)return be-j;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"};function Me(z,Y,ee,j,oe){if(j=j||Y.basicOffsetTable,oe=oe||Y.fragments,z===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(Y===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(ee===void 0)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(j===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if(Y.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(Y.encapsulatedPixelData!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(Y.hadUndefinedLength!==!0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(Y.fragments===void 0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(j.length===0)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(ee<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(ee>=j.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var be=j[ee],be=Pe(oe,be);if(be===void 0)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";return Re(z,Y,be,We(ee,j,oe,be),oe)}var Je=!1;function Be(z,Y,ee){if(Je||(Je=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),z===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(Y===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(ee===void 0)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if(Y.tag!=="x7fe00010")throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(Y.encapsulatedPixelData!==!0||Y.hadUndefinedLength!==!0||Y.basicOffsetTable===void 0||Y.fragments===void 0)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(ee<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return Y.basicOffsetTable.length!==0?Me(z,Y,ee):Re(z,Y,0,Y.fragments.length)}s.default={isStringVr:f,isPrivateTag:u,parsePN:d,parseTM:g,parseDA:m,explicitElementToString:p,explicitDataSetToJS:h,createJPEGBasicOffsetTable:x,parseDicomDataSetExplicit:H,parseDicomDataSetImplicit:K,readFixedString:E,alloc:te,version:se,bigEndianByteArrayParser:pe,ByteStream:_e,sharedCopy:ve,DataSet:R,findAndSetUNElementLength:b,findEndOfEncapsulatedElement:w,findItemDelimitationItemAndSetElementLength:I,littleEndianByteArrayParser:fe,parseDicom:we,readDicomElementExplicit:k,readDicomElementImplicit:A,readEncapsulatedImageFrame:Me,readEncapsulatedPixelData:Be,readEncapsulatedPixelDataFromFragments:Re,readPart10Header:ce,readSequenceItemsExplicit:P,readSequenceItemsImplicit:F,readSequenceItem:B,readTag:T,LEI:"1.2.840.10008.1.2",LEE:"1.2.840.10008.1.2.1"}}],i={},r.m=a,r.c=i,r.d=function(o,s,l){r.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},r.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,s){if(1&s&&(o=r(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var c in o)r.d(l,c,(function(f){return o[f]}).bind(null,c));return l},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=1);function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return a[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var a,i})})(gH);var Sa=gH.exports;const EOe=No(Sa);function vy(t){const e=t.indexOf(":");let n=t.substring(e+1);const r=n.indexOf("frame=");let a;if(r!==-1){const s=n.substring(r+6);a=parseInt(s,10),n=n.substring(0,r-1)}const i=t.substring(0,e),o=a!==void 0?a-1:void 0;return{scheme:i,url:n,frame:a,pixelDataFrame:o}}let vx={open(t,e){t.open("get",e,!0)},beforeSend(){},beforeProcessing(t){return Promise.resolve(t.response)},imageCreated(){},strict:!1};function DOe(t){vx=Object.assign(vx,t)}function py(){return vx}function fb(t,e,n={},r={}){const a=py(),i=l=>{if(typeof a.errorInterceptor=="function"){const c=new Error("request failed");c.request=l,c.response=l.response,c.status=l.status,a.errorInterceptor(c)}},o=new XMLHttpRequest,s=new Promise((l,c)=>{a.open(o,t,n,r);const f=a.beforeSend(o,e,n,r);o.responseType="arraybuffer";const u=Object.assign({},n,f);Object.keys(u).forEach(function(d){u[d]!==null&&(d==="Accept"&&t.indexOf("accept=")!==-1||o.setRequestHeader(d,u[d]))}),r.deferred={resolve:l,reject:c},r.url=t,r.imageId=e,o.onloadstart=function(d){a.onloadstart&&a.onloadstart(d,r),_t(Vt,"cornerstoneimageloadstart",{url:t,imageId:e})},o.onloadend=function(d){a.onloadend&&a.onloadend(d,r),_t(Vt,"cornerstoneimageloadend",{url:t,imageId:e})},o.onreadystatechange=function(d){a.onreadystatechange&&a.onreadystatechange(d,r),o.readyState===4&&(o.status===200||o.status===206?a.beforeProcessing(o).then(l).catch(()=>{i(o),c(o)}):(i(o),c(o)))},o.onprogress=function(d){const g=d.loaded;let v,m;d.lengthComputable&&(v=d.total,m=Math.round(g/v*100)),_t(Vt,"cornerstoneimageloadprogress",{url:t,imageId:e,loaded:g,total:v,percentComplete:m}),a.onprogress&&a.onprogress(d,r)},o.onerror=function(){i(o),c(o)},o.onabort=function(){i(o),c(o)},o.send()});return s.xhr=o,s}function OOe(t,e,n){if(n+t.length>e.length)return!1;let r=n;for(let a=0;a<t.length;a++)if(t[a]!==e[r++])return!1;return!0}function ROe(t){const e=new Uint8Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e}function VM(t,e,n){n=n||0;const r=ROe(e);for(let a=n;a<t.length;a++)if(r[0]===t[a]&&OOe(r,t,a))return a;return-1}const{ImageQualityStatus:kM}=v0;function db(t,e,n){n||(n={});const r=new Uint8Array(e),a=!!(n!=null&&n.isPartial);if(t.indexOf("multipart")===-1)return{contentType:t,imageQualityStatus:a?kM.SUBRESOLUTION:kM.FULL_RESOLUTION,pixelData:r};let{tokenIndex:i,responseHeaders:o,boundary:s,multipartContentType:l}=n;if(i||(i=VM(r,`\r
\r
`)),i===-1)throw new Error("invalid response - no multipart mime header");if(!s&&(o=MOe(r,0,i).split(`\r
`),s=IOe(o),!s))throw new Error("invalid response - no boundary marker");const c=i+4,f=VM(r,s,c);if(f===-1&&!a)throw new Error("invalid response - terminating boundary not found");return l||(l=AOe(o)),n.tokenIndex=i,n.boundary=s,n.responseHeaders=o,n.multipartContentType=l,n.isPartial=f===-1,{contentType:l,extractDone:!a||f!==-1,tokenIndex:i,responseHeaders:o,boundary:s,multipartContentType:l,pixelData:e.slice(c,f-2)}}function IOe(t){for(let e=0;e<t.length;e++)if(t[e].substr(0,2)==="--")return t[e]}function AOe(t){for(let e=0;e<t.length;e++)if(t[e].substr(0,13)==="Content-Type:")return t[e].substr(13).trim()}function MOe(t,e,n){e=e||0,n=n||t.length-e;let r="";for(let a=e;a<e+n;a++)r+=String.fromCharCode(t[a]);return r}const{ImageQualityStatus:UM}=v0;function gb(t,e=!0){return e?t.imageQualityStatus??UM.FULL_RESOLUTION:UM.SUBRESOLUTION}const{ProgressiveIterator:POe}=gl;function LOe(t,e,n={},r={}){const a=py(),{retrieveOptions:i={},streamingData:o={}}=r,s=i.minChunkSize||128*1024,l=f=>{if(typeof a.errorInterceptor=="function"){const u=new Error("request failed");a.errorInterceptor(u)}},c=new POe("streamRequest");return c.generate(async(f,u)=>{var v,m;const d=(v=a.beforeSend)==null?void 0:v.call(a,null,t,n,{}),g=Object.assign({},n,d);Object.keys(g).forEach(function(p){g[p]===null&&(g[p]=void 0),p==="Accept"&&t.indexOf("accept=")!==-1&&(g[p]=void 0)});try{const p=await fetch(t,{headers:g,signal:void 0});if(p.status!==200)throw new Error(`Couldn't retrieve ${t} got status ${p.status}`);const h=p.body.getReader(),y=p.headers,C=y.get("content-type"),x=Number(y.get("Content-Length"));let T=!1,w=o.encodedData,b=o.lastSize||0;for(o.isPartial=!0;!T;){const{done:E,value:O}=await h.read();if(w=_Oe(w,O),!w){if(T)throw new Error(`Done but no image frame available ${e}`);continue}if(T=E||w.byteLength===x,!T&&w.length<b+s)continue;b=w.length,o.isPartial=!E;const D=db(C,w,o),R=gb(i,T),I={url:t,imageId:e,...D,percentComplete:E?100:((m=D.pixelData)==null?void 0:m.length)*100/x,imageQualityStatus:R,done:T};f.add(I,T)}}catch(p){l(),console.error(p),u(p)}}),c.getNextPromise()}function _Oe(t,e){if(!t)return e;if(!e)return t;const n=new Uint8Array(t.length+e.length);return n.set(t,0),n.set(e,t.length),n}function NOe(t){const e=t.elements.x7fe00010.fragments,n=t.byteArray.length;for(const r of e){const{position:a,length:i}=r;i>n-a&&(console.log(`Truncated fragment, changing fragment length from ${r.length} to ${n-a}`),r.length=n-a)}return t}function FOe(t){let e=Sa.parseDicom(t,{untilTag:"x7fe00010"});e.elements.x7fe00010||console.warn("Pixel data not found!");let n;try{n=Sa.parseDicom(t)}catch(r){console.error(r),console.log("pixel data dataset:",r.dataSet),n=r.dataSet}return e.elements.x7fe00010=n.elements.x7fe00010,e=NOe(e),e}async function mH(t,e,n){const r=FOe(t),{uri:a,imageId:i,fileTotalLength:o}=n;return r.fetchMore=async function(s){const l=Object.assign({uri:a,imageId:i,fetchedLength:t.length,lengthToFetch:o-t.length},s),{fetchedLength:c,lengthToFetch:f}=l,{arrayBuffer:u}=await e(a,i,{byteRange:`${c}-${c+f}`}),d=new Uint8Array(u),g=new Uint8Array(r.byteArray.length+d.length);return g.set(r.byteArray),g.set(d,r.byteArray.length),mH(g,e,n)},r}function $Oe(t,e){if(!t)return;const{NumberOfFrames:n,PerFrameFunctionalGroupsSequence:r,SharedFunctionalGroupsSequence:a}=pH(t);if(r||n>1){const{shared:i,perFrame:o}=vH(r,a,e);return{NumberOfFrames:n,PerFrameFunctionalInformation:o,SharedFunctionalInformation:i}}return{NumberOfFrames:n}}function vH(t,e,n){const r={};(e?Object.values(e.items[0].dataSet.elements):[]).map(i=>r[i.tag]=i);const a={};return(t?Object.values(t.items[n-1].dataSet.elements):[]).map(i=>a[i.tag]=i),{shared:r,perFrame:a}}function pH(t){if(!t)return;const{elements:e,...n}=t,{x52009230:r,x52009229:a,...i}=e;return{NumberOfFrames:t.intString("x00280008"),PerFrameFunctionalGroupsSequence:r,SharedFunctionalGroupsSequence:a,otherElements:i,otherAttributtes:n}}function VOe(t,e){if(!e)return;const{NumberOfFrames:n,PerFrameFunctionalGroupsSequence:r,SharedFunctionalGroupsSequence:a,otherElements:i}=pH(e);if(r||n>1){const{shared:o,perFrame:s}=vH(r,a,t),l={elements:{...i,...o,...s}},c=Object.create(e);return Object.assign(c,l)}return e}let ei={};const kOe=()=>{ei={}};function mb(t){if(ei[t])return ei[t]}function UOe(t){const e=mb(t);return hH(e)}function hH(t){if(!t)return!1;const e=t.intString("x00280008");return e&&e>1}function BOe(t){return t.indexOf("&frame=")}function GOe(t){const e=BOe(t),n=e===-1?t:t.slice(0,e),r=parseInt(t.slice(e+7),10)||1;let a;return ei[n]?a=ei[n].dataSet:a=void 0,{dataSet:a,frame:r}}function zOe(t){const e=[],n=mb(t);if(hH(n)){const r=n.intString("x00280008");for(let a=1;a<=r;a++)e.push(`${t}&frame=${a}`)}else e.push(t);return e}const SH={_get:mb,generateMultiframeWADOURIs:zOe,retrieveMultiframeDataset:GOe,isMultiframeDataset:UOe};let F1=0,Cu={};function WOe(t){return ei[t]!==void 0}function jOe(t){let e;if(t.includes("&frame=")){const{frame:n,dataSet:r}=SH.retrieveMultiframeDataset(t);e=VOe(n,r)}else ei[t]&&(e=ei[t].dataSet);return e}function HOe(t,e){const n=ei[t];if(!n){console.error(`No loaded dataSet for uri ${t}`);return}F1-=n.dataSet.byteArray.length,n.dataSet=e,F1+=e.byteArray.length,_t(Vt,"datasetscachechanged",{uri:t,action:"updated",cacheInfo:hy()})}function qOe(t,e=fb,n){if(ei[t])return new Promise(i=>{ei[t].cacheCount++,i(ei[t].dataSet)});if(Cu[t])return Cu[t].cacheCount++,Cu[t];const r=e(t,n),a=new Promise((i,o)=>{r.then(async function(s){const l={isPartialContent:!1,fileTotalLength:null};if(!(s instanceof ArrayBuffer)){if(!s.arrayBuffer)return o(new Error("If not returning ArrayBuffer, must return object with `arrayBuffer` parameter"));l.isPartialContent=s.flags.isPartialContent,l.fileTotalLength=s.flags.fileTotalLength,s=s.arrayBuffer}const c=new Uint8Array(s);let f;try{l.isPartialContent?f=await mH(c,e,{uri:t,imageId:n,fileTotalLength:l.fileTotalLength}):f=Sa.parseDicom(c)}catch(u){return o(u)}ei[t]={dataSet:f,cacheCount:a.cacheCount},F1+=f.byteArray.length,i(f),_t(Vt,"datasetscachechanged",{uri:t,action:"loaded",cacheInfo:hy()})},o).then(()=>{delete Cu[t]},()=>{delete Cu[t]})});return a.cacheCount=1,Cu[t]=a,a}function KOe(t){ei[t]&&(ei[t].cacheCount--,ei[t].cacheCount===0&&(F1-=ei[t].dataSet.byteArray.length,delete ei[t],_t(Vt,"datasetscachechanged",{uri:t,action:"unloaded",cacheInfo:hy()})))}function hy(){return{cacheSizeInBytes:F1,numberOfDataSetsCached:Object.keys(ei).length}}function QOe(){kOe(),Cu={},F1=0}const Wm={isLoaded:WOe,load:qOe,unload:KOe,getInfo:hy,purge:QOe,get:jOe,update:HOe};function XOe(t){const e=[];for(let n=0;n<=30;n+=2){let r=`x60${n.toString(16)}`;r.length===4&&(r=`x600${n.toString(16)}`);const a=t.elements[`${r}3000`];if(!a)continue;const i=[];for(let o=0;o<a.length;o++)for(let s=0;s<8;s++){const l=t.byteArray[a.dataOffset+o];i[o*8+s]=l>>s&1}e.push({rows:t.uint16(`${r}0010`),columns:t.uint16(`${r}0011`),type:t.string(`${r}0040`),x:t.int16(`${r}0050`,1)-1,y:t.int16(`${r}0050`,0)-1,pixelData:i,description:t.string(`${r}0022`),label:t.string(`${r}1500`),roiArea:t.string(`${r}1301`),roiMean:t.string(`${r}1302`),roiStandardDeviation:t.string(`${r}1303`)})}return{overlays:e}}function vg(t){return t==="RECON TOMO"||t==="RECON GATED TOMO"}function vb(t,e){const n=t.string("x00080008");if(n){const r=n.split("\\");if(r.length>e)return r[e]}}function YOe(t){let e;const n=t.string("x00080060");if(n!=null&&n.includes("NM")){const r=vb(t,2);r&&vg(r)&&t.elements.x00540022&&(e=g0(t.elements.x00540022.items[0].dataSet,"x00200037",6))}return e}function ZOe(t){let e;const n=t.string("x00080060");if(n!=null&&n.includes("NM")){const r=vb(t,2);r&&vg(r)&&t.elements.x00540022&&(e=g0(t.elements.x00540022.items[0].dataSet,"x00200032",3))}return e}function BM(t){let e=g0(t,"x00200037",6);return!e&&t.elements.x00209116&&(e=g0(t.elements.x00209116.items[0].dataSet,"x00200037",6)),e||(e=YOe(t)),e}function GM(t){let e=g0(t,"x00200032",3);return!e&&t.elements.x00209113&&(e=g0(t.elements.x00209113.items[0].dataSet,"x00200032",3)),e||(e=ZOe(t)),e}function zM(t){let e=g0(t,"x00280030",2);return!e&&t.elements.x00289110&&(e=g0(t.elements.x00289110.items[0].dataSet,"x00280030",2)),e}function WM(t){let e;return t.elements.x00180050?e=t.floatString("x00180050"):t.elements.x00289110&&t.elements.x00289110.items.length&&t.elements.x00289110.items[0].dataSet.elements.x00180050&&(e=t.elements.x00289110.items[0].dataSet.floatString("x00180050")),e}function yH(t,e,n){const r={};for(const a of n)try{const i=e(a,t);if(i){const o={};for(const s in i)if(s in i){const l=JOe(s);o[l]=i[s]}Object.assign(r,o)}}catch(i){console.error(`Error retrieving ${a} data:`,i)}return r}const JOe=t=>t.charAt(0).toUpperCase()+t.slice(1),CH=["multiframeModule","generalSeriesModule","patientStudyModule","imagePlaneModule","nmMultiframeGeometryModule","imagePixelModule","modalityLutModule","voiLutModule","sopCommonModule","petIsotopeModule","overlayPlaneModule","transferSyntax","petSeriesModule","petImageModule"];function jM(t){const e=t.elements.x00186011;return!e||!e.items?[]:e.items.map(r=>{const a=r.dataSet.double("x0018602c"),i=r.dataSet.double("x0018602e"),o=r.dataSet.uint16("x00186024"),s=r.dataSet.uint16("x00186026"),l=r.dataSet.uint16("x0018601a"),c=r.dataSet.uint16("x0018601e"),f=r.dataSet.uint16("x00186018"),u=r.dataSet.uint16("x0018601c"),d=r.dataSet.int32("x00186020")||null,g=r.dataSet.int32("x00186022")||null,v=r.dataSet.uint16("x0018602a"),m=r.dataSet.uint16("x00186028"),p=r.dataSet.uint16("x00186012"),h=r.dataSet.uint16("x00186014"),y=r.dataSet.uint16("x00186016"),C=r.dataSet.uint16("x00186030");return{regionLocationMinY0:l,regionLocationMaxY1:c,regionLocationMinX0:f,regionLocationMaxX1:u,referencePixelX0:d,referencePixelY0:g,physicalDeltaX:a,physicalDeltaY:i,physicalUnitsXDirection:o,physicalUnitsYDirection:s,referencePhysicalPixelValueY:v,referencePhysicalPixelValueX:m,regionSpatialFormat:p,regionDataType:h,regionFlags:y,transducerFrequency:C}})}function xH(t,e){const{MetadataModules:n}=v0;if(Array.isArray(e))return;const r=vy(e);if(t===n.MULTIFRAME){const o=SH.retrieveMultiframeDataset(r.url);return o.dataSet?$Oe(o.dataSet,o.frame):void 0}let a=r.url;r.frame&&(a=`${a}&frame=${r.frame}`);const i=Wm.get(a);if(i)return eRe(t,e,i)}function eRe(t,e,n){const{MetadataModules:r}=v0;if(t===r.GENERAL_STUDY)return{studyDescription:n.string("x00081030"),studyDate:Sa.parseDA(n.string("x00080020")),studyTime:Sa.parseTM(n.string("x00080030")||""),accessionNumber:n.string("x00080050")};if(t===r.GENERAL_SERIES)return{modality:n.string("x00080060"),seriesInstanceUID:n.string("x0020000e"),seriesNumber:n.intString("x00200011"),studyInstanceUID:n.string("x0020000d"),seriesDate:Sa.parseDA(n.string("x00080021")),seriesTime:Sa.parseTM(n.string("x00080031")||""),acquisitionDate:Sa.parseDA(n.string("x00080022")),acquisitionTime:Sa.parseTM(n.string("x00080032")||"")};if(t===r.GENERAL_IMAGE)return{sopInstanceUID:n.string("x00080018"),instanceNumber:n.intString("x00200013"),lossyImageCompression:n.string("x00282110"),lossyImageCompressionRatio:n.floatString("x00282112"),lossyImageCompressionMethod:n.string("x00282114")};if(t===r.PATIENT)return{patientID:n.string("x00100020"),patientName:n.string("x00100010")};if(t===r.PATIENT_STUDY)return{patientAge:n.intString("x00101010"),patientSize:n.floatString("x00101020"),patientSex:n.string("x00100040"),patientWeight:n.floatString("x00101030")};if(t===r.NM_MULTIFRAME_GEOMETRY){const a=n.string("x00080060"),i=vb(n,2);return{modality:a,imageType:n.string("x00080008"),imageSubType:i,imageOrientationPatient:BM(n),imagePositionPatient:GM(n),sliceThickness:WM(n),pixelSpacing:zM(n),numberOfFrames:n.uint16("x00280008"),isNMReconstructable:vg(i)&&a.includes("NM")}}if(t===r.IMAGE_PLANE){const a=BM(n),i=GM(n),o=zM(n),s=WM(n);let l=null,c=null;o&&(c=o[0],l=o[1]);let f=null,u=null;return a&&(f=[parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])],u=[parseFloat(a[3]),parseFloat(a[4]),parseFloat(a[5])]),{frameOfReferenceUID:n.string("x00200052"),rows:n.uint16("x00280010"),columns:n.uint16("x00280011"),imageOrientationPatient:a,rowCosines:f,columnCosines:u,imagePositionPatient:i,sliceThickness:s,sliceLocation:n.floatString("x00201041"),pixelSpacing:o,rowPixelSpacing:c,columnPixelSpacing:l}}if(t===r.CINE)return{frameTime:n.floatString("x00181063")};if(t===r.IMAGE_PIXEL)return xOe(n);if(t===r.VOI_LUT){const a=bOe(n);return{windowCenter:g0(n,"x00281050",1),windowWidth:g0(n,"x00281051",1),voiLUTSequence:$M(a,n.elements.x00283010),voiLUTFunction:n.string("x00281056")}}if(t===r.MODALITY_LUT)return{rescaleIntercept:n.floatString("x00281052"),rescaleSlope:n.floatString("x00281053"),rescaleType:n.string("x00281054"),modalityLUTSequence:$M(n.uint16("x00280103"),n.elements.x00283000)};if(t===r.SOP_COMMON)return{sopClassUID:n.string("x00080016"),sopInstanceUID:n.string("x00080018")};if(t===r.PET_ISOTOPE){const a=n.elements.x00540016;if(a===void 0)return;const i=a.items[0].dataSet;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:Sa.parseTM(i.string("x00181072")||""),radionuclideTotalDose:i.floatString("x00181074"),radionuclideHalfLife:i.floatString("x00181075")}}}if(t===r.OVERLAY_PLANE)return XOe(n);if(t==="transferSyntax"){let a;try{a=n.string("x00020010")}catch{}return{transferSyntaxUID:a}}if(t===r.PET_SERIES)return{correctedImage:n.string("x00280051"),units:n.string("x00541001"),decayCorrection:n.string("x00541102")};if(t===r.PET_IMAGE)return{frameReferenceTime:n.floatString(n.string("x00541300")||""),actualFrameDuration:n.intString(n.string("x00181242"))};if(t===r.ULTRASOUND_ENHANCED_REGION)return jM(n);if(t===r.CALIBRATION&&n.string("x00080060")==="US")return{sequenceOfUltrasoundRegions:jM(n)};if(t==="instance")return yH(e,xH,CH)}let Sy=[];function tRe(t){return`dicomfile:${Sy.push(t)-1}`}function nRe(t){return Sy[t]}function rRe(t){Sy[t]=void 0}function aRe(){Sy=[]}const iRe={add:tRe,get:nRe,remove:rRe,purge:aRe};function oRe(t){const e=t.intString("x00280008"),n=t.elements.x7fe00010;return e!==n.fragments.length}function sRe(t,e){if(t.elements.x7fe00010&&t.elements.x7fe00010.basicOffsetTable.length)return Sa.readEncapsulatedImageFrame(t,t.elements.x7fe00010,e);if(oRe(t)){const c=Sa.createJPEGBasicOffsetTable(t,t.elements.x7fe00010);return Sa.readEncapsulatedImageFrame(t,t.elements.x7fe00010,e,c)}const n=t.elements.x7fe00010.fragments,r=new Sa.ByteStream(t.byteArrayParser,t.byteArray,t.elements.x7fe00010.dataOffset),a=Sa.readSequenceItem(r);if(a.tag!=="xfffee000")throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";r.seek(a.length);const i=r.position;if(e+1>n.length)throw"dicomParser.readEncapsulatedPixelData: frame exceeds number of fragments";const s=i+n[e].offset+8,l=n[e].length;return new Uint8Array(r.byteArray.buffer.slice(r.byteArray.byteOffset+s,r.byteArray.byteOffset+s+l))}function lRe(t,e){return t&1<<e}function cRe(t,e,n){const r=new Uint8Array(n);for(let a=0;a<n;a++){const i=Math.floor(a/8),o=t[i+e],s=a%8;r[a]=lRe(o,s)?1:0}return r}function uRe(t,e){const n=t.elements.x7fe00010||t.elements.x7fe00008,r=t.uint16("x00280100"),a=t.uint16("x00280010"),i=t.uint16("x00280011");let o=t.uint16("x00280002");t.string("x00280004")==="YBR_FULL_422"&&(o=2,console.warn(`Using SamplesPerPixel of 2 for YBR_FULL_422 photometric interpretation.
      See http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.6.3.html for more information.`));const l=n.dataOffset,c=a*i*o;let f;if(r===8){if(f=l+e*c,f>=t.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(t.byteArray.buffer.slice(f,f+c))}else if(r===16){if(f=l+e*c*2,f>=t.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(t.byteArray.buffer.slice(f,f+c*2))}else if(r===1){if(f=l+e*c*.125,f>=t.byteArray.length)throw new Error("frame exceeds size of pixelData");return cRe(t.byteArray,f,c)}else if(r===32){if(f=l+e*c*4,f>=t.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(t.byteArray.buffer.slice(f,f+c*4))}throw new Error("unsupported pixel format")}function fRe(t){const e=vy(t),n=parseInt(e.url,10),r=iRe.get(n);return new Promise((a,i)=>{const o=new FileReader;o.onload=s=>{const l=s.target.result;a(l)},o.onerror=i,o.readAsArrayBuffer(r)})}function TH(t,e=0){const n=t.elements.x7fe00010||t.elements.x7fe00008;return n?n.encapsulatedPixelData?sRe(t,e):uRe(t,e):null}function pb(t){let e=t[0],n=t[0],r;const a=t.length;for(let i=1;i<a;i++)r=t[i],e=Math.min(e,r),n=Math.max(n,r);return{min:e,max:n}}function U8(t,e,n){t.planarConfiguration===0?gOe(t.pixelData,e,n):mOe(t.pixelData,e,n)}function dRe(t,e,n){t.planarConfiguration===0?vOe(t.pixelData,e,n):pOe(t.pixelData,e,n)}function gRe(t,e,n){if(t.photometricInterpretation==="RGB")U8(t,e,n);else if(t.photometricInterpretation==="YBR_RCT")U8(t,e,n);else if(t.photometricInterpretation==="YBR_ICT")U8(t,e,n);else if(t.photometricInterpretation==="PALETTE COLOR")SOe(t,e,n);else if(t.photometricInterpretation==="YBR_FULL_422")hOe(t.pixelData,e,n);else if(t.photometricInterpretation==="YBR_FULL")dRe(t,e,n);else throw new Error(`No color space conversion for photometric interpretation ${t.photometricInterpretation}`)}function mRe(t){if(t===void 0)return!1;const{rows:e,columns:n,photometricInterpretation:r,pixelDataLength:a,planarConfiguration:i}=t;return a===4*n*e||r==="PALETTE COLOR"?!1:r.endsWith("420")?a===(3*Math.ceil(n/2)+Math.floor(n/2))*e:r.endsWith("422")?a===(3*Math.ceil(n/2)+Math.floor(n/2))*Math.ceil(e/2)+Math.floor(e/2)*n:r!=="RGB"||i===1}function vRe(t){return pRe(String.fromCharCode.apply(null,Array.prototype.slice.apply(new Uint8Array(t))))}function pRe(t){let e;try{return decodeURIComponent(escape(t))}catch(n){if(e=n,e instanceof URIError)return t;throw e}}function hRe(t,e,n){const r=new Date().getTime(),a=new Blob([e],{type:"image/jpeg"});return new Promise((i,o)=>{const s=new FileReader;s.readAsBinaryString===void 0?s.readAsArrayBuffer(a):s.readAsBinaryString(a),s.onload=function(){const l=new Image;l.onload=function(){n.height=l.height,n.width=l.width,t.rows=l.height,t.columns=l.width;const c=n.getContext("2d");c.drawImage(this,0,0);const f=c.getImageData(0,0,l.width,l.height),u=new Date().getTime();t.pixelData=new Uint8Array(f.data.buffer),t.imageData=f,t.decodeTimeInMS=u-r;const d=pb(t.pixelData);t.smallestPixelValue=d.min,t.largestPixelValue=d.max,t.pixelDataLength=t.pixelData.length,i(t)},l.onerror=function(c){o(c)},s.readAsBinaryString===void 0?l.src=`data:image/jpeg;base64,${window.btoa(vRe(s.result))}`:l.src=`data:image/jpeg;base64,${window.btoa(s.result)}`},s.onerror=l=>{o(l)}})}function eo(t,e,n,r,a){const i={...r};delete i.loader,delete i.streamingData;const o=oW(),s=i.priority||void 0;return i.transferPixelData&&n.buffer,o.executeTask("dicomImageLoader","decodeTask",{imageFrame:t,transferSyntax:e,pixelData:n,options:i,decodeConfig:a},{priority:s,requestType:i==null?void 0:i.requestType})}function SRe(t,e,n,r,a={},i){switch(e){case"1.2.840.10008.1.2":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.1":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.2":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.1.99":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.5":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.4.50":return t.bitsAllocated===8&&(t.samplesPerPixel===3||t.samplesPerPixel===4)?hRe(t,n,r):eo(t,e,n,a,i);case"1.2.840.10008.1.2.4.51":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.4.57":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.4.70":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.4.80":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.4.81":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.4.90":return eo(t,e,n,a,i);case"1.2.840.10008.1.2.4.91":return eo(t,e,n,a,i);case"3.2.840.10008.1.2.4.96":case"1.2.840.10008.1.2.4.201":case"1.2.840.10008.1.2.4.202":case"1.2.840.10008.1.2.4.203":return eo(t,e,n,a,i)}return Promise.reject(new Error(`No decoder for transfer syntax ${e}`))}function yRe(t){const e=tn("imagePixelModule",t);return{samplesPerPixel:e.samplesPerPixel,photometricInterpretation:e.photometricInterpretation,planarConfiguration:e.planarConfiguration,rows:e.rows,columns:e.columns,bitsAllocated:e.bitsAllocated,bitsStored:e.bitsStored,pixelRepresentation:e.pixelRepresentation,smallestPixelValue:e.smallestPixelValue,largestPixelValue:e.largestPixelValue,redPaletteColorLookupTableDescriptor:e.redPaletteColorLookupTableDescriptor,greenPaletteColorLookupTableDescriptor:e.greenPaletteColorLookupTableDescriptor,bluePaletteColorLookupTableDescriptor:e.bluePaletteColorLookupTableDescriptor,redPaletteColorLookupTableData:e.redPaletteColorLookupTableData,greenPaletteColorLookupTableData:e.greenPaletteColorLookupTableData,bluePaletteColorLookupTableData:e.bluePaletteColorLookupTableData,pixelData:void 0,imageId:t}}function CRe(t,e){const n=t.get("modalityLutModule",e)||{},r=t.get("generalSeriesModule",e)||{},{modality:a}=r,i={rescaleSlope:n.rescaleSlope,rescaleIntercept:n.rescaleIntercept,modality:a},o=t.get("scalingModule",e)||{};return{...i,...a==="PT"&&{suvbw:o.suvbw}}}function wH(t){return t==="RGB"||t==="PALETTE COLOR"||t==="YBR_FULL"||t==="YBR_FULL_422"||t==="YBR_PARTIAL_422"||t==="YBR_PARTIAL_420"||t==="YBR_RCT"||t==="YBR_ICT"}function xRe(t,e){const n=t.length/4;let r=0,a=0;for(let i=0;i<n;i++)e[a++]=t[r++],e[a++]=t[r++],e[a++]=t[r++],r++;return e}function TRe(t){return t!=="1.2.840.10008.5.1.4.1.1.12.1"&&t!=="1.2.840.10008.5.1.4.1.1.12.2.1"}function hb(t,e){let n;return Number.isInteger(t)&&Number.isInteger(e)&&(t>=0?e<=255?n=Uint8Array:e<=65535&&(n=Uint16Array):t>=-128&&e<=127?n=Int8Array:t>=-32768&&e<=32767&&(n=Int16Array)),n||Float32Array}function wRe(t,e,n){return hb(t,e)===n}function bRe(t){const e=t.smallestPixelValue,n=t.largestPixelValue,r=hb(e,n);if(r){const a=new r(t.pixelData);t.pixelData=a}else throw new Error("Could not apply a typed array to the pixel data")}let HM="";function Sb(t,e,n,r={}){const a=r.useRGBA;if(r.preScale={enabled:r.preScale&&r.preScale.enabled!==void 0?r.preScale.enabled:!0},!(e!=null&&e.length))return Promise.reject(new Error("The pixel data is missing"));const{MetadataModules:i}=v0,o=document.createElement("canvas"),s=yRe(t);if(s.decodeLevel=r.decodeLevel,r.allowFloatRendering=Ww(),r.preScale.enabled){const u=CRe(kxe,t);u&&(r.preScale={...r.preScale,scalingParameters:u})}const{decodeConfig:l}=py();Object.keys(s).forEach(u=>{(typeof s[u]=="function"||s[u]instanceof Promise)&&delete s[u]});const c=SRe(s,n,e,o,r,l),f=wH(s.photometricInterpretation);return new Promise((u,d)=>{c.then(function(g){let v=!1;if(r.targetBuffer&&r.targetBuffer.type&&!f){const{arrayBuffer:E,type:O,offset:D=0,length:R}=r.targetBuffer,I=g.pixelDataLength,M=D,A=R??I-M,B={Uint8Array,Uint16Array,Int16Array,Float32Array};if(A!==g.pixelDataLength)throw new Error(`target array for image does not have the same length (${A}) as the decoded image length (${g.pixelDataLength}).`);const L=B[O],F=E?new L(E,M,A):new L(g.pixelData);if(A!==g.pixelDataLength)throw new Error("target array for image does not have the same length as the decoded image length.");g.pixelData=F,v=!0}v||bRe(g);const m=tn(i.IMAGE_PLANE,t)||{},p=tn(i.VOI_LUT,t)||{},h=tn(i.MODALITY_LUT,t)||{},y=tn(i.SOP_COMMON,t)||{},C=tn(i.CALIBRATION,t)||{},{rows:x,columns:T}=g;if(f){if(mRe(g)){o.height=g.rows,o.width=g.columns;let D=o.getContext("2d").createImageData(g.columns,g.rows);a||(D={...D,data:new Uint8ClampedArray(3*g.columns*g.rows)}),gRe(g,D.data,a),g.imageData=D,g.pixelData=D.data,g.pixelDataLength=D.data.length}else if(!a&&g.pixelDataLength===4*x*T){const O=new Uint8Array(g.pixelData.length/4*3);g.pixelData=xRe(g.pixelData,O),g.pixelDataLength=g.pixelData.length}const E=pb(g.pixelData);g.smallestPixelValue=E.min,g.largestPixelValue=E.max}const w=Gr.createImageVoxelManager({scalarData:g.pixelData,width:g.columns,height:g.rows,numberOfComponents:g.samplesPerPixel}),b={imageId:t,dataType:g.pixelData.constructor.name,color:f,calibration:C,columnPixelSpacing:m.columnPixelSpacing,columns:g.columns,height:g.rows,preScale:g.preScale,intercept:h.rescaleIntercept?h.rescaleIntercept:0,slope:h.rescaleSlope?h.rescaleSlope:1,invert:g.photometricInterpretation==="MONOCHROME1",minPixelValue:g.smallestPixelValue,maxPixelValue:g.largestPixelValue,rowPixelSpacing:m.rowPixelSpacing,rows:g.rows,sizeInBytes:g.pixelData.byteLength,width:g.columns,windowCenter:p.windowCenter?p.windowCenter[0]:void 0,windowWidth:p.windowWidth?p.windowWidth[0]:void 0,voiLUTFunction:p.voiLUTFunction?p.voiLUTFunction:void 0,decodeTimeInMS:g.decodeTimeInMS,floatPixelData:void 0,imageFrame:g,voxelManager:w,rgba:f&&a,getPixelData:()=>g.pixelData,getCanvas:void 0,numberOfComponents:g.samplesPerPixel};if(b.color&&(b.getCanvas=function(){if(HM===t)return o;const E=b.columns,O=b.rows;o.height=O,o.width=E;const D=o.getContext("2d"),R=D.createImageData(E,O),I=g.pixelData;if(I.length===E*O*4)for(let M=0;M<I.length;M++)R.data[M]=I[M];else if(I.length===E*O*3){let M=0;for(let A=0;A<I.length;A+=3)R.data[M++]=I[A],R.data[M++]=I[A+1],R.data[M++]=I[A+2],R.data[M++]=255}return g.pixelData=R.data,g.pixelDataLength=R.data.length,g.imageData=R,D.putImageData(g.imageData,0,0),HM=t,o}),h.modalityLUTSequence&&h.modalityLUTSequence.length>0&&TRe(y.sopClassUID)&&(b.modalityLUT=h.modalityLUTSequence[0]),p.voiLUTSequence&&p.voiLUTSequence.length>0&&(b.voiLUT=p.voiLUTSequence[0]),b.color&&(b.windowWidth=256,b.windowCenter=128),b.windowCenter===void 0||b.windowWidth===void 0){const E=b.imageFrame.smallestPixelValue,O=b.imageFrame.largestPixelValue;b.windowWidth=O-E,b.windowCenter=(O+E)/2}u(b)},d)})}const{ImageQualityStatus:bH}=v0;function ERe(t,e){t.decache=function(){const n=vy(e);Wm.unload(n.url)}}function DRe(t,e,n=0,r,a,i){const o=new Date().getTime(),s={cancelFn:void 0,promise:void 0};return s.promise=new Promise((l,c)=>{t.then(f=>{const u=TH(f,n),d=f.string("x00020010"),g=new Date().getTime(),v=Sb(e,u,d,a);ERe(s,e),v.then(m=>{m=m,m.data=f,m.sharedCacheKey=r;const p=new Date().getTime();m.loadTimeInMS=g-o,m.totalTimeInMS=p-o,m.imageQualityStatus=bH.FULL_RESOLUTION,i!==void 0&&i.imageDoneCallback!==void 0&&i.imageDoneCallback(m),l(m)},function(m){c({error:m,dataSet:f})})},function(f){c({error:f})})}),s}function ORe(t,e,n=0,r,a){const i=new Date().getTime();return{promise:new Promise((s,l)=>{const c=new Date().getTime();let f;try{const u=TH(t,n),d=t.string("x00020010");f=Sb(e,u,d,a)}catch(u){l({error:u,dataSet:t});return}f.then(u=>{u=u,u.data=t,u.sharedCacheKey=r;const d=new Date().getTime();u.loadTimeInMS=c-i,u.totalTimeInMS=d-i,u.imageQualityStatus=bH.FULL_RESOLUTION,s(u)},l)}),cancelFn:void 0}}function RRe(t){if(t==="dicomweb"||t==="wadouri")return fb;if(t==="dicomfile")return fRe}function B8(t,e={}){const n=vy(t);e=Object.assign({},e),delete e.loader;const r=RRe(n.scheme);if(Wm.isLoaded(n.url)){const i=Wm.get(n.url,r,t);return ORe(i,t,n.pixelDataFrame,n.url,e)}const a=Wm.load(n.url,r,t);return DRe(a,t,n.frame,n.url,e)}function IRe(){z2("dicomweb",B8),z2("wadouri",B8),z2("dicomfile",B8),ug(xH)}function Nn(t,e,n){return e=e||0,!t||!t.Value||Array.isArray(t.Value)&&t.Value.length<=e?n:t.Value[e]}function Cr(t,e){const n=Nn(t,e);if(n!==void 0)return parseFloat(n)}function ki(t,e){if(!t||!t.Value||!Array.isArray(t.Value)||e&&t.Value.length<e)return;const n=[];for(let r=0;r<t.Value.length;r++)n.push(parseFloat(t.Value[r]));return n}function ARe(t){const e=[];for(let n=0;n<=30;n+=2){let r=`x60${n.toString(16)}`;r.length===4&&(r=`x600${n.toString(16)}`);const a=Nn(t[`${r}3000`]);if(!a)continue;const i=[];for(let o=0;o<a.length;o++)for(let s=0;s<8;s++){const l=t.Value[a.dataOffset+o];i[o*8+s]=l>>s&1}e.push({rows:Cr(t[`${r}0010`]),columns:Cr(t[`${r}0011`]),type:Nn(t[`${r}0040`]),x:Cr(t[`${r}0050`],1)-1,y:Cr(t[`${r}0050`],0)-1,pixelData:i,description:Nn(t[`${r}0022`]),label:Nn(t[`${r}1500`]),roiArea:Nn(t[`${r}1301`]),roiMean:Nn(t[`${r}1302`]),roiStandardDeviation:Nn(t[`${r}1303`])})}return{overlays:e}}function yy(t){const e=t.indexOf(":");return t.substring(e+1)}function Yd(t,e=!0){return t&&t.Value?t.Value[0]&&e?t.Value[0]:t.Value:t}function EH(t,e,n){const r=(e?Object.values(e[0]):[]).map(i=>i[0]).filter(i=>i!==void 0&&typeof i=="object"),a=(t?Object.values(t[n-1]):[]).map(i=>i.Value[0]).filter(i=>i!==void 0&&typeof i=="object");return{shared:r,perFrame:a}}function DH(t){let{52009230:e,52009229:n,"00280008":r,...a}=t;return e=Yd(e,!1),n=Yd(n,!1),r=Yd(r),{PerFrameFunctionalGroupsSequence:e,SharedFunctionalGroupsSequence:n,NumberOfFrames:r,rest:a}}function MRe(t,e){const{PerFrameFunctionalGroupsSequence:n,SharedFunctionalGroupsSequence:r,NumberOfFrames:a,rest:i}=DH(e);if(n||a>1){const{shared:o,perFrame:s}=EH(n,r,t),l=Object.assign(e,{frameNumber:t});return[...o,...s].forEach(c=>{Object.entries(c).forEach(([f,u])=>{l[f]=u})}),Object.assign(i,{"00280008":a},l)}return e}let Fp=[],I3={};function OH(t){const e=t.indexOf("/frames/")+8,n=t.slice(0,e),r=parseInt(t.slice(e),10);return{metadata:Fp[`${n}1`],frame:r}}function PRe(t){const e=yy(t);return OH(e)}function LRe(t){const e=Nn(t["00280008"]);return e&&e>1}function _Re(t,e){const n=yy(t);Object.defineProperty(e,"isMultiframe",{value:LRe(e),enumerable:!1}),Fp[n]=e}function NRe(t){const e=yy(t),n=Fp[e];if(n&&!(n!=null&&n.isMultiframe))return n;const r=I3[e];if(r)return r;const a=OH(e);if(!a||!a.metadata)return;const{metadata:i,frame:o}=a;if(i){const s=MRe(o,i);return I3[e]=s,s}}function FRe(t){const e=yy(t);Fp[e]=void 0,I3[e]=void 0}function $Re(){Fp=[],I3={}}const RH={add:_Re,get:NRe,remove:FRe,purge:$Re};function IH(t){return Nn(t["00080060"]).includes("NM")}function yb(t,e){const n=Yd(t["00080008"],!1);if(n)return n[e]}function VRe(t){let e;const n=yb(t,2);if(n&&vg(n)){const r=Yd(t["00540022"]);r&&(e=ki(r["00200037"],6))}return e}function kRe(t){let e;const n=yb(t,2);if(n&&vg(n)){const r=Yd(t["00540022"]);r&&(e=ki(r["00200032"],3))}return e}function qM(t){let e=ki(t["00200037"],6);return!e&&IH(t)&&(e=VRe(t)),e}function KM(t){let e=ki(t["00200032"],3);return!e&&IH(t)&&(e=kRe(t)),e}function Di(t,e){const n=ki(t[e]);return n?n[0]:null}function URe(t){var e;return(e=t==null?void 0:t.Value)!=null&&e.length?Array.isArray(t.Value)?t.Value:typeof t.Value=="object"?(console.warn("Warning: Value should be an array, but an object was found. Encapsulating the object in an array."),[t.Value]):[]:[]}function QM(t){const e=URe(t["00186011"]);return!e||!e.length?null:e.map(r=>{const a=Di(r,"0018602C"),i=Di(r,"0018602E"),o=Di(r,"00186024"),s=Di(r,"00186026"),l=Di(r,"0018601A"),c=Di(r,"0018601E"),f=Di(r,"00186018"),u=Di(r,"0018601C"),d=Di(r,"00186020"),g=Di(r,"00186022"),v=Di(r,"0018602A"),m=Di(r,"00186028"),p=Di(r,"00186012"),h=Di(r,"00186014"),y=Di(r,"00186016"),C=Di(r,"00186030");return{regionLocationMinY0:l,regionLocationMaxY1:c,regionLocationMinX0:f,regionLocationMaxX1:u,referencePixelX0:d,referencePixelY0:g,physicalDeltaX:a,physicalDeltaY:i,physicalUnitsXDirection:o,physicalUnitsYDirection:s,referencePhysicalPixelValueY:v,referencePhysicalPixelValueX:m,regionSpatialFormat:p,regionDataType:h,regionFlags:y,transducerFrequency:C}})}function AH(t,e){const{MetadataModules:n}=v0;if(t===n.MULTIFRAME){const{metadata:a,frame:i}=PRe(e);if(!a)return;const{PerFrameFunctionalGroupsSequence:o,SharedFunctionalGroupsSequence:s,NumberOfFrames:l}=DH(a);if(o||l>1){const{shared:c,perFrame:f}=EH(o,s,i);return{NumberOfFrames:l,PerFrameFunctionalInformation:f,SharedFunctionalInformation:c}}return{NumberOfFrames:l}}const r=RH.get(e);if(r){if(t===n.GENERAL_STUDY)return{studyDescription:Nn(r["00081030"]),studyDate:Sa.parseDA(Nn(r["00080020"])),studyTime:Sa.parseTM(Nn(r["00080030"],0,"")),accessionNumber:Nn(r["00080050"])};if(t===n.GENERAL_SERIES)return{modality:Nn(r["00080060"]),seriesInstanceUID:Nn(r["0020000E"]),seriesNumber:Cr(r["00200011"]),studyInstanceUID:Nn(r["0020000D"]),seriesDate:Sa.parseDA(Nn(r["00080021"])),seriesTime:Sa.parseTM(Nn(r["00080031"],0,"")),acquisitionDate:Sa.parseDA(Nn(r["00080022"])),acquisitionTime:Sa.parseTM(Nn(r["00080032"],0,""))};if(t===n.GENERAL_IMAGE)return{sopInstanceUID:Nn(r["00080018"]),instanceNumber:Cr(r["00200013"]),lossyImageCompression:Nn(r["00282110"]),lossyImageCompressionRatio:Cr(r["00282112"]),lossyImageCompressionMethod:Nn(r["00282114"])};if(t===n.PATIENT)return{patientID:Nn(r["00100020"]),patientName:Nn(r["00100010"])};if(t===n.PATIENT_STUDY)return{patientAge:Cr(r["00101010"]),patientSize:Cr(r["00101020"]),patientSex:Nn(r["00100040"]),patientWeight:Cr(r["00101030"])};if(t===n.NM_MULTIFRAME_GEOMETRY){const a=Nn(r["00080060"]),i=yb(r,2);return{modality:a,imageType:Nn(r["00080008"]),imageSubType:i,imageOrientationPatient:qM(r),imagePositionPatient:KM(r),sliceThickness:Cr(r["00180050"]),spacingBetweenSlices:Cr(r["00180088"]),pixelSpacing:ki(r["00280030"],2),numberOfFrames:Cr(r["00280008"]),isNMReconstructable:vg(i)&&a.includes("NM")}}if(t===n.IMAGE_PLANE){let a=qM(r),i=KM(r);const o=ki(r["00280030"],2);let s=null,l=null,c=null,f=null,u=!1;return o?(l=o[0],s=o[1]):(u=!0,l=1,s=1),a?(c=[parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2])],f=[parseFloat(a[3]),parseFloat(a[4]),parseFloat(a[5])]):(c=[0,1,0],f=[0,0,-1],u=!0,a=[...c,...f]),i||(i=[0,0,0],u=!0),{frameOfReferenceUID:Nn(r["00200052"]),rows:Cr(r["00280010"]),columns:Cr(r["00280011"]),imageOrientationPatient:a,rowCosines:c,columnCosines:f,imagePositionPatient:i,sliceThickness:Cr(r["00180050"]),sliceLocation:Cr(r["00201041"]),pixelSpacing:o,rowPixelSpacing:l,columnPixelSpacing:s,usingDefaultValues:u}}if(t===n.ULTRASOUND_ENHANCED_REGION)return QM(r);if(t===n.CALIBRATION&&Nn(r["00080060"])==="US")return{sequenceOfUltrasoundRegions:QM(r)};if(t===n.IMAGE_URL)return BRe(e,r);if(t===n.CINE)return GRe(e,r);if(t===n.IMAGE_PIXEL)return{samplesPerPixel:Cr(r["00280002"]),photometricInterpretation:Nn(r["00280004"]),rows:Cr(r["00280010"]),columns:Cr(r["00280011"]),bitsAllocated:Cr(r["00280100"]),bitsStored:Cr(r["00280101"]),highBit:Nn(r["00280102"]),pixelRepresentation:Cr(r["00280103"]),planarConfiguration:Cr(r["00280006"]),pixelAspectRatio:Nn(r["00280034"]),smallestPixelValue:Cr(r["00280106"]),largestPixelValue:Cr(r["00280107"]),redPaletteColorLookupTableDescriptor:ki(r["00281101"]),greenPaletteColorLookupTableDescriptor:ki(r["00281102"]),bluePaletteColorLookupTableDescriptor:ki(r["00281103"]),redPaletteColorLookupTableData:ki(r["00281201"]),greenPaletteColorLookupTableData:ki(r["00281202"]),bluePaletteColorLookupTableData:ki(r["00281203"])};if(t===n.VOI_LUT)return{windowCenter:ki(r["00281050"],1),windowWidth:ki(r["00281051"],1),voiLUTFunction:Nn(r["00281056"])};if(t===n.MODALITY_LUT)return{rescaleIntercept:Cr(r["00281052"]),rescaleSlope:Cr(r["00281053"]),rescaleType:Nn(r["00281054"])};if(t===n.SOP_COMMON)return{sopClassUID:Nn(r["00080016"]),sopInstanceUID:Nn(r["00080018"])};if(t===n.PET_ISOTOPE){const a=Nn(r["00540016"]);return a===void 0?void 0:{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:Sa.parseTM(Nn(a["00181072"],0,"")),radiopharmaceuticalStartDateTime:Nn(a["00181078"],0,""),radionuclideTotalDose:Cr(a["00181074"]),radionuclideHalfLife:Cr(a["00181075"])}}}if(t===n.OVERLAY_PLANE)return ARe(r);if(t==="transferSyntax")return MH(e,r);if(t===n.PET_SERIES)return{correctedImage:Nn(r["00280051"]),units:Nn(r["00541001"]),decayCorrection:Nn(r["00541102"])};if(t===n.PET_IMAGE)return{frameReferenceTime:Cr(r["00541300"]),actualFrameDuration:Cr(r["00181242"])};if(t==="instance")return yH(e,AH,CH)}}function BRe(t,e){const{transferSyntaxUID:n}=MH(t,e),r=oH(n),a=t.substring(7),i=a.replace("/frames/","/thumbnail/");let o=a.replace("/frames/","/rendered/");return r&&(o=o.replace("/rendered/1","/rendered")),{isVideo:r,rendered:o,thumbnail:i}}function GRe(t,e){return{cineRate:Nn(e["00180040"]),numberOfFrames:Cr(e["00280008"])}}function MH(t,e){return{transferSyntaxUID:Nn(e["00020010"])||Nn(e["00083002"])}}function zRe(t,e,n={},r={}){const a=py(),{retrieveOptions:i={},streamingData:o}=r,s=o.chunkSize||jRe(e,i,"chunkSize")||65536,l=f=>{if(typeof a.errorInterceptor=="function"){const u=new Error("request failed");a.errorInterceptor(u)}else console.warn("rangeRequest:Caught",f)};return new Promise(async(f,u)=>{const d=Object.assign({},n);Object.keys(d).forEach(function(g){(d[g]===null||d[g]===void 0)&&delete d[g]});try{o.encodedData||(o.chunkSize=s,o.rangesFetched=0);const g=HRe(o,i),{encodedData:v,responseHeaders:m}=await WRe(t,d,g,o),p=m.get("content-type"),{totalBytes:h}=o,y=h===v.byteLength,C=db(p,v,{isPartial:!0}),x=gb(i,y||C.extractDone);f({...C,imageQualityStatus:x,percentComplete:C.extractDone?100:s*100/h})}catch(g){l(g),console.error(g),u(g)}})}async function WRe(t,e,n,r){n&&(e=Object.assign(e,{Range:`bytes=${n[0]}-${n[1]}`}));let{encodedData:a}=r;if(n[1]&&(a==null?void 0:a.byteLength)>n[1])return r;const i=await fetch(t,{headers:e,signal:void 0}),o=await i.arrayBuffer(),s=new Uint8Array(o),{status:l}=i;let c;a?(c=new Uint8Array(a.length+s.length),c.set(a,0),c.set(s,a.length),r.rangesFetched=1):(c=new Uint8Array(s.length),c.set(s,0),r.rangesFetched++),r.encodedData=a=c,r.responseHeaders=i.headers;const f=i.headers.get("Content-Range");return f?r.totalBytes=Number(f.split("/")[1]):l!==206||!n?r.totalBytes=a==null?void 0:a.byteLength:n[1]===""||(a==null?void 0:a.length)<n[1]?r.totalBytes=a.byteLength:r.totalBytes=Number.MAX_SAFE_INTEGER,r}function jRe(t,e,n){const r=e[n];if(typeof r!="function")return r;const a=RH.get(t);return r(a,t)}function HRe(t,e){const{totalBytes:n,encodedData:r,chunkSize:a=65536}=t,{rangeIndex:i=0}=e;return i===-1&&(!n||!r)?[0,""]:i===-1||(r==null?void 0:r.byteLength)>n-a?[(r==null?void 0:r.byteLength)||0,""]:[(r==null?void 0:r.byteLength)||0,a*(i+1)-1]}function qRe(t,e,n="application/octet-stream",r){const{streamingData:a,retrieveOptions:i={}}=r||{},o={Accept:n};let s=i.urlArguments?`${t}${t.indexOf("?")===-1?"?":"&"}${i.urlArguments}`:t;if(i.framesPath&&(s=s.replace("/frames/",i.framesPath)),(a==null?void 0:a.url)!==s&&(r.streamingData={url:s}),i.rangeIndex!==void 0)return zRe(s,e,o,r);if(i.streaming)return LOe(s,e,o,r);const l=fb(s,e,o),{xhr:c}=l;return l.then(function(f){const u=c.getResponseHeader("Content-Type")||"application/octet-stream",d=db(u,new Uint8Array(f));return d.imageQualityStatus=gb(i,!0),d})}const{ProgressiveIterator:XM}=gl,{ImageQualityStatus:YM}=v0,KRe=new Set(["3.2.840.10008.1.2.4.96","1.2.840.10008.1.2.4.202","1.2.840.10008.1.2.4.203"]);function QRe(t){const e="1.2.840.10008.1.2";if(!t)return e;const n=t.split(";"),r={};n.forEach(i=>{const o=i.split("=");if(o.length!==2)return;const s=o[1].trim().replace(/"/g,"");r[o[0].trim()]=s});const a={"image/jpeg":"1.2.840.10008.1.2.4.50","image/x-dicom-rle":"1.2.840.10008.1.2.5","image/x-jls":"1.2.840.10008.1.2.4.80","image/jls":"1.2.840.10008.1.2.4.80","image/jll":"1.2.840.10008.1.2.4.70","image/jp2":"1.2.840.10008.1.2.4.90","image/jpx":"1.2.840.10008.1.2.4.92","image/jphc":"3.2.840.10008.1.2.4.96","image/jxl":"1.2.840.10008.1.2.4.140"};return r["transfer-syntax"]?r["transfer-syntax"]:t&&!Object.keys(r).length&&a[t]?a[t]:r.type&&a[r.type]?a[r.type]:a[t]?a[t]:e}function XRe(){return Np}const YRe="multipart/related; type=application/octet-stream; transfer-syntax=*";function ZRe(t,e={}){const n=XRe(),r=new Date().getTime(),a=new XM("decompress");async function i(f,u,d){a.generate(async g=>{var p;const v=XM.as(qRe(f,u,d,e));let m=10;for await(const h of v){const{pixelData:y,imageQualityStatus:C=YM.FULL_RESOLUTION,percentComplete:x,done:T=!0,extractDone:w=!0}=h,b=QRe(h.contentType);if(!w&&!KRe.has(b))continue;const E=h.decodeLevel??(C===YM.FULL_RESOLUTION?0:JRe(x,(p=e.retrieveOptions)==null?void 0:p.decodeLevel));if(!(!T&&m<=E))try{const O={...e,decodeLevel:E},D=await Sb(u,y,b,O),R=new Date().getTime();D.loadTimeInMS=R-r,D.transferSyntaxUID=b,D.imageQualityStatus=C,g.add(D,T),m=E}catch(O){if(w)throw console.warn("Couldn't decode",O),O}}})}const o=e.requestType||Vn.Interaction,s=e.additionalDetails||{imageId:t},l=e.priority===void 0?5:e.priority,c=t.substring(7);return n.addRequest(i.bind(this,c,t,YRe),o,s,l),{promise:a.getDonePromise(),cancelFn:void 0}}function JRe(t,e=4){const n=t/100-.02;return n>1/4?Math.min(e,0):n>1/16?Math.min(e,1):n>1/64?Math.min(e,2):Math.min(e,3)}function eIe(){z2("wadors",ZRe),ug(AH)}function tIe(){eIe(),IRe()}const nIe=()=>new Worker(new URL("/cursor-dicom-viewer/assets/decodeImageFrameWorker-CIIS58fU.js",import.meta.url),{type:"module"});function rIe(t={}){DOe(t),tIe();const e=oW(),n=(t==null?void 0:t.maxWebWorkers)||aIe();e.registerWorker("dicomImageLoader",nIe,{maxWorkerInstances:n})}function aIe(){return typeof navigator<"u"&&navigator.hardwareConcurrency?Math.max(1,Math.floor(navigator.hardwareConcurrency/2)):1}function iIe(t,e){const{rows:n,columns:r,data:a}=t,{rows:i,columns:o,data:s}=e,l=[],c=[],f=[];for(let u=0;u<o;u++){const d=u*(r-1)/(o-1);l[u]=Math.floor(d),c[u]=Math.min(l[u]+1,r-1),f[u]=d-l[u]}for(let u=0;u<i;u++){const d=u*(n-1)/(i-1),g=Math.floor(d)*r,v=Math.min(g+r,(n-1)*r),m=d-Math.floor(d),p=1-m,h=u*o;for(let y=0;y<o;y++){const C=a[g+l[y]],x=a[g+c[y]],T=a[v+l[y]],w=a[v+c[y]],b=1-f[y];s[h+y]=(C*b+x*f[y])*p+(T*b+w*f[y])*m}}return s}function oIe(t,e){const{rows:n,columns:r,pixelData:a,samplesPerPixel:i=1}=t,{rows:o,columns:s,pixelData:l}=e,c=[];for(let f=0;f<s;f++){const u=f*(r-1)/(s-1);c[f]=Math.floor(u)*i}for(let f=0;f<o;f++){const u=f*(n-1)/(o-1),d=Math.floor(u)*r*i,g=f*s;for(let v=0;v<s;v++)for(let m=0;m<i;m++)l[g+v+m]=a[d+c[v]+m]}return l}async function ZM(t,e){let n=e.buffer,r=e.byteOffset;const a=e.length;return t.bitsAllocated===16?(r%2&&(n=n.slice(r),r=0),t.pixelRepresentation===0?t.pixelData=new Uint16Array(n,r,a/2):t.pixelData=new Int16Array(n,r,a/2)):t.bitsAllocated===8||t.bitsAllocated===1?t.pixelData=e:t.bitsAllocated===32&&(r%2&&(n=n.slice(r),r=0),t.pixelData=new Float32Array(n,r,a/4)),t}function sIe(t){return(t&255)<<8|t>>8&255}async function lIe(t,e){if(t.bitsAllocated===16){let n=e.buffer,r=e.byteOffset;const a=e.length;r%2&&(n=n.slice(r),r=0),t.pixelRepresentation===0?t.pixelData=new Uint16Array(n,r,a/2):t.pixelData=new Int16Array(n,r,a/2);for(let i=0;i<t.pixelData.length;i++)t.pixelData[i]=sIe(t.pixelData[i])}else t.bitsAllocated===8&&(t.pixelData=e);return t}async function cIe(t,e){if(t.bitsAllocated===8)return t.planarConfiguration?fIe(t,e):uIe(t,e);if(t.bitsAllocated===16)return dIe(t,e);throw new Error("unsupported pixel format for RLE")}function uIe(t,e){const n=e,r=t.rows*t.columns,a=new ArrayBuffer(r*t.samplesPerPixel),i=new DataView(n.buffer,n.byteOffset),o=new Int8Array(n.buffer,n.byteOffset),s=new Int8Array(a);let l=0;const c=i.getInt32(0,!0);for(let f=0;f<c;++f){l=f;let u=i.getInt32((f+1)*4,!0),d=i.getInt32((f+2)*4,!0);d===0&&(d=n.length);const g=r*c;for(;u<d;){const v=o[u++];if(v>=0&&v<=127)for(let m=0;m<v+1&&l<g;++m)s[l]=o[u++],l+=t.samplesPerPixel;else if(v<=-1&&v>=-127){const m=o[u++];for(let p=0;p<-v+1&&l<g;++p)s[l]=m,l+=t.samplesPerPixel}}}return t.pixelData=new Uint8Array(a),t}function fIe(t,e){const n=e,r=t.rows*t.columns,a=new ArrayBuffer(r*t.samplesPerPixel),i=new DataView(n.buffer,n.byteOffset),o=new Int8Array(n.buffer,n.byteOffset),s=new Int8Array(a);let l=0;const c=i.getInt32(0,!0);for(let f=0;f<c;++f){l=f*r;let u=i.getInt32((f+1)*4,!0),d=i.getInt32((f+2)*4,!0);d===0&&(d=n.length);const g=r*c;for(;u<d;){const v=o[u++];if(v>=0&&v<=127)for(let m=0;m<v+1&&l<g;++m)s[l]=o[u++],l++;else if(v<=-1&&v>=-127){const m=o[u++];for(let p=0;p<-v+1&&l<g;++p)s[l]=m,l++}}}return t.pixelData=new Uint8Array(a),t}function dIe(t,e){const n=e,r=t.rows*t.columns,a=new ArrayBuffer(r*t.samplesPerPixel*2),i=new DataView(n.buffer,n.byteOffset),o=new Int8Array(n.buffer,n.byteOffset),s=new Int8Array(a),l=i.getInt32(0,!0);for(let c=0;c<l;++c){let f=0;const u=c===0?1:0;let d=i.getInt32((c+1)*4,!0),g=i.getInt32((c+2)*4,!0);for(g===0&&(g=n.length);d<g;){const v=o[d++];if(v>=0&&v<=127)for(let m=0;m<v+1&&f<r;++m)s[f*2+u]=o[d++],f++;else if(v<=-1&&v>=-127){const m=o[d++];for(let p=0;p<-v+1&&f<r;++p)s[f*2+u]=m,f++}}}return t.pixelRepresentation===0?t.pixelData=new Uint16Array(a):t.pixelData=new Int16Array(a),t}var PH={exports:{}};(function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};var i=typeof a<"u"?a:{},o,s;i.ready=new Promise(function(V,$){o=V,s=$});var l=Object.assign({},i),c="./this.program",f=(V,$)=>{throw $},u=typeof window=="object",d=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="";function m(V){return i.locateFile?i.locateFile(V,v):v+V}var p,h,y;function C(V){if(V instanceof ct)return;b("exiting due to exception: "+V)}if(g){var x=c0,T=c0;d?v=T.dirname(v)+"/":v=__dirname+"/",p=(V,$)=>(V=Ue(V)?new URL(V):T.normalize(V),x.readFileSync(V,$?void 0:"utf8")),y=V=>{var $=p(V,!0);return $.buffer||($=new Uint8Array($)),$},h=(V,$,Q)=>{V=Ue(V)?new URL(V):T.normalize(V),x.readFile(V,function(ae,De){ae?Q(ae):$(De.buffer)})},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(V){if(!(V instanceof ct))throw V}),process.on("unhandledRejection",function(V){throw V}),f=(V,$)=>{if(we())throw process.exitCode=V,$;C($),process.exit(V)},i.inspect=function(){return"[Emscripten Module object]"}}else(u||d)&&(d?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),r&&(v=r),v.indexOf("blob:")!==0?v=v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):v="",p=V=>{var $=new XMLHttpRequest;return $.open("GET",V,!1),$.send(null),$.responseText},d&&(y=V=>{var $=new XMLHttpRequest;return $.open("GET",V,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),h=(V,$,Q)=>{var ae=new XMLHttpRequest;ae.open("GET",V,!0),ae.responseType="arraybuffer",ae.onload=()=>{if(ae.status==200||ae.status==0&&ae.response){$(ae.response);return}Q()},ae.onerror=Q,ae.send(null)});var w=i.print||console.log.bind(console),b=i.printErr||console.warn.bind(console);Object.assign(i,l),l=null,i.arguments&&i.arguments,i.thisProgram&&(c=i.thisProgram),i.quit&&(f=i.quit);var E;i.wasmBinary&&(E=i.wasmBinary);var O=i.noExitRuntime||!0;typeof WebAssembly!="object"&&j("no native wasm support detected");var D,R=!1;function I(V,$){V||j($)}var M=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function A(V,$,Q){for(var ae=$+Q,De=$;V[De]&&!(De>=ae);)++De;if(De-$>16&&V.buffer&&M)return M.decode(V.subarray($,De));for(var $e="";$<De;){var je=V[$++];if(!(je&128)){$e+=String.fromCharCode(je);continue}var ke=V[$++]&63;if((je&224)==192){$e+=String.fromCharCode((je&31)<<6|ke);continue}var it=V[$++]&63;if((je&240)==224?je=(je&15)<<12|ke<<6|it:je=(je&7)<<18|ke<<12|it<<6|V[$++]&63,je<65536)$e+=String.fromCharCode(je);else{var Et=je-65536;$e+=String.fromCharCode(55296|Et>>10,56320|Et&1023)}}return $e}function B(V,$){return V?A(k,V,$):""}function L(V,$,Q,ae){if(!(ae>0))return 0;for(var De=Q,$e=Q+ae-1,je=0;je<V.length;++je){var ke=V.charCodeAt(je);if(ke>=55296&&ke<=57343){var it=V.charCodeAt(++je);ke=65536+((ke&1023)<<10)|it&1023}if(ke<=127){if(Q>=$e)break;$[Q++]=ke}else if(ke<=2047){if(Q+1>=$e)break;$[Q++]=192|ke>>6,$[Q++]=128|ke&63}else if(ke<=65535){if(Q+2>=$e)break;$[Q++]=224|ke>>12,$[Q++]=128|ke>>6&63,$[Q++]=128|ke&63}else{if(Q+3>=$e)break;$[Q++]=240|ke>>18,$[Q++]=128|ke>>12&63,$[Q++]=128|ke>>6&63,$[Q++]=128|ke&63}}return $[Q]=0,Q-De}function F(V,$,Q){return L(V,k,$,Q)}function _(V){for(var $=0,Q=0;Q<V.length;++Q){var ae=V.charCodeAt(Q);ae<=127?$++:ae<=2047?$+=2:ae>=55296&&ae<=57343?($+=4,++Q):$+=3}return $}var P,N,k,H,K,te,se,pe,ve;function Te(V){P=V,i.HEAP8=N=new Int8Array(V),i.HEAP16=H=new Int16Array(V),i.HEAP32=te=new Int32Array(V),i.HEAPU8=k=new Uint8Array(V),i.HEAPU16=K=new Uint16Array(V),i.HEAPU32=se=new Uint32Array(V),i.HEAPF32=pe=new Float32Array(V),i.HEAPF64=ve=new Float64Array(V)}i.INITIAL_MEMORY;var _e,fe=[],ce=[],Ee=[];function we(){return O}function he(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)We(i.preRun.shift());et(fe)}function Re(){et(ce)}function Pe(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Je(i.postRun.shift());et(Ee)}function We(V){fe.unshift(V)}function Me(V){ce.unshift(V)}function Je(V){Ee.unshift(V)}var Be=0,z=null;function Y(V){Be++,i.monitorRunDependencies&&i.monitorRunDependencies(Be)}function ee(V){if(Be--,i.monitorRunDependencies&&i.monitorRunDependencies(Be),Be==0&&z){var $=z;z=null,$()}}function j(V){i.onAbort&&i.onAbort(V),V="Aborted("+V+")",b(V),R=!0,V+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(V);throw s($),$}var oe="data:application/octet-stream;base64,";function be(V){return V.startsWith(oe)}function Ue(V){return V.startsWith("file://")}var ze;ze="libjpegturbowasm_decode.wasm",be(ze)||(ze=m(ze));function at(V){try{if(V==ze&&E)return new Uint8Array(E);if(y)return y(V);throw"both async and sync fetching of the wasm failed"}catch($){j($)}}function gt(){if(!E&&(u||d)){if(typeof fetch=="function"&&!Ue(ze))return fetch(ze,{credentials:"same-origin"}).then(function(V){if(!V.ok)throw"failed to load wasm binary file at '"+ze+"'";return V.arrayBuffer()}).catch(function(){return at(ze)});if(h)return new Promise(function(V,$){h(ze,function(Q){V(new Uint8Array(Q))},$)})}return Promise.resolve().then(function(){return at(ze)})}function St(){var V={a:hn};function $(je,ke){var it=je.exports;i.asm=it,D=i.asm.K,Te(D.buffer),_e=i.asm.M,Me(i.asm.L),ee()}Y();function Q(je){$(je.instance)}function ae(je){return gt().then(function(ke){return WebAssembly.instantiate(ke,V)}).then(function(ke){return ke}).then(je,function(ke){b("failed to asynchronously prepare wasm: "+ke),j(ke)})}function De(){return!E&&typeof WebAssembly.instantiateStreaming=="function"&&!be(ze)&&!Ue(ze)&&!g&&typeof fetch=="function"?fetch(ze,{credentials:"same-origin"}).then(function(je){var ke=WebAssembly.instantiateStreaming(je,V);return ke.then(Q,function(it){return b("wasm streaming compile failed: "+it),b("falling back to ArrayBuffer instantiation"),ae(Q)})}):ae(Q)}if(i.instantiateWasm)try{var $e=i.instantiateWasm(V,$);return $e}catch(je){b("Module.instantiateWasm callback failed with error: "+je),s(je)}return De().catch(s),{}}function ct(V){this.name="ExitStatus",this.message="Program terminated with exit("+V+")",this.status=V}function et(V){for(;V.length>0;)V.shift()(i)}function Ne(V){this.excPtr=V,this.ptr=V-24,this.set_type=function($){se[this.ptr+4>>2]=$},this.get_type=function(){return se[this.ptr+4>>2]},this.set_destructor=function($){se[this.ptr+8>>2]=$},this.get_destructor=function(){return se[this.ptr+8>>2]},this.set_refcount=function($){te[this.ptr>>2]=$},this.set_caught=function($){$=$?1:0,N[this.ptr+12>>0]=$},this.get_caught=function(){return N[this.ptr+12>>0]!=0},this.set_rethrown=function($){$=$?1:0,N[this.ptr+13>>0]=$},this.get_rethrown=function(){return N[this.ptr+13>>0]!=0},this.init=function($,Q){this.set_adjusted_ptr(0),this.set_type($),this.set_destructor(Q),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var $=te[this.ptr>>2];te[this.ptr>>2]=$+1},this.release_ref=function(){var $=te[this.ptr>>2];return te[this.ptr>>2]=$-1,$===1},this.set_adjusted_ptr=function($){se[this.ptr+16>>2]=$},this.get_adjusted_ptr=function(){return se[this.ptr+16>>2]},this.get_exception_ptr=function(){var $=wt(this.get_type());if($)return se[this.excPtr>>2];var Q=this.get_adjusted_ptr();return Q!==0?Q:this.excPtr}}function ut(V,$,Q){var ae=new Ne(V);throw ae.init($,Q),V}var At={};function bt(V){for(;V.length;){var $=V.pop(),Q=V.pop();Q($)}}function Rt(V){return this.fromWireType(te[V>>2])}var jt={},un={},Zt={},Kt=48,fn=57;function en(V){if(V===void 0)return"_unknown";V=V.replace(/[^a-zA-Z0-9_]/g,"$");var $=V.charCodeAt(0);return $>=Kt&&$<=fn?"_"+V:V}function sn(V,$){return V=en(V),new Function("body","return function "+V+`() {
    "use strict";    return body.apply(this, arguments);
};
`)($)}function zt(V,$){var Q=sn($,function(ae){this.name=$,this.message=ae;var De=new Error(ae).stack;De!==void 0&&(this.stack=this.toString()+`
`+De.replace(/^Error(:[^\n]*)?\n/,""))});return Q.prototype=Object.create(V.prototype),Q.prototype.constructor=Q,Q.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},Q}var Lt=void 0;function yt(V){throw new Lt(V)}function lt(V,$,Q){V.forEach(function(ke){Zt[ke]=$});function ae(ke){var it=Q(ke);it.length!==V.length&&yt("Mismatched type converter count");for(var Et=0;Et<V.length;++Et)Ke(V[Et],it[Et])}var De=new Array($.length),$e=[],je=0;$.forEach((ke,it)=>{un.hasOwnProperty(ke)?De[it]=un[ke]:($e.push(ke),jt.hasOwnProperty(ke)||(jt[ke]=[]),jt[ke].push(()=>{De[it]=un[ke],++je,je===$e.length&&ae(De)}))}),$e.length===0&&ae(De)}function de(V){var $=At[V];delete At[V];var Q=$.rawConstructor,ae=$.rawDestructor,De=$.fields,$e=De.map(je=>je.getterReturnType).concat(De.map(je=>je.setterArgumentType));lt([V],$e,je=>{var ke={};return De.forEach((it,Et)=>{var Qt=it.fieldName,Cn=je[Et],Mn=it.getter,Hr=it.getterContext,Qn=je[Et+De.length],sa=it.setter,ri=it.setterContext;ke[Qt]={read:vo=>Cn.fromWireType(Mn(Hr,vo)),write:(vo,Il)=>{var b0=[];sa(ri,vo,Qn.toWireType(b0,Il)),bt(b0)}}}),[{name:$.name,fromWireType:function(it){var Et={};for(var Qt in ke)Et[Qt]=ke[Qt].read(it);return ae(it),Et},toWireType:function(it,Et){for(var Qt in ke)if(!(Qt in Et))throw new TypeError('Missing field:  "'+Qt+'"');var Cn=Q();for(Qt in ke)ke[Qt].write(Cn,Et[Qt]);return it!==null&&it.push(ae,Cn),Cn},argPackAdvance:8,readValueFromPointer:Rt,destructorFunction:ae}]})}function ue(V,$,Q,ae,De){}function ge(V){switch(V){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+V)}}function Ce(){for(var V=new Array(256),$=0;$<256;++$)V[$]=String.fromCharCode($);Ge=V}var Ge=void 0;function He(V){for(var $="",Q=V;k[Q];)$+=Ge[k[Q++]];return $}var pt=void 0;function Qe(V){throw new pt(V)}function Ke(V,$,Q={}){if(!("argPackAdvance"in $))throw new TypeError("registerType registeredInstance requires argPackAdvance");var ae=$.name;if(V||Qe('type "'+ae+'" must have a positive integer typeid pointer'),un.hasOwnProperty(V)){if(Q.ignoreDuplicateRegistrations)return;Qe("Cannot register type '"+ae+"' twice")}if(un[V]=$,delete Zt[V],jt.hasOwnProperty(V)){var De=jt[V];delete jt[V],De.forEach($e=>$e())}}function Ye(V,$,Q,ae,De){var $e=ge(Q);$=He($),Ke(V,{name:$,fromWireType:function(je){return!!je},toWireType:function(je,ke){return ke?ae:De},argPackAdvance:8,readValueFromPointer:function(je){var ke;if(Q===1)ke=N;else if(Q===2)ke=H;else if(Q===4)ke=te;else throw new TypeError("Unknown boolean type size: "+$);return this.fromWireType(ke[je>>$e])},destructorFunction:null})}function ft(V){if(!(this instanceof vn)||!(V instanceof vn))return!1;for(var $=this.$$.ptrType.registeredClass,Q=this.$$.ptr,ae=V.$$.ptrType.registeredClass,De=V.$$.ptr;$.baseClass;)Q=$.upcast(Q),$=$.baseClass;for(;ae.baseClass;)De=ae.upcast(De),ae=ae.baseClass;return $===ae&&Q===De}function xt(V){return{count:V.count,deleteScheduled:V.deleteScheduled,preservePointerOnDelete:V.preservePointerOnDelete,ptr:V.ptr,ptrType:V.ptrType,smartPtr:V.smartPtr,smartPtrType:V.smartPtrType}}function Nt(V){function $(Q){return Q.$$.ptrType.registeredClass.name}Qe($(V)+" instance already deleted")}var Pt=!1;function Ut(V){}function Ht(V){V.smartPtr?V.smartPtrType.rawDestructor(V.smartPtr):V.ptrType.registeredClass.rawDestructor(V.ptr)}function Dt(V){V.count.value-=1;var $=V.count.value===0;$&&Ht(V)}function Mt(V,$,Q){if($===Q)return V;if(Q.baseClass===void 0)return null;var ae=Mt(V,$,Q.baseClass);return ae===null?null:Q.downcast(ae)}var Bt={};function Ft(){return Object.keys(Ct).length}function Ot(){var V=[];for(var $ in Ct)Ct.hasOwnProperty($)&&V.push(Ct[$]);return V}var dn=[];function rn(){for(;dn.length;){var V=dn.pop();V.$$.deleteScheduled=!1,V.delete()}}var pn=void 0;function Xn(V){pn=V,dn.length&&pn&&pn(rn)}function Fn(){i.getInheritedInstanceCount=Ft,i.getLiveInheritedInstances=Ot,i.flushPendingDeletes=rn,i.setDelayFunction=Xn}var Ct={};function $t(V,$){for($===void 0&&Qe("ptr should not be undefined");V.baseClass;)$=V.upcast($),V=V.baseClass;return $}function mn(V,$){return $=$t(V,$),Ct[$]}function An(V,$){(!$.ptrType||!$.ptr)&&yt("makeClassHandle requires ptr and ptrType");var Q=!!$.smartPtrType,ae=!!$.smartPtr;return Q!==ae&&yt("Both smartPtrType and smartPtr must be specified"),$.count={value:1},jn(Object.create(V,{$$:{value:$}}))}function On(V){var $=this.getPointee(V);if(!$)return this.destructor(V),null;var Q=mn(this.registeredClass,$);if(Q!==void 0){if(Q.$$.count.value===0)return Q.$$.ptr=$,Q.$$.smartPtr=V,Q.clone();var ae=Q.clone();return this.destructor(V),ae}function De(){return this.isSmartPointer?An(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:$,smartPtrType:this,smartPtr:V}):An(this.registeredClass.instancePrototype,{ptrType:this,ptr:V})}var $e=this.registeredClass.getActualType($),je=Bt[$e];if(!je)return De.call(this);var ke;this.isConst?ke=je.constPointerType:ke=je.pointerType;var it=Mt($,this.registeredClass,ke.registeredClass);return it===null?De.call(this):this.isSmartPointer?An(ke.registeredClass.instancePrototype,{ptrType:ke,ptr:it,smartPtrType:this,smartPtr:V}):An(ke.registeredClass.instancePrototype,{ptrType:ke,ptr:it})}function jn(V){return typeof FinalizationRegistry>"u"?(jn=$=>$,V):(Pt=new FinalizationRegistry($=>{Dt($.$$)}),jn=$=>{var Q=$.$$,ae=!!Q.smartPtr;if(ae){var De={$$:Q};Pt.register($,De,$)}return $},Ut=$=>Pt.unregister($),jn(V))}function rr(){if(this.$$.ptr||Nt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var V=jn(Object.create(Object.getPrototypeOf(this),{$$:{value:xt(this.$$)}}));return V.$$.count.value+=1,V.$$.deleteScheduled=!1,V}function gr(){this.$$.ptr||Nt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Qe("Object already scheduled for deletion"),Ut(this),Dt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Ra(){return!this.$$.ptr}function kr(){return this.$$.ptr||Nt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Qe("Object already scheduled for deletion"),dn.push(this),dn.length===1&&pn&&pn(rn),this.$$.deleteScheduled=!0,this}function Mr(){vn.prototype.isAliasOf=ft,vn.prototype.clone=rr,vn.prototype.delete=gr,vn.prototype.isDeleted=Ra,vn.prototype.deleteLater=kr}function vn(){}function Wt(V,$,Q){if(V[$].overloadTable===void 0){var ae=V[$];V[$]=function(){return V[$].overloadTable.hasOwnProperty(arguments.length)||Qe("Function '"+Q+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+V[$].overloadTable+")!"),V[$].overloadTable[arguments.length].apply(this,arguments)},V[$].overloadTable=[],V[$].overloadTable[ae.argCount]=ae}}function xn(V,$,Q){i.hasOwnProperty(V)?(Qe("Cannot register public name '"+V+"' twice"),Wt(i,V,V),i.hasOwnProperty(Q)&&Qe("Cannot register multiple overloads of a function with the same number of arguments ("+Q+")!"),i[V].overloadTable[Q]=$):i[V]=$}function bn(V,$,Q,ae,De,$e,je,ke){this.name=V,this.constructor=$,this.instancePrototype=Q,this.rawDestructor=ae,this.baseClass=De,this.getActualType=$e,this.upcast=je,this.downcast=ke,this.pureVirtualFunctions=[]}function _n(V,$,Q){for(;$!==Q;)$.upcast||Qe("Expected null or instance of "+Q.name+", got an instance of "+$.name),V=$.upcast(V),$=$.baseClass;return V}function $n(V,$){if($===null)return this.isReference&&Qe("null is not a valid "+this.name),0;$.$$||Qe('Cannot pass "'+y0($)+'" as a '+this.name),$.$$.ptr||Qe("Cannot pass deleted object as a pointer of type "+this.name);var Q=$.$$.ptrType.registeredClass,ae=_n($.$$.ptr,Q,this.registeredClass);return ae}function Gn(V,$){var Q;if($===null)return this.isReference&&Qe("null is not a valid "+this.name),this.isSmartPointer?(Q=this.rawConstructor(),V!==null&&V.push(this.rawDestructor,Q),Q):0;$.$$||Qe('Cannot pass "'+y0($)+'" as a '+this.name),$.$$.ptr||Qe("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&$.$$.ptrType.isConst&&Qe("Cannot convert argument of type "+($.$$.smartPtrType?$.$$.smartPtrType.name:$.$$.ptrType.name)+" to parameter type "+this.name);var ae=$.$$.ptrType.registeredClass;if(Q=_n($.$$.ptr,ae,this.registeredClass),this.isSmartPointer)switch($.$$.smartPtr===void 0&&Qe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:$.$$.smartPtrType===this?Q=$.$$.smartPtr:Qe("Cannot convert argument of type "+($.$$.smartPtrType?$.$$.smartPtrType.name:$.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:Q=$.$$.smartPtr;break;case 2:if($.$$.smartPtrType===this)Q=$.$$.smartPtr;else{var De=$.clone();Q=this.rawShare(Q,$i.toHandle(function(){De.delete()})),V!==null&&V.push(this.rawDestructor,Q)}break;default:Qe("Unsupporting sharing policy")}return Q}function Dr(V,$){if($===null)return this.isReference&&Qe("null is not a valid "+this.name),0;$.$$||Qe('Cannot pass "'+y0($)+'" as a '+this.name),$.$$.ptr||Qe("Cannot pass deleted object as a pointer of type "+this.name),$.$$.ptrType.isConst&&Qe("Cannot convert argument of type "+$.$$.ptrType.name+" to parameter type "+this.name);var Q=$.$$.ptrType.registeredClass,ae=_n($.$$.ptr,Q,this.registeredClass);return ae}function pr(V){return this.rawGetPointee&&(V=this.rawGetPointee(V)),V}function Ur(V){this.rawDestructor&&this.rawDestructor(V)}function Ar(V){V!==null&&V.delete()}function Nr(){Rr.prototype.getPointee=pr,Rr.prototype.destructor=Ur,Rr.prototype.argPackAdvance=8,Rr.prototype.readValueFromPointer=Rt,Rr.prototype.deleteObject=Ar,Rr.prototype.fromWireType=On}function Rr(V,$,Q,ae,De,$e,je,ke,it,Et,Qt){this.name=V,this.registeredClass=$,this.isReference=Q,this.isConst=ae,this.isSmartPointer=De,this.pointeeType=$e,this.sharingPolicy=je,this.rawGetPointee=ke,this.rawConstructor=it,this.rawShare=Et,this.rawDestructor=Qt,!De&&$.baseClass===void 0?ae?(this.toWireType=$n,this.destructorFunction=null):(this.toWireType=Dr,this.destructorFunction=null):this.toWireType=Gn}function gn(V,$,Q){i.hasOwnProperty(V)||yt("Replacing nonexistant public symbol"),i[V].overloadTable!==void 0&&Q!==void 0?i[V].overloadTable[Q]=$:(i[V]=$,i[V].argCount=Q)}function wn(V,$,Q){var ae=i["dynCall_"+V];return Q&&Q.length?ae.apply(null,[$].concat(Q)):ae.call(null,$)}var Hn=[];function zn(V){var $=Hn[V];return $||(V>=Hn.length&&(Hn.length=V+1),Hn[V]=$=_e.get(V)),$}function Sr(V,$,Q){if(V.includes("j"))return wn(V,$,Q);var ae=zn($).apply(null,Q);return ae}function Or(V,$){var Q=[];return function(){return Q.length=0,Object.assign(Q,arguments),Sr(V,$,Q)}}function mr(V,$){V=He(V);function Q(){return V.includes("j")?Or(V,$):zn($)}var ae=Q();return typeof ae!="function"&&Qe("unknown function pointer with signature "+V+": "+$),ae}var Br=void 0;function Qa(V){var $=q(V),Q=He($);return En($),Q}function Xa(V,$){var Q=[],ae={};function De($e){if(!ae[$e]&&!un[$e]){if(Zt[$e]){Zt[$e].forEach(De);return}Q.push($e),ae[$e]=!0}}throw $.forEach(De),new Br(V+": "+Q.map(Qa).join([", "]))}function da(V,$,Q,ae,De,$e,je,ke,it,Et,Qt,Cn,Mn){Qt=He(Qt),$e=mr(De,$e),ke&&(ke=mr(je,ke)),Et&&(Et=mr(it,Et)),Mn=mr(Cn,Mn);var Hr=en(Qt);xn(Hr,function(){Xa("Cannot construct "+Qt+" due to unbound types",[ae])}),lt([V,$,Q],ae?[ae]:[],function(Qn){Qn=Qn[0];var sa,ri;ae?(sa=Qn.registeredClass,ri=sa.instancePrototype):ri=vn.prototype;var vo=sn(Hr,function(){if(Object.getPrototypeOf(this)!==Il)throw new pt("Use 'new' to construct "+Qt);if(b0.constructor_body===void 0)throw new pt(Qt+" has no accessible constructor");var iE=b0.constructor_body[arguments.length];if(iE===void 0)throw new pt("Tried to invoke ctor of "+Qt+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(b0.constructor_body).toString()+") parameters instead!");return iE.apply(this,arguments)}),Il=Object.create(ri,{constructor:{value:vo}});vo.prototype=Il;var b0=new bn(Qt,vo,Il,Mn,sa,$e,ke,Et),rQ=new Rr(Qt,b0,!0,!1,!1),rE=new Rr(Qt+"*",b0,!1,!1,!1),aE=new Rr(Qt+" const*",b0,!1,!0,!1);return Bt[V]={pointerType:rE,constPointerType:aE},gn(Hr,vo),[rQ,rE,aE]})}function ga(V,$){for(var Q=[],ae=0;ae<V;ae++)Q.push(se[$+ae*4>>2]);return Q}function Jt(V,$){if(!(V instanceof Function))throw new TypeError("new_ called with constructor type "+typeof V+" which is not a function");var Q=sn(V.name||"unknownFunctionName",function(){});Q.prototype=V.prototype;var ae=new Q,De=V.apply(ae,$);return De instanceof Object?De:ae}function an(V,$,Q,ae,De){var $e=$.length;$e<2&&Qe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var je=$[1]!==null&&Q!==null,ke=!1,it=1;it<$.length;++it)if($[it]!==null&&$[it].destructorFunction===void 0){ke=!0;break}for(var Et=$[0].name!=="void",Qt="",Cn="",it=0;it<$e-2;++it)Qt+=(it!==0?", ":"")+"arg"+it,Cn+=(it!==0?", ":"")+"arg"+it+"Wired";var Mn="return function "+en(V)+"("+Qt+`) {
if (arguments.length !== `+($e-2)+`) {
throwBindingError('function `+V+" called with ' + arguments.length + ' arguments, expected "+($e-2)+` args!');
}
`;ke&&(Mn+=`var destructors = [];
`);var Hr=ke?"destructors":"null",Qn=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],sa=[Qe,ae,De,bt,$[0],$[1]];je&&(Mn+="var thisWired = classParam.toWireType("+Hr+`, this);
`);for(var it=0;it<$e-2;++it)Mn+="var arg"+it+"Wired = argType"+it+".toWireType("+Hr+", arg"+it+"); // "+$[it+2].name+`
`,Qn.push("argType"+it),sa.push($[it+2]);if(je&&(Cn="thisWired"+(Cn.length>0?", ":"")+Cn),Mn+=(Et?"var rv = ":"")+"invoker(fn"+(Cn.length>0?", ":"")+Cn+`);
`,ke)Mn+=`runDestructors(destructors);
`;else for(var it=je?1:2;it<$.length;++it){var ri=it===1?"thisWired":"arg"+(it-2)+"Wired";$[it].destructorFunction!==null&&(Mn+=ri+"_dtor("+ri+"); // "+$[it].name+`
`,Qn.push(ri+"_dtor"),sa.push($[it].destructorFunction))}Et&&(Mn+=`var ret = retType.fromWireType(rv);
return ret;
`),Mn+=`}
`,Qn.push(Mn);var vo=Jt(Function,Qn).apply(null,sa);return vo}function yr(V,$,Q,ae,De,$e){I($>0);var je=ga($,Q);De=mr(ae,De),lt([],[V],function(ke){ke=ke[0];var it="constructor "+ke.name;if(ke.registeredClass.constructor_body===void 0&&(ke.registeredClass.constructor_body=[]),ke.registeredClass.constructor_body[$-1]!==void 0)throw new pt("Cannot register multiple constructors with identical number of parameters ("+($-1)+") for class '"+ke.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return ke.registeredClass.constructor_body[$-1]=()=>{Xa("Cannot construct "+ke.name+" due to unbound types",je)},lt([],je,function(Et){return Et.splice(1,0,null),ke.registeredClass.constructor_body[$-1]=an(it,Et,null,De,$e),[]}),[]})}function Ir(V,$,Q,ae,De,$e,je,ke){var it=ga(Q,ae);$=He($),$e=mr(De,$e),lt([],[V],function(Et){Et=Et[0];var Qt=Et.name+"."+$;$.startsWith("@@")&&($=Symbol[$.substring(2)]),ke&&Et.registeredClass.pureVirtualFunctions.push($);function Cn(){Xa("Cannot call "+Qt+" due to unbound types",it)}var Mn=Et.registeredClass.instancePrototype,Hr=Mn[$];return Hr===void 0||Hr.overloadTable===void 0&&Hr.className!==Et.name&&Hr.argCount===Q-2?(Cn.argCount=Q-2,Cn.className=Et.name,Mn[$]=Cn):(Wt(Mn,$,Qt),Mn[$].overloadTable[Q-2]=Cn),lt([],it,function(Qn){var sa=an(Qt,Qn,Et,$e,je);return Mn[$].overloadTable===void 0?(sa.argCount=Q-2,Mn[$]=sa):Mn[$].overloadTable[Q-2]=sa,[]}),[]})}var Jn=[],oa=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ia(V){V>4&&--oa[V].refcount===0&&(oa[V]=void 0,Jn.push(V))}function Gs(){for(var V=0,$=5;$<oa.length;++$)oa[$]!==void 0&&++V;return V}function wi(){for(var V=5;V<oa.length;++V)if(oa[V]!==void 0)return oa[V];return null}function gi(){i.count_emval_handles=Gs,i.get_first_emval=wi}var $i={toValue:V=>(V||Qe("Cannot use deleted val. handle = "+V),oa[V].value),toHandle:V=>{switch(V){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var $=Jn.length?Jn.pop():oa.length;return oa[$]={refcount:1,value:V},$}}}};function Gc(V,$){$=He($),Ke(V,{name:$,fromWireType:function(Q){var ae=$i.toValue(Q);return Ia(Q),ae},toWireType:function(Q,ae){return $i.toHandle(ae)},argPackAdvance:8,readValueFromPointer:Rt,destructorFunction:null})}function y0(V){if(V===null)return"null";var $=typeof V;return $==="object"||$==="array"||$==="function"?V.toString():""+V}function zc(V,$){switch($){case 2:return function(Q){return this.fromWireType(pe[Q>>2])};case 3:return function(Q){return this.fromWireType(ve[Q>>3])};default:throw new TypeError("Unknown float type: "+V)}}function ds(V,$,Q){var ae=ge(Q);$=He($),Ke(V,{name:$,fromWireType:function(De){return De},toWireType:function(De,$e){return $e},argPackAdvance:8,readValueFromPointer:zc($,ae),destructorFunction:null})}function ml(V,$,Q){switch($){case 0:return Q?function(De){return N[De]}:function(De){return k[De]};case 1:return Q?function(De){return H[De>>1]}:function(De){return K[De>>1]};case 2:return Q?function(De){return te[De>>2]}:function(De){return se[De>>2]};default:throw new TypeError("Unknown integer type: "+V)}}function C0(V,$,Q,ae,De){$=He($);var $e=ge(Q),je=Cn=>Cn;if(ae===0){var ke=32-8*Q;je=Cn=>Cn<<ke>>>ke}var it=$.includes("unsigned"),Et=(Cn,Mn)=>{},Qt;it?Qt=function(Cn,Mn){return Et(Mn,this.name),Mn>>>0}:Qt=function(Cn,Mn){return Et(Mn,this.name),Mn},Ke(V,{name:$,fromWireType:je,toWireType:Qt,argPackAdvance:8,readValueFromPointer:ml($,$e,ae!==0),destructorFunction:null})}function Wc(V,$,Q){var ae=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],De=ae[$];function $e(je){je=je>>2;var ke=se,it=ke[je],Et=ke[je+1];return new De(P,Et,it)}Q=He(Q),Ke(V,{name:Q,fromWireType:$e,argPackAdvance:8,readValueFromPointer:$e},{ignoreDuplicateRegistrations:!0})}function jc(V,$){$=He($);var Q=$==="std::string";Ke(V,{name:$,fromWireType:function(ae){var De=se[ae>>2],$e=ae+4,je;if(Q)for(var ke=$e,it=0;it<=De;++it){var Et=$e+it;if(it==De||k[Et]==0){var Qt=Et-ke,Cn=B(ke,Qt);je===void 0?je=Cn:(je+="\0",je+=Cn),ke=Et+1}}else{for(var Mn=new Array(De),it=0;it<De;++it)Mn[it]=String.fromCharCode(k[$e+it]);je=Mn.join("")}return En(ae),je},toWireType:function(ae,De){De instanceof ArrayBuffer&&(De=new Uint8Array(De));var $e,je=typeof De=="string";je||De instanceof Uint8Array||De instanceof Uint8ClampedArray||De instanceof Int8Array||Qe("Cannot pass non-string to std::string"),Q&&je?$e=_(De):$e=De.length;var ke=Rn(4+$e+1),it=ke+4;if(se[ke>>2]=$e,Q&&je)F(De,it,$e+1);else if(je)for(var Et=0;Et<$e;++Et){var Qt=De.charCodeAt(Et);Qt>255&&(En(it),Qe("String has UTF-16 code units that do not fit in 8 bits")),k[it+Et]=Qt}else for(var Et=0;Et<$e;++Et)k[it+Et]=De[Et];return ae!==null&&ae.push(En,ke),ke},argPackAdvance:8,readValueFromPointer:Rt,destructorFunction:function(ae){En(ae)}})}var vl=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Hc(V,$){for(var Q=V,ae=Q>>1,De=ae+$/2;!(ae>=De)&&K[ae];)++ae;if(Q=ae<<1,Q-V>32&&vl)return vl.decode(k.subarray(V,Q));for(var $e="",je=0;!(je>=$/2);++je){var ke=H[V+je*2>>1];if(ke==0)break;$e+=String.fromCharCode(ke)}return $e}function qc(V,$,Q){if(Q===void 0&&(Q=2147483647),Q<2)return 0;Q-=2;for(var ae=$,De=Q<V.length*2?Q/2:V.length,$e=0;$e<De;++$e){var je=V.charCodeAt($e);H[$>>1]=je,$+=2}return H[$>>1]=0,$-ae}function Kc(V){return V.length*2}function Qc(V,$){for(var Q=0,ae="";!(Q>=$/4);){var De=te[V+Q*4>>2];if(De==0)break;if(++Q,De>=65536){var $e=De-65536;ae+=String.fromCharCode(55296|$e>>10,56320|$e&1023)}else ae+=String.fromCharCode(De)}return ae}function pl(V,$,Q){if(Q===void 0&&(Q=2147483647),Q<4)return 0;for(var ae=$,De=ae+Q-4,$e=0;$e<V.length;++$e){var je=V.charCodeAt($e);if(je>=55296&&je<=57343){var ke=V.charCodeAt(++$e);je=65536+((je&1023)<<10)|ke&1023}if(te[$>>2]=je,$+=4,$+4>De)break}return te[$>>2]=0,$-ae}function Xc(V){for(var $=0,Q=0;Q<V.length;++Q){var ae=V.charCodeAt(Q);ae>=55296&&ae<=57343&&++Q,$+=4}return $}function Yc(V,$,Q){Q=He(Q);var ae,De,$e,je,ke;$===2?(ae=Hc,De=qc,je=Kc,$e=()=>K,ke=1):$===4&&(ae=Qc,De=pl,je=Xc,$e=()=>se,ke=2),Ke(V,{name:Q,fromWireType:function(it){for(var Et=se[it>>2],Qt=$e(),Cn,Mn=it+4,Hr=0;Hr<=Et;++Hr){var Qn=it+4+Hr*$;if(Hr==Et||Qt[Qn>>ke]==0){var sa=Qn-Mn,ri=ae(Mn,sa);Cn===void 0?Cn=ri:(Cn+="\0",Cn+=ri),Mn=Qn+$}}return En(it),Cn},toWireType:function(it,Et){typeof Et!="string"&&Qe("Cannot pass non-string to C++ string type "+Q);var Qt=je(Et),Cn=Rn(4+Qt+$);return se[Cn>>2]=Qt>>ke,De(Et,Cn+4,Qt+$),it!==null&&it.push(En,Cn),Cn},argPackAdvance:8,readValueFromPointer:Rt,destructorFunction:function(it){En(it)}})}function hl(V,$,Q,ae,De,$e){At[V]={name:He($),rawConstructor:mr(Q,ae),rawDestructor:mr(De,$e),fields:[]}}function Sl(V,$,Q,ae,De,$e,je,ke,it,Et){At[V].fields.push({fieldName:He($),getterReturnType:Q,getter:mr(ae,De),getterContext:$e,setterArgumentType:je,setter:mr(ke,it),setterContext:Et})}function Zc(V,$){$=He($),Ke(V,{isVoid:!0,name:$,argPackAdvance:0,fromWireType:function(){},toWireType:function(Q,ae){}})}function yl(){throw 1/0}var Cl={};function xl(V){var $=Cl[V];return $===void 0?He(V):$}function x0(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Jc(V){return V===0?$i.toHandle(x0()):(V=xl(V),$i.toHandle(x0()[V]))}function eu(V){V>4&&(oa[V].refcount+=1)}function Tl(V,$){var Q=un[V];return Q===void 0&&Qe($+" has unknown type "+Qa(V)),Q}function wl(V){for(var $="",Q=0;Q<V;++Q)$+=(Q!==0?", ":"")+"arg"+Q;for(var ae=()=>se,De="return function emval_allocator_"+V+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`,Q=0;Q<V;++Q)De+="var argType"+Q+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+Q+`');
var arg`+Q+" = argType"+Q+`.readValueFromPointer(args);
args += argType`+Q+`['argPackAdvance'];
argTypes += 4;
`;return De+="var obj = new constructor("+$+`);
return valueToHandle(obj);
}
`,new Function("requireRegisteredType","Module","valueToHandle","getMemory",De)(Tl,i,$i.toHandle,ae)}var bl={};function tu(V,$,Q,ae){V=$i.toValue(V);var De=bl[$];return De||(De=wl($),bl[$]=De),De(V,Q,ae)}function nu(V,$){V=Tl(V,"_emval_take_value");var Q=V.readValueFromPointer($);return $i.toHandle(Q)}function ru(){j("")}function T0(V,$,Q){k.copyWithin(V,$,$+Q)}function au(){return 2147483648}function mo(V){try{return D.grow(V-P.byteLength+65535>>>16),Te(D.buffer),1}catch{}}function El(V){var $=k.length;V=V>>>0;var Q=au();if(V>Q)return!1;let ae=(it,Et)=>it+(Et-it%Et)%Et;for(var De=1;De<=4;De*=2){var $e=$*(1+.2/De);$e=Math.min($e,V+100663296);var je=Math.min(Q,ae(Math.max(V,$e),65536)),ke=mo(je);if(ke)return!0}return!1}var mi={};function Dl(){return c||"./this.program"}function Go(){if(!Go.strings){var V=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",$={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:V,_:Dl()};for(var Q in mi)mi[Q]===void 0?delete $[Q]:$[Q]=mi[Q];var ae=[];for(var Q in $)ae.push(Q+"="+$[Q]);Go.strings=ae}return Go.strings}function w0(V,$,Q){for(var ae=0;ae<V.length;++ae)N[$++>>0]=V.charCodeAt(ae);N[$>>0]=0}function Ol(V,$){var Q=0;return Go().forEach(function(ae,De){var $e=$+Q;se[V+De*4>>2]=$e,w0(ae,$e),Q+=ae.length+1}),0}function zs(V,$){var Q=Go();se[V>>2]=Q.length;var ae=0;return Q.forEach(function(De){ae+=De.length+1}),se[$>>2]=ae,0}function Rl(V){we()||(i.onExit&&i.onExit(V),R=!0),f(V,new ct(V))}function X(V,$){Rl(V)}var Z=X;function me(V){return 52}function Ve(V,$,Q,ae,De){return 70}var Xe=[null,[],[]];function mt(V,$){var Q=Xe[V];$===0||$===10?((V===1?w:b)(A(Q,0)),Q.length=0):Q.push($)}function vt(V,$,Q,ae){for(var De=0,$e=0;$e<Q;$e++){var je=se[$>>2],ke=se[$+4>>2];$+=8;for(var it=0;it<ke;it++)mt(V,k[je+it]);De+=ke}return se[ae>>2]=De,0}function nt(V){var $=i["_"+V];return $}function Tt(V,$){N.set(V,$)}function Gt(V,$,Q,ae,De){var $e={string:Qn=>{var sa=0;if(Qn!=null&&Qn!==0){var ri=(Qn.length<<2)+1;sa=qe(ri),F(Qn,sa,ri)}return sa},array:Qn=>{var sa=qe(Qn.length);return Tt(Qn,sa),sa}};function je(Qn){return $==="string"?B(Qn):$==="boolean"?!!Qn:Qn}var ke=nt(V),it=[],Et=0;if(ae)for(var Qt=0;Qt<ae.length;Qt++){var Cn=$e[Q[Qt]];Cn?(Et===0&&(Et=le()),it[Qt]=Cn(ae[Qt])):it[Qt]=ae[Qt]}var Mn=ke.apply(null,it);function Hr(Qn){return Et!==0&&Ie(Et),je(Qn)}return Mn=Hr(Mn),Mn}Lt=i.InternalError=zt(Error,"InternalError"),Ce(),pt=i.BindingError=zt(Error,"BindingError"),Mr(),Fn(),Nr(),Br=i.UnboundTypeError=zt(Error,"UnboundTypeError"),gi();var hn={g:ut,A:de,w:ue,F:Ye,u:da,t:yr,c:Ir,E:Gc,m:ds,b:C0,a:Wc,l:jc,h:Yc,J:hl,d:Sl,G:Zc,x:yl,i:Ia,r:Jc,p:eu,q:tu,s:nu,j:ru,D:T0,y:El,z:Ol,B:zs,I:Z,C:me,v:Ve,k:vt,o:st,n:re,H:G,f:ht,e:U};St(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.L).apply(null,arguments)};var Rn=i._malloc=function(){return(Rn=i._malloc=i.asm.N).apply(null,arguments)},En=i._free=function(){return(En=i._free=i.asm.O).apply(null,arguments)},q=i.___getTypeName=function(){return(q=i.___getTypeName=i.asm.P).apply(null,arguments)};i.__embind_initialize_bindings=function(){return(i.__embind_initialize_bindings=i.asm.Q).apply(null,arguments)};var W=i._setThrew=function(){return(W=i._setThrew=i.asm.R).apply(null,arguments)},le=i.stackSave=function(){return(le=i.stackSave=i.asm.S).apply(null,arguments)},Ie=i.stackRestore=function(){return(Ie=i.stackRestore=i.asm.T).apply(null,arguments)},qe=i.stackAlloc=function(){return(qe=i.stackAlloc=i.asm.U).apply(null,arguments)},wt=i.___cxa_is_pointer_type=function(){return(wt=i.___cxa_is_pointer_type=i.asm.V).apply(null,arguments)};i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.W).apply(null,arguments)};function ht(V,$){var Q=le();try{zn(V)($)}catch(ae){if(Ie(Q),ae!==ae+0)throw ae;W(1,0)}}function st(V,$){var Q=le();try{return zn(V)($)}catch(ae){if(Ie(Q),ae!==ae+0)throw ae;W(1,0)}}function U(V,$,Q,ae){var De=le();try{zn(V)($,Q,ae)}catch($e){if(Ie(De),$e!==$e+0)throw $e;W(1,0)}}function G(V,$,Q,ae){var De=le();try{return zn(V)($,Q,ae)}catch($e){if(Ie(De),$e!==$e+0)throw $e;W(1,0)}}function re(V,$,Q){var ae=le();try{return zn(V)($,Q)}catch(De){if(Ie(ae),De!==De+0)throw De;W(1,0)}}i.ccall=Gt;var ye;z=function V(){ye||Le(),ye||(z=V)};function Le(V){if(Be>0||(he(),Be>0))return;function $(){ye||(ye=!0,i.calledRun=!0,!R&&(Re(),o(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),Pe()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),$()},1)):$()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Le(),a.ready}})();t.exports=n})(PH);var gIe=PH.exports;const mIe=No(gIe),vIe=new URL("/cursor-dicom-viewer/assets/libjpegturbowasm_decode-daqMmuVl.wasm",import.meta.url),q2={codec:void 0,decoder:void 0};function pIe(){if(q2.codec)return Promise.resolve();const t=mIe({locateFile:e=>e.endsWith(".wasm")?vIe.toString():e});return new Promise((e,n)=>{t.then(r=>{q2.codec=r,q2.decoder=new r.JPEGDecoder,e()},n)})}async function hIe(t,e){await pIe();const n=q2.decoder;n.getEncodedBuffer(t.length).set(t),n.decode();const a=n.getFrameInfo(),i=n.getDecodedBuffer(),o={columns:a.width,rows:a.height,bitsPerPixel:a.bitsPerSample,signed:e.signed,bytesPerPixel:e.bytesPerPixel,componentsPerPixel:a.componentCount},s=SIe(a,i),l={frameInfo:a};return{...e,pixelData:s,imageInfo:o,encodeOptions:l,...l,...o}}function SIe(t,e){return t.isSigned?new Int8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}const yIe="modulepreload",CIe=function(t){return"/cursor-dicom-viewer/"+t},JM={},LH=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(l=>{if(l=CIe(l),l in JM)return;JM[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":yIe,c||(u.as="script"),u.crossOrigin="",u.href=l,s&&u.setAttribute("nonce",s),document.head.appendChild(u),c)return new Promise((d,g)=>{u.addEventListener("load",d),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return e().catch(i)})},jm={JpegImage:void 0,decodeConfig:{}};function xIe(t){return jm.decodeConfig=t,jm.JpegImage?Promise.resolve():new Promise((e,n)=>{LH(()=>import("./jpeg-HBGIxCW8.js"),[]).then(r=>{jm.JpegImage=r.default,e()}).catch(n)})}async function TIe(t,e){if(await xIe(),typeof jm.JpegImage>"u")throw new Error("No JPEG Baseline decoder loaded");const n=new jm.JpegImage;if(n.parse(e),n.colorTransform=!1,t.bitsAllocated===8)return t.pixelData=n.getData(t.columns,t.rows),t;if(t.bitsAllocated===16)return t.pixelData=n.getData16(t.columns,t.rows),t}const Hm={jpeg:void 0,decodeConfig:{}};function wIe(t){return Hm.decodeConfig=t,Hm.jpeg?Promise.resolve():new Promise((e,n)=>{LH(async()=>{const{Decoder:r}=await import("./lossless-BIYWXcdg.js");return{Decoder:r}},[]).then(({Decoder:r})=>{const a=new r;Hm.jpeg=a,e()},n)})}async function eP(t,e){if(await wIe(),typeof Hm.jpeg>"u")throw new Error("No JPEG Lossless decoder loaded");const n=t.bitsAllocated<=8?1:2,r=e.buffer,a=Hm.jpeg.decode(r,e.byteOffset,e.length,n);return t.pixelRepresentation===0?t.bitsAllocated===16?(t.pixelData=new Uint16Array(a.buffer),t):(t.pixelData=new Uint8Array(a.buffer),t):(t.pixelData=new Int16Array(a.buffer),t)}var _H={exports:{}};(function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};var i=typeof a<"u"?a:{},o,s;i.ready=new Promise(function(X,Z){o=X,s=Z});var l=Object.assign({},i),c=typeof window=="object",f=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",d="";function g(X){return i.locateFile?i.locateFile(X,d):d+X}var v,m,p;if(u){var h=c0,y=c0;f?d=y.dirname(d)+"/":d=__dirname+"/",v=(X,Z)=>(X=z(X)?new URL(X):y.normalize(X),h.readFileSync(X,Z?void 0:"utf8")),p=X=>{var Z=v(X,!0);return Z.buffer||(Z=new Uint8Array(Z)),Z},m=(X,Z,me)=>{X=z(X)?new URL(X):y.normalize(X),h.readFile(X,function(Ve,Xe){Ve?me(Ve):Z(Xe.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(X){if(!(X instanceof be))throw X}),process.on("unhandledRejection",function(X){throw X}),i.inspect=function(){return"[Emscripten Module object]"}}else(c||f)&&(f?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),r&&(d=r),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",v=X=>{var Z=new XMLHttpRequest;return Z.open("GET",X,!1),Z.send(null),Z.responseText},f&&(p=X=>{var Z=new XMLHttpRequest;return Z.open("GET",X,!1),Z.responseType="arraybuffer",Z.send(null),new Uint8Array(Z.response)}),m=(X,Z,me)=>{var Ve=new XMLHttpRequest;Ve.open("GET",X,!0),Ve.responseType="arraybuffer",Ve.onload=()=>{if(Ve.status==200||Ve.status==0&&Ve.response){Z(Ve.response);return}me()},Ve.onerror=me,Ve.send(null)});i.print||console.log.bind(console);var C=i.printErr||console.warn.bind(console);Object.assign(i,l),l=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var x;i.wasmBinary&&(x=i.wasmBinary),i.noExitRuntime,typeof WebAssembly!="object"&&Me("no native wasm support detected");var T,w=!1;function b(X,Z){X||Me(Z)}var E=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function O(X,Z,me){for(var Ve=Z+me,Xe=Z;X[Xe]&&!(Xe>=Ve);)++Xe;if(Xe-Z>16&&X.buffer&&E)return E.decode(X.subarray(Z,Xe));for(var mt="";Z<Xe;){var vt=X[Z++];if(!(vt&128)){mt+=String.fromCharCode(vt);continue}var nt=X[Z++]&63;if((vt&224)==192){mt+=String.fromCharCode((vt&31)<<6|nt);continue}var Tt=X[Z++]&63;if((vt&240)==224?vt=(vt&15)<<12|nt<<6|Tt:vt=(vt&7)<<18|nt<<12|Tt<<6|X[Z++]&63,vt<65536)mt+=String.fromCharCode(vt);else{var Gt=vt-65536;mt+=String.fromCharCode(55296|Gt>>10,56320|Gt&1023)}}return mt}function D(X,Z){return X?O(L,X,Z):""}function R(X,Z,me,Ve){if(!(Ve>0))return 0;for(var Xe=me,mt=me+Ve-1,vt=0;vt<X.length;++vt){var nt=X.charCodeAt(vt);if(nt>=55296&&nt<=57343){var Tt=X.charCodeAt(++vt);nt=65536+((nt&1023)<<10)|Tt&1023}if(nt<=127){if(me>=mt)break;Z[me++]=nt}else if(nt<=2047){if(me+1>=mt)break;Z[me++]=192|nt>>6,Z[me++]=128|nt&63}else if(nt<=65535){if(me+2>=mt)break;Z[me++]=224|nt>>12,Z[me++]=128|nt>>6&63,Z[me++]=128|nt&63}else{if(me+3>=mt)break;Z[me++]=240|nt>>18,Z[me++]=128|nt>>12&63,Z[me++]=128|nt>>6&63,Z[me++]=128|nt&63}}return Z[me]=0,me-Xe}function I(X,Z,me){return R(X,L,Z,me)}function M(X){for(var Z=0,me=0;me<X.length;++me){var Ve=X.charCodeAt(me);Ve<=127?Z++:Ve<=2047?Z+=2:Ve>=55296&&Ve<=57343?(Z+=4,++me):Z+=3}return Z}var A,B,L,F,_,P,N,k,H;function K(X){A=X,i.HEAP8=B=new Int8Array(X),i.HEAP16=F=new Int16Array(X),i.HEAP32=P=new Int32Array(X),i.HEAPU8=L=new Uint8Array(X),i.HEAPU16=_=new Uint16Array(X),i.HEAPU32=N=new Uint32Array(X),i.HEAPF32=k=new Float32Array(X),i.HEAPF64=H=new Float64Array(X)}i.INITIAL_MEMORY;var te,se=[],pe=[],ve=[];function Te(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ce(i.preRun.shift());Ue(se)}function _e(){Ue(pe)}function fe(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)we(i.postRun.shift());Ue(ve)}function ce(X){se.unshift(X)}function Ee(X){pe.unshift(X)}function we(X){ve.unshift(X)}var he=0,Re=null;function Pe(X){he++,i.monitorRunDependencies&&i.monitorRunDependencies(he)}function We(X){if(he--,i.monitorRunDependencies&&i.monitorRunDependencies(he),he==0&&Re){var Z=Re;Re=null,Z()}}function Me(X){i.onAbort&&i.onAbort(X),X="Aborted("+X+")",C(X),w=!0,X+=". Build with -sASSERTIONS for more info.";var Z=new WebAssembly.RuntimeError(X);throw s(Z),Z}var Je="data:application/octet-stream;base64,";function Be(X){return X.startsWith(Je)}function z(X){return X.startsWith("file://")}var Y;Y="charlswasm_decode.wasm",Be(Y)||(Y=g(Y));function ee(X){try{if(X==Y&&x)return new Uint8Array(x);if(p)return p(X);throw"both async and sync fetching of the wasm failed"}catch(Z){Me(Z)}}function j(){if(!x&&(c||f)){if(typeof fetch=="function"&&!z(Y))return fetch(Y,{credentials:"same-origin"}).then(function(X){if(!X.ok)throw"failed to load wasm binary file at '"+Y+"'";return X.arrayBuffer()}).catch(function(){return ee(Y)});if(m)return new Promise(function(X,Z){m(Y,function(me){X(new Uint8Array(me))},Z)})}return Promise.resolve().then(function(){return ee(Y)})}function oe(){var X={a:au};function Z(vt,nt){var Tt=vt.exports;i.asm=Tt,T=i.asm.z,K(T.buffer),te=i.asm.C,Ee(i.asm.A),We()}Pe();function me(vt){Z(vt.instance)}function Ve(vt){return j().then(function(nt){return WebAssembly.instantiate(nt,X)}).then(function(nt){return nt}).then(vt,function(nt){C("failed to asynchronously prepare wasm: "+nt),Me(nt)})}function Xe(){return!x&&typeof WebAssembly.instantiateStreaming=="function"&&!Be(Y)&&!z(Y)&&!u&&typeof fetch=="function"?fetch(Y,{credentials:"same-origin"}).then(function(vt){var nt=WebAssembly.instantiateStreaming(vt,X);return nt.then(me,function(Tt){return C("wasm streaming compile failed: "+Tt),C("falling back to ArrayBuffer instantiation"),Ve(me)})}):Ve(me)}if(i.instantiateWasm)try{var mt=i.instantiateWasm(X,Z);return mt}catch(vt){C("Module.instantiateWasm callback failed with error: "+vt),s(vt)}return Xe().catch(s),{}}function be(X){this.name="ExitStatus",this.message="Program terminated with exit("+X+")",this.status=X}function Ue(X){for(;X.length>0;)X.shift()(i)}function ze(X){this.excPtr=X,this.ptr=X-24,this.set_type=function(Z){N[this.ptr+4>>2]=Z},this.get_type=function(){return N[this.ptr+4>>2]},this.set_destructor=function(Z){N[this.ptr+8>>2]=Z},this.get_destructor=function(){return N[this.ptr+8>>2]},this.set_refcount=function(Z){P[this.ptr>>2]=Z},this.set_caught=function(Z){Z=Z?1:0,B[this.ptr+12>>0]=Z},this.get_caught=function(){return B[this.ptr+12>>0]!=0},this.set_rethrown=function(Z){Z=Z?1:0,B[this.ptr+13>>0]=Z},this.get_rethrown=function(){return B[this.ptr+13>>0]!=0},this.init=function(Z,me){this.set_adjusted_ptr(0),this.set_type(Z),this.set_destructor(me),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var Z=P[this.ptr>>2];P[this.ptr>>2]=Z+1},this.release_ref=function(){var Z=P[this.ptr>>2];return P[this.ptr>>2]=Z-1,Z===1},this.set_adjusted_ptr=function(Z){N[this.ptr+16>>2]=Z},this.get_adjusted_ptr=function(){return N[this.ptr+16>>2]},this.get_exception_ptr=function(){var Z=Ol(this.get_type());if(Z)return N[this.excPtr>>2];var me=this.get_adjusted_ptr();return me!==0?me:this.excPtr}}function at(X,Z,me){var Ve=new ze(X);throw Ve.init(Z,me),X}var gt={};function St(X){for(;X.length;){var Z=X.pop(),me=X.pop();me(Z)}}function ct(X){return this.fromWireType(P[X>>2])}var et={},Ne={},ut={},At=48,bt=57;function Rt(X){if(X===void 0)return"_unknown";X=X.replace(/[^a-zA-Z0-9_]/g,"$");var Z=X.charCodeAt(0);return Z>=At&&Z<=bt?"_"+X:X}function jt(X,Z){return X=Rt(X),new Function("body","return function "+X+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(Z)}function un(X,Z){var me=jt(Z,function(Ve){this.name=Z,this.message=Ve;var Xe=new Error(Ve).stack;Xe!==void 0&&(this.stack=this.toString()+`
`+Xe.replace(/^Error(:[^\n]*)?\n/,""))});return me.prototype=Object.create(X.prototype),me.prototype.constructor=me,me.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},me}var Zt=void 0;function Kt(X){throw new Zt(X)}function fn(X,Z,me){X.forEach(function(nt){ut[nt]=Z});function Ve(nt){var Tt=me(nt);Tt.length!==X.length&&Kt("Mismatched type converter count");for(var Gt=0;Gt<X.length;++Gt)ge(X[Gt],Tt[Gt])}var Xe=new Array(Z.length),mt=[],vt=0;Z.forEach((nt,Tt)=>{Ne.hasOwnProperty(nt)?Xe[Tt]=Ne[nt]:(mt.push(nt),et.hasOwnProperty(nt)||(et[nt]=[]),et[nt].push(()=>{Xe[Tt]=Ne[nt],++vt,vt===mt.length&&Ve(Xe)}))}),mt.length===0&&Ve(Xe)}function en(X){var Z=gt[X];delete gt[X];var me=Z.rawConstructor,Ve=Z.rawDestructor,Xe=Z.fields,mt=Xe.map(vt=>vt.getterReturnType).concat(Xe.map(vt=>vt.setterArgumentType));fn([X],mt,vt=>{var nt={};return Xe.forEach((Tt,Gt)=>{var hn=Tt.fieldName,Rn=vt[Gt],En=Tt.getter,q=Tt.getterContext,W=vt[Gt+Xe.length],le=Tt.setter,Ie=Tt.setterContext;nt[hn]={read:qe=>Rn.fromWireType(En(q,qe)),write:(qe,wt)=>{var ht=[];le(Ie,qe,W.toWireType(ht,wt)),St(ht)}}}),[{name:Z.name,fromWireType:function(Tt){var Gt={};for(var hn in nt)Gt[hn]=nt[hn].read(Tt);return Ve(Tt),Gt},toWireType:function(Tt,Gt){for(var hn in nt)if(!(hn in Gt))throw new TypeError('Missing field:  "'+hn+'"');var Rn=me();for(hn in nt)nt[hn].write(Rn,Gt[hn]);return Tt!==null&&Tt.push(Ve,Rn),Rn},argPackAdvance:8,readValueFromPointer:ct,destructorFunction:Ve}]})}function sn(X,Z,me,Ve,Xe){}function zt(X){switch(X){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+X)}}function Lt(){for(var X=new Array(256),Z=0;Z<256;++Z)X[Z]=String.fromCharCode(Z);yt=X}var yt=void 0;function lt(X){for(var Z="",me=X;L[me];)Z+=yt[L[me++]];return Z}var de=void 0;function ue(X){throw new de(X)}function ge(X,Z,me={}){if(!("argPackAdvance"in Z))throw new TypeError("registerType registeredInstance requires argPackAdvance");var Ve=Z.name;if(X||ue('type "'+Ve+'" must have a positive integer typeid pointer'),Ne.hasOwnProperty(X)){if(me.ignoreDuplicateRegistrations)return;ue("Cannot register type '"+Ve+"' twice")}if(Ne[X]=Z,delete ut[X],et.hasOwnProperty(X)){var Xe=et[X];delete et[X],Xe.forEach(mt=>mt())}}function Ce(X,Z,me,Ve,Xe){var mt=zt(me);Z=lt(Z),ge(X,{name:Z,fromWireType:function(vt){return!!vt},toWireType:function(vt,nt){return nt?Ve:Xe},argPackAdvance:8,readValueFromPointer:function(vt){var nt;if(me===1)nt=B;else if(me===2)nt=F;else if(me===4)nt=P;else throw new TypeError("Unknown boolean type size: "+Z);return this.fromWireType(nt[vt>>mt])},destructorFunction:null})}function Ge(X){if(!(this instanceof jn)||!(X instanceof jn))return!1;for(var Z=this.$$.ptrType.registeredClass,me=this.$$.ptr,Ve=X.$$.ptrType.registeredClass,Xe=X.$$.ptr;Z.baseClass;)me=Z.upcast(me),Z=Z.baseClass;for(;Ve.baseClass;)Xe=Ve.upcast(Xe),Ve=Ve.baseClass;return Z===Ve&&me===Xe}function He(X){return{count:X.count,deleteScheduled:X.deleteScheduled,preservePointerOnDelete:X.preservePointerOnDelete,ptr:X.ptr,ptrType:X.ptrType,smartPtr:X.smartPtr,smartPtrType:X.smartPtrType}}function pt(X){function Z(me){return me.$$.ptrType.registeredClass.name}ue(Z(X)+" instance already deleted")}var Qe=!1;function Ke(X){}function Ye(X){X.smartPtr?X.smartPtrType.rawDestructor(X.smartPtr):X.ptrType.registeredClass.rawDestructor(X.ptr)}function ft(X){X.count.value-=1;var Z=X.count.value===0;Z&&Ye(X)}function xt(X,Z,me){if(Z===me)return X;if(me.baseClass===void 0)return null;var Ve=xt(X,Z,me.baseClass);return Ve===null?null:me.downcast(Ve)}var Nt={};function Pt(){return Object.keys(Ot).length}function Ut(){var X=[];for(var Z in Ot)Ot.hasOwnProperty(Z)&&X.push(Ot[Z]);return X}var Ht=[];function Dt(){for(;Ht.length;){var X=Ht.pop();X.$$.deleteScheduled=!1,X.delete()}}var Mt=void 0;function Bt(X){Mt=X,Ht.length&&Mt&&Mt(Dt)}function Ft(){i.getInheritedInstanceCount=Pt,i.getLiveInheritedInstances=Ut,i.flushPendingDeletes=Dt,i.setDelayFunction=Bt}var Ot={};function dn(X,Z){for(Z===void 0&&ue("ptr should not be undefined");X.baseClass;)Z=X.upcast(Z),X=X.baseClass;return Z}function rn(X,Z){return Z=dn(X,Z),Ot[Z]}function pn(X,Z){(!Z.ptrType||!Z.ptr)&&Kt("makeClassHandle requires ptr and ptrType");var me=!!Z.smartPtrType,Ve=!!Z.smartPtr;return me!==Ve&&Kt("Both smartPtrType and smartPtr must be specified"),Z.count={value:1},Fn(Object.create(X,{$$:{value:Z}}))}function Xn(X){var Z=this.getPointee(X);if(!Z)return this.destructor(X),null;var me=rn(this.registeredClass,Z);if(me!==void 0){if(me.$$.count.value===0)return me.$$.ptr=Z,me.$$.smartPtr=X,me.clone();var Ve=me.clone();return this.destructor(X),Ve}function Xe(){return this.isSmartPointer?pn(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:Z,smartPtrType:this,smartPtr:X}):pn(this.registeredClass.instancePrototype,{ptrType:this,ptr:X})}var mt=this.registeredClass.getActualType(Z),vt=Nt[mt];if(!vt)return Xe.call(this);var nt;this.isConst?nt=vt.constPointerType:nt=vt.pointerType;var Tt=xt(Z,this.registeredClass,nt.registeredClass);return Tt===null?Xe.call(this):this.isSmartPointer?pn(nt.registeredClass.instancePrototype,{ptrType:nt,ptr:Tt,smartPtrType:this,smartPtr:X}):pn(nt.registeredClass.instancePrototype,{ptrType:nt,ptr:Tt})}function Fn(X){return typeof FinalizationRegistry>"u"?(Fn=Z=>Z,X):(Qe=new FinalizationRegistry(Z=>{ft(Z.$$)}),Fn=Z=>{var me=Z.$$,Ve=!!me.smartPtr;if(Ve){var Xe={$$:me};Qe.register(Z,Xe,Z)}return Z},Ke=Z=>Qe.unregister(Z),Fn(X))}function Ct(){if(this.$$.ptr||pt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var X=Fn(Object.create(Object.getPrototypeOf(this),{$$:{value:He(this.$$)}}));return X.$$.count.value+=1,X.$$.deleteScheduled=!1,X}function $t(){this.$$.ptr||pt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ue("Object already scheduled for deletion"),Ke(this),ft(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function mn(){return!this.$$.ptr}function An(){return this.$$.ptr||pt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ue("Object already scheduled for deletion"),Ht.push(this),Ht.length===1&&Mt&&Mt(Dt),this.$$.deleteScheduled=!0,this}function On(){jn.prototype.isAliasOf=Ge,jn.prototype.clone=Ct,jn.prototype.delete=$t,jn.prototype.isDeleted=mn,jn.prototype.deleteLater=An}function jn(){}function rr(X,Z,me){if(X[Z].overloadTable===void 0){var Ve=X[Z];X[Z]=function(){return X[Z].overloadTable.hasOwnProperty(arguments.length)||ue("Function '"+me+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+X[Z].overloadTable+")!"),X[Z].overloadTable[arguments.length].apply(this,arguments)},X[Z].overloadTable=[],X[Z].overloadTable[Ve.argCount]=Ve}}function gr(X,Z,me){i.hasOwnProperty(X)?((me===void 0||i[X].overloadTable!==void 0&&i[X].overloadTable[me]!==void 0)&&ue("Cannot register public name '"+X+"' twice"),rr(i,X,X),i.hasOwnProperty(me)&&ue("Cannot register multiple overloads of a function with the same number of arguments ("+me+")!"),i[X].overloadTable[me]=Z):(i[X]=Z,me!==void 0&&(i[X].numArguments=me))}function Ra(X,Z,me,Ve,Xe,mt,vt,nt){this.name=X,this.constructor=Z,this.instancePrototype=me,this.rawDestructor=Ve,this.baseClass=Xe,this.getActualType=mt,this.upcast=vt,this.downcast=nt,this.pureVirtualFunctions=[]}function kr(X,Z,me){for(;Z!==me;)Z.upcast||ue("Expected null or instance of "+me.name+", got an instance of "+Z.name),X=Z.upcast(X),Z=Z.baseClass;return X}function Mr(X,Z){if(Z===null)return this.isReference&&ue("null is not a valid "+this.name),0;Z.$$||ue('Cannot pass "'+Ia(Z)+'" as a '+this.name),Z.$$.ptr||ue("Cannot pass deleted object as a pointer of type "+this.name);var me=Z.$$.ptrType.registeredClass,Ve=kr(Z.$$.ptr,me,this.registeredClass);return Ve}function vn(X,Z){var me;if(Z===null)return this.isReference&&ue("null is not a valid "+this.name),this.isSmartPointer?(me=this.rawConstructor(),X!==null&&X.push(this.rawDestructor,me),me):0;Z.$$||ue('Cannot pass "'+Ia(Z)+'" as a '+this.name),Z.$$.ptr||ue("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&Z.$$.ptrType.isConst&&ue("Cannot convert argument of type "+(Z.$$.smartPtrType?Z.$$.smartPtrType.name:Z.$$.ptrType.name)+" to parameter type "+this.name);var Ve=Z.$$.ptrType.registeredClass;if(me=kr(Z.$$.ptr,Ve,this.registeredClass),this.isSmartPointer)switch(Z.$$.smartPtr===void 0&&ue("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:Z.$$.smartPtrType===this?me=Z.$$.smartPtr:ue("Cannot convert argument of type "+(Z.$$.smartPtrType?Z.$$.smartPtrType.name:Z.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:me=Z.$$.smartPtr;break;case 2:if(Z.$$.smartPtrType===this)me=Z.$$.smartPtr;else{var Xe=Z.clone();me=this.rawShare(me,Jn.toHandle(function(){Xe.delete()})),X!==null&&X.push(this.rawDestructor,me)}break;default:ue("Unsupporting sharing policy")}return me}function Wt(X,Z){if(Z===null)return this.isReference&&ue("null is not a valid "+this.name),0;Z.$$||ue('Cannot pass "'+Ia(Z)+'" as a '+this.name),Z.$$.ptr||ue("Cannot pass deleted object as a pointer of type "+this.name),Z.$$.ptrType.isConst&&ue("Cannot convert argument of type "+Z.$$.ptrType.name+" to parameter type "+this.name);var me=Z.$$.ptrType.registeredClass,Ve=kr(Z.$$.ptr,me,this.registeredClass);return Ve}function xn(X){return this.rawGetPointee&&(X=this.rawGetPointee(X)),X}function bn(X){this.rawDestructor&&this.rawDestructor(X)}function _n(X){X!==null&&X.delete()}function $n(){Gn.prototype.getPointee=xn,Gn.prototype.destructor=bn,Gn.prototype.argPackAdvance=8,Gn.prototype.readValueFromPointer=ct,Gn.prototype.deleteObject=_n,Gn.prototype.fromWireType=Xn}function Gn(X,Z,me,Ve,Xe,mt,vt,nt,Tt,Gt,hn){this.name=X,this.registeredClass=Z,this.isReference=me,this.isConst=Ve,this.isSmartPointer=Xe,this.pointeeType=mt,this.sharingPolicy=vt,this.rawGetPointee=nt,this.rawConstructor=Tt,this.rawShare=Gt,this.rawDestructor=hn,!Xe&&Z.baseClass===void 0?Ve?(this.toWireType=Mr,this.destructorFunction=null):(this.toWireType=Wt,this.destructorFunction=null):this.toWireType=vn}function Dr(X,Z,me){i.hasOwnProperty(X)||Kt("Replacing nonexistant public symbol"),i[X].overloadTable!==void 0&&me!==void 0?i[X].overloadTable[me]=Z:(i[X]=Z,i[X].argCount=me)}function pr(X,Z,me){var Ve=i["dynCall_"+X];return me&&me.length?Ve.apply(null,[Z].concat(me)):Ve.call(null,Z)}var Ur=[];function Ar(X){var Z=Ur[X];return Z||(X>=Ur.length&&(Ur.length=X+1),Ur[X]=Z=te.get(X)),Z}function Nr(X,Z,me){if(X.includes("j"))return pr(X,Z,me);var Ve=Ar(Z).apply(null,me);return Ve}function Rr(X,Z){var me=[];return function(){return me.length=0,Object.assign(me,arguments),Nr(X,Z,me)}}function gn(X,Z){X=lt(X);function me(){return X.includes("j")?Rr(X,Z):Ar(Z)}var Ve=me();return typeof Ve!="function"&&ue("unknown function pointer with signature "+X+": "+Z),Ve}var wn=void 0;function Hn(X){var Z=El(X),me=lt(Z);return mi(Z),me}function zn(X,Z){var me=[],Ve={};function Xe(mt){if(!Ve[mt]&&!Ne[mt]){if(ut[mt]){ut[mt].forEach(Xe);return}me.push(mt),Ve[mt]=!0}}throw Z.forEach(Xe),new wn(X+": "+me.map(Hn).join([", "]))}function Sr(X,Z,me,Ve,Xe,mt,vt,nt,Tt,Gt,hn,Rn,En){hn=lt(hn),mt=gn(Xe,mt),nt&&(nt=gn(vt,nt)),Gt&&(Gt=gn(Tt,Gt)),En=gn(Rn,En);var q=Rt(hn);gr(q,function(){zn("Cannot construct "+hn+" due to unbound types",[Ve])}),fn([X,Z,me],Ve?[Ve]:[],function(W){W=W[0];var le,Ie;Ve?(le=W.registeredClass,Ie=le.instancePrototype):Ie=jn.prototype;var qe=jt(q,function(){if(Object.getPrototypeOf(this)!==wt)throw new de("Use 'new' to construct "+hn);if(ht.constructor_body===void 0)throw new de(hn+" has no accessible constructor");var re=ht.constructor_body[arguments.length];if(re===void 0)throw new de("Tried to invoke ctor of "+hn+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(ht.constructor_body).toString()+") parameters instead!");return re.apply(this,arguments)}),wt=Object.create(Ie,{constructor:{value:qe}});qe.prototype=wt;var ht=new Ra(hn,qe,wt,En,le,mt,nt,Gt),st=new Gn(hn,ht,!0,!1,!1),U=new Gn(hn+"*",ht,!1,!1,!1),G=new Gn(hn+" const*",ht,!1,!0,!1);return Nt[X]={pointerType:U,constPointerType:G},Dr(q,qe),[st,U,G]})}function Or(X,Z){for(var me=[],Ve=0;Ve<X;Ve++)me.push(N[Z+Ve*4>>2]);return me}function mr(X,Z){if(!(X instanceof Function))throw new TypeError("new_ called with constructor type "+typeof X+" which is not a function");var me=jt(X.name||"unknownFunctionName",function(){});me.prototype=X.prototype;var Ve=new me,Xe=X.apply(Ve,Z);return Xe instanceof Object?Xe:Ve}function Br(X,Z,me,Ve,Xe){var mt=Z.length;mt<2&&ue("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var vt=Z[1]!==null&&me!==null,nt=!1,Tt=1;Tt<Z.length;++Tt)if(Z[Tt]!==null&&Z[Tt].destructorFunction===void 0){nt=!0;break}for(var Gt=Z[0].name!=="void",hn="",Rn="",Tt=0;Tt<mt-2;++Tt)hn+=(Tt!==0?", ":"")+"arg"+Tt,Rn+=(Tt!==0?", ":"")+"arg"+Tt+"Wired";var En="return function "+Rt(X)+"("+hn+`) {
if (arguments.length !== `+(mt-2)+`) {
throwBindingError('function `+X+" called with ' + arguments.length + ' arguments, expected "+(mt-2)+` args!');
}
`;nt&&(En+=`var destructors = [];
`);var q=nt?"destructors":"null",W=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],le=[ue,Ve,Xe,St,Z[0],Z[1]];vt&&(En+="var thisWired = classParam.toWireType("+q+`, this);
`);for(var Tt=0;Tt<mt-2;++Tt)En+="var arg"+Tt+"Wired = argType"+Tt+".toWireType("+q+", arg"+Tt+"); // "+Z[Tt+2].name+`
`,W.push("argType"+Tt),le.push(Z[Tt+2]);if(vt&&(Rn="thisWired"+(Rn.length>0?", ":"")+Rn),En+=(Gt?"var rv = ":"")+"invoker(fn"+(Rn.length>0?", ":"")+Rn+`);
`,nt)En+=`runDestructors(destructors);
`;else for(var Tt=vt?1:2;Tt<Z.length;++Tt){var Ie=Tt===1?"thisWired":"arg"+(Tt-2)+"Wired";Z[Tt].destructorFunction!==null&&(En+=Ie+"_dtor("+Ie+"); // "+Z[Tt].name+`
`,W.push(Ie+"_dtor"),le.push(Z[Tt].destructorFunction))}Gt&&(En+=`var ret = retType.fromWireType(rv);
return ret;
`),En+=`}
`,W.push(En);var qe=mr(Function,W).apply(null,le);return qe}function Qa(X,Z,me,Ve,Xe,mt){b(Z>0);var vt=Or(Z,me);Xe=gn(Ve,Xe),fn([],[X],function(nt){nt=nt[0];var Tt="constructor "+nt.name;if(nt.registeredClass.constructor_body===void 0&&(nt.registeredClass.constructor_body=[]),nt.registeredClass.constructor_body[Z-1]!==void 0)throw new de("Cannot register multiple constructors with identical number of parameters ("+(Z-1)+") for class '"+nt.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return nt.registeredClass.constructor_body[Z-1]=()=>{zn("Cannot construct "+nt.name+" due to unbound types",vt)},fn([],vt,function(Gt){return Gt.splice(1,0,null),nt.registeredClass.constructor_body[Z-1]=Br(Tt,Gt,null,Xe,mt),[]}),[]})}function Xa(X,Z,me,Ve,Xe,mt,vt,nt){var Tt=Or(me,Ve);Z=lt(Z),mt=gn(Xe,mt),fn([],[X],function(Gt){Gt=Gt[0];var hn=Gt.name+"."+Z;Z.startsWith("@@")&&(Z=Symbol[Z.substring(2)]),nt&&Gt.registeredClass.pureVirtualFunctions.push(Z);function Rn(){zn("Cannot call "+hn+" due to unbound types",Tt)}var En=Gt.registeredClass.instancePrototype,q=En[Z];return q===void 0||q.overloadTable===void 0&&q.className!==Gt.name&&q.argCount===me-2?(Rn.argCount=me-2,Rn.className=Gt.name,En[Z]=Rn):(rr(En,Z,hn),En[Z].overloadTable[me-2]=Rn),fn([],Tt,function(W){var le=Br(hn,W,Gt,mt,vt);return En[Z].overloadTable===void 0?(le.argCount=me-2,En[Z]=le):En[Z].overloadTable[me-2]=le,[]}),[]})}var da=[],ga=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Jt(X){X>4&&--ga[X].refcount===0&&(ga[X]=void 0,da.push(X))}function an(){for(var X=0,Z=5;Z<ga.length;++Z)ga[Z]!==void 0&&++X;return X}function yr(){for(var X=5;X<ga.length;++X)if(ga[X]!==void 0)return ga[X];return null}function Ir(){i.count_emval_handles=an,i.get_first_emval=yr}var Jn={toValue:X=>(X||ue("Cannot use deleted val. handle = "+X),ga[X].value),toHandle:X=>{switch(X){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var Z=da.length?da.pop():ga.length;return ga[Z]={refcount:1,value:X},Z}}}};function oa(X,Z){Z=lt(Z),ge(X,{name:Z,fromWireType:function(me){var Ve=Jn.toValue(me);return Jt(me),Ve},toWireType:function(me,Ve){return Jn.toHandle(Ve)},argPackAdvance:8,readValueFromPointer:ct,destructorFunction:null})}function Ia(X){if(X===null)return"null";var Z=typeof X;return Z==="object"||Z==="array"||Z==="function"?X.toString():""+X}function Gs(X,Z){switch(Z){case 2:return function(me){return this.fromWireType(k[me>>2])};case 3:return function(me){return this.fromWireType(H[me>>3])};default:throw new TypeError("Unknown float type: "+X)}}function wi(X,Z,me){var Ve=zt(me);Z=lt(Z),ge(X,{name:Z,fromWireType:function(Xe){return Xe},toWireType:function(Xe,mt){return mt},argPackAdvance:8,readValueFromPointer:Gs(Z,Ve),destructorFunction:null})}function gi(X,Z,me,Ve,Xe,mt){var vt=Or(Z,me);X=lt(X),Xe=gn(Ve,Xe),gr(X,function(){zn("Cannot call "+X+" due to unbound types",vt)},Z-1),fn([],vt,function(nt){var Tt=[nt[0],null].concat(nt.slice(1));return Dr(X,Br(X,Tt,null,Xe,mt),Z-1),[]})}function $i(X,Z,me){switch(Z){case 0:return me?function(Xe){return B[Xe]}:function(Xe){return L[Xe]};case 1:return me?function(Xe){return F[Xe>>1]}:function(Xe){return _[Xe>>1]};case 2:return me?function(Xe){return P[Xe>>2]}:function(Xe){return N[Xe>>2]};default:throw new TypeError("Unknown integer type: "+X)}}function Gc(X,Z,me,Ve,Xe){Z=lt(Z);var mt=zt(me),vt=Rn=>Rn;if(Ve===0){var nt=32-8*me;vt=Rn=>Rn<<nt>>>nt}var Tt=Z.includes("unsigned"),Gt=(Rn,En)=>{},hn;Tt?hn=function(Rn,En){return Gt(En,this.name),En>>>0}:hn=function(Rn,En){return Gt(En,this.name),En},ge(X,{name:Z,fromWireType:vt,toWireType:hn,argPackAdvance:8,readValueFromPointer:$i(Z,mt,Ve!==0),destructorFunction:null})}function y0(X,Z,me){var Ve=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Xe=Ve[Z];function mt(vt){vt=vt>>2;var nt=N,Tt=nt[vt],Gt=nt[vt+1];return new Xe(A,Gt,Tt)}me=lt(me),ge(X,{name:me,fromWireType:mt,argPackAdvance:8,readValueFromPointer:mt},{ignoreDuplicateRegistrations:!0})}function zc(X,Z){Z=lt(Z);var me=Z==="std::string";ge(X,{name:Z,fromWireType:function(Ve){var Xe=N[Ve>>2],mt=Ve+4,vt;if(me)for(var nt=mt,Tt=0;Tt<=Xe;++Tt){var Gt=mt+Tt;if(Tt==Xe||L[Gt]==0){var hn=Gt-nt,Rn=D(nt,hn);vt===void 0?vt=Rn:(vt+="\0",vt+=Rn),nt=Gt+1}}else{for(var En=new Array(Xe),Tt=0;Tt<Xe;++Tt)En[Tt]=String.fromCharCode(L[mt+Tt]);vt=En.join("")}return mi(Ve),vt},toWireType:function(Ve,Xe){Xe instanceof ArrayBuffer&&(Xe=new Uint8Array(Xe));var mt,vt=typeof Xe=="string";vt||Xe instanceof Uint8Array||Xe instanceof Uint8ClampedArray||Xe instanceof Int8Array||ue("Cannot pass non-string to std::string"),me&&vt?mt=M(Xe):mt=Xe.length;var nt=mo(4+mt+1),Tt=nt+4;if(N[nt>>2]=mt,me&&vt)I(Xe,Tt,mt+1);else if(vt)for(var Gt=0;Gt<mt;++Gt){var hn=Xe.charCodeAt(Gt);hn>255&&(mi(Tt),ue("String has UTF-16 code units that do not fit in 8 bits")),L[Tt+Gt]=hn}else for(var Gt=0;Gt<mt;++Gt)L[Tt+Gt]=Xe[Gt];return Ve!==null&&Ve.push(mi,nt),nt},argPackAdvance:8,readValueFromPointer:ct,destructorFunction:function(Ve){mi(Ve)}})}var ds=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function ml(X,Z){for(var me=X,Ve=me>>1,Xe=Ve+Z/2;!(Ve>=Xe)&&_[Ve];)++Ve;if(me=Ve<<1,me-X>32&&ds)return ds.decode(L.subarray(X,me));for(var mt="",vt=0;!(vt>=Z/2);++vt){var nt=F[X+vt*2>>1];if(nt==0)break;mt+=String.fromCharCode(nt)}return mt}function C0(X,Z,me){if(me===void 0&&(me=2147483647),me<2)return 0;me-=2;for(var Ve=Z,Xe=me<X.length*2?me/2:X.length,mt=0;mt<Xe;++mt){var vt=X.charCodeAt(mt);F[Z>>1]=vt,Z+=2}return F[Z>>1]=0,Z-Ve}function Wc(X){return X.length*2}function jc(X,Z){for(var me=0,Ve="";!(me>=Z/4);){var Xe=P[X+me*4>>2];if(Xe==0)break;if(++me,Xe>=65536){var mt=Xe-65536;Ve+=String.fromCharCode(55296|mt>>10,56320|mt&1023)}else Ve+=String.fromCharCode(Xe)}return Ve}function vl(X,Z,me){if(me===void 0&&(me=2147483647),me<4)return 0;for(var Ve=Z,Xe=Ve+me-4,mt=0;mt<X.length;++mt){var vt=X.charCodeAt(mt);if(vt>=55296&&vt<=57343){var nt=X.charCodeAt(++mt);vt=65536+((vt&1023)<<10)|nt&1023}if(P[Z>>2]=vt,Z+=4,Z+4>Xe)break}return P[Z>>2]=0,Z-Ve}function Hc(X){for(var Z=0,me=0;me<X.length;++me){var Ve=X.charCodeAt(me);Ve>=55296&&Ve<=57343&&++me,Z+=4}return Z}function qc(X,Z,me){me=lt(me);var Ve,Xe,mt,vt,nt;Z===2?(Ve=ml,Xe=C0,vt=Wc,mt=()=>_,nt=1):Z===4&&(Ve=jc,Xe=vl,vt=Hc,mt=()=>N,nt=2),ge(X,{name:me,fromWireType:function(Tt){for(var Gt=N[Tt>>2],hn=mt(),Rn,En=Tt+4,q=0;q<=Gt;++q){var W=Tt+4+q*Z;if(q==Gt||hn[W>>nt]==0){var le=W-En,Ie=Ve(En,le);Rn===void 0?Rn=Ie:(Rn+="\0",Rn+=Ie),En=W+Z}}return mi(Tt),Rn},toWireType:function(Tt,Gt){typeof Gt!="string"&&ue("Cannot pass non-string to C++ string type "+me);var hn=vt(Gt),Rn=mo(4+hn+Z);return N[Rn>>2]=hn>>nt,Xe(Gt,Rn+4,hn+Z),Tt!==null&&Tt.push(mi,Rn),Rn},argPackAdvance:8,readValueFromPointer:ct,destructorFunction:function(Tt){mi(Tt)}})}function Kc(X,Z,me,Ve,Xe,mt){gt[X]={name:lt(Z),rawConstructor:gn(me,Ve),rawDestructor:gn(Xe,mt),fields:[]}}function Qc(X,Z,me,Ve,Xe,mt,vt,nt,Tt,Gt){gt[X].fields.push({fieldName:lt(Z),getterReturnType:me,getter:gn(Ve,Xe),getterContext:mt,setterArgumentType:vt,setter:gn(nt,Tt),setterContext:Gt})}function pl(X,Z){Z=lt(Z),ge(X,{isVoid:!0,name:Z,argPackAdvance:0,fromWireType:function(){},toWireType:function(me,Ve){}})}var Xc={};function Yc(X){var Z=Xc[X];return Z===void 0?lt(X):Z}function hl(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Sl(X){return X===0?Jn.toHandle(hl()):(X=Yc(X),Jn.toHandle(hl()[X]))}function Zc(X){X>4&&(ga[X].refcount+=1)}function yl(X,Z){var me=Ne[X];return me===void 0&&ue(Z+" has unknown type "+Hn(X)),me}function Cl(X){for(var Z="",me=0;me<X;++me)Z+=(me!==0?", ":"")+"arg"+me;for(var Ve=()=>N,Xe="return function emval_allocator_"+X+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`,me=0;me<X;++me)Xe+="var argType"+me+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+me+`');
var arg`+me+" = argType"+me+`.readValueFromPointer(args);
args += argType`+me+`['argPackAdvance'];
argTypes += 4;
`;return Xe+="var obj = new constructor("+Z+`);
return valueToHandle(obj);
}
`,new Function("requireRegisteredType","Module","valueToHandle","getMemory",Xe)(yl,i,Jn.toHandle,Ve)}var xl={};function x0(X,Z,me,Ve){X=Jn.toValue(X);var Xe=xl[Z];return Xe||(Xe=Cl(Z),xl[Z]=Xe),Xe(X,me,Ve)}function Jc(X,Z){X=yl(X,"_emval_take_value");var me=X.readValueFromPointer(Z);return Jn.toHandle(me)}function eu(){Me("")}function Tl(X,Z,me){L.copyWithin(X,Z,Z+me)}function wl(){return 2147483648}function bl(X){try{return T.grow(X-A.byteLength+65535>>>16),K(T.buffer),1}catch{}}function tu(X){var Z=L.length;X=X>>>0;var me=wl();if(X>me)return!1;let Ve=(Tt,Gt)=>Tt+(Gt-Tt%Gt)%Gt;for(var Xe=1;Xe<=4;Xe*=2){var mt=Z*(1+.2/Xe);mt=Math.min(mt,X+100663296);var vt=Math.min(me,Ve(Math.max(X,mt),65536)),nt=bl(vt);if(nt)return!0}return!1}function nu(X){var Z=i["_"+X];return Z}function ru(X,Z){B.set(X,Z)}function T0(X,Z,me,Ve,Xe){var mt={string:W=>{var le=0;if(W!=null&&W!==0){var Ie=(W.length<<2)+1;le=w0(Ie),I(W,le,Ie)}return le},array:W=>{var le=w0(W.length);return ru(W,le),le}};function vt(W){return Z==="string"?D(W):Z==="boolean"?!!W:W}var nt=nu(X),Tt=[],Gt=0;if(Ve)for(var hn=0;hn<Ve.length;hn++){var Rn=mt[me[hn]];Rn?(Gt===0&&(Gt=Dl()),Tt[hn]=Rn(Ve[hn])):Tt[hn]=Ve[hn]}var En=nt.apply(null,Tt);function q(W){return Gt!==0&&Go(Gt),vt(W)}return En=q(En),En}Zt=i.InternalError=un(Error,"InternalError"),Lt(),de=i.BindingError=un(Error,"BindingError"),On(),Ft(),$n(),wn=i.UnboundTypeError=un(Error,"UnboundTypeError"),Ir();var au={h:at,q:en,r:sn,w:Ce,p:Sr,o:Qa,c:Xa,v:oa,k:wi,e:gi,b:Gc,a:y0,j:zc,g:qc,u:Kc,d:Qc,x:pl,i:Jt,m:Sl,l:Zc,y:x0,n:Jc,f:eu,t:Tl,s:tu};oe(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.A).apply(null,arguments)};var mo=i._malloc=function(){return(mo=i._malloc=i.asm.B).apply(null,arguments)},El=i.___getTypeName=function(){return(El=i.___getTypeName=i.asm.D).apply(null,arguments)};i.__embind_initialize_bindings=function(){return(i.__embind_initialize_bindings=i.asm.E).apply(null,arguments)};var mi=i._free=function(){return(mi=i._free=i.asm.F).apply(null,arguments)},Dl=i.stackSave=function(){return(Dl=i.stackSave=i.asm.G).apply(null,arguments)},Go=i.stackRestore=function(){return(Go=i.stackRestore=i.asm.H).apply(null,arguments)},w0=i.stackAlloc=function(){return(w0=i.stackAlloc=i.asm.I).apply(null,arguments)},Ol=i.___cxa_is_pointer_type=function(){return(Ol=i.___cxa_is_pointer_type=i.asm.J).apply(null,arguments)};i.ccall=T0;var zs;Re=function X(){zs||Rl(),zs||(Re=X)};function Rl(X){if(he>0||(Te(),he>0))return;function Z(){zs||(zs=!0,i.calledRun=!0,!w&&(_e(),o(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),fe()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),Z()},1)):Z()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Rl(),a.ready}})();t.exports=n})(_H);var bIe=_H.exports;const EIe=No(bIe),DIe=new URL("/cursor-dicom-viewer/assets/charlswasm_decode-484ovEoR.wasm",import.meta.url),Dd={codec:void 0,decoder:void 0,decodeConfig:{}};function OIe(t){return typeof t=="number"?Dd.codec.getExceptionMessage(t):t}function RIe(t){if(Dd.decodeConfig=t,Dd.codec)return Promise.resolve();const e=EIe({locateFile:n=>n.endsWith(".wasm")?DIe.toString():n});return new Promise((n,r)=>{e.then(a=>{Dd.codec=a,Dd.decoder=new a.JpegLSDecoder,n()},r)})}async function tP(t,e){try{await RIe();const n=Dd.decoder;n.getEncodedBuffer(t.length).set(t),n.decode();const a=n.getFrameInfo(),i=n.getInterleaveMode(),o=n.getNearLossless(),s=n.getDecodedBuffer(),l={columns:a.width,rows:a.height,bitsPerPixel:a.bitsPerSample,signed:e.signed,bytesPerPixel:e.bytesPerPixel,componentsPerPixel:a.componentCount},c=IIe(a,s,e.signed),f={nearLossless:o,interleaveMode:i,frameInfo:a};return{...e,pixelData:c,imageInfo:l,encodeOptions:f,...f,...l}}catch(n){throw OIe(n)}}function IIe(t,e,n){return t.bitsPerSample>8?n?new Int16Array(e.buffer,e.byteOffset,e.byteLength/2):new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2):n?new Int8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var NH={exports:{}};(function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};var i=typeof a<"u"?a:{},o,s;i.ready=new Promise(function(q,W){o=q,s=W});var l=Object.assign({},i),c="./this.program",f=typeof window=="object",u=typeof importScripts=="function",d=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",g="";function v(q){return i.locateFile?i.locateFile(q,g):g+q}var m,p,h;if(d){var y=c0,C=c0;u?g=C.dirname(g)+"/":g=__dirname+"/",m=(q,W)=>(q=ee(q)?new URL(q):C.normalize(q),y.readFileSync(q,W?void 0:"utf8")),h=q=>{var W=m(q,!0);return W.buffer||(W=new Uint8Array(W)),W},p=(q,W,le)=>{q=ee(q)?new URL(q):C.normalize(q),y.readFile(q,function(Ie,qe){Ie?le(Ie):W(qe.buffer)})},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(q){if(!(q instanceof ze))throw q}),process.on("unhandledRejection",function(q){throw q}),i.inspect=function(){return"[Emscripten Module object]"}}else(f||u)&&(u?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),r&&(g=r),g.indexOf("blob:")!==0?g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):g="",m=q=>{var W=new XMLHttpRequest;return W.open("GET",q,!1),W.send(null),W.responseText},u&&(h=q=>{var W=new XMLHttpRequest;return W.open("GET",q,!1),W.responseType="arraybuffer",W.send(null),new Uint8Array(W.response)}),p=(q,W,le)=>{var Ie=new XMLHttpRequest;Ie.open("GET",q,!0),Ie.responseType="arraybuffer",Ie.onload=()=>{if(Ie.status==200||Ie.status==0&&Ie.response){W(Ie.response);return}le()},Ie.onerror=le,Ie.send(null)});var x=i.print||console.log.bind(console),T=i.printErr||console.warn.bind(console);Object.assign(i,l),l=null,i.arguments&&i.arguments,i.thisProgram&&(c=i.thisProgram),i.quit&&i.quit;var w;i.wasmBinary&&(w=i.wasmBinary),i.noExitRuntime,typeof WebAssembly!="object"&&Be("no native wasm support detected");var b,E=!1;function O(q,W){q||Be(W)}var D=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function R(q,W,le){for(var Ie=W+le,qe=W;q[qe]&&!(qe>=Ie);)++qe;if(qe-W>16&&q.buffer&&D)return D.decode(q.subarray(W,qe));for(var wt="";W<qe;){var ht=q[W++];if(!(ht&128)){wt+=String.fromCharCode(ht);continue}var st=q[W++]&63;if((ht&224)==192){wt+=String.fromCharCode((ht&31)<<6|st);continue}var U=q[W++]&63;if((ht&240)==224?ht=(ht&15)<<12|st<<6|U:ht=(ht&7)<<18|st<<12|U<<6|q[W++]&63,ht<65536)wt+=String.fromCharCode(ht);else{var G=ht-65536;wt+=String.fromCharCode(55296|G>>10,56320|G&1023)}}return wt}function I(q,W){return q?R(_,q,W):""}function M(q,W,le,Ie){if(!(Ie>0))return 0;for(var qe=le,wt=le+Ie-1,ht=0;ht<q.length;++ht){var st=q.charCodeAt(ht);if(st>=55296&&st<=57343){var U=q.charCodeAt(++ht);st=65536+((st&1023)<<10)|U&1023}if(st<=127){if(le>=wt)break;W[le++]=st}else if(st<=2047){if(le+1>=wt)break;W[le++]=192|st>>6,W[le++]=128|st&63}else if(st<=65535){if(le+2>=wt)break;W[le++]=224|st>>12,W[le++]=128|st>>6&63,W[le++]=128|st&63}else{if(le+3>=wt)break;W[le++]=240|st>>18,W[le++]=128|st>>12&63,W[le++]=128|st>>6&63,W[le++]=128|st&63}}return W[le]=0,le-qe}function A(q,W,le){return M(q,_,W,le)}function B(q){for(var W=0,le=0;le<q.length;++le){var Ie=q.charCodeAt(le);Ie<=127?W++:Ie<=2047?W+=2:Ie>=55296&&Ie<=57343?(W+=4,++le):W+=3}return W}var L,F,_,P,N,k,H,K,te;function se(q){L=q,i.HEAP8=F=new Int8Array(q),i.HEAP16=P=new Int16Array(q),i.HEAP32=k=new Int32Array(q),i.HEAPU8=_=new Uint8Array(q),i.HEAPU16=N=new Uint16Array(q),i.HEAPU32=H=new Uint32Array(q),i.HEAPF32=K=new Float32Array(q),i.HEAPF64=te=new Float64Array(q)}i.INITIAL_MEMORY;var pe,ve=[],Te=[],_e=[];function fe(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)we(i.preRun.shift());at(ve)}function ce(){at(Te)}function Ee(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Re(i.postRun.shift());at(_e)}function we(q){ve.unshift(q)}function he(q){Te.unshift(q)}function Re(q){_e.unshift(q)}var Pe=0,We=null;function Me(q){Pe++,i.monitorRunDependencies&&i.monitorRunDependencies(Pe)}function Je(q){if(Pe--,i.monitorRunDependencies&&i.monitorRunDependencies(Pe),Pe==0&&We){var W=We;We=null,W()}}function Be(q){i.onAbort&&i.onAbort(q),q="Aborted("+q+")",T(q),E=!0,q+=". Build with -sASSERTIONS for more info.";var W=new WebAssembly.RuntimeError(q);throw s(W),W}var z="data:application/octet-stream;base64,";function Y(q){return q.startsWith(z)}function ee(q){return q.startsWith("file://")}var j;j="openjpegwasm_decode.wasm",Y(j)||(j=v(j));function oe(q){try{if(q==j&&w)return new Uint8Array(w);if(h)return h(q);throw"both async and sync fetching of the wasm failed"}catch(W){Be(W)}}function be(){if(!w&&(f||u)){if(typeof fetch=="function"&&!ee(j))return fetch(j,{credentials:"same-origin"}).then(function(q){if(!q.ok)throw"failed to load wasm binary file at '"+j+"'";return q.arrayBuffer()}).catch(function(){return oe(j)});if(p)return new Promise(function(q,W){p(j,function(le){q(new Uint8Array(le))},W)})}return Promise.resolve().then(function(){return oe(j)})}function Ue(){var q={a:Ve};function W(ht,st){var U=ht.exports;i.asm=U,b=i.asm.E,se(b.buffer),pe=i.asm.G,he(i.asm.F),Je()}Me();function le(ht){W(ht.instance)}function Ie(ht){return be().then(function(st){return WebAssembly.instantiate(st,q)}).then(function(st){return st}).then(ht,function(st){T("failed to asynchronously prepare wasm: "+st),Be(st)})}function qe(){return!w&&typeof WebAssembly.instantiateStreaming=="function"&&!Y(j)&&!ee(j)&&!d&&typeof fetch=="function"?fetch(j,{credentials:"same-origin"}).then(function(ht){var st=WebAssembly.instantiateStreaming(ht,q);return st.then(le,function(U){return T("wasm streaming compile failed: "+U),T("falling back to ArrayBuffer instantiation"),Ie(le)})}):Ie(le)}if(i.instantiateWasm)try{var wt=i.instantiateWasm(q,W);return wt}catch(ht){T("Module.instantiateWasm callback failed with error: "+ht),s(ht)}return qe().catch(s),{}}function ze(q){this.name="ExitStatus",this.message="Program terminated with exit("+q+")",this.status=q}function at(q){for(;q.length>0;)q.shift()(i)}function gt(q){this.excPtr=q,this.ptr=q-24,this.set_type=function(W){H[this.ptr+4>>2]=W},this.get_type=function(){return H[this.ptr+4>>2]},this.set_destructor=function(W){H[this.ptr+8>>2]=W},this.get_destructor=function(){return H[this.ptr+8>>2]},this.set_refcount=function(W){k[this.ptr>>2]=W},this.set_caught=function(W){W=W?1:0,F[this.ptr+12>>0]=W},this.get_caught=function(){return F[this.ptr+12>>0]!=0},this.set_rethrown=function(W){W=W?1:0,F[this.ptr+13>>0]=W},this.get_rethrown=function(){return F[this.ptr+13>>0]!=0},this.init=function(W,le){this.set_adjusted_ptr(0),this.set_type(W),this.set_destructor(le),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var W=k[this.ptr>>2];k[this.ptr>>2]=W+1},this.release_ref=function(){var W=k[this.ptr>>2];return k[this.ptr>>2]=W-1,W===1},this.set_adjusted_ptr=function(W){H[this.ptr+16>>2]=W},this.get_adjusted_ptr=function(){return H[this.ptr+16>>2]},this.get_exception_ptr=function(){var W=hn(this.get_type());if(W)return H[this.excPtr>>2];var le=this.get_adjusted_ptr();return le!==0?le:this.excPtr}}function St(q,W,le){var Ie=new gt(q);throw Ie.init(W,le),q}var ct={};function et(q){for(;q.length;){var W=q.pop(),le=q.pop();le(W)}}function Ne(q){return this.fromWireType(k[q>>2])}var ut={},At={},bt={},Rt=48,jt=57;function un(q){if(q===void 0)return"_unknown";q=q.replace(/[^a-zA-Z0-9_]/g,"$");var W=q.charCodeAt(0);return W>=Rt&&W<=jt?"_"+q:q}function Zt(q,W){return q=un(q),new Function("body","return function "+q+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(W)}function Kt(q,W){var le=Zt(W,function(Ie){this.name=W,this.message=Ie;var qe=new Error(Ie).stack;qe!==void 0&&(this.stack=this.toString()+`
`+qe.replace(/^Error(:[^\n]*)?\n/,""))});return le.prototype=Object.create(q.prototype),le.prototype.constructor=le,le.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},le}var fn=void 0;function en(q){throw new fn(q)}function sn(q,W,le){q.forEach(function(st){bt[st]=W});function Ie(st){var U=le(st);U.length!==q.length&&en("Mismatched type converter count");for(var G=0;G<q.length;++G)Ge(q[G],U[G])}var qe=new Array(W.length),wt=[],ht=0;W.forEach((st,U)=>{At.hasOwnProperty(st)?qe[U]=At[st]:(wt.push(st),ut.hasOwnProperty(st)||(ut[st]=[]),ut[st].push(()=>{qe[U]=At[st],++ht,ht===wt.length&&Ie(qe)}))}),wt.length===0&&Ie(qe)}function zt(q){var W=ct[q];delete ct[q];var le=W.rawConstructor,Ie=W.rawDestructor,qe=W.fields,wt=qe.map(ht=>ht.getterReturnType).concat(qe.map(ht=>ht.setterArgumentType));sn([q],wt,ht=>{var st={};return qe.forEach((U,G)=>{var re=U.fieldName,ye=ht[G],Le=U.getter,V=U.getterContext,$=ht[G+qe.length],Q=U.setter,ae=U.setterContext;st[re]={read:De=>ye.fromWireType(Le(V,De)),write:(De,$e)=>{var je=[];Q(ae,De,$.toWireType(je,$e)),et(je)}}}),[{name:W.name,fromWireType:function(U){var G={};for(var re in st)G[re]=st[re].read(U);return Ie(U),G},toWireType:function(U,G){for(var re in st)if(!(re in G))throw new TypeError('Missing field:  "'+re+'"');var ye=le();for(re in st)st[re].write(ye,G[re]);return U!==null&&U.push(Ie,ye),ye},argPackAdvance:8,readValueFromPointer:Ne,destructorFunction:Ie}]})}function Lt(q,W,le,Ie,qe){}function yt(q){switch(q){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+q)}}function lt(){for(var q=new Array(256),W=0;W<256;++W)q[W]=String.fromCharCode(W);de=q}var de=void 0;function ue(q){for(var W="",le=q;_[le];)W+=de[_[le++]];return W}var ge=void 0;function Ce(q){throw new ge(q)}function Ge(q,W,le={}){if(!("argPackAdvance"in W))throw new TypeError("registerType registeredInstance requires argPackAdvance");var Ie=W.name;if(q||Ce('type "'+Ie+'" must have a positive integer typeid pointer'),At.hasOwnProperty(q)){if(le.ignoreDuplicateRegistrations)return;Ce("Cannot register type '"+Ie+"' twice")}if(At[q]=W,delete bt[q],ut.hasOwnProperty(q)){var qe=ut[q];delete ut[q],qe.forEach(wt=>wt())}}function He(q,W,le,Ie,qe){var wt=yt(le);W=ue(W),Ge(q,{name:W,fromWireType:function(ht){return!!ht},toWireType:function(ht,st){return st?Ie:qe},argPackAdvance:8,readValueFromPointer:function(ht){var st;if(le===1)st=F;else if(le===2)st=P;else if(le===4)st=k;else throw new TypeError("Unknown boolean type size: "+W);return this.fromWireType(st[ht>>wt])},destructorFunction:null})}function pt(q){if(!(this instanceof gr)||!(q instanceof gr))return!1;for(var W=this.$$.ptrType.registeredClass,le=this.$$.ptr,Ie=q.$$.ptrType.registeredClass,qe=q.$$.ptr;W.baseClass;)le=W.upcast(le),W=W.baseClass;for(;Ie.baseClass;)qe=Ie.upcast(qe),Ie=Ie.baseClass;return W===Ie&&le===qe}function Qe(q){return{count:q.count,deleteScheduled:q.deleteScheduled,preservePointerOnDelete:q.preservePointerOnDelete,ptr:q.ptr,ptrType:q.ptrType,smartPtr:q.smartPtr,smartPtrType:q.smartPtrType}}function Ke(q){function W(le){return le.$$.ptrType.registeredClass.name}Ce(W(q)+" instance already deleted")}var Ye=!1;function ft(q){}function xt(q){q.smartPtr?q.smartPtrType.rawDestructor(q.smartPtr):q.ptrType.registeredClass.rawDestructor(q.ptr)}function Nt(q){q.count.value-=1;var W=q.count.value===0;W&&xt(q)}function Pt(q,W,le){if(W===le)return q;if(le.baseClass===void 0)return null;var Ie=Pt(q,W,le.baseClass);return Ie===null?null:le.downcast(Ie)}var Ut={};function Ht(){return Object.keys(rn).length}function Dt(){var q=[];for(var W in rn)rn.hasOwnProperty(W)&&q.push(rn[W]);return q}var Mt=[];function Bt(){for(;Mt.length;){var q=Mt.pop();q.$$.deleteScheduled=!1,q.delete()}}var Ft=void 0;function Ot(q){Ft=q,Mt.length&&Ft&&Ft(Bt)}function dn(){i.getInheritedInstanceCount=Ht,i.getLiveInheritedInstances=Dt,i.flushPendingDeletes=Bt,i.setDelayFunction=Ot}var rn={};function pn(q,W){for(W===void 0&&Ce("ptr should not be undefined");q.baseClass;)W=q.upcast(W),q=q.baseClass;return W}function Xn(q,W){return W=pn(q,W),rn[W]}function Fn(q,W){(!W.ptrType||!W.ptr)&&en("makeClassHandle requires ptr and ptrType");var le=!!W.smartPtrType,Ie=!!W.smartPtr;return le!==Ie&&en("Both smartPtrType and smartPtr must be specified"),W.count={value:1},$t(Object.create(q,{$$:{value:W}}))}function Ct(q){var W=this.getPointee(q);if(!W)return this.destructor(q),null;var le=Xn(this.registeredClass,W);if(le!==void 0){if(le.$$.count.value===0)return le.$$.ptr=W,le.$$.smartPtr=q,le.clone();var Ie=le.clone();return this.destructor(q),Ie}function qe(){return this.isSmartPointer?Fn(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:W,smartPtrType:this,smartPtr:q}):Fn(this.registeredClass.instancePrototype,{ptrType:this,ptr:q})}var wt=this.registeredClass.getActualType(W),ht=Ut[wt];if(!ht)return qe.call(this);var st;this.isConst?st=ht.constPointerType:st=ht.pointerType;var U=Pt(W,this.registeredClass,st.registeredClass);return U===null?qe.call(this):this.isSmartPointer?Fn(st.registeredClass.instancePrototype,{ptrType:st,ptr:U,smartPtrType:this,smartPtr:q}):Fn(st.registeredClass.instancePrototype,{ptrType:st,ptr:U})}function $t(q){return typeof FinalizationRegistry>"u"?($t=W=>W,q):(Ye=new FinalizationRegistry(W=>{Nt(W.$$)}),$t=W=>{var le=W.$$,Ie=!!le.smartPtr;if(Ie){var qe={$$:le};Ye.register(W,qe,W)}return W},ft=W=>Ye.unregister(W),$t(q))}function mn(){if(this.$$.ptr||Ke(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var q=$t(Object.create(Object.getPrototypeOf(this),{$$:{value:Qe(this.$$)}}));return q.$$.count.value+=1,q.$$.deleteScheduled=!1,q}function An(){this.$$.ptr||Ke(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ce("Object already scheduled for deletion"),ft(this),Nt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function On(){return!this.$$.ptr}function jn(){return this.$$.ptr||Ke(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ce("Object already scheduled for deletion"),Mt.push(this),Mt.length===1&&Ft&&Ft(Bt),this.$$.deleteScheduled=!0,this}function rr(){gr.prototype.isAliasOf=pt,gr.prototype.clone=mn,gr.prototype.delete=An,gr.prototype.isDeleted=On,gr.prototype.deleteLater=jn}function gr(){}function Ra(q,W,le){if(q[W].overloadTable===void 0){var Ie=q[W];q[W]=function(){return q[W].overloadTable.hasOwnProperty(arguments.length)||Ce("Function '"+le+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+q[W].overloadTable+")!"),q[W].overloadTable[arguments.length].apply(this,arguments)},q[W].overloadTable=[],q[W].overloadTable[Ie.argCount]=Ie}}function kr(q,W,le){i.hasOwnProperty(q)?(Ce("Cannot register public name '"+q+"' twice"),Ra(i,q,q),i.hasOwnProperty(le)&&Ce("Cannot register multiple overloads of a function with the same number of arguments ("+le+")!"),i[q].overloadTable[le]=W):i[q]=W}function Mr(q,W,le,Ie,qe,wt,ht,st){this.name=q,this.constructor=W,this.instancePrototype=le,this.rawDestructor=Ie,this.baseClass=qe,this.getActualType=wt,this.upcast=ht,this.downcast=st,this.pureVirtualFunctions=[]}function vn(q,W,le){for(;W!==le;)W.upcast||Ce("Expected null or instance of "+le.name+", got an instance of "+W.name),q=W.upcast(q),W=W.baseClass;return q}function Wt(q,W){if(W===null)return this.isReference&&Ce("null is not a valid "+this.name),0;W.$$||Ce('Cannot pass "'+wi(W)+'" as a '+this.name),W.$$.ptr||Ce("Cannot pass deleted object as a pointer of type "+this.name);var le=W.$$.ptrType.registeredClass,Ie=vn(W.$$.ptr,le,this.registeredClass);return Ie}function xn(q,W){var le;if(W===null)return this.isReference&&Ce("null is not a valid "+this.name),this.isSmartPointer?(le=this.rawConstructor(),q!==null&&q.push(this.rawDestructor,le),le):0;W.$$||Ce('Cannot pass "'+wi(W)+'" as a '+this.name),W.$$.ptr||Ce("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&W.$$.ptrType.isConst&&Ce("Cannot convert argument of type "+(W.$$.smartPtrType?W.$$.smartPtrType.name:W.$$.ptrType.name)+" to parameter type "+this.name);var Ie=W.$$.ptrType.registeredClass;if(le=vn(W.$$.ptr,Ie,this.registeredClass),this.isSmartPointer)switch(W.$$.smartPtr===void 0&&Ce("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:W.$$.smartPtrType===this?le=W.$$.smartPtr:Ce("Cannot convert argument of type "+(W.$$.smartPtrType?W.$$.smartPtrType.name:W.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:le=W.$$.smartPtr;break;case 2:if(W.$$.smartPtrType===this)le=W.$$.smartPtr;else{var qe=W.clone();le=this.rawShare(le,Ia.toHandle(function(){qe.delete()})),q!==null&&q.push(this.rawDestructor,le)}break;default:Ce("Unsupporting sharing policy")}return le}function bn(q,W){if(W===null)return this.isReference&&Ce("null is not a valid "+this.name),0;W.$$||Ce('Cannot pass "'+wi(W)+'" as a '+this.name),W.$$.ptr||Ce("Cannot pass deleted object as a pointer of type "+this.name),W.$$.ptrType.isConst&&Ce("Cannot convert argument of type "+W.$$.ptrType.name+" to parameter type "+this.name);var le=W.$$.ptrType.registeredClass,Ie=vn(W.$$.ptr,le,this.registeredClass);return Ie}function _n(q){return this.rawGetPointee&&(q=this.rawGetPointee(q)),q}function $n(q){this.rawDestructor&&this.rawDestructor(q)}function Gn(q){q!==null&&q.delete()}function Dr(){pr.prototype.getPointee=_n,pr.prototype.destructor=$n,pr.prototype.argPackAdvance=8,pr.prototype.readValueFromPointer=Ne,pr.prototype.deleteObject=Gn,pr.prototype.fromWireType=Ct}function pr(q,W,le,Ie,qe,wt,ht,st,U,G,re){this.name=q,this.registeredClass=W,this.isReference=le,this.isConst=Ie,this.isSmartPointer=qe,this.pointeeType=wt,this.sharingPolicy=ht,this.rawGetPointee=st,this.rawConstructor=U,this.rawShare=G,this.rawDestructor=re,!qe&&W.baseClass===void 0?Ie?(this.toWireType=Wt,this.destructorFunction=null):(this.toWireType=bn,this.destructorFunction=null):this.toWireType=xn}function Ur(q,W,le){i.hasOwnProperty(q)||en("Replacing nonexistant public symbol"),i[q].overloadTable!==void 0&&le!==void 0?i[q].overloadTable[le]=W:(i[q]=W,i[q].argCount=le)}function Ar(q,W,le){var Ie=i["dynCall_"+q];return le&&le.length?Ie.apply(null,[W].concat(le)):Ie.call(null,W)}var Nr=[];function Rr(q){var W=Nr[q];return W||(q>=Nr.length&&(Nr.length=q+1),Nr[q]=W=pe.get(q)),W}function gn(q,W,le){if(q.includes("j"))return Ar(q,W,le);var Ie=Rr(W).apply(null,le);return Ie}function wn(q,W){var le=[];return function(){return le.length=0,Object.assign(le,arguments),gn(q,W,le)}}function Hn(q,W){q=ue(q);function le(){return q.includes("j")?wn(q,W):Rr(W)}var Ie=le();return typeof Ie!="function"&&Ce("unknown function pointer with signature "+q+": "+W),Ie}var zn=void 0;function Sr(q){var W=vt(q),le=ue(W);return mt(W),le}function Or(q,W){var le=[],Ie={};function qe(wt){if(!Ie[wt]&&!At[wt]){if(bt[wt]){bt[wt].forEach(qe);return}le.push(wt),Ie[wt]=!0}}throw W.forEach(qe),new zn(q+": "+le.map(Sr).join([", "]))}function mr(q,W,le,Ie,qe,wt,ht,st,U,G,re,ye,Le){re=ue(re),wt=Hn(qe,wt),st&&(st=Hn(ht,st)),G&&(G=Hn(U,G)),Le=Hn(ye,Le);var V=un(re);kr(V,function(){Or("Cannot construct "+re+" due to unbound types",[Ie])}),sn([q,W,le],Ie?[Ie]:[],function($){$=$[0];var Q,ae;Ie?(Q=$.registeredClass,ae=Q.instancePrototype):ae=gr.prototype;var De=Zt(V,function(){if(Object.getPrototypeOf(this)!==$e)throw new ge("Use 'new' to construct "+re);if(je.constructor_body===void 0)throw new ge(re+" has no accessible constructor");var Qt=je.constructor_body[arguments.length];if(Qt===void 0)throw new ge("Tried to invoke ctor of "+re+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(je.constructor_body).toString()+") parameters instead!");return Qt.apply(this,arguments)}),$e=Object.create(ae,{constructor:{value:De}});De.prototype=$e;var je=new Mr(re,De,$e,Le,Q,wt,st,G),ke=new pr(re,je,!0,!1,!1),it=new pr(re+"*",je,!1,!1,!1),Et=new pr(re+" const*",je,!1,!0,!1);return Ut[q]={pointerType:it,constPointerType:Et},Ur(V,De),[ke,it,Et]})}function Br(q,W){for(var le=[],Ie=0;Ie<q;Ie++)le.push(H[W+Ie*4>>2]);return le}function Qa(q,W){if(!(q instanceof Function))throw new TypeError("new_ called with constructor type "+typeof q+" which is not a function");var le=Zt(q.name||"unknownFunctionName",function(){});le.prototype=q.prototype;var Ie=new le,qe=q.apply(Ie,W);return qe instanceof Object?qe:Ie}function Xa(q,W,le,Ie,qe){var wt=W.length;wt<2&&Ce("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var ht=W[1]!==null&&le!==null,st=!1,U=1;U<W.length;++U)if(W[U]!==null&&W[U].destructorFunction===void 0){st=!0;break}for(var G=W[0].name!=="void",re="",ye="",U=0;U<wt-2;++U)re+=(U!==0?", ":"")+"arg"+U,ye+=(U!==0?", ":"")+"arg"+U+"Wired";var Le="return function "+un(q)+"("+re+`) {
if (arguments.length !== `+(wt-2)+`) {
throwBindingError('function `+q+" called with ' + arguments.length + ' arguments, expected "+(wt-2)+` args!');
}
`;st&&(Le+=`var destructors = [];
`);var V=st?"destructors":"null",$=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Q=[Ce,Ie,qe,et,W[0],W[1]];ht&&(Le+="var thisWired = classParam.toWireType("+V+`, this);
`);for(var U=0;U<wt-2;++U)Le+="var arg"+U+"Wired = argType"+U+".toWireType("+V+", arg"+U+"); // "+W[U+2].name+`
`,$.push("argType"+U),Q.push(W[U+2]);if(ht&&(ye="thisWired"+(ye.length>0?", ":"")+ye),Le+=(G?"var rv = ":"")+"invoker(fn"+(ye.length>0?", ":"")+ye+`);
`,st)Le+=`runDestructors(destructors);
`;else for(var U=ht?1:2;U<W.length;++U){var ae=U===1?"thisWired":"arg"+(U-2)+"Wired";W[U].destructorFunction!==null&&(Le+=ae+"_dtor("+ae+"); // "+W[U].name+`
`,$.push(ae+"_dtor"),Q.push(W[U].destructorFunction))}G&&(Le+=`var ret = retType.fromWireType(rv);
return ret;
`),Le+=`}
`,$.push(Le);var De=Qa(Function,$).apply(null,Q);return De}function da(q,W,le,Ie,qe,wt){O(W>0);var ht=Br(W,le);qe=Hn(Ie,qe),sn([],[q],function(st){st=st[0];var U="constructor "+st.name;if(st.registeredClass.constructor_body===void 0&&(st.registeredClass.constructor_body=[]),st.registeredClass.constructor_body[W-1]!==void 0)throw new ge("Cannot register multiple constructors with identical number of parameters ("+(W-1)+") for class '"+st.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return st.registeredClass.constructor_body[W-1]=()=>{Or("Cannot construct "+st.name+" due to unbound types",ht)},sn([],ht,function(G){return G.splice(1,0,null),st.registeredClass.constructor_body[W-1]=Xa(U,G,null,qe,wt),[]}),[]})}function ga(q,W,le,Ie,qe,wt,ht,st){var U=Br(le,Ie);W=ue(W),wt=Hn(qe,wt),sn([],[q],function(G){G=G[0];var re=G.name+"."+W;W.startsWith("@@")&&(W=Symbol[W.substring(2)]),st&&G.registeredClass.pureVirtualFunctions.push(W);function ye(){Or("Cannot call "+re+" due to unbound types",U)}var Le=G.registeredClass.instancePrototype,V=Le[W];return V===void 0||V.overloadTable===void 0&&V.className!==G.name&&V.argCount===le-2?(ye.argCount=le-2,ye.className=G.name,Le[W]=ye):(Ra(Le,W,re),Le[W].overloadTable[le-2]=ye),sn([],U,function($){var Q=Xa(re,$,G,wt,ht);return Le[W].overloadTable===void 0?(Q.argCount=le-2,Le[W]=Q):Le[W].overloadTable[le-2]=Q,[]}),[]})}var Jt=[],an=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function yr(q){q>4&&--an[q].refcount===0&&(an[q]=void 0,Jt.push(q))}function Ir(){for(var q=0,W=5;W<an.length;++W)an[W]!==void 0&&++q;return q}function Jn(){for(var q=5;q<an.length;++q)if(an[q]!==void 0)return an[q];return null}function oa(){i.count_emval_handles=Ir,i.get_first_emval=Jn}var Ia={toValue:q=>(q||Ce("Cannot use deleted val. handle = "+q),an[q].value),toHandle:q=>{switch(q){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var W=Jt.length?Jt.pop():an.length;return an[W]={refcount:1,value:q},W}}}};function Gs(q,W){W=ue(W),Ge(q,{name:W,fromWireType:function(le){var Ie=Ia.toValue(le);return yr(le),Ie},toWireType:function(le,Ie){return Ia.toHandle(Ie)},argPackAdvance:8,readValueFromPointer:Ne,destructorFunction:null})}function wi(q){if(q===null)return"null";var W=typeof q;return W==="object"||W==="array"||W==="function"?q.toString():""+q}function gi(q,W){switch(W){case 2:return function(le){return this.fromWireType(K[le>>2])};case 3:return function(le){return this.fromWireType(te[le>>3])};default:throw new TypeError("Unknown float type: "+q)}}function $i(q,W,le){var Ie=yt(le);W=ue(W),Ge(q,{name:W,fromWireType:function(qe){return qe},toWireType:function(qe,wt){return wt},argPackAdvance:8,readValueFromPointer:gi(W,Ie),destructorFunction:null})}function Gc(q,W,le){switch(W){case 0:return le?function(qe){return F[qe]}:function(qe){return _[qe]};case 1:return le?function(qe){return P[qe>>1]}:function(qe){return N[qe>>1]};case 2:return le?function(qe){return k[qe>>2]}:function(qe){return H[qe>>2]};default:throw new TypeError("Unknown integer type: "+q)}}function y0(q,W,le,Ie,qe){W=ue(W);var wt=yt(le),ht=ye=>ye;if(Ie===0){var st=32-8*le;ht=ye=>ye<<st>>>st}var U=W.includes("unsigned"),G=(ye,Le)=>{},re;U?re=function(ye,Le){return G(Le,this.name),Le>>>0}:re=function(ye,Le){return G(Le,this.name),Le},Ge(q,{name:W,fromWireType:ht,toWireType:re,argPackAdvance:8,readValueFromPointer:Gc(W,wt,Ie!==0),destructorFunction:null})}function zc(q,W,le){var Ie=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],qe=Ie[W];function wt(ht){ht=ht>>2;var st=H,U=st[ht],G=st[ht+1];return new qe(L,G,U)}le=ue(le),Ge(q,{name:le,fromWireType:wt,argPackAdvance:8,readValueFromPointer:wt},{ignoreDuplicateRegistrations:!0})}function ds(q,W){W=ue(W);var le=W==="std::string";Ge(q,{name:W,fromWireType:function(Ie){var qe=H[Ie>>2],wt=Ie+4,ht;if(le)for(var st=wt,U=0;U<=qe;++U){var G=wt+U;if(U==qe||_[G]==0){var re=G-st,ye=I(st,re);ht===void 0?ht=ye:(ht+="\0",ht+=ye),st=G+1}}else{for(var Le=new Array(qe),U=0;U<qe;++U)Le[U]=String.fromCharCode(_[wt+U]);ht=Le.join("")}return mt(Ie),ht},toWireType:function(Ie,qe){qe instanceof ArrayBuffer&&(qe=new Uint8Array(qe));var wt,ht=typeof qe=="string";ht||qe instanceof Uint8Array||qe instanceof Uint8ClampedArray||qe instanceof Int8Array||Ce("Cannot pass non-string to std::string"),le&&ht?wt=B(qe):wt=qe.length;var st=Xe(4+wt+1),U=st+4;if(H[st>>2]=wt,le&&ht)A(qe,U,wt+1);else if(ht)for(var G=0;G<wt;++G){var re=qe.charCodeAt(G);re>255&&(mt(U),Ce("String has UTF-16 code units that do not fit in 8 bits")),_[U+G]=re}else for(var G=0;G<wt;++G)_[U+G]=qe[G];return Ie!==null&&Ie.push(mt,st),st},argPackAdvance:8,readValueFromPointer:Ne,destructorFunction:function(Ie){mt(Ie)}})}var ml=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function C0(q,W){for(var le=q,Ie=le>>1,qe=Ie+W/2;!(Ie>=qe)&&N[Ie];)++Ie;if(le=Ie<<1,le-q>32&&ml)return ml.decode(_.subarray(q,le));for(var wt="",ht=0;!(ht>=W/2);++ht){var st=P[q+ht*2>>1];if(st==0)break;wt+=String.fromCharCode(st)}return wt}function Wc(q,W,le){if(le===void 0&&(le=2147483647),le<2)return 0;le-=2;for(var Ie=W,qe=le<q.length*2?le/2:q.length,wt=0;wt<qe;++wt){var ht=q.charCodeAt(wt);P[W>>1]=ht,W+=2}return P[W>>1]=0,W-Ie}function jc(q){return q.length*2}function vl(q,W){for(var le=0,Ie="";!(le>=W/4);){var qe=k[q+le*4>>2];if(qe==0)break;if(++le,qe>=65536){var wt=qe-65536;Ie+=String.fromCharCode(55296|wt>>10,56320|wt&1023)}else Ie+=String.fromCharCode(qe)}return Ie}function Hc(q,W,le){if(le===void 0&&(le=2147483647),le<4)return 0;for(var Ie=W,qe=Ie+le-4,wt=0;wt<q.length;++wt){var ht=q.charCodeAt(wt);if(ht>=55296&&ht<=57343){var st=q.charCodeAt(++wt);ht=65536+((ht&1023)<<10)|st&1023}if(k[W>>2]=ht,W+=4,W+4>qe)break}return k[W>>2]=0,W-Ie}function qc(q){for(var W=0,le=0;le<q.length;++le){var Ie=q.charCodeAt(le);Ie>=55296&&Ie<=57343&&++le,W+=4}return W}function Kc(q,W,le){le=ue(le);var Ie,qe,wt,ht,st;W===2?(Ie=C0,qe=Wc,ht=jc,wt=()=>N,st=1):W===4&&(Ie=vl,qe=Hc,ht=qc,wt=()=>H,st=2),Ge(q,{name:le,fromWireType:function(U){for(var G=H[U>>2],re=wt(),ye,Le=U+4,V=0;V<=G;++V){var $=U+4+V*W;if(V==G||re[$>>st]==0){var Q=$-Le,ae=Ie(Le,Q);ye===void 0?ye=ae:(ye+="\0",ye+=ae),Le=$+W}}return mt(U),ye},toWireType:function(U,G){typeof G!="string"&&Ce("Cannot pass non-string to C++ string type "+le);var re=ht(G),ye=Xe(4+re+W);return H[ye>>2]=re>>st,qe(G,ye+4,re+W),U!==null&&U.push(mt,ye),ye},argPackAdvance:8,readValueFromPointer:Ne,destructorFunction:function(U){mt(U)}})}function Qc(q,W,le,Ie,qe,wt){ct[q]={name:ue(W),rawConstructor:Hn(le,Ie),rawDestructor:Hn(qe,wt),fields:[]}}function pl(q,W,le,Ie,qe,wt,ht,st,U,G){ct[q].fields.push({fieldName:ue(W),getterReturnType:le,getter:Hn(Ie,qe),getterContext:wt,setterArgumentType:ht,setter:Hn(st,U),setterContext:G})}function Xc(q,W){W=ue(W),Ge(q,{isVoid:!0,name:W,argPackAdvance:0,fromWireType:function(){},toWireType:function(le,Ie){}})}var Yc={};function hl(q){var W=Yc[q];return W===void 0?ue(q):W}function Sl(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Zc(q){return q===0?Ia.toHandle(Sl()):(q=hl(q),Ia.toHandle(Sl()[q]))}function yl(q){q>4&&(an[q].refcount+=1)}function Cl(q,W){var le=At[q];return le===void 0&&Ce(W+" has unknown type "+Sr(q)),le}function xl(q){for(var W="",le=0;le<q;++le)W+=(le!==0?", ":"")+"arg"+le;for(var Ie=()=>H,qe="return function emval_allocator_"+q+`(constructor, argTypes, args) {
  var HEAPU32 = getMemory();
`,le=0;le<q;++le)qe+="var argType"+le+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+le+`');
var arg`+le+" = argType"+le+`.readValueFromPointer(args);
args += argType`+le+`['argPackAdvance'];
argTypes += 4;
`;return qe+="var obj = new constructor("+W+`);
return valueToHandle(obj);
}
`,new Function("requireRegisteredType","Module","valueToHandle","getMemory",qe)(Cl,i,Ia.toHandle,Ie)}var x0={};function Jc(q,W,le,Ie){q=Ia.toValue(q);var qe=x0[W];return qe||(qe=xl(W),x0[W]=qe),qe(q,le,Ie)}function eu(q,W){q=Cl(q,"_emval_take_value");var le=q.readValueFromPointer(W);return Ia.toHandle(le)}function Tl(){Be("")}function wl(){return 2147483648}function bl(){return wl()}function tu(q,W,le){_.copyWithin(q,W,W+le)}function nu(q){try{return b.grow(q-L.byteLength+65535>>>16),se(b.buffer),1}catch{}}function ru(q){var W=_.length;q=q>>>0;var le=wl();if(q>le)return!1;let Ie=(U,G)=>U+(G-U%G)%G;for(var qe=1;qe<=4;qe*=2){var wt=W*(1+.2/qe);wt=Math.min(wt,q+100663296);var ht=Math.min(le,Ie(Math.max(q,wt),65536)),st=nu(ht);if(st)return!0}return!1}var T0={};function au(){return c||"./this.program"}function mo(){if(!mo.strings){var q=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",W={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:q,_:au()};for(var le in T0)T0[le]===void 0?delete W[le]:W[le]=T0[le];var Ie=[];for(var le in W)Ie.push(le+"="+W[le]);mo.strings=Ie}return mo.strings}function El(q,W,le){for(var Ie=0;Ie<q.length;++Ie)F[W++>>0]=q.charCodeAt(Ie);F[W>>0]=0}function mi(q,W){var le=0;return mo().forEach(function(Ie,qe){var wt=W+le;H[q+qe*4>>2]=wt,El(Ie,wt),le+=Ie.length+1}),0}function Dl(q,W){var le=mo();H[q>>2]=le.length;var Ie=0;return le.forEach(function(qe){Ie+=qe.length+1}),H[W>>2]=Ie,0}function Go(q){return 52}function w0(q,W,le,Ie,qe){return 70}var Ol=[null,[],[]];function zs(q,W){var le=Ol[q];W===0||W===10?((q===1?x:T)(R(le,0)),le.length=0):le.push(W)}function Rl(q,W,le,Ie){for(var qe=0,wt=0;wt<le;wt++){var ht=H[W>>2],st=H[W+4>>2];W+=8;for(var U=0;U<st;U++)zs(q,_[ht+U]);qe+=st}return H[Ie>>2]=qe,0}function X(q){var W=i["_"+q];return W}function Z(q,W){F.set(q,W)}function me(q,W,le,Ie,qe){var wt={string:$=>{var Q=0;if($!=null&&$!==0){var ae=($.length<<2)+1;Q=Gt(ae),A($,Q,ae)}return Q},array:$=>{var Q=Gt($.length);return Z($,Q),Q}};function ht($){return W==="string"?I($):W==="boolean"?!!$:$}var st=X(q),U=[],G=0;if(Ie)for(var re=0;re<Ie.length;re++){var ye=wt[le[re]];ye?(G===0&&(G=nt()),U[re]=ye(Ie[re])):U[re]=Ie[re]}var Le=st.apply(null,U);function V($){return G!==0&&Tt(G),ht($)}return Le=V(Le),Le}fn=i.InternalError=Kt(Error,"InternalError"),lt(),ge=i.BindingError=Kt(Error,"BindingError"),rr(),dn(),Dr(),zn=i.UnboundTypeError=Kt(Error,"UnboundTypeError"),oa();var Ve={D:St,e:zt,t:Lt,B:He,r:mr,q:da,b:ga,A:Gs,l:$i,d:y0,a:zc,k:ds,f:Kc,g:Qc,c:pl,C:Xc,h:yr,o:Zc,m:yl,n:Jc,p:eu,i:Tl,v:bl,z:tu,u:ru,w:mi,x:Dl,y:Go,s:w0,j:Rl};Ue(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.F).apply(null,arguments)};var Xe=i._malloc=function(){return(Xe=i._malloc=i.asm.H).apply(null,arguments)},mt=i._free=function(){return(mt=i._free=i.asm.I).apply(null,arguments)},vt=i.___getTypeName=function(){return(vt=i.___getTypeName=i.asm.J).apply(null,arguments)};i.__embind_initialize_bindings=function(){return(i.__embind_initialize_bindings=i.asm.K).apply(null,arguments)};var nt=i.stackSave=function(){return(nt=i.stackSave=i.asm.L).apply(null,arguments)},Tt=i.stackRestore=function(){return(Tt=i.stackRestore=i.asm.M).apply(null,arguments)},Gt=i.stackAlloc=function(){return(Gt=i.stackAlloc=i.asm.N).apply(null,arguments)},hn=i.___cxa_is_pointer_type=function(){return(hn=i.___cxa_is_pointer_type=i.asm.O).apply(null,arguments)};i.dynCall_iji=function(){return(i.dynCall_iji=i.asm.P).apply(null,arguments)},i.dynCall_jji=function(){return(i.dynCall_jji=i.asm.Q).apply(null,arguments)},i.dynCall_iiji=function(){return(i.dynCall_iiji=i.asm.R).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.S).apply(null,arguments)},i.ccall=me;var Rn;We=function q(){Rn||En(),Rn||(We=q)};function En(q){if(Pe>0||(fe(),Pe>0))return;function W(){Rn||(Rn=!0,i.calledRun=!0,!E&&(ce(),o(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),Ee()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),W()},1)):W()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return En(),a.ready}})();t.exports=n})(NH);var AIe=NH.exports;const MIe=No(AIe),PIe=new URL("/cursor-dicom-viewer/assets/openjpegwasm_decode-C4nnCcr6.wasm",import.meta.url),pm={codec:void 0,decoder:void 0,decodeConfig:{}};function LIe(t){if(pm.decodeConfig=t,pm.codec)return Promise.resolve();const e=MIe({locateFile:n=>n.endsWith(".wasm")?PIe.toString():n});return new Promise((n,r)=>{e.then(a=>{pm.codec=a,pm.decoder=new a.J2KDecoder,n()},r)})}async function nP(t,e){await LIe();const n=pm.decoder,r=n.getEncodedBuffer(t.length);r.set(t),n.decode();const a=n.getFrameInfo(),i=n.getDecodedBuffer();new Uint8Array(i.length).set(i);const s=`x: ${n.getImageOffset().x}, y: ${n.getImageOffset().y}`,l=n.getNumDecompositions(),c=n.getNumLayers(),f=["unknown","LRCP","RLCP","RPCL","PCRL","CPRL"][n.getProgressionOrder()+1],u=n.getIsReversible(),d=`${n.getBlockDimensions().width} x ${n.getBlockDimensions().height}`,g=`${n.getTileSize().width} x ${n.getTileSize().height}`,v=`${n.getTileOffset().x}, ${n.getTileOffset().y}`,m=n.getColorSpace(),p=`${i.length.toLocaleString()} bytes`,h=`${(i.length/r.length).toFixed(2)}:1`,y={columns:a.width,rows:a.height,bitsPerPixel:a.bitsPerSample,signed:a.isSigned,bytesPerPixel:e.bytesPerPixel,componentsPerPixel:a.componentCount},C=_Ie(a,i),x={imageOffset:s,numDecompositions:l,numLayers:c,progessionOrder:f,reversible:u,blockDimensions:d,tileSize:g,tileOffset:v,colorTransform:m,decodedSize:p,compressionRatio:h};return{...e,pixelData:C,imageInfo:y,encodeOptions:x,...x,...y}}function _Ie(t,e){return t.bitsPerSample>8?t.isSigned?new Int16Array(e.buffer,e.byteOffset,e.byteLength/2):new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2):t.isSigned?new Int8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var FH={exports:{}};(function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(i){i=i||{};var i=typeof i<"u"?i:{},o,s;i.ready=new Promise(function(U,G){o=U,s=G});var l=Object.assign({},i),c=typeof window=="object",f=typeof importScripts=="function",u=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",d="";function g(U){return i.locateFile?i.locateFile(U,d):d+U}var v,m,p;if(u){var h=c0,y=c0;f?d=y.dirname(d)+"/":d=__dirname+"/",v=(U,G)=>(U=Y(U)?new URL(U):y.normalize(U),h.readFileSync(U,G?void 0:"utf8")),p=U=>{var G=v(U,!0);return G.buffer||(G=new Uint8Array(G)),G},m=(U,G,re)=>{U=Y(U)?new URL(U):y.normalize(U),h.readFile(U,function(ye,Le){ye?re(ye):G(Le.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(U){if(!(U instanceof Ue))throw U}),process.on("unhandledRejection",function(U){throw U}),i.inspect=function(){return"[Emscripten Module object]"}}else(c||f)&&(f?d=self.location.href:typeof document<"u"&&document.currentScript&&(d=document.currentScript.src),r&&(d=r),d.indexOf("blob:")!==0?d=d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):d="",v=U=>{var G=new XMLHttpRequest;return G.open("GET",U,!1),G.send(null),G.responseText},f&&(p=U=>{var G=new XMLHttpRequest;return G.open("GET",U,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}),m=(U,G,re)=>{var ye=new XMLHttpRequest;ye.open("GET",U,!0),ye.responseType="arraybuffer",ye.onload=()=>{if(ye.status==200||ye.status==0&&ye.response){G(ye.response);return}re()},ye.onerror=re,ye.send(null)});var C=i.print||console.log.bind(console),x=i.printErr||console.warn.bind(console);Object.assign(i,l),l=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var T;i.wasmBinary&&(T=i.wasmBinary),i.noExitRuntime,typeof WebAssembly!="object"&&Je("no native wasm support detected");var w,b=!1;function E(U,G){U||Je(G)}var O=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function D(U,G,re){for(var ye=G+re,Le=G;U[Le]&&!(Le>=ye);)++Le;if(Le-G>16&&U.buffer&&O)return O.decode(U.subarray(G,Le));for(var V="";G<Le;){var $=U[G++];if(!($&128)){V+=String.fromCharCode($);continue}var Q=U[G++]&63;if(($&224)==192){V+=String.fromCharCode(($&31)<<6|Q);continue}var ae=U[G++]&63;if(($&240)==224?$=($&15)<<12|Q<<6|ae:$=($&7)<<18|Q<<12|ae<<6|U[G++]&63,$<65536)V+=String.fromCharCode($);else{var De=$-65536;V+=String.fromCharCode(55296|De>>10,56320|De&1023)}}return V}function R(U,G){return U?D(F,U,G):""}function I(U,G,re,ye){if(!(ye>0))return 0;for(var Le=re,V=re+ye-1,$=0;$<U.length;++$){var Q=U.charCodeAt($);if(Q>=55296&&Q<=57343){var ae=U.charCodeAt(++$);Q=65536+((Q&1023)<<10)|ae&1023}if(Q<=127){if(re>=V)break;G[re++]=Q}else if(Q<=2047){if(re+1>=V)break;G[re++]=192|Q>>6,G[re++]=128|Q&63}else if(Q<=65535){if(re+2>=V)break;G[re++]=224|Q>>12,G[re++]=128|Q>>6&63,G[re++]=128|Q&63}else{if(re+3>=V)break;G[re++]=240|Q>>18,G[re++]=128|Q>>12&63,G[re++]=128|Q>>6&63,G[re++]=128|Q&63}}return G[re]=0,re-Le}function M(U,G,re){return I(U,F,G,re)}function A(U){for(var G=0,re=0;re<U.length;++re){var ye=U.charCodeAt(re);ye<=127?G++:ye<=2047?G+=2:ye>=55296&&ye<=57343?(G+=4,++re):G+=3}return G}var B,L,F,_,P,N,k,H,K;function te(U){B=U,i.HEAP8=L=new Int8Array(U),i.HEAP16=_=new Int16Array(U),i.HEAP32=N=new Int32Array(U),i.HEAPU8=F=new Uint8Array(U),i.HEAPU16=P=new Uint16Array(U),i.HEAPU32=k=new Uint32Array(U),i.HEAPF32=H=new Float32Array(U),i.HEAPF64=K=new Float64Array(U)}i.INITIAL_MEMORY;var se,pe=[],ve=[],Te=[];function _e(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Ee(i.preRun.shift());ze(pe)}function fe(){ze(ve)}function ce(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)he(i.postRun.shift());ze(Te)}function Ee(U){pe.unshift(U)}function we(U){ve.unshift(U)}function he(U){Te.unshift(U)}var Re=0,Pe=null;function We(U){Re++,i.monitorRunDependencies&&i.monitorRunDependencies(Re)}function Me(U){if(Re--,i.monitorRunDependencies&&i.monitorRunDependencies(Re),Re==0&&Pe){var G=Pe;Pe=null,G()}}function Je(U){i.onAbort&&i.onAbort(U),U="Aborted("+U+")",x(U),b=!0,U+=". Build with -sASSERTIONS for more info.";var G=new WebAssembly.RuntimeError(U);throw s(G),G}var Be="data:application/octet-stream;base64,";function z(U){return U.startsWith(Be)}function Y(U){return U.startsWith("file://")}var ee;ee="openjphjs.wasm",z(ee)||(ee=g(ee));function j(U){try{if(U==ee&&T)return new Uint8Array(T);if(p)return p(U);throw"both async and sync fetching of the wasm failed"}catch(G){Je(G)}}function oe(){if(!T&&(c||f)){if(typeof fetch=="function"&&!Y(ee))return fetch(ee,{credentials:"same-origin"}).then(function(U){if(!U.ok)throw"failed to load wasm binary file at '"+ee+"'";return U.arrayBuffer()}).catch(function(){return j(ee)});if(m)return new Promise(function(U,G){m(ee,function(re){U(new Uint8Array(re))},G)})}return Promise.resolve().then(function(){return j(ee)})}function be(){var U={a:Rl};function G($,Q){var ae=$.exports;i.asm=ae,w=i.asm.P,te(w.buffer),se=i.asm.T,we(i.asm.Q),Me()}We();function re($){G($.instance)}function ye($){return oe().then(function(Q){return WebAssembly.instantiate(Q,U)}).then(function(Q){return Q}).then($,function(Q){x("failed to asynchronously prepare wasm: "+Q),Je(Q)})}function Le(){return!T&&typeof WebAssembly.instantiateStreaming=="function"&&!z(ee)&&!Y(ee)&&!u&&typeof fetch=="function"?fetch(ee,{credentials:"same-origin"}).then(function($){var Q=WebAssembly.instantiateStreaming($,U);return Q.then(re,function(ae){return x("wasm streaming compile failed: "+ae),x("falling back to ArrayBuffer instantiation"),ye(re)})}):ye(re)}if(i.instantiateWasm)try{var V=i.instantiateWasm(U,G);return V}catch($){x("Module.instantiateWasm callback failed with error: "+$),s($)}return Le().catch(s),{}}function Ue(U){this.name="ExitStatus",this.message="Program terminated with exit("+U+")",this.status=U}function ze(U){for(;U.length>0;)U.shift()(i)}var at=[];function gt(U){U.add_ref()}function St(U){var G=new bt(U);return G.get_caught()||G.set_caught(!0),G.set_rethrown(!1),at.push(G),gt(G),G.get_exception_ptr()}var ct=0,et=[];function Ne(U){var G=et[U];return G||(U>=et.length&&(et.length=U+1),et[U]=G=se.get(U)),G}function ut(U){if(U.release_ref()&&!U.get_rethrown()){var G=U.get_destructor();G&&Ne(G)(U.excPtr),Z(U.excPtr)}}function At(){_setThrew(0);var U=at.pop();ut(U),ct=0}function bt(U){this.excPtr=U,this.ptr=U-24,this.set_type=function(G){k[this.ptr+4>>2]=G},this.get_type=function(){return k[this.ptr+4>>2]},this.set_destructor=function(G){k[this.ptr+8>>2]=G},this.get_destructor=function(){return k[this.ptr+8>>2]},this.set_refcount=function(G){N[this.ptr>>2]=G},this.set_caught=function(G){G=G?1:0,L[this.ptr+12>>0]=G},this.get_caught=function(){return L[this.ptr+12>>0]!=0},this.set_rethrown=function(G){G=G?1:0,L[this.ptr+13>>0]=G},this.get_rethrown=function(){return L[this.ptr+13>>0]!=0},this.init=function(G,re){this.set_adjusted_ptr(0),this.set_type(G),this.set_destructor(re),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var G=N[this.ptr>>2];N[this.ptr>>2]=G+1},this.release_ref=function(){var G=N[this.ptr>>2];return N[this.ptr>>2]=G-1,G===1},this.set_adjusted_ptr=function(G){k[this.ptr+16>>2]=G},this.get_adjusted_ptr=function(){return k[this.ptr+16>>2]},this.get_exception_ptr=function(){var G=Gt(this.get_type());if(G)return k[this.excPtr>>2];var re=this.get_adjusted_ptr();return re!==0?re:this.excPtr}}function Rt(U){throw ct||(ct=U),U}function jt(){var U=ct;if(!U)return Xe(0),0;var G=new bt(U);G.set_adjusted_ptr(U);var re=G.get_type();if(!re)return Xe(0),U;for(var ye=0;ye<arguments.length;ye++){var Le=arguments[ye];if(Le===0||Le===re)break;var V=G.ptr+16;if(Tt(Le,re,V))return Xe(Le),U}return Xe(re),U}function un(){var U=ct;if(!U)return Xe(0),0;var G=new bt(U);G.set_adjusted_ptr(U);var re=G.get_type();if(!re)return Xe(0),U;for(var ye=0;ye<arguments.length;ye++){var Le=arguments[ye];if(Le===0||Le===re)break;var V=G.ptr+16;if(Tt(Le,re,V))return Xe(Le),U}return Xe(re),U}function Zt(U,G,re){var ye=new bt(U);throw ye.init(G,re),ct=U,U}var Kt={};function fn(U){for(;U.length;){var G=U.pop(),re=U.pop();re(G)}}function en(U){return this.fromWireType(N[U>>2])}var sn={},zt={},Lt={},yt=48,lt=57;function de(U){if(U===void 0)return"_unknown";U=U.replace(/[^a-zA-Z0-9_]/g,"$");var G=U.charCodeAt(0);return G>=yt&&G<=lt?"_"+U:U}function ue(U,G){return U=de(U),new Function("body","return function "+U+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(G)}function ge(U,G){var re=ue(G,function(ye){this.name=G,this.message=ye;var Le=new Error(ye).stack;Le!==void 0&&(this.stack=this.toString()+`
`+Le.replace(/^Error(:[^\n]*)?\n/,""))});return re.prototype=Object.create(U.prototype),re.prototype.constructor=re,re.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},re}var Ce=void 0;function Ge(U){throw new Ce(U)}function He(U,G,re){U.forEach(function(Q){Lt[Q]=G});function ye(Q){var ae=re(Q);ae.length!==U.length&&Ge("Mismatched type converter count");for(var De=0;De<U.length;++De)Ut(U[De],ae[De])}var Le=new Array(G.length),V=[],$=0;G.forEach((Q,ae)=>{zt.hasOwnProperty(Q)?Le[ae]=zt[Q]:(V.push(Q),sn.hasOwnProperty(Q)||(sn[Q]=[]),sn[Q].push(()=>{Le[ae]=zt[Q],++$,$===V.length&&ye(Le)}))}),V.length===0&&ye(Le)}function pt(U){var G=Kt[U];delete Kt[U];var re=G.rawConstructor,ye=G.rawDestructor,Le=G.fields,V=Le.map($=>$.getterReturnType).concat(Le.map($=>$.setterArgumentType));He([U],V,$=>{var Q={};return Le.forEach((ae,De)=>{var $e=ae.fieldName,je=$[De],ke=ae.getter,it=ae.getterContext,Et=$[De+Le.length],Qt=ae.setter,Cn=ae.setterContext;Q[$e]={read:Mn=>je.fromWireType(ke(it,Mn)),write:(Mn,Hr)=>{var Qn=[];Qt(Cn,Mn,Et.toWireType(Qn,Hr)),fn(Qn)}}}),[{name:G.name,fromWireType:function(ae){var De={};for(var $e in Q)De[$e]=Q[$e].read(ae);return ye(ae),De},toWireType:function(ae,De){for(var $e in Q)if(!($e in De))throw new TypeError('Missing field:  "'+$e+'"');var je=re();for($e in Q)Q[$e].write(je,De[$e]);return ae!==null&&ae.push(ye,je),je},argPackAdvance:8,readValueFromPointer:en,destructorFunction:ye}]})}function Qe(U,G,re,ye,Le){}function Ke(U){switch(U){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+U)}}function Ye(){for(var U=new Array(256),G=0;G<256;++G)U[G]=String.fromCharCode(G);ft=U}var ft=void 0;function xt(U){for(var G="",re=U;F[re];)G+=ft[F[re++]];return G}var Nt=void 0;function Pt(U){throw new Nt(U)}function Ut(U,G,re={}){if(!("argPackAdvance"in G))throw new TypeError("registerType registeredInstance requires argPackAdvance");var ye=G.name;if(U||Pt('type "'+ye+'" must have a positive integer typeid pointer'),zt.hasOwnProperty(U)){if(re.ignoreDuplicateRegistrations)return;Pt("Cannot register type '"+ye+"' twice")}if(zt[U]=G,delete Lt[U],sn.hasOwnProperty(U)){var Le=sn[U];delete sn[U],Le.forEach(V=>V())}}function Ht(U,G,re,ye,Le){var V=Ke(re);G=xt(G),Ut(U,{name:G,fromWireType:function($){return!!$},toWireType:function($,Q){return Q?ye:Le},argPackAdvance:8,readValueFromPointer:function($){var Q;if(re===1)Q=L;else if(re===2)Q=_;else if(re===4)Q=N;else throw new TypeError("Unknown boolean type size: "+G);return this.fromWireType(Q[$>>V])},destructorFunction:null})}function Dt(U){if(!(this instanceof Gn)||!(U instanceof Gn))return!1;for(var G=this.$$.ptrType.registeredClass,re=this.$$.ptr,ye=U.$$.ptrType.registeredClass,Le=U.$$.ptr;G.baseClass;)re=G.upcast(re),G=G.baseClass;for(;ye.baseClass;)Le=ye.upcast(Le),ye=ye.baseClass;return G===ye&&re===Le}function Mt(U){return{count:U.count,deleteScheduled:U.deleteScheduled,preservePointerOnDelete:U.preservePointerOnDelete,ptr:U.ptr,ptrType:U.ptrType,smartPtr:U.smartPtr,smartPtrType:U.smartPtrType}}function Bt(U){function G(re){return re.$$.ptrType.registeredClass.name}Pt(G(U)+" instance already deleted")}var Ft=!1;function Ot(U){}function dn(U){U.smartPtr?U.smartPtrType.rawDestructor(U.smartPtr):U.ptrType.registeredClass.rawDestructor(U.ptr)}function rn(U){U.count.value-=1;var G=U.count.value===0;G&&dn(U)}function pn(U,G,re){if(G===re)return U;if(re.baseClass===void 0)return null;var ye=pn(U,G,re.baseClass);return ye===null?null:re.downcast(ye)}var Xn={};function Fn(){return Object.keys(rr).length}function Ct(){var U=[];for(var G in rr)rr.hasOwnProperty(G)&&U.push(rr[G]);return U}var $t=[];function mn(){for(;$t.length;){var U=$t.pop();U.$$.deleteScheduled=!1,U.delete()}}var An=void 0;function On(U){An=U,$t.length&&An&&An(mn)}function jn(){i.getInheritedInstanceCount=Fn,i.getLiveInheritedInstances=Ct,i.flushPendingDeletes=mn,i.setDelayFunction=On}var rr={};function gr(U,G){for(G===void 0&&Pt("ptr should not be undefined");U.baseClass;)G=U.upcast(G),U=U.baseClass;return G}function Ra(U,G){return G=gr(U,G),rr[G]}function kr(U,G){(!G.ptrType||!G.ptr)&&Ge("makeClassHandle requires ptr and ptrType");var re=!!G.smartPtrType,ye=!!G.smartPtr;return re!==ye&&Ge("Both smartPtrType and smartPtr must be specified"),G.count={value:1},vn(Object.create(U,{$$:{value:G}}))}function Mr(U){var G=this.getPointee(U);if(!G)return this.destructor(U),null;var re=Ra(this.registeredClass,G);if(re!==void 0){if(re.$$.count.value===0)return re.$$.ptr=G,re.$$.smartPtr=U,re.clone();var ye=re.clone();return this.destructor(U),ye}function Le(){return this.isSmartPointer?kr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:G,smartPtrType:this,smartPtr:U}):kr(this.registeredClass.instancePrototype,{ptrType:this,ptr:U})}var V=this.registeredClass.getActualType(G),$=Xn[V];if(!$)return Le.call(this);var Q;this.isConst?Q=$.constPointerType:Q=$.pointerType;var ae=pn(G,this.registeredClass,Q.registeredClass);return ae===null?Le.call(this):this.isSmartPointer?kr(Q.registeredClass.instancePrototype,{ptrType:Q,ptr:ae,smartPtrType:this,smartPtr:U}):kr(Q.registeredClass.instancePrototype,{ptrType:Q,ptr:ae})}function vn(U){return typeof FinalizationRegistry>"u"?(vn=G=>G,U):(Ft=new FinalizationRegistry(G=>{rn(G.$$)}),vn=G=>{var re=G.$$,ye=!!re.smartPtr;if(ye){var Le={$$:re};Ft.register(G,Le,G)}return G},Ot=G=>Ft.unregister(G),vn(U))}function Wt(){if(this.$$.ptr||Bt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var U=vn(Object.create(Object.getPrototypeOf(this),{$$:{value:Mt(this.$$)}}));return U.$$.count.value+=1,U.$$.deleteScheduled=!1,U}function xn(){this.$$.ptr||Bt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Pt("Object already scheduled for deletion"),Ot(this),rn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function bn(){return!this.$$.ptr}function _n(){return this.$$.ptr||Bt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Pt("Object already scheduled for deletion"),$t.push(this),$t.length===1&&An&&An(mn),this.$$.deleteScheduled=!0,this}function $n(){Gn.prototype.isAliasOf=Dt,Gn.prototype.clone=Wt,Gn.prototype.delete=xn,Gn.prototype.isDeleted=bn,Gn.prototype.deleteLater=_n}function Gn(){}function Dr(U,G,re){if(U[G].overloadTable===void 0){var ye=U[G];U[G]=function(){return U[G].overloadTable.hasOwnProperty(arguments.length)||Pt("Function '"+re+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+U[G].overloadTable+")!"),U[G].overloadTable[arguments.length].apply(this,arguments)},U[G].overloadTable=[],U[G].overloadTable[ye.argCount]=ye}}function pr(U,G,re){i.hasOwnProperty(U)?((re===void 0||i[U].overloadTable!==void 0&&i[U].overloadTable[re]!==void 0)&&Pt("Cannot register public name '"+U+"' twice"),Dr(i,U,U),i.hasOwnProperty(re)&&Pt("Cannot register multiple overloads of a function with the same number of arguments ("+re+")!"),i[U].overloadTable[re]=G):(i[U]=G,re!==void 0&&(i[U].numArguments=re))}function Ur(U,G,re,ye,Le,V,$,Q){this.name=U,this.constructor=G,this.instancePrototype=re,this.rawDestructor=ye,this.baseClass=Le,this.getActualType=V,this.upcast=$,this.downcast=Q,this.pureVirtualFunctions=[]}function Ar(U,G,re){for(;G!==re;)G.upcast||Pt("Expected null or instance of "+re.name+", got an instance of "+G.name),U=G.upcast(U),G=G.baseClass;return U}function Nr(U,G){if(G===null)return this.isReference&&Pt("null is not a valid "+this.name),0;G.$$||Pt('Cannot pass "'+C0(G)+'" as a '+this.name),G.$$.ptr||Pt("Cannot pass deleted object as a pointer of type "+this.name);var re=G.$$.ptrType.registeredClass,ye=Ar(G.$$.ptr,re,this.registeredClass);return ye}function Rr(U,G){var re;if(G===null)return this.isReference&&Pt("null is not a valid "+this.name),this.isSmartPointer?(re=this.rawConstructor(),U!==null&&U.push(this.rawDestructor,re),re):0;G.$$||Pt('Cannot pass "'+C0(G)+'" as a '+this.name),G.$$.ptr||Pt("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&G.$$.ptrType.isConst&&Pt("Cannot convert argument of type "+(G.$$.smartPtrType?G.$$.smartPtrType.name:G.$$.ptrType.name)+" to parameter type "+this.name);var ye=G.$$.ptrType.registeredClass;if(re=Ar(G.$$.ptr,ye,this.registeredClass),this.isSmartPointer)switch(G.$$.smartPtr===void 0&&Pt("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:G.$$.smartPtrType===this?re=G.$$.smartPtr:Pt("Cannot convert argument of type "+(G.$$.smartPtrType?G.$$.smartPtrType.name:G.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:re=G.$$.smartPtr;break;case 2:if(G.$$.smartPtrType===this)re=G.$$.smartPtr;else{var Le=G.clone();re=this.rawShare(re,ds.toHandle(function(){Le.delete()})),U!==null&&U.push(this.rawDestructor,re)}break;default:Pt("Unsupporting sharing policy")}return re}function gn(U,G){if(G===null)return this.isReference&&Pt("null is not a valid "+this.name),0;G.$$||Pt('Cannot pass "'+C0(G)+'" as a '+this.name),G.$$.ptr||Pt("Cannot pass deleted object as a pointer of type "+this.name),G.$$.ptrType.isConst&&Pt("Cannot convert argument of type "+G.$$.ptrType.name+" to parameter type "+this.name);var re=G.$$.ptrType.registeredClass,ye=Ar(G.$$.ptr,re,this.registeredClass);return ye}function wn(U){return this.rawGetPointee&&(U=this.rawGetPointee(U)),U}function Hn(U){this.rawDestructor&&this.rawDestructor(U)}function zn(U){U!==null&&U.delete()}function Sr(){Or.prototype.getPointee=wn,Or.prototype.destructor=Hn,Or.prototype.argPackAdvance=8,Or.prototype.readValueFromPointer=en,Or.prototype.deleteObject=zn,Or.prototype.fromWireType=Mr}function Or(U,G,re,ye,Le,V,$,Q,ae,De,$e){this.name=U,this.registeredClass=G,this.isReference=re,this.isConst=ye,this.isSmartPointer=Le,this.pointeeType=V,this.sharingPolicy=$,this.rawGetPointee=Q,this.rawConstructor=ae,this.rawShare=De,this.rawDestructor=$e,!Le&&G.baseClass===void 0?ye?(this.toWireType=Nr,this.destructorFunction=null):(this.toWireType=gn,this.destructorFunction=null):this.toWireType=Rr}function mr(U,G,re){i.hasOwnProperty(U)||Ge("Replacing nonexistant public symbol"),i[U].overloadTable!==void 0&&re!==void 0?i[U].overloadTable[re]=G:(i[U]=G,i[U].argCount=re)}function Br(U,G,re){var ye=i["dynCall_"+U];return re&&re.length?ye.apply(null,[G].concat(re)):ye.call(null,G)}function Qa(U,G,re){if(U.includes("j"))return Br(U,G,re);var ye=Ne(G).apply(null,re);return ye}function Xa(U,G){var re=[];return function(){return re.length=0,Object.assign(re,arguments),Qa(U,G,re)}}function da(U,G){U=xt(U);function re(){return U.includes("j")?Xa(U,G):Ne(G)}var ye=re();return typeof ye!="function"&&Pt("unknown function pointer with signature "+U+": "+G),ye}var ga=void 0;function Jt(U){var G=Ve(U),re=xt(G);return me(G),re}function an(U,G){var re=[],ye={};function Le(V){if(!ye[V]&&!zt[V]){if(Lt[V]){Lt[V].forEach(Le);return}re.push(V),ye[V]=!0}}throw G.forEach(Le),new ga(U+": "+re.map(Jt).join([", "]))}function yr(U,G,re,ye,Le,V,$,Q,ae,De,$e,je,ke){$e=xt($e),V=da(Le,V),Q&&(Q=da($,Q)),De&&(De=da(ae,De)),ke=da(je,ke);var it=de($e);pr(it,function(){an("Cannot construct "+$e+" due to unbound types",[ye])}),He([U,G,re],ye?[ye]:[],function(Et){Et=Et[0];var Qt,Cn;ye?(Qt=Et.registeredClass,Cn=Qt.instancePrototype):Cn=Gn.prototype;var Mn=ue(it,function(){if(Object.getPrototypeOf(this)!==Hr)throw new Nt("Use 'new' to construct "+$e);if(Qn.constructor_body===void 0)throw new Nt($e+" has no accessible constructor");var Il=Qn.constructor_body[arguments.length];if(Il===void 0)throw new Nt("Tried to invoke ctor of "+$e+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Qn.constructor_body).toString()+") parameters instead!");return Il.apply(this,arguments)}),Hr=Object.create(Cn,{constructor:{value:Mn}});Mn.prototype=Hr;var Qn=new Ur($e,Mn,Hr,ke,Qt,V,Q,De),sa=new Or($e,Qn,!0,!1,!1),ri=new Or($e+"*",Qn,!1,!1,!1),vo=new Or($e+" const*",Qn,!1,!0,!1);return Xn[U]={pointerType:ri,constPointerType:vo},mr(it,Mn),[sa,ri,vo]})}function Ir(U,G){for(var re=[],ye=0;ye<U;ye++)re.push(k[G+ye*4>>2]);return re}function Jn(U,G){if(!(U instanceof Function))throw new TypeError("new_ called with constructor type "+typeof U+" which is not a function");var re=ue(U.name||"unknownFunctionName",function(){});re.prototype=U.prototype;var ye=new re,Le=U.apply(ye,G);return Le instanceof Object?Le:ye}function oa(U,G,re,ye,Le){var V=G.length;V<2&&Pt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var $=G[1]!==null&&re!==null,Q=!1,ae=1;ae<G.length;++ae)if(G[ae]!==null&&G[ae].destructorFunction===void 0){Q=!0;break}for(var De=G[0].name!=="void",$e="",je="",ae=0;ae<V-2;++ae)$e+=(ae!==0?", ":"")+"arg"+ae,je+=(ae!==0?", ":"")+"arg"+ae+"Wired";var ke="return function "+de(U)+"("+$e+`) {
if (arguments.length !== `+(V-2)+`) {
throwBindingError('function `+U+" called with ' + arguments.length + ' arguments, expected "+(V-2)+` args!');
}
`;Q&&(ke+=`var destructors = [];
`);var it=Q?"destructors":"null",Et=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Qt=[Pt,ye,Le,fn,G[0],G[1]];$&&(ke+="var thisWired = classParam.toWireType("+it+`, this);
`);for(var ae=0;ae<V-2;++ae)ke+="var arg"+ae+"Wired = argType"+ae+".toWireType("+it+", arg"+ae+"); // "+G[ae+2].name+`
`,Et.push("argType"+ae),Qt.push(G[ae+2]);if($&&(je="thisWired"+(je.length>0?", ":"")+je),ke+=(De?"var rv = ":"")+"invoker(fn"+(je.length>0?", ":"")+je+`);
`,Q)ke+=`runDestructors(destructors);
`;else for(var ae=$?1:2;ae<G.length;++ae){var Cn=ae===1?"thisWired":"arg"+(ae-2)+"Wired";G[ae].destructorFunction!==null&&(ke+=Cn+"_dtor("+Cn+"); // "+G[ae].name+`
`,Et.push(Cn+"_dtor"),Qt.push(G[ae].destructorFunction))}De&&(ke+=`var ret = retType.fromWireType(rv);
return ret;
`),ke+=`}
`,Et.push(ke);var Mn=Jn(Function,Et).apply(null,Qt);return Mn}function Ia(U,G,re,ye,Le,V){E(G>0);var $=Ir(G,re);Le=da(ye,Le),He([],[U],function(Q){Q=Q[0];var ae="constructor "+Q.name;if(Q.registeredClass.constructor_body===void 0&&(Q.registeredClass.constructor_body=[]),Q.registeredClass.constructor_body[G-1]!==void 0)throw new Nt("Cannot register multiple constructors with identical number of parameters ("+(G-1)+") for class '"+Q.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return Q.registeredClass.constructor_body[G-1]=()=>{an("Cannot construct "+Q.name+" due to unbound types",$)},He([],$,function(De){return De.splice(1,0,null),Q.registeredClass.constructor_body[G-1]=oa(ae,De,null,Le,V),[]}),[]})}function Gs(U,G,re,ye,Le,V,$,Q){var ae=Ir(re,ye);G=xt(G),V=da(Le,V),He([],[U],function(De){De=De[0];var $e=De.name+"."+G;G.startsWith("@@")&&(G=Symbol[G.substring(2)]),Q&&De.registeredClass.pureVirtualFunctions.push(G);function je(){an("Cannot call "+$e+" due to unbound types",ae)}var ke=De.registeredClass.instancePrototype,it=ke[G];return it===void 0||it.overloadTable===void 0&&it.className!==De.name&&it.argCount===re-2?(je.argCount=re-2,je.className=De.name,ke[G]=je):(Dr(ke,G,$e),ke[G].overloadTable[re-2]=je),He([],ae,function(Et){var Qt=oa($e,Et,De,V,$);return ke[G].overloadTable===void 0?(Qt.argCount=re-2,ke[G]=Qt):ke[G].overloadTable[re-2]=Qt,[]}),[]})}var wi=[],gi=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function $i(U){U>4&&--gi[U].refcount===0&&(gi[U]=void 0,wi.push(U))}function Gc(){for(var U=0,G=5;G<gi.length;++G)gi[G]!==void 0&&++U;return U}function y0(){for(var U=5;U<gi.length;++U)if(gi[U]!==void 0)return gi[U];return null}function zc(){i.count_emval_handles=Gc,i.get_first_emval=y0}var ds={toValue:U=>(U||Pt("Cannot use deleted val. handle = "+U),gi[U].value),toHandle:U=>{switch(U){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var G=wi.length?wi.pop():gi.length;return gi[G]={refcount:1,value:U},G}}}};function ml(U,G){G=xt(G),Ut(U,{name:G,fromWireType:function(re){var ye=ds.toValue(re);return $i(re),ye},toWireType:function(re,ye){return ds.toHandle(ye)},argPackAdvance:8,readValueFromPointer:en,destructorFunction:null})}function C0(U){if(U===null)return"null";var G=typeof U;return G==="object"||G==="array"||G==="function"?U.toString():""+U}function Wc(U,G){switch(G){case 2:return function(re){return this.fromWireType(H[re>>2])};case 3:return function(re){return this.fromWireType(K[re>>3])};default:throw new TypeError("Unknown float type: "+U)}}function jc(U,G,re){var ye=Ke(re);G=xt(G),Ut(U,{name:G,fromWireType:function(Le){return Le},toWireType:function(Le,V){return V},argPackAdvance:8,readValueFromPointer:Wc(G,ye),destructorFunction:null})}function vl(U,G,re,ye,Le,V){var $=Ir(G,re);U=xt(U),Le=da(ye,Le),pr(U,function(){an("Cannot call "+U+" due to unbound types",$)},G-1),He([],$,function(Q){var ae=[Q[0],null].concat(Q.slice(1));return mr(U,oa(U,ae,null,Le,V),G-1),[]})}function Hc(U,G,re){switch(G){case 0:return re?function(Le){return L[Le]}:function(Le){return F[Le]};case 1:return re?function(Le){return _[Le>>1]}:function(Le){return P[Le>>1]};case 2:return re?function(Le){return N[Le>>2]}:function(Le){return k[Le>>2]};default:throw new TypeError("Unknown integer type: "+U)}}function qc(U,G,re,ye,Le){G=xt(G);var V=Ke(re),$=je=>je;if(ye===0){var Q=32-8*re;$=je=>je<<Q>>>Q}var ae=G.includes("unsigned"),De=(je,ke)=>{},$e;ae?$e=function(je,ke){return De(ke,this.name),ke>>>0}:$e=function(je,ke){return De(ke,this.name),ke},Ut(U,{name:G,fromWireType:$,toWireType:$e,argPackAdvance:8,readValueFromPointer:Hc(G,V,ye!==0),destructorFunction:null})}function Kc(U,G,re){var ye=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Le=ye[G];function V($){$=$>>2;var Q=k,ae=Q[$],De=Q[$+1];return new Le(B,De,ae)}re=xt(re),Ut(U,{name:re,fromWireType:V,argPackAdvance:8,readValueFromPointer:V},{ignoreDuplicateRegistrations:!0})}function Qc(U,G){G=xt(G);var re=G==="std::string";Ut(U,{name:G,fromWireType:function(ye){var Le=k[ye>>2],V=ye+4,$;if(re)for(var Q=V,ae=0;ae<=Le;++ae){var De=V+ae;if(ae==Le||F[De]==0){var $e=De-Q,je=R(Q,$e);$===void 0?$=je:($+="\0",$+=je),Q=De+1}}else{for(var ke=new Array(Le),ae=0;ae<Le;++ae)ke[ae]=String.fromCharCode(F[V+ae]);$=ke.join("")}return me(ye),$},toWireType:function(ye,Le){Le instanceof ArrayBuffer&&(Le=new Uint8Array(Le));var V,$=typeof Le=="string";$||Le instanceof Uint8Array||Le instanceof Uint8ClampedArray||Le instanceof Int8Array||Pt("Cannot pass non-string to std::string"),re&&$?V=A(Le):V=Le.length;var Q=X(4+V+1),ae=Q+4;if(k[Q>>2]=V,re&&$)M(Le,ae,V+1);else if($)for(var De=0;De<V;++De){var $e=Le.charCodeAt(De);$e>255&&(me(ae),Pt("String has UTF-16 code units that do not fit in 8 bits")),F[ae+De]=$e}else for(var De=0;De<V;++De)F[ae+De]=Le[De];return ye!==null&&ye.push(me,Q),Q},argPackAdvance:8,readValueFromPointer:en,destructorFunction:function(ye){me(ye)}})}var pl=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Xc(U,G){for(var re=U,ye=re>>1,Le=ye+G/2;!(ye>=Le)&&P[ye];)++ye;if(re=ye<<1,re-U>32&&pl)return pl.decode(F.subarray(U,re));for(var V="",$=0;!($>=G/2);++$){var Q=_[U+$*2>>1];if(Q==0)break;V+=String.fromCharCode(Q)}return V}function Yc(U,G,re){if(re===void 0&&(re=2147483647),re<2)return 0;re-=2;for(var ye=G,Le=re<U.length*2?re/2:U.length,V=0;V<Le;++V){var $=U.charCodeAt(V);_[G>>1]=$,G+=2}return _[G>>1]=0,G-ye}function hl(U){return U.length*2}function Sl(U,G){for(var re=0,ye="";!(re>=G/4);){var Le=N[U+re*4>>2];if(Le==0)break;if(++re,Le>=65536){var V=Le-65536;ye+=String.fromCharCode(55296|V>>10,56320|V&1023)}else ye+=String.fromCharCode(Le)}return ye}function Zc(U,G,re){if(re===void 0&&(re=2147483647),re<4)return 0;for(var ye=G,Le=ye+re-4,V=0;V<U.length;++V){var $=U.charCodeAt(V);if($>=55296&&$<=57343){var Q=U.charCodeAt(++V);$=65536+(($&1023)<<10)|Q&1023}if(N[G>>2]=$,G+=4,G+4>Le)break}return N[G>>2]=0,G-ye}function yl(U){for(var G=0,re=0;re<U.length;++re){var ye=U.charCodeAt(re);ye>=55296&&ye<=57343&&++re,G+=4}return G}function Cl(U,G,re){re=xt(re);var ye,Le,V,$,Q;G===2?(ye=Xc,Le=Yc,$=hl,V=()=>P,Q=1):G===4&&(ye=Sl,Le=Zc,$=yl,V=()=>k,Q=2),Ut(U,{name:re,fromWireType:function(ae){for(var De=k[ae>>2],$e=V(),je,ke=ae+4,it=0;it<=De;++it){var Et=ae+4+it*G;if(it==De||$e[Et>>Q]==0){var Qt=Et-ke,Cn=ye(ke,Qt);je===void 0?je=Cn:(je+="\0",je+=Cn),ke=Et+G}}return me(ae),je},toWireType:function(ae,De){typeof De!="string"&&Pt("Cannot pass non-string to C++ string type "+re);var $e=$(De),je=X(4+$e+G);return k[je>>2]=$e>>Q,Le(De,je+4,$e+G),ae!==null&&ae.push(me,je),je},argPackAdvance:8,readValueFromPointer:en,destructorFunction:function(ae){me(ae)}})}function xl(U,G,re,ye,Le,V){Kt[U]={name:xt(G),rawConstructor:da(re,ye),rawDestructor:da(Le,V),fields:[]}}function x0(U,G,re,ye,Le,V,$,Q,ae,De){Kt[U].fields.push({fieldName:xt(G),getterReturnType:re,getter:da(ye,Le),getterContext:V,setterArgumentType:$,setter:da(Q,ae),setterContext:De})}function Jc(U,G){G=xt(G),Ut(U,{isVoid:!0,name:G,argPackAdvance:0,fromWireType:function(){},toWireType:function(re,ye){}})}function eu(U){U>4&&(gi[U].refcount+=1)}function Tl(U,G){var re=zt[U];return re===void 0&&Pt(G+" has unknown type "+Jt(U)),re}function wl(U,G){U=Tl(U,"_emval_take_value");var re=U.readValueFromPointer(G);return ds.toHandle(re)}function bl(){Je("")}function tu(U,G,re){F.copyWithin(U,G,G+re)}function nu(){return 2147483648}function ru(U){try{return w.grow(U-B.byteLength+65535>>>16),te(w.buffer),1}catch{}}function T0(U){var G=F.length;U=U>>>0;var re=nu();if(U>re)return!1;let ye=(ae,De)=>ae+(De-ae%De)%De;for(var Le=1;Le<=4;Le*=2){var V=G*(1+.2/Le);V=Math.min(V,U+100663296);var $=Math.min(re,ye(Math.max(U,V),65536)),Q=ru($);if(Q)return!0}return!1}function au(U){return 52}function mo(U,G,re,ye,Le){return 70}var El=[null,[],[]];function mi(U,G){var re=El[U];G===0||G===10?((U===1?C:x)(D(re,0)),re.length=0):re.push(G)}function Dl(U,G,re,ye){for(var Le=0,V=0;V<re;V++){var $=k[G>>2],Q=k[G+4>>2];G+=8;for(var ae=0;ae<Q;ae++)mi(U,F[$+ae]);Le+=Q}return k[ye>>2]=Le,0}function Go(U){return U}function w0(U){var G=i["_"+U];return G}function Ol(U,G){L.set(U,G)}function zs(U,G,re,ye,Le){var V={string:Et=>{var Qt=0;if(Et!=null&&Et!==0){var Cn=(Et.length<<2)+1;Qt=nt(Cn),M(Et,Qt,Cn)}return Qt},array:Et=>{var Qt=nt(Et.length);return Ol(Et,Qt),Qt}};function $(Et){return G==="string"?R(Et):G==="boolean"?!!Et:Et}var Q=w0(U),ae=[],De=0;if(ye)for(var $e=0;$e<ye.length;$e++){var je=V[re[$e]];je?(De===0&&(De=mt()),ae[$e]=je(ye[$e])):ae[$e]=ye[$e]}var ke=Q.apply(null,ae);function it(Et){return De!==0&&vt(De),$(Et)}return ke=it(ke),ke}Ce=i.InternalError=ge(Error,"InternalError"),Ye(),Nt=i.BindingError=ge(Error,"BindingError"),$n(),jn(),Sr(),ga=i.UnboundTypeError=ge(Error,"UnboundTypeError"),zc();var Rl={L:St,v:At,c:jt,k:un,i:Zt,f:Rt,A:pt,D:Qe,I:Ht,y:yr,x:Ia,a:Gs,H:ml,u:jc,o:vl,h:qc,d:Kc,t:Qc,q:Cl,p:xl,B:x0,J:Jc,N:$i,O:eu,n:wl,r:bl,G:tu,E:T0,F:au,C:mo,s:Dl,b:Rn,z:hn,w:qe,e:q,l:Ie,m:W,j:le,K:wt,g:En,M:Go};be(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.Q).apply(null,arguments)};var X=i._malloc=function(){return(X=i._malloc=i.asm.R).apply(null,arguments)},Z=i.___cxa_free_exception=function(){return(Z=i.___cxa_free_exception=i.asm.S).apply(null,arguments)},me=i._free=function(){return(me=i._free=i.asm.U).apply(null,arguments)},Ve=i.___getTypeName=function(){return(Ve=i.___getTypeName=i.asm.V).apply(null,arguments)};i.__embind_initialize_bindings=function(){return(i.__embind_initialize_bindings=i.asm.W).apply(null,arguments)};var Xe=i.setTempRet0=function(){return(Xe=i.setTempRet0=i.asm.X).apply(null,arguments)},mt=i.stackSave=function(){return(mt=i.stackSave=i.asm.Y).apply(null,arguments)},vt=i.stackRestore=function(){return(vt=i.stackRestore=i.asm.Z).apply(null,arguments)},nt=i.stackAlloc=function(){return(nt=i.stackAlloc=i.asm._).apply(null,arguments)},Tt=i.___cxa_can_catch=function(){return(Tt=i.___cxa_can_catch=i.asm.$).apply(null,arguments)},Gt=i.___cxa_is_pointer_type=function(){return(Gt=i.___cxa_is_pointer_type=i.asm.aa).apply(null,arguments)};i.dynCall_ji=function(){return(i.dynCall_ji=i.asm.ba).apply(null,arguments)},i.dynCall_iiji=function(){return(i.dynCall_iiji=i.asm.ca).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.da).apply(null,arguments)};function hn(U,G,re){var ye=mt();try{return Ne(U)(G,re)}catch(Le){if(vt(ye),Le!==Le+0)throw Le;_setThrew(1,0)}}function Rn(U,G){var re=mt();try{return Ne(U)(G)}catch(ye){if(vt(re),ye!==ye+0)throw ye;_setThrew(1,0)}}function En(U,G,re,ye,Le,V,$,Q,ae,De,$e){var je=mt();try{Ne(U)(G,re,ye,Le,V,$,Q,ae,De,$e)}catch(ke){if(vt(je),ke!==ke+0)throw ke;_setThrew(1,0)}}function q(U,G){var re=mt();try{Ne(U)(G)}catch(ye){if(vt(re),ye!==ye+0)throw ye;_setThrew(1,0)}}function W(U,G,re,ye){var Le=mt();try{Ne(U)(G,re,ye)}catch(V){if(vt(Le),V!==V+0)throw V;_setThrew(1,0)}}function le(U,G,re,ye,Le){var V=mt();try{Ne(U)(G,re,ye,Le)}catch($){if(vt(V),$!==$+0)throw $;_setThrew(1,0)}}function Ie(U,G,re){var ye=mt();try{Ne(U)(G,re)}catch(Le){if(vt(ye),Le!==Le+0)throw Le;_setThrew(1,0)}}function qe(U,G,re,ye){var Le=mt();try{return Ne(U)(G,re,ye)}catch(V){if(vt(Le),V!==V+0)throw V;_setThrew(1,0)}}function wt(U,G,re,ye,Le,V,$){var Q=mt();try{Ne(U)(G,re,ye,Le,V,$)}catch(ae){if(vt(Q),ae!==ae+0)throw ae;_setThrew(1,0)}}i.ccall=zs;var ht;Pe=function U(){ht||st(),ht||(Pe=U)};function st(U){if(Re>0||(_e(),Re>0))return;function G(){ht||(ht=!0,i.calledRun=!0,!b&&(fe(),o(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),ce()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),G()},1)):G()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return st(),i.ready}})();t.exports=n})(FH);var NIe=FH.exports;const FIe=No(NIe),$Ie=new URL("/cursor-dicom-viewer/assets/openjphjs-CANpALFP.wasm",import.meta.url),hm={codec:void 0,decoder:void 0,decodeConfig:{}};function VIe(t,e,n){const r={width:e,height:n};for(;t>0;)r.width=Math.ceil(r.width/2),r.height=Math.ceil(r.height/2),t--;return r}function kIe(t){if(hm.decodeConfig=t,hm.codec)return Promise.resolve();const e=FIe({locateFile:n=>n.endsWith(".wasm")?$Ie.toString():n});return new Promise((n,r)=>{e.then(a=>{hm.codec=a,hm.decoder=new a.HTJ2KDecoder,n()},r)})}async function UIe(t,e){await kIe();const n=new hm.codec.HTJ2KDecoder,r=n.getEncodedBuffer(t.length);r.set(t);const a=e.decodeLevel||0;n.decodeSubResolution(a);const i=n.getFrameInfo();if(e.decodeLevel>0){const{width:O,height:D}=VIe(e.decodeLevel,i.width,i.height);i.width=O,i.height=D}const o=n.getDecodedBuffer();new Uint8Array(o.length).set(o);const l=`x: ${n.getImageOffset().x}, y: ${n.getImageOffset().y}`,c=n.getNumDecompositions(),f=n.getNumLayers(),u=["unknown","LRCP","RLCP","RPCL","PCRL","CPRL"][n.getProgressionOrder()+1],d=n.getIsReversible(),g=`${n.getBlockDimensions().width} x ${n.getBlockDimensions().height}`,v=`${n.getTileSize().width} x ${n.getTileSize().height}`,m=`${n.getTileOffset().x}, ${n.getTileOffset().y}`,p=`${o.length.toLocaleString()} bytes`,h=`${(o.length/r.length).toFixed(2)}:1`,y={columns:i.width,rows:i.height,bitsPerPixel:i.bitsPerSample,signed:i.isSigned,bytesPerPixel:e.bytesPerPixel,componentsPerPixel:i.componentCount};let C=BIe(i,o);const{buffer:x,byteOffset:T,byteLength:w}=C,b=x.slice(T,T+w);C=new C.constructor(b);const E={imageOffset:l,numDecompositions:c,numLayers:f,progessionOrder:u,reversible:d,blockDimensions:g,tileSize:v,tileOffset:m,decodedSize:p,compressionRatio:h};return{...e,pixelData:C,imageInfo:y,encodeOptions:E,...E,...y}}function BIe(t,e){return t.bitsPerSample>8?t.isSigned?new Int16Array(e.buffer,e.byteOffset,e.byteLength/2):new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2):t.isSigned?new Int8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function GIe(t,e){const n=t.length,{rescaleSlope:r,rescaleIntercept:a,suvbw:i}=e;if(e.modality==="PT"&&typeof i=="number"&&!isNaN(i))for(let o=0;o<n;o++)t[o]=i*(t[o]*r+a);else for(let o=0;o<n;o++)t[o]=t[o]*r+a;return!0}const zIe={bilinear:iIe,replicate:oIe},rP={Uint8Array,Uint16Array,Int16Array,Float32Array};function WIe(t,e,n,r){var y,C,x;const a=t.pixelRepresentation!==void 0&&t.pixelRepresentation===1,i=a&&t.bitsStored!==void 0?32-t.bitsStored:void 0;if(a&&i!==void 0)for(let T=0;T<t.pixelData.length;T++)t.pixelData[T]=t.pixelData[T]<<i>>i;let o=t.pixelData;t.pixelDataLength=t.pixelData.length;const{min:s,max:l}=pb(t.pixelData),c=typeof e.allowFloatRendering<"u"?e.allowFloatRendering:!0;let f=wH(t.photometricInterpretation)&&((y=e.targetBuffer)==null?void 0:y.offset)===void 0;const d=((C=e.preScale)==null?void 0:C.enabled)&&Object.values(e.preScale.scalingParameters).some(T=>typeof T=="number"&&!Number.isInteger(T)),g=!e.preScale.enabled||!c&&d,v=(x=e.targetBuffer)==null?void 0:x.type;if(v&&e.preScale.enabled&&!g){const{rescaleSlope:T,rescaleIntercept:w}=e.preScale.scalingParameters,b=T*s+w,E=T*l+w;f=!wRe(b,E,rP[v])}v&&!f?o=jIe(e,t,rP,o):e.preScale.enabled&&!g?o=HIe(e,s,l,t):o=$H(s,l,t);let m=s,p=l;if(e.preScale.enabled&&!g){const T=e.preScale.scalingParameters;VH(T);const{rescaleSlope:w,rescaleIntercept:b}=T;if(typeof w=="number"&&typeof b=="number"){GIe(o,T),t.preScale={...e.preScale,scaled:!0};const{rescaleIntercept:O,rescaleSlope:D,suvbw:R}=T;m=D*s+O,p=D*l+O,R&&(m=m*R,p=p*R)}}else g&&(t.preScale={enabled:!0,scaled:!1},m=s,p=l);t.pixelData=o,t.smallestPixelValue=m,t.largestPixelValue=p;const h=new Date().getTime();return t.decodeTimeInMS=h-n,t}function jIe(t,e,n,r){const{arrayBuffer:a,type:i,offset:o=0,length:s,rows:l}=t.targetBuffer,c=n[i];if(!c)throw new Error(`target array ${i} is not supported, or doesn't exist.`);l&&l!=e.rows&&KIe(e,t.targetBuffer,c);const f=e.pixelDataLength,u=o,d=s??f-u,g=e.pixelData;if(d!==g.length)throw new Error(`target array for image does not have the same length (${d}) as the decoded image length (${g.length}).`);const v=a?new c(a,u,d):new c(d);return v.set(g,0),r=v,r}function HIe(t,e,n,r){const a=t.preScale.scalingParameters;VH(a);const{rescaleSlope:i,rescaleIntercept:o}=a,s=typeof i=="number"&&typeof o=="number";let l=e,c=n;return s&&(l=i*e+o,c=i*n+o),$H(l,c,r)}function $H(t,e,n){const r=hb(t,e),a=new r(n.pixelData.length);return a.set(n.pixelData,0),a}function VH(t){if(!t)throw new Error("options.preScale.scalingParameters must be defined if preScale.enabled is true, and scalingParameters cannot be derived from the metadata providers.")}function qIe(t,e,n){const{samplesPerPixel:r}=t,{rows:a,columns:i}=e,o=a*i*r,s=new n(o),l=s.byteLength/o;return{pixelData:s,rows:a,columns:i,frameInfo:{...t.frameInfo,rows:a,columns:i},imageInfo:{...t.imageInfo,rows:a,columns:i,bytesPerPixel:l}}}function KIe(t,e,n){const r=qIe(t,e,n),{scalingType:a="replicate"}=e;return zIe[a](t,r),Object.assign(t,r),t.pixelDataLength=t.pixelData.length,t}async function QIe(t,e,n,r,a,i){const o=new Date().getTime();let s=null,l;switch(e){case"1.2.840.10008.1.2":case"1.2.840.10008.1.2.1":s=ZM(t,n);break;case"1.2.840.10008.1.2.2":s=lIe(t,n);break;case"1.2.840.10008.1.2.1.99":s=ZM(t,n);break;case"1.2.840.10008.1.2.5":s=cIe(t,n);break;case"1.2.840.10008.1.2.4.50":l={...t},s=hIe(n,l);break;case"1.2.840.10008.1.2.4.51":s=TIe(t,n);break;case"1.2.840.10008.1.2.4.57":s=eP(t,n);break;case"1.2.840.10008.1.2.4.70":s=eP(t,n);break;case"1.2.840.10008.1.2.4.80":l={signed:t.pixelRepresentation===1,bytesPerPixel:t.bitsAllocated<=8?1:2,...t},s=tP(n,l);break;case"1.2.840.10008.1.2.4.81":l={signed:t.pixelRepresentation===1,bytesPerPixel:t.bitsAllocated<=8?1:2,...t},s=tP(n,l);break;case"1.2.840.10008.1.2.4.90":l={...t},s=nP(n,l);break;case"1.2.840.10008.1.2.4.91":l={...t},s=nP(n,l);break;case"3.2.840.10008.1.2.4.96":case"1.2.840.10008.1.2.4.201":case"1.2.840.10008.1.2.4.202":case"1.2.840.10008.1.2.4.203":l={...t},s=UIe(n,l);break;default:throw new Error(`no decoder for transfer syntax ${e}`)}if(!s)throw new Error("decodePromise not defined");const c=await s,f=WIe(c,a,o);return i==null||i(f),f}const XIe={decodeTask({imageFrame:t,transferSyntax:e,decodeConfig:n,options:r,pixelData:a,callbackFn:i}){return QIe(t,e,a,n,r,i)}};Gw(XIe);const YIe="index-module__uploader___8qr-t",ZIe="index-module__uploaderIcon___Jb-QF",JIe="index-module__uploaderText___Y8PEM",eAe="index-module__uploaderHint___T37FD",Wh={uploader:YIe,uploaderIcon:ZIe,uploaderText:JIe,uploaderHint:eAe},{Dragger:tAe}=zT;function nAe({open:t,onCancel:e,onUpload:n}){const[r,a]=S.useState([]),i={name:"file",multiple:!0,fileList:r,beforeUpload:s=>!1,onChange:s=>{a(s.fileList)}},o=()=>{r.length>0?n(r):WS.warning("请先选择DICOM文件")};return kn.jsx(us,{title:"上传DICOM文件",open:t,onOk:o,onCancel:e,children:kn.jsxs(tAe,{...i,className:Wh.uploader,children:[kn.jsx("p",{className:Wh.uploaderIcon,children:kn.jsx($ge,{})}),kn.jsx("p",{className:Wh.uploaderText,children:"点击或拖拽文件到此区域上传"}),kn.jsx("p",{className:Wh.uploaderHint,children:"支持上传DICOM文件(无后缀名)"})]})})}const rAe=async(t,e)=>{if(t.length>0)try{const n=t.map(r=>`wadouri:${URL.createObjectURL(r.originFileObj)}`);return console.log("生成的 Image IDs:",n),e(n),console.log("Images 已设置"),WS.success(`成功加载 ${n.length} 个 DICOM 文件`),!0}catch(n){return console.error("加载 DICOM 文件失败:",n),WS.error("加载 DICOM 文件失败，请确保上传了有效的 DICOM 文件"),!1}return!1},aAe="index-module__viewer___wye27",iAe="index-module__toolbar___c8Y35",oAe="index-module__content___WFGy4",sAe="index-module__imageList___Mw3FL",lAe="index-module__viewerContainer___NtIxC",cAe="index-module__selectedImage___jXHzI",Yf={viewer:aAe,toolbar:iAe,content:oAe,imageList:sAe,viewerContainer:lAe,selectedImage:cAe};var Ds;(function(t){t[t.Primary=1]="Primary",t[t.Secondary=2]="Secondary",t[t.Primary_And_Secondary=3]="Primary_And_Secondary",t[t.Auxiliary=4]="Auxiliary",t[t.Primary_And_Auxiliary=5]="Primary_And_Auxiliary",t[t.Secondary_And_Auxiliary=6]="Secondary_And_Auxiliary",t[t.Primary_And_Secondary_And_Auxiliary=7]="Primary_And_Secondary_And_Auxiliary",t[t.Fourth_Button=8]="Fourth_Button",t[t.Fifth_Button=16]="Fifth_Button",t[t.Wheel=524288]="Wheel",t[t.Wheel_Primary=524289]="Wheel_Primary"})(Ds||(Ds={}));var To;(function(t){t[t.Shift=16]="Shift",t[t.Ctrl=17]="Ctrl",t[t.Alt=18]="Alt",t[t.Meta=91]="Meta",t[t.ShiftCtrl=1617]="ShiftCtrl",t[t.ShiftAlt=1618]="ShiftAlt",t[t.ShiftMeta=1691]="ShiftMeta",t[t.CtrlAlt=1718]="CtrlAlt",t[t.CtrlMeta=1791]="CtrlMeta",t[t.AltMeta=1891]="AltMeta"})(To||(To={}));var Jr;(function(t){t.Active="Active",t.Passive="Passive",t.Enabled="Enabled",t.Disabled="Disabled"})(Jr||(Jr={}));var nc;(function(t){t.Default="",t.Highlighted="Highlighted",t.Selected="Selected",t.Locked="Locked",t.AutoGenerated="AutoGenerated"})(nc||(nc={}));var ot;(function(t){t.TOOL_ACTIVATED="CORNERSTONE_TOOLS_TOOL_ACTIVATED",t.TOOLGROUP_VIEWPORT_ADDED="CORNERSTONE_TOOLS_TOOLGROUP_VIEWPORT_ADDED",t.TOOLGROUP_VIEWPORT_REMOVED="CORNERSTONE_TOOLS_TOOLGROUP_VIEWPORT_REMOVED",t.TOOL_MODE_CHANGED="CORNERSTONE_TOOLS_TOOL_MODE_CHANGED",t.ANNOTATION_ADDED="CORNERSTONE_TOOLS_ANNOTATION_ADDED",t.ANNOTATION_COMPLETED="CORNERSTONE_TOOLS_ANNOTATION_COMPLETED",t.ANNOTATION_MODIFIED="CORNERSTONE_TOOLS_ANNOTATION_MODIFIED",t.ANNOTATION_REMOVED="CORNERSTONE_TOOLS_ANNOTATION_REMOVED",t.ANNOTATION_SELECTION_CHANGE="CORNERSTONE_TOOLS_ANNOTATION_SELECTION_CHANGE",t.ANNOTATION_LOCK_CHANGE="CORNERSTONE_TOOLS_ANNOTATION_LOCK_CHANGE",t.ANNOTATION_VISIBILITY_CHANGE="CORNERSTONE_TOOLS_ANNOTATION_VISIBILITY_CHANGE",t.ANNOTATION_RENDERED="CORNERSTONE_TOOLS_ANNOTATION_RENDERED",t.ANNOTATION_INTERPOLATION_PROCESS_COMPLETED="CORNERSTONE_TOOLS_ANNOTATION_INTERPOLATION_PROCESS_COMPLETED",t.INTERPOLATED_ANNOTATIONS_REMOVED="CORNERSTONE_TOOLS_INTERPOLATED_ANNOTATIONS_REMOVED",t.SEGMENTATION_MODIFIED="CORNERSTONE_TOOLS_SEGMENTATION_MODIFIED",t.SEGMENTATION_RENDERED="CORNERSTONE_TOOLS_SEGMENTATION_RENDERED",t.SEGMENTATION_REPRESENTATION_ADDED="CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_ADDED",t.SEGMENTATION_ADDED="CORNERSTONE_TOOLS_SEGMENTATION_ADDED",t.SEGMENTATION_REPRESENTATION_MODIFIED="CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_MODIFIED",t.SEGMENTATION_REMOVED="CORNERSTONE_TOOLS_SEGMENTATION_REMOVED",t.SEGMENTATION_REPRESENTATION_REMOVED="CORNERSTONE_TOOLS_SEGMENTATION_REPRESENTATION_REMOVED",t.SEGMENTATION_DATA_MODIFIED="CORNERSTONE_TOOLS_SEGMENTATION_DATA_MODIFIED",t.KEY_DOWN="CORNERSTONE_TOOLS_KEY_DOWN",t.KEY_UP="CORNERSTONE_TOOLS_KEY_UP",t.MOUSE_DOWN="CORNERSTONE_TOOLS_MOUSE_DOWN",t.MOUSE_UP="CORNERSTONE_TOOLS_MOUSE_UP",t.MOUSE_DOWN_ACTIVATE="CORNERSTONE_TOOLS_MOUSE_DOWN_ACTIVATE",t.MOUSE_DRAG="CORNERSTONE_TOOLS_MOUSE_DRAG",t.MOUSE_MOVE="CORNERSTONE_TOOLS_MOUSE_MOVE",t.MOUSE_CLICK="CORNERSTONE_TOOLS_MOUSE_CLICK",t.MOUSE_DOUBLE_CLICK="CORNERSTONE_TOOLS_MOUSE_DOUBLE_CLICK",t.MOUSE_WHEEL="CORNERSTONE_TOOLS_MOUSE_WHEEL",t.TOUCH_START="CORNERSTONE_TOOLS_TOUCH_START",t.TOUCH_START_ACTIVATE="CORNERSTONE_TOOLS_TOUCH_START_ACTIVATE",t.TOUCH_PRESS="CORNERSTONE_TOOLS_TOUCH_PRESS",t.TOUCH_DRAG="CORNERSTONE_TOOLS_TOUCH_DRAG",t.TOUCH_END="CORNERSTONE_TOOLS_TOUCH_END",t.TOUCH_TAP="CORNERSTONE_TOOLS_TAP",t.TOUCH_SWIPE="CORNERSTONE_TOOLS_SWIPE"})(ot||(ot={}));var Un;(function(t){t.Labelmap="Labelmap",t.Contour="Contour",t.Surface="Surface"})(Un||(Un={}));var Od;(function(t){t.UP="UP",t.DOWN="DOWN",t.LEFT="LEFT",t.RIGHT="RIGHT"})(Od||(Od={}));var ll;(function(t){t.Interaction="Interaction",t.HandlesUpdated="HandlesUpdated",t.StatsUpdated="StatsUpdated",t.InitialSetup="InitialSetup",t.Completed="Completed",t.InterpolationUpdated="InterpolationUpdated",t.History="History",t.MetadataReferenceModified="MetadataReferenceModified"})(ll||(ll={}));let uAe={},In={isInteractingWithTool:!1,isMultiPartToolActive:!1,tools:{},toolGroups:[],synchronizers:[],svgNodeCache:uAe,enabledElements:[],handleRadius:6};var fAe="Expected a function",kH="__lodash_hash_undefined__",UH=1/0,dAe="[object Function]",gAe="[object GeneratorFunction]",mAe="[object Symbol]",vAe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pAe=/^\w*$/,hAe=/^\./,SAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yAe=/[\\^$.*+?()[\]{}|]/g,CAe=/\\(\\)?/g,xAe=/^\[object .+?Constructor\]$/,TAe=typeof hi=="object"&&hi&&hi.Object===Object&&hi,wAe=typeof self=="object"&&self&&self.Object===Object&&self,Cb=TAe||wAe||Function("return this")();function bAe(t,e){return t==null?void 0:t[e]}function EAe(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var DAe=Array.prototype,OAe=Function.prototype,BH=Object.prototype,G8=Cb["__core-js_shared__"],aP=function(){var t=/[^.]+$/.exec(G8&&G8.keys&&G8.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),GH=OAe.toString,xb=BH.hasOwnProperty,zH=BH.toString,RAe=RegExp("^"+GH.call(xb).replace(yAe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iP=Cb.Symbol,IAe=DAe.splice,AAe=WH(Cb,"Map"),qv=WH(Object,"create"),oP=iP?iP.prototype:void 0,sP=oP?oP.toString:void 0;function df(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function MAe(){this.__data__=qv?qv(null):{}}function PAe(t){return this.has(t)&&delete this.__data__[t]}function LAe(t){var e=this.__data__;if(qv){var n=e[t];return n===kH?void 0:n}return xb.call(e,t)?e[t]:void 0}function _Ae(t){var e=this.__data__;return qv?e[t]!==void 0:xb.call(e,t)}function NAe(t,e){var n=this.__data__;return n[t]=qv&&e===void 0?kH:e,this}df.prototype.clear=MAe;df.prototype.delete=PAe;df.prototype.get=LAe;df.prototype.has=_Ae;df.prototype.set=NAe;function pg(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function FAe(){this.__data__=[]}function $Ae(t){var e=this.__data__,n=Cy(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():IAe.call(e,n,1),!0}function VAe(t){var e=this.__data__,n=Cy(e,t);return n<0?void 0:e[n][1]}function kAe(t){return Cy(this.__data__,t)>-1}function UAe(t,e){var n=this.__data__,r=Cy(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}pg.prototype.clear=FAe;pg.prototype.delete=$Ae;pg.prototype.get=VAe;pg.prototype.has=kAe;pg.prototype.set=UAe;function Rf(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function BAe(){this.__data__={hash:new df,map:new(AAe||pg),string:new df}}function GAe(t){return xy(this,t).delete(t)}function zAe(t){return xy(this,t).get(t)}function WAe(t){return xy(this,t).has(t)}function jAe(t,e){return xy(this,t).set(t,e),this}Rf.prototype.clear=BAe;Rf.prototype.delete=GAe;Rf.prototype.get=zAe;Rf.prototype.has=WAe;Rf.prototype.set=jAe;function Cy(t,e){for(var n=t.length;n--;)if(nMe(t[n][0],e))return n;return-1}function HAe(t,e){e=XAe(e,t)?[e]:QAe(e);for(var n=0,r=e.length;t!=null&&n<r;)t=t[eMe(e[n++])];return n&&n==r?t:void 0}function qAe(t){if(!HH(t)||ZAe(t))return!1;var e=rMe(t)||EAe(t)?RAe:xAe;return e.test(tMe(t))}function KAe(t){if(typeof t=="string")return t;if(wb(t))return sP?sP.call(t):"";var e=t+"";return e=="0"&&1/t==-UH?"-0":e}function QAe(t){return jH(t)?t:JAe(t)}function xy(t,e){var n=t.__data__;return YAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function WH(t,e){var n=bAe(t,e);return qAe(n)?n:void 0}function XAe(t,e){if(jH(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||wb(t)?!0:pAe.test(t)||!vAe.test(t)||e!=null&&t in Object(e)}function YAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ZAe(t){return!!aP&&aP in t}var JAe=Tb(function(t){t=iMe(t);var e=[];return hAe.test(t)&&e.push(""),t.replace(SAe,function(n,r,a,i){e.push(a?i.replace(CAe,"$1"):r||n)}),e});function eMe(t){if(typeof t=="string"||wb(t))return t;var e=t+"";return e=="0"&&1/t==-UH?"-0":e}function tMe(t){if(t!=null){try{return GH.call(t)}catch{}try{return t+""}catch{}}return""}function Tb(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(fAe);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o),o};return n.cache=new(Tb.Cache||Rf),n}Tb.Cache=Rf;function nMe(t,e){return t===e||t!==t&&e!==e}var jH=Array.isArray;function rMe(t){var e=HH(t)?zH.call(t):"";return e==dAe||e==gAe}function HH(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function aMe(t){return!!t&&typeof t=="object"}function wb(t){return typeof t=="symbol"||aMe(t)&&zH.call(t)==mAe}function iMe(t){return t==null?"":KAe(t)}function oMe(t,e,n){var r=t==null?void 0:HAe(t,e);return r===void 0?n:r}var sMe=oMe;const lMe=No(sMe),lP=Symbol("DefinedCursors"),qH=new Set(["alias","all-scroll","auto","cell","col-resize","context-menu","copy","crosshair","default","e-resize","ew-resize","grab","grabbing","help","move","ne-resize","nesw-resize","no-drop","none","not-allowed","n-resize","ns-resize","nw-resize","nwse-resize","pointer","progress","row-resize","se-resize","s-resize","sw-resize","text","vertical-text","wait","w-resize","zoom-in","zoom-out"]);class Eo{constructor(e,n){this.name=e+"",this.fallback=n}getName(){return this.name+""}addFallbackStyleProperty(e){const{fallback:n}=this;return n instanceof Eo?`${e}, ${n.getStyleProperty()}`:e+""}getStyleProperty(){return this.addFallbackStyleProperty(this.name)+""}static getDefinedCursor(e){const n=cP(Eo,lP);let r=n.get(e);if(r instanceof Eo)return r;if(qH.has(e))return r=new Eo(e),n.set(e,r),r}static setDefinedCursor(e,n){return n instanceof Eo?(cP(Eo,lP).set(e,n),!0):!1}}function cP(t,e){let n=t[e];return n instanceof Map||(n=new Map,Object.defineProperty(t,e,{value:n})),n}const cMe=qH.values(),uMe="image-cursor";class A3 extends Eo{constructor(e,n,r,a,i){super(a||A3.getUniqueInstanceName(uMe),i),this.url=e,this.x=Number(n)||0,this.y=Number(r)||0}getStyleProperty(){const{url:e,x:n,y:r}=this;let a=`url('${e}')`;return n>=0&&r>=0&&(n>0||r>0)&&(a+=` ${n} ${r}`),this.addFallbackStyleProperty(a)}static getUniqueInstanceName(e){return`${e}-${tH(A3)}`}}const ar={iconContent:"",iconSize:16,viewBox:{x:16,y:16},mousePoint:{x:8,y:8},mousePointerGroupString:`
    <path stroke="{{color}}" d="M8 16L8 0"></path>
    <path stroke="{{color}}" d="M16 8L0 8"></path>
  `},to={x:127,y:60},Zf=`
<rect fill="{{color}}" x="80.19" y="25.03" width="47.14" height="15.85"/>
`,$l=`
<rect fill="{{color}}" x="80.19" y="25.03" width="47.14" height="15.85"/>
<rect fill="{{color}}" x="95.84" y="9.38" width="15.85" height="47.14"/>
`,jh='<path fill="{{color}}" d="M82.89,10a12.09,12.09,0,0,0-16.8-2.5l-27.5,20.4-8.5-6.3a2.93,2.93,0,0,1-1.1-3,14.66,14.66,0,0,0,.1-6.6,14.08,14.08,0,1,0-6.5,15.2,2.87,2.87,0,0,1,3.2.2l8.2,6.1-8.2,6.1a2.87,2.87,0,0,1-3.2.2,14.16,14.16,0,1,0,6.7,14.4,14,14,0,0,0-.3-5.8,2.93,2.93,0,0,1,1.1-3l8.5-6.3,27.5,20.4A11.91,11.91,0,0,0,82.89,57l-31.7-23.5ZM15.29,21a5.9,5.9,0,1,1,5.9-5.9A5.91,5.91,0,0,1,15.29,21Zm0,36.8a5.9,5.9,0,1,1,5.9-5.9A5.91,5.91,0,0,1,15.29,57.77Zm28.3-21.5a2.8,2.8,0,1,1,2.8-2.8A2.8,2.8,0,0,1,43.59,36.27Z" transform="translate(-1.17 -0.96)"/>',Jf='<path fill="{{color}}" d="M8.86,2.25V66.08H72.69V2.25H8.86ZM65.28,58.67h-49v-49h49v49Z" transform="translate(-8.86 -2.25)"/>',Hh='<path fill="{{color}}" d="M40.77,2.25A31.92,31.92,0,1,0,72.69,34.16,31.92,31.92,0,0,0,40.77,2.25Zm0,57.63A25.71,25.71,0,1,1,66.48,34.16,25.71,25.71,0,0,1,40.77,59.87Z" transform="translate(-8.86 -2.25)"/>',KH={Angle:ir(ar,{name:"Angle",iconContent:`<path fill="{{color}}" d="M1203 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50
    50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23
    10l50 50q10 10 10 23z" />`,viewBox:{x:1792,y:1792}}),ArrowAnnotate:ir(ar,{name:"ArrowAnnotate",iconContent:`<g id="arrowAnnotate-group" fill="none" stroke-width="1" stroke="{{color}}" stroke-linecap="round" stroke-linejoin="round">
    <path id="arrowAnnotate-arrow" d="M23,7 l-15,15 M7,17 l0,6 6,0" stroke-width="2" />
  </g>`,viewBox:{x:24,y:24}}),Bidirectional:ir(ar,{name:"Bidirectional",iconContent:`<g fill="{{color}}" stroke-width="3" stroke="{{color}}">
    <path d="M27.63 3.21L3.12 28.81"></path>
    <path d="M27.63 15.75L15.27 4.43"></path>
    <path d="M16.5 4.28C16.5 4.96 15.95 5.51 15.27 5.51C14.59 5.51 14.03 4.96 14.03 4.28C14.03 3.59 14.59 3.04 15.27 3.04C15.95 3.04 16.5 3.59 16.5 4.28Z" ></path>
    <path d="M28.87 3.19C28.87 3.87 28.31 4.43 27.63 4.43C26.95 4.43 26.4 3.87 26.4 3.19C26.4 2.51 26.95 1.95 27.63 1.95C28.31 1.95 28.87 2.51 28.87 3.19Z"></path>
    <path d="M28.87 15.75C28.87 16.43 28.31 16.99 27.63 16.99C26.95 16.99 26.4 16.43 26.4 15.75C26.4 15.07 26.95 14.51 27.63 14.51C28.31 14.51 28.87 15.07 28.87 15.75Z"></path>
    <path d="M4.73 28.44C4.73 29.12 4.17 29.68 3.49 29.68C2.81 29.68 2.25 29.12 2.25 28.44C2.25 27.76 2.81 27.2 3.49 27.2C4.17 27.2 4.73 27.76 4.73 28.44Z"></path>
  </g>`,viewBox:{x:48,y:48}}),CobbAngle:ir(ar,{name:"CobbAngle",iconContent:`<g stroke="{{color}}" stroke-width="3">
    <path d="M28.59 2.34L3.82 12.32"></path>
    <path d="M28.59 29.66L3.82 19.68"></path>
    <path stroke-dasharray="2" fill-opacity="0" d="M12.37
      23.06C12.67 22.36 12.85 21.93 12.92 21.76C14.6 17.8 14.68 13.35 13.15
      9.33C13.11 9.24 13.02 9 12.88 8.63">
    </path>
  </g>`,viewBox:{x:32,y:32}}),CircleROI:ir(ar,{name:"CircleROI",iconContent:'<circle stroke="{{color}}" fill="none" stroke-width="3" cx="16" cy="16" r="14" />',viewBox:{x:32,y:32}}),EllipticalROI:ir(ar,{name:"EllipticalROI",iconContent:`<path stroke="{{color}}" fill="none" stroke-width="3" d="M30.74 15.76C30.74 20.99 24.14 25.23 16
    25.23C7.86 25.23 1.26 20.99 1.26 15.76C1.26 10.54 7.86 6.3 16 6.3C24.14
    6.3 30.74 10.54 30.74 15.76Z" />`,viewBox:{x:32,y:32}}),FreehandROI:ir(ar,{name:"FreehandROI",iconContent:`<g fill="{{color}}" stroke="{{color}}" stroke-width="2">
    <ellipse ry="1" rx="1" id="svg_3" cy="4.240343" cx="14.306499"/>
    <line id="svg_4" y2="3.58462" x2="12.242186" y1="3.997482" x1="13.432202"/>
    <line id="svg_5" y2="3.268901" x2="10.857882" y1="3.608906" x1="12.387902"/>
    <line id="svg_6" y2="3.147471" x2="9.740724" y1="3.293187" x1="10.955026"/>
    <line id="svg_7" y2="3.147471" x2="8.089274" y1="3.196043" x1="9.983585"/>
    <line id="svg_8" y2="3.268901" x2="6.874972" y1="3.123185" x1="8.307848"/>
    <line id="svg_9" y2="3.657478" x2="5.587812" y1="3.220329" x1="7.020688"/>
    <line id="svg_10" y2="4.046054" x2="4.737801" y1="3.560334" x1="5.854959"/>
    <line id="svg_11" y2="4.337487" x2="4.300652" y1="3.997482" x1="4.834945"/>
    <line id="svg_12" y2="4.726063" x2="3.88779" y1="4.191771" x1="4.470655"/>
    <line id="svg_15" y2="5.3575" x2="3.377783" y1="4.604633" x1="3.960648"/>
    <line id="svg_16" y2="6.183226" x2="2.916348" y1="5.138926" x1="3.547785"/>
    <line id="svg_17" y2="6.960379" x2="2.770632" y1="5.867507" x1="3.037779"/>
    <line id="svg_18" y2="7.713246" x2="2.673488" y1="6.741804" x1="2.819204"/>
    <line id="svg_19" y2="8.684687" x2="2.697774" y1="7.616102" x1="2.673488"/>
    <line id="svg_20" y2="9.753273" x2="2.892062" y1="8.611829" x1="2.697774"/>
    <line id="svg_21" y2="10.724714" x2="3.134923" y1="9.534698" x1="2.84349"/>
    <line id="svg_23" y2="11.647583" x2="3.596357" y1="10.578998" x1="3.086351"/>
    <line id="svg_25" y2="12.521881" x2="4.276366" y1="11.501867" x1="3.499213"/>
    <line id="svg_26" y2="13.930471" x2="5.830673" y1="12.376165" x1="4.13065"/>
    <line id="svg_28" y2="14.707624" x2="7.263549" y1="13.881899" x1="5.733528"/>
    <line id="svg_29" y2="15.339061" x2="8.963571" y1="14.61048" x1="7.06926"/>
    <line id="svg_30" y2="15.581921" x2="10.882168" y1="15.314775" x1="8.817855"/>
    <line id="svg_31" y2="15.460491" x2="12.023612" y1="15.581921" x1="10.785024"/>
    <line id="svg_33" y2="15.120487" x2="13.092197" y1="15.484777" x1="11.877895"/>
    <line id="svg_34" y2="14.586194" x2="13.86935" y1="15.217631" x1="12.897909"/>
    <line id="svg_35" y2="13.833327" x2="14.597931" y1="14.756196" x1="13.699348"/>
    <line id="svg_37" y2="12.716169" x2="15.180796" y1="13.881899" x1="14.549359"/>
    <line id="svg_39" y2="11.429009" x2="15.520801" y1="12.813313" x1="15.15651"/>
    <ellipse ry="1" rx="1" id="svg_40" cy="10.967574" cx="15.520801"/>
  </g>`,viewBox:{x:18,y:18}}),FreehandROISculptor:ir(ar,{name:"FreehandROISculptor",iconContent:`<g id="icon-freehand-sculpt" fill="none" stroke-width="1.5" stroke="{{color}}" stroke-linecap="round" stroke-linejoin="round">
    <line id="svg_1" y2="2.559367" x2="10.184807" y1="4.467781" x1="8.81711"/>
    <line id="svg_4" y2="1.493836" x2="11.727442" y1="2.766112" x1="10.089386"/>
    <line id="svg_7" y2="1.080346" x2="13.047428" y1="1.748291" x1="11.345759"/>
    <line id="svg_8" y2="1.000829" x2="14.351511" y1="1.112153" x1="12.77707"/>
    <line id="svg_9" y2="1.350705" x2="15.242104" y1="0.905408" x1="13.969828"/>
    <line id="svg_10" y2="2.098167" x2="15.862339" y1="1.14396" x1="14.955842"/>
    <line id="svg_11" y2="3.195505" x2="16.41896" y1="1.939133" x1="15.766918"/>
    <line id="svg_12" y2="4.292843" x2="16.530284" y1="2.925147" x1="16.387153"/>
    <line id="svg_16" y2="5.644637" x2="16.196311" y1="3.831643" x1="16.593898"/>
    <line id="svg_18" y2="7.266789" x2="15.623787" y1="5.19934" x1="16.275829"/>
    <line id="svg_19" y2="10.813258" x2="14.526449" y1="6.726071" x1="15.766918"/>
    <line id="svg_20" y2="5.056209" x2="8.085552" y1="4.181519" x1="8.976145"/>
    <line id="svg_23" y2="5.326568" x2="7.481221" y1="4.78585" x1="8.403621"/>
    <line id="svg_24" y2="5.565119" x2="6.749662" y1="5.294761" x1="7.624352"/>
    <line id="svg_25" y2="5.994512" x2="5.429675" y1="5.533312" x1="6.956407"/>
    <line id="svg_27" y2="6.551133" x2="4.284627" y1="5.962706" x1="5.572807"/>
    <line id="svg_28" y2="7.584858" x2="3.044158" y1="6.392099" x1="4.427758"/>
    <line id="svg_29" y2="8.84123" x2="2.185372" y1="7.489437" x1="3.219096"/>
    <line id="svg_31" y2="10.606513" x2="1.644654" y1="8.602678" x1="2.280792"/>
    <line id="svg_32" y2="13.214679" x2="1.48562" y1="10.352058" x1="1.724171"/>
    <line id="svg_33" y2="14.375631" x2="1.676461" y1="12.992031" x1="1.453813"/>
    <line id="svg_34" y2="15.298031" x2="2.264889" y1="14.152983" x1="1.517427"/>
    <line id="svg_35" y2="16.172721" x2="3.521261" y1="14.948155" x1="1.915013"/>
    <line id="svg_36" y2="16.824762" x2="5.207027" y1="15.997783" x1="3.28271"/>
    <line id="svg_38" y2="17.063314" x2="7.035924" y1="16.745245" x1="4.968475"/>
    <line id="svg_39" y2="16.888376" x2="9.278311" y1="17.047411" x1="6.733758"/>
    <line id="svg_40" y2="16.284045" x2="10.661911" y1="16.983797" x1="8.992048"/>
    <line id="svg_41" y2="15.313934" x2="11.647925" y1="16.395369" x1="10.455166"/>
    <line id="svg_44" y2="13.898527" x2="12.82478" y1="15.425259" x1="11.504794"/>
    <line id="svg_45" y2="12.037824" x2="14.144766" y1="14.312017" x1="12.522614"/>
    <line id="svg_47" y2="10.59061" x2="14.605966" y1="12.228665" x1="13.953925"/>
    <ellipse ry="1" rx="1" id="svg_48" cy="3.982726" cx="13.460918"/>
  </g>`,viewBox:{x:18,y:18}}),Length:ir(ar,{name:"Length",iconContent:`<g id="length-group" fill="none" stroke-width="1" stroke="{{color}}" stroke-linecap="round" stroke-linejoin="round">
    <path id="length-dashes" d="m22.5,6 -16.5,16.5" stroke-width="3" stroke-dasharray="0.6666,5" />
  </g>`,viewBox:{x:24,y:24}}),Height:ir(ar,{name:"Height",iconContent:'<path d="m 6 22 l 8.5 0 v -16 h 8" stroke-width="3" fill="none" stroke="{{color}}" />',viewBox:{x:24,y:24}}),Probe:ir(ar,{name:"Probe",iconContent:`<path fill="{{color}}" d="M1152 896q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75
    75 181zm-256-544q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73
    198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5
    279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5
    385.5-103 385.5 103 279.5 279.5 103 385.5z" />`,viewBox:{x:1792,y:1792}}),RectangleROI:ir(ar,{name:"RectangleROI",iconContent:`<path fill="{{color}}" d="M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47
    113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0
    119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119
    84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z" />`,viewBox:{x:1792,y:1792}}),TextMarker:ir(ar,{name:"TextMarker",iconContent:`<path fill="{{color}}" d="M789 559l-170 450q33 0 136.5 2t160.5 2q19 0
    57-2-87-253-184-452zm-725 1105l2-79q23-7 56-12.5t57-10.5 49.5-14.5 44.5-29
    31-50.5l237-616 280-724h128q8 14 11 21l205 480q33 78 106 257.5t114 274.5q15
    34 58 144.5t72 168.5q20 45 35 57 19 15 88 29.5t84 20.5q6 38 6 57 0 5-.5
    13.5t-.5 12.5q-63 0-190-8t-191-8q-76 0-215 7t-178 8q0-43 4-78l131-28q1 0
    12.5-2.5t15.5-3.5 14.5-4.5 15-6.5 11-8 9-11
    2.5-14q0-16-31-96.5t-72-177.5-42-100l-450-2q-26 58-76.5 195.5t-50.5 162.5q0
    22 14 37.5t43.5 24.5 48.5 13.5 57 8.5 41 4q1 19 1 58 0 9-2 27-58
    0-174.5-10t-174.5-10q-8 0-26.5 4t-21.5 4q-80 14-188 14z" />`,viewBox:{x:1792,y:1792}}),Crosshairs:ir(ar,{name:"Crosshairs",iconContent:`<path fill="{{color}}" d="M1325 1024h-109q-26 0-45-19t-19-45v-128q0-26
    19-45t45-19h109q-32-108-112.5-188.5t-188.5-112.5v109q0 26-19 45t-45
    19h-128q-26 0-45-19t-19-45v-109q-108 32-188.5 112.5t-112.5 188.5h109q26
    0 45 19t19 45v128q0 26-19 45t-45 19h-109q32 108 112.5 188.5t188.5
    112.5v-109q0-26 19-45t45-19h128q26 0 45 19t19 45v109q108-32
    188.5-112.5t112.5-188.5zm339-192v128q0 26-19 45t-45 19h-143q-37 161-154.5
    278.5t-278.5 154.5v143q0 26-19 45t-45 19h-128q-26
    0-45-19t-19-45v-143q-161-37-278.5-154.5t-154.5-278.5h-143q-26
    0-45-19t-19-45v-128q0-26 19-45t45-19h143q37-161
    154.5-278.5t278.5-154.5v-143q0-26 19-45t45-19h128q26 0 45 19t19 45v143q161
    37 278.5 154.5t154.5 278.5h143q26 0 45 19t19 45z" />`,viewBox:{x:1792,y:1792}}),Eraser:ir(ar,{name:"Eraser",iconContent:`<path transform="translate(0,1792) scale(1,-1)" fill="{{color}}" d="M960 1408l336-384h-768l-336 384h768zm1013-1077q15
    34 9.5 71.5t-30.5 65.5l-896 1024q-38 44-96 44h-768q-38
    0-69.5-20.5t-47.5-54.5q-15-34-9.5-71.5t30.5-65.5l896-1024q38-44 96-44h768q38
    0 69.5 20.5t47.5 54.5z" />`,viewBox:{x:2048,y:1792}}),Magnify:ir(ar,{name:"Magnify",iconContent:`<path fill="{{color}}" d="M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395
    312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5
    0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17
    0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208
    32s176 78.7 176 176-78.7 176-176 176z" />`,viewBox:{x:512,y:512}}),Pan:ir(ar,{name:"Pan",iconContent:`<path fill="{{color}}" d="M1411 541l-355 355 355 355 144-144q29-31 70-14 39 17
    39 59v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l144-144-355-355-355
    355 144 144q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59
    39-17 69 14l144 144 355-355-355-355-144 144q-19 19-45 19-12
    0-24-5-40-17-40-59v-448q0-26 19-45t45-19h448q42 0 59 40 17 39-14 69l-144
    144 355 355 355-355-144-144q-31-30-14-69 17-40 59-40h448q26 0 45 19t19
    45v448q0 42-39 59-13 5-25 5-26 0-45-19z" />`,viewBox:{x:1792,y:1792}}),Rotate:ir(ar,{name:"Rotate",iconContent:`<path fill="{{color}}" d="M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39
    14-69l138-138q-148-137-349-137-104 0-198.5 40.5t-163.5 109.5-109.5
    163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5q119 0
    225-52t179-147q7-10 23-12 15 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109
    132-264 204.5t-327 72.5q-156 0-298-61t-245-164-164-245-61-298 61-298
    164-245 245-164 298-61q147 0 284.5 55.5t244.5 156.5l130-129q29-31 70-14
    39 17 39 59z" />`,viewBox:{x:1792,y:1792}}),StackScroll:ir(ar,{name:"StackScroll",iconContent:`<path fill="{{color}}" d="M24 21v2c0 0.547-0.453 1-1 1h-22c-0.547
    0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547 0 1 0.453 1 1zM24 13v2c0
    0.547-0.453 1-1 1h-22c-0.547 0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547
    0 1 0.453 1 1zM24 5v2c0 0.547-0.453 1-1 1h-22c-0.547
    0-1-0.453-1-1v-2c0-0.547 0.453-1 1-1h22c0.547 0 1 0.453 1 1z" />`,viewBox:{x:24,y:28}}),WindowLevelRegion:ir(ar,{name:"WindowLevelRegion",iconContent:`<path fill="{{color}}" d="M1664 416v960q0 119-84.5 203.5t-203.5 84.5h-960q-119
    0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5
    84.5t84.5 203.5z" />`,viewBox:{x:1792,y:1792}}),WindowLevel:ir(ar,{name:"WindowLevel",iconContent:`
    <path fill="{{color}}" d="M14.5,3.5 a1 1 0 0 1 -11,11 Z" stroke="none" opacity="0.8" />
    <circle cx="9" cy="9" r="8" fill="none" stroke-width="2" stroke="{{color}}" />`,viewBox:{x:18,y:18}}),Zoom:ir(ar,{name:"Zoom",iconContent:`
  <path fill="{{color}}" d="M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395
    312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5
    0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17
    0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208
    32s176 78.7 176 176-78.7 176-176 176z" />
  <path fill="{{color}}" transform="scale(0.22,0.22) translate(1400,0)" d="M1216
    320q0 26-19 45t-45 19h-128v1024h128q26 0 45 19t19 45-19 45l-256 256q-19
    19-45 19t-45-19l-256-256q-19-19-19-45t19-45 45-19h128v-1024h-128q-26
    0-45-19t-19-45 19-45l256-256q19-19 45-19t45 19l256 256q19 19 19 45z" />`,viewBox:{x:640,y:512}}),SegmentationFreeHandEraseInside:ir(ar,{name:"SegmentationFreeHandEraseInside",iconContent:`${jh} ${Zf}`,viewBox:to}),SegmentationFreeHandFillInside:ir(ar,{name:"SegmentationFreeHandFillInside",iconContent:`${jh} ${$l}`,viewBox:to}),SegmentationFreeHandEraseOutside:ir(ar,{name:"SegmentationFreeHandEraseOutside",iconContent:`${jh} ${Zf}`,viewBox:to}),SegmentationFreeHandFillOutside:ir(ar,{name:"SegmentationFreeHandFillOutside",iconContent:`${jh} ${$l}`,viewBox:to}),SegmentationRectangleEraseInside:ir(ar,{name:"SegmentationRectangleEraseInside",iconContent:`${Jf} ${Zf}`,viewBox:to}),RectangleScissor:ir(ar,{name:"RectangleScissor",iconContent:`${Jf} ${$l}`,viewBox:to}),"RectangleScissor.FILL_INSIDE":ir(ar,{name:"RectangleScissor.FILL_INSIDE",iconContent:`${Jf} ${$l}`,viewBox:to}),"RectangleScissor.FILL_OUTSIDE":ir(ar,{name:"RectangleScissor.FILL_OUTSIDE",iconContent:`${Jf} ${$l}`,viewBox:to}),"RectangleScissor.ERASE_OUTSIDE":ir(ar,{name:"RectangleScissor.ERASE_OUTSIDE",iconContent:`${Jf} ${Zf}`,viewBox:to}),"RectangleScissor.ERASE_INSIDE":ir(ar,{name:"RectangleScissor.ERASE_INSIDE",iconContent:`${Jf} ${Zf}`,viewBox:to}),CircleScissor:ir(ar,{name:"CircleScissor",iconContent:`${Hh} ${$l}`,viewBox:to}),"CircleScissor.FILL_INSIDE":ir(ar,{name:"CircleScissor.FILL_INSIDE",iconContent:`${Hh} ${$l}`,viewBox:to}),"CircleScissor.ERASE_OUTSIDE":ir(ar,{name:"CircleScissor.ERASE_OUTSIDE",iconContent:`${Hh} ${Zf}`,viewBox:to}),"CircleScissor.FILL_OUTSIDE":ir(ar,{name:"CircleScissor.FILL_OUTSIDE",iconContent:`${Hh} ${$l}`,viewBox:to})};function ir(t,e){return Object.assign(Object.create(t),{...e,name:e.name||t.name})}function fMe(t){return KH[t]}const dMe=Object.keys(KH);class gMe{constructor(){const e={color:"rgb(255, 255, 0)",colorHighlighted:"rgb(0, 255, 0)",colorSelected:"rgb(0, 220, 0)",colorLocked:"rgb(209, 193, 90)",lineWidth:"1",lineDash:"",shadow:!0,textBoxVisibility:!0,textBoxFontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",textBoxFontSize:"14px",textBoxColor:"rgb(255, 255, 0)",textBoxColorHighlighted:"rgb(0, 255, 0)",textBoxColorSelected:"rgb(0, 255, 0)",textBoxColorLocked:"rgb(209, 193, 90)",textBoxBackground:"",textBoxLinkLineWidth:"1",textBoxLinkLineDash:"2,3",textBoxShadow:!0,markerSize:"10"};this._initializeConfig(e)}getAnnotationToolStyles(e){return this.config.annotations&&this.config.annotations[e]}getViewportToolStyles(e){return this.config.viewports&&this.config.viewports[e]}getToolGroupToolStyles(e){return this.config.toolGroups&&this.config.toolGroups[e]}getDefaultToolStyles(){return this.config.default}setAnnotationStyles(e,n){let r=this.config.annotations;r||(this.config={...this.config,annotations:{}},r=this.config.annotations),r[e]=n}setViewportToolStyles(e,n){let r=this.config.viewports;r||(this.config={...this.config,viewports:{}},r=this.config.viewports),r[e]=n}setToolGroupToolStyles(e,n){let r=this.config.toolGroups;r||(this.config={...this.config,toolGroups:{}},r=this.config.toolGroups),r[e]=n}setDefaultToolStyles(e){this.config.default=e}getStyleProperty(e,n){const{annotationUID:r,viewportId:a,toolGroupId:i,toolName:o}=n;return this._getToolStyle(e,r,a,i,o)}_getToolStyle(e,n,r,a,i){if(n){const s=this.getAnnotationToolStyles(n);if(s&&s[e]!==void 0)return s[e]}if(r){const s=this.getViewportToolStyles(r);if(s){if(s[i]&&s[i][e]!==void 0)return s[i][e];if(s.global&&s.global[e]!==void 0)return s.global[e]}}if(a){const s=this.getToolGroupToolStyles(a);if(s){if(s[i]&&s[i][e]!==void 0)return s[i][e];if(s.global&&s.global[e]!==void 0)return s.global[e]}}const o=this.getDefaultToolStyles();if(o[i]&&o[i][e]!==void 0)return o[i][e];if(o.global&&o.global[e]!==void 0)return o.global[e]}_initializeConfig(e){const n={};for(const r in e)n[r]=e[r];this.config={default:{global:n}}}}const mMe=new gMe;function vMe(t,e,n){const r=[`${t}`];return e&&r.push(`${r[0]}${e}`),n&&r.push(`${r[r.length-1]}${n}`),r}function QH(t,e,n,r){const a=vMe(t,n,r);for(let i=a.length-1;i>=0;--i){const o=mMe.getStyleProperty(a[i],e);if(o!==void 0)return o}}const pMe="color",hMe=nc.Highlighted,SMe=Jr.Active;class K2 extends A3{constructor(e,n,r,a,i){super(e,n,r,a,i)}static getDefinedCursor(e,n=!1,r){r||(r=QH(pMe,{},hMe,SMe));const a=yMe(e,n,r);let i=super.getDefinedCursor(a);if(!i){const o=fMe(e);o&&(i=CMe(o,a,n,r,super.getDefinedCursor("default")),super.setDefinedCursor(a,i))}return i}}function XH(t,e){const n=Object(e),r=Object.prototype.hasOwnProperty.bind(n);return(t+"").replace(/\{\{(\w+)\}\}/g,(a,i)=>r(i)?n[i]+"":"")}function yMe(t,e,n){return`${e?"pointer":"cursor"}:${t}/${n}`}function CMe(t,e,n,r,a){const{x:i,y:o}=t.mousePoint;return new K2(xMe(t,n,{color:r}),i,o,e,a)}function xMe(t,e,n){const r=TMe(t,e,n);return`${URL.createObjectURL(r)}#${t.name||"unknown"}-${e?"pointer":"cursor"}`}function TMe(t,e,n){const r=(e?bMe:wMe)(t,n);return new Blob([r],{type:"image/svg+xml"})}function wMe(t,e){const{iconContent:n,iconSize:r,viewBox:a}=t,i=`
    <svg data-icon="cursor" role="img" xmlns="http://www.w3.org/2000/svg"
      width="${r}" height="${r}" viewBox="0 0
      ${a.x} ${a.y}">
      ${n}
    </svg>`;return XH(i,e)}function bMe(t,e){const{iconContent:n,iconSize:r,viewBox:a,mousePointerGroupString:i}=t,o=r/Math.max(a.x,a.y,1),s=16+r,l=`
    <svg data-icon="cursor" role="img" xmlns="http://www.w3.org/2000/svg"
      width="${s}" height="${s}" viewBox="0 0 ${s} ${s}">
      <g>${i}</g>
      <g transform="translate(16, 16) scale(${o})">${n}</g>
    </svg>`;return XH(l,e)}const uP=Symbol("ElementCursorsMap");function EMe(t,e){Kv(t)[0]=e,bb(t,e)}function bb(t,e){const n=Kv(t);n[1]=n[0],n[0]=e,t.style.cursor=(e instanceof Eo?e:Eo.getDefinedCursor("auto")).getStyleProperty()}function Eb(t){bb(t,Kv(t)[1])}function Ty(t){bb(t,Eo.getDefinedCursor("none"))}function Kv(t){let e=Kv[uP];e instanceof WeakMap||(e=new WeakMap,Object.defineProperty(Kv,uP,{value:e}));let n=e.get(t);return n||(n=[null,null],e.set(t,n)),n}[...dMe,...cMe];function YH(t){return In.toolGroups.find(e=>e.id===t)}const{Active:Hg,Passive:z8,Enabled:W8,Disabled:j8}=Jr,DMe=[{mouseButton:Ds.Primary}];class Db{constructor(e){this.viewportsInfo=[],this.toolOptions={},this.currentActivePrimaryToolName=null,this.prevActivePrimaryToolName=null,this.restoreToolOptions={},this._toolInstances={},this.id=e}getViewportIds(){return this.viewportsInfo.map(({viewportId:e})=>e)}getViewportsInfo(){return this.viewportsInfo.slice()}getToolInstance(e){const n=this._toolInstances[e];if(!n){console.warn(`'${e}' is not registered with this toolGroup (${this.id}).`);return}return n}getToolInstances(){return this._toolInstances}hasTool(e){return!!this._toolInstances[e]}addTool(e,n={}){const r=In.tools[e],a=typeof e<"u"&&e!=="",i=this.toolOptions[e];if(!a){console.warn("Tool with configuration did not produce a toolName: ",n);return}if(!r){console.warn(`'${e}' is not registered with the library. You need to use cornerstoneTools.addTool to register it.`);return}if(i){console.warn(`'${e}' is already registered for ToolGroup ${this.id}.`);return}const{toolClass:o}=r,s={name:e,toolGroupId:this.id,configuration:n},l=new o(s);this._toolInstances[e]=l}addToolInstance(e,n,r={}){var i;let a=(i=In.tools[e])==null?void 0:i.toolClass;if(!a){const o=In.tools[n].toolClass;class s extends o{}s.toolName=e,a=s,In.tools[e]={toolClass:s}}this.addTool(a.toolName,r)}addViewport(e,n){if(typeof e!="string")throw new Error("viewportId must be defined and be a string");const r=this._findRenderingEngine(e,n);this.viewportsInfo.some(({viewportId:s})=>s===e)||this.viewportsInfo.push({viewportId:e,renderingEngineId:r});const a=this.getActivePrimaryMouseButtonTool();qr.getRuntimeSettings().get("useCursors")&&this.setViewportsCursorByToolName(a);const o={toolGroupId:this.id,viewportId:e,renderingEngineId:r};_t(Vt,ot.TOOLGROUP_VIEWPORT_ADDED,o)}removeViewports(e,n){const r=[];if(this.viewportsInfo.forEach((i,o)=>{let s=!1;i.renderingEngineId===e&&(s=!0,n&&i.viewportId!==n&&(s=!1)),s&&r.push(o)}),r.length)for(let i=r.length-1;i>=0;i--)this.viewportsInfo.splice(r[i],1);const a={toolGroupId:this.id,viewportId:n,renderingEngineId:e};_t(Vt,ot.TOOLGROUP_VIEWPORT_REMOVED,a)}setActiveStrategy(e,n){const r=this._toolInstances[e];if(r===void 0){console.warn(`Tool ${e} not added to toolGroup, can't set tool configuration.`);return}r.setActiveStrategy(n)}setToolMode(e,n,r={}){if(!e){console.warn("setToolMode: toolName must be defined");return}if(n===Jr.Active){this.setToolActive(e,r||this.restoreToolOptions[e]);return}if(n===Jr.Passive){this.setToolPassive(e);return}if(n===Jr.Enabled){this.setToolEnabled(e);return}if(n===Jr.Disabled){this.setToolDisabled(e);return}console.warn("setToolMode: mode must be defined")}setToolActive(e,n={}){const r=this._toolInstances[e];if(r===void 0){console.warn(`Tool ${e} not added to toolGroup, can't set tool mode.`);return}if(!r){console.warn(`'${e}' instance ${r} is not registered with this toolGroup, can't set tool mode.`);return}const a=this.toolOptions[e]?this.toolOptions[e].bindings:[],i=n.bindings?n.bindings:[],s={bindings:[...a,...i].reduce((u,d)=>{const g=d.numTouchPoints!==void 0,v=d.mouseButton!==void 0;return!u.some(m=>H8(m,d))&&(g||v)&&u.push(d),u},[]),mode:Hg};this.toolOptions[e]=s,this._toolInstances[e].mode=Hg;const c=qr.getRuntimeSettings().get("useCursors");if(this._hasMousePrimaryButtonBinding(n)&&c)this.setViewportsCursorByToolName(e);else if(!this.getActivePrimaryMouseButtonTool()&&c){const d=Eo.getDefinedCursor("default");this._setCursorForViewports(d)}this._hasMousePrimaryButtonBinding(n)&&(this.prevActivePrimaryToolName===null?this.prevActivePrimaryToolName=e:this.prevActivePrimaryToolName=this.currentActivePrimaryToolName,this.currentActivePrimaryToolName=e),typeof r.onSetToolActive=="function"&&r.onSetToolActive(),this._renderViewports();const f={toolGroupId:this.id,toolName:e,toolBindingsOptions:n};_t(Vt,ot.TOOL_ACTIVATED,f),this._triggerToolModeChangedEvent(e,Hg,n)}setToolPassive(e,n){const r=this._toolInstances[e];if(r===void 0){console.warn(`Tool ${e} not added to toolGroup, can't set tool mode.`);return}const a=this.getToolOptions(e),i=Object.assign({bindings:a?a.bindings:[]},a,{mode:z8}),o=Array.isArray(n==null?void 0:n.removeAllBindings)?n.removeAllBindings:this.getDefaultPrimaryBindings();i.bindings=i.bindings.filter(l=>(n==null?void 0:n.removeAllBindings)!==!0&&!o.some(c=>H8(l,c)));let s=z8;i.bindings.length!==0&&(s=Hg,i.mode=s),this.toolOptions[e]=i,r.mode=s,typeof r.onSetToolPassive=="function"&&r.onSetToolPassive(),this._renderViewports(),this._triggerToolModeChangedEvent(e,z8)}setToolEnabled(e){const n=this._toolInstances[e];if(n===void 0){console.warn(`Tool ${e} not added to toolGroup, can't set tool mode.`);return}const r={bindings:[],mode:W8};this.toolOptions[e]=r,n.mode=W8,typeof n.onSetToolEnabled=="function"&&n.onSetToolEnabled(),this._renderViewports(),this._triggerToolModeChangedEvent(e,W8)}setToolDisabled(e){const n=this._toolInstances[e];if(n===void 0){console.warn(`Tool ${e} not added to toolGroup, can't set tool mode.`);return}const r={bindings:[],mode:j8};this.restoreToolOptions[e]=this.toolOptions[e],this.toolOptions[e]=r,n.mode=j8,typeof n.onSetToolDisabled=="function"&&n.onSetToolDisabled(),this._renderViewports(),this._triggerToolModeChangedEvent(e,j8)}getToolOptions(e){const n=this.toolOptions[e];if(n!==void 0)return n}getActivePrimaryMouseButtonTool(){return Object.keys(this.toolOptions).find(e=>{const n=this.toolOptions[e];return n.mode===Hg&&this._hasMousePrimaryButtonBinding(n)})}setViewportsCursorByToolName(e,n){const r=this._getCursor(e,n);this._setCursorForViewports(r)}_getCursor(e,n){let r,a;return n&&(r=`${e}.${n}`,a=K2.getDefinedCursor(r,!0),a)||(r=`${e}`,a=K2.getDefinedCursor(r,!0),a)||(r=e,a=K2.getDefinedCursor(r,!0),a)?a:Eo.getDefinedCursor("default")}_setCursorForViewports(e){this.viewportsInfo.forEach(({renderingEngineId:n,viewportId:r})=>{const a=mg(r,n);if(!a)return;const{viewport:i}=a;EMe(i.element,e)})}setToolConfiguration(e,n,r){const a=this._toolInstances[e];if(a===void 0)return console.warn(`Tool ${e} not present, can't set tool configuration.`),!1;let i;return r?i=n:i=Object.assign(a.configuration,n),a.configuration=i,typeof a.onSetToolConfiguration=="function"&&a.onSetToolConfiguration(),this._renderViewports(),!0}getDefaultMousePrimary(){return Ds.Primary}getDefaultPrimaryBindings(){return DMe}getToolConfiguration(e,n){if(this._toolInstances[e]===void 0){console.warn(`Tool ${e} not present, can't set tool configuration.`);return}const r=lMe(this._toolInstances[e].configuration,n)||this._toolInstances[e].configuration;return Es(r)}getPrevActivePrimaryToolName(){return this.prevActivePrimaryToolName}setActivePrimaryTool(e){const n=this.getCurrentActivePrimaryToolName();this.setToolDisabled(n),this.setToolActive(e,{bindings:[{mouseButton:Ds.Primary}]})}getCurrentActivePrimaryToolName(){return this.currentActivePrimaryToolName}clone(e,n=null){let r=YH(e);return r?(console.debug(`ToolGroup ${e} already exists`),r):(r=new Db(e),In.toolGroups.push(r),n=n??(()=>!0),Object.keys(this._toolInstances).filter(n).forEach(a=>{const i=this._toolInstances[a],o=this.toolOptions[a],s=i.mode;r.addTool(a),r.setToolMode(a,s,{bindings:o.bindings??[]})}),r)}_hasMousePrimaryButtonBinding(e){var r;const n=this.getDefaultPrimaryBindings();return(r=e==null?void 0:e.bindings)==null?void 0:r.some(a=>n.some(i=>H8(a,i)))}_renderViewports(){this.viewportsInfo.forEach(({renderingEngineId:e,viewportId:n})=>{Of(e).renderViewport(n)})}_triggerToolModeChangedEvent(e,n,r){const a={toolGroupId:this.id,toolName:e,mode:n,toolBindingsOptions:r};_t(Vt,ot.TOOL_MODE_CHANGED,a)}_findRenderingEngine(e,n){const r=p0();if((r==null?void 0:r.length)===0)throw new Error("No rendering engines found.");if(n)return n;const a=r.filter(i=>i.getViewport(e));if(a.length===0){if(r.length===1)return r[0].id;throw new Error("No rendering engines found that contain the viewport with the same viewportId, you must specify a renderingEngineId.")}if(a.length>1)throw new Error("Multiple rendering engines found that contain the viewport with the same viewportId, you must specify a renderingEngineId.");return a[0].id}}function H8(t,e){return t.mouseButton!==e.mouseButton||t.numTouchPoints!==e.numTouchPoints?!1:t.modifierKey===e.modifierKey}function OMe(t){if(In.toolGroups.some(r=>r.id===t)){console.warn(`'${t}' already exists.`);return}const n=new Db(t);return In.toolGroups.push(n),n}function Fi(t,e){var r;e||(e=(r=p0().find(a=>a.getViewports().find(i=>i.id===t)))==null?void 0:r.id);const n=In.toolGroups.filter(a=>a.viewportsInfo.some(i=>i.renderingEngineId===e&&(!i.viewportId||i.viewportId===t)));if(n.length){if(n.length>1)throw new Error(`Multiple tool groups found for renderingEngineId: ${e} and viewportId: ${t}. You should only
      have one tool group per viewport in a renderingEngine.`);return n[0]}}const RMe=[Jr.Active,Jr.Passive,Jr.Enabled];function IMe(t){return In.toolGroups.filter(({toolOptions:e})=>{const n=Object.keys(e);for(let r=0;r<n.length;r++)if(t===n[r]&&e[t]&&RMe.includes(e[t].mode))return!0;return!1})}function ZH(t,e){const n=yn(e),{renderingEngine:r,viewportId:a}=n,i=ot.ANNOTATION_ADDED,o={annotation:t,viewportId:a,renderingEngineId:r.id};_t(Vt,i,o)}function JH(t){const{toolName:e}=t.metadata,n=IMe(e);if(!n.length)return;const r=[];n.forEach(o=>{o.viewportsInfo.forEach(s=>{const{renderingEngineId:l,viewportId:c}=s,{FrameOfReferenceUID:f}=mg(c,l);t.metadata.FrameOfReferenceUID===f&&r.push(s)})});const a=ot.ANNOTATION_ADDED,i={annotation:t};if(!r.length){_t(Vt,a,i);return}r.forEach(({renderingEngineId:o,viewportId:s})=>{i.viewportId=s,i.renderingEngineId=o,_t(Vt,a,i)})}function wy(t){const e=ot.ANNOTATION_REMOVED;_t(Vt,e,t)}function m0(t,e,n=ll.HandlesUpdated){const r=e&&yn(e),{viewportId:a,renderingEngineId:i}=r||{},o=ot.ANNOTATION_MODIFIED;_t(Vt,o,{annotation:t,viewportId:a,renderingEngineId:i,changeType:n})}function AMe(t){eq({annotation:t})}function Ob(t,e=!1){eq({annotation:t,contourHoleProcessingEnabled:e})}function eq(t){const e=ot.ANNOTATION_COMPLETED;_t(Vt,e,t)}const MMe=Object.freeze(Object.defineProperty({__proto__:null,triggerAnnotationAddedForElement:ZH,triggerAnnotationAddedForFOR:JH,triggerAnnotationCompleted:AMe,triggerAnnotationModified:m0,triggerAnnotationRemoved:wy,triggerContourAnnotationCompleted:Ob},Symbol.toStringTag,{value:"Module"}));let tq;function h0(){return tq}function Rb(t){tq=t}function Qv(t,e){const n=h0(),r=n.getGroupKey(e);return n.getAnnotations(r,t)}function qi(t){return h0().getAnnotation(t)}function nq(){return h0().getAllAnnotations()}function Ib(t){const{annotationUID:e,parentAnnotationUID:n}=t;if(!n)return;const r=qi(n),a=r.childAnnotationUIDs.indexOf(e);r.childAnnotationUIDs.splice(a,1),t.parentAnnotationUID=void 0}function Ab(t,e){const{annotationUID:n}=t,{annotationUID:r}=e;Ib(e),t.childAnnotationUIDs||(t.childAnnotationUIDs=[]),!t.childAnnotationUIDs.includes(r)&&(t.childAnnotationUIDs.push(r),e.parentAnnotationUID=n)}function rq(t){return t.parentAnnotationUID?qi(t.parentAnnotationUID):void 0}function Mb(t){var e;return((e=t.childAnnotationUIDs)==null?void 0:e.map(n=>qi(n)))??[]}function $1(t,e){t.annotationUID||(t.annotationUID=Li());const n=h0();if(e instanceof HTMLDivElement){const r=n.getGroupKey(e);n.addAnnotation(t,r),ZH(t,e)}else n.addAnnotation(t,void 0),JH(t);return t.annotationUID}function PMe(t,e){const n=h0(),r=n.getGroupKey(e);return n.getNumberOfAnnotations(r,t)}function gf(t){var r;if(!t)return;const e=h0(),n=e.getAnnotation(t);n&&((r=n.childAnnotationUIDs)==null||r.forEach(a=>gf(a)),e.removeAnnotation(t),wy({annotation:n,annotationManagerUID:e.uid}))}function LMe(){const t=h0(),e=t.removeAllAnnotations();for(const n of e)wy({annotation:n,annotationManagerUID:t.uid})}function _Me(t,e){const n=h0(),r=n.getGroupKey(e),a=n.removeAnnotations(r,t);for(const i of a)wy({annotation:i,annotationManagerUID:n.uid})}function aq(t){let e=t;for(;e;)e.invalidated=!0,e=e.parentAnnotationUID?qi(e.parentAnnotationUID):void 0}const NMe=Object.freeze(Object.defineProperty({__proto__:null,addAnnotation:$1,addChildAnnotation:Ab,clearParentAnnotation:Ib,getAllAnnotations:nq,getAnnotation:qi,getAnnotationManager:h0,getAnnotations:Qv,getChildAnnotations:Mb,getNumberOfAnnotations:PMe,getParentAnnotation:rq,invalidateAnnotation:aq,removeAllAnnotations:LMe,removeAnnotation:gf,removeAnnotations:_Me,setAnnotationManager:Rb},Symbol.toStringTag,{value:"Module"}));function Sm(t){const e=t.toolName;if(In.tools[e],!e)throw new Error(`No Tool Found for the ToolClass ${t.name}`);In.tools[e]={toolClass:t}}function FMe(t){return!!In.tools[t]}function If(t,e){const n=e||t.currentTarget,{viewport:r}=yn(n)||{};if(!r)return;const a=kMe(t),i=VMe(t),o=$Me(n,i),s=r.canvasToWorld(o);return{page:i,client:a,canvas:o,world:s}}function $Me(t,e){const n=t.getBoundingClientRect();return[e[0]-n.left-window.pageXOffset,e[1]-n.top-window.pageYOffset]}function VMe(t){return[t.pageX,t.pageY]}function kMe(t){return[t.clientX,t.clientY]}function iq(t){const e=t.currentTarget,{viewportId:n,renderingEngineId:r}=yn(e),a=If(t,e),i={page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0]},o={event:t,eventName:ot.MOUSE_DOUBLE_CLICK,viewportId:n,renderingEngineId:r,camera:{},element:e,startPoints:a,lastPoints:a,currentPoints:a,deltaPoints:i};!_t(e,ot.MOUSE_DOUBLE_CLICK,o)&&(t.stopImmediatePropagation(),t.preventDefault())}const fP=ot.MOUSE_MOVE;function $p(t){const e=t.currentTarget,n=yn(e);if(!n)return;const{renderingEngineId:r,viewportId:a}=n,i=If(t);!_t(e,fP,{renderingEngineId:r,viewportId:a,camera:{},element:e,currentPoints:i,eventName:fP,event:t})&&(t.stopImmediatePropagation(),t.preventDefault())}const{MOUSE_DOWN:dP,MOUSE_DOWN_ACTIVATE:UMe,MOUSE_CLICK:BMe,MOUSE_UP:GMe,MOUSE_DRAG:gP}=ot,zMe=400,WMe=150,jMe=3,HMe={mouseButton:void 0,element:null,renderingEngineId:void 0,viewportId:void 0,isClickEvent:!0,clickDelay:200,preventClickTimeout:null,startPoints:{page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0]},lastPoints:{page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0]}};let Pn={mouseButton:void 0,renderingEngineId:void 0,viewportId:void 0,isClickEvent:!0,clickDelay:200,element:null,preventClickTimeout:null,startPoints:{page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0]},lastPoints:{page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0]}};const Wa={doubleClickTimeout:null,mouseDownEvent:null,mouseUpEvent:null,ignoreDoubleClick:!1};function oq(t){if(Wa.doubleClickTimeout){if(t.buttons===Wa.mouseDownEvent.buttons)return;Wa.mouseDownEvent=t,M3();return}Wa.doubleClickTimeout=setTimeout(M3,t.buttons===1?zMe:WMe),Wa.mouseDownEvent=t,Wa.ignoreDoubleClick=!1,Pn.element=t.currentTarget,Pn.mouseButton=t.buttons;const e=yn(Pn.element),{renderingEngineId:n,viewportId:r}=e;Pn.renderingEngineId=n,Pn.viewportId=r,Pn.preventClickTimeout=setTimeout(KMe,Pn.clickDelay),Pn.element.removeEventListener("mousemove",$p);const a=If(t,Pn.element);Pn.startPoints=wc(a),Pn.lastPoints=wc(a),document.addEventListener("mouseup",Pb),document.addEventListener("mousemove",sq)}function qMe(t){const e=by(Pn.startPoints,Pn.startPoints),n={event:t,eventName:dP,element:Pn.element,mouseButton:Pn.mouseButton,renderingEngineId:Pn.renderingEngineId,viewportId:Pn.viewportId,camera:{},startPoints:Pn.startPoints,lastPoints:Pn.startPoints,currentPoints:Pn.startPoints,deltaPoints:e};Pn.lastPoints=wc(n.lastPoints),_t(n.element,dP,n)&&_t(n.element,UMe,n)}function sq(t){const e=yn(Pn.element);if(!(e!=null&&e.viewport))return;const n=If(t,Pn.element),r=fq(Pn.element,Pn.lastPoints),a=by(n,r);if(Wa.doubleClickTimeout)if(cq(a.canvas))M3();else return;const i={event:t,eventName:gP,mouseButton:Pn.mouseButton,renderingEngineId:Pn.renderingEngineId,viewportId:Pn.viewportId,camera:{},element:Pn.element,startPoints:wc(Pn.startPoints),lastPoints:wc(r),currentPoints:n,deltaPoints:a};!_t(Pn.element,gP,i)&&(t.stopImmediatePropagation(),t.preventDefault()),Pn.lastPoints=wc(n)}function Pb(t){if(clearTimeout(Pn.preventClickTimeout),Wa.doubleClickTimeout)Wa.mouseUpEvent?px():(Wa.mouseUpEvent=t,Pn.element.addEventListener("mousemove",lq));else{const e=Pn.isClickEvent?BMe:GMe,n=If(t,Pn.element),r=by(n,Pn.lastPoints),a={event:t,eventName:e,mouseButton:Pn.mouseButton,element:Pn.element,renderingEngineId:Pn.renderingEngineId,viewportId:Pn.viewportId,camera:{},startPoints:wc(Pn.startPoints),lastPoints:wc(Pn.lastPoints),currentPoints:n,deltaPoints:r};_t(a.element,e,a),px()}document.removeEventListener("mousemove",sq)}function lq(t){const e=If(t,Pn.element),n=fq(Pn.element,Pn.lastPoints),r=by(e,n);cq(r.canvas)&&(M3(),$p(t))}function cq(t){return Math.abs(t[0])+Math.abs(t[1])>jMe}function KMe(){Pn.isClickEvent=!1}function M3(){Wa.ignoreDoubleClick=!0;const t=Wa.mouseDownEvent,e=Wa.mouseUpEvent;uq(),qMe(t),e&&Pb(e)}function uq(){Wa.doubleClickTimeout&&(clearTimeout(Wa.doubleClickTimeout),Wa.doubleClickTimeout=null),Wa.mouseDownEvent=null,Wa.mouseUpEvent=null}function px(){var t,e;document.removeEventListener("mouseup",Pb),(t=Pn.element)==null||t.removeEventListener("mousemove",lq),(e=Pn.element)==null||e.addEventListener("mousemove",$p),uq(),Pn=JSON.parse(JSON.stringify(HMe))}function wc(t){return JSON.parse(JSON.stringify(t))}function fq(t,e){const{viewport:n}=yn(t)||{};if(!n)return e;const r=n.canvasToWorld(e.canvas);return{page:e.page,client:e.client,canvas:e.canvas,world:r}}function by(t,e){return!t||!e?{page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0]}:{page:q8(t.page,e.page),client:q8(t.client,e.client),canvas:q8(t.canvas,e.canvas),world:QMe(t.world,e.world)}}function q8(t,e){return[t[0]-e[0],t[1]-e[1]]}function QMe(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]}function XMe(){return Pn.mouseButton}function dq(t){Wa.ignoreDoubleClick?(Wa.ignoreDoubleClick=!1,t.stopImmediatePropagation(),t.preventDefault()):px()}function gq(t){t.removeEventListener("dblclick",iq),t.removeEventListener("mousedown",oq),t.removeEventListener("mousemove",$p),t.removeEventListener("dblclick",dq,{capture:!0})}function YMe(t){gq(t),t.addEventListener("dblclick",iq),t.addEventListener("mousedown",oq),t.addEventListener("mousemove",$p),t.addEventListener("dblclick",dq,{capture:!0})}const mq={enable:YMe,disable:gq},ZMe=2e3,V1={mouse:0,touch:1};let mP,vP;function vq(t,e){const n=Date.now();if(t!==mP){if(n-vP<=ZMe)return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1;mP=t}vP=n}const pq=vq.bind(null,V1.mouse),hq=vq.bind(null,V1.touch);function pP(t,e,n){const r=n?pq:hq;e.forEach(function(a){t.addEventListener(a,r,{passive:!1})})}function hP(t,e,n){const r=n?pq:hq;e.forEach(function(a){t.removeEventListener(a,r)})}const Sq=["mousedown","mouseup","mousemove"],yq=["touchstart","touchend"];function Cq(t){hP(t,Sq,V1.mouse),hP(t,yq,V1.touch)}function JMe(t){Cq(t),pP(t,Sq,V1.mouse),pP(t,yq,V1.touch)}const xq={enable:JMe,disable:Cq};function Ey(t,e){const n=e||t.currentTarget,r=t.type==="touchend"?t.changedTouches:t.touches;return Object.keys(r).map(a=>{const i=nPe(r[a]),o=tPe(r[a]),s=ePe(n,o),{viewport:l}=yn(n),c=l.canvasToWorld(s);return{page:o,client:i,canvas:s,world:c,touch:{identifier:a,radiusX:r[a].radiusX,radiusY:r[a].radiusY,force:r[a].force,rotationAngle:r[a].rotationAngle}}})}function ePe(t,e){const n=t.getBoundingClientRect();return[e[0]-n.left-window.pageXOffset,e[1]-n.top-window.pageYOffset]}function tPe(t){return[t.pageX,t.pageY]}function nPe(t){return[t.clientX,t.clientY]}function hx(t,e){const n=P3(t),r=P3(e);return{page:K8(n.page,r.page),client:K8(n.client,r.client),canvas:K8(n.canvas,r.canvas),world:rPe(n.world,r.world)}}function Tq(t,e){const n=P3(t),r=P3(e);return{page:Zd(n.page,r.page),client:Zd(n.client,r.client),canvas:Zd(n.canvas,r.canvas),world:wq(n.world,r.world)}}function Sx(t,e){const n=yP(t),r=yP(e);return{page:n.page-r.page,client:n.client-r.client,canvas:n.canvas-r.canvas,world:n.world-r.world}}function Z0(t){return JSON.parse(JSON.stringify(t))}function SP(t){return JSON.parse(JSON.stringify(t))}function P3(t){return t.reduce((e,n)=>({page:[e.page[0]+n.page[0]/t.length,e.page[1]+n.page[1]/t.length],client:[e.client[0]+n.client[0]/t.length,e.client[1]+n.client[1]/t.length],canvas:[e.canvas[0]+n.canvas[0]/t.length,e.canvas[1]+n.canvas[1]/t.length],world:[e.world[0]+n.world[0]/t.length,e.world[1]+n.world[1]/t.length,e.world[2]+n.world[2]/t.length]}),{page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0]})}function i0(t){return t.reduce((e,n)=>({page:[e.page[0]+n.page[0]/t.length,e.page[1]+n.page[1]/t.length],client:[e.client[0]+n.client[0]/t.length,e.client[1]+n.client[1]/t.length],canvas:[e.canvas[0]+n.canvas[0]/t.length,e.canvas[1]+n.canvas[1]/t.length],world:[e.world[0]+n.world[0]/t.length,e.world[1]+n.world[1]/t.length,e.world[2]+n.world[2]/t.length],touch:{identifier:null,radiusX:e.touch.radiusX+n.touch.radiusX/t.length,radiusY:e.touch.radiusY+n.touch.radiusY/t.length,force:e.touch.force+n.touch.force/t.length,rotationAngle:e.touch.rotationAngle+n.touch.rotationAngle/t.length}}),{page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0],touch:{identifier:null,radiusX:0,radiusY:0,force:0,rotationAngle:0}})}function K8(t,e){return[t[0]-e[0],t[1]-e[1]]}function rPe(t,e){return[t[0]-e[0],t[1]-e[1],t[2]-e[2]]}function yP(t){const e=[];for(let n=0;n<t.length;n++)for(let r=0;r<t.length;r++)n<r&&e.push({page:Zd(t[n].page,t[r].page),client:Zd(t[n].client,t[r].client),canvas:Zd(t[n].canvas,t[r].canvas),world:wq(t[n].world,t[r].world)});return e.reduce((n,r)=>({page:n.page+r.page/e.length,client:n.client+r.client/e.length,canvas:n.canvas+r.canvas/e.length,world:n.world+r.world/e.length}),{page:0,client:0,canvas:0,world:0})}function Zd(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function wq(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}qr.getRuntimeSettings();const{TOUCH_START:CP,TOUCH_START_ACTIVATE:aPe,TOUCH_PRESS:xP,TOUCH_DRAG:TP,TOUCH_END:wP,TOUCH_TAP:bP,TOUCH_SWIPE:Q8}=ot,Xv={page:[0,0],client:[0,0],canvas:[0,0],world:[0,0,0]},L3={page:0,client:0,canvas:0,world:0},bq={renderingEngineId:void 0,viewportId:void 0,element:null,startPointsList:[{...Xv,touch:null}],lastPointsList:[{...Xv,touch:null}],isTouchStart:!1,startTime:null,pressTimeout:null,pressDelay:700,pressMaxDistance:5,accumulatedDistance:L3,swipeDistanceThreshold:48,swiped:!1,swipeToleranceMs:300},Eq={renderingEngineId:void 0,viewportId:void 0,element:null,startPointsList:[{...Xv,touch:null}],taps:0,tapTimeout:null,tapMaxDistance:24,tapToleranceMs:300};let on=JSON.parse(JSON.stringify(bq)),wa=JSON.parse(JSON.stringify(Eq));function Lc(t,e,n){return _t(t,e,n)}function Dq(t){on.element=t.currentTarget;const e=yn(on.element),{renderingEngineId:n,viewportId:r}=e;on.renderingEngineId=n,on.viewportId=r,!on.isTouchStart&&(clearTimeout(on.pressTimeout),on.pressTimeout=setTimeout(()=>iPe(t),on.pressDelay),oPe(t),document.addEventListener("touchmove",Oq),document.addEventListener("touchend",Rq))}function iPe(t){if(on.accumulatedDistance.canvas>on.pressMaxDistance)return;const n={event:t,eventName:xP,renderingEngineId:on.renderingEngineId,viewportId:on.viewportId,camera:{},element:on.element,startPointsList:Z0(on.startPointsList),lastPointsList:Z0(on.lastPointsList),startPoints:SP(i0(on.startPointsList)),lastPoints:SP(i0(on.lastPointsList))};Lc(n.element,xP,n)}function oPe(t){on.isTouchStart=!0,on.startTime=new Date;const e=Ey(t,on.element),n=i0(e),r=Xv,a=L3,i={event:t,eventName:CP,element:on.element,renderingEngineId:on.renderingEngineId,viewportId:on.viewportId,camera:{},startPointsList:e,lastPointsList:e,currentPointsList:e,startPoints:n,lastPoints:n,currentPoints:n,deltaPoints:r,deltaDistance:a};on.startPointsList=Z0(i.startPointsList),on.lastPointsList=Z0(i.lastPointsList),Lc(i.element,CP,i)&&Lc(i.element,aPe,i)}function Oq(t){const e=Ey(t,on.element),n=Iq(on.element,on.lastPointsList),r=e.length===n.length?hx(e,n):Xv,a=e.length===n.length?Sx(e,n):L3,i=e.length===n.length?Tq(e,on.lastPointsList):L3;on.accumulatedDistance={page:on.accumulatedDistance.page+i.page,client:on.accumulatedDistance.client+i.client,canvas:on.accumulatedDistance.canvas+i.canvas,world:on.accumulatedDistance.world+i.world};const o={event:t,eventName:TP,renderingEngineId:on.renderingEngineId,viewportId:on.viewportId,camera:{},element:on.element,startPoints:i0(on.startPointsList),lastPoints:i0(n),currentPoints:i0(e),startPointsList:Z0(on.startPointsList),lastPointsList:Z0(n),currentPointsList:e,deltaPoints:r,deltaDistance:a};Lc(on.element,TP,o),lPe(t,r),on.lastPointsList=Z0(e)}function Rq(t){clearTimeout(on.pressTimeout);const e=Ey(t,on.element),n=Iq(on.element,on.lastPointsList),r=e.length===n.length?hx(e,n):hx(e,e),a=e.length===n.length?Sx(e,n):Sx(e,e),i={event:t,eventName:wP,element:on.element,renderingEngineId:on.renderingEngineId,viewportId:on.viewportId,camera:{},startPointsList:Z0(on.startPointsList),lastPointsList:Z0(n),currentPointsList:e,startPoints:i0(on.startPointsList),lastPoints:i0(n),currentPoints:i0(e),deltaPoints:r,deltaDistance:a};Lc(i.element,wP,i),sPe(t),on=JSON.parse(JSON.stringify(bq)),document.removeEventListener("touchmove",Oq),document.removeEventListener("touchend",Rq)}function sPe(t){const e=new Date().getTime(),n=on.startTime.getTime();if(e-n>wa.tapToleranceMs||(wa.taps===0&&(wa.element=on.element,wa.renderingEngineId=on.renderingEngineId,wa.viewportId=on.viewportId,wa.startPointsList=on.startPointsList),wa.taps>0&&!(wa.element==on.element&&wa.renderingEngineId==on.renderingEngineId&&wa.viewportId==on.viewportId)))return;const r=Ey(t,wa.element);Tq(r,wa.startPointsList).canvas>wa.tapMaxDistance||(clearTimeout(wa.tapTimeout),wa.taps+=1,wa.tapTimeout=setTimeout(()=>{const i={event:t,eventName:bP,element:wa.element,renderingEngineId:wa.renderingEngineId,viewportId:wa.viewportId,camera:{},currentPointsList:r,currentPoints:i0(r),taps:wa.taps};Lc(i.element,bP,i),wa=JSON.parse(JSON.stringify(Eq))},wa.tapToleranceMs))}function lPe(t,e){const n=new Date().getTime(),r=on.startTime.getTime();if(on.swiped||n-r>on.swipeToleranceMs)return;const[a,i]=e.canvas,o={event:t,eventName:Q8,renderingEngineId:on.renderingEngineId,viewportId:on.viewportId,camera:{},element:on.element,swipe:null};Math.abs(a)>on.swipeDistanceThreshold&&(o.swipe=a>0?Od.RIGHT:Od.LEFT,Lc(o.element,Q8,o),on.swiped=!0),Math.abs(i)>on.swipeDistanceThreshold&&(o.swipe=i>0?Od.DOWN:Od.UP,Lc(o.element,Q8,o),on.swiped=!0)}function Iq(t,e){const{viewport:n}=yn(t);return e.map(r=>{const a=n.canvasToWorld(r.canvas);return{page:r.page,client:r.client,canvas:r.canvas,world:a,touch:r.touch}})}function Aq(t){xq.disable(t),t.removeEventListener("touchstart",Dq)}function cPe(t){Aq(t),xq.enable(t),t.addEventListener("touchstart",Dq,{passive:!1})}const Mq={enable:cPe,disable:Aq},EP=10,DP=40,OP=800;function uPe(t){let e=0,n=0,r=0,a=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),r=e*EP,a=n*EP,"deltaY"in t&&(a=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||a)&&t.deltaMode&&(t.deltaMode===1?(r*=DP,a*=DP):(r*=OP,a*=OP)),r&&!e&&(e=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:a}}function Pq(t){const e=t.currentTarget,n=yn(e),{renderingEngineId:r,viewportId:a}=n;if(t.deltaY>-1&&t.deltaY<1)return;t.preventDefault();const{spinX:i,spinY:o,pixelX:s,pixelY:l}=uPe(t),c=o<0?-1:1,f={event:t,eventName:ot.MOUSE_WHEEL,renderingEngineId:r,viewportId:a,element:e,camera:{},detail:t,wheel:{spinX:i,spinY:o,pixelX:s,pixelY:l,direction:c},points:If(t)};_t(e,ot.MOUSE_WHEEL,f)}function fPe(t){Lq(t),t.addEventListener("wheel",Pq,{passive:!1})}function Lq(t){t.removeEventListener("wheel",Pq)}const _q={enable:fPe,disable:Lq},dPe={renderingEngineId:void 0,viewportId:void 0,key:void 0,keyCode:void 0,element:null};let Pa={renderingEngineId:void 0,viewportId:void 0,key:void 0,keyCode:void 0,element:null};function Dy(t){Pa.element=t.currentTarget;const e=yn(Pa.element),{renderingEngineId:n,viewportId:r}=e;Pa.renderingEngineId=n,Pa.viewportId=r,Pa.key=t.key,Pa.keyCode=t.keyCode,t.preventDefault();const a={renderingEngineId:Pa.renderingEngineId,viewportId:Pa.viewportId,element:Pa.element,key:Pa.key,keyCode:Pa.keyCode};_t(a.element,ot.KEY_DOWN,a),document.addEventListener("keyup",Nq),document.addEventListener("visibilitychange",Lb),Pa.element.removeEventListener("keydown",Dy)}function Lb(){document.removeEventListener("visibilitychange",Lb),document.visibilityState==="hidden"&&Fq()}function Nq(t){const e={renderingEngineId:Pa.renderingEngineId,viewportId:Pa.viewportId,element:Pa.element,key:Pa.key,keyCode:Pa.keyCode};document.removeEventListener("keyup",Nq),document.removeEventListener("visibilitychange",Lb),Pa.element.addEventListener("keydown",Dy),Pa=structuredClone(dPe),_t(e.element,ot.KEY_UP,e)}function gPe(){return Pa.keyCode}function Fq(){Pa.keyCode=void 0}function mPe(t){$q(t),t.addEventListener("keydown",Dy)}function $q(t){t.removeEventListener("keydown",Dy)}const hg={enable:mPe,disable:$q,getModifierKey:gPe},vPe=new Map,pPe=t=>{const e=vPe.get(t);e&&(e.isDirty=!0)};function Oy(t,e,n){const r={segmentationId:t,modifiedSlicesToUse:e,segmentIndex:n};pPe(t),_t(Vt,ot.SEGMENTATION_DATA_MODIFIED,r)}function Ry(t){const e={segmentationId:t};_t(Vt,ot.SEGMENTATION_MODIFIED,e)}function hPe(t){const e={segmentationId:t};_t(Vt,ot.SEGMENTATION_REMOVED,e)}function qh(t,e,n){const r={segmentationId:e,type:n,viewportId:t};_t(Vt,ot.SEGMENTATION_REPRESENTATION_MODIFIED,r)}function RP(t,e,n){const r={viewportId:t,segmentationId:e,type:n};_t(Vt,ot.SEGMENTATION_REPRESENTATION_REMOVED,r)}const SPe={renderOutline:!0,outlineWidthAutoGenerated:3,outlineWidth:1,outlineWidthInactive:1,outlineOpacity:1,outlineOpacityInactive:.85,outlineDash:void 0,outlineDashInactive:void 0,outlineDashAutoGenerated:"5,3",activeSegmentOutlineWidthDelta:0,renderFill:!0,fillAlpha:.5,fillAlphaInactive:.3,fillAlphaAutoGenerated:.3};function yPe(){return SPe}const CPe={renderOutline:!0,renderOutlineInactive:!0,outlineWidth:3,outlineWidthInactive:2,activeSegmentOutlineWidthDelta:0,renderFill:!0,renderFillInactive:!0,fillAlpha:.5,fillAlphaInactive:.4,outlineOpacity:1,outlineOpacityInactive:.85};function xPe(){return CPe}class TPe{constructor(){this.config={global:{},segmentations:{},viewportsStyle:{}}}setStyle(e,n){const{viewportId:r,segmentationId:a,type:i,segmentIndex:o}=e,s=this.getStyle(e);let l;if(!r&&!a?l={...s,...n}:l=this.copyActiveToInactiveIfNotProvided({...s,...n},i),!i)throw new Error("Type is required to set a style");if(r){this.config.viewportsStyle[r]||(this.config.viewportsStyle[r]={renderInactiveSegmentations:!1,representations:{}});const c=this.config.viewportsStyle[r].representations;if(a){c[a]||(c[a]={}),c[a][i]||(c[a][i]={});const f=c[a][i];o!==void 0?(f.perSegment||(f.perSegment={}),f.perSegment[o]=l):f.allSegments=l}else{const f="__allSegmentations__";c[f]||(c[f]={}),c[f][i]||(c[f][i]={}),c[f][i].allSegments=l}}else if(a){this.config.segmentations[a]||(this.config.segmentations[a]={}),this.config.segmentations[a][i]||(this.config.segmentations[a][i]={});const c=this.config.segmentations[a][i];o!==void 0?(c.perSegment||(c.perSegment={}),c.perSegment[o]=l):c.allSegments=l}else this.config.global[i]=l}copyActiveToInactiveIfNotProvided(e,n){const r={...e};if(n===Un.Labelmap){const a=r;a.renderOutlineInactive??(a.renderOutlineInactive=a.renderOutline),a.outlineWidthInactive??(a.outlineWidthInactive=a.outlineWidth),a.renderFillInactive??(a.renderFillInactive=a.renderFill),a.fillAlphaInactive??(a.fillAlphaInactive=a.fillAlpha),a.outlineOpacityInactive??(a.outlineOpacityInactive=a.outlineOpacity)}else if(n===Un.Contour){const a=r;a.outlineWidthInactive??(a.outlineWidthInactive=a.outlineWidth),a.outlineOpacityInactive??(a.outlineOpacityInactive=a.outlineOpacity),a.outlineDashInactive??(a.outlineDashInactive=a.outlineDash),a.renderOutlineInactive??(a.renderOutlineInactive=a.renderOutline),a.renderFillInactive??(a.renderFillInactive=a.renderFill),a.fillAlphaInactive??(a.fillAlphaInactive=a.fillAlpha)}return r}getStyle(e){var s,l,c,f,u;const{viewportId:n,segmentationId:r,type:a,segmentIndex:i}=e;let o=this.getDefaultStyle(a);if(this.config.global[a]&&(o={...o,...this.config.global[a]}),(s=this.config.segmentations[r])!=null&&s[a]&&(o={...o,...this.config.segmentations[r][a].allSegments},i!==void 0&&((l=this.config.segmentations[r][a].perSegment)!=null&&l[i])&&(o={...o,...this.config.segmentations[r][a].perSegment[i]})),n&&this.config.viewportsStyle[n]){this.config.viewportsStyle[n].renderInactiveSegmentations;const d="__allSegmentations__";(c=this.config.viewportsStyle[n].representations[d])!=null&&c[a]&&(o={...o,...this.config.viewportsStyle[n].representations[d][a].allSegments}),r&&((f=this.config.viewportsStyle[n].representations[r])!=null&&f[a])&&(o={...o,...this.config.viewportsStyle[n].representations[r][a].allSegments},i!==void 0&&((u=this.config.viewportsStyle[n].representations[r][a].perSegment)!=null&&u[i])&&(o={...o,...this.config.viewportsStyle[n].representations[r][a].perSegment[i]}))}return o}getRenderInactiveSegmentations(e){var n;return(n=this.config.viewportsStyle[e])==null?void 0:n.renderInactiveSegmentations}setRenderInactiveSegmentations(e,n){this.config.viewportsStyle[e]||(this.config.viewportsStyle[e]={renderInactiveSegmentations:!1,representations:{}}),this.config.viewportsStyle[e].renderInactiveSegmentations=n}getDefaultStyle(e){switch(e){case Un.Labelmap:return xPe();case Un.Contour:return yPe();case Un.Surface:return{};default:throw new Error(`Unknown representation type: ${e}`)}}clearSegmentationStyle(e){this.config.segmentations[e]&&delete this.config.segmentations[e]}clearAllSegmentationStyles(){this.config.segmentations={}}clearViewportStyle(e){this.config.viewportsStyle[e]&&delete this.config.viewportsStyle[e]}clearAllViewportStyles(){for(const e in this.config.viewportsStyle){const r=this.config.viewportsStyle[e].renderInactiveSegmentations;this.config.viewportsStyle[e]={renderInactiveSegmentations:r,representations:{}}}}resetToGlobalStyle(){this.clearAllSegmentationStyles(),this.clearAllViewportStyles()}hasCustomStyle(e){const{type:n}=e,r=this.getStyle(e),a=this.getDefaultStyle(n);return!lH(r,a)}}const Jd=new TPe;function wPe(t){const e={segmentationId:t};_t(Vt,ot.SEGMENTATION_ADDED,e)}const IP={colorLUT:[],segmentations:[],viewportSegRepresentations:{}};class bPe{constructor(e){this._stackLabelmapImageIdReferenceMap=new Map,e||(e=Li()),this.state=Object.freeze(Es(IP)),this.uid=e}getState(){return this.state}updateState(e){const n=Es(this.state);e(n),this.state=Object.freeze(n)}getColorLUT(e){return this.state.colorLUT[e]}getNextColorLUTIndex(){return this.state.colorLUT.length}resetState(){this.state=Object.freeze(Es(IP))}getSegmentation(e){return this.state.segmentations.find(n=>n.segmentationId===e)}updateSegmentation(e,n){this.updateState(r=>{const a=r.segmentations.find(i=>i.segmentationId===e);if(!a){console.warn(`Segmentation with id ${e} not found. Update aborted.`);return}Object.assign(a,n)}),Ry(e)}addSegmentation(e){if(this.getSegmentation(e.segmentationId))throw new Error(`Segmentation with id ${e.segmentationId} already exists`);this.updateState(n=>{const r=Es(e);if(r.representationData.Labelmap&&"volumeId"in r.representationData.Labelmap&&!("imageIds"in r.representationData.Labelmap)){const a=this.getLabelmapImageIds(r.representationData);r.representationData.Labelmap.imageIds=a}n.segmentations.push(r)}),wPe(e.segmentationId)}removeSegmentation(e){this.updateState(n=>{const r=n.segmentations.filter(a=>a.segmentationId!==e);n.segmentations.splice(0,n.segmentations.length,...r)}),hPe(e)}addSegmentationRepresentation(e,n,r,a){if(!pi(e))return;if(this.getSegmentationRepresentations(e,{type:r,segmentationId:n}).length>0){console.debug("A segmentation representation of type",r,"already exists in viewport",e,"for segmentation",n);return}this.updateState(s=>{s.viewportSegRepresentations[e]||(s.viewportSegRepresentations[e]=[],Jd.setRenderInactiveSegmentations(e,!0)),r!==Un.Labelmap?this.addDefaultSegmentationRepresentation(s,e,n,r,a):this.addLabelmapRepresentation(s,e,n,a)}),qh(e,n,r)}addDefaultSegmentationRepresentation(e,n,r,a,i){const o=e.segmentations.find(l=>l.segmentationId===r);if(!o)return;const s={};Object.keys(o.segments).forEach(l=>{s[Number(l)]={visible:!0}}),e.viewportSegRepresentations[n].push({segmentationId:r,type:a,active:!0,visible:!0,colorLUTIndex:(i==null?void 0:i.colorLUTIndex)||0,segments:s,config:{...AP(a),...i}}),this._setActiveSegmentation(e,n,r)}addLabelmapRepresentation(e,n,r,a=AP(Un.Labelmap)){if(!pi(n))return;const o=this.getSegmentation(r);if(!o)return;const{representationData:s}=o;if(!s.Labelmap)return this.addDefaultSegmentationRepresentation(e,n,r,Un.Labelmap,a);this.processLabelmapRepresentationAddition(n,r),this.addDefaultSegmentationRepresentation(e,n,r,Un.Labelmap,a)}async processLabelmapRepresentationAddition(e,n){const r=pi(e);if(!r)return;const a=this.getSegmentation(n);if(!a)return;const i=r.viewport instanceof fs,{representationData:o}=a,s="volumeId"in o.Labelmap;r.viewport,!i&&!s&&this.updateLabelmapSegmentationImageReferences(e,a.segmentationId)}_updateLabelmapSegmentationReferences(e,n,r,a){const i=n.getCurrentImageId();let o=!1;for(const s of r)n.isReferenceViewable({referencedImageId:s},{asOverlay:!0})&&(o=!0,this._stackLabelmapImageIdReferenceMap.get(e).set(i,s));return a&&a(n,e,r),o?this._stackLabelmapImageIdReferenceMap.get(e).get(i):void 0}updateLabelmapSegmentationImageReferences(e,n){const r=this.getSegmentation(n);if(!r)return;this._stackLabelmapImageIdReferenceMap.has(n)||this._stackLabelmapImageIdReferenceMap.set(n,new Map);const{representationData:a}=r;if(!a.Labelmap)return;const i=this.getLabelmapImageIds(a),s=pi(e).viewport;return this._updateLabelmapSegmentationReferences(n,s,i,null)}_updateAllLabelmapSegmentationImageReferences(e,n){const r=this.getSegmentation(n);if(!r)return;this._stackLabelmapImageIdReferenceMap.has(n)||this._stackLabelmapImageIdReferenceMap.set(n,new Map);const{representationData:a}=r;if(!a.Labelmap)return;const i=this.getLabelmapImageIds(a),s=pi(e).viewport;this._updateLabelmapSegmentationReferences(n,s,i,(l,c,f)=>{l.getImageIds().forEach((d,g)=>{for(const v of f)l.isReferenceViewable({referencedImageId:v,sliceIndex:g},{asOverlay:!0,withNavigation:!0})&&this._stackLabelmapImageIdReferenceMap.get(c).set(d,v)})})}getLabelmapImageIds(e){const n=e.Labelmap;let r;if(n.imageIds)r=n.imageIds;else if(!r&&n.volumeId){const a=n.volumeId;r=Yt.getVolume(a).imageIds}return r}getCurrentLabelmapImageIdForViewport(e,n){const r=pi(e);if(!r||!this._stackLabelmapImageIdReferenceMap.has(n))return;const i=r.viewport.getCurrentImageId();return this._stackLabelmapImageIdReferenceMap.get(n).get(i)}getStackSegmentationImageIdsForViewport(e,n){if(!this.getSegmentation(n))return[];this._updateAllLabelmapSegmentationImageReferences(e,n);const{viewport:a}=pi(e),i=a.getImageIds(),o=this._stackLabelmapImageIdReferenceMap.get(n);return i.map(s=>o.get(s))}removeSegmentationRepresentationsInternal(e,n){const r=[];return this.updateState(a=>{if(!a.viewportSegRepresentations[e])return;const i=a.viewportSegRepresentations[e];let o=!1;if(!n||Object.values(n).every(s=>s===void 0))r.push(...i),delete a.viewportSegRepresentations[e];else{const{segmentationId:s,type:l}=n;a.viewportSegRepresentations[e]=i.filter(c=>{const f=s&&l&&c.segmentationId===s&&c.type===l||s&&!l&&c.segmentationId===s||!s&&l&&c.type===l;return f&&(r.push(c),c.active&&(o=!0)),!f}),a.viewportSegRepresentations[e].length===0?delete a.viewportSegRepresentations[e]:o&&(a.viewportSegRepresentations[e][0].active=!0)}}),r}removeSegmentationRepresentations(e,n){const r=this.removeSegmentationRepresentationsInternal(e,n);r.forEach(i=>{RP(e,i.segmentationId,i.type)});const a=this.getSegmentationRepresentations(e);return a.length>0&&a[0].active&&qh(e,a[0].segmentationId,a[0].type),r}removeSegmentationRepresentation(e,n,r){const a=this.removeSegmentationRepresentationsInternal(e,n);return r||a.forEach(({segmentationId:i,type:o})=>{RP(e,i,o)}),a}_setActiveSegmentation(e,n,r){const a=e.viewportSegRepresentations[n];a&&a.forEach(i=>{i.active=i.segmentationId===r})}setActiveSegmentation(e,n){this.updateState(r=>{const a=r.viewportSegRepresentations[e];a&&a.forEach(i=>{i.active=i.segmentationId===n})}),qh(e,n)}getActiveSegmentation(e){if(!this.state.viewportSegRepresentations[e])return;const n=this.state.viewportSegRepresentations[e].find(r=>r.active);if(n)return this.getSegmentation(n.segmentationId)}getSegmentationRepresentations(e,n={}){const r=this.state.viewportSegRepresentations[e];return r?!n.type&&!n.segmentationId?r:r.filter(a=>{const i=n.type?a.type===n.type:!0,o=n.segmentationId?a.segmentationId===n.segmentationId:!0;return i&&o}):[]}getSegmentationRepresentation(e,n){return this.getSegmentationRepresentations(e,n)[0]}getSegmentationRepresentationVisibility(e,n){const r=this.getSegmentationRepresentation(e,n);return r==null?void 0:r.visible}setSegmentationRepresentationVisibility(e,n,r){this.updateState(a=>{const i=this.getSegmentationRepresentations(e,n);i&&i.forEach(o=>{o.visible=r,Object.entries(o.segments).forEach(([s,l])=>{l.visible=r})})}),qh(e,n.segmentationId,n.type)}addColorLUT(e,n){this.updateState(r=>{r.colorLUT[n]&&console.warn("Color LUT table already exists, overwriting"),r.colorLUT[n]=Es(e)})}removeColorLUT(e){this.updateState(n=>{delete n.colorLUT[e]})}_getStackIdForImageIds(e){return e.map(n=>n.slice(-Math.round(n.length*.15))).join("_")}getAllViewportSegmentationRepresentations(){return Object.entries(this.state.viewportSegRepresentations).map(([e,n])=>({viewportId:e,representations:n}))}getSegmentationRepresentationsBySegmentationId(e){const n=[];return Object.entries(this.state.viewportSegRepresentations).forEach(([r,a])=>{const i=a.filter(o=>o.segmentationId===e);i.length>0&&n.push({viewportId:r,representations:i})}),n}}function AP(t){const e=Pc.newInstance(),n=M1.newInstance();return n.addPoint(0,0),t===Un.Labelmap?{cfun:e,ofun:n}:{}}const S0=new bPe("DEFAULT");function Qu(t,e={}){return S0.getSegmentationRepresentations(t,e)}function EPe(t,e){const n=S0;if(!e.segmentationId||!e.type)throw new Error("getSegmentationRepresentation: No segmentationId or type provided, you need to provide at least one of them");const r=n.getSegmentationRepresentations(t,e);return r==null?void 0:r[0]}function Vq(t,e,n){const r=pi(t);if(!r)return;const{renderingEngine:a,viewport:i}=r;if(!a||!i)return;const s=i.getActors().filter(n);return s.length>0?s[0]:void 0}function DPe(t,e){const n=e1(t,e);return n==null?void 0:n.uid}function e1(t,e){return Vq(t,e,n=>{var r;return(r=n.representationUID)==null?void 0:r.startsWith(`${e}-${Un.Labelmap}`)})}function kq(t,e,n){return Vq(t,e,r=>r.representationUID===Uq(e,n))}function OPe(t,e,n){const a=kq(t,e,"");return a==null?void 0:a.uid}function Uq(t,e){return`${t}-${Un.Surface}-${e}`}function RPe(t,e){const n=yn(t),{viewport:r}=n,i=r.getActors().filter(o=>o.uid.startsWith(OPe(r.id,e)));r.removeActors(i.map(o=>o.uid))}function IPe(t,e,n){const r=yn(t),{viewport:a}=r,i=kq(a.id,n,e.segmentIndex),o=i==null?void 0:i.actor,s=e.visible;if(o){if(o.setVisibility(s),!s)return;const h=o.getMapper(),y=h.getInputData(),C=e.points,x=e.polys,T=y.getPoints().getData(),w=y.getPolys().getData();if(C.length===T.length&&x.length===w.length)return;const b=Y0.newInstance();b.getPoints().setData(C,3);const E=ff.newInstance({values:Float32Array.from(x)});b.setPolys(E),h.setInputData(b),h.modified(),a.getRenderer().resetCameraClippingRange();return}const l=e.points,c=e.polys,f=e.color,u=Y0.newInstance();u.getPoints().setData(l,3);const d=ff.newInstance({values:Float32Array.from(c)});u.setPolys(d);const g=hz.newInstance({});let v;g.setInputData(u);const m=uxe.newInstance();m.setMapper(g),m.getProperty().setColor(f[0]/255,f[1]/255,f[2]/255),m.getProperty().setLineWidth(2);const p=Uq(n,e.segmentIndex);a.addActor({uid:Li(),actor:m,clippingFilter:v,representationUID:p}),a.resetCamera(),a.getRenderer().resetCameraClippingRange(),a.render()}function Bo(t){return S0.getSegmentation(t)}function _b(t){return S0.getColorLUT(t)}let yx={};function APe(t){yx=t}let MP=!1;function J0(){var e;if(!((e=yx.addons)!=null&&e.polySeg))return console.warn("PolySeg add-on not configured. This will prevent automatic conversion between segmentation representations (labelmap, contour, surface). To enable these features, install @cornerstonejs/polymorphic-segmentation and register it during initialization: cornerstoneTools.init({ addons: { polySeg } })."),null;const t=yx.addons.polySeg;return MP||(t.init(),MP=!0),t}function MPe({segmentationId:t,type:e,data:n}){const r=Bo(t);if(!r)throw new Error(`Segmentation ${t} not found`);switch(r.representationData[e]&&console.warn(`Representation data of type ${e} already exists for segmentation ${t}, overwriting it.`),e){case Un.Labelmap:n&&(r.representationData[e]=n);break;case Un.Contour:n&&(r.representationData[e]=n);break;case Un.Surface:n&&(r.representationData[e]=n);break;default:throw new Error(`Invalid representation type ${e}`)}}function Bq(t){const e=typeof t;return t!==null&&(e==="object"||e==="function")}function Gq(t,e,n){let r,a,i,o,s,l,c=0,f=!1,u=!1,d=!0;const g=!e&&e!==0&&typeof window.requestAnimationFrame=="function";if(typeof t!="function")throw new TypeError("Expected a function");e=Number(e)||0,Bq(n)&&(f=!!n.leading,u="maxWait"in n,i=u?Math.max(Number(n.maxWait)||0,e):i,d="trailing"in n?!!n.trailing:d);function v(D){const R=r,I=a;return r=a=void 0,c=D,o=t.apply(I,R),o}function m(D,R){return g?window.requestAnimationFrame(D):setTimeout(D,R)}function p(D){if(g)return window.cancelAnimationFrame(D);clearTimeout(D)}function h(D){return c=D,s=m(x,e),f?v(D):o}function y(D){const R=D-l,I=D-c,M=e-R;return u?Math.min(M,i-I):M}function C(D){const R=D-l,I=D-c;return l===void 0||R>=e||R<0||u&&I>=i}function x(){const D=Date.now();if(C(D))return T(D);s=m(x,y(D))}function T(D){return s=void 0,d&&r?v(D):(r=a=void 0,o)}function w(){s!==void 0&&p(s),c=0,r=l=a=s=void 0}function b(){return s===void 0?o:T(Date.now())}function E(){return s!==void 0}function O(...D){const R=Date.now(),I=C(R);if(r=D,a=this,l=R,I){if(s===void 0)return h(l);if(u)return s=m(x,e),v(l)}return s===void 0&&(s=m(x,e)),o}return O.cancel=w,O.flush=b,O.pending=E,O}const Q2=new Map;async function Nb(t,e,n,r,a){const i=await n();MPe({segmentationId:t,type:e,data:i}),a==null||a(),Q2.has(t)||Q2.set(t,[]);const o=Q2.get(t);return o.includes(e)||o.push(e),PPe(r),Ry(t),i}function PPe(t){const e=n=>{LPe(n,t)};t._debouncedUpdateFunction=e,Vt.removeEventListener(ot.SEGMENTATION_DATA_MODIFIED,t._debouncedUpdateFunction),Vt.addEventListener(ot.SEGMENTATION_DATA_MODIFIED,t._debouncedUpdateFunction)}const LPe=Gq((t,e)=>{const n=t.detail.segmentationId,r=Q2.get(n);!r||!r.length||(e(n),r.length&&Ry(n))},300);function Fb(t,e){const n=EPe(t,e);return n?Object.entries(n.segments).reduce((a,[i,o])=>(o.visible||a.add(Number(i)),a),new Set):new Set}function _Pe(t,e,n=!1){const r=pi(t);if(!r)return;const{viewport:a}=r;RPe(a.element,e),n&&a.render()}async function NPe(t,e){var c;const{segmentationId:n,type:r}=e,a=Bo(n);if(!a)return;let i=a.representationData[Un.Surface];if(!i&&((c=J0())!=null&&c.canComputeRequestedRepresentation(n,Un.Surface))){const f=J0();if(i=await Nb(n,Un.Surface,()=>f.computeSurfaceData(n,{viewport:t}),()=>f.updateSurfaceData(n,{viewport:t})),!i)throw new Error(`No Surface data found for segmentationId ${n} even we tried to compute it`)}else!i&&!J0()&&console.debug(`No surface data found for segmentationId ${n} and PolySeg add-on is not configured. Unable to convert from other representations to surface. Please register PolySeg using cornerstoneTools.init({ addons: { polySeg } }) to enable automatic conversion.`);if(!i){console.warn(`No Surface data found for segmentationId ${n}. Skipping render.`);return}const{geometryIds:o}=i;o!=null&&o.size||console.warn(`No Surfaces found for segmentationId ${n}. Skipping render.`);const{colorLUTIndex:s}=e,l=_b(s);o.forEach(f=>{const u=Yt.getGeometry(f);if(!(u!=null&&u.data)){console.warn(`No Surfaces found for geometryId ${f}. Skipping render.`);return}const d=u.data.segmentIndex,v=Fb(t.id,{segmentationId:n,type:r}).has(d),m=u.data,p=l[d];m.color=p.slice(0,3),m.visible=!v,IPe(t.element,m,n)}),t.render()}const FPe={render:NPe,removeRepresentation:_Pe};function $Pe(t,e,n){const r=t.getImageIds();if(!r||!r.length)return;const a=r.map(i=>{const{imagePositionPatient:o}=tn("imagePlaneModule",i),s=VPe(e,o,n);return{imageId:i,distance:s}});return a.sort((i,o)=>i.distance-o.distance),a[0].imageId}function VPe(t,e,n){const r=Xt();Ca(r,t,e);const a=Ln(r,n);return Math.abs(a)}function kPe(t,e){const{segmentation:n}=t.data,{segmentation:r}=e.data;return n.segmentationId===r.segmentationId&&n.segmentIndex===r.segmentIndex}function Iy(t){var e;return!!((e=t.data)!=null&&e.segmentation)}function k1(t){if(t.parentAnnotationUID)return;if(!t.data.segmentation)throw new Error("addContourSegmentationAnnotation: annotation does not have a segmentation data");const{segmentationId:e,segmentIndex:n}=t.data.segmentation,r=Bo(e);r.representationData.Contour||(r.representationData.Contour={annotationUIDsMap:new Map});let{annotationUIDsMap:a}=r.representationData.Contour;a||(a=new Map);let i=a==null?void 0:a.get(n);i||(i=new Set,a.set(n,i)),a.set(n,i.add(t.annotationUID))}function $b(t){if(!t.data.segmentation)throw new Error("removeContourSegmentationAnnotation: annotation does not have a segmentation data");const{segmentationId:e,segmentIndex:n}=t.data.segmentation,r=Bo(e),{annotationUIDsMap:a}=(r==null?void 0:r.representationData.Contour)||{},i=a==null?void 0:a.get(n);i&&(i.delete(t.annotationUID),i.size||a.delete(n))}function UPe(t){if(!t)throw new Error(`No contours found for geometryId ${t.id}`);const e=t.id;if(t.type!==gU.CONTOUR)throw new Error(`Geometry type ${t.type} not supported for rendering.`);if(!t.data){console.warn(`No contours found for geometryId ${e}. Skipping render.`);return}}function BPe(t,e,n,r){n.size?t.render():GPe(t,e,r)}function GPe(t,e,n){const{segmentationId:r}=n,a=new Map;e.forEach(i=>{const o=Yt.getGeometry(i);if(!o){console.warn(`No geometry found for geometryId ${i}. Skipping render.`);return}const s=o.data.segmentIndex;UPe(o);const l=Jd.getStyle({viewportId:t.id,segmentationId:r,type:Un.Contour,segmentIndex:s}),c=o.data,f=t.getCamera().viewPlaneNormal;c.contours.forEach(u=>{const{points:d,color:g,id:v}=u,m=$Pe(t,d[0],f),p={annotationUID:Li(),data:{contour:{closed:!0,polyline:d},segmentation:{segmentationId:r,segmentIndex:s,color:g,id:v},handles:{}},handles:{},highlighted:!1,autoGenerated:!1,invalidated:!1,isLocked:!0,isVisible:!0,metadata:{referencedImageId:m,toolName:"PlanarFreehandContourSegmentationTool",FrameOfReferenceUID:t.getFrameOfReferenceUID(),viewPlaneNormal:t.getCamera().viewPlaneNormal}},h=t.element;$1(p,h),k1(p)}),l&&a.set(s,l)}),t.resetCamera(),t.render()}class zPe{constructor(e){this.getGroupKey=n=>{if(typeof n=="string")return n;const a=yn(n);if(!a)throw new Error("Element not enabled, you must have an enabled element if you are not providing a FrameOfReferenceUID");return a.FrameOfReferenceUID},this._imageVolumeModifiedHandler=n=>{const r=n.detail,{FrameOfReferenceUID:a}=r,o=this.annotations[a];o&&Object.keys(o).forEach(s=>{o[s].forEach(c=>{c.invalidated!==void 0&&(c.invalidated=!0)})})},this.getFramesOfReference=()=>Object.keys(this.annotations),this.getAnnotations=(n,r)=>{const a=this.annotations;return a[n]?r?a[n][r]?a[n][r]:[]:a[n]:[]},this.getAnnotation=n=>{const r=this.annotations;for(const a in r){const i=r[a];for(const o in i){const s=i[o];for(const l of s)if(n===l.annotationUID)return l}}},this.getNumberOfAnnotations=(n,r)=>{const a=this.getAnnotations(n,r);if(!a.length)return 0;if(r)return a.length;let i=0;for(const o in a)i+=a[o].length;return i},this.addAnnotation=(n,r)=>{const{metadata:a}=n,{FrameOfReferenceUID:i,toolName:o}=a;r=r||i;const s=this.annotations;let l=s[r];l||(s[r]={},l=s[r]);let c=l[o];c||(l[o]=[],c=l[o]),this.preprocessingFn&&(n=this.preprocessingFn(n)),c.push(n)},this.removeAnnotation=n=>{const{annotations:r}=this;for(const a in r){const i=r[a];for(const o in i){const s=i[o],l=s.findIndex(c=>c.annotationUID===n);l!==-1&&(s.splice(l,1),s.length===0&&delete i[o])}Object.keys(i).length===0&&delete r[a]}},this.removeAnnotations=(n,r)=>{const a=this.annotations,i=[];if(!a[n])return i;if(r){const o=a[n][r];for(const s of o)this.removeAnnotation(s.annotationUID),i.push(s)}else for(const o in a[n]){const s=a[n][o];for(const l of s)this.removeAnnotation(l.annotationUID),i.push(l)}return i},this.saveAnnotations=(n,r)=>{const a=this.annotations;if(n&&r){const i=a[n];if(!i)return;const o=i[r];return structuredClone(o)}else if(n){const i=a[n];return structuredClone(i)}return structuredClone(a)},this.restoreAnnotations=(n,r,a)=>{const i=this.annotations;if(r&&a){let o=i[r];o||(i[r]={},o=i[r]),o[a]=n}else r?i[r]=n:this.annotations=structuredClone(n)},this.getAllAnnotations=()=>Object.values(this.annotations).map(n=>Object.values(n)).flat(2),this.getNumberOfAllAnnotations=()=>{let n=0;const r=this.annotations;for(const a in r){const i=r[a];for(const o in i){const s=i[o];n+=s.length}}return n},this.removeAllAnnotations=()=>{const n=[];for(const r of this.getAllAnnotations())this.removeAnnotation(r.annotationUID),n.push(r);return n},e||(e=Li()),this.annotations={},this.uid=e,Vt.addEventListener(It.IMAGE_VOLUME_MODIFIED,this._imageVolumeModifiedHandler)}setPreprocessingFn(e){this.preprocessingFn=e}}const WPe=new zPe("DEFAULT"),X2=new Set;function jPe(t,e=!0){const n=qPe();t&&(e?KPe(t,X2,n):QPe(t,X2,n)),XPe(n,X2)}function U1(t){return X2.has(t)}function HPe(t){const e=U1(t);return jPe(t,e),e}function qPe(){return Object.freeze({added:[],removed:[],locked:[]})}function KPe(t,e,n){if(!e.has(t)){e.add(t),n.added.push(t);const r=qi(t);r&&(r.isLocked=!0)}}function QPe(t,e,n){if(e.delete(t)){n.removed.push(t);const r=qi(t);r&&(r.isLocked=!1)}}function XPe(t,e){(t.added.length>0||t.removed.length>0)&&(e.forEach(n=>void t.locked.push(n)),_t(Vt,ot.ANNOTATION_LOCK_CHANGE,t))}const dc=new Set;function o0(t,e=!0,n=!1){e?YPe(t,n):zq(t)}function YPe(t,e=!1){const n=Wq();if(!e){jq(dc,n);const r=qi(t);r&&(r.isSelected=!0)}if(t&&!dc.has(t)){dc.add(t),n.added.push(t);const r=qi(t);r&&(r.isSelected=!0)}Hq(n,dc)}function zq(t){const e=Wq();if(t){if(dc.delete(t)){e.removed.push(t);const n=qi(t);n.isSelected=!1}}else jq(dc,e);Hq(e,dc)}function Ay(t){return dc.has(t)}function Wq(){return Object.freeze({added:[],removed:[],selection:[]})}function jq(t,e){t.forEach(n=>{if(t.delete(n)){e.removed.push(n);const r=qi(n);r&&(r.isSelected=!1)}})}function Hq(t,e){(t.added.length>0||t.removed.length>0)&&(e.forEach(n=>void t.selection.push(n)),_t(Vt,ot.ANNOTATION_SELECTION_CHANGE,t))}const ZPe=t=>(t.data||(t.data={}),t.data.handles||(t.data.handles={}),t.data.handles.textBox||(t.data.handles.textBox={}),t),JPe=t=>(t.data||(t.data={}),t.data.cachedStats||(t.data.cachedStats={}),t),Yv=new Set;function eLe(t,e=!0){const n=tLe();t&&(e?nLe(t,Yv,n):rLe(t,Yv,n)),aLe(n)}function _3(t){if(qi(t))return!Yv.has(t)}function tLe(){return Object.freeze({lastVisible:[],lastHidden:[],hidden:[]})}function nLe(t,e,n){if(e.delete(t)){n.lastVisible.push(t);const r=qi(t);r.isVisible=!0}}function rLe(t,e,n){e.has(t)||(e.add(t),Ay(t)&&zq(t),n.lastHidden.push(t))}function aLe(t){(t.lastHidden.length>0||t.lastVisible.length>0)&&(Yv.forEach(e=>void t.hidden.push(e)),_t(Vt,ot.ANNOTATION_VISIBILITY_CHANGE,t))}function iLe(t){const e=!Yv.has(t);return eLe(t,e),e}const Vb=WPe,oLe=t=>{t=ZPe(t),t=JPe(t);const e=t.annotationUID,n=HPe(e);t.isLocked=n;const r=iLe(e);return t.isVisible=r,t};Vb.setPreprocessingFn(oLe);Rb(Vb);function sLe(){Rb(Vb)}function lLe(t,e,n=!1){const r=Bo(e),{annotationUIDsMap:a}=r.representationData.Contour;a.forEach(i=>{i.forEach(o=>{gf(o)})})}let X8=!1;function cLe(t,e,n=!1){const r=pi(t);if(!r)return;const{viewport:a}=r;n&&(lLe(t,e),a.render())}async function uLe(t,e){var i,o;const{segmentationId:n}=e,r=Bo(n);if(!r)return;let a=r.representationData[Un.Contour];if(!a&&((i=J0())!=null&&i.canComputeRequestedRepresentation(n,Un.Contour))&&!X8){X8=!0;const s=J0();a=await Nb(n,Un.Contour,()=>s.computeContourData(n,{viewport:t}),()=>{}),X8=!1}else!a&&!J0()&&console.debug(`No contour data found for segmentationId ${n} and PolySeg add-on is not configured. Unable to convert from other representations to contour. Please register PolySeg using cornerstoneTools.init({ addons: { polySeg } }) to enable automatic conversion.`);a&&(o=a.geometryIds)!=null&&o.length&&BPe(t,a.geometryIds,a.annotationUIDsMap,e)}const fLe={render:uLe,removeRepresentation:cLe};function Zv(t,e){return S0.getCurrentLabelmapImageIdForViewport(t,e)}const PP=new Map,dLe=({cfun:t,ofun:e,actor:n})=>{n.getProperty().setRGBTransferFunction(1,t),n.getProperty().setScalarOpacity(1,e)};async function gLe({viewport:t,volumeInputs:e,segmentationId:n}){var b;const r=t.getDefaultActor(),{actor:a}=r,{uid:i,callback:o}=r,s=t.getVolumeId();if((b=PP.get(i))!=null&&b.added)return{uid:i,actor:a};const l=e,c=Yt.getVolume(l[0].volumeId);if(!c)throw new Error(`imageVolume with id: ${c.volumeId} does not exist`);const{volumeId:f}=l[0],u=await Mj(f);if(!u)throw new Error(`segImageVolume with id: ${u.volumeId} does not exist`);const d=u.voxelManager,{imageData:g}=u,v=Yt.getVolume(s),m=v.voxelManager,p=2,h=new Float32Array(p*v.voxelManager.getScalarDataLength()),y=g.getDimensions();for(let E=0;E<y[2];++E)for(let O=0;O<y[1];++O)for(let D=0;D<y[0];++D){const R=D+y[0]*(O+y[1]*E);h[R*p+0]=m.getAtIndex(R),h[R*p+1]=d.getAtIndex(R)}t.removeActors([i]);const C=a.getMapper(),x=ybe(C);a.setMapper(x),x.setBlendMode(zd.LABELMAP_EDGE_PROJECTION_BLEND);const T=x.getInputData().getPointData().getArray(0);T.setData(h),T.setNumberOfComponents(2),a.getProperty().setColorMixPreset(1),a.getProperty().setForceNearestInterpolation(1,!0),a.getProperty().setIndependentComponents(!0),t.addActor({actor:a,uid:i,callback:o,referencedId:s,representationUID:`${n}-${Un.Labelmap}`}),PP.set(i,{added:!0,segmentationRepresentationUID:`${n}`,originalBlendMode:t.getBlendMode()}),a.set({preLoad:dLe});function w(E){const{segmentationId:O,modifiedSlicesToUse:D}=E.detail,{representationData:R}=Bo(O),{volumeId:I}=R.Labelmap;if(I!==u.volumeId)return;const A=Yt.getVolume(I).voxelManager,B=x.getInputData().getPointData().getArray(0),L=B.getData(),F=2,_=g.getDimensions(),P=D!=null&&D.length?D:Array.from({length:_[2]},(N,k)=>k);for(const N of P)for(let k=0;k<_[1];++k)for(let H=0;H<_[0];++H){const K=H+_[0]*(k+_[1]*N);L[K*F+1]=A.getAtIndex(K)}B.setData(L)}return Vt.addEventListener(ot.SEGMENTATION_DATA_MODIFIED,w),Vt.addEventListener(ot.SEGMENTATION_REPRESENTATION_REMOVED,async E=>{Vt.removeEventListener(ot.SEGMENTATION_DATA_MODIFIED,w);const O=t.getActor(i),{element:D,id:R}=t;t.removeActors([i]);const I=await sx({volumeId:i,blendMode:zd.MAXIMUM_INTENSITY_BLEND,callback:({volumeActor:M})=>{O.callback&&O.callback({volumeActor:M,volumeId:f})}},D,R);t.addActor({actor:I,uid:i}),t.render()}),{uid:i,actor:a}}const{uuidv4:qq}=gl;async function mLe(t,e,n,r){const a=yn(t),{renderingEngine:i,viewport:o}=a,{id:s}=o,l=!0,c=!1,f=!0;if(o instanceof fs){const d=vLe(e,n);Yt.getVolume(d)||await pLe(e);let g=(r==null?void 0:r.blendMode)??zd.MAXIMUM_INTENSITY_BLEND,v=g===zd.LABELMAP_EDGE_PROJECTION_BLEND;if(v){const p=o.getVolumeId(),h=Yt.getVolume(p),C=Yt.getVolume(d).dimensions,x=h.dimensions;(C[0]!==x[0]||C[1]!==x[1]||C[2]!==x[2])&&(v=!1,g=zd.MAXIMUM_INTENSITY_BLEND,console.debug("Dimensions mismatch - falling back to regular volume addition"))}const m=[{volumeId:d,visibility:l,representationUID:`${n}-${Un.Labelmap}`,useIndependentComponents:v,blendMode:g}];if(!m[0].useIndependentComponents)await XEe(i,m,[s],c,f);else return await gLe({viewport:o,volumeInputs:m,segmentationId:n})}else{const d=[{imageId:Zv(o.id,n),representationUID:`${n}-${Un.Labelmap}`}];YEe(i,d,[s])}Oy(n)}function vLe(t,e){let{volumeId:n}=t;if(!n){n=qq();const r=Bo(e);r.representationData.Labelmap={...r.representationData.Labelmap,volumeId:n},t.volumeId=n,Ry(e)}return n}async function pLe(t){const e=t;if(!(e.imageIds.length>0))throw new Error("cannot create labelmap, no imageIds found for the volume labelmap");return await gbe(t.volumeId||qq(),e.imageIds)}function hLe(t,e){const n=yn(t),{viewport:r}=n;r.removeActors([DPe(r.id,e)])}function kb(t){return S0.getActiveSegmentation(t)}function SLe(t){return kb(t)}function Ub(t){const e=Bo(t);if(e){const n=Object.keys(e.segments).find(r=>e.segments[r].active);return n?Number(n):void 0}}const Y8=255,qm=new Map;let Z8=!1;function yLe(t,e,n=!1){const r=pi(t);if(qm.forEach((i,o)=>{o.includes(e)&&qm.delete(o)}),!r)return;const{viewport:a}=r;hLe(a.element,e),n&&a.render()}async function CLe(t,e){var s;const{segmentationId:n,config:r}=e,a=Bo(n);if(!a){console.warn("No segmentation found for segmentationId: ",n);return}let i=a.representationData[Un.Labelmap],o=e1(t.id,n);if(!i&&((s=J0())!=null&&s.canComputeRequestedRepresentation(n,Un.Labelmap))&&!Z8){Z8=!0;const l=J0();if(i=await Nb(n,Un.Labelmap,()=>l.computeLabelmapData(n,{viewport:t}),()=>null,()=>{S0.processLabelmapRepresentationAddition(t.id,n),setTimeout(()=>{Oy(n)},0)}),!i)throw new Error(`No labelmap data found for segmentationId ${n}.`);Z8=!1}else!i&&!J0()&&console.debug(`No labelmap data found for segmentationId ${n} and PolySeg add-on is not configured. Unable to convert from other representations to labelmap. Please register PolySeg using cornerstoneTools.init({ addons: { polySeg } }) to enable automatic conversion.`);if(i){if(t instanceof go)o||await _P(t,i,n,r),o=e1(t.id,n);else{if(!Zv(t.id,n))return;o||await _P(t,i,n,r),o=e1(t.id,n)}o&&xLe(t.id,o,e)}}function xLe(t,e,n){var T;const{segmentationId:r}=n,{cfun:a,ofun:i}=n.config,{colorLUTIndex:o}=n,s=SLe(t),l=(s==null?void 0:s.segmentationId)===r,c=Jd.getStyle({viewportId:t,type:Un.Labelmap,segmentationId:r}),f=Jd.getRenderInactiveSegmentations(t),u=_b(o),d=Math.min(256,u.length),{outlineWidth:g,renderOutline:v,outlineOpacity:m,activeSegmentOutlineWidthDelta:p}=LP(c,l),h=Fb(t,{segmentationId:r,type:Un.Labelmap});for(let w=0;w<d;w++){const b=w,E=u[b],D=Jd.getStyle({viewportId:t,type:Un.Labelmap,segmentationId:r,segmentIndex:b}),{fillAlpha:R,outlineWidth:I,renderFill:M,renderOutline:A}=LP(c,l,D),{forceOpacityUpdate:B,forceColorUpdate:L}=TLe(t,r,b,{fillAlpha:R,renderFill:M,renderOutline:A,segmentColor:E,outlineWidth:I,segmentsHidden:h,cfun:a,ofun:i});if(L&&a.addRGBPoint(b,E[0]/Y8,E[1]/Y8,E[2]/Y8),B)if(M){const F=h.has(b)?0:E[3]/255*R;i.removePoint(b),i.addPointLong(b,F,.5,1)}else i.addPointLong(b,.01,.5,1)}i.setClamping(!1);const y=e.actor,{preLoad:C}=((T=y.get)==null?void 0:T.call(y,"preLoad"))||{preLoad:null};if(C?C({cfun:a,ofun:i,actor:y}):(y.getProperty().setRGBTransferFunction(0,a),y.getProperty().setScalarOpacity(0,i),y.getProperty().setInterpolationTypeToNearest()),v){y.getProperty().setUseLabelOutline(v),y.getProperty().setLabelOutlineOpacity(m);const w=Ub(n.segmentationId),b=new Array(d-1);for(let E=1;E<d;E++){if(h.has(E)){b[E-1]=0;continue}b[E-1]=E===w?g+p:g}y.getProperty().setLabelOutlineThickness(b)}else y.getProperty().setLabelOutlineThickness(new Array(d-1).fill(0));const x=l||f;y.setVisibility(x)}function LP(t,e,n){const a={...t,...n||{}},i=e?a.fillAlpha:a.fillAlphaInactive,o=e?a.outlineWidth:a.outlineWidthInactive,s=e?a.renderFill:a.renderFillInactive,l=e?a.renderOutline:a.renderOutlineInactive,c=e?a.outlineOpacity:a.outlineOpacityInactive,f=a.activeSegmentOutlineWidthDelta;return{fillAlpha:i,outlineWidth:o,renderFill:s,renderOutline:l,outlineOpacity:c,activeSegmentOutlineWidthDelta:f}}function TLe(t,e,n,{fillAlpha:r,renderFill:a,renderOutline:i,segmentColor:o,outlineWidth:s,segmentsHidden:l,cfun:c,ofun:f}){const u=`${t}-${e}-${n}`,d=qm.get(u);if(!d)return qm.set(u,{fillAlpha:r,renderFill:a,renderOutline:i,outlineWidth:s,segmentColor:o.slice(),segmentsHidden:new Set(l),cfunMTime:c.getMTime(),ofunMTime:f.getMTime()}),{forceOpacityUpdate:!0,forceColorUpdate:!0};const{fillAlpha:g,renderFill:v,renderOutline:m,outlineWidth:p,segmentColor:h,segmentsHidden:y,cfunMTime:C,ofunMTime:x}=d,T=h[0]!==o[0]||h[1]!==o[1]||h[2]!==o[2],w=h[3]!==o[3]||g!==r||v!==a||m!==i||p!==s||y!==l;return(w||T)&&qm.set(u,{fillAlpha:r,renderFill:a,renderOutline:i,outlineWidth:s,segmentColor:o.slice(),segmentsHidden:new Set(l),cfunMTime:c.getMTime(),ofunMTime:f.getMTime()}),{forceOpacityUpdate:w,forceColorUpdate:T}}async function _P(t,e,n,r){return await mLe(t.element,e,n,r)||void 0}const wLe={render:CLe,removeRepresentation:yLe},{CalibrationTypes:qg}=v0,vu="px",bLe=[1,2,3,4],ELe=["3,3","4,7"],DLe={0:"px",1:"percent",2:"dB",3:"cm",4:"seconds",5:"hertz",6:"dB/seconds",7:"cm/sec",8:"cm²",9:"cm²/s",12:"degrees"},OLe=.001,Kg="²",RLe=(t,e)=>{const{calibration:n,hasPixelSpacing:r}=t;let a=r?"mm":vu,i=a+Kg,o=1,s="";if(!n||!n.type&&!n.sequenceOfUltrasoundRegions)return{unit:a,areaUnit:i,scale:o};if(n.type===qg.UNCALIBRATED)return{unit:vu,areaUnit:vu+Kg,scale:o};if(n.sequenceOfUltrasoundRegions){let c,f;if(Array.isArray(e)&&e.length===2)[c,f]=e;else if(typeof e=="function"){const p=e();c=p[0],f=p[1]}let u=n.sequenceOfUltrasoundRegions.filter(p=>c[0]>=p.regionLocationMinX0&&c[0]<=p.regionLocationMaxX1&&c[1]>=p.regionLocationMinY0&&c[1]<=p.regionLocationMaxY1&&f[0]>=p.regionLocationMinX0&&f[0]<=p.regionLocationMaxX1&&f[1]>=p.regionLocationMinY0&&f[1]<=p.regionLocationMaxY1);if(!(u!=null&&u.length))return{unit:a,areaUnit:i,scale:o};if(u=u.filter(p=>bLe.includes(p.regionDataType)&&ELe.includes(`${p.physicalUnitsXDirection},${p.physicalUnitsYDirection}`)),!u.length)return{unit:vu,areaUnit:vu+Kg,scale:o};const d=u[0],g=Math.abs(d.physicalDeltaX),v=Math.abs(d.physicalDeltaY);if(Da(g,v,OLe))o=1/g,s="US Region",a=DLe[d.physicalUnitsXDirection]||"unknown",i=a+Kg;else return{unit:vu,areaUnit:vu+Kg,scale:o}}else n.scale&&(o=n.scale);return[qg.ERMF,qg.USER,qg.ERROR,qg.PROJECTION].includes(n==null?void 0:n.type)&&(s=n.type),{unit:a+(s?` ${s}`:""),areaUnit:i+(s?` ${s}`:""),scale:o}};function ILe(t,e){return t.minX<=e.maxX&&t.maxX>=e.minX&&t.minY<=e.maxY&&t.maxY>=e.minY}class ALe{}const{PointsManager:NP}=gl,nn=class nn extends ALe{static statsInit(e){e.storePointData||(nn.pointsInShape=null)}};nn.max=[-1/0],nn.min=[1/0],nn.sum=[0],nn.count=0,nn.maxIJK=null,nn.maxLPS=null,nn.minIJK=null,nn.minLPS=null,nn.runMean=[0],nn.m2=[0],nn.pointsInShape=NP.create3(1024),nn.statsCallback=({value:e,pointLPS:n=null,pointIJK:r=null})=>{var i;Array.isArray(e)&&e.length>1&&nn.max.length===1&&(nn.max.push(nn.max[0],nn.max[0]),nn.min.push(nn.min[0],nn.min[0]),nn.sum.push(nn.sum[0],nn.sum[0]),nn.runMean.push(0,0),nn.m2.push(nn.m2[0],nn.m2[0])),nn.pointsInShape&&n&&((i=nn.pointsInShape)==null||i.push(n));const a=Array.isArray(e)?e:[e];nn.count+=1,nn.max.map((o,s)=>{const l=a[s],c=l-nn.runMean[s];nn.sum[s]+=l,nn.runMean[s]+=c/nn.count;const f=l-nn.runMean[s];nn.m2[s]+=c*f,nn.min[s]=Math.min(nn.min[s],l),l<nn.min[s]&&(nn.min[s]=l,s===0&&(nn.minIJK=r,nn.minLPS=n)),l>nn.max[s]&&(nn.max[s]=l,s===0&&(nn.maxIJK=r,nn.maxLPS=n))})},nn.getStatistics=e=>{const n=nn.sum.map(o=>o/nn.count),r=nn.m2.map(o=>Math.sqrt(o/nn.count)),a=(e==null?void 0:e.unit)||null,i={max:{name:"max",label:"Max Pixel",value:Kh(nn.max),unit:a,pointIJK:nn.maxIJK,pointLPS:nn.maxLPS},min:{name:"min",label:"Min Pixel",value:Kh(nn.min),unit:a,pointIJK:nn.minIJK,pointLPS:nn.minLPS},mean:{name:"mean",label:"Mean Pixel",value:Kh(n),unit:a},stdDev:{name:"stdDev",label:"Standard Deviation",value:Kh(r),unit:a},count:{name:"count",label:"Pixel Count",value:nn.count,unit:null},pointsInShape:nn.pointsInShape,array:[]};return i.array.push(i.max,i.mean,i.stdDev,i.stdDev,i.count),nn.max=[-1/0],nn.min=[1/0],nn.sum=[0],nn.m2=[0],nn.runMean=[0],nn.count=0,nn.maxIJK=null,nn.maxLPS=null,nn.minIJK=null,nn.minLPS=null,nn.pointsInShape=NP.create3(1024),i};let Cx=nn;function Kh(t){return t.length===1?t[0]:t}function mf(t,e){if(t.length!==e.length)throw Error("Both points should have the same dimensionality");const[n,r,a=0]=t,[i,o,s=0]=e,l=i-n,c=o-r,f=s-a;return l*l+c*c+f*f}function Kq(t,e){return Math.sqrt(mf(t,e))}function MLe(t,e,n){let r;const a=mf(t,e);if(t[0]===e[0]&&t[1]===e[1]&&(r=t),!r){const i=((n[0]-t[0])*(e[0]-t[0])+(n[1]-t[1])*(e[1]-t[1]))/a;i<0?r=t:i>1?r=e:r=[t[0]+i*(e[0]-t[0]),t[1]+i*(e[1]-t[1])]}return{point:[...r],distanceSquared:mf(n,r)}}function PLe(t,e,n){return MLe(t,e,n).distanceSquared}const Qg=.01;function J8(t,e,n){const r=t[0]<=e[0]?t[0]:e[0],a=t[0]>=e[0]?t[0]:e[0],i=t[1]<=e[1]?t[1]:e[1],o=t[1]>=e[1]?t[1]:e[1];if(!(n[0]>=r-Qg&&n[0]<=a+Qg&&n[1]>=i-Qg&&n[1]<=o+Qg))return!1;const l=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return(l>=0?l:-l)<=Qg}function Qq(t){if(t.length<3)return!1;const e=t.length,n=t[0],r=t[e-1],a=mf(n,r);return Uv(0,a)}function vf(t,e,n={closed:void 0}){if(t.length<3)return!1;const r=t.length;let a=0;const{closed:i,holes:o}=n;if(o!=null&&o.length){for(const c of o)if(vf(c,e))return!1}const s=!(i===void 0?Qq(t):i),l=t.length-(s?1:2);for(let c=0;c<=l;c++){const f=t[c],u=c===r-1?0:c+1,d=t[u],g=f[0]>=d[0]?f[0]:d[0],v=f[1]>=d[1]?f[1]:d[1],m=f[1]<=d[1]?f[1]:d[1];if(e[0]<=g&&e[1]>=m&&e[1]<v){let y=f[0]===d[0];if(!y){const C=(e[1]-f[1])*(d[0]-f[0])/(d[1]-f[1])+f[0];y=e[0]<=C}a+=y?1:0}}return!!(a%2)}function Bb(t,e){for(let n=0,r=e.length;n<r;n++)if(!vf(t,e[n]))return!1;return!0}function N3(t,e){let n=t;const r=(e==null?void 0:e.numDimensions)||2,a=r===3;if(!Array.isArray(t[0])){const u=t,d=u.length/r;n=new Array(u.length/r);for(let g=0,v=d;g<v;g++)n[g]=[u[g*r],u[g*r+1]],a&&n[g].push(u[g*r+2])}let i=1/0,o=1/0,s=-1/0,l=-1/0,c=1/0,f=-1/0;n=n;for(let u=0,d=n.length;u<d;u++){const[g,v,m]=n[u];i=i<g?i:g,o=o<v?o:v,s=s>g?s:g,l=l>v?l:v,a&&(c=c<m?c:m,f=f>m?f:m)}return a?{minX:i,maxX:s,minY:o,maxY:l,minZ:c,maxZ:f}:{minX:i,maxX:s,minY:o,maxY:l}}function Gb(t){const e=t.length;let n=0,r=e-1;for(let a=0;a<e;a++)n+=(t[r][0]+t[a][0])*(t[r][1]-t[a][1]),r=a;return Math.abs(n/2)}function zb(t){if(t.length<3)return 0;const e=t[0];let n=0;for(let r=0,a=t.length;r<a;r++){const i=t[r],o=r===a-1?0:r+1,s=t[o],l=i[0]-e[0],c=i[1]-e[1],f=s[0]-e[0],u=s[1]-e[1];n+=l*u-c*f}return n*=.5,n}function Y2(t){return zb(t)>=0?1:-1}function LLe(t){const e=Xt(),n=t[0];for(let r=0,a=t.length;r<a;r++){const i=t[r],o=r===a-1?0:r+1,s=t[o],l=i[0]-n[0],c=i[1]-n[1],f=i[2]-n[2],u=s[0]-n[0],d=s[1]-n[1],g=s[2]-n[2];e[0]+=c*g-f*d,e[1]+=f*u-l*g,e[2]+=l*d-c*u}return q0(e,e,.5),e}function _Le(t){const e=LLe(t);return Na(e,e)}function Jv(t){const e=zb(t);return[0,0,e/Math.abs(e)]}function Wb(t,e,n,r){let a=!1;const i=t[0]<e[0]?t[0]:e[0],o=t[1]<e[1]?t[1]:e[1],s=t[0]>e[0]?t[0]:e[0],l=t[1]>e[1]?t[1]:e[1],c=n[0]<r[0]?n[0]:r[0],f=n[1]<r[1]?n[1]:r[1],u=n[0]>r[0]?n[0]:r[0],d=n[1]>r[1]?n[1]:r[1];if(i>u||s<c||o>d||l<f)return!1;const g=[Qh(t,e,n),Qh(t,e,r),Qh(n,r,t),Qh(n,r,e)];return g[0]!==g[1]&&g[2]!==g[3]?!0:((g[0]===0&&Xh(t,n,e)||g[1]===0&&Xh(t,r,e)||g[2]===0&&Xh(n,t,r)||g[3]===0&&Xh(n,e,r))&&(a=!0),a)}function Qh(t,e,n){const r=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return r===0?0:r>0?1:2}function Xh(t,e,n){return e[0]<=Math.max(t[0],n[0])&&e[0]>=Math.min(t[0],n[0])&&e[1]<=Math.max(t[1],n[1])&&e[1]>=Math.min(t[1],n[1])}function jb(t,e,n,r=!0){const a=[],i=t.length,o=i-(r?1:2);for(let s=0;s<=o;s++){const l=t[s],c=s===i-1?0:s+1,f=t[c];Wb(e,n,l,f)&&a.push([s,c])}return a}const NLe=.01;function Xq(t,e,n,r){const a=[e[0]-t[0],e[1]-t[1]],i=[r[0]-n[0],r[1]-n[1]],o=i[1]*a[0]-i[0]*a[1];if((o>=0?o:-o)<NLe){const v=[t[0]<e[0]?t[0]:e[0],t[0]>e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[1]>e[1]?t[1]:e[1]],m=[n[0]<r[0]?n[0]:r[0],n[0]>r[0]?n[0]:r[0],n[1]<r[1]?n[1]:r[1],n[1]>r[1]?n[1]:r[1]];if(!(v[0]<=m[1]&&v[1]>=m[0]&&v[2]<=m[3]&&v[3]>=m[2])||!(J8(t,e,n)||J8(t,e,r)||J8(n,r,t)))return;const y=v[0]>m[0]?v[0]:m[0],C=v[1]<m[1]?v[1]:m[1],x=v[2]>m[2]?v[2]:m[2],T=v[3]<m[3]?v[3]:m[3],w=(y+C)*.5,b=(x+T)*.5;return[w,b]}let l=t[1]-n[1],c=t[0]-n[0];const f=i[0]*l-i[1]*c,u=a[0]*l-a[1]*c;l=f/o,c=u/o;const d=t[0]+l*a[0],g=t[1]+l*a[1];return[d,g]}var Xu;(function(t){t[t.Vertex=0]="Vertex",t[t.Intersection=1]="Intersection"})(Xu||(Xu={}));var t1;(function(t){t[t.Outside=-1]="Outside",t[t.Edge=0]="Edge",t[t.Inside=1]="Inside"})(t1||(t1={}));var Rd;(function(t){t[t.Exiting=-1]="Exiting",t[t.Unknown=0]="Unknown",t[t.Entering=1]="Entering"})(Rd||(Rd={}));function FP(t){for(let e=0,n=t.length;e<n;e++){const r=t[e];r.next||(r.next=t[e===n-1?0:e+1])}}function Yq(t,e){const n=[],r=[],a=new Map;let o=vf(e,t[0])?Rd.Exiting:Rd.Entering;for(let s=0,l=t.length;s<l;s++){const c=t[s],f=vf(e,c),u={type:Xu.Vertex,coordinates:c,position:f?t1.Inside:t1.Outside,visited:!1,next:null};n.push(u);const d=t[s===l-1?0:s+1],g=jb(e,c,d).map(v=>{const m=v[0],p=e[v[0]],h=e[v[1]],y=Xq(c,d,p,h),C=mf(c,y);return{sourceLineSegmentId:m,coordinate:y,targetStartPointDistSquared:C}});g.sort((v,m)=>v.targetStartPointDistSquared-m.targetStartPointDistSquared),g.forEach(v=>{const{sourceLineSegmentId:m,coordinate:p}=v,h={type:Xu.Intersection,coordinates:p,position:t1.Edge,direction:o,visited:!1,next:null},y={...h,direction:Rd.Unknown,cloned:!0};o===Rd.Entering?h.next=y:y.next=h;let C=a.get(m);C||(C=[],a.set(m,C)),n.push(h),C.push(y),o*=-1})}for(let s=0,l=e.length;s<l;s++){const c=s,f=e[s],u={type:Xu.Vertex,coordinates:f,visited:!1,next:null};r.push(u);const d=a.get(c);d!=null&&d.length&&d.map(g=>({intersectionPoint:g,lineSegStartDistSquared:mf(f,g.coordinates)})).sort((g,v)=>g.lineSegStartDistSquared-v.lineSegStartDistSquared).map(({intersectionPoint:g})=>g).forEach(g=>r.push(g))}return FP(n),FP(r),{targetPolylinePoints:n,sourcePolylinePoints:r}}function Zq(t){for(let e=0,n=t.length;e<n;e++){const r=t[e];if(!r.visited&&r.position===t1.Outside)return r}}function Jq(t,e){const n=Jv(t),r=Jv(e),a=Ln(r,n);Uv(1,a)||(e=e.slice().reverse());const{targetPolylinePoints:i}=Yq(t,e),o=Zq(i);if(!o)return t.slice();const s=[o.coordinates];let l=o.next;for(;l!==o;){if(l.type===Xu.Intersection&&l.cloned){l=l.next;continue}s.push(l.coordinates),l=l.next}return s}function eK(t,e){const n=Jv(t),r=Jv(e),a=Ln(r,n);Uv(-1,a)||(e=e.slice().reverse());const{targetPolylinePoints:i}=Yq(t,e);let o=null;const s=[];for(;o=Zq(i);){const l=[o.coordinates];let c=o.next;for(o.visited=!0;c!==o;){if(c.visited=!0,c.type===Xu.Intersection&&c.cloned){c=c.next;continue}l.push(c.coordinates),c=c.next}s.push(l)}return s}function tK(t,e,n,r=!0){let a,i;r?(i=t.length-1,a=0):(i=0,a=1);for(let o=a;o<t.length;o++){const s=t[i],l=t[o];if(Wb(e,n,s,l))return[i,o];i=o}}function nK(t,e){for(let n=0,r=t.length;n<r;n++){const a=t[n],i=n===r-1?0:n+1,o=t[i],s=tK(e,a,o);if((s==null?void 0:s.length)===2)return!0}return!1}const FLe=.1;function rK(t,e=FLe){const n=t.length;if(n<3)return t;const r=e*e,a=[[0,n-1]],i=new Array(n).fill(!1);let o=2;for(i[0]=!0,i[n-1]=!0;a.length;){const[l,c]=a.pop();if(c-l===1)continue;const f=t[l],u=t[c];let d=-1/0,g=-1;for(let v=l+1;v<c;v++){const m=t[v],p=PLe(f,u,m);p>d&&(d=p,g=v)}d<r||(i[g]=!0,o++,a.push([g,c]),a.push([l,g]))}const s=new Array(o);for(let l=0,c=0;l<n;l++)i[l]&&(s[c++]=t[l]);return s}function aK(t,e,n,r=!0){const a=[],i=jb(t,e,n,r);for(let o=0;o<i.length;o++){const s=t[i[o][0]],l=t[i[o][1]],c=Xq(e,n,s,l);a.push(c)}return a}function $Le(t,e,n,r=!0){let a,i;r?(i=t.length-1,a=0):(i=0,a=1);const o=[];for(let f=a;f<t.length;f++){const u=t[i],d=t[f];Wb(e,n,u,d)&&o.push([i,f]),i=f}if(o.length===0)return;const s=[];o.forEach(f=>{const u=[t[f[0]],t[f[1]]],d=[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2];s.push(ci(d,e))});const l=Math.min(...s),c=s.indexOf(l);return{segment:o[c],distance:l}}const ed=.001,VLe=(t,e)=>{let n,r,a;if(t instanceof rs){const o=t.getImageData();if(!o)return;r=o.direction.slice(0,3),a=o.direction.slice(3,6),n=o.spacing}else{const o=t.getImageData(),{direction:s,spacing:l}=o,{viewPlaneNormal:c,viewUp:f}=t.getCamera(),u=s.slice(0,3),d=s.slice(3,6),g=s.slice(6,9),v=Xt();ia(v,f,c);const m=Math.abs(Ln(v,u)),p=Math.abs(Ln(v,d)),h=Math.abs(Ln(v,g));let y;if(Math.abs(1-m)<ed)y=l[0],r=u;else if(Math.abs(1-p)<ed)y=l[1],r=d;else if(Math.abs(1-h)<ed)y=l[2],r=g;else throw new Error("No support yet for oblique plane planar contours");const C=Math.abs(Ln(f,u)),x=Math.abs(Ln(f,d)),T=Math.abs(Ln(f,g));let w;if(Math.abs(1-C)<ed)w=l[0],a=u;else if(Math.abs(1-x)<ed)w=l[1],a=d;else if(Math.abs(1-T)<ed)w=l[2],a=g;else throw new Error("No support yet for oblique plane planar contours");n=[y,w]}return{spacing:[n[0]/e,n[1]/e],xDir:r,yDir:a}},kLe=(t,e,n)=>Tw(t,e)<n,ULe=(t,e,n,r)=>{const{xDir:a,yDir:i,spacing:o}=r,s=yn(t),{viewport:l}=s;if(!e.length)return e.push(n),console.log(">>>>> !canvasPoints. :: RETURN"),1;const c=l.canvasToWorld(e[e.length-1]),f=l.canvasToWorld(n),u=Xt();Ga(u,f,c);const d=Math.abs(Ln(u,a)),g=Math.abs(Ln(u,i)),v=Math.max(Math.floor(d/o[0]),Math.floor(g/o[0]));if(v>1){const m=e[e.length-1],p=Tw(m,n),h=Q0();A1(h,n,m),Hd(h,h[0]/p,h[1]/p);const y=p/v;for(let C=1;C<=v;C++)e.push([m[0]+y*h[0]*C,m[1]+y*h[1]*C])}else e.push(n);return v},BLe=(t,e,n,r)=>{const a=[t[0]-e[0],t[1]-e[1]],i=[n[0]-e[0],n[1]-e[1]],o=a[0]*i[0]+a[1]*i[1];if(o<0)return!1;const s=Math.sqrt(i[0]*i[0]+i[1]*i[1]);if(s===0)return!1;const l=o/s,c=[i[0]/s,i[1]/s],f=[c[0]*l,c[1]*l],u=[e[0]+f[0],e[1]+f[1]];return!(ci(t,u)>r||ci(e,u)>ci(e,n))},GLe=1e-6;function iK(t){let e;const n=sH(t,50);for(let o=0;o<3;o++)if(n.every((s,l,c)=>Math.abs(s[o]-c[0][o])<GLe)){e=o;break}if(e===void 0)throw new Error("Cannot find a shared dimension index for polyline, probably oblique plane");const r=[],a=(e+1)%3,i=(e+2)%3;for(let o=0;o<t.length;o++)r.push([t[o][a],t[o][i]]);return{sharedDimensionIndex:e,projectedPolyline:r}}function zLe(t,e,n={}){const{sharedDimensionIndex:r,projectedPolyline:a}=iK(e),{holes:i}=n,o=[];if(i)for(let l=0;l<i.length;l++){const c=i[l],f=[];for(let u=0;u<c.length;u++)f.push([c[u][(r+1)%3],c[u][(r+2)%3]]);o.push(f)}const s=[t[(r+1)%3],t[(r+2)%3]];return vf(a,s,{holes:o})}const Af=Object.freeze(Object.defineProperty({__proto__:null,addCanvasPointsToArray:ULe,containsPoint:vf,containsPoints:Bb,decimate:rK,getAABB:N3,getArea:Gb,getClosestLineSegmentIntersection:$Le,getFirstLineSegmentIntersectionIndexes:tK,getLineSegmentIntersectionsCoordinates:aK,getLineSegmentIntersectionsIndexes:jb,getNormal2:Jv,getNormal3:_Le,getSignedArea:zb,getSubPixelSpacingAndXYDirections:VLe,getWindingDirection:Y2,intersectPolyline:nK,isClosed:Qq,isPointInsidePolyline3D:zLe,mergePolylines:Jq,pointCanProjectOnLine:BLe,pointsAreWithinCloseContourProximity:kLe,projectTo2D:iK,subtractPolylines:eK},Symbol.toStringTag,{value:"Module"}));function $P(t,e){let n=[0,0],r=Number.MAX_SAFE_INTEGER;return t.forEach(function(a){const i=WLe(e,a);i<r&&(r=i,n=[...a])}),n}function WLe(t,e){const[n,r]=t,[a,i]=e;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}const{EPSILON:jLe}=hU,HLe=1-jLe;function qLe(t,e,n){var l;const{viewPlaneNormal:r}=e,a=t.filter(c=>{let f=c.metadata.viewPlaneNormal;if(!f){const{referencedImageId:d}=c.metadata,{imageOrientationPatient:g}=tn("imagePlaneModule",d),v=Yr(g[0],g[1],g[2]),m=Yr(g[3],g[4],g[5]);f=Xt(),ia(f,v,m),c.metadata.viewPlaneNormal=f}const u=Math.abs(Ln(r,f))>HLe;return f&&u});if(!a.length)return[];const i=n/2,{focalPoint:o}=e,s=[];for(const c of a){const f=c.data,u=f.handles.points[0]||((l=f.contour)==null?void 0:l.polyline[0]);if(!c.isVisible)continue;const d=Xt();if(!u){s.push(c);continue}Ca(d,o,u);const g=Ln(d,r);Math.abs(g)<i&&s.push(c)}return s}function oK(t,e,n={}){if(t instanceof go){const r=t.getCamera(),{spacingInNormalDirection:a}=_p(t,r);return qLe(e,r,a)}if(t instanceof rs){const r=t.getCurrentImageId();if(!r)return[];const a=r.indexOf(":");n.imageURI=r.substring(a+1)}return e.filter(r=>r.isVisible?r.data.isCanvasAnnotation?!0:t.isReferenceViewable(r.metadata,n):!1)}function KLe(t,e,n){let r=!0,a=!0;if(typeof t!="function")throw new TypeError("Expected a function");return Bq(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Gq(t,e,{leading:r,trailing:a,maxWait:e})}function QLe(t,e){const n=t.length,r=[];for(let a=0;a<n;a++){const i=t[a];i.getFrameOfReferenceUID()===e&&r.push(i)}return r}const{Active:XLe,Passive:YLe,Enabled:ZLe}=Jr;function JLe(t,e){const n=t.length,r=[];for(let a=0;a<n;a++){const i=t[a],o=Fi(i.id,i.renderingEngineId);if(!o)continue;e_e(o,e)&&r.push(i)}return r}function e_e(t,e){const{toolOptions:n}=t,r=n[e];if(!r)return!1;const a=r.mode;return a===XLe||a===YLe||a===ZLe}function t_e(t,e,n=.999){return t.filter(r=>{const a=r.getCamera();return Math.abs(Ln(a.viewPlaneNormal,e.viewPlaneNormal))>n})}function Km(t,e,n=!0){const r=yn(t),{renderingEngine:a,FrameOfReferenceUID:i}=r;let o=a.getViewports();o=QLe(o,i),o=JLe(o,e);const s=a.getViewport(r.viewportId);return n&&(o=t_e(o,s.getCamera())),o.map(c=>c.id)}const n_e="viewport-element";function r_e(t){const e=yn(t),{viewportId:n,renderingEngineId:r}=e,a=`${n}:${r}`,i=a_e(t);return Object.keys(In.svgNodeCache[a]).forEach(o=>{In.svgNodeCache[a][o].touched=!1}),{svgLayerElement:i,svgNodeCacheForCanvas:In.svgNodeCache,getSvgNode:i_e.bind(this,a),appendNode:o_e.bind(this,i,a),setNodeTouched:s_e.bind(this,a),clearUntouched:l_e.bind(this,i,a)}}function a_e(t){const e=`.${n_e}`,n=t.querySelector(e);return n==null?void 0:n.querySelector(":scope > .svg-layer")}function i_e(t,e){if(In.svgNodeCache[t]&&In.svgNodeCache[t][e])return In.svgNodeCache[t][e].domRef}function o_e(t,e,n,r){if(!In.svgNodeCache[e])return null;In.svgNodeCache[e][r]={touched:!0,domRef:n},t.appendChild(n)}function s_e(t,e){In.svgNodeCache[t]&&In.svgNodeCache[t][e]&&(In.svgNodeCache[t][e].touched=!0)}function l_e(t,e){In.svgNodeCache[e]&&Object.keys(In.svgNodeCache[e]).forEach(n=>{const r=In.svgNodeCache[e][n];!r.touched&&r.domRef&&(t.removeChild(r.domRef),delete In.svgNodeCache[e][n])})}function c_e(t,e){const n=r_e(t);e(n),n.clearUntouched()}function Vp(t,e,n){return`${t}::${e}::${n}`}function pf(t,e){Object.keys(t).forEach(n=>{const r=e.getAttribute(n),a=t[n];a===void 0||a===""?e.removeAttribute(n):r!==a&&e.setAttribute(n,a)})}function My(t,e){Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&r!==""&&e.setAttribute(n,r)})}function u_e(t,e,n,r,a={},i){const{color:o,handleRadius:s,width:l,lineWidth:c,fill:f,type:u,opacity:d}=Object.assign({color:"rgb(0, 255, 0)",handleRadius:"6",width:"2",lineWidth:void 0,fill:"transparent",type:"circle",opacity:1},a),g=c||l,v="http://www.w3.org/2000/svg",m=Vp(e,"handle",`hg-${n}-index-${i}`);let p;if(u==="circle")p={cx:`${r[0]}`,cy:`${r[1]}`,r:s,stroke:o,fill:f,"stroke-width":g,opacity:d};else if(u==="rect"){const C=parseFloat(s)*1.5,x=r[0]-C*.5,T=r[1]-C*.5;p={x:`${x}`,y:`${T}`,width:`${C}`,height:`${C}`,stroke:o,fill:f,"stroke-width":g,rx:`${C*.1}`,opacity:d}}else throw new Error(`Unsupported handle type: ${u}`);const h=t.getSvgNode(m);if(h)pf(p,h),t.setNodeTouched(m);else{const y=document.createElementNS(v,u);My(p,y),t.appendNode(y,m)}}function xx(t,e,n,r,a={}){r.forEach((i,o)=>{u_e(t,e,n,i,a,o)})}function f_e(t,e,n,r,a,i={},o=""){if(isNaN(r[0])||isNaN(r[1])||isNaN(a[0])||isNaN(a[1]))return;const{color:s="rgb(0, 255, 0)",width:l=10,lineWidth:c,lineDash:f,markerStartId:u=null,markerEndId:d=null,shadow:g=!1}=i,v=c||l,m="http://www.w3.org/2000/svg",p=Vp(e,"line",n),h=t.getSvgNode(p),y=t.svgLayerElement.id,C=g?`filter:url(#shadow-${y});`:"",x={x1:`${r[0]}`,y1:`${r[1]}`,x2:`${a[0]}`,y2:`${a[1]}`,stroke:s,style:C,"stroke-width":v,"stroke-dasharray":f,"marker-start":u?`url(#${u})`:"","marker-end":d?`url(#${d})`:""};if(h)pf(x,h),t.setNodeTouched(p);else{const T=document.createElementNS(m,"line");o!==""&&T.setAttribute("data-id",o),My(x,T),t.appendNode(T,p)}}function B1(t,e,n,r,a){if(r.length<2)return;const{color:i="rgb(0, 255, 0)",width:o=10,fillColor:s="none",fillOpacity:l=0,lineWidth:c,lineDash:f,closePath:u=!1,markerStartId:d=null,markerEndId:g=null}=a,v=c||o,m="http://www.w3.org/2000/svg",p=Vp(e,"polyline",n),h=t.getSvgNode(p);let y="";for(const x of r)y+=`${x[0].toFixed(1)}, ${x[1].toFixed(1)} `;if(u){const x=r[0];y+=`${x[0]}, ${x[1]}`}const C={points:y,stroke:i,fill:s,"fill-opacity":l,"stroke-width":v,"stroke-dasharray":f,"marker-start":d?`url(#${d})`:"","marker-end":g?`url(#${g})`:""};if(h)pf(C,h),t.setNodeTouched(p);else{const x=document.createElementNS(m,"polyline");My(C,x),t.appendNode(x,p)}}function n1(t,e,n,r,a){const o=r.length&&r[0].length&&Array.isArray(r[0][0])?r:[r],{color:s="rgb(0, 255, 0)",width:l=10,fillColor:c="none",fillOpacity:f=0,lineWidth:u,lineDash:d,closePath:g=!1}=a,v=u||l,m="http://www.w3.org/2000/svg",p=Vp(e,"path",n),h=t.getSvgNode(p);let y="";for(let x=0,T=o.length;x<T;x++){const w=o[x],b=w.length;if(!(b<2)){for(let E=0;E<b;E++){const O=w[E];y+=`${E?"L":"M"} ${O[0].toFixed(1)}, ${O[1].toFixed(1)} `}g&&(y+="Z ")}}if(!y)return;const C={d:y,stroke:s,fill:c,"fill-opacity":f,"stroke-width":v,"stroke-dasharray":d};if(h)pf(C,h),t.setNodeTouched(p);else{const x=document.createElementNS(m,"path");My(C,x),t.appendNode(x,p)}}function d_e(t,e,n,r,a,i={}){const o=Object.assign({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",color:"rgb(255, 255, 0)",background:"",padding:25,centerX:!1,centerY:!0},i);return g_e(t,e,n,r,a,o)}function g_e(t,e,n,r=[""],a,i){const{padding:o,color:s,fontFamily:l,fontSize:c,background:f}=i;let u;const[d,g]=[a[0]+o,a[1]+o],v="http://www.w3.org/2000/svg",m=Vp(e,"text",n),p=t.getSvgNode(m);if(p){const h=p.querySelector("text"),y=Array.from(h.children);for(let T=0;T<y.length;T++){const w=y[T],b=r[T]||"";w.textContent=b}if(r.length>y.length){for(let T=0;T<r.length-y.length;T++){const w=r[T+y.length],b=VP(w);h.appendChild(b)}p.appendChild(h),t.appendNode(p,m)}const C={fill:s,"font-size":c,"font-family":l},x={transform:`translate(${d} ${g})`};pf(C,h),pf(x,p),p.setAttribute("data-annotation-uid",e),u=kP(p,f),t.setNodeTouched(m)}else{const h=document.createElementNS(v,"g");h.setAttribute("data-annotation-uid",e),h.setAttribute("transform",`translate(${d} ${g})`);const y=m_e(t,i);for(let C=0;C<r.length;C++){const x=r[C],T=VP(x);y.appendChild(T)}h.appendChild(y),t.appendNode(h,m),u=kP(h,f)}return Object.assign({},u,{x:d,y:g,height:u.height+o,width:u.width+o})}function m_e(t,e){const{color:n,fontFamily:r,fontSize:a}=e,o=document.createElementNS("http://www.w3.org/2000/svg","text"),s="user-select: none; pointer-events: none; -webkit-tap-highlight-color:  rgba(255, 255, 255, 0);",l=`filter:url(#shadow-${t.svgLayerElement.id});`,c=`${s}${l}`;return o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("fill",n),o.setAttribute("font-family",r),o.setAttribute("font-size",a),o.setAttribute("style",c),o.setAttribute("pointer-events","visible"),o}function VP(t){const n=document.createElementNS("http://www.w3.org/2000/svg","tspan");return n.setAttribute("x","0"),n.setAttribute("dy","1.2em"),n.textContent=t,n}function kP(t,e){let n=t.querySelector("rect.background");if(!e)return n&&t.removeChild(n),t.getBBox();n||(n=document.createElementNS("http://www.w3.org/2000/svg","rect"),n.setAttribute("class","background"),t.insertBefore(n,t.firstChild));const r=t.getBBox(),a={x:`${r.x}`,y:`${r.y}`,width:`${r.width}`,height:`${r.height}`,fill:e};return pf(a,n),r}function v_e(t,e,n,r,a,i,o={}){const s=r.length>0?$P(r,a):a,l=p_e(i),c=$P(l,s),f=Object.assign({color:"rgb(255, 255, 0)",lineWidth:"1",lineDash:"2,3"},o);f_e(t,e,`link-${n}`,s,c,f)}function p_e(t){const{x:e,y:n,height:r,width:a}=t,i=a/2,o=r/2,s=[e+i,n],l=[e,n+o],c=[e+i,n+r],f=[e+a,n+o];return[s,l,c,f]}function h_e(t,e,n,r,a,i,o,s={}){const l=Object.assign({handleRadius:"6",centering:{x:!1,y:!0}},s),c=d_e(t,e,n,r,a,l);return v_e(t,e,n,i,a,c,l),c}function S_e(t,e){const n=yn(t),{renderingEngineId:r,viewportId:a}=n,i=Fi(a,r);if(!i)return[];const o=[],s=Object.keys(i.toolOptions);for(let l=0;l<s.length;l++){const c=s[l],f=i.toolOptions[c];if(f&&e.includes(f.mode)){const u=i.getToolInstance(c);o.push(u)}}return o}const{Active:y_e,Passive:C_e,Enabled:x_e}=Jr;class T_e{constructor(){this._needsRender=new Set,this._animationFrameSet=!1,this._animationFrameHandle=null,this._renderFlaggedViewports=()=>{this._throwIfDestroyed();const e=Array.from(this._viewportElements.values());for(let n=0;n<e.length;n++){const r=e[n];if(this._needsRender.has(r)&&(this._triggerRender(r),this._needsRender.delete(r),this._needsRender.size===0))break}this._animationFrameSet=!1,this._animationFrameHandle=null,this._render()},this._viewportElements=new Map}addViewportElement(e,n){this._viewportElements.set(e,n)}removeViewportElement(e,n){this._viewportElements.delete(e),this._needsRender.delete(n),this._reset()}renderViewport(e){this._setViewportsToBeRenderedNextFrame([e])}_throwIfDestroyed(){if(this.hasBeenDestroyed)throw new Error("this.destroy() has been manually called to free up memory, can not longer use this instance. Instead make a new one.")}_setAllViewportsToBeRenderedNextFrame(){[...this._viewportElements.values()].forEach(n=>{this._needsRender.add(n)}),this._renderFlaggedViewports()}_setViewportsToBeRenderedNextFrame(e){const n=[...this._viewportElements.values()];e.forEach(r=>{n.indexOf(r)!==-1&&this._needsRender.add(r)}),this._render()}_render(){this._needsRender.size>0&&this._animationFrameSet===!1&&(this._animationFrameHandle=window.requestAnimationFrame(this._renderFlaggedViewports),this._animationFrameSet=!0)}_triggerRender(e){const n=yn(e);if(!n)return;if(!Of(n.renderingEngineId)){console.warn("rendering Engine has been destroyed");return}const a=S_e(e,[y_e,C_e,x_e]),{renderingEngineId:i,viewportId:o}=n,s={element:e,renderingEngineId:i,viewportId:o};c_e(e,l=>{let c=!1;const f=u=>{if(u.renderAnnotation){const d=u.renderAnnotation(n,l);c=c||d}};a.forEach(f),c&&_t(e,ot.ANNOTATION_RENDERED,{...s})})}_reset(){window.cancelAnimationFrame(this._animationFrameHandle),this._needsRender.clear(),this._animationFrameSet=!1,this._animationFrameHandle=null,this._setAllViewportsToBeRenderedNextFrame()}}const Hb=new T_e;function kp(t){Hb.renderViewport(t)}function Ji(t){t.length&&t.forEach(e=>{const n=pi(e);if(!n){console.warn(`Viewport not available for ${e}`);return}const{viewport:r}=n;if(!r){console.warn(`Viewport not available for ${e}`);return}const a=r.element;kp(a)})}function w_e(t){var e;return((e=t[0])==null?void 0:e.length)===3}function b_e(t,e){if(!e||e.length===0||e.length===t.length)return t;const n=e[e.length-1]-e[0]+1,r=N8(e.map(i=>t[i][0])),a=N8(e.map(i=>t[i][1]));if(w_e(t)){const i=N8(e.map(o=>t[o][2]));return FM(jg(r,n),jg(a,n),jg(i,n))}else return FM(jg(r,n),jg(a,n))}function E_e(t,e){const n=[],[r,a]=e,i=a-r+1,o=Math.floor(i/t);let s=0,l=Math.round((i-1)/(o-1)*s)+r;for(;l<=a;)n.push(l),s++,l=Math.round((i-1)/(o-1)*s)+r;return n}function D_e(t,e,n,r){const a=n-e+1,i=Math.floor(r/100*a)??1,o=Math.floor(a/i)??1;if(isNaN(a)||!a||!o||a/o<2)return t;const s=Math.max(0,e),l=Math.min(t.length-1,n),c=t.slice(0,s),f=t.slice(l+1,t.length),u=E_e(o,[s,l]),d=b_e(t,u);return[...c,...d,...f]}function Py(t,e){var r,a;return e!=null&&e.autoGenerated?!1:((r=t==null?void 0:t.smoothing)==null?void 0:r.smoothOnAdd)===!0||((a=t==null?void 0:t.smoothing)==null?void 0:a.smoothOnEdit)===!0}function O_e(t,e){return Kq(t,e)<.001}function R_e(t,e){return Kq(t,e)===0}function I_e(t,e){for(let n=0;n<t.length;n++)for(let r=0;r<e.length;r++)if(R_e(t[n],e[r]))return[n,r]}function Id(t,e,n){return(t+e+n)%e}function UP(t,e,n,r){const[,a,i]=t,[,o,s]=e,l=i.length,c=s.length;let f=t[0],u=e[0];if(!i[f]||!s[u]||!i[a]||!s[o])return[void 0,void 0];for(;f!==a&&u!==o;){if(n(s[u],i[f]))return[f,u];f=Id(f,l,r),u=Id(u,c,r)}return[void 0,void 0]}function A_e(t,e){const[n,r]=I_e(t,e)||[],a=(l,c)=>O_e(l,c)===!1,[i,o]=UP([Id(n,t.length,1),n,t],[Id(r,e.length,1),r,e],a,1),[s]=UP([Id(i,t.length,-1),i,t],[Id(o,e.length,-1),o,e],a,-1);return[i,s]}function Ly(t,e,n){const{interpolation:r,smoothing:a}=t,i=e;if(r){const{knotsRatioPercentageOnAdd:o,knotsRatioPercentageOnEdit:s,smoothOnAdd:l=!1,smoothOnEdit:c=!1}=a,f=n?s:o;if(n?c:l){const[d,g]=n?A_e(e,n):[0,e.length-1];return!e[d]||!e[g]?e:D_e(e,d,g,f)}}return i}const _y=t=>{if(t.shiftKey)return t.ctrlKey?To.ShiftCtrl:t.altKey?To.ShiftAlt:t.metaKey?To.ShiftMeta:To.Shift;if(t.ctrlKey)return t.altKey?To.CtrlAlt:t.metaKey?To.CtrlMeta:To.Ctrl;if(t.altKey)return t.metaKey&&To.AltMeta||To.Alt;if(t.metaKey)return To.Meta};function qb(t,e){const n=t[0],r=t[t.length-1],a=Q0();Hd(a,r[0]-n[0],r[1]-n[1]),JB(a,a);const i=Q0(),o=Q0();Hd(i,-a[1],a[0]),Hd(o,a[1],-a[0]);const s=[(n[0]+r[0])/2,(n[1]+r[1])/2],l={dist:0,index:null};for(let u=0;u<t.length;u++){const d=t[u],g=Tw(d,s);g>l.dist&&(l.dist=g,l.index=u)}return[t[l.index],s].map(e.canvasToWorld)}function M_e(t,e){const{viewport:n}=t,r=e.data.contour.polyline.map(n.worldToCanvas);return qb(r,n)}var G1;(function(t){t[t.CounterClockwise=-1]="CounterClockwise",t[t.Unknown=0]="Unknown",t[t.Clockwise=1]="Clockwise"})(G1||(G1={}));const{addCanvasPointsToArray:Kb,pointsAreWithinCloseContourProximity:sK,getFirstLineSegmentIntersectionIndexes:lK,getSubPixelSpacingAndXYDirections:P_e}=Af;function L_e(t,e,n){this.isDrawing=!0;const r=t.detail,{currentPoints:a,element:i}=r,o=a.canvas,s=yn(i),{viewport:l}=s,c=_y(t.detail.event)===this.configuration.contourHoleAdditionModifierKey,{spacing:f,xDir:u,yDir:d}=P_e(l,this.configuration.subPixelResolution)||{};!f||!u||!d||(this.drawData={canvasPoints:[o],polylineIndex:0,contourHoleProcessingEnabled:c,newAnnotation:!0},this.commonData={annotation:e,viewportIdsToRender:n,spacing:f,xDir:u,yDir:d,movingTextBox:!1},In.isInteractingWithTool=!0,i.addEventListener(ot.MOUSE_UP,this.mouseUpDrawCallback),i.addEventListener(ot.MOUSE_DRAG,this.mouseDragDrawCallback),i.addEventListener(ot.MOUSE_CLICK,this.mouseUpDrawCallback),i.addEventListener(ot.TOUCH_END,this.mouseUpDrawCallback),i.addEventListener(ot.TOUCH_DRAG,this.mouseDragDrawCallback),i.addEventListener(ot.TOUCH_TAP,this.mouseUpDrawCallback),Ty(i))}function __e(t){In.isInteractingWithTool=!1,t.removeEventListener(ot.MOUSE_UP,this.mouseUpDrawCallback),t.removeEventListener(ot.MOUSE_DRAG,this.mouseDragDrawCallback),t.removeEventListener(ot.MOUSE_CLICK,this.mouseUpDrawCallback),t.removeEventListener(ot.TOUCH_END,this.mouseUpDrawCallback),t.removeEventListener(ot.TOUCH_DRAG,this.mouseDragDrawCallback),t.removeEventListener(ot.TOUCH_TAP,this.mouseUpDrawCallback),Eb(t)}function N_e(t){const e=t.detail,{currentPoints:n,element:r}=e,a=n.world,i=n.canvas,o=yn(r),{viewport:s}=o,{annotation:l,viewportIdsToRender:c,xDir:f,yDir:u,spacing:d,movingTextBox:g}=this.commonData,{polylineIndex:v,canvasPoints:m,newAnnotation:p}=this.drawData;this.createMemo(r,l,{newAnnotation:p});const h=m[m.length-1],y=s.canvasToWorld(h),C=Xt();Ga(C,a,y);const x=Math.abs(Ln(C,f)),T=Math.abs(Ln(C,u));if(!(x<=d[0]&&T<=d[1])){if(g){this.isDrawing=!1;const{deltaPoints:w}=e,b=w.world,{textBox:E}=l.data.handles,{worldPosition:O}=E;O[0]+=b[0],O[1]+=b[1],O[2]+=b[2],E.hasMoved=!0}else{const w=this.findCrossingIndexDuringCreate(t);if(w!==void 0)this.applyCreateOnCross(t,w);else{const b=Kb(r,m,i,this.commonData);this.drawData.polylineIndex=v+b}}Ji(c)}}function F_e(t){const{allowOpenContours:e}=this.configuration,{canvasPoints:n,contourHoleProcessingEnabled:r}=this.drawData,a=n[0],i=n[n.length-1],o=t.detail,{element:s}=o;this.doneEditMemo(),this.drawData.newAnnotation=!1,e&&!sK(a,i,this.configuration.closeContourProximity)?this.completeDrawOpenContour(s,{contourHoleProcessingEnabled:r}):this.completeDrawClosedContour(s,{contourHoleProcessingEnabled:r})}function $_e(t,e){this.removeCrossedLinesOnCompleteDraw();const{canvasPoints:n}=this.drawData,{contourHoleProcessingEnabled:r,minPointsToSave:a}=e??{};if(a&&n.length<a||this.haltDrawing(t,n))return!1;const{annotation:i,viewportIdsToRender:o}=this.commonData,s=yn(t),{viewport:l,renderingEngine:c}=s;Kb(t,n,n[0],this.commonData),n.pop();const f=Py(this.configuration,i)?Ly(this.configuration,n):n;this.updateContourPolyline(i,{points:f,closed:!0,targetWindingDirection:G1.Clockwise},l);const{textBox:u}=i.data.handles;return u!=null&&u.hasMoved||Ob(i,r),this.isDrawing=!1,this.drawData=void 0,this.commonData=void 0,Ji(o),this.deactivateDraw(t),!0}function V_e(){const{canvasPoints:t}=this.drawData,e=t.length,n=[t[0],t[e-1]],r=t.slice(0,-1).slice(1),a=lK(r,n[0],n[1],!1);if(a){const i=a[1];i===1?this.drawData.canvasPoints=t.splice(1):this.drawData.canvasPoints=t.splice(0,i)}}function k_e(t,e){const{canvasPoints:n}=this.drawData,{contourHoleProcessingEnabled:r}=e??{};if(this.haltDrawing(t,n))return!1;const{annotation:a,viewportIdsToRender:i}=this.commonData,o=yn(t),{viewport:s,renderingEngine:l}=o,c=Py(this.configuration,a)?Ly(this.configuration,n):n;this.updateContourPolyline(a,{points:c,closed:!1},s);const{textBox:f}=a.data.handles,u=a.data.contour.polyline;return a.data.handles.points=[u[0],u[u.length-1]],a.data.isOpenUShapeContour&&(a.data.openUShapeContourVectorToPeak=qb(n,s)),f.hasMoved||Ob(a,r),this.isDrawing=!1,this.drawData=void 0,this.commonData=void 0,Ji(i),this.deactivateDraw(t),!0}function U_e(t){const e=t.detail,{currentPoints:n,lastPoints:r}=e,a=n.canvas,i=r.canvas,{canvasPoints:o}=this.drawData,s=o.slice(0,-1),l=lK(s,a,i,!1);return l===void 0?void 0:l[0]}function B_e(t,e){const n=t.detail,{element:r}=n,{canvasPoints:a,contourHoleProcessingEnabled:i}=this.drawData,{annotation:o,viewportIdsToRender:s}=this.commonData;Kb(r,a,a[e],this.commonData),a.pop();const l=a.slice(e),c=Gb(l);if(Da(c,0)){a.splice(e+1);return}a.splice(0,e);const f={contourHoleProcessingEnabled:i,minPointsToSave:3};this.completeDrawClosedContour(r,f)&&this.activateClosedContourEdit(t,o,s)}function G_e(t){const{allowOpenContours:e}=this.configuration,{canvasPoints:n,contourHoleProcessingEnabled:r}=this.drawData,a=n[0],i=n[n.length-1];e&&!sK(a,i,this.configuration.closeContourProximity)?this.completeDrawOpenContour(t,{contourHoleProcessingEnabled:r}):this.completeDrawClosedContour(t,{contourHoleProcessingEnabled:r})}function z_e(t,e){const n=Math.max(e*3,3);return t.length<n}function W_e(t,e){const{subPixelResolution:n}=this.configuration;if(z_e(e,n)){const{annotation:r,viewportIdsToRender:a}=this.commonData;return yn(t),gf(r.annotationUID),this.isDrawing=!1,this.drawData=void 0,this.commonData=void 0,Ji(a),this.deactivateDraw(t),!0}return!1}function j_e(t){t.activateDraw=L_e.bind(t),t.deactivateDraw=__e.bind(t),t.applyCreateOnCross=B_e.bind(t),t.findCrossingIndexDuringCreate=U_e.bind(t),t.completeDrawOpenContour=k_e.bind(t),t.removeCrossedLinesOnCompleteDraw=V_e.bind(t),t.mouseDragDrawCallback=N_e.bind(t),t.mouseUpDrawCallback=F_e.bind(t),t.completeDrawClosedContour=$_e.bind(t),t.cancelDrawing=G_e.bind(t),t.haltDrawing=W_e.bind(t)}const{addCanvasPointsToArray:H_e,getFirstLineSegmentIntersectionIndexes:hf}=Af;function q_e(t,e){const n=t.detail,{element:r,currentPoints:a,lastPoints:i}=n,o=a.canvas,s=i.canvas,{editCanvasPoints:l,prevCanvasPoints:c}=this.editData,f=hf(c,o,s,e);if(f)this.editData.startCrossingIndex=f[0],this.removePointsUpUntilFirstCrossing(e);else if(c.length>=2)if(l.length>this.configuration.checkCanvasEditFallbackProximity){const u=l[0],d=[];for(let m=0;m<c.length;m++){const p=c[m],h=ci(p,u);d.push({distance:h,index:m})}d.sort((m,p)=>m.distance-p.distance);const g=[d[0],d[1]],v=Math.min(g[0].index,g[1].index);this.editData.startCrossingIndex=v}else{const u=Q0();A1(u,l[1],l[0]),JB(u,u);const d=6,g=[l[0][0]-u[0]*d,l[0][1]-u[1]*d],v=hf(c,g,l[0],e);if(v){const m=[g];H_e(r,m,l[0],this.commonData),l.unshift(...m),this.removePointsUpUntilFirstCrossing(e),this.editData.editIndex=l.length-1,this.editData.startCrossingIndex=v[0]}}}function K_e(t){const{editCanvasPoints:e,prevCanvasPoints:n}=this.editData;let r=0;for(let a=0;a<e.length-1;a++){const i=[e[a],e[a+1]],o=!!hf(n,i[0],i[1],t);if(r++,o)break}e.splice(0,r),this.editData.editIndex=e.length-1}function Q_e(t,e){const n=t.detail,{currentPoints:r,lastPoints:a}=n,i=r.canvas,o=a.canvas,{prevCanvasPoints:s}=this.editData;return!!hf(s,i,o,e)}function X_e(t){const{prevCanvasPoints:e,editCanvasPoints:n}=this.editData;for(let r=n.length-1;r>0;r--){const a=[n[r],n[r-1]],i=!!hf(e,a[0],a[1],t);if(n.pop(),i)break}}function Y_e(){const{editCanvasPoints:t,prevCanvasPoints:e,startCrossingIndex:n}=this.editData;if(n===void 0)return;const r=t[t.length-1],a=[];for(let o=0;o<e.length;o++){const s=e[o],l=ci(s,r);a.push({distance:l,index:o})}a.sort((o,s)=>o.distance-s.distance);const i=t.slice(0,-1);for(let o=0;o<a.length;o++){const{index:s}=a[o],l=e[s],c=t[t.length-1];if(!hf(i,l,c,!1))return s}return-1}function Z_e(t){const e=t.detail,{currentPoints:n,lastPoints:r}=e,a=n.canvas,i=r.canvas,{editCanvasPoints:o}=this.editData,s=o.slice(0,-2),l=hf(s,a,i,!1);if(!l)return;const c=l[0],f=o.length-c;for(let u=0;u<f;u++)o.pop()}function J_e(t){t.checkForFirstCrossing=q_e.bind(t),t.removePointsUpUntilFirstCrossing=K_e.bind(t),t.checkForSecondCrossing=Q_e.bind(t),t.findSnapIndex=Y_e.bind(t),t.removePointsAfterSecondCrossing=X_e.bind(t),t.checkAndRemoveCrossesOnEditLine=Z_e.bind(t)}function Bc(t,e,n,r){var v,m,p;const{canvasToWorld:a,worldToCanvas:i}=n,{data:o}=t,{targetWindingDirection:s}=e;let{points:l}=e,c=Y2(l);(v=r==null?void 0:r.decimate)!=null&&v.enabled&&(l=rK(e.points,(m=r==null?void 0:r.decimate)==null?void 0:m.epsilon));let{closed:f}=e;const u=l.length,d=new Array(u);Y2(l);const g=rq(t);if(f===void 0){let h=!1;if(l.length>3){const y=mf(l[0],l[u-1]);h=Da(0,y)}f=h}if((r==null?void 0:r.updateWindingDirection)!==!1){let h=g?g.data.contour.windingDirection*-1:s;h===void 0&&(h=c),h!==c&&l.reverse();const y=(((p=o.handles)==null?void 0:p.points)??[]).map(i);y.length>2&&Y2(y)!==h&&o.handles.points.reverse(),c=h}for(let h=0;h<u;h++)d[h]=a(l[h]);o.contour.polyline=d,o.contour.closed=f,o.contour.windingDirection=c,aq(t)}const{getSubPixelSpacingAndXYDirections:eNe,addCanvasPointsToArray:cK,getArea:BP}=Af;function tNe(t,e,n){this.isEditingClosed=!0;const r=t.detail,{currentPoints:a,element:i}=r,o=a.canvas,s=yn(i);if(!s)return;const{viewport:l}=s,c=e.data.contour.polyline.map(l.worldToCanvas),{spacing:f,xDir:u,yDir:d}=eNe(l,this.configuration.subPixelResolution);this.editData={prevCanvasPoints:c,editCanvasPoints:[o],startCrossingIndex:void 0,editIndex:0,annotation:e},this.commonData={annotation:e,viewportIdsToRender:n,spacing:f,xDir:u,yDir:d,movingTextBox:!1},In.isInteractingWithTool=!0,i.addEventListener(ot.MOUSE_UP,this.mouseUpClosedContourEditCallback),i.addEventListener(ot.MOUSE_DRAG,this.mouseDragClosedContourEditCallback),i.addEventListener(ot.MOUSE_CLICK,this.mouseUpClosedContourEditCallback),i.addEventListener(ot.TOUCH_END,this.mouseUpClosedContourEditCallback),i.addEventListener(ot.TOUCH_DRAG,this.mouseDragClosedContourEditCallback),i.addEventListener(ot.TOUCH_TAP,this.mouseUpClosedContourEditCallback),Ty(i)}function nNe(t){In.isInteractingWithTool=!1,t.removeEventListener(ot.MOUSE_UP,this.mouseUpClosedContourEditCallback),t.removeEventListener(ot.MOUSE_DRAG,this.mouseDragClosedContourEditCallback),t.removeEventListener(ot.MOUSE_CLICK,this.mouseUpClosedContourEditCallback),t.removeEventListener(ot.TOUCH_END,this.mouseUpClosedContourEditCallback),t.removeEventListener(ot.TOUCH_DRAG,this.mouseDragClosedContourEditCallback),t.removeEventListener(ot.TOUCH_TAP,this.mouseUpClosedContourEditCallback),Eb(t)}function rNe(t){const e=t.detail,{currentPoints:n,element:r}=e,a=n.world,i=n.canvas,o=yn(r),{viewport:s}=o,{viewportIdsToRender:l,xDir:c,yDir:f,spacing:u}=this.commonData,{editIndex:d,editCanvasPoints:g,startCrossingIndex:v,annotation:m}=this.editData;this.createMemo(r,m);const p=g[g.length-1],h=s.canvasToWorld(p),y=Xt();Ga(y,a,h);const C=Math.abs(Ln(y,c)),x=Math.abs(Ln(y,f));if(C<=u[0]&&x<=u[1])return;v!==void 0&&this.checkAndRemoveCrossesOnEditLine(t);const T=cK(r,g,i,this.commonData),w=d+T;if(this.editData.editIndex=w,v===void 0&&g.length>1&&this.checkForFirstCrossing(t,!0),this.editData.snapIndex=this.findSnapIndex(),this.editData.snapIndex===-1){this.finishEditAndStartNewEdit(t);return}this.editData.fusedCanvasPoints=this.fuseEditPointsWithClosedContour(t),v!==void 0&&this.checkForSecondCrossing(t,!0)&&(this.removePointsAfterSecondCrossing(!0),this.finishEditAndStartNewEdit(t)),Ji(l)}function aNe(t){const e=t.detail,{element:n}=e,r=yn(n),{viewport:a,renderingEngine:i}=r,{annotation:o,viewportIdsToRender:s}=this.commonData,{fusedCanvasPoints:l,editCanvasPoints:c}=this.editData;Bc(o,{points:l,closed:!0,targetWindingDirection:G1.Clockwise},a),o.autoGenerated&&(o.autoGenerated=!1),m0(o,n);const f=c.pop();this.editData={prevCanvasPoints:l,editCanvasPoints:[f],startCrossingIndex:void 0,editIndex:0,snapIndex:void 0,annotation:o},Ji(s)}function iNe(t){const{prevCanvasPoints:e,editCanvasPoints:n,startCrossingIndex:r,snapIndex:a}=this.editData;if(r===void 0||a===void 0)return;const i=t.detail,{element:o}=i,s=[...n];cK(o,s,e[a],this.commonData),s.length>n.length&&s.pop();let l,c;r>a?(l=a,c=r):(l=r,c=a);const f=ci(e[l],s[0]),u=ci(e[l],s[s.length-1]),d=ci(e[c],s[0]),g=ci(e[c],s[s.length-1]),v=[];for(let T=0;T<l;T++){const w=e[T];v.push([w[0],w[1]])}let m=f+g,p=u+d;if(m<p)for(let T=0;T<s.length;T++){const w=s[T];v.push([w[0],w[1]])}else for(let T=s.length-1;T>=0;T--){const w=s[T];v.push([w[0],w[1]])}for(let T=c;T<e.length;T++){const w=e[T];v.push([w[0],w[1]])}const h=[];for(let T=l;T<c;T++){const w=e[T];h.push([w[0],w[1]])}if(m=d+u,p=g+f,m<p)for(let T=0;T<s.length;T++){const w=s[T];h.push([w[0],w[1]])}else for(let T=s.length-1;T>=0;T--){const w=s[T];h.push([w[0],w[1]])}const y=BP(v),C=BP(h);return y>C?v:h}function oNe(t){const e=t.detail,{element:n}=e;this.completeClosedContourEdit(n)}function sNe(t){var s;const e=yn(t),{viewport:n}=e,{annotation:r,viewportIdsToRender:a}=this.commonData;this.doneEditMemo();const{fusedCanvasPoints:i,prevCanvasPoints:o}=this.editData;if(i){const l=Py(this.configuration,r)?Ly(this.configuration,i,o):i,c=((s=this.configuration)==null?void 0:s.decimate)||{};Bc(r,{points:l,closed:!0,targetWindingDirection:G1.Clockwise},n,{decimate:{enabled:!!c.enabled,epsilon:c.epsilon}}),r.autoGenerated&&(r.autoGenerated=!1),m0(r,t)}this.isEditingClosed=!1,this.editData=void 0,this.commonData=void 0,Ji(a),this.deactivateClosedContourEdit(t)}function lNe(t){this.completeClosedContourEdit(t)}function cNe(t){t.activateClosedContourEdit=tNe.bind(t),t.deactivateClosedContourEdit=nNe.bind(t),t.mouseDragClosedContourEditCallback=rNe.bind(t),t.mouseUpClosedContourEditCallback=oNe.bind(t),t.finishEditAndStartNewEdit=aNe.bind(t),t.fuseEditPointsWithClosedContour=iNe.bind(t),t.cancelClosedContourEdit=lNe.bind(t),t.completeClosedContourEdit=sNe.bind(t)}const{addCanvasPointsToArray:uK,getSubPixelSpacingAndXYDirections:uNe}=Af;function fNe(t,e,n){this.isEditingOpen=!0;const r=t.detail,{currentPoints:a,element:i}=r,o=a.canvas,s=yn(i),{viewport:l}=s;this.doneEditMemo();const c=e.data.contour.polyline.map(l.worldToCanvas),{spacing:f,xDir:u,yDir:d}=uNe(l,this.configuration.subPixelResolution);this.editData={prevCanvasPoints:c,editCanvasPoints:[o],startCrossingIndex:void 0,editIndex:0},this.commonData={annotation:e,viewportIdsToRender:n,spacing:f,xDir:u,yDir:d,movingTextBox:!1},In.isInteractingWithTool=!0,i.addEventListener(ot.MOUSE_UP,this.mouseUpOpenContourEditCallback),i.addEventListener(ot.MOUSE_DRAG,this.mouseDragOpenContourEditCallback),i.addEventListener(ot.MOUSE_CLICK,this.mouseUpOpenContourEditCallback),i.addEventListener(ot.TOUCH_END,this.mouseUpOpenContourEditCallback),i.addEventListener(ot.TOUCH_DRAG,this.mouseDragOpenContourEditCallback),i.addEventListener(ot.TOUCH_TAP,this.mouseUpOpenContourEditCallback),Ty(i)}function dNe(t){In.isInteractingWithTool=!1,t.removeEventListener(ot.MOUSE_UP,this.mouseUpOpenContourEditCallback),t.removeEventListener(ot.MOUSE_DRAG,this.mouseDragOpenContourEditCallback),t.removeEventListener(ot.MOUSE_CLICK,this.mouseUpOpenContourEditCallback),t.removeEventListener(ot.TOUCH_END,this.mouseUpOpenContourEditCallback),t.removeEventListener(ot.TOUCH_DRAG,this.mouseDragOpenContourEditCallback),t.removeEventListener(ot.TOUCH_TAP,this.mouseUpOpenContourEditCallback),Eb(t)}function gNe(t){const e=t.detail,{currentPoints:n,element:r}=e,a=n.world,i=n.canvas,o=yn(r),{viewport:s}=o,{viewportIdsToRender:l,xDir:c,yDir:f,spacing:u}=this.commonData,{editIndex:d,editCanvasPoints:g,startCrossingIndex:v}=this.editData,m=g[g.length-1],p=s.canvasToWorld(m),h=Xt();this.createMemo(r,this.commonData.annotation),Ga(h,a,p);const y=Math.abs(Ln(h,c)),C=Math.abs(Ln(h,f));if(y<=u[0]&&C<=u[1])return;v!==void 0&&this.checkAndRemoveCrossesOnEditLine(t);const x=uK(r,g,i,this.commonData),T=d+x;this.editData.editIndex=T,v===void 0&&g.length>1&&this.checkForFirstCrossing(t,!1),this.editData.snapIndex=this.findSnapIndex(),this.editData.fusedCanvasPoints=this.fuseEditPointsWithOpenContour(t),v!==void 0&&this.checkForSecondCrossing(t,!1)?(this.removePointsAfterSecondCrossing(!1),this.finishEditOpenOnSecondCrossing(t)):this.checkIfShouldOverwriteAnEnd(t)&&this.openContourEditOverwriteEnd(t),Ji(l)}function mNe(t){const e=t.detail,{element:n}=e,r=yn(n),{viewport:a}=r,{annotation:i,viewportIdsToRender:o}=this.commonData,s=this.fuseEditPointsForOpenContourEndEdit();Bc(i,{points:s,closed:!1},a);const l=i.data.contour.polyline;i.data.handles.points=[l[0],l[l.length-1]],i.data.handles.activeHandleIndex=1,m0(i,n),this.isEditingOpen=!1,this.editData=void 0,this.commonData=void 0,this.doneEditMemo(),this.deactivateOpenContourEdit(n),this.activateOpenContourEndEdit(t,i,o,null)}function vNe(t){const e=t.detail,{currentPoints:n,lastPoints:r}=e,a=n.canvas,i=r.canvas,{snapIndex:o,prevCanvasPoints:s,startCrossingIndex:l}=this.editData;if(l===void 0||o===void 0)return!1;if(o===-1)return!0;if(o!==0&&o!==s.length-1)return!1;const c=a,f=i,u=s[o],d=Q0(),g=Q0();Hd(d,c[0]-f[0],c[1]-f[1]),Hd(g,c[0]-u[0],c[1]-u[1]);const v=z5e(d,g),m=Math.sqrt(d[0]*d[0]+d[1]*d[1]),p=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return Math.acos(v/(m*p))<Math.PI/2}function pNe(){const{snapIndex:t,prevCanvasPoints:e,editCanvasPoints:n,startCrossingIndex:r}=this.editData,a=[];if(t===0)for(let s=e.length-1;s>=r;s--){const l=e[s];a.push([l[0],l[1]])}else for(let s=0;s<r;s++){const l=e[s];a.push([l[0],l[1]])}const i=ci(e[r],n[0]),o=ci(e[r],n[n.length-1]);if(i<o)for(let s=0;s<n.length;s++){const l=n[s];a.push([l[0],l[1]])}else for(let s=n.length-1;s>=0;s--){const l=n[s];a.push([l[0],l[1]])}return a}function hNe(t){const{prevCanvasPoints:e,editCanvasPoints:n,startCrossingIndex:r,snapIndex:a}=this.editData;if(r===void 0||a===void 0)return;const i=t.detail,{element:o}=i,s=[...n];uK(o,s,e[a],this.commonData),s.length>n.length&&s.pop();let l,c;r>a?(l=a,c=r):(l=r,c=a);const f=ci(e[l],s[0]),u=ci(e[l],s[s.length-1]),d=ci(e[c],s[0]),g=ci(e[c],s[s.length-1]),v=[];for(let h=0;h<l;h++){const y=e[h];v.push([y[0],y[1]])}const m=f+g,p=u+d;if(m<p)for(let h=0;h<s.length;h++){const y=s[h];v.push([y[0],y[1]])}else for(let h=s.length-1;h>=0;h--){const y=s[h];v.push([y[0],y[1]])}for(let h=c;h<e.length;h++){const y=e[h];v.push([y[0],y[1]])}return v}function SNe(t){const e=t.detail,{element:n}=e,r=yn(n),{viewport:a,renderingEngine:i}=r,{annotation:o,viewportIdsToRender:s}=this.commonData,{fusedCanvasPoints:l,editCanvasPoints:c}=this.editData;Bc(o,{points:l,closed:!1},a);const f=o.data.contour.polyline;o.data.handles.points=[f[0],f[f.length-1]],m0(o,n);const u=c.pop();this.editData={prevCanvasPoints:l,editCanvasPoints:[u],startCrossingIndex:void 0,editIndex:0},Ji(s)}function yNe(t){const e=t.detail,{element:n}=e;this.completeOpenContourEdit(n)}function CNe(t){var s;const e=yn(t),{viewport:n}=e,{annotation:r,viewportIdsToRender:a}=this.commonData;this.doneEditMemo();const{fusedCanvasPoints:i,prevCanvasPoints:o}=this.editData;if(i){const l=Py(this.configuration)?Ly(this.configuration,i,o):i,c=((s=this.configuration)==null?void 0:s.decimate)||{};Bc(r,{points:l,closed:!1},n,{decimate:{enabled:!!c.enabled,epsilon:c.epsilon}});const f=r.data.contour.polyline;r.data.handles.points=[f[0],f[f.length-1]],r.data.isOpenUShapeContour&&(r.data.openUShapeContourVectorToPeak=qb(i,n)),m0(r,t)}this.isEditingOpen=!1,this.editData=void 0,this.commonData=void 0,Ji(a),this.deactivateOpenContourEdit(t)}function xNe(t){this.completeOpenContourEdit(t)}function TNe(t){t.activateOpenContourEdit=fNe.bind(t),t.deactivateOpenContourEdit=dNe.bind(t),t.mouseDragOpenContourEditCallback=gNe.bind(t),t.mouseUpOpenContourEditCallback=yNe.bind(t),t.fuseEditPointsWithOpenContour=hNe.bind(t),t.finishEditOpenOnSecondCrossing=SNe.bind(t),t.checkIfShouldOverwriteAnEnd=vNe.bind(t),t.fuseEditPointsForOpenContourEndEdit=pNe.bind(t),t.openContourEditOverwriteEnd=mNe.bind(t),t.cancelOpenContourEdit=xNe.bind(t),t.completeOpenContourEdit=CNe.bind(t)}const{getSubPixelSpacingAndXYDirections:wNe}=Af;function bNe(t,e,n,r){this.isDrawing=!0;const a=t.detail,{element:i}=a,o=yn(i),{viewport:s}=o,{spacing:l,xDir:c,yDir:f}=wNe(s,this.configuration.subPixelResolution),u=e.data.contour.polyline.map(s.worldToCanvas);e.data.handles.activeHandleIndex===0&&u.reverse();let g=!1;r!=null&&r.worldPosition&&(g=!0),this.drawData={canvasPoints:u,polylineIndex:u.length-1},this.commonData={annotation:e,viewportIdsToRender:n,spacing:l,xDir:c,yDir:f,movingTextBox:g},In.isInteractingWithTool=!0,i.addEventListener(ot.MOUSE_UP,this.mouseUpDrawCallback),i.addEventListener(ot.MOUSE_DRAG,this.mouseDragDrawCallback),i.addEventListener(ot.MOUSE_CLICK,this.mouseUpDrawCallback),i.addEventListener(ot.TOUCH_END,this.mouseUpDrawCallback),i.addEventListener(ot.TOUCH_DRAG,this.mouseDragDrawCallback),i.addEventListener(ot.TOUCH_TAP,this.mouseUpDrawCallback),Ty(i)}function ENe(t){t.activateOpenContourEndEdit=bNe.bind(t)}function DNe(t){return(t.childAnnotationUIDs??[]).map(n=>qi(n).data.contour.polyline)}function Ny(t,e){const n=DNe(t),r=[];return n.forEach(a=>{const i=a.length,o=new Array(i);for(let s=0;s<i;s++)o[s]=e.worldToCanvas(a[s]);r.push(o)}),r}const{pointsAreWithinCloseContourProximity:ONe}=Af;function RNe(t,e){const n={toolGroupId:this.toolGroupId,toolName:this.getToolName(),viewportId:t.viewport.id,annotationUID:e.annotationUID},{lineWidth:r,lineDash:a,color:i,fillColor:o,fillOpacity:s}=this.getAnnotationStyle({annotation:e,styleSpecifier:n}),{closed:l}=e.data.contour;return{color:i,width:r,lineDash:a,fillColor:o,fillOpacity:s,closePath:l}}function INe(t,e,n){var r;(r=t==null?void 0:t.viewport)!=null&&r.getImageData()&&(n.data.contour.closed?this.renderClosedContour(t,e,n):n.data.isOpenUShapeContour?(ANe(t,n),this.renderOpenUShapedContour(t,e,n)):this.renderOpenContour(t,e,n))}function ANe(t,e){e.data.openUShapeContourVectorToPeak||(e.data.openUShapeContourVectorToPeak=M_e(t,e))}function MNe(t,e,n){if(n.parentAnnotationUID)return;const{viewport:r}=t,a=this._getRenderingOptions(t,n),i=n.data.contour.polyline.map(c=>r.worldToCanvas(c)),o=Ny(n,r),s=[i,...o];n1(e,n.annotationUID,"1",s,a)}function PNe(t,e,n){var l;const{viewport:r}=t,a=this._getRenderingOptions(t,n),i=n.data.contour.polyline.map(c=>r.worldToCanvas(c));B1(e,n.annotationUID,"1",i,a);const s=n.data.handles.activeHandleIndex;if(((l=this.configuration.alwaysRenderOpenContourHandles)==null?void 0:l.enabled)===!0){const c=this.configuration.alwaysRenderOpenContourHandles.radius,f="0",u=[i[0],i[i.length-1]];s===0?u.shift():s===1&&u.pop(),xx(e,n.annotationUID,f,u,{color:a.color,handleRadius:c})}if(s!==null){const c="1",f=s===0?0:i.length-1,u=i[f];xx(e,n.annotationUID,c,[u],{color:a.color})}}function LNe(t,e,n){const{viewport:r}=t,{openUShapeContourVectorToPeak:a}=n.data,{polyline:i}=n.data.contour;if(this.renderOpenContour(t,e,n),!a)return;const o=r.worldToCanvas(i[0]),s=r.worldToCanvas(i[i.length-1]),l=[r.worldToCanvas(a[0]),r.worldToCanvas(a[1])],c=this._getRenderingOptions(t,n);B1(e,n.annotationUID,"first-to-last",[o,s],{color:c.color,width:c.width,closePath:!1,lineDash:"2,2"}),B1(e,n.annotationUID,"midpoint-to-open-contour",[l[0],l[1]],{color:c.color,width:c.width,closePath:!1,lineDash:"2,2"})}function _Ne(t,e,n){const r=this._getRenderingOptions(t,n),{allowOpenContours:a}=this.configuration,{canvasPoints:i}=this.drawData;if(r.closePath=!1,B1(e,n.annotationUID,"1",i,r),a){const o=i[0],s=i[i.length-1];ONe(o,s,this.configuration.closeContourProximity)?B1(e,n.annotationUID,"2",[s,o],r):xx(e,n.annotationUID,"0",[o],{color:r.color,handleRadius:2})}}function NNe(t,e,n){const{viewport:r}=t,{fusedCanvasPoints:a}=this.editData;if(a===void 0){this.renderClosedContour(t,e,n);return}const i=Ny(n,r),o=[a,...i],s=this._getRenderingOptions(t,n),l="preview-1";n.parentAnnotationUID&&s.fillOpacity&&(s.fillOpacity=0),n1(e,n.annotationUID,l,o,s)}function FNe(t,e,n){const{fusedCanvasPoints:r}=this.editData;if(r===void 0){this.renderOpenContour(t,e,n);return}const a=this._getRenderingOptions(t,n);B1(e,n.annotationUID,"preview-1",r,a)}function $Ne(t,e,n){if(n.parentAnnotationUID)return;const{viewport:r}=t,a=this._getRenderingOptions(t,n),i=n.data.contour.polyline.map(v=>r.worldToCanvas(v)),o=Ny(n,r),s="1",l=i[0],c=6,f=100,u=[];for(let v=0;v<f;v++){const m=v/f*2*Math.PI,p=l[0]+c*Math.cos(m),h=l[1]+c*Math.sin(m);u.push([p,h])}const d=[[l[0]-c*2,l[1]],[l[0]+c*2,l[1]],[l[0],l[1]-c*2],[l[0],l[1]+c*2]];n1(e,n.annotationUID,s+"-crosshair_v",[d[0],d[1]],a),n1(e,n.annotationUID,s+"-crosshair_h",[d[2],d[3]],a);const g=[u,...o];n1(e,n.annotationUID,s,g,a)}function VNe(t){t.renderContour=INe.bind(t),t.renderClosedContour=MNe.bind(t),t.renderOpenContour=PNe.bind(t),t.renderPointContourWithMarker=$Ne.bind(t),t.renderOpenUShapedContour=LNe.bind(t),t.renderContourBeingDrawn=_Ne.bind(t),t.renderClosedContourBeingEdited=NNe.bind(t),t.renderOpenContourBeingEdited=FNe.bind(t),t._getRenderingOptions=RNe.bind(t)}function kNe(t){const e=UNe(t),n=(e.top[1]+e.bottom[1])/2;return[e.right[0],n]}function UNe(t){const e=[t[0],t[1]].sort(o),n=[t[0],t[1]].sort(s),r=e[e.length-1],a=n[0],i=n[n.length-1];return{top:a,bottom:i,right:r};function o(l,c){return l[0]<c[0]?-1:1}function s(l,c){return l[1]<c[1]?-1:1}}function BNe(t,e){if(t instanceof fs){const n=dg(e),r=Yt.getVolume(n);return!!(r!=null&&r.scaling)&&Object.keys(r.scaling).length>0}else if(t instanceof rs){const{preScale:n}=t.getImageData()||{};return!!(n!=null&&n.scaled)}else return!1}function GP(t,e){let n=0;for(let r=0;r<t.length-1;r++){const a=t[r],i=t[r+1];n+=Math.sqrt(Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2))}if(e){const r=t[0],a=t[t.length-1];n+=Math.sqrt(Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2))}return n}const{DefaultHistoryMemo:Yh}=ub,Jm=class Jm{constructor(e,n){const r=Jm.mergeDefaultProps(Jm.defaults,n),a=uo(r,e),{configuration:i={},supportedInteractionTypes:o,toolGroupId:s}=a;this.toolGroupId=s,this.supportedInteractionTypes=o||[],this.configuration=Object.assign({},i),this.mode=Jr.Disabled}static mergeDefaultProps(e={},n){return n?uo(e,n):e}get toolName(){return this.getToolName()}getToolName(){return this.constructor.toolName}applyActiveStrategy(e,n){var i;const{strategies:r,activeStrategy:a}=this.configuration;return(i=r[a])==null?void 0:i.call(this,e,n)}applyActiveStrategyCallback(e,n,r,...a){var s;const{strategies:i,activeStrategy:o}=this.configuration;if(!i[o])throw new Error(`applyActiveStrategyCallback: active strategy ${o} not found, check tool configuration or spellings`);return(s=i[o][r])==null?void 0:s.call(this,e,n,...a)}setConfiguration(e){this.configuration=uo(this.configuration,e)}setActiveStrategy(e){this.setConfiguration({activeStrategy:e})}getTargetImageData(e){if(e.startsWith("imageId:")){const n=e.split("imageId:")[1],r=Ai(n);let a=mx(r);return!a||!a.length||(a=a.filter(i=>i.getCurrentImageId()===n),!a||!a.length)?void 0:a[0].getImageData()}else if(e.startsWith("volumeId:")){const n=dg(e),r=dy(n);return!r||!r.length?void 0:r[0].getImageData()}else if(e.startsWith("videoId:")){const n=Ai(e),r=mx(n);return!r||!r.length?void 0:r[0].getImageData()}else throw new Error('getTargetIdImage: targetId must start with "imageId:" or "volumeId:"')}getTargetId(e){var r;const n=(r=e.getViewReferenceId)==null?void 0:r.call(e);if(n)return n;throw new Error("getTargetId: viewport must have a getViewReferenceId method")}undo(){this.doneEditMemo(),Yh.undo()}redo(){Yh.redo()}static createZoomPanMemo(e){const n={pan:e.getPan(),zoom:e.getZoom()},r={restoreMemo:()=>{const a=e.getPan(),i=e.getZoom();e.setZoom(n.zoom),e.setPan(n.pan),e.render(),n.pan=a,n.zoom=i}};return Yh.push(r),r}doneEditMemo(){var e,n;(n=(e=this.memo)==null?void 0:e.commitMemo)!=null&&n.call(e)&&Yh.push(this.memo),this.memo=null}};Jm.defaults={configuration:{strategies:{},defaultStrategy:void 0,activeStrategy:void 0,strategyOptions:{}}};let _c=Jm;_c.toolName="BaseTool";function GNe(t){if(t){if(t.data&&t.highlighted)return nc.Highlighted;if(Ay(t.annotationUID))return nc.Selected;if(U1(t.annotationUID))return nc.Locked;if(t.data&&t.autoGenerated)return nc.AutoGenerated}return nc.Default}class fK extends _c{constructor(){super(...arguments),this.onImageSpacingCalibrated=e=>{const{element:n,imageId:r}=e.detail,a=Ai(r),i=h0();i.getFramesOfReference().forEach(s=>{const c=i.getAnnotations(s)[this.getToolName()];!c||!c.length||(c.forEach(f=>{var d;if(!((d=f.metadata)!=null&&d.referencedImageId))return;Ai(f.metadata.referencedImageId)===a&&(f.invalidated=!0,f.data.cachedStats={})}),kp(n))})}}filterInteractableAnnotationsForElement(e,n){if(!(n!=null&&n.length))return[];const r=yn(e),{viewport:a}=r;return oK(a,n)}createAnnotation(e){const n=e.detail,{currentPoints:r,element:a}=n,{world:i}=r,o=yn(a),{viewport:s}=o,l=s.getCamera(),{viewPlaneNormal:c,viewUp:f,position:u}=l,d=this.getReferencedImageId(s,i,c,f),g=s.getViewReference({points:[i]});return{highlighted:!0,invalidated:!0,metadata:{toolName:this.getToolName(),...g,referencedImageId:d,viewUp:f,cameraPosition:u},data:{cachedStats:{},handles:{points:[],activeHandleIndex:null,textBox:{hasMoved:!1,worldPosition:[0,0,0],worldBoundingBox:{topLeft:[0,0,0],topRight:[0,0,0],bottomLeft:[0,0,0],bottomRight:[0,0,0]}}}}}}getReferencedImageId(e,n,r,a){const i=this.getTargetId(e);let o=i.split(/^[a-zA-Z]+:/)[1];if(e instanceof fs){const s=dg(i),l=Yt.getVolume(s);o=zv(l,n,r)}return o}getStyle(e,n,r){return QH(e,n,GNe(r),this.mode)}}fK.toolName="AnnotationDisplayTool";const{DefaultHistoryMemo:zNe}=ub,{PointsManager:WNe}=gl;class Bu extends fK{static createAnnotation(...e){let n={annotationUID:null,highlighted:!0,invalidated:!0,metadata:{toolName:this.toolName},data:{text:"",handles:{points:new Array,textBox:{hasMoved:!1,worldPosition:[0,0,0],worldBoundingBox:{topLeft:[0,0,0],topRight:[0,0,0],bottomLeft:[0,0,0],bottomRight:[0,0,0]}}},label:""}};for(const r of e)n=uo(n,r);return n}static createAnnotationForViewport(e,...n){return this.createAnnotation({metadata:e.getViewReference()},...n)}static createAndAddAnnotation(e,...n){const r=this.createAnnotationForViewport(e,...n);$1(r,e.element),m0(r,e.element)}constructor(e,n){var r,a;super(e,n),this.mouseMoveCallback=(i,o)=>{if(!o)return!1;const{element:s,currentPoints:l}=i.detail,c=l.canvas;let f=!1;for(const u of o){if(U1(u.annotationUID)||!_3(u.annotationUID))continue;const{data:d}=u,g=d.handles?d.handles.activeHandleIndex:void 0,v=this._imagePointNearToolOrHandle(s,u,c,6),m=v&&!u.highlighted,p=!v&&u.highlighted;m||p?(u.highlighted=!u.highlighted,f=!0):d.handles&&d.handles.activeHandleIndex!==g&&(f=!0)}return f},this.isSuvScaled=Bu.isSuvScaled,(r=e.configuration)!=null&&r.getTextLines&&(this.configuration.getTextLines=e.configuration.getTextLines),(a=e.configuration)!=null&&a.statsCalculator&&(this.configuration.statsCalculator=e.configuration.statsCalculator)}getHandleNearImagePoint(e,n,r,a){const i=yn(e),{viewport:o}=i,{data:s}=n,{isCanvasAnnotation:l}=s,{points:c,textBox:f}=s.handles;if(f){const{worldBoundingBox:u}=f;if(u){const d={topLeft:o.worldToCanvas(u.topLeft),topRight:o.worldToCanvas(u.topRight),bottomLeft:o.worldToCanvas(u.bottomLeft),bottomRight:o.worldToCanvas(u.bottomRight)};if(r[0]>=d.topLeft[0]&&r[0]<=d.bottomRight[0]&&r[1]>=d.topLeft[1]&&r[1]<=d.bottomRight[1])return s.handles.activeHandleIndex=null,f}}for(let u=0;u<(c==null?void 0:c.length);u++){const d=c[u],g=l?d.slice(0,2):o.worldToCanvas(d);if(ci(r,g)<a===!0)return s.handles.activeHandleIndex=u,d}s.handles.activeHandleIndex=null}getLinkedTextBoxStyle(e,n){return{visibility:this.getStyle("textBoxVisibility",e,n),fontFamily:this.getStyle("textBoxFontFamily",e,n),fontSize:this.getStyle("textBoxFontSize",e,n),color:this.getStyle("textBoxColor",e,n),shadow:this.getStyle("textBoxShadow",e,n),background:this.getStyle("textBoxBackground",e,n),lineWidth:this.getStyle("textBoxLinkLineWidth",e,n),lineDash:this.getStyle("textBoxLinkLineDash",e,n)}}static isSuvScaled(e,n,r){var i;if(e instanceof fs){const o=dg(n),s=Yt.getVolume(o);return((i=s==null?void 0:s.scaling)==null?void 0:i.PT)!==void 0}const a=r&&tn("scalingModule",r);return typeof(a==null?void 0:a.suvbw)=="number"}getAnnotationStyle(e){const{annotation:n,styleSpecifier:r}=e,a=v=>this.getStyle(v,r,n),{annotationUID:i}=n,o=_3(i),s=U1(i),l=a("lineWidth"),c=a("lineDash"),f=a("color"),u=a("markerSize"),d=a("shadow"),g=this.getLinkedTextBoxStyle(r,n);return{visibility:o,locked:s,color:f,lineWidth:l,lineDash:c,lineOpacity:1,fillColor:f,fillOpacity:0,shadow:d,textbox:g,markerSize:u}}_imagePointNearToolOrHandle(e,n,r,a){if(this.getHandleNearImagePoint(e,n,r,a)||this.isPointNearTool(e,n,r,a,"mouse"))return!0}static createAnnotationState(e,n){const{data:r,annotationUID:a}=e,i={...r,cachedStats:{}};delete i.contour,delete i.spline;const o={annotationUID:a,data:structuredClone(i),deleting:n},s=r.contour;return s&&(o.data.contour={...s,polyline:null,pointsManager:WNe.create3(s.polyline.length,s.polyline)}),o}static createAnnotationMemo(e,n,r){if(!n)return;const{newAnnotation:a,deleting:i=a?!1:void 0}=r||{},{annotationUID:o}=n,s=Bu.createAnnotationState(n,i),l={restoreMemo:()=>{const c=Bu.createAnnotationState(n,i),{viewport:f}=yn(e)||{};if(f==null||f.setViewReference(n.metadata),s.deleting===!0){if(s.deleting=!1,Object.assign(n.data,s.data),n.data.contour){const d=n.data;d.contour.polyline=s.data.contour.pointsManager.points,delete s.data.contour.pointsManager,d.segmentation&&k1(n)}s.data=c.data,$1(n,e),o0(n.annotationUID,!0),f==null||f.render();return}if(s.deleting===!1){s.deleting=!0,s.data=c.data,o0(n.annotationUID),gf(n.annotationUID),f==null||f.render();return}const u=qi(o);if(!u){console.warn("No current annotation");return}Object.assign(u.data,s.data),u.data.contour&&(u.data.contour.polyline=s.data.contour.pointsManager.points),s.data=c.data,u.invalidated=!0,m0(u,e,ll.History)}};return zNe.push(l),l}createMemo(e,n,r){this.memo||(this.memo=Bu.createAnnotationMemo(e,n,r))}}Bu.toolName="AnnotationTool";class jNe extends Bu{constructor(e,n){super(e,n)}renderAnnotation(e,n){let r=!1;const{viewport:a}=e,{element:i}=a;if(!a.getRenderingEngine())return console.warn("Rendering Engine has been destroyed"),r;let o=Qv(this.getToolName(),i);if(!(o!=null&&o.length)||(o=this.filterInteractableAnnotationsForElement(i,o),!(o!=null&&o.length)))return r;const s=this.getTargetId(a),l={toolGroupId:this.toolGroupId,toolName:this.getToolName(),viewportId:e.viewport.id};for(let c=0;c<o.length;c++){const f=o[c];l.annotationUID=f.annotationUID;const u=this.getAnnotationStyle({annotation:f,styleSpecifier:l});if(!u.visibility)continue;const d=this.renderAnnotationInstance({enabledElement:e,targetId:s,annotation:f,annotationStyle:u,svgDrawingHelper:n});r||(r=d),f.invalidated=!1}return r}createAnnotation(e){const n=super.createAnnotation(e);return Object.assign(n.data,{contour:{polyline:[],closed:!1}}),Object.assign(n,{interpolationUID:"",autoGenerated:!1}),n}addAnnotation(e,n){return $1(e,n)}cancelAnnotation(e){}moveAnnotation(e,n){const{points:r}=e.data.handles;for(let a=0,i=r.length;a<i;a++){const o=r[a];o[0]+=n[0],o[1]+=n[1],o[2]+=n[2]}e.invalidated=!0,Mb(e).forEach(a=>this.moveAnnotation(a,n))}updateContourPolyline(e,n,r,a){var o;const i=((o=this.configuration)==null?void 0:o.decimate)||{};Bc(e,n,r,{decimate:{enabled:!!i.enabled,epsilon:i.epsilon},updateWindingDirection:a==null?void 0:a.updateWindingDirection})}getPolylinePoints(e){var n;return((n=e.data.contour)==null?void 0:n.polyline)??e.data.polyline}renderAnnotationInstance(e){const{enabledElement:n,annotationStyle:r,svgDrawingHelper:a}=e,i=e.annotation;if(i.parentAnnotationUID)return;const{annotationUID:o}=i,{viewport:s}=n,{worldToCanvas:l}=s,c=this.getPolylinePoints(i).map(h=>l(h)),{lineWidth:f,lineDash:u,color:d,fillColor:g,fillOpacity:v}=r,m=Ny(i,s),p=[c,...m];return n1(a,o,"contourPolyline",p,{color:d,lineDash:u,lineWidth:Math.max(.1,f),fillColor:g,fillOpacity:v}),!0}}const z1={...NMe,...MMe,resetAnnotationManager:sLe},zP="PlanarFreehandContourSegmentationTool";function Qb(t,e=[]){const{viewport:n,sliceData:r,annotation:a}=t,i=new Map,{toolName:o,originalToolName:s}=a.metadata,l=s||o,c=(Qv(l,n.element)||[]).filter(f=>!f.metadata.originalToolName||f.metadata.originalToolName===l);if(l!==zP){const f=Qv(zP,n.element);f!=null&&f.length&&f.forEach(u=>{const{metadata:d}=u;d.originalToolName===l&&d.originalToolName!==d.toolName&&c.push(u)})}if(!(c!=null&&c.length))return i;for(let f=0;f<r.numberOfSlices;f++){const u=c.filter(g=>g.metadata.sliceIndex===f);if(!(u!=null&&u.length))continue;const d=u.filter(g=>e.every(v=>{const m=v.parentKey?v.parentKey(g):g,p=m==null?void 0:m[v.key];return Array.isArray(p)?p.every((h,y)=>h===v.value[y]):p===v.value}));d.length&&i.set(f,d)}return i}function HNe(t,e){const n=Qb(t,e),r=[];if(!(n!=null&&n.size))return r;for(const a of n.values())a.forEach(i=>{r.push(i)});return r}function dK(t,e,n){const r=uo({data:{},metadata:{}},n);return Object.assign(r,{highlighted:!1,invalidated:!0,autoGenerated:!0,annotationUID:void 0,cachedStats:{},childAnnotationUIDs:[],parentAnnotationUID:void 0}),Object.assign(r.data,{handles:{points:e.points||e||[],interpolationSources:e.sources,activeHandleIndex:null,textBox:{hasMoved:!1,worldPosition:[0,0,0],worldBoundingBox:{topLeft:[0,0,0],topRight:[0,0,0],bottomLeft:[0,0,0],bottomRight:[0,0,0]}}},contour:{...n.data.contour,polyline:t}}),r}function qNe(t,e){const n=Qb(e,[{key:"interpolationUID",value:e.interpolationUID}]),r=KNe(n);if(!r){console.warn("No annotations found to interpolate",n);return}const a=QNe(n,t.annotationUID),i=[];for(let o=r[0]+1;o<r[1];o++)if(XNe(n,o)){const s=ZNe(o,r,n);((s==null?void 0:s[0])===a||(s==null?void 0:s[1])===a)&&YNe(s,i,o)}return{interpolationData:n,interpolationList:i}}function KNe(t){let e=1/0,n=-1/0,r=!1;for(const[a,i]of t.entries())i.length&&(e=Math.min(a,e),n=Math.max(a,n),r=!0);if(r)return[e,n]}function QNe(t,e){for(const[n,r]of t)for(let a=0;a<r.length;a++)if(r[a].annotationUID===e)return n}function XNe(t,e){const n=t.get(e);return!(n!=null&&n.length)||n.length===1&&n[0].autoGenerated}function YNe(t,e,n){const[r]=t;e[r]||(e[r]={pair:t,list:[]}),e[r].list.push(n)}function ZNe(t,e,n){const r=[];let a=!0;for(let i=t-1;i>=e[0];i--){const o=n.get(i);if(o!=null&&o.length){if(o[0].autoGenerated)continue;o.length>1&&(a=!1),r.push(i);break}}if(!(!a||!r.length)){for(let i=t+1;i<=e[1];i++){const o=n.get(i);if(o!=null&&o.length){if(o[0].autoGenerated)continue;o.length>1&&(a=!1),r.push(i);break}}if(!(!a||r.length<2))return r}}const{PointsManager:WP}=gl;function JNe(t,e=12){const n=WP.create3(e);n.sources=[];const{sources:r}=n,{length:a,sources:i=[]}=t,o=5;if(a<o*3)return t.subselect(e);const s=Math.floor(Math.max(2*a/e,o*2));i.forEach(()=>r.push(WP.create3(e)));const l=eFe(t,o),c=tFe(l,e),f=[];if((c==null?void 0:c.length)>2){let u=-1;const d=s/3;c.forEach(m=>{const[p,,h]=m,y=Math.ceil((p+h)/2);h-u<d||(y-p>2*d?(td(f,u,p,s,a),u=td(f,p,y,s,a)):u=td(f,u,y,s,a),h-u>d&&(u=td(f,u,h,s,a)))});const g=f[0];Tx(g+a-u,a)>2*d&&td(f,u,g-d,s,a)}else{const u=Math.floor(a/e);td(f,-1,a-u,u,a)}return f.forEach(u=>{const d=t.getPointArray(u);n.push(d),i.forEach((g,v)=>r[v].push(g.getPoint(u)))}),n}function eFe(t,e=6){const{length:n}=t,r=Xt(),a=Xt(),i=new Float32Array(n);for(let o=0;o<n;o++){const s=t.getPoint(o),l=t.getPoint(o-e),c=t.getPoint((o+e)%n);Ca(r,s,l),Ca(a,c,s);const f=Ln(r,a)/(o3(r)*o3(a));i[o]=f}return i}function tFe(t,e){const{max:n,deviation:r}=nFe(t),{length:a}=t;if(r<.01||a<e*3)return[];const i=[];let o=null,s,l=0;for(let c=0;c<a;c++){const f=t[c];f<n-r?o?(o[2]=c,f<s&&(s=f,l=c),o[1]=l):(s=f,l=c,o=[c,c,c]):o&&(i.push(o),o=null)}return o&&(i[0][0]===0?i[0][0]=o[0]:(o[1]=l,o[2]=a-1,i.push(o))),i}function td(t,e,n,r,a){n<e&&(n+=a);const i=n-e,o=Math.ceil(i/r);if(o<=0)return t[t.length-1]!==n&&t.push(Tx(n,a)),n;for(let s=1;s<=o;s++){const l=Tx(e+s*i/o,a);t.push(l)}return t[t.length-1]}function Tx(t,e){return(Math.round(t)+e)%e}function nFe(t){const{length:e}=t;let n=0,r=1/0,a=-1/0,i=0;for(let s=0;s<e;s++){const l=t[s];n+=l,r=Math.min(r,l),a=Math.max(a,l)}const o=n/e;for(let s=0;s<e;s++){const l=t[s]-o;i+=l*l}return{mean:o,max:a,min:r,sumSq:i,deviation:Math.sqrt(i/e)}}function rFe(t){const{parentAnnotationUID:e,annotationUID:n}=t;if(!e)return t.interpolationUID;const r=z1.getAnnotation(e),{interpolationUID:a}=r,i=r.childAnnotationUIDs.indexOf(n);return t.interpolationUID=`${a}-${i}`,t.interpolationUID}const{isEqual:jP}=gl;function gK(t){const{metadata:e}=t;return IDe().filter(n=>{if(n.FrameOfReferenceUID===e.FrameOfReferenceUID){const r=n.viewport,{viewPlaneNormal:a,viewUp:i}=r.getCamera();return jP(a,e.viewPlaneNormal)&&(!e.viewUp||jP(i,e.viewUp))}}).map(n=>n.viewport)}const Qm="PlanarFreehandContourSegmentationTool";async function aFe(t){const e=t.detail.annotation;if(!Iy(e))return;const n=iFe(e),r=oFe(n,e);if(!r.length)return;const a=Fy(e.data.contour.polyline,n),i=sFe(n,a,r);if(!i)return;const{targetAnnotation:o,targetPolyline:s,isContourHole:l}=i;if(l){const{contourHoleProcessingEnabled:c=!1}=t.detail;if(!c)return;vK(n,o,e)}else cFe(n,o,s,e,a)}function mK(t,e=!1){const n="PlanarFreehandContourSegmentationTool",r=Fi(t.id,t.renderingEngineId);let a;return r.hasTool(n)?r.getToolOptions(n)||(a=`Tool ${n} must be in active/passive state`):a=`Tool ${n} not added to ${r.id} toolGroup`,a&&!e&&console.warn(a),!a}function iFe(t){const e=gK(t);return e.find(r=>mK(r,!0))??e[0]}function Fy(t,e){const n=t.length,r=new Array(n);for(let a=0;a<n;a++)r[a]=e.worldToCanvas(t[a]);return r}function oFe(t,e){const{annotationUID:n}=e;return nq().filter(a=>a.annotationUID&&a.annotationUID!==n&&Iy(a)&&kPe(a,e)&&t.isReferenceViewable(a.metadata))}function sFe(t,e,n){const r=N3(e);for(let a=0;a<n.length;a++){const i=n[a],o=Fy(i.data.contour.polyline,t),s=N3(o),l=ILe(r,s),c=l&&nK(e,o),f=l&&!c&&Bb(o,e);if(c||f)return{targetAnnotation:i,targetPolyline:o,isContourHole:f}}}function vK(t,e,n){e.data.contour,n.data.contour,Ab(e,n),$b(n);const{contour:r}=n.data,a=Fy(r.polyline,t);Bc(n,{points:a,closed:r.closed},t);const{element:i}=t,o=new Set([Qm,e.metadata.toolName,n.metadata.toolName]);for(const s of o.values()){const l=Km(i,s);Ji(l)}}function lFe(t,e){return Mb(e).map(n=>{const r=Fy(n.data.contour.polyline,t);return{annotation:n,polyline:r}})}function cFe(t,e,n,r,a){var C;if(!FMe(Qm)){console.warn(`${Qm} is not registered in cornerstone`);return}if(!mK(t))return;const i=a[0],o=vf(n,i),s=lFe(t,e),l=new Set(s),c=new Map,f=(x,T)=>{let w=c.get(x);w||(w=[],c.set(x,w)),w.push(T),l.delete(T)},u=[];if(o){const x=Jq(n,a);u.push(x),Array.from(l.keys()).forEach(T=>f(x,T))}else eK(n,a).forEach(T=>{u.push(T),Array.from(l.keys()).forEach(w=>{Bb(T,w.polyline)&&(f(T,w),l.delete(w))})});Array.from(c.values()).forEach(x=>x.forEach(T=>Ib(T.annotation)));const{element:d}=t,g=yn(d),{metadata:v,data:m}=e,{handles:p,segmentation:h}=m,{textBox:y}=p;gf(r.annotationUID),gf(e.annotationUID);for(let x=0;x<u.length;x++){const T=u[x],w=t.canvasToWorld(T[0]),b=t.canvasToWorld(T[T.length-1]),E={metadata:{...v,toolName:Qm,originalToolName:v.originalToolName||v.toolName},data:{cachedStats:{},handles:{points:[w,b],textBox:y?{...y}:void 0},contour:{polyline:[],closed:!0},spline:e.data.spline,segmentation:{...h}},annotationUID:Li(),highlighted:!0,invalidated:!0,isLocked:!1,isVisible:void 0,interpolationUID:e.interpolationUID,interpolationCompleted:e.interpolationCompleted};Bc(E,{points:T,closed:!0,targetWindingDirection:G1.Clockwise},t),$1(E,d),k1(E),m0(E,t.element),(C=c.get(T))==null||C.forEach(O=>Ab(E,O.annotation))}uFe(g,e,r)}function uFe(t,e,n){const{viewport:r}=t,{element:a}=r,i=new Set([Qm,e.metadata.toolName,n.metadata.toolName]);for(const o of i.values()){const s=Km(a,o);Ji(s)}return new Promise(o=>window.requestAnimationFrame(o))}const{PointsManager:Xg}=gl,HP=.2;function Z2(t){if(!t.annotation)return;const{isInterpolationUpdate:e,annotation:n}=t;queueMicrotask(()=>{try{e&&(n.isInterpolationUpdate=!0,n.autoGenerated=!1),fFe(t)}finally{e&&(n.autoGenerated=!0)}})}function fFe(t){const{annotation:e}=t;rFe(e);const{interpolationData:n,interpolationList:r}=qNe(e,t)||{};if(!n||!r)return;const a={toolName:e.metadata.toolName,toolType:e.metadata.toolName,viewport:t.viewport};for(let c=0;c<r.length;c++)r[c]&&dFe(r[c].list,r[c].pair,n,a);const{id:i,renderingEngineId:o,element:s}=t.viewport,l={annotation:e,element:s,viewportId:i,renderingEngineId:o};r.length&&_t(t.viewport.element,ot.ANNOTATION_INTERPOLATION_PROCESS_COMPLETED,l)}function dFe(t,e,n,r){const a=n.get(e[0])[0],i=n.get(e[1])[0],o=JP(a.data.contour.polyline),s=JP(i.data.contour.polyline),{c1Interp:l,c2Interp:c}=hFe(o,s);l.kIndex=e[0],c.kIndex=e[1],t.forEach(function(f){gFe(l,c,f,e,n,o.x.length>s.x.length,r)})}function gFe(t,e,n,r,a,i,o){const[s,l]=r,c=(n-s)/(l-s),f=a.get(s)[0],u=a.get(l)[0],d=pFe(t,e,c,i),g=c>.5?u:f,v=JNe(d);a.has(n)?vFe(d,v,n,g,o):mFe(d,v,n,g,o)}function mFe(t,e,n,r,a){var f;const i=t.points,{viewport:o}=a,s=dK(i,e,r),l=o.getViewReference({sliceIndex:n});if(!l)throw new Error(`Can't find slice ${n}`);Object.assign(s.metadata,l),z1.addAnnotation(s,o.element),(f=r.onInterpolationComplete)==null||f.call(r,s,r);const{parentAnnotationUID:c}=r;if(c){const u=z1.getAnnotation(c),d=pK(u,n,a);vK(o,d,s)}}function pK(t,e,n){const{viewport:r}=n,a=z1.getAnnotations(t.metadata.toolName,r.element);for(let i=0;i<a.length;i++){const o=a[i];if(o.interpolationUID===t.interpolationUID&&o.metadata.sliceIndex===e)return o}}function vFe(t,e,n,r,a){const i=pK(r,n,a),o=t.points,s=dK(o,e,i);Object.assign(i,{metadata:s.metadata,data:s.data})}function pFe(t,e,n,r){const a=r?t.I:e.I,i=Xg.fromXYZ(t),o=Xg.fromXYZ(e),{length:s}=i,l=Xg.create3(s),c=Xt(),f=Xt(),u=Xg.create3(s);u.kIndex=t.kIndex;const d=Xg.create3(s);d.kIndex=e.kIndex;for(let g=0;g<t.x.length;g++)if(a[g]){const v=i.getPoint(g),m=o.getPoint(g);u.push(v),d.push(m),Ca(c,m,v),l.push(li(f,v,c,n))}return l.sources=[u,d],l}function hFe(t,e){const n=ZP(t),r=ZP(e),a=Math.max(Math.ceil(n[n.length-1]/HP),Math.ceil(r[r.length-1]/HP)),i=YP(n),o=YP(r),s=a+e.x.length,l=a+t.x.length,c=XP(s,i),f=XP(l,o),u=QP(s-2,t.x.length),d=QP(l-2,e.x.length),g=KP(c,u),v=KP(f,d),m=qP(t,g),p=qP(e,v);return yFe(m,p),SFe(m,p)}function SFe(t,e){const n={x:[],y:[],z:[],I:[]},r={x:[],y:[],z:[],I:[]};for(let a=0;a<t.x.length;a++)(t.I[a]||e.I[a])&&(n.x.push(t.x[a]),n.y.push(t.y[a]),n.z.push(t.z[a]),n.I.push(t.I[a]),r.x.push(e.x[a]),r.y.push(e.y[a]),r.z.push(e.z[a]),r.I.push(e.I[a]));return{c1Interp:n,c2Interp:r}}function yFe(t,e){const n=t.x.length,r={startingNode:0,totalSquaredXYLengths:1/0};for(let i=0;i<n;i++){let o=i,s=0;for(let l=0;l<n;l++)s+=(t.x[o]-e.x[l])**2+(t.y[o]-e.y[l])**2+(t.z[o]-e.z[l])**2,o++,o===n&&(o=0);s<r.totalSquaredXYLengths&&(r.totalSquaredXYLengths=s,r.startingNode=i)}const a=r.startingNode;Zh(t.x,a),Zh(t.y,a),Zh(t.z,a),Zh(t.I,a)}function Zh(t,e){e-=t.length*Math.floor(e/t.length);const n=t.splice(0,e);return t.push(...n),t}function qP(t,e){const n={x:[],y:[],z:[],I:[]};for(let r=0;r<t.x.length-1;r++){n.x.push(t.x[r]),n.y.push(t.y[r]),n.z.push(t.z[r]),n.I.push(!0);const a=(t.x[r+1]-t.x[r])/(e[r]+1),i=(t.y[r+1]-t.y[r])/(e[r]+1),o=(t.z[r+1]-t.z[r])/(e[r]+1);for(let s=0;s<e[r]-1;s++)n.x.push(n.x[n.x.length-1]+a),n.y.push(n.y[n.y.length-1]+i),n.z.push(n.z[n.z.length-1]+o),n.I.push(!1)}return n}function KP(t,e){const n=[];for(let o=0;o<t.length;++o)n[o]=o;n.sort(function(o,s){return t[o]<t[s]?-1:1});const r=[];for(let o=0;o<e.length;o++)r.push(e[n[o]]);const a=r.reduce(function(o,s,l){return s&&o.push(l),o},[]),i=[];for(let o=0;o<a.length-1;o++)i.push(a[o+1]-a[o]);return i}function QP(t,e){const n=new Array(t+e);return n.fill(!1,0,t),n.fill(!0,t,t+e),n}function XP(t,e){const n=1/(t-1),r=[n];for(let a=1;a<t-2;a++)r.push(r[r.length-1]+n);return r.concat(e)}function YP(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]/t[t.length-1]);return e}function ZP(t){const e=[0];for(let n=1;n<t.x.length;n++){const r=Math.sqrt((t.x[n]-t.x[n-1])**2+(t.y[n]-t.y[n-1])**2+(t.z[n]-t.z[n-1])**2);e.push(e[n-1]+r)}return e}function JP(t){const e={x:[],y:[],z:[]};for(let n=0;n<t.length;n++)e.x[n]=t[n][0],e.y[n]=t[n][1],e.z[n]=t[n][2];return e.x.push(e.x[0]),e.y.push(e.y[0]),e.z.push(e.z[0]),e}function eL(t){const{annotation:e}=t,n=Qb(t,[{key:"interpolationUID",value:t.interpolationUID}]),r=e.metadata.sliceIndex;let a=-1,i=t.sliceData.numberOfSlices;for(const[s,l]of n.entries())s===r||!l.find(f=>!f.autoGenerated)||(s<r?a=Math.max(s,a):i=Math.min(s,i));const o=[];for(const[s,l]of n.entries())s<=a||s>=i||s===r||l.forEach(c=>{c.autoGenerated&&(z1.removeAnnotation(c.annotationUID),o.push(c))});if(o.length){const s={annotations:o,element:t.viewport.element,viewportId:t.viewport.id,renderingEngineId:t.viewport.getRenderingEngine().id};_t(t.viewport.element,ot.INTERPOLATED_ANNOTATIONS_REMOVED,s)}if(a>=0&&i<t.sliceData.numberOfSlices){const s=n.get(i)[0],l={viewport:t.viewport,sliceData:{numberOfSlices:t.sliceData.numberOfSlices,imageIndex:s.metadata.sliceIndex},annotation:s,interpolationUID:s.interpolationUID};Z2(l)}}function eC(t){const e=gK(t);return e.length?e[0]:void 0}const{uuidv4:CFe}=gl,xFe=[ll.HandlesUpdated,ll.InterpolationUpdated],Qo=class Qo{static addTool(e){this.toolNames.includes(e)||this.toolNames.push(e)}static acceptAutoGenerated(e,n={}){const{toolNames:r,segmentationId:a,segmentIndex:i,sliceIndex:o}=n;for(const s of r||Qo.toolNames){const l=z1.getAnnotations(s,e);if(l!=null&&l.length)for(const c of l){const{interpolationUID:f,data:u,autoGenerated:d,metadata:g}=c;f&&(c.interpolationCompleted=!0),d&&(i&&i!==u.segmentation.segmentIndex||o!==void 0&&g&&o!==g.sliceIndex||a&&a!==u.segmentation.segmentationId||(k1(c),c.autoGenerated=!1))}}}};Qo.toolNames=[],Qo.handleAnnotationCompleted=e=>{var g;const n=e.detail.annotation;if(!(n!=null&&n.metadata))return;const{toolName:r,originalToolName:a}=n.metadata;if(!Qo.toolNames.includes(r)&&!Qo.toolNames.includes(a))return;const i=eC(n);if(!i){console.warn("Unable to find viewport for",n);return}const o=tC(i),s={viewport:i,sliceData:o,annotation:n,interpolationUID:n.interpolationUID},l=!!n.interpolationUID;if(n.autoGenerated=!1,l){eL(s),Z2(s);return}const c=[{key:"segmentIndex",value:n.data.segmentation.segmentIndex,parentKey:v=>v.data.segmentation},{key:"viewPlaneNormal",value:n.metadata.viewPlaneNormal,parentKey:v=>v.metadata},{key:"viewUp",value:n.metadata.viewUp,parentKey:v=>v.metadata}];let f=HNe(s,c);const{sliceIndex:u}=n.metadata,d=new Set;f.forEach(v=>{if(v.interpolationCompleted||v.metadata.sliceIndex===u){const{interpolationUID:m}=v;d.add(m)}}),f=f.filter(v=>!d.has(v.interpolationUID)),n.interpolationUID=((g=f[0])==null?void 0:g.interpolationUID)||CFe(),s.interpolationUID=n.interpolationUID,Z2(s)},Qo.handleAnnotationUpdate=e=>{const n=e.detail.annotation,{changeType:r=ll.HandlesUpdated}=e.detail;if(!(n!=null&&n.metadata))return;const{toolName:a,originalToolName:i}=n.metadata;if(!Qo.toolNames.includes(a)&&!Qo.toolNames.includes(i)||!xFe.includes(r))return;const o=eC(n);if(!o){console.warn("Unable to find matching viewport for annotation interpolation",n);return}n.autoGenerated&&(k1(n),n.autoGenerated=!1);const s=tC(o),l={viewport:o,sliceData:s,annotation:n,interpolationUID:n.interpolationUID,isInterpolationUpdate:r===ll.InterpolationUpdated};Z2(l)},Qo.handleAnnotationDelete=e=>{const n=e.detail.annotation;if(!(n!=null&&n.metadata))return;const{toolName:r}=n.metadata;if(!Qo.toolNames.includes(r)||n.autoGenerated)return;const a=eC(n);if(!a){console.warn("No viewport, can't delete interpolated results",n);return}const i=tC(a),o={viewport:a,sliceData:i,annotation:n,interpolationUID:n.interpolationUID};n.autoGenerated=!1,eL(o)};let el=Qo;function tC(t){return{numberOfSlices:t.getNumberOfSlices(),imageIndex:t.getCurrentImageIdIndex()}}function TFe(t){t.forEach(e=>{const n=YH(e);if(!n){console.warn(`ToolGroup not available for ${e}`);return}n.getViewportsInfo().forEach(a=>{const{renderingEngineId:i,viewportId:o}=a,s=Of(i);if(!s){console.warn(`RenderingEngine not available for ${i}`);return}const l=s.getViewport(o);kp(l.element)})})}function hK(t){const r=S0.getState().viewportSegRepresentations;return Object.entries(r).filter(([,i])=>i.some(o=>o.segmentationId===t)).map(([i])=>i)}function wFe(t){const e=Bo(t);if(!e)throw new Error(`No segmentation state found for ${t}`);const{segments:n}=e;return Object.keys(n).filter(a=>n[a].locked).map(a=>parseInt(a))}function bFe(t,e,n){const r=Qu(t,{segmentationId:e});if(!r||r.length===0)return null;const a=r[0],{colorLUTIndex:i}=a,o=_b(i);let s=o[n];if(!s){if(typeof n!="number")throw new Error(`Can't create colour for LUT index ${n}`);s=o[n]=[0,0,0,0]}return s}function EFe(t,e){return S0.getSegmentationRepresentationVisibility(t,e)}function DFe({segmentationId:t,segmentIndex:e,viewportId:n,autoGenerated:r=!1}){const a=bFe(n,t,e),i=EFe(n,{segmentationId:t,type:Un.Contour}),o=kb(n),s=(o==null?void 0:o.segmentationId)===t,c=Jd.getStyle({viewportId:n,segmentationId:t,type:Un.Contour,segmentIndex:e});let f=1,u,d=1,g=0;r?(f=c.outlineWidthAutoGenerated??f,u=c.outlineDashAutoGenerated??u,d=c.outlineOpacity??d,g=c.fillAlphaAutoGenerated??g):s?(f=c.outlineWidth??f,u=c.outlineDash??u,d=c.outlineOpacity??d,g=c.fillAlpha??g):(f=c.outlineWidthInactive??f,u=c.outlineDashInactive??u,d=c.outlineOpacityInactive??d,g=c.fillAlphaInactive??g),Ub(t)===e&&(f+=c.activeSegmentOutlineWidthDelta),f=c.renderOutline?f:0,g=c.renderFill?g:0;const v=`rgba(${a[0]}, ${a[1]}, ${a[2]}, ${d})`,m=`rgb(${a[0]}, ${a[1]}, ${a[2]})`,h=!Fb(n,{segmentationId:t,type:Un.Contour}).has(e);return{color:v,fillColor:m,lineWidth:f,fillOpacity:g,lineDash:u,textbox:{color:v},visibility:i&&h}}const eE=class eE extends jNe{constructor(e,n){var r;super(e,n),(r=this.configuration.interpolation)!=null&&r.enabled&&el.addTool(this.getToolName())}isContourSegmentationTool(){return!0}createAnnotation(e){const n=e.detail,{element:r}=n,a=yn(r);if(!a)return;const{viewport:i}=a,o=super.createAnnotation(e);if(!this.isContourSegmentationTool())return o;const s=kb(i.id);if(!s)throw new Error("No active segmentation detected, create one before using scissors tool");if(!s.representationData.Contour)throw new Error("A contour segmentation must be active");const{segmentationId:l}=s,c=Ub(l);return uo(o,{data:{segmentation:{segmentationId:l,segmentIndex:c}}})}addAnnotation(e,n){const r=super.addAnnotation(e,n);return this.isContourSegmentationTool()&&k1(e),r}cancelAnnotation(e){this.isContourSegmentationTool()&&$b(e),super.cancelAnnotation(e)}getAnnotationStyle(e){const n=super.getAnnotationStyle(e);if(!this.isContourSegmentationTool())return n;const r=this._getContourSegmentationStyle(e);return uo(n,r)}renderAnnotationInstance(e){const{annotation:n}=e,{invalidated:r}=n,a=super.renderAnnotationInstance(e);if(r&&this.isContourSegmentationTool()){const{segmentationId:i}=n.data.segmentation;Oy(i);const s=hK(i).map(l=>Fi(l).id);TFe(s)}return a}_getContourSegmentationStyle(e){const n=e.annotation,{segmentationId:r,segmentIndex:a}=n.data.segmentation,{viewportId:i}=e.styleSpecifier,o=Qu(i,{segmentationId:r});if(!(o!=null&&o.length))return{};o.length>1?o.find(p=>p.segmentationId===r&&p.type===Un.Contour):o[0];const{autoGenerated:s}=n,c=wFe(r).includes(a),{color:f,fillColor:u,lineWidth:d,fillOpacity:g,lineDash:v,visibility:m}=DFe({segmentationId:r,segmentIndex:a,viewportId:i,autoGenerated:s});return{color:f,fillColor:u,lineWidth:d,fillOpacity:g,lineDash:v,textbox:{color:f},visibility:m,locked:c}}};eE.PreviewSegmentIndex=255;let wx=eE;function OFe(t,e,n){return t==="CT"?"HU":t==="PT"?RFe(e,n):""}function RFe(t,e){if(!e.isPreScaled)return"raw";if(e.isSuvScaled)return"SUV";const n=tn("generalSeriesModule",t);if((n==null?void 0:n.modality)==="PT"){const r=tn("petSeriesModule",t);return(r==null?void 0:r.units)||"unitless"}return"unknown"}const{pointCanProjectOnLine:tL}=Af,{EPSILON:IFe}=hU,AFe=1-IFe,tE=class tE extends wx{constructor(e={},n={supportedInteractionTypes:["Mouse","Touch"],configuration:{storePointData:!1,shadow:!0,preventHandleOutsideImage:!1,contourHoleAdditionModifierKey:To.Shift,alwaysRenderOpenContourHandles:{enabled:!1,radius:2},allowOpenContours:!0,closeContourProximity:10,checkCanvasEditFallbackProximity:6,makeClockWise:!0,subPixelResolution:4,smoothing:{smoothOnAdd:!1,smoothOnEdit:!1,knotsRatioPercentageOnAdd:40,knotsRatioPercentageOnEdit:40},interpolation:{enabled:!1,onInterpolationComplete:null},decimate:{enabled:!1,epsilon:.1},displayOnePointAsCrosshairs:!1,calculateStats:!0,getTextLines:MFe,statsCalculator:Cx}}){super(e,n),this.isDrawing=!1,this.isEditingClosed=!1,this.isEditingOpen=!1,this.addNewAnnotation=r=>{const a=r.detail,{element:i}=a,o=this.createAnnotation(r);this.addAnnotation(o,i);const s=Km(i,this.getToolName());return this.activateDraw(r,o,s),r.preventDefault(),Ji(s),o},this.handleSelectedCallback=(r,a,i)=>{const o=r.detail,{element:s}=o,l=Km(s,this.getToolName());this.activateOpenContourEndEdit(r,a,l,i)},this.toolSelectedCallback=(r,a)=>{const i=r.detail,{element:o}=i,s=Km(o,this.getToolName());a.data.contour.closed?this.activateClosedContourEdit(r,a,s):this.activateOpenContourEdit(r,a,s),r.preventDefault()},this.isPointNearTool=(r,a,i,o)=>{const s=yn(r),{viewport:l}=s,{polyline:c}=a.data.contour;let f=l.worldToCanvas(c[0]);for(let g=1;g<c.length;g++){const v=f,m=l.worldToCanvas(c[g]);if(tL(i,v,m,o))return!0;f=m}if(!a.data.contour.closed)return!1;const u=l.worldToCanvas(c[0]),d=l.worldToCanvas(c[c.length-1]);return tL(i,u,d,o)},this.cancel=r=>{const a=this.isDrawing,i=this.isEditingOpen,o=this.isEditingClosed;a?this.cancelDrawing(r):i?this.cancelOpenContourEdit(r):o&&this.cancelClosedContourEdit(r)},this._calculateCachedStats=(r,a,i,o)=>{const{data:s}=r,{cachedStats:l}=s,{polyline:c,closed:f}=s.contour,u=Object.keys(l);for(let d=0;d<u.length;d++){const g=u[d],v=this.getTargetImageData(g);if(!v)continue;const{imageData:m,metadata:p}=v,h=c.map(T=>a.worldToCanvas(T)),y={isPreScaled:BNe(a,g),isSuvScaled:this.isSuvScaled(a,g,r.metadata.referencedImageId)},C=OFe(p.Modality,r.metadata.referencedImageId,y),x=RLe(v,()=>{const T=s.contour.polyline,w=T.length,b=new Array(w);for(let L=0;L<w;L++)b[L]=a.worldToCanvas(T[L]);const{maxX:E,maxY:O,minX:D,minY:R}=N3(b),I=a.canvasToWorld([D,R]),M=V0(m,I),A=a.canvasToWorld([E,O]),B=V0(m,A);return[M,B]});f?this.updateClosedCachedStats({targetId:g,viewport:a,canvasCoordinates:h,points:c,imageData:m,metadata:p,cachedStats:l,modalityUnit:C,calibratedScale:x}):this.updateOpenCachedStats({metadata:p,canvasCoordinates:h,targetId:g,cachedStats:l,modalityUnit:C,calibratedScale:x})}return m0(r,o.viewport.element,ll.StatsUpdated),r.invalidated=!1,l},this._renderStats=(r,a,i,o)=>{const{data:s}=r,l=this.getTargetId(a),c={toolGroupId:this.toolGroupId,toolName:this.getToolName(),viewportId:i.viewport.id},f=this.getLinkedTextBoxStyle(c,r);if(!f.visibility)return;const u=this.configuration.getTextLines(s,l);if(!u||u.length===0)return;const d=s.contour.polyline.map(x=>a.worldToCanvas(x));if(!s.handles.textBox.hasMoved){const x=kNe(d);s.handles.textBox.worldPosition=a.canvasToWorld(x)}const g=a.worldToCanvas(s.handles.textBox.worldPosition),m=h_e(o,r.annotationUID??"","1",u,g,d,{},f),{x:p,y:h,width:y,height:C}=m;s.handles.textBox.worldBoundingBox={topLeft:a.canvasToWorld([p,h]),topRight:a.canvasToWorld([p+y,h]),bottomLeft:a.canvasToWorld([p,h+C]),bottomRight:a.canvasToWorld([p+y,h+C])}},j_e(this),J_e(this),cNe(this),TNe(this),ENe(this),VNe(this),this._throttledCalculateCachedStats=KLe(this._calculateCachedStats,100,{trailing:!0})}filterInteractableAnnotationsForElement(e,n){if(!n||!n.length)return;const r=yn(e),{viewport:a}=r;let i;if(a instanceof go){const o=a.getCamera(),{spacingInNormalDirection:s}=_p(a,o);i=this.filterAnnotationsWithinSlice(n,o,s)}else i=oK(a,n);return i}filterAnnotationsWithinSlice(e,n,r){const{viewPlaneNormal:a}=n,i=e.filter(c=>{const f=c.metadata.viewPlaneNormal,u=Math.abs(Ln(a,f))>AFe;return f&&u});if(!i.length)return[];const o=r/2,{focalPoint:s}=n,l=[];for(const c of i){const u=c.data.contour.polyline[0];if(!c.isVisible)continue;const d=Xt();Ca(d,s,u);const g=Ln(d,a);Math.abs(g)<o&&l.push(c)}return l}isContourSegmentationTool(){return!1}createAnnotation(e){const n=e.detail.currentPoints.world,r=super.createAnnotation(e),a=o=>{o.data.handles.points.length=0};return uo(r,{data:{contour:{polyline:[[...n]]},label:"",cachedStats:{}},onInterpolationComplete:a})}getAnnotationStyle(e){return super.getAnnotationStyle(e)}renderAnnotationInstance(e){const{enabledElement:n,targetId:r,svgDrawingHelper:a}=e,i=e.annotation;let o=!1;const{viewport:s,renderingEngine:l}=n,c=this.isDrawing,f=this.isEditingOpen,u=this.isEditingClosed;if(!(c||f||u))this.configuration.displayOnePointAsCrosshairs&&i.data.contour.polyline.length===1?this.renderPointContourWithMarker(n,a,i):this.renderContour(n,a,i);else{const d=this.commonData.annotation.annotationUID;if(i.annotationUID===d)if(c)this.renderContourBeingDrawn(n,a,i);else if(u)this.renderClosedContourBeingEdited(n,a,i);else if(f)this.renderOpenContourBeingEdited(n,a,i);else throw new Error(`Unknown ${this.getToolName()} annotation rendering state`);else this.configuration.displayOnePointAsCrosshairs&&i.data.contour.polyline.length===1?this.renderPointContourWithMarker(n,a,i):this.renderContour(n,a,i);o=!0}if(this.configuration.calculateStats)return this._calculateStatsIfActive(i,r,s,l,n),this._renderStats(i,s,n,a),o}_calculateStatsIfActive(e,n,r,a,i){var s,l,c;const o=(s=this.commonData)==null?void 0:s.annotation.annotationUID;if(!(e.annotationUID===o&&!((l=this.commonData)!=null&&l.movingTextBox))&&!((c=this.commonData)!=null&&c.movingTextBox)){const{data:f}=e;!f.cachedStats[n]||f.cachedStats[n].areaUnit==null?(f.cachedStats[n]={Modality:null,area:null,max:null,mean:null,stdDev:null,areaUnit:null},this._calculateCachedStats(e,r,a,i)):e.invalidated&&this._throttledCalculateCachedStats(e,r,a,i)}}updateClosedCachedStats({viewport:e,points:n,imageData:r,metadata:a,cachedStats:i,targetId:o,modalityUnit:s,canvasCoordinates:l,calibratedScale:c}){var te,se,pe;const{scale:f,areaUnit:u,unit:d}=c,{voxelManager:g}=e.getImageData(),v=l[0],m=e.canvasToWorld(v),p=e.canvasToWorld([v[0]+1,v[1]]),h=e.canvasToWorld([v[0],v[1]+1]),y=Bv(m,p),C=Bv(m,h),x=V0(r,n[0]);x[0]=Math.floor(x[0]),x[1]=Math.floor(x[1]),x[2]=Math.floor(x[2]);let T=x[0],w=x[0],b=x[1],E=x[1],O=x[2],D=x[2];for(let ve=1;ve<n.length;ve++){const Te=V0(r,n[ve]);Te[0]=Math.floor(Te[0]),Te[1]=Math.floor(Te[1]),Te[2]=Math.floor(Te[2]),T=Math.min(T,Te[0]),w=Math.max(w,Te[0]),b=Math.min(b,Te[1]),E=Math.max(E,Te[1]),O=Math.min(O,Te[2]),D=Math.max(D,Te[2])}const R=V0(r,n[1]);R[0]=Math.floor(R[0]),R[1]=Math.floor(R[1]),R[2]=Math.floor(R[2]);let I=Gb(l)/f/f;I*=y*C;const M=.01*(w-T),A=.01*(E-b),B=.01*(D-O);T=Math.floor(T-M),w=Math.ceil(w+M),b=Math.floor(b-A),E=Math.ceil(E+A),O=Math.floor(O-B),D=Math.ceil(D+B);const L=[[T,w],[b,E],[O,D]],F=r.indexToWorld([w,E,D]),_=e.worldToCanvas(F);let P=0,N=[],k=0;const H=g.forEach(this.configuration.statsCalculator.statsCallback,{imageData:r,isInObject:(ve,Te)=>{let _e=!0;const fe=e.worldToCanvas(ve);return fe[1]!=P&&(k=0,P=fe[1],N=aK(l,fe,[_[0],fe[1]]),N.sort(function(ce){return function(Ee,we){return Ee[ce]===we[ce]?0:Ee[ce]<we[ce]?-1:1}}(0))),N.length&&fe[0]>N[0][0]&&(N.shift(),k++),k%2===0&&(_e=!1),_e},boundsIJK:L,returnPoints:this.configuration.storePointData}),K=this.configuration.statsCalculator.getStatistics();i[o]={Modality:a.Modality,area:I,perimeter:GP(l,closed)/f,mean:(te=K.mean)==null?void 0:te.value,max:(se=K.max)==null?void 0:se.value,stdDev:(pe=K.stdDev)==null?void 0:pe.value,statsArray:K.array,pointsInShape:H,areaUnit:u,modalityUnit:s,unit:d}}updateOpenCachedStats({targetId:e,metadata:n,canvasCoordinates:r,cachedStats:a,modalityUnit:i,calibratedScale:o}){const{scale:s,unit:l}=o;a[e]={Modality:n.Modality,length:GP(r,!1)/s,modalityUnit:i,unit:l}}};tE.toolName="PlanarFreehandROI";let bx=tE;function MFe(t,e){const n=t.cachedStats[e],{area:r,mean:a,stdDev:i,length:o,perimeter:s,max:l,isEmptyArea:c,unit:f,areaUnit:u,modalityUnit:d}=n||{},g=[];if(r){const v=c?"Area: Oblique not supported":`Area: ${Xl(r)} ${u}`;g.push(v)}return a&&g.push(`Mean: ${Xl(a)} ${d}`),Number.isFinite(l)&&g.push(`Max: ${Xl(l)} ${d}`),i&&g.push(`Std Dev: ${Xl(i)} ${d}`),s&&g.push(`Perimeter: ${Xl(s)} ${f}`),o&&g.push(`${Xl(o)} ${f}`),g}const nE=class nE extends bx{constructor(e){const n=uo({configuration:{calculateStats:!1,allowOpenContours:!1}},e);super(n)}isContourSegmentationTool(){return!0}renderAnnotationInstance(e){const n=e.annotation,{invalidated:r}=n,a=super.renderAnnotationInstance(e);if(r){const{segmentationId:i}=n.data.segmentation;Oy(i)}return a}};nE.toolName="PlanarFreehandContourSegmentationTool";let F3=nE;const PFe={[Un.Labelmap]:wLe,[Un.Contour]:fLe,[Un.Surface]:FPe},Jh=F3.toolName;class LFe{constructor(){this._needsRender=new Set,this._animationFrameSet=!1,this._animationFrameHandle=null,this._getAllViewports=()=>p0().flatMap(n=>n.getViewports()),this._renderFlaggedSegmentations=()=>{this._throwIfDestroyed(),Array.from(this._needsRender).forEach(n=>{this._triggerRender(n)}),this._needsRender.clear(),this._animationFrameSet=!1,this._animationFrameHandle=null}}renderSegmentationsForViewport(e){const n=e?[e]:this._getViewportIdsForSegmentation();this._setViewportsToBeRenderedNextFrame(n)}renderSegmentation(e){const n=this._getViewportIdsForSegmentation(e);this._setViewportsToBeRenderedNextFrame(n)}_getViewportIdsForSegmentation(e){const n=this._getAllViewports(),r=[];for(const a of n){const i=a.id;if(e){const o=Qu(i,{segmentationId:e});(o==null?void 0:o.length)>0&&r.push(i)}else{const o=Qu(i);(o==null?void 0:o.length)>0&&r.push(i)}}return r}_throwIfDestroyed(){if(this.hasBeenDestroyed)throw new Error("this.destroy() has been manually called to free up memory, can not longer use this instance. Instead make a new one.")}_setViewportsToBeRenderedNextFrame(e){e.forEach(n=>{this._needsRender.add(n)}),this._render()}_render(){this._needsRender.size>0&&this._animationFrameSet===!1&&(this._animationFrameHandle=window.requestAnimationFrame(this._renderFlaggedSegmentations),this._animationFrameSet=!0)}_triggerRender(e){const n=Qu(e);if(!(n!=null&&n.length))return;const{viewport:r}=pi(e)||{};if(!r)return;const a=[],i=n.map(o=>{o.type===Un.Contour&&this._addPlanarFreeHandToolIfAbsent(r);const s=PFe[o.type];try{const l=s.render(r,o);a.push(l)}catch(l){console.error(l)}return Promise.resolve({segmentationId:o.segmentationId,type:o.type})});Promise.allSettled(i).then(o=>{const s=o.filter(f=>f.status==="fulfilled").map(f=>f.value);function l(f){const{element:u,viewportId:d}=f.detail;u.removeEventListener(It.IMAGE_RENDERED,l),s.forEach(g=>{const v={viewportId:d,segmentationId:g.segmentationId,type:g.type};_t(Vt,ot.SEGMENTATION_RENDERED,{...v})})}r.element.addEventListener(It.IMAGE_RENDERED,l),r.render()})}_addPlanarFreeHandToolIfAbsent(e){Jh in In.tools||Sm(F3);const n=Fi(e.id);n.hasTool(Jh)||(n.addTool(Jh),n.setToolPassive(Jh))}}function SK(t){CK.renderSegmentationsForViewport(t)}function yK(t){CK.renderSegmentation(t)}const CK=new LFe;function _Fe(t,e){return S0.updateLabelmapSegmentationImageReferences(t,e)}const NFe=function(t){const{segmentationId:e,modifiedSlicesToUse:n}=t.detail,{representationData:r}=Bo(e),a=hK(e),i=a.some(l=>{const{viewport:c}=pi(l);return c instanceof go}),o=a.some(l=>{const{viewport:c}=pi(l);return c instanceof rs}),s=i&&o;a.forEach(l=>{const{viewport:c}=pi(l);c instanceof go&&FFe({modifiedSlicesToUse:s?[]:n,representationData:r,type:Un.Labelmap}),c instanceof rs&&$Fe({viewportIds:a,segmentationId:e})})};function FFe({modifiedSlicesToUse:t,representationData:e,type:n}){const r=Yt.getVolume(e[n].volumeId);if(!r){console.warn("segmentation not found in cache");return}const{imageData:a,vtkOpenGLTexture:i}=r;let o;if((t==null?void 0:t.length)>0)o=t;else{const s=a.getDimensions()[2];o=[...Array(s).keys()]}o.forEach(s=>{i.setUpdatedFrame(s)}),a.modified()}function $Fe({viewportIds:t,segmentationId:e}){t.forEach(n=>{let r=Qu(n,{segmentationId:e});r=r.filter(a=>a.type===Un.Labelmap),r.forEach(a=>{if(a.segmentationId!==e)return;const i=pi(n);if(!i)return;const{viewport:o}=i;if(o instanceof go)return;const s=e1(n,e);if(!s)return;const l=s.actor.getMapper().getInputData(),c=Zv(n,e),f=Yt.getImage(c);l.modified(),gy(l,f)})})}const xK=function(t){const{segmentationId:e}=t.detail,{representationData:n}=Bo(e);n.Labelmap&&NFe(t),yK(e)},TK=function(t){const{segmentationId:e}=t.detail;yK(e)},VFe=function(t){if(!t)return;const e=yn(t);if(!e)return;const{viewport:n}=e;n instanceof fs||(t.addEventListener(It.STACK_NEW_IMAGE,ep),t.addEventListener(It.IMAGE_RENDERED,ep))},kFe=function(t){t.removeEventListener(It.STACK_NEW_IMAGE,ep),t.removeEventListener(It.IMAGE_RENDERED,ep)};function ep(t){const e=t.detail,{viewportId:n,renderingEngineId:r}=e,{viewport:a}=mg(n,r),i=Qu(n);if(!(i!=null&&i.length))return;const o=i.filter(c=>c.type===Un.Labelmap),s=a.getActors();o.forEach(c=>{const{segmentationId:f}=c;_Fe(n,f)});const l=o.map(c=>e1(n,c.segmentationId)).filter(c=>c!==void 0);l.length&&(l.forEach(c=>{o.find(u=>Zv(n,u.segmentationId)===c.referencedId)||a.removeActors([c.uid])}),o.forEach(c=>{const{segmentationId:f}=c,u=a.getCurrentImageId(),d=Zv(n,f);if(!d)return;const g=Yt.getImage(d);if(!g){console.warn("No derived image found in the cache for segmentation representation",c);return}const v=s.find(m=>m.referencedId===d);if(v){const m=v.actor.getMapper().getInputData();m.setDerivedImage?m.setDerivedImage(g):gy(m,g)}else{const{dimensions:m,spacing:p,direction:h}=a.getImageDataMetadata(g),y=Yt.getImage(u)||{imageId:u},{origin:C}=a.getImageDataMetadata(y),x=C,T=g.voxelManager.getConstructor(),w=g.voxelManager.getScalarData(),b=Bn.newInstance({name:"Pixels",numberOfComponents:1,values:new T(w)}),E=ny.newInstance();E.setDimensions(m[0],m[1],1),E.setSpacing(p),E.setDirection(h),E.setOrigin(x),E.getPointData().setScalars(b),E.modified(),a.addImages([{imageId:d,representationUID:`${f}-${Un.Labelmap}`,callback:({imageActor:O})=>{O.getMapper().setInputData(E)}}]),SK(n);return}a.render(),t.type===It.IMAGE_RENDERED&&a.element.removeEventListener(It.IMAGE_RENDERED,ep)}))}const wK={enable:VFe,disable:kFe};function UFe(t){const e=t.detail.annotation;$b(e)}function bK(t){const e=t.detail.annotation;Iy(e)&&aFe(t)}function $3(t){if(!t.detail.removed.length)return;p0().forEach(r=>{const i=r.getViewports().map(o=>o.id);Ji(i)})}function EK(t){const{viewportId:e}=t.detail;Ji([e])}function BFe(t){const e=t.detail.annotation;Iy(e)&&UFe(t)}const DK=function(t){kp(t.detail.element)},GFe=function(t){t.addEventListener(It.IMAGE_RENDERED,DK)},zFe=function(t){t.removeEventListener(It.IMAGE_RENDERED,DK)},OK={enable:GFe,disable:zFe},{Active:WFe}=Jr;function Sg(t,e,n){if(In.isInteractingWithTool)return!1;const{renderingEngineId:r,viewportId:a}=n.detail,i=Fi(a,r);if(!i)return!1;let o;const s=Object.keys(i.toolOptions);for(let l=0;l<s.length;l++){const c=s[l],f=i.toolOptions[c],u=i.getToolInstance(c);if(f.mode===WFe&&typeof u[e]=="function"){o=i.getToolInstance(c);break}}o&&o[e](n)}const RK=Sg.bind(null,"Mouse","mouseClickCallback"),IK=Sg.bind(null,"Mouse","doubleClickCallback");function AK(t,e,n,r="mouse"){const a=r==="touch"?36:6,i=[];return e.forEach(({tool:o,annotations:s})=>{for(const l of s){if(l.isLocked||!l.isVisible)continue;const c=o.getHandleNearImagePoint(t,l,n,a);if(c){i.push({tool:o,annotation:l,handle:c});break}}}),i}function $y(t,e){const n=[];for(let r=0;r<e.length;r++){const a=e[r];if(!a){console.warn("undefined tool in filterToolsWithAnnotationsForElement");continue}let i=Qv(a.constructor.toolName,t);i!=null&&i.length&&(typeof a.filterInteractableAnnotationsForElement=="function"&&(i=a.filterInteractableAnnotationsForElement(t,i)),(i==null?void 0:i.length)>0&&n.push({tool:a,annotations:i}))}return n}function Xb(t,e,n,r="mouse"){const a=r==="touch"?36:6,i=[];return e.forEach(({tool:o,annotations:s})=>{for(const l of s){if(l.isLocked||!l.isVisible)continue;if(o.isPointNearTool(t,l,n,a,r)){i.push({tool:o,annotation:l});break}}}),i}const{Active:jFe}=Jr;function Vy(t){const{renderingEngineId:e,viewportId:n,event:r}=t.detail,a=_y(r)||hg.getModifierKey(),i=Fi(n,e);if(!i)return null;const o=Object.keys(i.toolOptions),s=i.getDefaultMousePrimary(),l=t.detail.buttons??(r==null?void 0:r.buttons)??s;for(let c=0;c<o.length;c++){const f=o[c],u=i.toolOptions[f],d=u.bindings.length&&u.bindings.some(g=>g.mouseButton===l&&g.modifierKey===a);if(u.mode===jFe&&d)return i.getToolInstance(f)}}function W1(t,e,n){const{renderingEngineId:r,viewportId:a}=t.detail,i=Fi(a,r);if(!i)return[];const o=[],s=Object.keys(i.toolOptions);for(let l=0;l<s.length;l++){const c=s[l],f=i.toolOptions[c],u=n!=null&&f.bindings.length&&f.bindings.some(d=>d.mouseButton===n);if(e.includes(f.mode)&&(!n||u)){const d=i.getToolInstance(c);o.push(d)}}return o}function HFe(t,e){var u;const n=new Map,{renderingEngineId:r,viewportId:a}=t.detail,i=Fi(a,r);if(!i)return n;const o=Object.keys(i.toolOptions),s=i.getDefaultMousePrimary(),l=t.detail.event,c=(l==null?void 0:l.buttons)??s,f=_y(l)||hg.getModifierKey();for(let d=0;d<o.length;d++){const g=o[d],v=i.getToolInstance(g),m=((u=v.configuration)==null?void 0:u.actions)??{},p=Object.values(m);if(!(p!=null&&p.length)||!e.includes(v.mode))continue;const h=p.find(y=>{var C;return((C=y.bindings)==null?void 0:C.length)&&y.bindings.some(x=>x.mouseButton===c&&x.modifierKey===f)});h&&n.set(v,h)}return n}const{Active:qFe,Passive:KFe}=Jr;function QFe(t){if(In.isInteractingWithTool)return!1;const e=t.detail,{element:n}=e,r=yn(n),{canvas:a}=e.currentPoints;if(!r)return!1;const i=HFe(t,[qFe,KFe]),o=Array.from(i.keys()),s=$y(n,o),l=Xb(n,s,a);if(l.length>0){const{tool:c,annotation:f}=l[0],u=i.get(c);return(typeof u.method=="string"?c[u.method]:u.method).call(c,t,f),!0}return!1}const{Active:XFe,Passive:YFe}=Jr;function MK(t){if(In.isInteractingWithTool)return;const e=Vy(t);if(e&&typeof e.preMouseDownCallback=="function"&&e.preMouseDownCallback(t))return;const n=t.detail.event.buttons===1,r=W1(t,[XFe],t.detail.event.buttons),a=n?W1(t,[YFe]):void 0,i=[...r||[],...a||[]];if(QFe(t))return;const s=t.detail,{element:l}=s,c=$y(l,i),f=s.currentPoints.canvas,u=AK(l,c,f,"mouse"),d=!!t.detail.event.shiftKey;if(u.length>0){const{tool:v,annotation:m,handle:p}=nL(u);rL(m.annotationUID,d),v.handleSelectedCallback(t,m,p,"Mouse");return}const g=Xb(l,c,f,"mouse");if(g.length>0){const{tool:v,annotation:m}=nL(g);rL(m.annotationUID,d),v.toolSelectedCallback(t,m,"Mouse",f);return}e&&typeof e.postMouseDownCallback=="function"&&e.postMouseDownCallback(t)}function nL(t){if(t.length>1){const e=t.find(n=>{const r=!U1(n.annotation.annotationUID),a=_3(n.annotation.annotationUID);return r&&a});if(e)return e}return t[0]}function rL(t,e=!1){e?Ay(t)?o0(t,!1):o0(t,!0,!0):o0(t,!0,!1)}function PK(t){if(In.isInteractingWithTool)return;const e=Vy(t);if(e&&e.addNewAnnotation){const n=e.addNewAnnotation(t,"mouse");o0(n.annotationUID)}}function LK(t){if(In.isInteractingWithTool)return;const e=Vy(t);!e||typeof e.mouseDragCallback!="function"||e.mouseDragCallback(t)}const{Active:ZFe,Passive:JFe}=Jr;function _K(t){if(In.isInteractingWithTool||In.isMultiPartToolActive)return;const e=W1(t,[ZFe,JFe]),n=t.detail,{element:r}=n,a=$y(r,e),i=e.filter(s=>!a.some(c=>c.tool.getToolName()===s.getToolName()));let o=!1;for(const{tool:s,annotations:l}of a)typeof s.mouseMoveCallback=="function"&&(o=s.mouseMoveCallback(t,l)||o);i.forEach(s=>{typeof s.mouseMoveCallback=="function"&&s.mouseMoveCallback(t)}),o===!0&&kp(r)}const NK=Sg.bind(null,"Mouse","mouseUpCallback");function FK(t){if(In.isInteractingWithTool)return;t.detail.buttons=Ds.Wheel|(t.detail.event.buttons||0);const e=Vy(t);if(e)return e.mouseWheelCallback(t)}const e$e=function(t){t.addEventListener(ot.MOUSE_CLICK,RK),t.addEventListener(ot.MOUSE_DOWN,MK),t.addEventListener(ot.MOUSE_DOWN_ACTIVATE,PK),t.addEventListener(ot.MOUSE_DOUBLE_CLICK,IK),t.addEventListener(ot.MOUSE_DRAG,LK),t.addEventListener(ot.MOUSE_MOVE,_K),t.addEventListener(ot.MOUSE_UP,NK),t.addEventListener(ot.MOUSE_WHEEL,FK)},t$e=function(t){t.removeEventListener(ot.MOUSE_CLICK,RK),t.removeEventListener(ot.MOUSE_DOWN,MK),t.removeEventListener(ot.MOUSE_DOWN_ACTIVATE,PK),t.removeEventListener(ot.MOUSE_DOUBLE_CLICK,IK),t.removeEventListener(ot.MOUSE_DRAG,LK),t.removeEventListener(ot.MOUSE_MOVE,_K),t.removeEventListener(ot.MOUSE_UP,NK),t.removeEventListener(ot.MOUSE_WHEEL,FK)},$K={enable:e$e,disable:t$e},{Active:n$e}=Jr;function VK(t){const{renderingEngineId:e,viewportId:n}=t.detail,r=XMe(),a=hg.getModifierKey(),i=Fi(n,e);if(!i)return null;const o=Object.keys(i.toolOptions),s=i.getDefaultMousePrimary();for(let l=0;l<o.length;l++){const c=o[l],f=i.toolOptions[c];if(f.mode!==n$e)continue;if(f.bindings.length&&f.bindings.some(d=>d.mouseButton===(r??s)&&d.modifierKey===a))return i.getToolInstance(c)}}function r$e(t,e){var l;const n=new Map,{renderingEngineId:r,viewportId:a}=t.detail,i=Fi(a,r);if(!i)return n;const o=Object.keys(i.toolOptions),s=t.detail.key;for(let c=0;c<o.length;c++){const f=o[c],u=i.getToolInstance(f),d=(l=u.configuration)==null?void 0:l.actions;if(!d)continue;const g=Object.values(d);if(!(g!=null&&g.length)||!e.includes(u.mode))continue;const v=g.find(m=>{var p;return(p=m.bindings)==null?void 0:p.some(h=>h.key===s)});v&&n.set(u,v)}return n}function kK(t){const e=VK(t);if(e){const{renderingEngineId:r,viewportId:a}=t.detail,i=Fi(a,r),o=e.getToolName();Object.keys(i.toolOptions).includes(o)&&i.setViewportsCursorByToolName(o)}const n=r$e(t,[Jr.Active]);if(n!=null&&n.size){const{element:r}=t.detail;for(const[a,i]of[...n.entries()])(typeof i.method=="function"?i.method:a[i.method]).call(a,r,i,t)}}function UK(t){const e=VK(t);if(!e)return;const{renderingEngineId:n,viewportId:r}=t.detail,a=Fi(r,n);Fq();const i=e.getToolName();Object.keys(a.toolOptions).includes(i)&&a.setViewportsCursorByToolName(i)}const a$e=function(t){t.addEventListener(ot.KEY_DOWN,kK),t.addEventListener(ot.KEY_UP,UK)},i$e=function(t){t.removeEventListener(ot.KEY_DOWN,kK),t.removeEventListener(ot.KEY_UP,UK)},BK={enable:a$e,disable:i$e},{Active:o$e,Passive:s$e,Enabled:l$e}=Jr,GK=function(t){W1(t,[o$e,s$e,l$e]).forEach(n=>{n.onCameraModified&&n.onCameraModified(t)})},c$e=function(t){t.addEventListener(It.CAMERA_MODIFIED,GK)},u$e=function(t){t.removeEventListener(It.CAMERA_MODIFIED,GK)},zK={enable:c$e,disable:u$e},{Active:f$e,Passive:d$e,Enabled:g$e}=Jr,WK=function(t){W1(t,[f$e,d$e,g$e]).forEach(n=>{n.onImageSpacingCalibrated&&n.onImageSpacingCalibrated(t)})},m$e=function(t){t.addEventListener(It.IMAGE_SPACING_CALIBRATED,WK)},v$e=function(t){t.removeEventListener(It.IMAGE_SPACING_CALIBRATED,WK)},jK={enable:m$e,disable:v$e},{Active:p$e}=Jr;function Yb(t){const{renderingEngineId:e,viewportId:n}=t.detail,r=t.detail.event,a=Fi(n,e);if(!a)return null;const i=Object.keys(a.toolOptions),o=Object.keys(r.touches).length,s=_y(r)||hg.getModifierKey(),l=a.getDefaultMousePrimary();for(let c=0;c<i.length;c++){const f=i[c],u=a.toolOptions[f],d=u.bindings.length&&u.bindings.some(g=>(g.numTouchPoints===o||o===1&&g.mouseButton===l)&&g.modifierKey===s);if(u.mode===p$e&&d)return a.getToolInstance(f)}}function aL(t,e,n){const{renderingEngineId:r,viewportId:a}=t.detail,i=Fi(a,r);if(!i)return[];const o=[],s=Object.keys(i.toolOptions);for(let l=0;l<s.length;l++){const c=s[l],f=i.toolOptions[c],u=n!=null&&f.bindings.length&&f.bindings.some(d=>d.numTouchPoints===n);if(e.includes(f.mode)&&(!n||u)){const d=i.getToolInstance(c);o.push(d)}}return o}const{Active:h$e,Passive:S$e}=Jr;function HK(t){if(In.isInteractingWithTool)return;const e=Yb(t);if(e&&typeof e.preTouchStartCallback=="function"&&e.preTouchStartCallback(t))return;const n=Object.keys(t.detail.event.touches).length===1,r=aL(t,[h$e],Object.keys(t.detail.event.touches).length),a=n?aL(t,[S$e]):void 0,i=[...r||[],...a||[],e],o=t.detail,{element:s}=o,l=$y(s,i),c=o.currentPoints.canvas,f=AK(s,l,c,"touch"),u=!1;if(f.length>0){const{tool:g,annotation:v,handle:m}=iL(f);oL(v.annotationUID,u),g.handleSelectedCallback(t,v,m,"Touch");return}const d=Xb(s,l,c,"touch");if(d.length>0){const{tool:g,annotation:v}=iL(d);oL(v.annotationUID,u),g.toolSelectedCallback(t,v,"Touch");return}e&&typeof e.postTouchStartCallback=="function"&&e.postTouchStartCallback(t)}function iL(t){return t.length>1&&t.find(e=>!U1(e.annotation.annotationUID)&&_3(e.annotation.annotationUID))||t[0]}function oL(t,e=!1){e?Ay(t)?o0(t,!1):o0(t,!0,!0):o0(t,!0,!1)}function qK(t){if(In.isInteractingWithTool)return;const e=Yb(t);if(e&&e.addNewAnnotation){const n=e.addNewAnnotation(t,"touch");o0(n.annotationUID)}}function KK(t){if(In.isInteractingWithTool)return;const e=Yb(t);!e||typeof e.touchDragCallback!="function"||e.touchDragCallback(t)}const QK=Sg.bind(null,"Touch","touchEndCallback"),y$e=Sg.bind(null,"Touch","touchTapCallback"),XK=Sg.bind(null,"Touch","touchPressCallback"),C$e=function(t){t.addEventListener(ot.TOUCH_START,HK),t.addEventListener(ot.TOUCH_START_ACTIVATE,qK),t.addEventListener(ot.TOUCH_DRAG,KK),t.addEventListener(ot.TOUCH_END,QK),t.addEventListener(ot.TOUCH_TAP,y$e),t.addEventListener(ot.TOUCH_PRESS,XK)},x$e=function(t){t.removeEventListener(ot.TOUCH_START,HK),t.removeEventListener(ot.TOUCH_START_ACTIVATE,qK),t.removeEventListener(ot.TOUCH_DRAG,KK),t.removeEventListener(ot.TOUCH_END,QK),t.removeEventListener(ot.TOUCH_PRESS,XK)},YK={enable:C$e,disable:x$e},T$e=function(){Vt.addEventListener(ot.ANNOTATION_COMPLETED,el.handleAnnotationCompleted),Vt.addEventListener(ot.ANNOTATION_MODIFIED,el.handleAnnotationUpdate),Vt.addEventListener(ot.ANNOTATION_REMOVED,el.handleAnnotationDelete)},w$e=function(){Vt.removeEventListener(ot.ANNOTATION_COMPLETED,el.handleAnnotationCompleted),Vt.removeEventListener(ot.ANNOTATION_MODIFIED,el.handleAnnotationUpdate),Vt.removeEventListener(ot.ANNOTATION_REMOVED,el.handleAnnotationDelete)},ZK={enable:T$e,disable:w$e},{Active:b$e,Passive:E$e,Enabled:D$e}=Jr,JK=function(t){W1(t,[b$e,E$e,D$e]).forEach(n=>{n.onResetCamera&&n.onResetCamera(t)})},O$e=function(t){t.addEventListener(It.CAMERA_RESET,JK)},R$e=function(t){t.removeEventListener(It.CAMERA_RESET,JK)},eQ={enable:O$e,disable:R$e};function tQ(t){const{element:e,viewportId:n}=t.detail,r=I$e(n);A$e(e),M$e(r,e),Hb.addViewportElement(n,e),mq.enable(e),_q.enable(e),Mq.enable(e),hg.enable(e),wK.enable(e),OK.enable(e),zK.enable(e),jK.enable(e),eQ.enable(e),$K.enable(e),BK.enable(e),YK.enable(e),In.enabledElements.push(e)}function I$e(t){const e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg"),r=`svg-layer-${t}`;n.classList.add("svg-layer"),n.setAttribute("id",r),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.style.width="100%",n.style.height="100%",n.style.pointerEvents="none",n.style.position="absolute";const a=document.createElementNS(e,"defs"),i=document.createElementNS(e,"filter"),o=document.createElementNS(e,"feOffset"),s=document.createElementNS(e,"feColorMatrix"),l=document.createElementNS(e,"feBlend");return i.setAttribute("id",`shadow-${r}`),i.setAttribute("filterUnits","userSpaceOnUse"),o.setAttribute("result","offOut"),o.setAttribute("in","SourceGraphic"),o.setAttribute("dx","0.5"),o.setAttribute("dy","0.5"),s.setAttribute("result","matrixOut"),s.setAttribute("in","offOut"),s.setAttribute("in2","matrix"),s.setAttribute("values","0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0"),l.setAttribute("in","SourceGraphic"),l.setAttribute("in2","matrixOut"),l.setAttribute("mode","normal"),i.appendChild(o),i.appendChild(s),i.appendChild(l),a.appendChild(i),n.appendChild(a),n}function A$e(t){const{viewportUid:e,renderingEngineUid:n}=t.dataset,r=`${e}:${n}`;In.svgNodeCache[r]={}}function M$e(t,e){e.querySelector("div.viewport-element").appendChild(t)}function P$e(t,e){const n=[];if(!e&&!t)throw new Error("At least one of renderingEngineId or viewportId should be given");for(let r=0;r<In.synchronizers.length;r++){const a=In.synchronizers[r],i=!a.isDisabled(),o=a.hasSourceViewport(e,t),s=a.hasTargetViewport(e,t);i&&(o||s)&&n.push(a)}return n}const L$e="viewport-element";function nQ(t){const{element:e,viewportId:n}=t.detail;F$e(e),$$e(e),Hb.removeViewportElement(n,e),mq.disable(e),_q.disable(e),Mq.disable(e),hg.disable(e),wK.disable(e),OK.disable(e),zK.disable(e),jK.disable(e),eQ.disable(e),$K.disable(e),BK.disable(e),YK.disable(e),_$e(e),N$e(e),V$e(e)}const _$e=t=>{const e=yn(t);if(!e)return;P$e(e.viewportId,e.renderingEngineId).forEach(r=>{r.remove(e)})},N$e=t=>{const e=yn(t);if(!e)return;const{renderingEngineId:n,viewportId:r}=e,a=Fi(r,n);a&&a.removeViewports(n,r)};function F$e(t){const{viewportUid:e,renderingEngineUid:n}=t.dataset,r=`${e}:${n}`;delete In.svgNodeCache[r]}function $$e(t){const e=t.querySelector(`div.${L$e}`),n=e.querySelector("svg");n&&e.removeChild(n)}const V$e=function(t){const e=In.enabledElements.findIndex(n=>n===t);e>-1&&In.enabledElements.splice(e,1)},V3=function(t){const{viewportId:e}=t.detail;SK(e)};let sL=!1;function k$e(t={}){sL||(APe(t),U$e(),G$e(),sL=!0)}function U$e(){B$e();const t=It.ELEMENT_ENABLED,e=It.ELEMENT_DISABLED;Vt.addEventListener(t,tQ),Vt.addEventListener(e,nQ),ZK.enable()}function B$e(){const t=It.ELEMENT_ENABLED,e=It.ELEMENT_DISABLED;Vt.removeEventListener(t,tQ),Vt.removeEventListener(e,nQ),ZK.disable()}function G$e(){z$e(),Vt.addEventListener(ot.ANNOTATION_COMPLETED,bK),Vt.addEventListener(ot.ANNOTATION_MODIFIED,EK),Vt.addEventListener(ot.ANNOTATION_SELECTION_CHANGE,$3),Vt.addEventListener(ot.ANNOTATION_SELECTION_CHANGE,$3),Vt.addEventListener(ot.ANNOTATION_REMOVED,BFe),Vt.addEventListener(ot.SEGMENTATION_MODIFIED,TK),Vt.addEventListener(ot.SEGMENTATION_DATA_MODIFIED,xK),Vt.addEventListener(ot.SEGMENTATION_REPRESENTATION_MODIFIED,V3),Vt.addEventListener(ot.SEGMENTATION_REPRESENTATION_ADDED,V3)}function z$e(){Vt.removeEventListener(ot.ANNOTATION_COMPLETED,bK),Vt.removeEventListener(ot.ANNOTATION_MODIFIED,EK),Vt.removeEventListener(ot.ANNOTATION_SELECTION_CHANGE,$3),Vt.removeEventListener(ot.ANNOTATION_SELECTION_CHANGE,$3),Vt.removeEventListener(ot.SEGMENTATION_MODIFIED,TK),Vt.removeEventListener(ot.SEGMENTATION_DATA_MODIFIED,xK),Vt.removeEventListener(ot.SEGMENTATION_REPRESENTATION_MODIFIED,V3),Vt.removeEventListener(ot.SEGMENTATION_REPRESENTATION_ADDED,V3)}class od extends _c{constructor(e={},n={supportedInteractionTypes:["Mouse","Touch"]}){super(e,n)}touchDragCallback(e){this._dragCallback(e)}mouseDragCallback(e){this._dragCallback(e)}_dragCallback(e){const{element:n,deltaPoints:r}=e.detail,a=yn(n),i=r.world;if(i[0]===0&&i[1]===0&&i[2]===0)return;const o=a.viewport.getCamera(),{focalPoint:s,position:l}=o,c=[l[0]-i[0],l[1]-i[1],l[2]-i[2]],f=[s[0]-i[0],s[1]-i[1],s[2]-i[2]];a.viewport.setCamera({focalPoint:f,position:c}),a.viewport.render()}}od.toolName="Pan";const nC=4,W$e=1024,j$e="PT";class xu extends _c{constructor(e={},n={supportedInteractionTypes:["Mouse","Touch"]}){super(e,n),this._getImageDynamicRangeFromMiddleSlice=(r,a)=>{const i=Math.floor(a[2]/2),o=a[0]*a[1];let s,l;r instanceof Float32Array?(s=4,l=Float32Array):r instanceof Uint8Array?(s=1,l=Uint8Array):r instanceof Uint16Array?(s=2,l=Uint16Array):r instanceof Int16Array&&(s=2,l=Int16Array);const c=r.buffer,f=i*o*s,u=new l(c,f,o),{max:d,min:g}=this._getMinMax(u,o);return d-g}}touchDragCallback(e){this.mouseDragCallback(e)}mouseDragCallback(e){var v,m;const{element:n,deltaPoints:r}=e.detail,a=yn(n),{viewport:i}=a;let o,s,l,c,f,u,d=!1;const g=i.getProperties();if(i instanceof go){o=i.getVolumeId(),u=dy(o),{lower:s,upper:l}=g.voiRange;const p=Yt.getVolume(o);if(!p)throw new Error("Volume not found "+o);c=p.metadata.Modality,d=p.scaling&&Object.keys(p.scaling).length>0}else if(g.voiRange){c=i.modality,{lower:s,upper:l}=g.voiRange;const{preScale:p={scaled:!1}}=((v=i.getImageData)==null?void 0:v.call(i))||{};d=p.scaled&&((m=p.scalingParameters)==null?void 0:m.suvbw)!==void 0}else throw new Error("Viewport is not a valid type");if(c===j$e&&d?f=this.getPTScaledNewRange({deltaPointsCanvas:r.canvas,lower:s,upper:l,clientHeight:n.clientHeight,isPreScaled:d,viewport:i,volumeId:o}):f=this.getNewRange({viewport:i,deltaPointsCanvas:r.canvas,volumeId:o,lower:s,upper:l}),!(f.lower>=f.upper)&&(i.setProperties({voiRange:f}),i.render(),i instanceof go)){u.forEach(p=>{i!==p&&p.render()});return}}getPTScaledNewRange({deltaPointsCanvas:e,lower:n,upper:r,clientHeight:a,viewport:i,volumeId:o,isPreScaled:s}){let l=nC;s?l=5/a:l=this._getMultiplierFromDynamicRange(i,o)||nC;const f=e[1]*l;return r-=f,r=s?Math.max(r,.1):r,{lower:n,upper:r}}getNewRange({viewport:e,deltaPointsCanvas:n,volumeId:r,lower:a,upper:i}){const o=this._getMultiplierFromDynamicRange(e,r)||nC,s=n[0]*o,l=n[1]*o;let{windowWidth:c,windowCenter:f}=ly(a,i);c+=s,f+=l,c=Math.max(c,1);const u=e.getProperties().VOILUTFunction;return Kd(c,f,u)}_getMultiplierFromDynamicRange(e,n){var i;let r;if(n){const o=Yt.getVolume(n),{voxelManager:s}=e.getImageData(),c=s.getMiddleSliceData().reduce((d,g)=>[Math.min(d[0],g),Math.max(d[1],g)],[1/0,-1/0]),f=(i=o==null?void 0:o.metadata)==null?void 0:i.BitsStored,u=f?2**f:1/0;r=Math.min(c,u)}else r=this._getImageDynamicRangeFromViewport(e);const a=r/W$e;return a>1?Math.round(a):a}_getImageDynamicRangeFromViewport(e){const{imageData:n,voxelManager:r}=e.getImageData();if(r!=null&&r.getRange){const s=r.getRange();return s[1]-s[0]}const a=n.getDimensions();if(n.getRange){const s=n.getRange();return s[1]-s[0]}let i;if(n.getScalarData?i=n.getScalarData():i=n.getPointData().getScalars().getData(),a[2]!==1)return this._getImageDynamicRangeFromMiddleSlice(i,a);let o;if(i.getRange)o=i.getRange();else{const{min:s,max:l}=this._getMinMax(i,i.length);o=[s,l]}return o[1]-o[0]}_getMinMax(e,n){let r=1/0,a=-1/0;for(let i=0;i<n;i++){const o=e[i];o<r&&(r=o),o>a&&(a=o)}return{max:a,min:r}}}xu.toolName="WindowLevel";class Xm extends _c{constructor(e={},n={supportedInteractionTypes:["Mouse","Touch"],configuration:{invert:!1,debounceIfNotLoaded:!0,loop:!1}}){super(e,n),this.deltaY=1}mouseWheelCallback(e){this._scroll(e)}mouseDragCallback(e){this._dragCallback(e)}touchDragCallback(e){this._dragCallback(e)}_dragCallback(e){this._scrollDrag(e)}_scrollDrag(e){const{deltaPoints:n,viewportId:r,renderingEngineId:a}=e.detail,{viewport:i}=mg(r,a),{debounceIfNotLoaded:o,invert:s,loop:l}=this.configuration,c=n.canvas[1];let f;i instanceof go&&(f=i.getVolumeId());const u=this._getPixelPerImage(i),d=c+this.deltaY;if(u)if(Math.abs(d)>=u){const g=Math.round(d/u);O3(i,{delta:s?-g:g,volumeId:f,debounceLoading:o,loop:l}),this.deltaY=d%u}else this.deltaY=d}_scroll(e){const{wheel:n,element:r}=e.detail,{direction:a}=n,{invert:i}=this.configuration,{viewport:o}=yn(r),s=a*(i?-1:1);O3(o,{delta:s,debounceLoading:this.configuration.debounceIfNotLoaded,loop:this.configuration.loop,volumeId:o instanceof fs?o.getVolumeId():void 0,scrollSlabs:this.configuration.scrollSlabs})}_getPixelPerImage(e){const{element:n}=e,r=e.getNumberOfSlices();return Math.max(2,n.offsetHeight/Math.max(r,8))}}Xm.toolName="StackScroll";class sd extends _c{constructor(e={},n={supportedInteractionTypes:["Mouse","Touch"],configuration:{zoomToCenter:!1,minZoomScale:.001,maxZoomScale:3e3,pinchToZoom:!0,pan:!0,invert:!1}}){super(e,n),this.preMouseDownCallback=r=>{const a=r.detail,{element:i,currentPoints:o}=a,s=o.world,c=yn(i).viewport.getCamera(),{focalPoint:f}=c;this.initialMousePosWorld=s;let u=Yr(f[0]-s[0],f[1]-s[1],f[2]-s[2]);return u=Na(Xt(),u),this.dirVec=u,!1},this.preTouchStartCallback=r=>{if(!this.configuration.pinchToZoom)return this.preMouseDownCallback(r)},this._dragParallelProjection=(r,a,i,o=!1)=>{const{element:s,deltaPoints:l}=r.detail,c=o?r.detail.deltaDistance.canvas:l.canvas[1],f=[s.clientWidth,s.clientHeight],{parallelScale:u,focalPoint:d,position:g}=i,v=5/f[1],m=c*v*(this.configuration.invert?-1:1),p=(1-m)*u;let h=d,y=g;if(!this.configuration.zoomToCenter){const R=Bv(d,this.initialMousePosWorld);y=li(Xt(),g,this.dirVec,-R*m),h=li(Xt(),d,this.dirVec,-R*m)}const C=a.getImageData();let x=[1,1,1];C&&(x=C.spacing);const{minZoomScale:T,maxZoomScale:w}=this.configuration,b=s.clientHeight*x[1]*.5,E=b/p;let O=p,D=!1;C&&(E<T?(O=b/T,D=!0):E>=w&&(O=b/w,D=!0)),a.setCamera({parallelScale:O,focalPoint:D?d:h,position:D?g:y})},this._dragPerspectiveProjection=(r,a,i,o=!1)=>{const{element:s,deltaPoints:l}=r.detail,c=o?r.detail.deltaDistance.canvas:l.canvas[1],f=[s.clientWidth,s.clientHeight],{position:u,focalPoint:d,viewPlaneNormal:g}=i,v=Jo.distance2BetweenPoints(u,d),m=Math.sqrt(v)/f[1],p=[-g[0],-g[1],-g[2]],h=this.configuration.invert?c/m:c*m;let y=h*p[0];u[0]+=y,d[0]+=y,y=h*p[1],u[1]+=y,d[1]+=y,y=h*p[2],u[2]+=y,d[2]+=y,a.setCamera({position:u,focalPoint:d})},this.initialMousePosWorld=[0,0,0],this.dirVec=[0,0,0],this.configuration.pinchToZoom?this.touchDragCallback=this._pinchCallback.bind(this):this.touchDragCallback=this._dragCallback.bind(this),this.mouseDragCallback=this._dragCallback.bind(this)}_pinchCallback(e){if(e.detail.currentPointsList.length>1){const{element:r,currentPoints:a}=e.detail,i=yn(r),{viewport:o}=i,s=o.getCamera(),l=a.world,{focalPoint:c}=s;this.initialMousePosWorld=l;let f=Yr(c[0]-l[0],c[1]-l[1],c[2]-l[2]);f=Na(Xt(),f),this.dirVec=f,s.parallelProjection?this._dragParallelProjection(e,o,s,!0):this._dragPerspectiveProjection(e,o,s,!0),o.render()}this.configuration.pan&&this._panCallback(e)}_dragCallback(e){const{element:n}=e.detail,r=yn(n),{viewport:a}=r,i=a.getCamera();i.parallelProjection?this._dragParallelProjection(e,a,i):this._dragPerspectiveProjection(e,a,i),a.render()}_panCallback(e){const{element:n,deltaPoints:r}=e.detail,a=yn(n),i=r.world,o=a.viewport.getCamera(),{focalPoint:s,position:l}=o,c=[l[0]-i[0],l[1]-i[1],l[2]-i[2]],f=[s[0]-i[0],s[1]-i[1],s[2]-i[2]];a.viewport.setCamera({focalPoint:f,position:c}),a.viewport.render()}}sd.toolName="Zoom";console.log("xxxxx",Xm.name);const{ViewportType:H$e}=v0,q$e="myRenderingEngine",rC="CT_AXIAL_STACK";function K$e(){const[t,e]=S.useState(!1),[n,r]=S.useState(null),[a,i]=S.useState(!1),[o,s]=S.useState([]),[l,c]=S.useState(0),[f,u]=S.useState(24),[d,g]=S.useState(xu.toolName),[v,m]=S.useState(!1),[p,h]=S.useState(!1),y=S.useRef(null),C=S.useRef(null),x=S.useRef(null),T=S.useRef(null),w=S.useRef(null);S.useEffect(()=>{let N=!1;async function k(){if(!N){N=!0;try{if(console.log("开始初始化 Cornerstone"),v){console.log("Cornerstone 已经初始化，跳过");return}await b6e(),await rIe(),await k$e();const H=new eH(q$e);x.current=H;const K=C.current;if(!K)throw console.error("视图元素不存在"),new Error("视图元素不存在");const te={viewportId:rC,element:K,type:H$e.STACK};H.enableElement(te),T.current=H.getViewport(rC),m(!0),console.log("Cornerstone 初始化完成")}catch(H){console.error("Cornerstone 初始化失败:",H),m(!1)}finally{N=!1}}}return k(),()=>{x.current&&x.current.destroy(),console.log("Cornerstone cleanup")}},[]),S.useEffect(()=>{v&&o.length>0&&E(o)},[v,o]);const b=N=>{const H=OMe("myToolGroup");H&&(w.current=H,Sm(sd),Sm(od),Sm(xu),Sm(Xm),H.addTool(sd.toolName),H.addTool(od.toolName),H.addTool(xu.toolName),H.addTool(Xm.toolName),H.addViewport(N),H.setToolActive(xu.toolName,{bindings:[{mouseButton:Ds.Primary}]}),H.setToolActive(od.toolName,{bindings:[{mouseButton:Ds.Auxiliary}]}),H.setToolActive(Xm.toolName,{bindings:[{mouseButton:Ds.Wheel}]}),H.setToolActive(sd.toolName,{bindings:[{mouseButton:Ds.Secondary}]}))},E=async N=>{if(N&&T.current)try{console.log("开始加载图像:",N),await T.current.setStack(N),console.log("图像堆栈设置完成"),b(rC),T.current.render(),console.log("图像渲染完成")}catch(k){console.error("加载或显示图像时出错:",k)}else console.log("imageId 或 viewportRef.current 不存在")},O=()=>{i(!0)},D=()=>{i(!1)},R=async N=>{await rAe(N,s)&&(i(!1),c(0))},I=N=>{T.current.setImageIdIndex(N),c(N)},M=()=>{c(N=>(N+1)%o.length)},A=()=>{o.length>1&&(h(!0),y.current=setInterval(M,1e3/f))},B=()=>{h(!1),y.current&&(clearInterval(y.current),y.current=null)},L=N=>{u(N),p&&(B(),A())},F=N=>{const k=N.target.value;g(k),w.current?([xu.toolName,od.toolName,sd.toolName].forEach(H=>{w.current.setToolPassive(H)}),w.current.setToolActive(k,{bindings:[{mouseButton:Ds.Primary}]}),window.tools=w.current,console.log(`已切换到工具: ${k}`)):console.warn("工具组未初始化")},_=async()=>{if(o.length===0||l===-1){S.message.warning("请先上传 DICOM 文件");return}try{const N=o[l],k=await fetch(N.replace("wadouri:","")).then(se=>se.arrayBuffer()),H=new Uint8Array(k),K=EOe.parseDicom(H),te={};for(let se in K.elements){const pe=K.elements[se];te[se]={vr:pe.vr,value:K.string(se)}}r(te),e(!0)}catch(N){console.error("读取 DICOM tags 时出错:",N),S.message.error("读取 DICOM tags 失败")}},P=()=>{e(!1)};return S.useEffect(()=>()=>{y.current&&clearInterval(y.current)},[]),S.useEffect(()=>{o.length>0&&p&&T.current.setImageIdIndex(l)},[l]),kn.jsxs("div",{className:Yf.viewer,children:[kn.jsxs("div",{className:Yf.toolbar,children:[kn.jsx(ji,{onClick:O,children:"上传DICOM文件"}),kn.jsx(ji,{onClick:p?B:A,children:p?"停止":"播放"}),kn.jsx(yde,{min:1,max:100,value:f,onChange:L,style:{width:200},disabled:p}),kn.jsxs("span",{children:["帧率: ",f," fps"]}),kn.jsxs(B0.Group,{onChange:F,value:d,children:[kn.jsx(B0.Button,{value:xu.toolName,children:"窗宽窗位"}),kn.jsx(B0.Button,{value:od.toolName,children:"平移"}),kn.jsx(B0.Button,{value:sd.toolName,children:"缩放"})]}),kn.jsx(ji,{onClick:_,disabled:o.length===0,children:"显示 Tags"})]}),kn.jsxs("div",{className:Yf.content,children:[kn.jsx("div",{className:Yf.imageList,children:kn.jsx(f9,{size:"small",bordered:!0,dataSource:o,renderItem:(N,k)=>kn.jsxs(f9.Item,{onClick:()=>I(k),className:k===l?Yf.selectedImage:"",children:["图像 ",k+1]})})}),kn.jsx("div",{ref:C,className:Yf.viewerContainer})]}),kn.jsx(nAe,{open:a,onCancel:D,onUpload:R}),kn.jsx(us,{title:"DICOM Tags",open:t,onCancel:P,footer:null,width:800,children:kn.jsx(the,{tags:n})})]})}const Q$e="index-module__layout___h2WOU",X$e="index-module__header___0CJJD",Y$e="index-module__content___i-0kn",aC={layout:Q$e,header:X$e,content:Y$e},{Header:Z$e,Content:J$e}=Ef;function eVe(){return kn.jsxs(Ef,{className:aC.layout,children:[kn.jsx(Z$e,{className:aC.header,children:"DICOM阅片系统"}),kn.jsx(J$e,{className:aC.content,children:kn.jsx(UZ,{})})]})}function tVe(){const t=FN();return kn.jsxs("div",{children:[kn.jsx("h1",{children:"出错了！"}),kn.jsx("p",{children:"抱歉，发生了一个意外错误。"}),kn.jsx("p",{children:kn.jsx("i",{children:t.statusText||t.message})})]})}const nVe=WZ([{path:"/",element:kn.jsx(eVe,{}),errorElement:kn.jsx(tVe,{}),children:[{path:"/",element:kn.jsx(K$e,{})}]}],{basename:"/cursor-dicom-viewer"});function rVe(){return kn.jsx(JZ,{router:nVe})}TN(document.getElementById("root")).render(kn.jsx(S.StrictMode,{children:kn.jsx(rVe,{})}));
